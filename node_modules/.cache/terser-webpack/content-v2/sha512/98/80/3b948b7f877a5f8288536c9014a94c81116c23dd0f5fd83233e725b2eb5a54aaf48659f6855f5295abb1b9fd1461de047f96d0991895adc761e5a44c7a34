{"code":"(function(){var e,t,n,i,r,o,a,s,l,u,c,d,h,f,p,g,m,v,y,x,b,_,w,S,C,M,T,k,A,I,D,N,P,L,E,R,O,B,z,F,V,H,W,G,U,j,q,Z,Y=[].slice,X={}.hasOwnProperty,$=function(e,t){function n(){this.constructor=e}for(var i in t)X.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},K=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};for(b={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:\"body\",elements:{checkInterval:100,selectors:[\"body\"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:[\"GET\"],trackWebSockets:!0,ignoreURLs:[]}},A=function(){var e;return null!=(e=\"undefined\"!=typeof performance&&null!==performance&&\"function\"==typeof performance.now?performance.now():void 0)?e:+new Date},D=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,x=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==D&&(D=function(e){return setTimeout(e,50)},x=function(e){return clearTimeout(e)}),P=function(e){var t,n;return t=A(),(n=function(){var i;return(i=A()-t)>=33?(t=A(),e(i,function(){return D(n)})):setTimeout(n,33-i)})()},N=function(){var e,t,n;return n=arguments[0],t=arguments[1],e=3<=arguments.length?Y.call(arguments,2):[],\"function\"==typeof n[t]?n[t].apply(n,e):n[t]},_=function(){var e,t,n,i,r,o,a;for(t=arguments[0],o=0,a=(i=2<=arguments.length?Y.call(arguments,1):[]).length;a>o;o++)if(n=i[o])for(e in n)X.call(n,e)&&(r=n[e],null!=t[e]&&\"object\"==typeof t[e]&&null!=r&&\"object\"==typeof r?_(t[e],r):t[e]=r);return t},m=function(e){var t,n,i,r;for(n=t=0,i=0,r=e.length;r>i;i++)n+=Math.abs(e[i]),t++;return n/t},S=function(e,t){var n,i;if(null==e&&(e=\"options\"),null==t&&(t=!0),i=document.querySelector(\"[data-pace-\"+e+\"]\")){if(n=i.getAttribute(\"data-pace-\"+e),!t)return n;try{return JSON.parse(n)}catch(o){return\"undefined\"!=typeof console&&null!==console?console.error(\"Error parsing inline pace options\",o):void 0}}},a=function(){function e(){}return e.prototype.on=function(e,t,n,i){var r;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(r=this.bindings)[e]&&(r[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:i})},e.prototype.once=function(e,t,n){return this.on(e,t,n,!0)},e.prototype.off=function(e,t){var n,i,r;if(null!=(null!=(i=this.bindings)?i[e]:void 0)){if(null==t)return delete this.bindings[e];for(n=0,r=[];n<this.bindings[e].length;)r.push(this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):n++);return r}},e.prototype.trigger=function(){var e,t,n,i,r,o,a,s;if(n=arguments[0],e=2<=arguments.length?Y.call(arguments,1):[],null!=(o=this.bindings)?o[n]:void 0){for(i=0,s=[];i<this.bindings[n].length;)r=(a=this.bindings[n][i]).once,a.handler.apply(null!=(t=a.ctx)?t:this,e),s.push(r?this.bindings[n].splice(i,1):i++);return s}},e}(),u=window.Pace||{},window.Pace=u,_(u,a.prototype),I=u.options=_({},b,window.paceOptions,S()),W=0,U=(q=[\"ajax\",\"document\",\"eventLag\",\"elements\"]).length;U>W;W++)!0===I[O=q[W]]&&(I[O]=b[O]);l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $(t,e),t}(Error),t=function(){function e(){this.progress=0}return e.prototype.getElement=function(){var e;if(null==this.el){if(!(e=document.querySelector(I.target)))throw new l;this.el=document.createElement(\"div\"),this.el.className=\"pace pace-active\",document.body.className=document.body.className.replace(/pace-done/g,\"\"),document.body.className+=\" pace-running\",this.el.innerHTML='<div class=\"pace-progress\">\\n  <div class=\"pace-progress-inner\"></div>\\n</div>\\n<div class=\"pace-activity\"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},e.prototype.finish=function(){var e;return(e=this.getElement()).className=e.className.replace(\"pace-active\",\"\"),e.className+=\" pace-inactive\",document.body.className=document.body.className.replace(\"pace-running\",\"\"),document.body.className+=\" pace-done\"},e.prototype.update=function(e){return this.progress=e,this.render()},e.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){l=e}return this.el=void 0},e.prototype.render=function(){var e,t,n,i,r,o;if(null==document.querySelector(I.target))return!1;for(e=this.getElement(),n=\"translate3d(\"+this.progress+\"%, 0, 0)\",i=0,r=(o=[\"webkitTransform\",\"msTransform\",\"transform\"]).length;r>i;i++)e.children[0].style[o[i]]=n;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute(\"data-progress-text\",(0|this.progress)+\"%\"),this.progress>=100?t=\"99\":(t=this.progress<10?\"0\":\"\",t+=0|this.progress),e.children[0].setAttribute(\"data-progress\",\"\"+t)),this.lastRenderedProgress=this.progress},e.prototype.done=function(){return this.progress>=100},e}(),s=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var n,i,r,o;if(null!=this.bindings[e]){for(o=[],n=0,i=(r=this.bindings[e]).length;i>n;n++)o.push(r[n].call(this,t));return o}},e.prototype.on=function(e,t){var n;return null==(n=this.bindings)[e]&&(n[e]=[]),this.bindings[e].push(t)},e}(),H=window.XMLHttpRequest,V=window.XDomainRequest,F=window.WebSocket,w=function(e,t){var n,i;for(n in i=[],t.prototype)try{i.push(null==e[n]&&\"function\"!=typeof t[n]?\"function\"==typeof Object.defineProperty?Object.defineProperty(e,n,{get:function(){return t.prototype[n]},configurable:!0,enumerable:!0}):e[n]=t.prototype[n]:void 0)}catch(o){}return i},T=[],u.ignore=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?Y.call(arguments,1):[],T.unshift(\"ignore\"),n=t.apply(null,e),T.shift(),n},u.track=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?Y.call(arguments,1):[],T.unshift(\"track\"),n=t.apply(null,e),T.shift(),n},R=function(e){var t;if(null==e&&(e=\"GET\"),\"track\"===T[0])return\"force\";if(!T.length&&I.ajax){if(\"socket\"===e&&I.ajax.trackWebSockets)return!0;if(t=e.toUpperCase(),K.call(I.ajax.trackMethods,t)>=0)return!0}return!1},c=function(e){function t(){var e,n=this;t.__super__.constructor.apply(this,arguments),e=function(e){var t;return t=e.open,e.open=function(i,r,o){return R(i)&&n.trigger(\"request\",{type:i,url:r,request:e}),t.apply(e,arguments)}},window.XMLHttpRequest=function(t){var n;return n=new H(t),e(n),n};try{w(window.XMLHttpRequest,H)}catch(i){}if(null!=V){window.XDomainRequest=function(){var t;return t=new V,e(t),t};try{w(window.XDomainRequest,V)}catch(i){}}if(null!=F&&I.ajax.trackWebSockets){window.WebSocket=function(e,t){var i;return i=null!=t?new F(e,t):new F(e),R(\"socket\")&&n.trigger(\"request\",{type:\"socket\",url:e,protocols:t,request:i}),i};try{w(window.WebSocket,F)}catch(i){}}}return $(t,e),t}(s),G=null,E=function(e){var t,n,i,r;for(n=0,i=(r=I.ajax.ignoreURLs).length;i>n;n++)if(\"string\"==typeof(t=r[n])){if(-1!==e.indexOf(t))return!0}else if(t.test(e))return!0;return!1},(C=function(){return null==G&&(G=new c),G})().on(\"request\",function(t){var n,i,r,o;return o=t.type,r=t.request,E(t.url)||u.running||!1===I.restartOnRequestAfter&&\"force\"!==R(o)?void 0:(i=arguments,\"boolean\"==typeof(n=I.restartOnRequestAfter||0)&&(n=0),setTimeout(function(){var t,n,a,s,l;if(\"socket\"===o?r.readyState<2:0<(a=r.readyState)&&4>a){for(u.restart(),l=[],t=0,n=(s=u.sources).length;n>t;t++){if((O=s[t])instanceof e){O.watch.apply(O,i);break}l.push(void 0)}return l}},n))}),e=function(){function e(){var e=this;this.elements=[],C().on(\"request\",function(){return e.watch.apply(e,arguments)})}return e.prototype.watch=function(e){var t,n,i;return i=e.type,t=e.request,E(e.url)?void 0:(n=\"socket\"===i?new f(t):new p(t),this.elements.push(n))},e}(),p=function(e){var t,n,i,r,o=this;if(this.progress=0,null!=window.ProgressEvent)for(e.addEventListener(\"progress\",function(e){return o.progress=e.lengthComputable?100*e.loaded/e.total:o.progress+(100-o.progress)/2},!1),t=0,n=(r=[\"load\",\"abort\",\"timeout\",\"error\"]).length;n>t;t++)e.addEventListener(r[t],function(){return o.progress=100},!1);else i=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?o.progress=100:3===e.readyState&&(o.progress=50),\"function\"==typeof i?i.apply(null,arguments):void 0}},f=function(e){var t,n,i,r=this;for(this.progress=0,t=0,n=(i=[\"error\",\"open\"]).length;n>t;t++)e.addEventListener(i[t],function(){return r.progress=100},!1)},i=function(e){var t,n,i;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),t=0,n=(i=e.selectors).length;n>t;t++)this.elements.push(new r(i[t]))},r=function(){function e(e){this.selector=e,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return e.check()},I.elements.checkInterval)},e.prototype.done=function(){return this.progress=100},e}(),n=function(){function e(){var e,t,n=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),\"function\"==typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),o=function(){var e,t,n,i,r,o=this;this.progress=0,e=0,r=[],i=0,n=A(),t=setInterval(function(){var a;return a=A()-n-50,n=A(),r.push(a),r.length>I.eventLag.sampleCount&&r.shift(),e=m(r),++i>=I.eventLag.minSamples&&e<I.eventLag.lagThreshold?(o.progress=100,clearInterval(t)):o.progress=3/(e+3)*100},50)},h=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=I.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=N(this.source,\"progress\"))}return e.prototype.tick=function(e,t){var n;return null==t&&(t=N(this.source,\"progress\")),t>=100&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/I.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),n=1-Math.pow(this.progress/100,I.easeFactor),this.progress+=n*this.rate*e,this.progress=Math.min(this.lastProgress+I.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),B=null,L=null,v=null,z=null,g=null,y=null,u.running=!1,M=function(){return I.restartOnPushState?u.restart():void 0},null!=window.history.pushState&&(j=window.history.pushState,window.history.pushState=function(){return M(),j.apply(window.history,arguments)}),null!=window.history.replaceState&&(Z=window.history.replaceState,window.history.replaceState=function(){return M(),Z.apply(window.history,arguments)}),d={ajax:e,elements:i,document:n,eventLag:o},(k=function(){var e,n,i,r,o,a,s,l;for(u.sources=B=[],n=0,r=(a=[\"ajax\",\"elements\",\"document\",\"eventLag\"]).length;r>n;n++)!1!==I[e=a[n]]&&B.push(new d[e](I[e]));for(i=0,o=(l=null!=(s=I.extraSources)?s:[]).length;o>i;i++)B.push(new(O=l[i])(I));return u.bar=v=new t,L=[],z=new h})(),u.stop=function(){return u.trigger(\"stop\"),u.running=!1,v.destroy(),y=!0,null!=g&&(\"function\"==typeof x&&x(g),g=null),k()},u.restart=function(){return u.trigger(\"restart\"),u.stop(),u.start()},u.go=function(){var e;return u.running=!0,v.render(),e=A(),y=!1,g=P(function(t,n){var i,r,o,a,s,l,c,d,f,p,g,m,x;for(i=d=0,r=!0,a=f=0,g=B.length;g>f;a=++f)for(O=B[a],c=null!=L[a]?L[a]:L[a]=[],s=p=0,m=(o=null!=(x=O.elements)?x:[O]).length;m>p;s=++p)r&=(l=null!=c[s]?c[s]:c[s]=new h(o[s])).done,l.done||(i++,d+=l.tick(t));return v.update(z.tick(t,d/i)),v.done()||r||y?(v.update(100),u.trigger(\"done\"),setTimeout(function(){return v.finish(),u.running=!1,u.trigger(\"hide\")},Math.max(I.ghostTime,Math.max(I.minTime-(A()-e),0)))):n()})},u.start=function(e){_(I,e),u.running=!0;try{v.render()}catch(t){l=t}return document.querySelector(\".pace\")?(u.trigger(\"start\"),u.go()):setTimeout(u.start,50)},\"function\"==typeof define&&define.amd?define([\"pace\"],function(){return u}):\"object\"==typeof exports?module.exports=u:I.startOnPageLoad&&u.start()}).call(this),function(e,t){\"use strict\";function n(e,n,o){if(\"string\"!=typeof e)throw\"invalid module definition, module id must be defined and be a string\";if(n===t)throw\"invalid module definition, dependencies must be specified\";if(o===t)throw\"invalid module definition, definition function must be specified\";!function(e,t){for(var n,o=[],a=0;a<e.length;++a){if(!(n=r[e[a]]||i(e[a])))throw\"module definition dependecy not found: \"+e[a];o.push(n)}t.apply(null,o)}(n,function(){r[e]=o.apply(null,arguments)})}function i(t){for(var n=e,i=t.split(/[.\\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}var r={},o=\"tinymce/geom/Rect\",a=\"tinymce/util/Promise\",s=\"tinymce/util/Delay\",l=\"tinymce/Env\",u=\"tinymce/dom/EventUtils\",c=\"tinymce/dom/Sizzle\",d=\"tinymce/util/Arr\",h=\"tinymce/util/Tools\",f=\"tinymce/dom/DomQuery\",p=\"tinymce/html/Styles\",g=\"tinymce/dom/TreeWalker\",m=\"tinymce/dom/Range\",v=\"tinymce/html/Entities\",y=\"tinymce/dom/StyleSheetLoader\",x=\"tinymce/dom/DOMUtils\",b=\"tinymce/dom/ScriptLoader\",_=\"tinymce/AddOnManager\",w=\"tinymce/dom/NodeType\",S=\"tinymce/text/Zwsp\",C=\"tinymce/caret/CaretContainer\",M=\"tinymce/dom/RangeUtils\",T=\"tinymce/NodeChange\",k=\"tinymce/html/Node\",A=\"tinymce/html/Schema\",I=\"tinymce/html/SaxParser\",D=\"tinymce/html/DomParser\",N=\"tinymce/html/Writer\",P=\"tinymce/html/Serializer\",L=\"tinymce/dom/Serializer\",E=\"tinymce/dom/TridentSelection\",R=\"tinymce/util/VK\",O=\"tinymce/dom/ControlSelection\",B=\"tinymce/util/Fun\",z=\"tinymce/caret/CaretCandidate\",F=\"tinymce/geom/ClientRect\",V=\"tinymce/text/ExtendingChar\",H=\"tinymce/caret/CaretPosition\",W=\"tinymce/caret/CaretBookmark\",G=\"tinymce/dom/BookmarkManager\",U=\"tinymce/dom/Selection\",j=\"tinymce/dom/ElementUtils\",q=\"tinymce/fmt/Preview\",Z=\"tinymce/fmt/Hooks\",Y=\"tinymce/Formatter\",X=\"tinymce/undo/Diff\",$=\"tinymce/undo/Fragments\",K=\"tinymce/undo/Levels\",J=\"tinymce/UndoManager\",Q=\"tinymce/EnterKey\",ee=\"tinymce/ForceBlocks\",te=\"tinymce/caret/CaretUtils\",ne=\"tinymce/caret/CaretWalker\",ie=\"tinymce/InsertList\",re=\"tinymce/InsertContent\",oe=\"tinymce/EditorCommands\",ae=\"tinymce/util/URI\",se=\"tinymce/util/Class\",le=\"tinymce/util/EventDispatcher\",ue=\"tinymce/data/Binding\",ce=\"tinymce/util/Observable\",de=\"tinymce/data/ObservableObject\",he=\"tinymce/ui/Selector\",fe=\"tinymce/ui/Collection\",pe=\"tinymce/ui/DomUtils\",ge=\"tinymce/ui/BoxUtils\",me=\"tinymce/ui/ClassList\",ve=\"tinymce/ui/ReflowQueue\",ye=\"tinymce/ui/Control\",xe=\"tinymce/ui/Factory\",be=\"tinymce/ui/KeyboardNavigation\",_e=\"tinymce/ui/Container\",we=\"tinymce/ui/DragHelper\",Se=\"tinymce/ui/Scrollable\",Ce=\"tinymce/ui/Panel\",Me=\"tinymce/ui/Movable\",Te=\"tinymce/ui/Resizable\",ke=\"tinymce/ui/FloatPanel\",Ae=\"tinymce/ui/Window\",Ie=\"tinymce/ui/MessageBox\",De=\"tinymce/WindowManager\",Ne=\"tinymce/ui/Tooltip\",Pe=\"tinymce/ui/Widget\",Le=\"tinymce/ui/Progress\",Ee=\"tinymce/ui/Notification\",Re=\"tinymce/NotificationManager\",Oe=\"tinymce/dom/NodePath\",Be=\"tinymce/util/Quirks\",ze=\"tinymce/EditorObservable\",Fe=\"tinymce/Mode\",Ve=\"tinymce/Shortcuts\",He=\"tinymce/file/Uploader\",We=\"tinymce/file/Conversions\",Ge=\"tinymce/file/ImageScanner\",Ue=\"tinymce/file/BlobCache\",je=\"tinymce/file/UploadStatus\",qe=\"tinymce/ErrorReporter\",Ze=\"tinymce/EditorUpload\",Ye=\"tinymce/caret/FakeCaret\",Xe=\"tinymce/dom/Dimensions\",$e=\"tinymce/caret/LineWalker\",Ke=\"tinymce/caret/LineUtils\",Je=\"tinymce/dom/MousePosition\",Qe=\"tinymce/DragDropOverrides\",et=\"tinymce/SelectionOverrides\",tt=\"tinymce/util/Uuid\",nt=\"tinymce/ui/Sidebar\",it=\"tinymce/Editor\",rt=\"tinymce/util/I18n\",ot=\"tinymce/FocusManager\",at=\"tinymce/EditorManager\",st=\"tinymce/util/XHR\",lt=\"tinymce/util/JSON\",ut=\"tinymce/util/JSONRequest\",ct=\"tinymce/util/JSONP\",dt=\"tinymce/util/LocalStorage\",ht=\"tinymce/Compat\",ft=\"tinymce/ui/Layout\",pt=\"tinymce/ui/AbsoluteLayout\",gt=\"tinymce/ui/Button\",mt=\"tinymce/ui/ButtonGroup\",vt=\"tinymce/ui/Checkbox\",yt=\"tinymce/ui/ComboBox\",xt=\"tinymce/ui/ColorBox\",bt=\"tinymce/ui/PanelButton\",_t=\"tinymce/ui/ColorButton\",wt=\"tinymce/util/Color\",St=\"tinymce/ui/ColorPicker\",Ct=\"tinymce/ui/Path\",Mt=\"tinymce/ui/ElementPath\",Tt=\"tinymce/ui/FormItem\",kt=\"tinymce/ui/Form\",At=\"tinymce/ui/FieldSet\",It=\"tinymce/content/LinkTargets\",Dt=\"tinymce/ui/FilePicker\",Nt=\"tinymce/ui/FitLayout\",Pt=\"tinymce/ui/FlexLayout\",Lt=\"tinymce/ui/FlowLayout\",Et=\"tinymce/fmt/FontInfo\",Rt=\"tinymce/ui/FormatControls\",Ot=\"tinymce/ui/GridLayout\",Bt=\"tinymce/ui/Iframe\",zt=\"tinymce/ui/InfoBox\",Ft=\"tinymce/ui/Label\",Vt=\"tinymce/ui/Toolbar\",Ht=\"tinymce/ui/MenuBar\",Wt=\"tinymce/ui/MenuButton\",Gt=\"tinymce/ui/MenuItem\",Ut=\"tinymce/ui/Throbber\",jt=\"tinymce/ui/Menu\",qt=\"tinymce/ui/ListBox\",Zt=\"tinymce/ui/Radio\",Yt=\"tinymce/ui/ResizeHandle\",Xt=\"tinymce/ui/SelectBox\",$t=\"tinymce/ui/Slider\",Kt=\"tinymce/ui/Spacer\",Jt=\"tinymce/ui/SplitButton\",Qt=\"tinymce/ui/StackLayout\",en=\"tinymce/ui/TabPanel\",tn=\"tinymce/ui/TextBox\";n(o,[],function(){function e(e,n,i){var o,a,s,l,u,c;return o=n.x,a=n.y,s=e.w,l=e.h,u=n.w,c=n.h,\"b\"===(i=(i||\"\").split(\"\"))[0]&&(a+=c),\"r\"===i[1]&&(o+=u),\"c\"===i[0]&&(a+=r(c/2)),\"c\"===i[1]&&(o+=r(u/2)),\"b\"===i[3]&&(a-=l),\"r\"===i[4]&&(o-=s),\"c\"===i[3]&&(a-=r(l/2)),\"c\"===i[4]&&(o-=r(s/2)),t(o,a,s,l)}function t(e,t,n,i){return{x:e,y:t,w:n,h:i}}var n=Math.min,i=Math.max,r=Math.round;return{inflate:function(e,n,i){return t(e.x-n,e.y-i,e.w+2*n,e.h+2*i)},relativePosition:e,findBestRelativePosition:function(t,n,i,r){var o,a;for(a=0;a<r.length;a++)if((o=e(t,n,r[a])).x>=i.x&&o.x+o.w<=i.w+i.x&&o.y>=i.y&&o.y+o.h<=i.h+i.y)return r[a];return null},intersect:function(e,r){var o,a,s,l;return o=i(e.x,r.x),a=i(e.y,r.y),s=n(e.x+e.w,r.x+r.w),l=n(e.y+e.h,r.y+r.h),s-o<0||l-a<0?null:t(o,a,s-o,l-a)},clamp:function(e,n,r){var o,a,s,l,u,c,d,h,f,p;return c=e.y,d=e.x+e.w,h=e.y+e.h,f=n.x+n.w,p=n.y+n.h,o=i(0,n.x-(u=e.x)),a=i(0,n.y-c),s=i(0,d-f),l=i(0,h-p),u+=o,c+=a,r&&(d+=o,h+=a,u-=s,c-=l),t(u,c,(d-=s)-u,(h-=l)-c)},create:t,fromClientRect:function(e){return t(e.left,e.top,e.width,e.height)}}}),n(a,[],function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(t){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof t)throw new TypeError(\"not a function\");this._state=null,this._value=null,this._deferreds=[],s(t,e(i,this),e(r,this))}function n(e){var t=this;return null===this._state?void this._deferreds.push(e):void l(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(r){return void e.reject(r)}e.resolve(i)}else(t._state?e.resolve:e.reject)(t._value)})}function i(t){try{if(t===this)throw new TypeError(\"A promise cannot be resolved with itself.\");if(t&&(\"object\"==typeof t||\"function\"==typeof t)){var n=t.then;if(\"function\"==typeof n)return void s(e(n,t),e(i,this),e(r,this))}this._state=!0,this._value=t,o.call(this)}catch(a){r.call(this,a)}}function r(e){this._state=!1,this._value=e,o.call(this)}function o(){for(var e=0,t=this._deferreds.length;e<t;e++)n.call(this,this._deferreds[e]);this._deferreds=null}function a(e,t,n,i){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof t?t:null,this.resolve=n,this.reject=i}function s(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(r){if(i)return;i=!0,n(r)}}if(window.Promise)return window.Promise;var l=t.immediateFn||\"function\"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},u=Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)};return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.then=function(e,i){var r=this;return new t(function(t,o){n.call(r,new a(e,i,t,o))})},t.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&u(arguments[0])?arguments[0]:arguments);return new t(function(t,n){function i(o,a){try{if(a&&(\"object\"==typeof a||\"function\"==typeof a)){var s=a.then;if(\"function\"==typeof s)return void s.call(a,function(e){i(o,e)},n)}e[o]=a,0==--r&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var r=e.length,o=0;o<e.length;o++)i(o,e[o])})},t.resolve=function(e){return e&&\"object\"==typeof e&&e.constructor===t?e:new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)})},t}),n(s,[a],function(e){function t(e,t){return\"number\"!=typeof t&&(t=0),setTimeout(e,t)}function n(e,t){return\"number\"!=typeof t&&(t=1),setInterval(e,t)}function i(e,n){var i,r;return(r=function(){var r=arguments;clearTimeout(i),i=t(function(){e.apply(this,r)},n)}).stop=function(){clearTimeout(i)},r}var r;return{requestAnimationFrame:function(t,n){return r?void r.then(t):void(r=new e(function(e){n||(n=document.body),function(e,t){var n,i=window.requestAnimationFrame,r=[\"ms\",\"moz\",\"webkit\"];for(n=0;n<r.length&&!i;n++)i=window[r[n]+\"RequestAnimationFrame\"];i||(i=function(e){window.setTimeout(e,0)}),i(e,t)}(e,n)}).then(t))},setTimeout:t,setInterval:n,setEditorTimeout:function(e,n,i){return t(function(){e.removed||n()},i)},setEditorInterval:function(e,t,i){var r;return r=n(function(){e.removed?clearInterval(r):t()},i)},debounce:i,throttle:i,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}}}),n(l,[],function(){function e(e){return\"matchMedia\"in window&&matchMedia(e).matches}var t,n,i,r,o,a,s,l,u,c,d,h,f,p=navigator,g=p.userAgent;return t=window.opera&&window.opera.buildNumber,u=/Android/.test(g),i=(i=!(n=/WebKit/.test(g))&&!t&&/MSIE/gi.test(g)&&/Explorer/gi.test(p.appName))&&/MSIE (\\w+)\\./.exec(g)[1],r=-1!=g.indexOf(\"Trident/\")&&(-1!=g.indexOf(\"rv:\")||-1!=p.appName.indexOf(\"Netscape\"))&&11,o=-1!=g.indexOf(\"Edge/\")&&!i&&!r&&12,i=i||r||o,a=!n&&!r&&/Gecko/.test(g),s=-1!=g.indexOf(\"Mac\"),l=/(iPad|iPhone)/.test(g),c=\"FormData\"in window&&\"FileReader\"in window&&\"URL\"in window&&!!URL.createObjectURL,d=e(\"only screen and (max-device-width: 480px)\")&&(u||l),h=e(\"only screen and (min-width: 800px)\")&&(u||l),f=-1!=g.indexOf(\"Windows Phone\"),o&&(n=!1),{opera:t,webkit:n,ie:i,gecko:a,mac:s,iOS:l,android:u,contentEditable:!l||c||g.match(/AppleWebKit\\/(\\d*)/)[1]>=534,transparentSrc:\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",caretAfter:8!=i,range:window.getSelection&&\"Range\"in window,documentMode:i&&!o?document.documentMode||7:10,fileApi:c,ceFalse:!1===i||i>8,canHaveCSP:!1===i||i>11,desktop:!d&&!h,windowsPhone:f}}),n(u,[s,l],function(e,t){function n(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent(\"on\"+t,n)}function i(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent(\"on\"+t,n)}function r(e,n){function i(){return!1}function r(){return!0}var o,a,s=n||{};for(o in e)u[o]||(s[o]=e[o]);if(s.target||(s.target=s.srcElement||document),t.experimentalShadowDom&&(s.target=function(e,t){var n,i=t;return(n=e.path)&&n.length>0&&(i=n[0]),e.deepPath&&(n=e.deepPath())&&n.length>0&&(i=n[0]),i}(e,s.target)),e&&l.test(e.type)&&e.pageX===a&&e.clientX!==a){var c=s.target.ownerDocument||document,d=c.documentElement,h=c.body;s.pageX=e.clientX+(d&&d.scrollLeft||h&&h.scrollLeft||0)-(d&&d.clientLeft||h&&h.clientLeft||0),s.pageY=e.clientY+(d&&d.scrollTop||h&&h.scrollTop||0)-(d&&d.clientTop||h&&h.clientTop||0)}return s.preventDefault=function(){s.isDefaultPrevented=r,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},s.stopPropagation=function(){s.isPropagationStopped=r,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},s.stopImmediatePropagation=function(){s.isImmediatePropagationStopped=r,s.stopPropagation()},s.isDefaultPrevented||(s.isDefaultPrevented=i,s.isPropagationStopped=i,s.isImmediatePropagationStopped=i),void 0===s.metaKey&&(s.metaKey=!1),s}function o(t,r,o){function a(){o.domLoaded||(o.domLoaded=!0,r(l))}var s=t.document,l={type:\"ready\"};return o.domLoaded?void r(l):(s.addEventListener?\"complete\"===s.readyState?a():n(t,\"DOMContentLoaded\",a):(n(s,\"readystatechange\",function e(){(\"complete\"===s.readyState||\"interactive\"===s.readyState&&s.body)&&(i(s,\"readystatechange\",e),a())}),s.documentElement.doScroll&&t.self===t.top&&function n(){try{s.documentElement.doScroll(\"left\")}catch(t){return void e.setTimeout(n)}a()}()),void n(t,\"load\",a))}function a(){function e(e,t){var n,i,r,o,a=h[t];if(n=a&&a[e.type])for(i=0,r=n.length;i<r;i++)if((o=n[i])&&!1===o.func.call(o.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}var t,a,l,u,c,d=this,h={};a=s+(+new Date).toString(32),u=\"onmouseenter\"in document.documentElement,l=\"onfocusin\"in document.documentElement,c={mouseenter:\"mouseover\",mouseleave:\"mouseout\"},t=1,d.domLoaded=!1,d.events=h,d.bind=function(i,s,f,p){function g(t){e(r(t||S.event),m)}var m,v,y,x,b,_,w,S=window;if(i&&3!==i.nodeType&&8!==i.nodeType){for(i[a]?m=i[a]:(m=t++,i[a]=m,h[m]={}),p=p||i,y=(s=s.split(\" \")).length;y--;)_=g,b=w=!1,\"DOMContentLoaded\"===(x=s[y])&&(x=\"ready\"),d.domLoaded&&\"ready\"===x&&\"complete\"==i.readyState?f.call(p,r({type:x})):(u||(b=c[x])&&(_=function(t){var n,i;if(n=t.currentTarget,(i=t.relatedTarget)&&n.contains)i=n.contains(i);else for(;i&&i!==n;)i=i.parentNode;i||((t=r(t||S.event)).type=\"mouseout\"===t.type?\"mouseleave\":\"mouseenter\",t.target=n,e(t,m))}),l||\"focusin\"!==x&&\"focusout\"!==x||(w=!0,b=\"focusin\"===x?\"focus\":\"blur\",_=function(t){(t=r(t||S.event)).type=\"focus\"===t.type?\"focusin\":\"focusout\",e(t,m)}),(v=h[m][x])?\"ready\"===x&&d.domLoaded?f({type:x}):v.push({func:f,scope:p}):(h[m][x]=v=[{func:f,scope:p}],v.fakeName=b,v.capture=w,v.nativeHandler=_,\"ready\"===x?o(i,_,d):n(i,b||x,_,w)));return i=v=0,f}},d.unbind=function(e,t,n){var r,o,s,l,u,c;if(!e||3===e.nodeType||8===e.nodeType)return d;if(r=e[a]){if(c=h[r],t){for(s=(t=t.split(\" \")).length;s--;)if(o=c[u=t[s]]){if(n)for(l=o.length;l--;)if(o[l].func===n){var p=o.nativeHandler,g=o.fakeName,m=o.capture;(o=o.slice(0,l).concat(o.slice(l+1))).nativeHandler=p,o.fakeName=g,o.capture=m,c[u]=o}n&&0!==o.length||(delete c[u],i(e,o.fakeName||u,o.nativeHandler,o.capture))}}else{for(u in c)i(e,(o=c[u]).fakeName||u,o.nativeHandler,o.capture);c={}}for(u in c)return d;delete h[r];try{delete e[a]}catch(f){e[a]=null}}return d},d.fire=function(t,n,i){var o;if(!t||3===t.nodeType||8===t.nodeType)return d;(i=r(null,i)).type=n,i.target=t;do{(o=t[a])&&e(i,o),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!i.isPropagationStopped());return d},d.clean=function(e){var t,n,i=d.unbind;if(!e||3===e.nodeType||8===e.nodeType)return d;if(e[a]&&i(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(i(e),t=(n=e.getElementsByTagName(\"*\")).length;t--;)(e=n[t])[a]&&i(e);return d},d.destroy=function(){h={}},d.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var s=\"mce-data-\",l=/^(?:mouse|contextmenu)|click/,u={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return(a.Event=new a).bind(window,\"ready\",function(){}),a}),n(c,[],function(){function e(e,t,n,i){var r,o,a,s,l,u,d,f,p,g;if((t?t.ownerDocument||t:V)!==P&&N(t),n=n||[],!e||\"string\"!=typeof e)return n;if(1!==(s=(t=t||P).nodeType)&&9!==s)return[];if(E&&!i){if(r=ve.exec(e))if(a=r[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&z(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&_.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(a)),n}if(_.qsa&&(!R||!R.test(e))){if(f=d=F,p=t,g=9===s&&e,1===s&&\"object\"!==t.nodeName.toLowerCase()){for(u=M(e),(d=t.getAttribute(\"id\"))?f=d.replace(be,\"\\\\$&\"):t.setAttribute(\"id\",f),f=\"[id='\"+f+\"'] \",l=u.length;l--;)u[l]=f+h(u[l]);p=ye.test(e)&&c(t.parentNode)||t,g=u.join(\",\")}if(g)try{return Q.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{d||t.removeAttribute(\"id\")}}}return k(e.replace(se,\"$1\"),t,n,i)}function n(){var e=[];return function t(n,i){return e.push(n+\" \")>w.cacheLength&&delete t[e.shift()],t[n+\" \"]=i}}function i(e){return e[F]=!0,e}function r(e){var t=P.createElement(\"div\");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split(\"|\"),i=e.length;i--;)w.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return\"input\"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return(\"input\"===n||\"button\"===n)&&t.type===e}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&typeof e.getElementsByTagName!==Z&&e}function d(){}function h(e){for(var t=0,n=e.length,i=\"\";t<n;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&\"parentNode\"===i,o=W++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,u=[H,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if((s=(l=t[F]||(t[F]={}))[i])&&s[0]===H&&s[1]===o)return u[2]=s[2];if(l[i]=u,u[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function g(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function m(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),u&&t.push(s)));return a}function v(e,t,n,r,o,a){return r&&!r[F]&&(r=v(r)),o&&!o[F]&&(o=v(o,a)),i(function(i,a,s,l){var u,c,d,h=[],f=[],p=a.length,v=i||g(t||\"*\",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:m(v,h,e,s,l),x=n?o||(i?e:p||r)?[]:a:y;if(n&&n(y,x,s,l),r)for(u=m(x,f),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(x[f[c]]=!(y[f[c]]=d));if(i){if(o||e){if(o){for(u=[],c=x.length;c--;)(d=x[c])&&u.push(y[c]=d);o(null,x=[],u,l)}for(c=x.length;c--;)(d=x[c])&&(u=o?te.call(i,d):h[c])>-1&&(i[u]=!(a[u]=d))}}else x=m(x===a?x.splice(p,x.length):x),o?o(null,a,x,l):Q.apply(a,x)})}function y(e){for(var t,n,i,r=e.length,o=w.relative[e[0].type],a=o||w.relative[\" \"],s=o?1:0,l=f(function(e){return e===t},a,!0),u=f(function(e){return te.call(t,e)>-1},a,!0),c=[function(e,n,i){return!o&&(i||n!==A)||((t=n).nodeType?l(e,n,i):u(e,n,i))}];s<r;s++)if(n=w.relative[e[s].type])c=[f(p(c),n)];else{if((n=w.filter[e[s].type].apply(null,e[s].matches))[F]){for(i=++s;i<r&&!w.relative[e[i].type];i++);return v(s>1&&p(c),s>1&&h(e.slice(0,s-1).concat({value:\" \"===e[s-2].type?\"*\":\"\"})).replace(se,\"$1\"),n,s<i&&y(e.slice(s,i)),i<r&&y(e=e.slice(i)),i<r&&h(e))}c.push(n)}return p(c)}function x(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,l,u){var c,d,h,f=0,p=\"0\",g=i&&[],v=[],y=A,x=i||o&&w.find.TAG(\"*\",u),b=H+=null==y?1:Math.random()||.1,_=x.length;for(u&&(A=a!==P&&a);p!==_&&null!=(c=x[p]);p++){if(o&&c){for(d=0;h=t[d++];)if(h(c,a,s)){l.push(c);break}u&&(H=b)}r&&((c=!h&&c)&&f--,i&&g.push(c))}if(f+=p,r&&p!==f){for(d=0;h=n[d++];)h(g,v,a,s);if(i){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=K.call(l));v=m(v)}Q.apply(l,v),u&&!i&&v.length>0&&f+n.length>1&&e.uniqueSort(l)}return u&&(H=b,A=y),g};return r?i(a):a}var b,_,w,S,C,M,T,k,A,I,D,N,P,L,E,R,O,B,z,F=\"sizzle\"+-new Date,V=window.document,H=0,W=0,G=n(),U=n(),j=n(),q=function(e,t){return e===t&&(D=!0),0},Z=typeof t,Y=1<<31,X={}.hasOwnProperty,$=[],K=$.pop,J=$.push,Q=$.push,ee=$.slice,te=$.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},ne=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",ie=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",re=\"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",oe=\"\\\\[\"+ie+\"*(\"+re+\")(?:\"+ie+\"*([*^$|!~]?=)\"+ie+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+re+\"))|)\"+ie+\"*\\\\]\",ae=\":(\"+re+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+oe+\")*)|.*)\\\\)|)\",se=new RegExp(\"^\"+ie+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+ie+\"+$\",\"g\"),le=new RegExp(\"^\"+ie+\"*,\"+ie+\"*\"),ue=new RegExp(\"^\"+ie+\"*([>+~]|\"+ie+\")\"+ie+\"*\"),ce=new RegExp(\"=\"+ie+\"*([^\\\\]'\\\"]*?)\"+ie+\"*\\\\]\",\"g\"),de=new RegExp(ae),he=new RegExp(\"^\"+re+\"$\"),fe={ID:new RegExp(\"^#(\"+re+\")\"),CLASS:new RegExp(\"^\\\\.(\"+re+\")\"),TAG:new RegExp(\"^(\"+re+\"|[*])\"),ATTR:new RegExp(\"^\"+oe),PSEUDO:new RegExp(\"^\"+ae),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+ie+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+ie+\"*(?:([+-]|)\"+ie+\"*(\\\\d+)|))\"+ie+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+ne+\")$\",\"i\"),needsContext:new RegExp(\"^\"+ie+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+ie+\"*((?:-\\\\d)?\\\\d*)\"+ie+\"*\\\\)|)(?=[^-]|$)\",\"i\")},pe=/^(?:input|select|textarea|button)$/i,ge=/^h\\d$/i,me=/^[^{]+\\{\\s*\\[native \\w/,ve=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,ye=/[+~]/,be=/'|\\\\/g,_e=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+ie+\"?|(\"+ie+\")|.)\",\"ig\"),we=function(e,t,n){var i=\"0x\"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{Q.apply($=ee.call(V.childNodes),V.childNodes)}catch(xe){Q={apply:$.length?function(e,t){J.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}for(b in _=e.support={},C=e.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&\"HTML\"!==t.nodeName},N=e.setDocument=function(e){var n,i=e?e.ownerDocument||e:V,o=i.defaultView;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,L=i.documentElement,E=!C(i),o&&o!==function(e){try{return e.top}catch(t){}return null}(o)&&(o.addEventListener?o.addEventListener(\"unload\",function(){N()},!1):o.attachEvent&&o.attachEvent(\"onunload\",function(){N()})),_.attributes=r(function(e){return e.className=\"i\",!e.getAttribute(\"className\")}),_.getElementsByTagName=r(function(e){return e.appendChild(i.createComment(\"\")),!e.getElementsByTagName(\"*\").length}),_.getElementsByClassName=me.test(i.getElementsByClassName),_.getById=r(function(e){return L.appendChild(e).id=F,!i.getElementsByName||!i.getElementsByName(F).length}),_.getById?(w.find.ID=function(e,t){if(typeof t.getElementById!==Z&&E){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(_e,we);return function(e){return e.getAttribute(\"id\")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(_e,we);return function(e){var n=typeof e.getAttributeNode!==Z&&e.getAttributeNode(\"id\");return n&&n.value===t}}),w.find.TAG=_.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Z)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if(\"*\"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=_.getElementsByClassName&&function(e,t){if(E)return t.getElementsByClassName(e)},O=[],R=[],(_.qsa=me.test(i.querySelectorAll))&&(r(function(e){e.innerHTML=\"<select msallowcapture=''><option selected=''></option></select>\",e.querySelectorAll(\"[msallowcapture^='']\").length&&R.push(\"[*^$]=\"+ie+\"*(?:''|\\\"\\\")\"),e.querySelectorAll(\"[selected]\").length||R.push(\"\\\\[\"+ie+\"*(?:value|\"+ne+\")\"),e.querySelectorAll(\":checked\").length||R.push(\":checked\")}),r(function(e){var t=i.createElement(\"input\");t.setAttribute(\"type\",\"hidden\"),e.appendChild(t).setAttribute(\"name\",\"D\"),e.querySelectorAll(\"[name=d]\").length&&R.push(\"name\"+ie+\"*[*^$|!~]?=\"),e.querySelectorAll(\":enabled\").length||R.push(\":enabled\",\":disabled\"),e.querySelectorAll(\"*,:x\"),R.push(\",.*:\")})),(_.matchesSelector=me.test(B=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(e){_.disconnectedMatch=B.call(e,\"div\"),B.call(e,\"[s!='']:x\"),O.push(\"!=\",ae)}),R=R.length&&new RegExp(R.join(\"|\")),O=O.length&&new RegExp(O.join(\"|\")),n=me.test(L.compareDocumentPosition),z=n||me.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=n?function(e,t){if(e===t)return D=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===V&&z(V,e)?-1:t===i||t.ownerDocument===V&&z(V,t)?1:I?te.call(I,e)-te.call(I,t):0:4&n?-1:1)}:function(e,t){if(e===t)return D=!0,0;var n,r=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===i?-1:t===i?1:o?-1:s?1:I?te.call(I,e)-te.call(I,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?a(l[r],u[r]):l[r]===V?-1:u[r]===V?1:0},i):P},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==P&&N(t),n=n.replace(ce,\"='$1']\"),_.matchesSelector&&E&&(!O||!O.test(n))&&(!R||!R.test(n)))try{var i=B.call(t,n);if(i||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,P,null,[t]).length>0},e.contains=function(e,t){return(e.ownerDocument||e)!==P&&N(e),z(e,t)},e.attr=function(e,n){(e.ownerDocument||e)!==P&&N(e);var i=w.attrHandle[n.toLowerCase()],r=i&&X.call(w.attrHandle,n.toLowerCase())?i(e,n,!E):t;return r!==t?r:_.attributes||!E?e.getAttribute(n):(r=e.getAttributeNode(n))&&r.specified?r.value:null},e.error=function(e){throw new Error(\"Syntax error, unrecognized expression: \"+e)},e.uniqueSort=function(e){var t,n=[],i=0,r=0;if(D=!_.detectDuplicates,I=!_.sortStable&&e.slice(0),e.sort(q),D){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return I=null,e},S=e.getText=function(e){var t,n=\"\",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if(\"string\"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=S(t);return n},(w=e.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,we),e[3]=(e[3]||e[4]||e[5]||\"\").replace(_e,we),\"~=\"===e[2]&&(e[3]=\" \"+e[3]+\" \"),e.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),\"nth\"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*(\"even\"===t[3]||\"odd\"===t[3])),t[5]=+(t[7]+t[8]||\"odd\"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||\"\":n&&de.test(n)&&(t=M(n,!0))&&(t=n.indexOf(\")\",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,we).toLowerCase();return\"*\"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=G[e+\" \"];return t||(t=new RegExp(\"(^|\"+ie+\")\"+e+\"(\"+ie+\"|$)\"))&&G(e,function(e){return t.test(\"string\"==typeof e.className&&e.className||typeof e.getAttribute!==Z&&e.getAttribute(\"class\")||\"\")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?\"!=\"===n:!n||(o+=\"\",\"=\"===n?o===i:\"!=\"===n?o!==i:\"^=\"===n?i&&0===o.indexOf(i):\"*=\"===n?i&&o.indexOf(i)>-1:\"$=\"===n?i&&o.slice(-i.length)===i:\"~=\"===n?(\" \"+o+\" \").indexOf(i)>-1:\"|=\"===n&&(o===i||o.slice(0,i.length+1)===i+\"-\"))}},CHILD:function(e,t,n,i,r){var o=\"nth\"!==e.slice(0,3),a=\"last\"!==e.slice(-4),s=\"of-type\"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,h,f,p,g=o!==a?\"nextSibling\":\"previousSibling\",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g=\"only\"===e&&!p&&\"nextSibling\"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(h=(u=(c=m[F]||(m[F]={}))[e]||[])[0]===H&&u[2],d=(f=u[0]===H&&u[1])&&m.childNodes[f];d=++f&&d&&d[g]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===t){c[e]=[H,f,h];break}}else if(y&&(u=(t[F]||(t[F]={}))[e])&&u[0]===H)h=u[1];else for(;(d=++f&&d&&d[g]||(h=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[F]||(d[F]={}))[e]=[H,h]),d!==t)););return(h-=r)===i||h%i==0&&h/i>=0}}},PSEUDO:function(t,n){var r,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error(\"unsupported pseudo: \"+t);return o[F]?o(n):o.length>1?(r=[t,t,\"\",n],w.setFilters.hasOwnProperty(t.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)e[i=te.call(e,r[a])]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=T(e.replace(se,\"$1\"));return r[F]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(e){return e=e.replace(_e,we),function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:i(function(t){return he.test(t||\"\")||e.error(\"unsupported lang: \"+t),t=t.replace(_e,we).toLowerCase(),function(e){var n;do{if(n=E?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(n=n.toLowerCase())===t||0===n.indexOf(t+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===L},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&!!e.checked||\"option\"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&\"button\"===e.type||\"button\"===t},text:function(e){var t;return\"input\"===e.nodeName.toLowerCase()&&\"text\"===e.type&&(null==(t=e.getAttribute(\"type\"))||\"text\"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=l(b);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,M=e.tokenize=function(t,n){var i,r,o,a,s,l,u,c=U[t+\" \"];if(c)return n?0:c.slice(0);for(s=t,l=[],u=w.preFilter;s;){for(a in i&&!(r=le.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ue.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(se,\" \")}),s=s.slice(i.length)),w.filter)!(r=fe[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):U(t,l).slice(0)},T=e.compile=function(e,t){var n,i=[],r=[],o=j[e+\" \"];if(!o){for(t||(t=M(e)),n=t.length;n--;)(o=y(t[n]))[F]?i.push(o):r.push(o);(o=j(e,x(r,i))).selector=e}return o},k=e.select=function(e,t,n,i){var r,o,a,s,l,u=\"function\"==typeof e&&e,d=!i&&M(e=u.selector||e);if(n=n||[],1===d.length){if((o=d[0]=d[0].slice(0)).length>2&&\"ID\"===(a=o[0]).type&&_.getById&&9===t.nodeType&&E&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(_e,we),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=fe.needsContext.test(e)?0:o.length;r--&&!w.relative[s=(a=o[r]).type];)if((l=w.find[s])&&(i=l(a.matches[0].replace(_e,we),ye.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&h(o)))return Q.apply(n,i),n;break}}return(u||T(e,d))(i,t,!E,n,ye.test(e)&&c(t.parentNode)||t),n},_.sortStable=F.split(\"\").sort(q).join(\"\")===F,_.detectDuplicates=!!D,N(),_.sortDetached=r(function(e){return 1&e.compareDocumentPosition(P.createElement(\"div\"))}),r(function(e){return e.innerHTML=\"<a href='#'></a>\",\"#\"===e.firstChild.getAttribute(\"href\")})||o(\"type|href|height|width\",function(e,t,n){if(!n)return e.getAttribute(t,\"type\"===t.toLowerCase()?1:2)}),_.attributes&&r(function(e){return e.innerHTML=\"<input/>\",e.firstChild.setAttribute(\"value\",\"\"),\"\"===e.firstChild.getAttribute(\"value\")})||o(\"value\",function(e,t,n){if(!n&&\"input\"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute(\"disabled\")})||o(ne,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),e}),n(d,[],function(){function e(e,n,i){var r,o;if(!e)return 0;if(i=i||e,e.length!==t){for(r=0,o=e.length;r<o;r++)if(!1===n.call(i,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===n.call(i,e[r],r,e))return 0;return 1}function n(e,t,n){var i,r;for(i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return i;return-1}var i=Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)};return{isArray:i,toArray:function(e){var t,n,r=e;if(!i(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},each:e,map:function(t,n){var i=[];return e(t,function(e,r){i.push(n(e,r,t))}),i},filter:function(t,n){var i=[];return e(t,function(e,r){n&&!n(e,r,t)||i.push(e)}),i},indexOf:function(e,t){var n,i;if(e)for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},reduce:function(e,t,n,i){var r=0;for(arguments.length<3&&(n=e[0]);r<e.length;r++)n=t.call(i,n,e[r],r);return n},findIndex:n,find:function(e,i,r){var o=n(e,i,r);return-1!==o?e[o]:t},last:function(e){return e[e.length-1]}}}),n(h,[l,d],function(e,n){function i(e){return null===e||e===t?\"\":(\"\"+e).replace(o,\"\")}function r(e,i){return i?!(\"array\"!=i||!n.isArray(e))||typeof e==i:e!==t}var o=/^\\s*|\\s*$/g;return{trim:i,isArray:n.isArray,is:r,toArray:n.toArray,makeMap:function(e,t,n){var i;for(t=t||\",\",\"string\"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n},each:n.each,map:n.map,grep:n.filter,inArray:n.indexOf,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e,n){var i,r,o,a,s=arguments;for(i=1,r=s.length;i<r;i++)for(o in n=s[i])n.hasOwnProperty(o)&&(a=n[o])!==t&&(e[o]=a);return e},create:function(e,t,n){var i,r,o,a,s,l=this,u=0;if(e=/^((static) )?([\\w.]+)(:([\\w.]+))?/.exec(e),o=e[3].match(/(^|\\.)(\\w+)$/i)[2],!(r=l.createNS(e[3].replace(/\\.\\w+$/,\"\"),n))[o]){if(\"static\"==e[2])return r[o]=t,void(this.onCreate&&this.onCreate(e[2],e[3],r[o]));t[o]||(t[o]=function(){},u=1),r[o]=t[o],l.extend(r[o].prototype,t),e[5]&&(i=l.resolve(e[5]).prototype,a=e[5].match(/\\.(\\w+)$/i)[1],s=r[o],r[o]=u?function(){return i[a].apply(this,arguments)}:function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(e,t){r[o].prototype[t]=i[t]}),l.each(t,function(e,t){i[t]?r[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=o&&(r[o].prototype[t]=e)})),l.each(t.static,function(e,t){r[o][t]=e})}},walk:function e(t,i,r,o){o=o||this,t&&(r&&(t=t[r]),n.each(t,function(t,n){return!1!==i.call(o,t,n,r)&&void e(t,i,r,o)}))},createNS:function(e,t){var n,i;for(t=t||window,e=e.split(\".\"),n=0;n<e.length;n++)t[i=e[n]]||(t[i]={}),t=t[i];return t},resolve:function(e,t){var n,i;for(t=t||window,n=0,i=(e=e.split(\".\")).length;n<i&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||r(e,\"array\")?e:n.map(e.split(t||\",\"),i)},_addCacheSuffix:function(t){var n=e.cacheSuffix;return n&&(t+=(-1===t.indexOf(\"?\")?\"?\":\"&\")+n),t}}}),n(f,[u,c,h,l],function(e,n,i,r){function o(e){return void 0!==e}function a(e){return\"string\"==typeof e}function s(e,t){var n,i,r;for(r=(t=t||_).createElement(\"div\"),n=t.createDocumentFragment(),r.innerHTML=e;i=r.firstChild;)n.appendChild(i);return n}function l(e,t,n,i){var r;if(a(t))t=s(t,g(e[0]));else if(t.length&&!t.nodeType){if(t=d.makeArray(t),i)for(r=t.length-1;r>=0;r--)l(e,t[r],n,i);else for(r=0;r<t.length;r++)l(e,t[r],n,i);return e}if(t.nodeType)for(r=e.length;r--;)n.call(e[r],t);return e}function u(e,t){return e&&t&&-1!==(\" \"+e.className+\" \").indexOf(\" \"+t+\" \")}function c(e,t,n){var i,r;return t=d(t)[0],e.each(function(){var e=this;n&&i==e.parentNode||(i=e.parentNode,r=t.cloneNode(!1),e.parentNode.insertBefore(r,e)),r.appendChild(e)}),e}function d(e,t){return new d.fn.init(e,t)}function h(e){return null===e||e===b?\"\":(\"\"+e).replace(L,\"\")}function f(e,t){var n,i,r,o;if(e)if(void 0===(n=e.length)){for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(o=e[i],i,o))break}else for(r=0;r<n&&!1!==t.call(o=e[r],r,o);r++);return e}function p(e,t){var n=[];return f(e,function(e,i){t(i,e)&&n.push(i)}),n}function g(e){return e?9==e.nodeType?e:e.ownerDocument:_}function m(e,n,i){var r=[],o=e[n];for(\"string\"!=typeof i&&i instanceof d&&(i=i[0]);o&&9!==o.nodeType;){if(i!==t){if(o===i)break;if(\"string\"==typeof i&&d(o).is(i))break}1===o.nodeType&&r.push(o),o=o[n]}return r}function v(e,n,i,r){var o=[];for(r instanceof d&&(r=r[0]);e;e=e[n])if(!i||e.nodeType===i){if(r!==t){if(e===r)break;if(\"string\"==typeof r&&d(e).is(r))break}o.push(e)}return o}function y(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null}function x(e,t,n){f(n,function(n,i){e[n]=e[n]||{},e[n][t]=i})}var b,_=document,w=Array.prototype.push,S=Array.prototype.slice,C=/^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/,M=e.Event,T=i.makeMap(\"children,contents,next,prev\"),k=i.makeMap(\"fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom\",\" \"),A=i.makeMap(\"checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected\",\" \"),I={for:\"htmlFor\",class:\"className\",readonly:\"readOnly\"},D={float:\"cssFloat\"},N={},P={},L=/^\\s*|\\s*$/g;return d.fn=d.prototype={constructor:d,selector:\"\",context:null,length:0,init:function(e,t){var n,i,r=this;if(!e)return r;if(e.nodeType)return r.context=r[0]=e,r.length=1,r;if(t&&t.nodeType)r.context=t;else{if(t)return d(e).attr(t);r.context=t=document}if(a(e)){if(r.selector=e,!(n=\"<\"===e.charAt(0)&&\">\"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:C.exec(e)))return d(t).find(e);if(n[1])for(i=s(e,g(t)).firstChild;i;)w.call(r,i),i=i.nextSibling;else{if(!(i=g(t).getElementById(n[2])))return r;if(i.id!==n[2])return r.find(e);r.length=1,r[0]=i}}else this.add(e,!1);return r},toArray:function(){return i.toArray(this)},add:function(e,t){var n,i,r=this;if(a(e))return r.add(d(e));if(!1!==t)for(n=d.unique(r.toArray().concat(d.makeArray(e))),r.length=n.length,i=0;i<n.length;i++)r[i]=n[i];else w.apply(r,d.makeArray(e));return r},attr:function(e,t){var n,i=this;if(\"object\"==typeof e)f(e,function(e,t){i.attr(e,t)});else{if(!o(t)){if(i[0]&&1===i[0].nodeType){if((n=N[e])&&n.get)return n.get(i[0],e);if(A[e])return i.prop(e)?e:b;null===(t=i[0].getAttribute(e,2))&&(t=b)}return t}this.each(function(){var n;if(1===this.nodeType){if((n=N[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return i},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(\"object\"==typeof(e=I[e]||e))f(e,function(e,t){n.prop(e,t)});else{if(!o(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1==this.nodeType&&(this[e]=t)})}return n},css:function(e,t){function n(e){return e.replace(/-(\\D)/g,function(e,t){return t.toUpperCase()})}function i(e){return e.replace(/[A-Z]/g,function(e){return\"-\"+e})}var r,a,l=this;if(\"object\"==typeof e)f(e,function(e,t){l.css(e,t)});else if(o(t))e=n(e),\"number\"!=typeof t||k[e]||(t+=\"px\"),l.each(function(){var n=this.style;if((a=P[e])&&a.set)a.set(this,t);else{try{this.style[D[e]||e]=t}catch(l){}null!==t&&\"\"!==t||(n.removeProperty?n.removeProperty(i(e)):n.removeAttribute(e))}});else{if(r=l[0],(a=P[e])&&a.get)return a.get(r);if(r.ownerDocument.defaultView)try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(i(e))}catch(s){return b}else if(r.currentStyle)return r.currentStyle[n(e)]}return l},remove:function(){for(var e,t=this.length;t--;)M.clean(e=this[t]),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(o(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(i){d(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:\"\"},text:function(e){var t,n=this;if(o(e)){for(t=n.length;t--;)\"innerText\"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:\"\"},append:function(){return l(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return l(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?l(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?l(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return d(e).append(this),this},prependTo:function(e){return d(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return c(this,e)},wrapAll:function(e){return c(this,e,!0)},wrapInner:function(e){return this.each(function(){d(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){d(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),d(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return\"string\"!=typeof e||(-1!==e.indexOf(\" \")?f(e.split(\" \"),function(){n.toggleClass(this,t)}):n.each(function(n,i){var r,o;(o=u(i,e))!==t&&(r=i.className,o?i.className=h((\" \"+r+\" \").replace(\" \"+e+\" \",\" \")):i.className+=r?\" \"+e:e)})),n},hasClass:function(e){return u(this[0],e)},each:function(e){return f(this,e)},on:function(e,t){return this.each(function(){M.bind(this,e,t)})},off:function(e,t){return this.each(function(){M.unbind(this,e,t)})},trigger:function(e){return this.each(function(){\"object\"==typeof e?M.fire(this,e.type,e):M.fire(this,e)})},show:function(){return this.css(\"display\",\"\")},hide:function(){return this.css(\"display\",\"none\")},slice:function(){return new d(S.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,i=[];for(t=0,n=this.length;t<n;t++)d.find(e,this[t],i);return d(i)},filter:function(e){return d(\"function\"==typeof e?p(this.toArray(),function(t,n){return e(n,t)}):d.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof d&&(e=e[0]),this.each(function(n,i){for(;i;){if(\"string\"==typeof e&&d(i).is(e)){t.push(i);break}if(i==e){t.push(i);break}i=i.parentNode}}),d(t)},offset:function(e){var t,n,i,r,o=0,a=0;return e?this.css(e):((t=this[0])&&(i=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(o=(r=t.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,a=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:a})},push:w,sort:[].sort,splice:[].splice},i.extend(d,{extend:i.extend,makeArray:function(e){return function(e){return e&&e==e.window}(e)||e.nodeType?[e]:i.toArray(e)},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:i.isArray,each:f,trim:h,grep:p,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(e,t,n){var i=t.length;for(n&&(e=\":not(\"+e+\")\");i--;)1!=t[i].nodeType&&t.splice(i,1);return 1===t.length?d.find.matchesSelector(t[0],e)?[t[0]]:[]:d.find.matches(e,t)}}),f({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return m(e,\"parentNode\")},next:function(e){return y(e,\"nextSibling\",1)},prev:function(e){return y(e,\"previousSibling\",1)},children:function(e){return v(e.firstChild,\"nextSibling\",1)},contents:function(e){return i.toArray((\"iframe\"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){d.fn[e]=function(n){var i=[];return this.each(function(){var e=t.call(i,this,n,i);e&&(d.isArray(e)?i.push.apply(i,e):i.push(e))}),this.length>1&&(T[e]||(i=d.unique(i)),0===e.indexOf(\"parents\")&&(i=i.reverse())),i=d(i),n?i.filter(n):i}}),f({parentsUntil:function(e,t){return m(e,\"parentNode\",t)},nextUntil:function(e,t){return v(e,\"nextSibling\",1,t).slice(1)},prevUntil:function(e,t){return v(e,\"previousSibling\",1,t).slice(1)}},function(e,t){d.fn[e]=function(n,i){var r=[];return this.each(function(){var e=t.call(r,this,n,r);e&&(d.isArray(e)?r.push.apply(r,e):r.push(e))}),this.length>1&&(r=d.unique(r),0!==e.indexOf(\"parents\")&&\"prevUntil\"!==e||(r=r.reverse())),r=d(r),i?r.filter(i):r}}),d.fn.is=function(e){return!!e&&this.filter(e).length>0},d.fn.init.prototype=d.fn,d.overrideDefaults=function(e){function t(i,r){return n=n||e(),0===arguments.length&&(i=n.element),r||(r=n.context),new t.fn.init(i,r)}var n;return d.extend(t,this),t},r.ie&&r.ie<8&&(x(N,\"get\",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?b:t},size:function(e){var t=e.size;return 20===t?b:t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?b:t}}),x(N,\"set\",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),r.ie&&r.ie<9&&(D.float=\"styleFloat\",x(P,\"set\",{opacity:function(e,t){var n=e.style;null===t||\"\"===t?n.removeAttribute(\"filter\"):(n.zoom=1,n.filter=\"alpha(opacity=\"+100*t+\")\")}})),d.attrHooks=N,d.cssHooks=P,d}),n(p,[],function(){return function(e,t){function n(e,t,n,i){function r(e){return(e=parseInt(e,10).toString(16)).length>1?e:\"0\"+e}return\"#\"+r(t)+r(n)+r(i)}var i,r,o,a,s=/rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi,l=/(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi,u=/\\s*([^:]+):\\s*([^;]+);?/g,c=/\\s+$/,d={};for(e=e||{},t&&(o=t.getValidStyles(),a=t.getInvalidStyles()),r=\"\\\\\\\" \\\\' \\\\; \\\\: ; : \\ufeff\".split(\" \"),i=0;i<r.length;i++)d[r[i]]=\"\\ufeff\"+i,d[\"\\ufeff\"+i]=r[i];return{toHex:function(e){return e.replace(s,n)},parse:function(t){function r(e,t,n){var r,o,a,s;if((r=b[e+\"-top\"+t])&&(o=b[e+\"-right\"+t])&&(a=b[e+\"-bottom\"+t])&&(s=b[e+\"-left\"+t])){var l=[r,o,a,s];for(i=l.length-1;i--&&l[i]===l[i+1];);i>-1&&n||(b[e+t]=-1==i?l[0]:l.join(\" \"),delete b[e+\"-top\"+t],delete b[e+\"-right\"+t],delete b[e+\"-bottom\"+t],delete b[e+\"-left\"+t])}}function o(e){var t,n=b[e];if(n){for(t=(n=n.split(\" \")).length;t--;)if(n[t]!==n[0])return!1;return b[e]=n[0],!0}}function a(e){return x=!0,d[e]}function h(e,t){return x&&(e=e.replace(/\\uFEFF[0-9]/g,function(e){return d[e]})),t||(e=e.replace(/\\\\([\\'\\\";:])/g,\"$1\")),e}function f(e){return String.fromCharCode(parseInt(e.slice(1),16))}function p(e){return e.replace(/\\\\[0-9a-f]+/gi,f)}function g(t,n,i,r,o,a){if(o=o||a)return\"'\"+(o=h(o)).replace(/\\'/g,\"\\\\'\")+\"'\";if(n=h(n||i||r),!e.allow_script_urls){var s=n.replace(/[\\s\\r\\n]+/g,\"\");if(/(java|vb)script:/i.test(s))return\"\";if(!e.allow_svg_data_urls&&/^data:image\\/svg/i.test(s))return\"\"}return _&&(n=_.call(w,n,\"style\")),\"url('\"+n.replace(/\\'/g,\"\\\\'\")+\"')\"}var m,v,y,x,b={},_=e.url_converter,w=e.url_converter_scope||this;if(t){for(t=(t=t.replace(/[\\u0000-\\u001F]/g,\"\")).replace(/\\\\[\\\"\\';:\\uFEFF]/g,a).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g,function(e){return e.replace(/[;:]/g,a)});m=u.exec(t);)if(u.lastIndex=m.index+m[0].length,v=m[1].replace(c,\"\").toLowerCase(),y=m[2].replace(c,\"\"),v&&y){if(v=p(v),y=p(y),-1!==v.indexOf(\"\\ufeff\")||-1!==v.indexOf('\"'))continue;if(!e.allow_script_urls&&(\"behavior\"==v||/expression\\s*\\(|\\/\\*|\\*\\//.test(y)))continue;\"font-weight\"===v&&\"700\"===y?y=\"bold\":\"color\"!==v&&\"background-color\"!==v||(y=y.toLowerCase()),y=(y=y.replace(s,n)).replace(l,g),b[v]=x?h(y,!0):y}r(\"border\",\"\",!0),r(\"border\",\"-width\"),r(\"border\",\"-color\"),r(\"border\",\"-style\"),r(\"padding\",\"\"),r(\"margin\",\"\"),function(e,t,n,i){o(t)&&o(n)&&o(i)&&(b.border=b[t]+\" \"+b[n]+\" \"+b[i],delete b[t],delete b[n],delete b[i])}(0,\"border-width\",\"border-style\",\"border-color\"),\"medium none\"===b.border&&delete b.border,\"none\"===b[\"border-image\"]&&delete b[\"border-image\"]}return b},serialize:function(e,t){function n(t){var n,i,r,a;if(n=o[t])for(i=0,r=n.length;i<r;i++)(a=e[t=n[i]])&&(l+=(l.length>0?\" \":\"\")+t+\": \"+a+\";\")}function i(e,t){var n;return!((n=a[\"*\"])&&n[e]||(n=a[t],n&&n[e]))}var r,s,l=\"\";if(t&&o)n(\"*\"),n(t);else for(r in e)!(s=e[r])||a&&!i(r,t)||(l+=(l.length>0?\" \":\"\")+r+\": \"+s+\";\");return l}}}}),n(g,[],function(){return function(e,t){function n(e,n,i,r){var o,a;if(e){if(!r&&e[n])return e[n];if(e!=t){if(o=e[i])return o;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(o=a[i])return o}}}var i=e;this.current=function(){return i},this.next=function(e){return i=n(i,\"firstChild\",\"nextSibling\",e)},this.prev=function(e){return i=n(i,\"lastChild\",\"previousSibling\",e)},this.prev2=function(e){return i=function(e,n,i,r){var o,a,s;if(e){if(o=e.previousSibling,t&&o===t)return;if(o){if(!r)for(s=o[n];s;s=s[n])if(!s[n])return s;return o}if((a=e.parentNode)&&a!==t)return a}}(i,\"lastChild\",0,e)}}}),n(m,[h],function(e){function t(n){function i(){return w.createDocumentFragment()}function r(e,t){d(M,e,t)}function o(e,t){d(T,e,t)}function a(e){r(e.parentNode,P(e))}function s(e){o(e.parentNode,P(e)+1)}function l(){return h(S)}function u(e,t){var n;if(3==e.nodeType)return e;if(t<0)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n||e}function c(e,t,i,r){var o,a,s,l,u,c;if(e==i)return t==r?0:t<r?-1:1;for(o=i;o&&o.parentNode!=e;)o=o.parentNode;if(o){for(a=0,s=e.firstChild;s!=o&&a<t;)a++,s=s.nextSibling;return t<=a?-1:1}for(o=e;o&&o.parentNode!=i;)o=o.parentNode;if(o){for(a=0,s=i.firstChild;s!=o&&a<r;)a++,s=s.nextSibling;return a<r?-1:1}for(l=n.findCommonAncestor(e,i),u=e;u&&u.parentNode!=l;)u=u.parentNode;for(u||(u=l),c=i;c&&c.parentNode!=l;)c=c.parentNode;if(c||(c=l),u==c)return 0;for(s=l.firstChild;s;){if(s==u)return-1;if(s==c)return 1;s=s.nextSibling}}function d(e,t,i){var r,o;for(e?(_[A]=t,_[k]=i):(_[I]=t,_[D]=i),r=_[I];r.parentNode;)r=r.parentNode;for(o=_[A];o.parentNode;)o=o.parentNode;o==r?c(_[A],_[k],_[I],_[D])>0&&_.collapse(e):_.collapse(e),_.collapsed=_[A]==_[I]&&_[k]==_[D],_.commonAncestorContainer=n.findCommonAncestor(_[A],_[I])}function h(e){var t,n,i,r,o,a,s,l=0,u=0;if(_[A]==_[I])return f(e);for(n=(t=_[I]).parentNode;n;t=n,n=n.parentNode){if(n==_[A])return p(t,e);++l}for(n=(t=_[A]).parentNode;n;t=n,n=n.parentNode){if(n==_[I])return g(t,e);++u}for(i=u-l,r=_[A];i>0;)r=r.parentNode,i--;for(o=_[I];i<0;)o=o.parentNode,i++;for(a=r.parentNode,s=o.parentNode;a!=s;a=a.parentNode,s=s.parentNode)r=a,o=s;return m(r,o,e)}function f(e){var t,n,r,o,a,s,l,c;if(e!=C&&(t=i()),_[k]==_[D])return t;if(3==_[A].nodeType){if(n=_[A].nodeValue.substring(_[k],_[D]),e!=S&&(r=_[A],c=_[D]-_[k],0===(l=_[k])&&c>=r.nodeValue.length-1?r.parentNode.removeChild(r):r.deleteData(l,c),_.collapse(M)),e==C)return;return n.length>0&&t.appendChild(w.createTextNode(n)),t}for(r=u(_[A],_[k]),o=_[D]-_[k];r&&o>0;)a=r.nextSibling,s=b(r,e),t&&t.appendChild(s),--o,r=a;return e!=S&&_.collapse(M),t}function p(e,t){var n,r,o,a,s;if(t!=C&&(n=i()),r=v(e,t),n&&n.appendChild(r),(o=P(e)-_[k])<=0)return t!=S&&(_.setEndBefore(e),_.collapse(T)),n;for(r=e.previousSibling;o>0;)a=r.previousSibling,s=b(r,t),n&&n.insertBefore(s,n.firstChild),--o,r=a;return t!=S&&(_.setEndBefore(e),_.collapse(T)),n}function g(e,t){var n,r,o,a,s,l;for(t!=C&&(n=i()),o=y(e,t),n&&n.appendChild(o),r=P(e),++r,a=_[D]-r,o=e.nextSibling;o&&a>0;)s=o.nextSibling,l=b(o,t),n&&n.appendChild(l),--a,o=s;return t!=S&&(_.setStartAfter(e),_.collapse(M)),n}function m(e,t,n){var r,o,a,s,l,u;for(n!=C&&(o=i()),r=y(e,n),o&&o.appendChild(r),a=P(e),s=P(t)-++a,l=e.nextSibling;s>0;)u=l.nextSibling,r=b(l,n),o&&o.appendChild(r),l=u,--s;return r=v(t,n),o&&o.appendChild(r),n!=S&&(_.setStartAfter(e),_.collapse(M)),o}function v(e,t){var n,i,r,o,a,s=u(_[I],_[D]-1),l=s!=_[I];if(s==e)return x(s,l,T,t);for(i=x(n=s.parentNode,T,T,t);n;){for(;s;)r=s.previousSibling,o=x(s,l,T,t),t!=C&&i.insertBefore(o,i.firstChild),l=M,s=r;if(n==e)return i;s=n.previousSibling,a=x(n=n.parentNode,T,T,t),t!=C&&a.appendChild(i),i=a}}function y(e,t){var n,i,r,o,a,s=u(_[A],_[k]),l=s!=_[A];if(s==e)return x(s,l,M,t);for(i=x(n=s.parentNode,T,M,t);n;){for(;s;)r=s.nextSibling,o=x(s,l,M,t),t!=C&&i.appendChild(o),l=M,s=r;if(n==e)return i;s=n.nextSibling,a=x(n=n.parentNode,T,M,t),t!=C&&a.appendChild(i),i=a}}function x(e,t,i,r){var o,a,s,l,u;if(t)return b(e,r);if(3==e.nodeType){if(o=e.nodeValue,i?(a=o.substring(l=_[k]),s=o.substring(0,l)):(a=o.substring(0,l=_[D]),s=o.substring(l)),r!=S&&(e.nodeValue=s),r==C)return;return(u=n.clone(e,T)).nodeValue=a,u}return r!=C?n.clone(e,T):void 0}function b(e,t){return t!=C?t==S?n.clone(e,M):e:void e.parentNode.removeChild(e)}var _=this,w=n.doc,S=1,C=2,M=!0,T=!1,k=\"startOffset\",A=\"startContainer\",I=\"endContainer\",D=\"endOffset\",N=e.extend,P=n.nodeIndex;return N(_,{startContainer:w,startOffset:0,endContainer:w,endOffset:0,collapsed:M,commonAncestorContainer:w,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:r,setEnd:o,setStartBefore:a,setStartAfter:function(e){r(e.parentNode,P(e)+1)},setEndBefore:function(e){o(e.parentNode,P(e))},setEndAfter:s,collapse:function(e){e?(_[I]=_[A],_[D]=_[k]):(_[A]=_[I],_[k]=_[D]),_.collapsed=M},selectNode:function(e){a(e),s(e)},selectNodeContents:function(e){r(e,0),o(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)},compareBoundaryPoints:function(e,t){var n=_[A],i=_[k],r=_[I],o=_[D],a=t.startContainer,s=t.startOffset,l=t.endContainer,u=t.endOffset;return 0===e?c(n,i,a,s):1===e?c(r,o,a,s):2===e?c(r,o,l,u):3===e?c(n,i,l,u):void 0},deleteContents:function(){h(C)},extractContents:function(){return h(0)},cloneContents:l,insertNode:function(e){var t,i,r=this[A],o=this[k];3!==r.nodeType&&4!==r.nodeType||!r.nodeValue?(r.childNodes.length>0&&(i=r.childNodes[o]),i?r.insertBefore(e,i):3==r.nodeType?n.insertAfter(e,r):r.appendChild(e)):o?o>=r.nodeValue.length?n.insertAfter(e,r):(t=r.splitText(o),r.parentNode.insertBefore(e,t)):r.parentNode.insertBefore(e,r)},surroundContents:function(e){var t=_.extractContents();_.insertNode(e),e.appendChild(t),_.selectNode(e)},cloneRange:function(){return N(new t(n),{startContainer:_[A],startOffset:_[k],endContainer:_[I],endOffset:_[D],collapsed:_.collapsed,commonAncestorContainer:_.commonAncestorContainer})},toStringIE:function(){return n.create(\"body\",null,l()).outerText}}),_}return t.prototype.toString=function(){return this.toStringIE()},t}),n(v,[h],function(e){function t(e,t){var n,r,o,a={};if(e){for(e=e.split(\",\"),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),i[r]||(a[r]=o=\"&\"+e[n+1]+\";\",a[o]=r);return a}}var n,i,r,o=e.makeMap,a=/[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,s=/[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,l=/[<>&\\\"\\']/g,u=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,c={128:\"€\",130:\"‚\",131:\"ƒ\",132:\"„\",133:\"…\",134:\"†\",135:\"‡\",136:\"ˆ\",137:\"‰\",138:\"Š\",139:\"‹\",140:\"Œ\",142:\"Ž\",145:\"‘\",146:\"’\",147:\"“\",148:\"”\",149:\"•\",150:\"–\",151:\"—\",152:\"˜\",153:\"™\",154:\"š\",155:\"›\",156:\"œ\",158:\"ž\",159:\"Ÿ\"};i={'\"':\"&quot;\",\"'\":\"&#39;\",\"<\":\"&lt;\",\">\":\"&gt;\",\"&\":\"&amp;\",\"`\":\"&#96;\"},r={\"&lt;\":\"<\",\"&gt;\":\">\",\"&amp;\":\"&\",\"&quot;\":'\"',\"&apos;\":\"'\"},n=t(\"50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro\",32);var d={encodeRaw:function(e,t){return e.replace(t?a:s,function(e){return i[e]||e})},encodeAllRaw:function(e){return(\"\"+e).replace(l,function(e){return i[e]||e})},encodeNumeric:function(e,t){return e.replace(t?a:s,function(e){return e.length>1?\"&#\"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+\";\":i[e]||\"&#\"+e.charCodeAt(0)+\";\"})},encodeNamed:function(e,t,r){return r=r||n,e.replace(t?a:s,function(e){return i[e]||r[e]||e})},getEncodeFunc:function(e,r){return r=t(r)||n,(e=o(e.replace(/\\+/g,\",\"))).named&&e.numeric?function(e,t){return e.replace(t?a:s,function(e){return i[e]||r[e]||\"&#\"+e.charCodeAt(0)+\";\"||e})}:e.named?r?function(e,t){return d.encodeNamed(e,t,r)}:d.encodeNamed:e.numeric?d.encodeNumeric:d.encodeRaw},decode:function(e){return e.replace(u,function(e,t){return t?(t=\"x\"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):c[t]||String.fromCharCode(t):r[e]||n[e]||function(e){var t;return(t=document.createElement(\"div\")).innerHTML=e,t.textContent||t.innerText||e}(e)})}};return d}),n(y,[h,s],function(e,t){return function(n,i){function r(e){n.getElementsByTagName(\"head\")[0].appendChild(e)}var o,a=0,s={};o=(i=i||{}).maxLoadTime||5e3,this.load=function(i,l,u){function c(){for(var e=v.passed,t=e.length;t--;)e[t]();v.status=2,v.passed=[],v.failed=[]}function d(){for(var e=v.failed,t=e.length;t--;)e[t]();v.status=3,v.passed=[],v.failed=[]}function h(e,n){e()||((new Date).getTime()-m<o?t.setTimeout(n):d())}function f(){h(function(){for(var e,t,i=n.styleSheets,r=i.length;r--;)if((t=(e=i[r]).ownerNode?e.ownerNode:e.owningElement)&&t.id===p.id)return c(),!0},f)}var p,g,m,v;if(i=e._addCacheSuffix(i),s[i]?v=s[i]:s[i]=v={passed:[],failed:[]},l&&v.passed.push(l),u&&v.failed.push(u),1!=v.status){if(2==v.status)return void c();if(3==v.status)return void d();if(v.status=1,(p=n.createElement(\"link\")).rel=\"stylesheet\",p.type=\"text/css\",p.id=\"u\"+a++,p.async=!1,p.defer=!1,m=(new Date).getTime(),\"onload\"in p&&!function(){var e=navigator.userAgent.match(/WebKit\\/(\\d*)/);return!!(e&&e[1]<536)}())p.onload=f,p.onerror=d;else{if(navigator.userAgent.indexOf(\"Firefox\")>0)return(g=n.createElement(\"style\")).textContent='@import \"'+i+'\"',function e(){h(function(){try{var e=g.sheet.cssRules;return c(),!!e}catch(t){}},e)}(),void r(g);f()}r(p),p.href=i}}}}),n(x,[c,f,p,u,g,m,v,l,h,y],function(e,n,i,r,o,a,s,l,u,c){function d(e,t){var n=t.attr(\"style\");(n=e.serializeStyle(e.parseStyle(n),t[0].nodeName))||(n=null),t.attr(\"data-mce-style\",n)}function h(e,t){var n,i,r=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!=i||i!=n&&e.nodeValue.length)&&(r++,n=i);return r}function f(e,t){var o,a=this;a.doc=e,a.win=window,a.files={},a.counter=0,a.stdMode=!y||e.documentMode>=8,a.boxModel=!y||\"CSS1Compat\"==e.compatMode||a.stdMode,a.styleSheetLoader=new c(e),a.boundEvents=[],a.settings=t=t||{},a.schema=t.schema,a.styles=new i({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),a.fixDoc(e),a.events=t.ownEvents?new r(t.proxy):r.Event,a.attrHooks=function(e,t){var n,i={},r=t.keep_values;return n={set:function(n,i,r){t.url_converter&&(i=t.url_converter.call(t.url_converter_scope||e,i,r,n[0])),n.attr(\"data-mce-\"+r,i).attr(r,i)},get:function(e,t){return e.attr(\"data-mce-\"+t)||e.attr(t)}},i={style:{set:function(e,t){return null!==t&&\"object\"==typeof t?void e.css(t):(r&&e.attr(\"data-mce-style\",t),void e.attr(\"style\",t))},get:function(t){var n=t.attr(\"data-mce-style\")||t.attr(\"style\");return e.serializeStyle(e.parseStyle(n),t[0].nodeName)}}},r&&(i.href=i.src=n),i}(a,t),o=t.schema?t.schema.getBlockElements():{},a.$=n.overrideDefaults(function(){return{context:e,element:a.getRoot()}}),a.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!o[e.nodeName]):!!o[e]}}var p=u.each,g=u.is,m=u.grep,v=u.trim,y=l.ie,x=/^([a-z0-9],?)+$/i,b=/^[ \\t\\r\\n]*$/;return f.prototype={$$:function(e){return\"string\"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){var t,n=this.settings;if(y&&n.schema)for(t in\"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video\".replace(/\\w+/g,function(t){e.createElement(t)}),n.schema.getCustomElements())e.createElement(t)},clone:function(e,t){var n,i=this;return!y||1!==e.nodeType||t?e.cloneNode(t):t?n.firstChild:(n=i.doc.createElement(e.nodeName),p(i.getAttribs(e),function(t){i.setAttrib(n,t.nodeName,i.getAttrib(e,t.nodeName))}),n)},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(e){var t,n;return t=(e=e||this.win).document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n,i=this;return e=i.get(e),t=i.getPos(e),n=i.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n,i=this;return e=i.get(e),t=i.getStyle(e,\"width\"),n=i.getStyle(e,\"height\"),-1===t.indexOf(\"px\")&&(t=0),-1===n.indexOf(\"px\")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,n,i,r){var o,a=this,s=[];for(e=a.get(e),r=r===t,i=i||(\"BODY\"!=a.getRoot().nodeName?a.getRoot().parentNode:null),g(n,\"string\")&&(o=n,n=\"*\"===n?function(e){return 1==e.nodeType}:function(e){return a.is(e,o)});e&&e!=i&&e.nodeType&&9!==e.nodeType;){if(!n||n(e)){if(!r)return e;s.push(e)}e=e.parentNode}return r?s:null},get:function(e){var t;return e&&this.doc&&\"string\"==typeof e&&(t=e,(e=this.doc.getElementById(e))&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,\"nextSibling\")},getPrev:function(e,t){return this._findSib(e,t,\"previousSibling\")},select:function(t,n){var i=this;return e(t,i.get(n)||i.settings.root_element||i.doc,[])},is:function(n,i){var r;if(n.length===t){if(\"*\"===i)return 1==n.nodeType;if(x.test(i)){for(i=i.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),r=i.length-1;r>=0;r--)if(i[r]==n)return!0;return!1}}if(n.nodeType&&1!=n.nodeType)return!1;var o=n.nodeType?[n]:n;return e(i,o[0].ownerDocument||o[0],null,o).length>0},add:function(e,t,n,i,r){var o=this;return this.run(e,function(e){var a;return a=g(t,\"string\")?o.doc.createElement(t):t,o.setAttribs(a,n),i&&(i.nodeType?a.appendChild(i):o.setHTML(a,i)),r?a:e.appendChild(a)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var i,r=\"\";for(i in r+=\"<\"+e,t)t.hasOwnProperty(i)&&null!=t[i]&&(r+=\" \"+i+'=\"'+this.encode(t[i])+'\"');return void 0!==n?r+\">\"+n+\"</\"+e+\">\":r+\" />\"},createFragment:function(e){var t,n,i,r=this.doc;for(i=r.createElement(\"div\"),t=r.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each(function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():e.remove(),e.length>1?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&d(this,e)},getStyle:function(e,n,i){return e=this.$$(e),i?e.css(n):(\"float\"==(n=n.replace(/-(\\D)/g,function(e,t){return t.toUpperCase()}))&&(n=l.ie&&l.ie<12?\"styleFloat\":\"cssFloat\"),e[0]&&e[0].style?e[0].style[n]:t)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&d(this,e)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var i,r,o=this,a=o.settings;\"\"===n&&(n=null),i=(e=o.$$(e)).attr(t),e.length&&((r=o.attrHooks[t])&&r.set?r.set(e,n,t):e.attr(t,n),i!=n&&a.onSetAttrib&&a.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var n=this;n.$$(e).each(function(e,i){p(t,function(e,t){n.setAttrib(i,t,e)})})},getAttrib:function(e,t,n){var i,r;return(e=this.$$(e)).length&&(r=(i=this.attrHooks[t])&&i.get?i.get(e,t):e.attr(t)),void 0===r&&(r=n||\"\"),r},getPos:function(e,t){var i,r,o=this,a=0,s=0,l=o.doc,u=l.body;if(t=t||u,e=o.get(e)){if(t===u&&e.getBoundingClientRect&&\"static\"===n(u).css(\"position\"))return{x:a=(r=e.getBoundingClientRect()).left+(l.documentElement.scrollLeft||u.scrollLeft)-(t=o.boxModel?l.documentElement:u).clientLeft,y:s=r.top+(l.documentElement.scrollTop||u.scrollTop)-t.clientTop};for(i=e;i&&i!=t&&i.nodeType;)a+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!=t&&i.nodeType;)a-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode}return{x:a,y:s}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n,i=this.doc;if(this!==f.DOM&&i===document){var r=f.DOM.addedStyles;if((r=r||[])[e])return;r[e]=!0,f.DOM.addedStyles=r}(n=i.getElementById(\"mceDefaultStyles\"))||((n=i.createElement(\"style\")).id=\"mceDefaultStyles\",n.type=\"text/css\",(t=i.getElementsByTagName(\"head\")[0]).firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(i.createTextNode(e))},loadCSS:function(e){var t,n=this,i=n.doc;return n!==f.DOM&&i===document?void f.DOM.loadCSS(e):(e||(e=\"\"),t=i.getElementsByTagName(\"head\")[0],void p(e.split(\",\"),function(e){var r;e=u._addCacheSuffix(e),n.files[e]||(n.files[e]=!0,r=n.create(\"link\",{rel:\"stylesheet\",href:e}),y&&i.documentMode&&i.recalc&&(r.onload=function(){i.recalc&&i.recalc(),r.onload=null}),t.appendChild(r))}))},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,i){this.$$(e).toggleClass(t,i).each(function(){\"\"===this.className&&n(this).attr(\"class\",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return\"none\"==this.$$(e).css(\"display\")},uniqueId:function(e){return(e||\"mce_\")+this.counter++},setHTML:function(e,t){e=this.$$(e),y?e.each(function(e,i){if(!1!==i.canHaveHTML){for(;i.firstChild;)i.removeChild(i.firstChild);try{i.innerHTML=\"<br>\"+t,i.removeChild(i.firstChild)}catch(r){n(\"<div></div>\").html(\"<br>\"+t).contents().slice(1).appendTo(i)}return t}}):e.html(t)},getOuterHTML:function(e){return 1==(e=this.get(e)).nodeType&&\"outerHTML\"in e?e.outerHTML:n(\"<div></div>\").append(n(e).clone()).html()},setOuterHTML:function(e,t){var i=this;i.$$(e).each(function(){try{if(\"outerHTML\"in this)return void(this.outerHTML=t)}catch(e){}i.remove(n(this).html(t),!0)})},decode:s.decode,encode:s.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,i;return n=t.parentNode,(i=t.nextSibling)?n.insertBefore(e,i):n.appendChild(e),e})},replace:function(e,t,n){return this.run(t,function(t){return g(t,\"array\")&&(e=e.cloneNode(!0)),n&&p(m(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n,i=this;return e.nodeName!=t.toUpperCase()&&(n=i.create(t),p(i.getAttribs(e),function(t){i.setAttrib(n,t.nodeName,i.getAttrib(e,t.nodeName))}),i.replace(n,e,1)),n||e},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){return this.styles.toHex(u.trim(e))},run:function(e,t,n){var i,r=this;return\"string\"==typeof e&&(e=r.get(e)),!!e&&(n=n||this,e.nodeType||!e.length&&0!==e.length?t.call(n,e):(i=[],p(e,function(e,o){e&&(\"string\"==typeof e&&(e=r.get(e)),i.push(t.call(n,e,o)))}),i))},getAttribs:function(e){var t;return(e=this.get(e))?y?(t=[],\"OBJECT\"==e.nodeName?e.attributes:(\"OPTION\"===e.nodeName&&this.getAttrib(e,\"selected\")&&t.push({specified:1,nodeName:\"selected\"}),e.cloneNode(!1).outerHTML.replace(/<\\/?[\\w:\\-]+ ?|=[\\\"][^\\\"]+\\\"|=\\'[^\\']+\\'|=[\\w\\-]+|>/gi,\"\").replace(/[\\w:\\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t)):e.attributes:[]},isEmpty:function(e,t){var n,i,r,a,s,l,u=this,c=0;if(e=e.firstChild){s=new o(e,e.parentNode),t=t||(u.schema?u.schema.getNonEmptyElements():null),a=u.schema?u.schema.getWhiteSpaceElements():{};do{if(1===(r=e.nodeType)){var d=e.getAttribute(\"data-mce-bogus\");if(d){e=s.next(\"all\"===d);continue}if(l=e.nodeName.toLowerCase(),t&&t[l]){if(\"br\"===l){c++,e=s.next();continue}return!1}for(n=(i=u.getAttribs(e)).length;n--;)if(\"name\"===(l=i[n].nodeName)||\"data-mce-bookmark\"===l)return!1}if(8==r)return!1;if(3===r&&!b.test(e.nodeValue))return!1;if(3===r&&e.parentNode&&a[e.parentNode.nodeName]&&b.test(e.nodeValue))return!1;e=s.next()}while(e)}return c<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new a(this)},nodeIndex:h,split:function(e,t,n){function i(e){var t,n=e.childNodes,r=e.nodeType;if(1!=r||\"bookmark\"!=e.getAttribute(\"data-mce-type\")){for(t=n.length-1;t>=0;t--)i(n[t]);if(9!=r){if(3==r&&e.nodeValue.length>0){var o=v(e.nodeValue).length;if(!s.isBlock(e.parentNode)||o>0||0===o&&function(e){return e.previousSibling&&\"SPAN\"==e.previousSibling.nodeName&&e.nextSibling&&\"SPAN\"==e.nextSibling.nodeName}(e))return}else if(1==r&&(1==(n=e.childNodes).length&&n[0]&&1==n[0].nodeType&&\"bookmark\"==n[0].getAttribute(\"data-mce-type\")&&e.parentNode.insertBefore(n[0],e),n.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;s.remove(e)}return e}}var r,o,a,s=this,l=s.createRng();if(e&&t)return l.setStart(e.parentNode,s.nodeIndex(e)),l.setEnd(t.parentNode,s.nodeIndex(t)),r=l.extractContents(),(l=s.createRng()).setStart(t.parentNode,s.nodeIndex(t)+1),l.setEnd(e.parentNode,s.nodeIndex(e)+1),o=l.extractContents(),(a=e.parentNode).insertBefore(i(r),e),a.insertBefore(n||t,e),a.insertBefore(i(o),e),s.remove(e),n||t},bind:function(e,t,n,i){var r=this;if(u.isArray(e)){for(var o=e.length;o--;)e[o]=r.bind(e[o],t,n,i);return e}return!r.settings.collect||e!==r.doc&&e!==r.win||r.boundEvents.push([e,t,n,i]),r.events.bind(e,t,n,i||r)},unbind:function(e,t,n){var i,r=this;if(u.isArray(e)){for(i=e.length;i--;)e[i]=r.unbind(e[i],t,n);return e}if(r.boundEvents&&(e===r.doc||e===r.win))for(i=r.boundEvents.length;i--;){var o=r.boundEvents[i];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute(\"data-mce-contenteditable\"))&&\"inherit\"!==t?t:\"inherit\"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&null===(n=this.getContentEditable(e));e=e.parentNode);return n},destroy:function(){var t=this;if(t.boundEvents){for(var n=t.boundEvents.length;n--;){var i=t.boundEvents[n];this.events.unbind(i[0],i[1],i[2])}t.boundEvents=null}e.setDocument&&e.setDocument(),t.win=t.doc=t.root=t.events=t.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return\"startContainer: \"+e.startContainer.nodeName+\", startOffset: \"+e.startOffset+\", endContainer: \"+e.endContainer.nodeName+\", endOffset: \"+e.endOffset},_findSib:function(e,t,n){var i=this,r=t;if(e)for(\"string\"==typeof r&&(r=function(e){return i.is(e,t)}),e=e[n];e;e=e[n])if(r(e))return e;return null}},f.DOM=new f(document),f.nodeIndex=h,f}),n(b,[x,h],function(e,t){function n(){function e(e,n,r){function o(){u.remove(l),s&&(s.onreadystatechange=s.onload=s=null),n()}var s,l,u=i;l=u.uniqueId(),(s=document.createElement(\"script\")).id=l,s.type=\"text/javascript\",s.src=t._addCacheSuffix(e),\"onreadystatechange\"in s?s.onreadystatechange=function(){/loaded|complete/.test(s.readyState)&&o()}:s.onload=o,s.onerror=function(){a(r)?r():\"undefined\"!=typeof console&&console.log&&console.log(\"Failed to load script: \"+e)},(document.getElementsByTagName(\"head\")[0]||document.body).appendChild(s)}var n,s={},l=[],u={},c=[],d=0;this.isDone=function(e){return 2==s[e]},this.markDone=function(e){s[e]=2},this.add=this.load=function(e,t,i,r){s[e]==n&&(l.push(e),s[e]=0),t&&(u[e]||(u[e]=[]),u[e].push({success:t,failure:r,scope:i||this}))},this.remove=function(e){delete s[e],delete u[e]},this.loadQueue=function(e,t,n){this.loadScripts(l,e,t,n)},this.loadScripts=function(t,i,l,h){function f(e,t){r(u[t],function(t){a(t[e])&&t[e].call(t.scope)}),u[t]=n}var p,g=[];c.push({success:i,failure:h,scope:l||this}),(p=function(){var n=o(t);t.length=0,r(n,function(t){return 2===s[t]?void f(\"success\",t):3===s[t]?void f(\"failure\",t):void(1!==s[t]&&(s[t]=1,d++,e(t,function(){s[t]=2,d--,f(\"success\",t),p()},function(){s[t]=3,d--,g.push(t),f(\"failure\",t),p()})))}),d||(r(c,function(e){0===g.length?a(e.success)&&e.success.call(e.scope):a(e.failure)&&e.failure.call(e.scope,g)}),c.length=0)})()}}var i=e.DOM,r=t.each,o=t.grep,a=function(e){return\"function\"==typeof e};return n.ScriptLoader=new n,n}),n(_,[b,h],function(e,n){function i(){var e=this;e.items=[],e.urls={},e.lookup={}}var r=n.each;return i.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:t},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t,n){var r=i.language;if(r&&!1!==i.languageLoad){if(n)if(-1!=(n=\",\"+n+\",\").indexOf(\",\"+r.substr(0,2)+\",\"))r=r.substr(0,2);else if(-1==n.indexOf(\",\"+r+\",\"))return;e.ScriptLoader.add(this.urls[t]+\"/langs/\"+r+\".js\")}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},remove:function(e){delete this.urls[e],delete this.lookup[e]},createUrl:function(e,t){return\"object\"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var i=this.urls[t];r(n,function(t){e.ScriptLoader.add(i+\"/\"+t)})},load:function(n,o,a,s,l){function u(){var i=c.dependencies(n);r(i,function(e){var n=c.createUrl(o,e);c.load(n.resource,n,t,t)}),a&&a.call(s||e)}var c=this,d=o;c.urls[n]||(\"object\"==typeof o&&(d=o.prefix+o.resource+o.suffix),0!==d.indexOf(\"/\")&&-1==d.indexOf(\"://\")&&(d=i.baseURL+\"/\"+d),c.urls[n]=d.substring(0,d.lastIndexOf(\"/\")),c.lookup[n]?u():e.ScriptLoader.add(d,u,s,l))}},i.PluginManager=new i,i.ThemeManager=new i,i}),n(w,[],function(){function e(e){return function(t){return!!t&&t.nodeType==e}}function t(e){return e=e.toLowerCase().split(\" \"),function(t){var n,i;if(t&&t.nodeType)for(i=t.nodeName.toLowerCase(),n=0;n<e.length;n++)if(i===e[n])return!0;return!1}}function n(e){return function(t){if(i(t)){if(t.contentEditable===e)return!0;if(t.getAttribute(\"data-mce-contenteditable\")===e)return!0}return!1}}var i=e(1);return{isText:e(3),isElement:i,isComment:e(8),isBr:t(\"br\"),isContentEditableTrue:n(\"true\"),isContentEditableFalse:n(\"false\"),matchNodeNames:t,hasPropValue:function(e,t){return function(n){return i(n)&&n[e]===t}},hasAttributeValue:function(e,t){return function(n){return i(n)&&n.getAttribute(e)===t}},matchStyleValues:function(e,t){return t=t.toLowerCase().split(\" \"),function(n){var r;if(i(n))for(r=0;r<t.length;r++)if(getComputedStyle(n,null).getPropertyValue(e)===t[r])return!0;return!1}},isBogus:function(e){return i(e)&&e.hasAttribute(\"data-mce-bogus\")}}}),n(S,[],function(){return{isZwsp:function(e){return\"\\ufeff\"==e},ZWSP:\"\\ufeff\",trim:function(e){return e.replace(new RegExp(\"\\ufeff\",\"g\"),\"\")}}}),n(C,[w,S],function(e,t){function n(e){return d(e)&&(e=e.parentNode),c(e)&&e.hasAttribute(\"data-mce-caret\")}function i(e){return d(e)&&t.isZwsp(e.data)}function r(e){return n(e)||i(e)}function o(e){var t=e.parentNode;t&&t.removeChild(e)}function a(t){return t.firstChild!==t.lastChild||!e.isBr(t.firstChild)}function s(e){return d(e)&&e.data[0]==t.ZWSP}function l(e){return d(e)&&e.data[e.data.length-1]==t.ZWSP}function u(t){var n=t.getElementsByTagName(\"br\"),i=n[n.length-1];e.isBogus(i)&&i.parentNode.removeChild(i)}var c=e.isElement,d=e.isText;return{isCaretContainer:r,isCaretContainerBlock:n,isCaretContainerInline:i,showCaretContainerBlock:function(e){return e&&e.hasAttribute(\"data-mce-caret\")?(u(e),e.removeAttribute(\"data-mce-caret\"),e.removeAttribute(\"data-mce-bogus\"),e.removeAttribute(\"style\"),e.removeAttribute(\"_moz_abspos\"),e):null},insertInline:function(e,n){var i,o,a;if(o=e.ownerDocument.createTextNode(t.ZWSP),a=e.parentNode,n){if(d(i=e.previousSibling)){if(r(i))return i;if(l(i))return i.splitText(i.data.length-1)}a.insertBefore(o,e)}else{if(d(i=e.nextSibling)){if(r(i))return i;if(s(i))return i.splitText(1),i}e.nextSibling?a.insertBefore(o,e.nextSibling):a.appendChild(o)}return o},insertBlock:function(e,t,n){var i,r;return(i=t.ownerDocument.createElement(e)).setAttribute(\"data-mce-caret\",n?\"before\":\"after\"),i.setAttribute(\"data-mce-bogus\",\"all\"),i.appendChild(function(){var e=document.createElement(\"br\");return e.setAttribute(\"data-mce-bogus\",\"1\"),e}()),r=t.parentNode,n?r.insertBefore(i,t):t.nextSibling?r.insertBefore(i,t.nextSibling):r.appendChild(i),i},hasContent:a,remove:function(e){c(e)&&r(e)&&(a(e)?e.removeAttribute(\"data-mce-caret\"):o(e)),d(e)&&function(e,t){0===t.length?o(e):e.nodeValue=t}(e,t.trim(function(e){try{return e.nodeValue}catch(t){return\"\"}}(e)))},startsWithCaretContainer:s,endsWithCaretContainer:l}}),n(M,[h,g,w,m,C],function(e,t,n,i,r){function o(e){return h(e)||f(e)}function a(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}function s(e){return\"_mce_caret\"===e.id}function l(e,t){return p(e)&&!1===function(e,t,n){return null!==a(e,t,n)}(e,t,s)}function u(e){this.walk=function(t,n){function i(e){var t;return 3===(t=e[0]).nodeType&&t===g&&m>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===y&&e.length>0&&t===v&&3===t.nodeType&&e.splice(e.length-1,1),e}function r(e,t,n){for(var i=[];e&&e!=n;e=e[t])i.push(e);return i}function o(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function a(e,t,o){var a=o?\"nextSibling\":\"previousSibling\";for(h=(c=e).parentNode;c&&c!=t;c=h)h=c.parentNode,(f=r(c==e?c:c[a],a)).length&&(o||f.reverse(),n(i(f)))}var s,l,u,c,h,f,p,g=t.startContainer,m=t.startOffset,v=t.endContainer,y=t.endOffset;if((p=e.select(\"td[data-mce-selected],th[data-mce-selected]\")).length>0)d(p,function(e){n([e])});else{if(1==g.nodeType&&g.hasChildNodes()&&(g=g.childNodes[m]),1==v.nodeType&&v.hasChildNodes()&&(v=function(e,t){var n=e.childNodes;return--t>n.length-1?t=n.length-1:t<0&&(t=0),n[t]||e}(v,y)),g==v)return n(i([g]));for(s=e.findCommonAncestor(g,v),c=g;c;c=c.parentNode){if(c===v)return a(g,s,!0);if(c===s)break}for(c=v;c;c=c.parentNode){if(c===g)return a(v,s);if(c===s)break}l=o(g,s)||g,u=o(v,s)||v,a(g,l,!0),(f=r(l==g?l:l.nextSibling,\"nextSibling\",u==v?u.nextSibling:u)).length&&n(i(f)),a(v,u)}},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset;return n==r&&3==n.nodeType?i>0&&i<n.nodeValue.length&&(n=(r=t(n,i)).previousSibling,o>i?(n=r=t(r,o-=i).previousSibling,o=r.nodeValue.length,i=0):o=0):(3==n.nodeType&&i>0&&i<n.nodeValue.length&&(n=t(n,i),i=0),3==r.nodeType&&o>0&&o<r.nodeValue.length&&(o=(r=t(r,o).previousSibling).nodeValue.length)),{startContainer:n,startOffset:i,endContainer:r,endOffset:o}},this.normalize=function(n){function i(i){function a(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function s(n,i){for(var r=new t(n,e.getParent(n.parentNode,e.isBlock)||x);n=r[i?\"prev\":\"next\"]();)if(\"BR\"===n.nodeName)return!0}function u(n,i){var a,s,u;if(u=e.getParent((i=i||c).parentNode,e.isBlock)||x,n&&\"BR\"==i.nodeName&&y&&e.isEmpty(u))return c=i.parentNode,d=e.nodeIndex(i),void(r=!0);for(a=new t(i,u);g=a[n?\"prev\":\"next\"]();){if(\"false\"===e.getContentEditableParent(g)||l(g,e.getRoot()))return;if(3===g.nodeType&&g.nodeValue.length>0)return c=g,d=n?g.nodeValue.length:0,void(r=!0);if(e.isBlock(g)||m[g.nodeName.toLowerCase()])return;s=g}o&&s&&(c=s,r=!0,d=0)}var c,d,h,g,m,v,y,x=e.getRoot();if(d=n[(i?\"start\":\"end\")+\"Offset\"],y=1==(c=n[(i?\"start\":\"end\")+\"Container\"]).nodeType&&d===c.childNodes.length,m=e.schema.getNonEmptyElements(),v=i,!p(c)){if(1==c.nodeType&&d>c.childNodes.length-1&&(v=!1),9===c.nodeType&&(c=e.getRoot(),d=0),c===x){if(v&&(g=c.childNodes[d>0?d-1:0])){if(p(g))return;if(m[g.nodeName]||\"TABLE\"==g.nodeName)return}if(c.hasChildNodes()){if(d=Math.min(!v&&d>0?d-1:d,c.childNodes.length-1),c=c.childNodes[d],d=0,!o&&c===x.lastChild&&\"TABLE\"===c.nodeName)return;if(function(e){for(;e&&e!=x;){if(f(e))return!0;e=e.parentNode}return!1}(c)||p(c))return;if(c.hasChildNodes()&&!/TABLE/.test(c.nodeName)){g=c,h=new t(c,x);do{if(f(g)||p(g)){r=!1;break}if(3===g.nodeType&&g.nodeValue.length>0){d=v?0:g.nodeValue.length,c=g,r=!0;break}if(m[g.nodeName.toLowerCase()]&&!a(g)){d=e.nodeIndex(g),c=g.parentNode,\"IMG\"!=g.nodeName||v||d++,r=!0;break}}while(g=v?h.next():h.prev())}}}o&&(3===c.nodeType&&0===d&&u(!0),1===c.nodeType&&((g=c.childNodes[d])||(g=c.childNodes[d-1]),!g||\"BR\"!==g.nodeName||function(e,t){return e.previousSibling&&\"A\"==e.previousSibling.nodeName}(g)||s(g)||s(g,!0)||u(!0,g))),v&&!o&&3===c.nodeType&&d===c.nodeValue.length&&u(!1),r&&n[\"set\"+(i?\"Start\":\"End\")](c,d)}}var r,o;return o=n.collapsed,i(!0),o||i(),r&&o&&n.collapse(!0),r}}function c(t,n,i){var r,o,s;if(r=i.elementFromPoint(t,n),o=i.body.createTextRange(),r&&\"HTML\"!=r.tagName||(r=i.body),o.moveToElementText(r),(s=(s=e.toArray(o.getClientRects())).sort(function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-Math.abs(Math.max(t.top-n,t.bottom-n))})).length>0){n=(s[0].bottom+s[0].top)/2;try{return o.moveToPoint(t,n),o.collapse(!0),o}catch(a){}}return null}var d=e.each,h=n.isContentEditableTrue,f=n.isContentEditableFalse,p=r.isCaretContainer;return u.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},u.getCaretRangeFromPoint=function(e,t,n){var i,r;if(n.caretPositionFromPoint)r=n.caretPositionFromPoint(e,t),(i=n.createRange()).setStart(r.offsetNode,r.offset),i.collapse(!0);else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(e,t);else if(n.body.createTextRange){i=n.body.createTextRange();try{i.moveToPoint(e,t),i.collapse(!0)}catch(o){i=c(e,t,n)}return function(e,t){var n=e&&e.parentElement?e.parentElement():null;return f(a(n,t,o))?null:e}(i,n.body)}return i},u.getSelectedNode=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset==n+1?t.childNodes[n]:null},u.getNode=function(e,t){return 1==e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},u}),n(T,[M,l,s],function(e,t,n){return function(i){var r,o=[];\"onselectionchange\"in i.getDoc()||i.on(\"NodeChange Click MouseUp KeyUp Focus\",function(t){var n,o;o={startContainer:(n=i.selection.getRng()).startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset},\"nodechange\"!=t.type&&e.compareRanges(o,r)||i.fire(\"SelectionChange\"),r=o}),i.on(\"contextmenu\",function(){i.fire(\"SelectionChange\")}),i.on(\"SelectionChange\",function(){var e=i.selection.getStart(!0);!t.range&&i.selection.isCollapsed()||!function(e){var t,n;if((n=i.$(e).parentsUntil(i.getBody()).add(e)).length===o.length){for(t=n.length;t>=0&&n[t]===o[t];t--);if(-1===t)return o=n,!0}return o=n,!1}(e)&&i.dom.isChildOf(e,i.getBody())&&i.nodeChanged({selectionChange:!0})}),i.on(\"MouseUp\",function(e){e.isDefaultPrevented()||(\"IMG\"==i.selection.getNode().nodeName?n.setEditorTimeout(i,function(){i.nodeChanged()}):i.nodeChanged())}),this.nodeChanged=function(e){var t,n,r,o=i.selection;i.initialized&&o&&!i.settings.disable_nodechange&&!i.readonly&&(r=i.getBody(),(t=o.getStart()||r).ownerDocument==i.getDoc()&&i.dom.isChildOf(t,r)||(t=r),\"IMG\"==t.nodeName&&o.isCollapsed()&&(t=t.parentNode),n=[],i.dom.getParent(t,function(e){return e===r||void n.push(e)}),(e=e||{}).element=t,e.parents=n,i.fire(\"NodeChange\",e))}}}),n(k,[],function(){function e(e,t,n){var i,r,o=n?\"lastChild\":\"firstChild\",a=n?\"prev\":\"next\";if(e[o])return e[o];if(e!==t){if(i=e[a])return i;for(r=e.parent;r&&r!==t;r=r.parent)if(i=r[a])return i}}function t(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var n=/^[ \\t\\r\\n]*$/,i={\"#text\":3,\"#comment\":8,\"#cdata\":4,\"#pi\":7,\"#doctype\":10,\"#document-fragment\":11};return t.prototype={replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n,i,r=this;if(\"string\"!=typeof e){for(i in e)r.attr(i,e[i]);return r}if(n=r.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),r;return r}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}return n.map[e]}},clone:function(){var e,n,i,r,o,a=this,s=new t(a.name,a.type);if(i=a.attributes){for((o=[]).map={},e=0,n=i.length;e<n;e++)\"id\"!==(r=i[e]).name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);s.attributes=o}return s.value=a.value,s.shortEnded=a.shortEnded,s},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},remove:function(){var e=this,t=e.parent,n=e.next,i=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):i.next=n,t.lastChild===e?(t.lastChild=i,i&&(i.next=null)):n.prev=i,e.parent=e.next=e.prev=null),e},append:function(e){var t,n=this;return e.parent&&e.remove(),(t=n.lastChild)?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},insert:function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=i,e},getAll:function(t){var n,i=[];for(n=this.firstChild;n;n=e(n,this))n.name===t&&i.push(n);return i},empty:function(){var t,n,i,r=this;if(r.firstChild){for(t=[],i=r.firstChild;i;i=e(i,r))t.push(i);for(n=t.length;n--;)(i=t[n]).parent=i.firstChild=i.lastChild=i.next=i.prev=null}return r.firstChild=r.lastChild=null,r},isEmpty:function(t,i){var r,o,a=this.firstChild;if(i=i||{},a)do{if(1===a.type){if(a.attributes.map[\"data-mce-bogus\"])continue;if(t[a.name])return!1;for(r=a.attributes.length;r--;)if(\"name\"===(o=a.attributes[r].name)||0===o.indexOf(\"data-mce-bookmark\"))return!1}if(8===a.type)return!1;if(3===a.type&&!n.test(a.value))return!1;if(3===a.type&&a.parent&&i[a.parent.name]&&n.test(a.value))return!1}while(a=e(a,this));return!0},walk:function(t){return e(this,null,t)}},t.create=function(e,n){var r,o;if(r=new t(e,i[e]||1),n)for(o in n)r.attr(o,n[o]);return r},t}),n(A,[h],function(e){function t(t,n){return(t=e.trim(t))?t.split(n||\" \"):[]}function n(e){function n(e,n,i){function r(e,t){var n,i,r={};for(n=0,i=e.length;n<i;n++)r[e[n]]=t||{};return r}var s,l,u;for(n=n||\"\",\"string\"==typeof(i=i||[])&&(i=t(i)),s=(e=t(e)).length;s--;)u={attributes:r(l=t([a,n].join(\" \"))),attributesOrder:l,children:r(i,o)},f[e[s]]=u}function i(e,n){var i,r,o,a;for(i=(e=t(e)).length,n=t(n);i--;)for(r=f[e[i]],o=0,a=n.length;o<a;o++)r.attributes[n[o]]={},r.attributesOrder.push(n[o])}var a,l,u,c,d,h,f={};return r[e]?r[e]:(a=\"id accesskey class dir lang style tabindex title\",l=\"address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul\",u=\"a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment\",\"html4\"!=e&&(a+=\" contenteditable contextmenu draggable dropzone hidden spellcheck translate\",l+=\" article aside details dialog figure header footer hgroup section nav\",u+=\" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen\"),\"html5-strict\"!=e&&(a+=\" xml:lang\",u=[u,h=\"acronym applet basefont big font strike tt\"].join(\" \"),s(t(h),function(e){n(e,\"\",u)}),l=[l,d=\"center dir isindex noframes\"].join(\" \"),c=[l,u].join(\" \"),s(t(d),function(e){n(e,\"\",c)})),c=c||[l,u].join(\" \"),n(\"html\",\"manifest\",\"head body\"),n(\"head\",\"\",\"base command link meta noscript script style title\"),n(\"title hr noscript br\"),n(\"base\",\"href target\"),n(\"link\",\"href rel media hreflang type sizes hreflang\"),n(\"meta\",\"name http-equiv content charset\"),n(\"style\",\"media type scoped\"),n(\"script\",\"src async defer type charset\"),n(\"body\",\"onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload\",c),n(\"address dt dd div caption\",\"\",c),n(\"h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn\",\"\",u),n(\"blockquote\",\"cite\",c),n(\"ol\",\"reversed start type\",\"li\"),n(\"ul\",\"\",\"li\"),n(\"li\",\"value\",c),n(\"dl\",\"\",\"dt dd\"),n(\"a\",\"href target rel media hreflang type\",u),n(\"q\",\"cite\",u),n(\"ins del\",\"cite datetime\",c),n(\"img\",\"src sizes srcset alt usemap ismap width height\"),n(\"iframe\",\"src name width height\",c),n(\"embed\",\"src type width height\"),n(\"object\",\"data type typemustmatch name usemap form width height\",[c,\"param\"].join(\" \")),n(\"param\",\"name value\"),n(\"map\",\"name\",[c,\"area\"].join(\" \")),n(\"area\",\"alt coords shape href target rel media hreflang type\"),n(\"table\",\"border\",\"caption colgroup thead tfoot tbody tr\"+(\"html4\"==e?\" col\":\"\")),n(\"colgroup\",\"span\",\"col\"),n(\"col\",\"span\"),n(\"tbody thead tfoot\",\"\",\"tr\"),n(\"tr\",\"\",\"td th\"),n(\"td\",\"colspan rowspan headers\",c),n(\"th\",\"colspan rowspan headers scope abbr\",c),n(\"form\",\"accept-charset action autocomplete enctype method name novalidate target\",c),n(\"fieldset\",\"disabled form name\",[c,\"legend\"].join(\" \")),n(\"label\",\"form for\",u),n(\"input\",\"accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width\"),n(\"button\",\"disabled form formaction formenctype formmethod formnovalidate formtarget name type value\",\"html4\"==e?c:u),n(\"select\",\"disabled form multiple name required size\",\"option optgroup\"),n(\"optgroup\",\"disabled label\",\"option\"),n(\"option\",\"disabled label selected value\"),n(\"textarea\",\"cols dirname disabled form maxlength name readonly required rows wrap\"),n(\"menu\",\"type label\",[c,\"li\"].join(\" \")),n(\"noscript\",\"\",c),\"html4\"!=e&&(n(\"wbr\"),n(\"ruby\",\"\",[u,\"rt rp\"].join(\" \")),n(\"figcaption\",\"\",c),n(\"mark rt rp summary bdi\",\"\",u),n(\"canvas\",\"width height\",c),n(\"video\",\"src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered\",[c,\"track source\"].join(\" \")),n(\"audio\",\"src crossorigin preload autoplay mediagroup loop muted controls buffered volume\",[c,\"track source\"].join(\" \")),n(\"picture\",\"\",\"img source\"),n(\"source\",\"src srcset type media sizes\"),n(\"track\",\"kind src srclang label default\"),n(\"datalist\",\"\",[u,\"option\"].join(\" \")),n(\"article section nav aside header footer\",\"\",c),n(\"hgroup\",\"\",\"h1 h2 h3 h4 h5 h6\"),n(\"figure\",\"\",[c,\"figcaption\"].join(\" \")),n(\"time\",\"datetime\",u),n(\"dialog\",\"open\",c),n(\"command\",\"type label icon disabled checked radiogroup command\"),n(\"output\",\"for form name\",u),n(\"progress\",\"value max\",u),n(\"meter\",\"value min max low high optimum\",u),n(\"details\",\"open\",[c,\"summary\"].join(\" \")),n(\"keygen\",\"autofocus challenge disabled form keytype name\")),\"html5-strict\"!=e&&(i(\"script\",\"language xml:space\"),i(\"style\",\"xml:space\"),i(\"object\",\"declare classid code codebase codetype archive standby align border hspace vspace\"),i(\"embed\",\"align name hspace vspace\"),i(\"param\",\"valuetype type\"),i(\"a\",\"charset name rev shape coords\"),i(\"br\",\"clear\"),i(\"applet\",\"codebase archive code object alt name width height align hspace vspace\"),i(\"img\",\"name longdesc align border hspace vspace\"),i(\"iframe\",\"longdesc frameborder marginwidth marginheight scrolling align\"),i(\"font basefont\",\"size color face\"),i(\"input\",\"usemap align\"),i(\"select\",\"onchange\"),i(\"textarea\"),i(\"h1 h2 h3 h4 h5 h6 div p legend caption\",\"align\"),i(\"ul\",\"type compact\"),i(\"li\",\"type\"),i(\"ol dl menu dir\",\"compact\"),i(\"pre\",\"width xml:space\"),i(\"hr\",\"align noshade size width\"),i(\"isindex\",\"prompt\"),i(\"table\",\"summary width frame rules cellspacing cellpadding align bgcolor\"),i(\"col\",\"width align char charoff valign\"),i(\"colgroup\",\"width align char charoff valign\"),i(\"thead\",\"align char charoff valign\"),i(\"tr\",\"align char charoff valign bgcolor\"),i(\"th\",\"axis align char charoff valign nowrap bgcolor width height\"),i(\"form\",\"accept\"),i(\"td\",\"abbr axis scope align char charoff valign nowrap bgcolor width height\"),i(\"tfoot\",\"align char charoff valign\"),i(\"tbody\",\"align char charoff valign\"),i(\"area\",\"nohref\"),i(\"body\",\"background bgcolor text link vlink alink\")),\"html4\"!=e&&(i(\"input button select textarea\",\"autofocus\"),i(\"input textarea\",\"placeholder\"),i(\"a\",\"download\"),i(\"link script img\",\"crossorigin\"),i(\"iframe\",\"sandbox seamless allowfullscreen\")),s(t(\"a form meter progress dfn\"),function(e){f[e]&&delete f[e].children[e]}),delete f.caption.children.table,delete f.script,r[e]=f,f)}function i(e,t){var n;return e&&(n={},\"string\"==typeof e&&(e={\"*\":e}),s(e,function(e,i){n[i]=n[i.toUpperCase()]=\"map\"==t?a(e,/[, ]/):u(e,/[, ]/)})),n}var r={},o={},a=e.makeMap,s=e.each,l=e.extend,u=e.explode,c=e.inArray;return function(e){function o(t,n,i){var o=e[t];return o?o=a(o,/[, ]/,a(o.toUpperCase(),/[, ]/)):(o=r[t])||(o=a(n,\" \",a(n.toUpperCase(),\" \")),o=l(o,i),r[t]=o),o}function d(e){return new RegExp(\"^\"+e.replace(/([?+*])/g,\".$1\")+\"$\")}function h(e){var n,i,r,o,s,l,u,h,f,p,g,m,v,y,x,b,_,w,S,C=/^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)\\])?$/,M=/^([!\\-])?(\\w+::\\w+|[^=:<]+)?(?:([=:<])(.*))?$/,T=/[*?+]/;if(e)for(e=t(e,\",\"),N[\"@\"]&&(b=N[\"@\"].attributes,_=N[\"@\"].attributesOrder),n=0,i=e.length;n<i;n++)if(s=C.exec(e[n])){if(f=s[2],x=s[3],h=s[5],l={attributes:m={},attributesOrder:v=[]},\"#\"===(y=s[1])&&(l.paddEmpty=!0),\"-\"===y&&(l.removeEmpty=!0),\"!\"===s[4]&&(l.removeEmptyAttrs=!0),b){for(w in b)m[w]=b[w];v.push.apply(v,_)}if(h)for(r=0,o=(h=t(h,\"|\")).length;r<o;r++)if(s=M.exec(h[r])){if(u={},g=s[1],p=s[2].replace(/::/g,\":\"),y=s[3],S=s[4],\"!\"===g&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(p),u.required=!0),\"-\"===g){delete m[p],v.splice(c(v,p),1);continue}y&&(\"=\"===y&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:p,value:S}),u.defaultValue=S),\":\"===y&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:p,value:S}),u.forcedValue=S),\"<\"===y&&(u.validValues=a(S,\"?\"))),T.test(p)?(l.attributePatterns=l.attributePatterns||[],u.pattern=d(p),l.attributePatterns.push(u)):(m[p]||v.push(p),m[p]=u)}b||\"@\"!=f||(b=m,_=v),x&&(l.outputName=f,N[x]=l),T.test(f)?(l.pattern=d(f),L.push(l)):N[f]=l}}function f(e){N={},L=[],h(e),s(x,function(e,t){P[t]=e.children})}function p(e){var n=/^(~)?(.+)$/;e&&(r.text_block_elements=r.block_elements=null,s(t(e,\",\"),function(e){var t=n.exec(e),i=\"~\"===t[1],r=i?\"span\":\"div\",o=t[2];if(P[o]=P[r],E[o]=r,i||(M[o.toUpperCase()]={},M[o]={}),!N[o]){var a=N[r];delete(a=l({},a)).removeEmptyAttrs,delete a.removeEmpty,N[o]=a}s(P,function(e,t){e[r]&&(P[t]=e=l({},P[t]),e[o]=e[r])})}))}function g(n){var i=/^([+\\-]?)(\\w+)\\[([^\\]]+)\\]$/;r[e.schema]=null,n&&s(t(n,\",\"),function(e){var n,r,o=i.exec(e);o&&(n=(r=o[1])?P[o[2]]:P[o[2]]={\"#comment\":{}},n=P[o[2]],s(t(o[3],\"|\"),function(e){\"-\"===r?delete n[e]:n[e]={}}))})}function m(e){var t,n=N[e];if(n)return n;for(t=L.length;t--;)if((n=L[t]).pattern.test(e))return n}var v,y,x,b,_,w,S,C,M,T,k,A,I,D=this,N={},P={},L=[],E={},R={};x=n((e=e||{}).schema),!1===e.verify_html&&(e.valid_elements=\"*[*]\"),v=i(e.valid_styles),y=i(e.invalid_styles,\"map\"),C=i(e.valid_classes,\"map\"),b=o(\"whitespace_elements\",\"pre script noscript style textarea video audio iframe object code\"),_=o(\"self_closing_elements\",\"colgroup dd dt li option p td tfoot th thead tr\"),w=o(\"short_ended_elements\",\"area base basefont br col frame hr img input isindex link meta param embed source wbr track\"),S=o(\"boolean_attributes\",\"checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls\"),T=o(\"non_empty_elements\",\"td th iframe video audio object script pre code\",w),k=o(\"move_caret_before_on_enter_elements\",\"table\",T),A=o(\"text_block_elements\",\"h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure\"),M=o(\"block_elements\",\"hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption\",A),I=o(\"text_inline_elements\",\"span strong b em i font strike u var cite dfn code mark q sup sub samp\"),s((e.special||\"script noscript style textarea\").split(\" \"),function(e){R[e]=new RegExp(\"</\"+e+\"[^>]*>\",\"gi\")}),e.valid_elements?f(e.valid_elements):(s(x,function(e,t){N[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},P[t]=e.children}),\"html5\"!=e.schema&&s(t(\"strong/b em/i\"),function(e){e=t(e,\"/\"),N[e[1]].outputName=e[0]}),s(t(\"ol ul sub sup blockquote span font a table tbody tr strong em b i\"),function(e){N[e]&&(N[e].removeEmpty=!0)}),s(t(\"p h1 h2 h3 h4 h5 h6 th td pre div address caption\"),function(e){N[e].paddEmpty=!0}),s(t(\"span\"),function(e){N[e].removeEmptyAttrs=!0})),p(e.custom_elements),g(e.valid_children),h(e.extended_valid_elements),g(\"+ol[ul|ol],+ul[ul|ol]\"),s({dd:\"dl\",dt:\"dl\",li:\"ul ol\",td:\"tr\",th:\"tr\",tr:\"tbody thead tfoot\",tbody:\"table\",thead:\"table\",tfoot:\"table\",legend:\"fieldset\",area:\"map\",param:\"video audio object\"},function(e,n){N[n]&&(N[n].parentsRequired=t(e))}),e.invalid_elements&&s(u(e.invalid_elements),function(e){N[e]&&delete N[e]}),m(\"span\")||h(\"span[!data-mce-type|*]\"),D.children=P,D.getValidStyles=function(){return v},D.getInvalidStyles=function(){return y},D.getValidClasses=function(){return C},D.getBoolAttrs=function(){return S},D.getBlockElements=function(){return M},D.getTextBlockElements=function(){return A},D.getTextInlineElements=function(){return I},D.getShortEndedElements=function(){return w},D.getSelfClosingElements=function(){return _},D.getNonEmptyElements=function(){return T},D.getMoveCaretBeforeOnEnterElements=function(){return k},D.getWhiteSpaceElements=function(){return b},D.getSpecialElements=function(){return R},D.isValidChild=function(e,t){var n=P[e];return!(!n||!n[t])},D.isValid=function(e,t){var n,i,r=m(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},D.getElementRule=m,D.getCustomElements=function(){return E},D.addValidElements=h,D.setValidElements=f,D.addCustomElements=p,D.addValidChildren=g,D.elements=N}}),n(I,[A,v,h],function(e,t,n){function i(e,t,n){var i,r,o,a,s=1;for(a=e.getShortEndedElements(),(o=/<([!?\\/])?([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"\\'>]+(?:(?:\"[^\"]*\")|(?:\\'[^\\']*\\')|[^>]*))*|\\/|\\s+)>/g).lastIndex=i=n;r=o.exec(t);){if(i=o.lastIndex,\"/\"===r[1])s--;else if(!r[1]){if(r[2]in a)continue;s++}if(0===s)break}return i}function r(r,a){function s(){}var l=this;r=r||{},l.schema=a=a||new e,!1!==r.fix_self_closing&&(r.fix_self_closing=!0),o(\"comment cdata text start end pi doctype\".split(\" \"),function(e){e&&(l[e]=r[e]||s)}),l.parse=function(e){function o(e){var t,n;for(t=z.length;t--&&z[t].name!==e;);if(t>=0){for(n=z.length-1;n>=t;n--)(e=z[n]).valid&&O.end(e.name);z.length=t}}function s(e,t,n,i,o){var a,s;if(n=(t=t.toLowerCase())in y?t:V(n||i||o||\"\"),b&&!g&&0!==t.indexOf(\"data-\")){if(!(a=M[t])&&T){for(s=T.length;s--&&!(a=T[s]).pattern.test(t););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(n in a.validValues))return}if(H[t]&&!r.allow_script_urls){var l=n.replace(/[\\s\\u0000-\\u001F]+/g,\"\");try{l=decodeURIComponent(l)}catch(B){l=unescape(l)}if(W.test(l))return;if(!r.allow_html_data_urls&&G.test(l)&&!/^data:image\\//i.test(l))return}d.map[t]=n,d.push({name:t,value:n})}var l,u,c,d,h,f,p,g,m,v,y,x,b,_,w,S,C,M,T,k,A,I,D,N,P,L,E,R,O=this,B=0,z=[],F=0,V=t.decode,H=n.makeMap(\"src,href,data,background,formaction,poster\"),W=/((java|vb)script|mhtml):/i,G=/^data:/i;for(N=new RegExp(\"<(?:(?:!--([\\\\w\\\\W]*?)--\\x3e)|(?:!\\\\[CDATA\\\\[([\\\\w\\\\W]*?)\\\\]\\\\]>)|(?:!DOCTYPE([\\\\w\\\\W]*?)>)|(?:\\\\?([^\\\\s\\\\/<>]+) ?([\\\\w\\\\W]*?)[?/]>)|(?:\\\\/([^>]+)>)|(?:([A-Za-z0-9\\\\-_\\\\:\\\\.]+)((?:\\\\s+[^\\\"'>]+(?:(?:\\\"[^\\\"]*\\\")|(?:'[^']*')|[^>]*))*|\\\\/|\\\\s+)>))\",\"g\"),P=/([\\w:\\-]+)(?:\\s*=\\s*(?:(?:\\\"((?:[^\\\"])*)\\\")|(?:\\'((?:[^\\'])*)\\')|([^>\\s]+)))?/g,v=a.getShortEndedElements(),D=r.self_closing_elements||a.getSelfClosingElements(),y=a.getBoolAttrs(),b=r.validate,m=r.remove_internals,R=r.fix_self_closing,L=a.getSpecialElements();l=N.exec(e);){if(B<l.index&&O.text(V(e.substr(B,l.index-B))),u=l[6])\":\"===(u=u.toLowerCase()).charAt(0)&&(u=u.substr(1)),o(u);else if(u=l[7]){if(\":\"===(u=u.toLowerCase()).charAt(0)&&(u=u.substr(1)),x=u in v,R&&D[u]&&z.length>0&&z[z.length-1].name===u&&o(u),!b||(_=a.getElementRule(u))){if(w=!0,b&&(M=_.attributes,T=_.attributePatterns),(C=l[8])?((g=-1!==C.indexOf(\"data-mce-type\"))&&m&&(w=!1),(d=[]).map={},C.replace(P,s)):(d=[]).map={},b&&!g){if(k=_.attributesRequired,A=_.attributesDefault,_.removeEmptyAttrs&&!d.length&&(w=!1),I=_.attributesForced)for(h=I.length;h--;)\"{$uid}\"===(E=(S=I[h]).value)&&(E=\"mce_\"+F++),d.map[p=S.name]=E,d.push({name:p,value:E});if(A)for(h=A.length;h--;)(p=(S=A[h]).name)in d.map||(\"{$uid}\"===(E=S.value)&&(E=\"mce_\"+F++),d.map[p]=E,d.push({name:p,value:E}));if(k){for(h=k.length;h--&&!(k[h]in d.map););-1===h&&(w=!1)}if(S=d.map[\"data-mce-bogus\"]){if(\"all\"===S){B=i(a,e,N.lastIndex),N.lastIndex=B;continue}w=!1}}w&&O.start(u,d,x)}else w=!1;if(c=L[u]){c.lastIndex=B=l.index+l[0].length,(l=c.exec(e))?(w&&(f=e.substr(B,l.index-B)),B=l.index+l[0].length):(f=e.substr(B),B=e.length),w&&(f.length>0&&O.text(f,!0),O.end(u)),N.lastIndex=B;continue}x||(C&&C.indexOf(\"/\")==C.length-1?w&&O.end(u):z.push({name:u,valid:w}))}else(u=l[1])?(\">\"===u.charAt(0)&&(u=\" \"+u),r.allow_conditional_comments||\"[if\"!==u.substr(0,3).toLowerCase()||(u=\" \"+u),O.comment(u)):(u=l[2])?O.cdata(u):(u=l[3])?O.doctype(u):(u=l[4])&&O.pi(u,l[5]);B=l.index+l[0].length}for(B<e.length&&O.text(V(e.substr(B))),h=z.length-1;h>=0;h--)(u=z[h]).valid&&O.end(u.name)}}var o=n.each;return r.findEndTag=i,r}),n(D,[k,A,I,h],function(e,t,n,i){var r=i.makeMap,o=i.each,a=i.explode,s=i.extend,l=function(t,n){t.padd_empty_with_br?n.empty().append(new e(\"br\",\"1\")).shortEnded=!0:n.empty().append(new e(\"#text\",\"3\")).value=\" \"},u=function(e,t){return e&&e.firstChild===e.lastChild&&e.firstChild.name===t};return function(c,d){function h(t){var n,i,o,a,s,l,c,h,p,g,m,v,y,x,b,_;for(v=r(\"tr,td,th,tbody,thead,tfoot,table\"),g=d.getNonEmptyElements(),m=d.getWhiteSpaceElements(),y=d.getTextBlockElements(),x=d.getSpecialElements(),n=0;n<t.length;n++)if((i=t[n]).parent&&!i.fixed)if(y[i.name]&&\"li\"==i.parent.name){for(b=i.next;b&&y[b.name];)b.name=\"li\",b.fixed=!0,i.parent.insert(b,i.parent),b=b.next;i.unwrap(i)}else{for(a=[i],o=i.parent;o&&!d.isValidChild(o.name,i.name)&&!v[o.name];o=o.parent)a.push(o);if(o&&a.length>1){for(a.reverse(),s=l=f.filterNode(a[0].clone()),p=0;p<a.length-1;p++){for(d.isValidChild(l.name,a[p].name)?(c=f.filterNode(a[p].clone()),l.append(c)):c=l,h=a[p].firstChild;h&&h!=a[p+1];)_=h.next,c.append(h),h=_;l=c}s.isEmpty(g,m)?o.insert(i,a[0],!0):(o.insert(s,a[0],!0),o.insert(i,s)),((o=a[0]).isEmpty(g,m)||u(o,\"br\"))&&o.empty().remove()}else if(i.parent){if(\"li\"===i.name){if((b=i.prev)&&(\"ul\"===b.name||\"ul\"===b.name)){b.append(i);continue}if((b=i.next)&&(\"ul\"===b.name||\"ul\"===b.name)){b.insert(i,b.firstChild,!0);continue}i.wrap(f.filterNode(new e(\"ul\",1)));continue}d.isValidChild(i.parent.name,\"div\")&&d.isValidChild(\"div\",i.name)?i.wrap(f.filterNode(new e(\"div\",1))):x[i.name]?i.empty().remove():i.unwrap()}}}var f=this,p={},g=[],m={},v={};(c=c||{}).validate=!(\"validate\"in c)||c.validate,c.root_name=c.root_name||\"body\",f.schema=d=d||new t,f.filterNode=function(e){var t,n,i;n in p&&((i=m[n])?i.push(e):m[n]=[e]),t=g.length;for(;t--;)(n=g[t].name)in e.attributes.map&&((i=v[n])?i.push(e):v[n]=[e]);return e},f.addNodeFilter=function(e,t){o(a(e),function(e){var n=p[e];n||(p[e]=n=[]),n.push(t)})},f.addAttributeFilter=function(e,t){o(a(e),function(e){var n;for(n=0;n<g.length;n++)if(g[n].name===e)return void g[n].callbacks.push(t);g.push({name:e,callbacks:[t]})})},f.parse=function(t,i){function o(t,n){var i,r=new e(t,n);return t in p&&((i=m[t])?i.push(r):m[t]=[r]),r}function a(e){var t,n,i,r,o=d.getBlockElements();for(t=e.prev;t&&3===t.type;){if((i=t.value.replace(D,\"\")).length>0)return void(t.value=i);if(n=t.next){if(3==n.type&&n.value.length){t=t.prev;continue}if(!o[n.name]&&\"script\"!=n.name&&\"style\"!=n.name){t=t.prev;continue}}r=t.prev,t.remove(),t=r}}var u,f,y,x,b,_,w,S,C,M,T,k,A,I,D,N,P,L,E,R,O,B=[];if(i=i||{},m={},v={},k=s(r(\"script,style,head,html,body,title,meta,param\"),d.getBlockElements()),R=d.getNonEmptyElements(),E=d.children,T=c.validate,O=\"forced_root_block\"in i?i.forced_root_block:c.forced_root_block,L=d.getWhiteSpaceElements(),A=/^[ \\t\\r\\n]+/,D=/[ \\t\\r\\n]+$/,N=/[ \\t\\r\\n]+/g,P=/^[ \\t\\r\\n]+$/,u=new n({validate:T,allow_script_urls:c.allow_script_urls,allow_conditional_comments:c.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)\"li\"!==t&&\"p\"!=t&&(n[t]=e[t]);return n}(d.getSelfClosingElements()),cdata:function(e){y.append(o(\"#cdata\",4)).value=e},text:function(e,t){var n;I||(e=e.replace(N,\" \"),y.lastChild&&k[y.lastChild.name]&&(e=e.replace(A,\"\"))),0!==e.length&&((n=o(\"#text\",3)).raw=!!t,y.append(n).value=e)},comment:function(e){y.append(o(\"#comment\",8)).value=e},pi:function(e,t){y.append(o(e,7)).value=t,a(y)},doctype:function(e){y.append(o(\"#doctype\",10)).value=e,a(y)},start:function(e,t,n){var i,r,s,l,u;if(s=T?d.getElementRule(e):{}){for((i=o(s.outputName||e,1)).attributes=t,i.shortEnded=n,y.append(i),(u=E[y.name])&&E[i.name]&&!u[i.name]&&B.push(i),r=g.length;r--;)(l=g[r].name)in t.map&&((C=v[l])?C.push(i):v[l]=[i]);k[e]&&a(i),n||(y=i),!I&&L[e]&&(I=!0)}},end:function(e){var t,n,i,r,o;if(n=T?d.getElementRule(e):{}){if(k[e]&&!I){if((t=y.firstChild)&&3===t.type)if((i=t.value.replace(A,\"\")).length>0)t.value=i,t=t.next;else for(r=t.next,t.remove(),t=r;t&&3===t.type;)r=t.next,(0===(i=t.value).length||P.test(i))&&(t.remove(),t=r),t=r;if((t=y.lastChild)&&3===t.type)if((i=t.value.replace(D,\"\")).length>0)t.value=i,t=t.prev;else for(r=t.prev,t.remove(),t=r;t&&3===t.type;)r=t.prev,(0===(i=t.value).length||P.test(i))&&(t.remove(),t=r),t=r}if(I&&L[e]&&(I=!1),(n.removeEmpty||n.paddEmpty)&&y.isEmpty(R,L))if(n.paddEmpty)l(c,y);else if(!y.attributes.map.name&&!y.attributes.map.id)return o=y.parent,k[y.name]?y.empty().remove():y.unwrap(),void(y=o);y=y.parent}}},d),f=y=new e(i.context||c.root_name,11),u.parse(t),T&&B.length&&(i.context?i.invalid=!0:h(B)),O&&(\"body\"==f.name||i.isRootContent)&&function(){function e(e){e&&((i=e.firstChild)&&3==i.type&&(i.value=i.value.replace(A,\"\")),(i=e.lastChild)&&3==i.type&&(i.value=i.value.replace(D,\"\")))}var t,n,i=f.firstChild;if(d.isValidChild(f.name,O.toLowerCase())){for(;i;)t=i.next,3==i.type||1==i.type&&\"p\"!==i.name&&!k[i.name]&&!i.attr(\"data-mce-type\")?(n||((n=o(O,1)).attr(c.forced_root_block_attrs),f.insert(n,i)),n.append(i)):(e(n),n=null),i=t;e(n)}}(),!i.invalid){for(M in m){for(C=p[M],w=(x=m[M]).length;w--;)x[w].parent||x.splice(w,1);for(b=0,_=C.length;b<_;b++)C[b](x,M,i)}for(b=0,_=g.length;b<_;b++)if((C=g[b]).name in v){for(w=(x=v[C.name]).length;w--;)x[w].parent||x.splice(w,1);for(w=0,S=C.callbacks.length;w<S;w++)C.callbacks[w](x,C.name,i)}}return f},c.remove_trailing_brs&&f.addNodeFilter(\"br\",function(t){var n,i,r,o,a,u,h,f,p=t.length,g=s({},d.getBlockElements()),m=d.getNonEmptyElements(),v=d.getNonEmptyElements();for(g.body=1,n=0;n<p;n++)if(r=(i=t[n]).parent,g[i.parent.name]&&i===r.lastChild){for(a=i.prev;a;){if(\"span\"!==(u=a.name)||\"bookmark\"!==a.attr(\"data-mce-type\")){if(\"br\"!==u)break;if(\"br\"===u){i=null;break}}a=a.prev}i&&(i.remove(),r.isEmpty(m,v)&&(h=d.getElementRule(r.name))&&(h.removeEmpty?r.remove():h.paddEmpty&&l(c,r)))}else{for(o=i;r&&r.firstChild===o&&r.lastChild===o&&(o=r,!g[r.name]);)r=r.parent;o===r&&!0!==c.padd_empty_with_br&&((f=new e(\"#text\",3)).value=\" \",i.replace(f))}}),c.allow_unsafe_link_target||f.addAttributeFilter(\"href\",function(e){function t(e){var t=new RegExp(\"(\"+s.replace(\" \",\"|\")+\")\",\"g\");return e&&(e=i.trim(e.replace(t,\"\"))),e||null}function n(e,n){return n?function(e){return(e=t(e))?[e,s].join(\" \"):s}(e):t(e)}for(var r,o,a=e.length,s=\"noopener noreferrer\";a--;)o=(r=e[a]).attr(\"rel\"),\"a\"===r.name&&r.attr(\"rel\",n(o,\"_blank\"==r.attr(\"target\")))}),c.allow_html_in_named_anchor||f.addAttributeFilter(\"id,name\",function(e){for(var t,n,i,r,o=e.length;o--;)if(\"a\"===(r=e[o]).name&&r.firstChild&&!r.attr(\"href\")){i=r.parent,t=r.lastChild;do{n=t.prev,i.insert(t,r),t=n}while(t)}}),c.fix_list_elements&&f.addNodeFilter(\"ul,ol\",function(t){for(var n,i,r=t.length;r--;)if(\"ul\"===(i=(n=t[r]).parent).name||\"ol\"===i.name)if(n.prev&&\"li\"===n.prev.name)n.prev.append(n);else{var o=new e(\"li\",1);o.attr(\"style\",\"list-style-type: none\"),n.wrap(o)}}),c.validate&&d.getValidClasses()&&f.addAttributeFilter(\"class\",function(e){for(var t,n,i,r,o,a,s,l=e.length,u=d.getValidClasses();l--;){for(n=(t=e[l]).attr(\"class\").split(\" \"),o=\"\",i=0;i<n.length;i++)r=n[i],s=!1,(a=u[\"*\"])&&a[r]&&(s=!0),a=u[t.name],!s&&a&&a[r]&&(s=!0),s&&(o&&(o+=\" \"),o+=r);o.length||(o=null),t.attr(\"class\",o)}})}}),n(N,[v,h],function(e,t){var n=t.makeMap;return function(t){var i,r,o,a,s,l=[];return i=(t=t||{}).indent,r=n(t.indent_before||\"\"),o=n(t.indent_after||\"\"),a=e.getEncodeFunc(t.entity_encoding||\"raw\",t.entities),s=\"html\"==t.element_format,{start:function(e,t,n){var u,c,d,h;if(i&&r[e]&&l.length>0&&(h=l[l.length-1]).length>0&&\"\\n\"!==h&&l.push(\"\\n\"),l.push(\"<\",e),t)for(u=0,c=t.length;u<c;u++)l.push(\" \",(d=t[u]).name,'=\"',a(d.value,!0),'\"');l[l.length]=!n||s?\">\":\" />\",n&&i&&o[e]&&l.length>0&&(h=l[l.length-1]).length>0&&\"\\n\"!==h&&l.push(\"\\n\")},end:function(e){var t;l.push(\"</\",e,\">\"),i&&o[e]&&l.length>0&&(t=l[l.length-1]).length>0&&\"\\n\"!==t&&l.push(\"\\n\")},text:function(e,t){e.length>0&&(l[l.length]=t?e:a(e))},cdata:function(e){l.push(\"<![CDATA[\",e,\"]]>\")},comment:function(e){l.push(\"\\x3c!--\",e,\"--\\x3e\")},pi:function(e,t){t?l.push(\"<?\",e,\" \",a(t),\"?>\"):l.push(\"<?\",e,\"?>\"),i&&l.push(\"\\n\")},doctype:function(e){l.push(\"<!DOCTYPE\",e,\">\",i?\"\\n\":\"\")},reset:function(){l.length=0},getContent:function(){return l.join(\"\").replace(/\\n$/,\"\")}}}}),n(P,[N,A],function(e,t){return function(n,i){var r=this,o=new e(n);(n=n||{}).validate=!(\"validate\"in n)||n.validate,r.schema=i=i||new t,r.writer=o,r.serialize=function(e){function t(e){var n,s,l,u,c,d,h,f,p,g=r[e.type];if(g)g(e);else{if(n=e.name,s=e.shortEnded,l=e.attributes,a&&l&&l.length>1&&((d=[]).map={},p=i.getElementRule(e.name))){for(h=0,f=p.attributesOrder.length;h<f;h++)(u=p.attributesOrder[h])in l.map&&(d.map[u]=c=l.map[u],d.push({name:u,value:c}));for(h=0,f=l.length;h<f;h++)(u=l[h].name)in d.map||(d.map[u]=c=l.map[u],d.push({name:u,value:c}));l=d}if(o.start(e.name,l,s),!s){if(e=e.firstChild)do{t(e)}while(e=e.next);o.end(n)}}}var r,a;return a=n.validate,r={3:function(e){o.text(e.value,e.raw)},8:function(e){o.comment(e.value)},7:function(e){o.pi(e.name,e.value)},10:function(e){o.doctype(e.value)},4:function(e){o.cdata(e.value)},11:function(e){if(e=e.firstChild)do{t(e)}while(e=e.next)}},o.reset(),1!=e.type||n.inner?r[11](e):t(e),o.getContent()}}}),n(L,[x,D,I,v,P,k,A,l,h,S],function(e,t,n,i,r,o,a,s,l,u){var c=l.each,d=l.trim,h=e.DOM;return function(e,o){function f(e){var t=new RegExp([\"<span[^>]+data-mce-bogus[^>]+>[​\\ufeff]+<\\\\/span>\",\"\\\\s?(\"+y.join(\"|\")+')=\"[^\"]+\"'].join(\"|\"),\"gi\");return u.trim(e.replace(t,\"\"))}function p(e){var t,i,r,a,s,l=e,u=/<(\\w+) [^>]*data-mce-bogus=\"all\"[^>]*>/g,c=o.schema;for(l=f(l),s=c.getShortEndedElements();a=u.exec(l);)i=u.lastIndex,r=a[0].length,t=s[a[1]]?i:n.findEndTag(c,l,i),l=l.substring(0,i-r)+l.substring(t),u.lastIndex=i-r;return l}var g,m,v,y=[\"data-mce-selected\"];return o&&(g=o.dom,m=o.schema),g=g||h,m=m||new a(e),e.entity_encoding=e.entity_encoding||\"named\",e.remove_trailing_brs=!(\"remove_trailing_brs\"in e)||e.remove_trailing_brs,(v=new t(e,m)).addAttributeFilter(\"data-mce-tabindex\",function(e,t){for(var n,i=e.length;i--;)(n=e[i]).attr(\"tabindex\",n.attributes.map[\"data-mce-tabindex\"]),n.attr(t,null)}),v.addAttributeFilter(\"src,href,style\",function(t,n){for(var i,r,o=t.length,a=\"data-mce-\"+n,s=e.url_converter,l=e.url_converter_scope;o--;)void 0!==(r=(i=t[o]).attributes.map[a])?(i.attr(n,r.length>0?r:null),i.attr(a,null)):(r=i.attributes.map[n],\"style\"===n?r=g.serializeStyle(g.parseStyle(r),i.name):s&&(r=s.call(l,r,n,i.name)),i.attr(n,r.length>0?r:null))}),v.addAttributeFilter(\"class\",function(e){for(var t,n,i=e.length;i--;)(n=(t=e[i]).attr(\"class\"))&&(n=t.attr(\"class\").replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g,\"\"),t.attr(\"class\",n.length>0?n:null))}),v.addAttributeFilter(\"data-mce-type\",function(e,t,n){for(var i,r=e.length;r--;)\"bookmark\"!==(i=e[r]).attributes.map[\"data-mce-type\"]||n.cleanup||i.remove()}),v.addNodeFilter(\"noscript\",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=i.decode(t.value))}),v.addNodeFilter(\"script,style\",function(e,t){function n(e){return e.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g,\"\\n\").replace(/^[\\r\\n]*|[\\r\\n]*$/g,\"\").replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi,\"\").replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g,\"\")}for(var i,r,o,a=e.length;a--;)r=(i=e[a]).firstChild?i.firstChild.value:\"\",\"script\"===t?((o=i.attr(\"type\"))&&i.attr(\"type\",\"mce-no/type\"==o?null:o.replace(/^mce\\-/,\"\")),r.length>0&&(i.firstChild.value=\"// <![CDATA[\\n\"+n(r)+\"\\n// ]]>\")):r.length>0&&(i.firstChild.value=\"\\x3c!--\\n\"+n(r)+\"\\n--\\x3e\")}),v.addNodeFilter(\"#comment\",function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf(\"[CDATA[\")?(t.name=\"#cdata\",t.type=4,t.value=t.value.replace(/^\\[CDATA\\[|\\]\\]$/g,\"\")):0===t.value.indexOf(\"mce:protected \")&&(t.name=\"#text\",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),v.addNodeFilter(\"xml:namespace,input\",function(e,t){for(var n,i=e.length;i--;)7===(n=e[i]).type?n.remove():1===n.type&&(\"input\"!==t||\"type\"in n.attributes.map||n.attr(\"type\",\"text\"))}),v.addAttributeFilter(\"data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize\",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:m,addNodeFilter:v.addNodeFilter,addAttributeFilter:v.addAttributeFilter,serialize:function(t,n){var i,o,a,l,h,f;return s.ie&&g.select(\"script,style,select,map\").length>0?(h=t.innerHTML,t=t.cloneNode(!1),g.setHTML(t,h)):t=t.cloneNode(!0),(i=document.implementation).createHTMLDocument&&(o=i.createHTMLDocument(\"\"),c(\"BODY\"==t.nodeName?t.childNodes:[t],function(e){o.body.appendChild(o.importNode(e,!0))}),t=\"BODY\"!=t.nodeName?o.body.firstChild:o.body,a=g.doc,g.doc=o),(n=n||{}).format=n.format||\"html\",n.selection&&(n.forced_root_block=\"\"),n.no_events||(n.node=t,this.onPreProcess(n)),function(e){function t(e){return e&&\"br\"===e.name}var n,i;t(n=e.lastChild)&&t(i=n.prev)&&(n.remove(),i.remove())}(f=v.parse(d(n.getInner?t.innerHTML:g.getOuterHTML(t)),n)),l=new r(e,m),n.content=l.serialize(f),n.cleanup||(n.content=u.trim(n.content),n.content=n.content.replace(/\\uFEFF/g,\"\")),n.no_events||this.onPostProcess(n),a&&(g.doc=a),n.node=null,n.content},addRules:function(e){m.addValidElements(e)},setRules:function(e){m.setValidElements(e)},onPreProcess:function(e){o&&o.fire(\"PreProcess\",e)},onPostProcess:function(e){o&&o.fire(\"PostProcess\",e)},addTempAttr:function(e){-1===l.inArray(y,e)&&(v.addAttributeFilter(e,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),y.push(e))},trimHtml:f,getTrimmedContent:function(){return p(o.getBody().innerHTML)},trimContent:p}}}),n(E,[],function(){return function(e){function t(t,n){var i,r,o,a,s,l,u,c,d=0,h=-1;if((i=t.duplicate()).collapse(n),(c=i.parentElement()).ownerDocument===e.dom.doc){for(;\"false\"===c.contentEditable;)c=c.parentNode;if(!c.hasChildNodes())return{node:c,inside:1};for(r=(a=c.children).length-1;d<=r;)if(u=Math.floor((d+r)/2),i.moveToElementText(s=a[u]),(h=i.compareEndPoints(n?\"StartToStart\":\"EndToEnd\",t))>0)r=u-1;else{if(!(h<0))return{node:s};d=u+1}if(h<0)for(s?i.collapse(!1):(i.moveToElementText(c),i.collapse(!0),s=c,o=!0),l=0;0!==i.compareEndPoints(n?\"StartToStart\":\"StartToEnd\",t)&&0!==i.move(\"character\",1)&&c==i.parentElement();)l++;else for(i.collapse(!0),l=0;0!==i.compareEndPoints(n?\"StartToStart\":\"StartToEnd\",t)&&0!==i.move(\"character\",-1)&&c==i.parentElement();)l++;return{node:s,position:h,offset:l,inside:o}}}var n=this,i=e.dom;this.getBookmark=function(n){function r(e){var t,n,r,o,a=[];for(t=e.parentNode,n=i.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(o=(r=t.children).length;o--;)if(e===r[o]){a.push(o);break}e=t,t=t.parentNode}return a}function o(e){var n;if(n=t(a,e))return{position:n.position,offset:n.offset,indexes:r(n.node),inside:n.inside}}var a=e.getRng(),s={};return 2===n&&(a.item?s.start={ctrl:!0,indexes:r(a.item(0))}:(s.start=o(!0),e.isCollapsed()||(s.end=o()))),s},this.moveToBookmark=function(e){function t(e){var t,n,r,o;for(t=i.getRoot(),n=e.length-1;n>=0;n--)(r=e[n])<=(o=t.children).length-1&&(t=o[r]);return t}function n(n){var i,a,s,l=e[n?\"start\":\"end\"];l&&(i=l.position>0,(a=o.createTextRange()).moveToElementText(t(l.indexes)),void 0!==(s=l.offset)?(a.collapse(l.inside||i),a.moveStart(\"character\",i?-s:s)):a.collapse(n),r.setEndPoint(n?\"StartToStart\":\"EndToStart\",a),n&&r.collapse(!0))}var r,o=i.doc.body;e.start&&(e.start.ctrl?((r=o.createControlRange()).addElement(t(e.start.indexes)),r.select()):(r=o.createTextRange(),n(!0),n(),r.select()))},this.addRange=function(t){function n(e){var t,n,o,c,d;o=i.create(\"a\"),t=e?a:l,n=e?s:u,c=r.duplicate(),t!=p&&t!=p.documentElement||(t=g,n=0),3==t.nodeType?(t.parentNode.insertBefore(o,t),c.moveToElementText(o),c.moveStart(\"character\",n),i.remove(o),r.setEndPoint(e?\"StartToStart\":\"EndToEnd\",c)):((d=t.childNodes).length?(n>=d.length?i.insertAfter(o,d[d.length-1]):t.insertBefore(o,d[n]),c.moveToElementText(o)):t.canHaveHTML&&(t.innerHTML=\"<span>&#xFEFF;</span>\",c.moveToElementText(o=t.firstChild),c.collapse(!1)),r.setEndPoint(e?\"StartToStart\":\"EndToEnd\",c),i.remove(o))}var r,o,a,s,l,u,c,d,h,p=e.dom.doc,g=p.body;if(a=t.startContainer,s=t.startOffset,l=t.endContainer,u=t.endOffset,r=g.createTextRange(),a==l&&1==a.nodeType){if(s==u&&!a.hasChildNodes()){if(a.canHaveHTML)return(c=a.previousSibling)&&!c.hasChildNodes()&&i.isBlock(c)?c.innerHTML=\"&#xFEFF;\":c=null,a.innerHTML=\"<span>&#xFEFF;</span><span>&#xFEFF;</span>\",r.moveToElementText(a.lastChild),r.select(),i.doc.selection.clear(),a.innerHTML=\"\",void(c&&(c.innerHTML=\"\"));s=i.nodeIndex(a),a=a.parentNode}if(s==u-1)try{if(h=a.childNodes[s],(o=g.createControlRange()).addElement(h),o.select(),(d=e.getRng()).item&&h===d.item(0))return}catch(f){}}n(!0),n(),r.select()},this.getRangeAt=function(){function r(e){var n,i,r,o,a=t(d,e),s=0;if(n=a.node,i=a.offset,!a.inside||n.hasChildNodes())if(void 0!==i){if(a.position<0){if(!(r=a.inside?n.firstChild:n.nextSibling))return void h[e?\"setStartAfter\":\"setEndAfter\"](n);if(!i)return void(3==r.nodeType?h[e?\"setStart\":\"setEnd\"](r,0):h[e?\"setStartBefore\":\"setEndBefore\"](r));for(;r;){if(3==r.nodeType&&(s+=(o=r.nodeValue).length)>=i){n=r,s=o.length-(s-=i);break}r=r.nextSibling}}else{if(!(r=n.previousSibling))return h[e?\"setStartBefore\":\"setEndBefore\"](n);if(!i)return void(3==n.nodeType?h[e?\"setStart\":\"setEnd\"](r,n.nodeValue.length):h[e?\"setStartAfter\":\"setEndAfter\"](r));for(;r;){if(3==r.nodeType&&(s+=r.nodeValue.length)>=i){n=r,s-=i;break}r=r.previousSibling}}h[e?\"setStart\":\"setEnd\"](n,s)}else h[e?\"setStartBefore\":\"setEndAfter\"](n);else h[e?\"setStart\":\"setEnd\"](n,0)}var o,a,s,l,c,d=e.getRng(),h=i.createRng();if((o=d.item?d.item(0):d.parentElement()).ownerDocument!=i.doc)return h;if(a=e.isCollapsed(),d.item)return h.setStart(o.parentNode,i.nodeIndex(o)),h.setEnd(h.startContainer,h.startOffset+1),h;try{r(!0),a||r()}catch(u){if(-2147024809!=u.number)throw u;c=n.getBookmark(2),(s=d.duplicate()).collapse(!0),o=s.parentElement(),a||((s=d.duplicate()).collapse(!1),(l=s.parentElement()).innerHTML=l.innerHTML),o.innerHTML=o.innerHTML,n.moveToBookmark(c),d=e.getRng(),r(!0),a||r()}return h}}}),n(R,[l],function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(t){return e.mac?t.metaKey:t.ctrlKey&&!t.altKey}}}),n(O,[R,h,s,l,w],function(e,t,n,i,r){function o(e,t){for(;t&&t!=e;){if(s(t)||a(t))return t;t=t.parentNode}return null}var a=r.isContentEditableFalse,s=r.isContentEditableTrue;return function(r,s){function l(e){var t=s.settings.object_resizing;return!1!==t&&!i.iOS&&(\"string\"!=typeof t&&(t=\"table,img,div\"),\"false\"!==e.getAttribute(\"data-mce-resize\")&&e!=s.getBody()&&s.dom.is(e,t))}function u(t){var n,i,r,o;B=(B=(n=t.screenX-I)*k[2]+L)<5?5:B,z=(z=(i=t.screenY-D)*k[3]+E)<5?5:z,(\"IMG\"==S.nodeName&&!1!==s.settings.resize_img_proportional?!e.modifierPressed(t):e.modifierPressed(t)||\"IMG\"==S.nodeName&&k[2]*k[3]!=0)&&(q(n)>q(i)?(z=Z(B*R),B=Z(z/R)):(B=Z(z/R),z=Z(B*R))),H.setStyles(C,{width:B,height:z}),H.setStyles(M,{left:r=(r=k.startPos.x+n)>0?r:0,top:o=(o=k.startPos.y+i)>0?o:0,display:\"block\"}),M.innerHTML=B+\" &times; \"+z,k[2]<0&&C.clientWidth<=B&&H.setStyle(C,\"left\",N+(L-B)),k[3]<0&&C.clientHeight<=z&&H.setStyle(C,\"top\",P+(E-z)),(n=Y.scrollWidth-F)+(i=Y.scrollHeight-V)!=0&&H.setStyles(M,{left:r-n,top:o-i}),O||(s.fire(\"ObjectResizeStart\",{target:S,width:L,height:E}),O=!0)}function c(){function e(e,t){t&&(S.style[e]||!s.schema.isValid(S.nodeName.toLowerCase(),e)?H.setStyle(S,e,t):H.setAttrib(S,e,t))}O=!1,e(\"width\",B),e(\"height\",z),H.unbind(G,\"mousemove\",u),H.unbind(G,\"mouseup\",c),U!=G&&(H.unbind(U,\"mousemove\",u),H.unbind(U,\"mouseup\",c)),H.remove(C),H.remove(M),j&&\"TABLE\"!=S.nodeName||d(S),s.fire(\"ObjectResized\",{target:S,width:B,height:z}),H.setAttrib(S,\"style\",H.getAttrib(S,\"style\")),s.nodeChanged()}function d(e,t,n){var r,o,a,d,f;h(),b(),r=H.getPos(e,Y),N=r.x,P=r.y,f=e.getBoundingClientRect(),o=f.width||f.right-f.left,a=f.height||f.bottom-f.top,S!=e&&(x(),S=e,B=z=0),d=s.fire(\"ObjectSelected\",{target:e}),l(e)&&!d.isDefaultPrevented()?W(T,function(e,r){function s(t){I=t.screenX,D=t.screenY,R=(E=S.clientHeight)/(L=S.clientWidth),k=e,e.startPos={x:o*e[0]+N,y:a*e[1]+P},F=Y.scrollWidth,V=Y.scrollHeight,C=S.cloneNode(!0),H.addClass(C,\"mce-clonedresizable\"),H.setAttrib(C,\"data-mce-bogus\",\"all\"),C.contentEditable=!1,C.unSelectabe=!0,H.setStyles(C,{left:N,top:P,margin:0}),C.removeAttribute(\"data-mce-selected\"),Y.appendChild(C),H.bind(G,\"mousemove\",u),H.bind(G,\"mouseup\",c),U!=G&&(H.bind(U,\"mousemove\",u),H.bind(U,\"mouseup\",c)),M=H.add(Y,\"div\",{class:\"mce-resize-helper\",\"data-mce-bogus\":\"all\"},L+\" &times; \"+E)}var l;return t?void(r==t&&s(n)):((l=H.get(\"mceResizeHandle\"+r))&&H.remove(l),l=H.add(Y,\"div\",{id:\"mceResizeHandle\"+r,\"data-mce-bogus\":\"all\",class:\"mce-resizehandle\",unselectable:!0,style:\"cursor:\"+r+\"-resize; margin:0; padding:0\"}),i.ie&&(l.contentEditable=!1),H.bind(l,\"mousedown\",function(e){e.stopImmediatePropagation(),e.preventDefault(),s(e)}),e.elm=l,void H.setStyles(l,{left:o*e[0]+N-l.offsetWidth/2,top:a*e[1]+P-l.offsetHeight/2}))}):h(),S.setAttribute(\"data-mce-selected\",\"1\")}function h(){var e,t;for(e in b(),S&&S.removeAttribute(\"data-mce-selected\"),T)(t=H.get(\"mceResizeHandle\"+e))&&(H.unbind(t),H.remove(t))}function f(e){function t(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)}var n,i;if(!O&&!s.removed)return W(H.select(\"img[data-mce-selected],hr[data-mce-selected]\"),function(e){e.removeAttribute(\"data-mce-selected\")}),i=\"mousedown\"==e.type?e.target:r.getNode(),t(i=H.$(i).closest(j?\"table\":\"table,img,hr\")[0],Y)&&(_(),t(n=r.getStart(!0),i)&&t(r.getEnd(!0),i)&&(!j||i!=n&&\"IMG\"!==n.nodeName))?void d(i):void h()}function p(e,t,n){e&&e.attachEvent&&e.attachEvent(\"on\"+t,n)}function g(e,t,n){e&&e.detachEvent&&e.detachEvent(\"on\"+t,n)}function m(e){var t,n,i,r,o,a,l=e.srcElement;for(n in t=l.getBoundingClientRect(),o=A.clientX-t.left,a=A.clientY-t.top,T)if(r=l.offsetHeight*(i=T[n])[1],q(l.offsetWidth*i[0]-o)<8&&q(r-a)<8){k=i;break}O=!0,s.fire(\"ObjectResizeStart\",{target:S,width:S.clientWidth,height:S.clientHeight}),s.getDoc().selection.empty(),d(l,n,A)}function v(e){return a(o(s.getBody(),e))}function y(e){var t=e.srcElement;if(v(t))!function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(e);else if(t!=S){if(s.fire(\"ObjectSelected\",{target:t}),x(),0===t.id.indexOf(\"mceResizeHandle\"))return void(e.returnValue=!1);\"IMG\"!=t.nodeName&&\"TABLE\"!=t.nodeName||(h(),S=t,p(t,\"resizestart\",m))}}function x(){g(S,\"resizestart\",m)}function b(){for(var e in T){var t=T[e];t.elm&&(H.unbind(t.elm),delete t.elm)}}function _(){try{s.getDoc().execCommand(\"enableObjectResizing\",!1,!1)}catch(e){}}function w(e){var t;if(j){t=G.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(n){}}}var S,C,M,T,k,A,I,D,N,P,L,E,R,O,B,z,F,V,H=s.dom,W=t.each,G=s.getDoc(),U=document,j=i.ie&&i.ie<11,q=Math.abs,Z=Math.round,Y=s.getBody();T={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var X=\".mce-content-body\";return s.contentStyles.push(X+\" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}\"+X+\" .mce-resizehandle:hover {background: #000}\"+X+\" img[data-mce-selected],\"+X+\" hr[data-mce-selected] {outline: 1px solid black;resize: none}\"+X+\" .mce-clonedresizable {position: absolute;\"+(i.gecko?\"\":\"outline: 1px dashed black;\")+\"opacity: .5;filter: alpha(opacity=50);z-index: 10000}\"+X+\" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}\"),s.on(\"init\",function(){j?(s.on(\"ObjectResized\",function(e){\"TABLE\"!=e.target.nodeName&&(h(),w(e.target))}),p(Y,\"controlselect\",y),s.on(\"mousedown\",function(e){A=e})):(_(),i.ie>=11&&(s.on(\"mousedown click\",function(e){var t=e.target,n=t.nodeName;O||!/^(TABLE|IMG|HR)$/.test(n)||v(t)||(s.selection.select(t,\"TABLE\"==n),\"mousedown\"==e.type&&s.nodeChanged())}),s.dom.bind(Y,\"mscontrolselect\",function(e){function t(e){n.setEditorTimeout(s,function(){s.selection.select(e)})}return v(e.target)?(e.preventDefault(),void t(e.target)):void(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),\"IMG\"==e.target.tagName&&t(e.target)))})));var e=n.throttle(function(e){s.composing||f(e)});s.on(\"nodechange ResizeEditor ResizeWindow drop\",e),s.on(\"keyup compositionend\",function(t){S&&\"TABLE\"==S.nodeName&&e(t)}),s.on(\"hide blur\",h)}),s.on(\"remove\",b),{isResizable:l,showResizeRect:d,hideResizeRect:h,updateResizeRect:f,controlSelect:w,destroy:function(){S=C=null,j&&(x(),g(Y,\"controlselect\",y))}}}}),n(B,[],function(){var e=[].slice;return{constant:function(e){return function(){return e}},negate:function(e){return function(t){return!e(t)}},and:function(){var t=e.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}},or:function(){var t=e.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(t[n](e))return!0;return!1}},curry:function t(n){var i=e.call(arguments);return i.length-1>=n.length?n.apply(this,i.slice(1)):function(){var e=i.concat([].slice.call(arguments));return t.apply(this,e)}},compose:function(e,t){return function(n){return e(t(n))}},noop:function(){}}}),n(z,[w,d,C],function(e,t,n){function i(e){return!h(e)&&(l(e)?!u(e.parentNode):c(e)||s(e)||d(e)||a(e))}function r(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode){if(a(e))return!1;if(o(e))return!0}return!0}var o=e.isContentEditableTrue,a=e.isContentEditableFalse,s=e.isBr,l=e.isText,u=e.matchNodeNames(\"script style textarea\"),c=e.matchNodeNames(\"img input textarea hr iframe video audio object\"),d=e.matchNodeNames(\"table\"),h=n.isCaretContainer;return{isCaretCandidate:i,isInEditable:r,isAtomic:function(e){return c(e)||function(e){return!!a(e)&&!0!==t.reduce(e.getElementsByTagName(\"*\"),function(e,t){return e||o(t)},!1)}(e)},isEditableCaretCandidate:function(e,t){return i(e)&&r(e,t)}}}),n(F,[],function(){function e(e){return e?{left:a(e.left),top:a(e.top),bottom:a(e.bottom),right:a(e.right),width:a(e.width),height:a(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function t(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2}function n(e,n){return e.bottom<n.top||!(e.top>n.bottom)&&t(n.top-e.bottom,e,n)}function i(e,n){return e.top>n.bottom||!(e.bottom<n.top)&&t(n.bottom-e.top,e,n)}function r(e,t){return e.left<t.left}function o(e,t){return e.right>t.right}var a=Math.round;return{clone:e,collapse:function(t,n){return t=e(t),n||(t.left=t.left+t.width),t.right=t.left,t.width=0,t},isEqual:function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},isAbove:n,isBelow:i,isLeft:r,isRight:o,compare:function(e,t){return n(e,t)?-1:i(e,t)?1:r(e,t)?-1:o(e,t)?1:0},containsXY:function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}}}),n(V,[],function(){var e=new RegExp(\"[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]\");return{isExtendingChar:function(t){return\"string\"==typeof t&&t.charCodeAt(0)>=768&&e.test(t)}}}),n(H,[B,w,x,M,z,F,V],function(e,t,n,i,r,o,a){function s(e){return\"createRange\"in e?e.createRange():n.DOM.createRng()}function l(e){return e&&/[\\r\\n\\t ]/.test(e)}function u(e){var t,n=e.startContainer,i=e.startOffset;return!!(l(e.toString())&&m(n.parentNode)&&(t=n.data,l(t[i-1])||l(t[i+1])))}function c(t,n,i){function r(){return i||(i=function(e){function t(e){var t,n;return n=e.getClientRects(),t=o.clone(n.length>0?n[0]:e.getBoundingClientRect()),y(e)&&0===t.left?function(e){var t,n=e.ownerDocument,i=s(n),r=n.createTextNode(\" \"),a=e.parentNode;return a.insertBefore(r,e),i.setStart(r,0),i.setEnd(r,1),t=o.clone(i.getBoundingClientRect()),a.removeChild(r),t}(e):t}function n(e,t){return(e=o.collapse(e,t)).width=1,e.right=e.left+1,e}function i(e){0!==e.height&&(h.length>0&&o.isEqual(e,h[h.length-1])||h.push(e))}function r(e,r){var o=s(e.ownerDocument);if(r<e.data.length){if(a.isExtendingChar(e.data[r]))return h;if(a.isExtendingChar(e.data[r-1])&&(o.setStart(e,r),o.setEnd(e,r+1),!u(o)))return i(n(t(o),!1)),h}r>0&&(o.setStart(e,r-1),o.setEnd(e,r),u(o)||i(n(t(o),!1))),r<e.data.length&&(o.setStart(e,r),o.setEnd(e,r+1),u(o)||i(n(t(o),!0)))}var l,c,h=[];if(v(e.container()))return r(e.container(),e.offset()),h;if(d(e.container()))if(e.isAtEnd())c=b(e.container(),e.offset()),v(c)&&r(c,c.data.length),g(c)&&!y(c)&&i(n(t(c),!1));else{if(c=b(e.container(),e.offset()),v(c)&&r(c,0),g(c)&&e.isAtEnd())return i(n(t(c),!1)),h;l=b(e.container(),e.offset()-1),g(l)&&!y(l)&&(f(l)||f(c)||!g(c))&&i(n(t(l),!1)),g(c)&&i(n(t(c),!0))}return h}(new c(t,n))),i}return{container:e.constant(t),offset:e.constant(n),toRange:function(){var e;return(e=s(t.ownerDocument)).setStart(t,n),e.setEnd(t,n),e},getClientRects:r,isVisible:function(){return r().length>0},isAtStart:function(){return v(t),0===n},isAtEnd:function(){return v(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(e){return e&&t===e.container()&&n===e.offset()},getNode:function(e){return b(t,e?n-1:n)}}}var d=t.isElement,h=r.isCaretCandidate,f=t.matchStyleValues(\"display\",\"block table\"),p=t.matchStyleValues(\"float\",\"left right\"),g=e.and(d,h,e.negate(p)),m=e.negate(t.matchStyleValues(\"white-space\",\"pre pre-line pre-wrap\")),v=t.isText,y=t.isBr,x=n.nodeIndex,b=i.getNode;return c.fromRangeStart=function(e){return new c(e.startContainer,e.startOffset)},c.fromRangeEnd=function(e){return new c(e.endContainer,e.endOffset)},c.after=function(e){return new c(e.parentNode,x(e)+1)},c.before=function(e){return new c(e.parentNode,x(e))},c}),n(W,[w,x,B,d,H],function(e,t,n,i,r){function o(e){var t=e.parentNode;return h(t)?o(t):t}function a(e){return e?i.reduce(e.childNodes,function(e,t){return h(t)&&\"BR\"!=t.nodeName?e=e.concat(a(t)):e.push(t),e},[]):[]}function s(e){return function(t){return e===t}}function l(t){var n,r,l;return n=a(o(t)),r=i.findIndex(n,s(t),t),n=n.slice(0,r+1),l=i.reduce(n,function(e,t,i){return d(t)&&d(n[i-1])&&e++,e},0),n=i.filter(n,e.matchNodeNames(t.nodeName)),(r=i.findIndex(n,s(t),t))-l}function u(e){return(d(e)?\"text()\":e.nodeName.toLowerCase())+\"[\"+l(e)+\"]\"}function c(t,n,r){var o=a(t);return o=i.filter(o,function(e,t){return!d(e)||!d(o[t-1])}),(o=i.filter(o,e.matchNodeNames(n)))[r]}var d=e.isText,h=e.isBogus,f=t.nodeIndex;return{create:function(t,r){var o,a,s,l,c,h=[];return o=r.container(),a=r.offset(),d(o)?s=function(e,t){for(;(e=e.previousSibling)&&d(e);)t+=e.data.length;return t}(o,a):(a>=(l=o.childNodes).length?(s=\"after\",a=l.length-1):s=\"before\",o=l[a]),h.push(u(o)),c=function(e,t,n){var i=[];for(t=t.parentNode;t!=e;t=t.parentNode)i.push(t);return i}(t,o),c=i.filter(c,n.negate(e.isBogus)),(h=h.concat(i.map(c,function(e){return u(e)}))).reverse().join(\"/\")+\",\"+s},resolve:function(e,t){var n,o,a;return t?(n=t.split(\",\"),t=n[0].split(\"/\"),a=n.length>1?n[1]:\"before\",(o=i.reduce(t,function(e,t){return(t=/([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(t))?(\"text()\"===t[1]&&(t[1]=\"#text\"),c(e,t[1],parseInt(t[2],10))):null},e))?d(o)?function(e,t){for(var n,i=e,o=0;d(i);){if(n=i.data.length,t>=o&&t<=o+n){e=i,t-=o;break}if(!d(i.nextSibling)){e=i,t=n;break}o+=n,i=i.nextSibling}return t>e.data.length&&(t=e.data.length),new r(e,t)}(o,parseInt(a,10)):(a=\"after\"===a?f(o)+1:f(o),new r(o.parentNode,a)):null):null}}}),n(G,[l,h,C,W,H,w,M],function(e,t,n,i,r,o,a){function s(s){var u=s.dom;this.getBookmark=function(e,c){function d(e,n){var i=0;return t.each(u.select(e),function(e){if(\"all\"!==e.getAttribute(\"data-mce-bogus\"))return e!=n&&void i++}),i}function h(e){function t(t){var n,i,r,o=t?\"start\":\"end\";i=e[o+\"Offset\"],1==(n=e[o+\"Container\"]).nodeType&&\"TR\"==n.nodeName&&(n=(r=n.childNodes)[Math.min(t?i:i-1,r.length-1)])&&e[\"set\"+(t?\"Start\":\"End\")](n,i=t?0:n.childNodes.length)}return t(!0),t(),e}var f,p,g,m,v,y,x,_=\"&#xFEFF;\";if(2==e)return v=(y=s.getNode())?y.nodeName:null,f=s.getRng(),l(y)||\"IMG\"==v?{name:v,index:d(v,y)}:s.tridentSel?s.tridentSel.getBookmark(e):(y=function(e){function t(e,t){var i;if(o.isElement(e)&&(e=a.getNode(e,t),l(e)))return e;if(n.isCaretContainer(e)){if(o.isText(e)&&n.isCaretContainerBlock(e)&&(e=e.parentNode),l(i=e.previousSibling))return i;if(l(i=e.nextSibling))return i}}return t(e.startContainer,e.startOffset)||t(e.endContainer,e.endOffset)}(f))?{name:v=y.tagName,index:d(v,y)}:function(e){function t(e,t){var i,r,o=e[t?\"startContainer\":\"endContainer\"],a=e[t?\"startOffset\":\"endOffset\"],s=[],l=0;if(3==o.nodeType){if(c)for(i=o.previousSibling;i&&3==i.nodeType;i=i.previousSibling)a+=i.nodeValue.length;s.push(a)}else a>=(r=o.childNodes).length&&r.length&&(l=1,a=Math.max(0,r.length-1)),s.push(u.nodeIndex(r[a],c)+l);for(;o&&o!=n;o=o.parentNode)s.push(u.nodeIndex(o,c));return s}var n=u.getRoot(),i={};return i.start=t(e,!0),s.isCollapsed()||(i.end=t(e)),i}(f);if(3==e)return f=s.getRng(),{start:i.create(u.getRoot(),r.fromRangeStart(f)),end:i.create(u.getRoot(),r.fromRangeEnd(f))};if(e)return{rng:s.getRng()};if(f=s.getRng(),g=u.uniqueId(),m=s.isCollapsed(),x=\"overflow:hidden;line-height:0px\",f.duplicate||f.item){if(f.item)return{name:v=(y=f.item(0)).nodeName,index:d(v,y)};p=f.duplicate();try{f.collapse(),f.pasteHTML('<span data-mce-type=\"bookmark\" id=\"'+g+'_start\" style=\"'+x+'\">'+_+\"</span>\"),m||(p.collapse(!1),f.moveToElementText(p.parentElement()),0===f.compareEndPoints(\"StartToEnd\",p)&&p.move(\"character\",-1),p.pasteHTML('<span data-mce-type=\"bookmark\" id=\"'+g+'_end\" style=\"'+x+'\">'+_+\"</span>\"))}catch(b){return null}}else{if(\"IMG\"==(v=(y=s.getNode()).nodeName))return{name:v,index:d(v,y)};p=h(f.cloneRange()),m||(p.collapse(!1),p.insertNode(u.create(\"span\",{\"data-mce-type\":\"bookmark\",id:g+\"_end\",style:x},_))),(f=h(f)).collapse(!0),f.insertNode(u.create(\"span\",{\"data-mce-type\":\"bookmark\",id:g+\"_start\",style:x},_))}return s.moveToBookmark({id:g,keep:1}),{id:g}},this.moveToBookmark=function(n){function r(e){var t,i,r,o,a=n[e?\"start\":\"end\"];if(a){for(r=a[0],i=c,t=a.length-1;t>=1;t--){if(a[t]>(o=i.childNodes).length-1)return;i=o[a[t]]}3===i.nodeType&&(r=Math.min(a[0],i.nodeValue.length)),1===i.nodeType&&(r=Math.min(a[0],i.childNodes.length)),e?l.setStart(i,r):l.setEnd(i,r)}return!0}function o(i){var r,o,a,s,l=u.get(n.id+\"_\"+i),c=n.keep;if(l&&(r=l.parentNode,\"start\"==i?(c?(r=l.firstChild,o=1):o=u.nodeIndex(l),d=h=r,f=p=o):(c?(r=l.firstChild,o=1):o=u.nodeIndex(l),h=r,p=o),!c)){for(s=l.previousSibling,a=l.nextSibling,t.each(t.grep(l.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\\uFEFF/g,\"\"))});l=u.get(n.id+\"_\"+i);)u.remove(l,1);s&&a&&s.nodeType==a.nodeType&&3==s.nodeType&&!e.opera&&(o=s.nodeValue.length,s.appendData(a.nodeValue),u.remove(a),\"start\"==i?(d=h=s,f=p=o):(h=s,p=o))}}function a(t){return!u.isBlock(t)||t.innerHTML||e.ie||(t.innerHTML='<br data-mce-bogus=\"1\" />'),t}var l,c,d,h,f,p;if(n)if(t.isArray(n.start)){if(l=u.createRng(),c=u.getRoot(),s.tridentSel)return s.tridentSel.moveToBookmark(n);r(!0)&&r()&&s.setRng(l)}else\"string\"==typeof n.start?s.setRng(function(){var e,t;return e=u.createRng(),t=i.resolve(u.getRoot(),n.start),e.setStart(t.container(),t.offset()),t=i.resolve(u.getRoot(),n.end),e.setEnd(t.container(),t.offset()),e}()):n.id?(o(\"start\"),o(\"end\"),d&&((l=u.createRng()).setStart(a(d),f),l.setEnd(a(h),p),s.setRng(l))):n.name?s.select(u.select(n.name)[n.index]):n.rng&&s.setRng(n.rng)}}var l=o.isContentEditableFalse;return s.isBookmarkNode=function(e){return e&&\"SPAN\"===e.tagName&&\"bookmark\"===e.getAttribute(\"data-mce-type\")},s}),n(U,[g,E,O,M,G,w,l,h,H],function(e,n,i,r,o,a,s,l,u){function c(e,t,r,a){var s=this;s.dom=e,s.win=t,s.serializer=r,s.editor=a,s.bookmarkManager=new o(s),s.controlSelection=new i(s,a),s.win.getSelection||(s.tridentSel=new n(s))}var d=l.each,h=l.trim,f=s.ie;return c.prototype={setCursorLocation:function(e,t){var n=this,i=n.dom.createRng();e?(i.setStart(e,t),i.setEnd(e,t),n.setRng(i),n.collapse(!1)):(n._moveEndPoint(i,n.editor.getBody(),!0),n.setRng(i))},getContent:function(e){var n,i,r,o=this,a=o.getRng(),s=o.dom.create(\"body\"),l=o.getSel();return n=i=\"\",(e=e||{}).get=!0,e.format=e.format||\"html\",e.selection=!0,o.editor.fire(\"BeforeGetContent\",e),\"text\"==e.format?o.isCollapsed()?\"\":a.text||(l.toString?l.toString():\"\"):(a.cloneContents?(r=a.cloneContents())&&s.appendChild(r):a.item!==t||a.htmlText!==t?(s.innerHTML=\"<br>\"+(a.item?a.item(0).outerHTML:a.htmlText),s.removeChild(s.firstChild)):s.innerHTML=a.toString(),/^\\s/.test(s.innerHTML)&&(n=\" \"),/\\s+$/.test(s.innerHTML)&&(i=\" \"),e.getInner=!0,e.content=o.isCollapsed()?\"\":n+o.serializer.serialize(s,e)+i,o.editor.fire(\"GetContent\",e),e.content)},setContent:function(e,t){var n,i,r,o=this,a=o.getRng(),s=o.win.document;if((t=t||{format:\"html\"}).set=!0,t.selection=!0,t.content=e,t.no_events||o.editor.fire(\"BeforeSetContent\",t),e=t.content,a.insertNode){e+='<span id=\"__caret\">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(i=s.createDocumentFragment(),r=s.createElement(\"div\"),i.appendChild(r),r.outerHTML=e,a.insertNode(i))),n=o.dom.get(\"__caret\"),(a=s.createRange()).setStartBefore(n),a.setEndBefore(n),o.setRng(a),o.dom.remove(\"__caret\");try{o.setRng(a)}catch(l){}}else a.item&&(s.execCommand(\"Delete\",!1,null),a=o.getRng()),/^\\s+/.test(e)?(a.pasteHTML('<span id=\"__mce_tmp\">_</span>'+e),o.dom.remove(\"__mce_tmp\")):a.pasteHTML(e);t.no_events||o.editor.fire(\"SetContent\",t)},getStart:function(e){var t,n,i,r,o=this,a=o.getRng();if(a.duplicate||a.item){if(a.item)return a.item(0);for((i=a.duplicate()).collapse(1),(t=i.parentElement()).ownerDocument!==o.dom.doc&&(t=o.dom.getRoot()),n=r=a.parentElement();r=r.parentNode;)if(r==t){t=n;break}return t}return 1==(t=a.startContainer).nodeType&&t.hasChildNodes()&&(e&&a.collapsed||(t=t.childNodes[Math.min(t.childNodes.length-1,a.startOffset)])),t&&3==t.nodeType?t.parentNode:t},getEnd:function(e){var t,n,i=this,r=i.getRng();return r.duplicate||r.item?r.item?r.item(0):((r=r.duplicate()).collapse(0),(t=r.parentElement()).ownerDocument!==i.dom.doc&&(t=i.dom.getRoot()),t&&\"BODY\"==t.nodeName&&t.lastChild||t):(n=r.endOffset,1==(t=r.endContainer).nodeType&&t.hasChildNodes()&&(e&&r.collapsed||(t=t.childNodes[n>0?n-1:n])),t&&3==t.nodeType?t.parentNode:t)},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n,i=this,r=i.dom,o=r.createRng();if(i.lastFocusBookmark=null,e){if(!t&&i.controlSelection.controlSelect(e))return;n=r.nodeIndex(e),o.setStart(e.parentNode,n),o.setEnd(e.parentNode,n+1),t&&(i._moveEndPoint(o,e,!0),i._moveEndPoint(o,e)),i.setRng(o)}return e},isCollapsed:function(){var e=this.getRng(),t=this.getSel();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints(\"StartToEnd\",e):!t||e.collapsed)},collapse:function(e){var t,n=this,i=n.getRng();i.item&&(t=i.item(0),(i=n.win.document.body.createTextRange()).moveToElementText(t)),i.collapse(!!e),n.setRng(i)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){function t(e,t,i){try{return t.compareBoundaryPoints(e,i)}catch(n){return-1}}var n,i,r,o,a,s,l=this;if(!l.win)return null;if(null==(o=l.win.document))return null;if(!e&&l.lastFocusBookmark){var u=l.lastFocusBookmark;return u.startContainer?((i=o.createRange()).setStart(u.startContainer,u.startOffset),i.setEnd(u.endContainer,u.endOffset)):i=u,i}if(e&&l.tridentSel)return l.tridentSel.getRangeAt(0);try{(n=l.getSel())&&(i=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():o.createRange())}catch(c){}if((s=l.editor.fire(\"GetSelectionRange\",{range:i})).range!==i)return s.range;if(f&&i&&i.setStart&&o.selection){try{a=o.selection.createRange()}catch(c){}a&&a.item&&(r=a.item(0),(i=o.createRange()).setStartBefore(r),i.setEndAfter(r))}return i||(i=o.createRange?o.createRange():o.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(r=l.dom.getRoot(),i.setStart(r,0),i.setEnd(r,0)),l.selectedRange&&l.explicitRange&&(0===t(i.START_TO_START,i,l.selectedRange)&&0===t(i.END_TO_END,i,l.selectedRange)?i=l.explicitRange:(l.selectedRange=null,l.explicitRange=null)),i},setRng:function(e,t){var n,i,r=this;if(e)if(e.select){r.explicitRange=null;try{e.select()}catch(a){}}else if(r.tridentSel){if(e.cloneRange)try{r.tridentSel.addRange(e)}catch(a){}}else{if(n=r.getSel(),e=r.editor.fire(\"SetSelectionRange\",{range:e}).range,n){r.explicitRange=e;try{n.removeAllRanges(),n.addRange(e)}catch(a){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),r.selectedRange=n.rangeCount>0?n.getRangeAt(0):null}e.collapsed||e.startContainer!=e.endContainer||!n.setBaseAndExtent||s.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(i=e.startContainer.childNodes[e.startOffset])&&\"IMG\"==i.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(i,0,i,1)),r.editor.fire(\"AfterSetSelectionRange\",{range:e})}},setNode:function(e){return this.setContent(this.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n,i,r,o,a=this,s=a.getRng(),l=a.dom.getRoot();return s?(n=s.startContainer,i=s.endContainer,r=s.startOffset,o=s.endOffset,s.setStart?(t=s.commonAncestorContainer,!s.collapsed&&(n==i&&o-r<2&&n.hasChildNodes()&&(t=n.childNodes[r]),3===n.nodeType&&3===i.nodeType&&(n=n.length===r?e(n.nextSibling,!0):n.parentNode,i=0===o?e(i.previousSibling,!1):i.parentNode,n&&n===i))?n:t&&3==t.nodeType?t.parentNode:t):((t=s.item?s.item(0):s.parentElement()).ownerDocument!==a.win.document&&(t=l),t)):l},getSelectedBlocks:function(t,n){var i,r,o=this,a=o.dom,s=[];if(r=a.getRoot(),t=a.getParent(t||o.getStart(),a.isBlock),n=a.getParent(n||o.getEnd(),a.isBlock),t&&t!=r&&s.push(t),t&&n&&t!=n){i=t;for(var l=new e(t,r);(i=l.next())&&i!=n;)a.isBlock(i)&&s.push(i)}return n&&t!=n&&n!=r&&s.push(n),s},isForward:function(){var e,t,n=this.dom,i=this.getSel();return!(i&&i.anchorNode&&i.focusNode)||((e=n.createRng()).setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),(t=n.createRng()).setStart(i.focusNode,i.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0)},normalize:function(){var e=this,t=e.getRng();return s.range&&new r(e.dom).normalize(t)&&e.setRng(t,e.isForward()),t},selectorChanged:function(e,t){var n,i=this;return i.selectorChangedData||(i.selectorChangedData={},n={},i.editor.on(\"NodeChange\",function(e){var t=e.element,r=i.dom,o=r.getParents(t,null,r.getRoot()),a={};d(i.selectorChangedData,function(e,t){d(o,function(i){if(r.is(i,t))return n[t]||(d(e,function(e){e(!0,{node:i,selector:t,parents:o})}),n[t]=e),a[t]=e,!1})}),d(n,function(e,i){a[i]||(delete n[i],d(e,function(e){e(!1,{node:t,selector:i,parents:o})}))})})),i.selectorChangedData[e]||(i.selectorChangedData[e]=[]),i.selectorChangedData[e].push(t),i},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&\"BODY\"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){function n(e){for(var t=0,n=0,i=e;i&&i.nodeType;)t+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:t,y:n}}var i,r,o,s,l=this,u=l.dom,c=u.getRoot(),d=0;if(a.isElement(e)){if(!1===t&&(d=e.offsetHeight),\"BODY\"!=c.nodeName){var h=l.getScrollContainer();if(h)return i=n(e).y-n(h).y+d,s=h.clientHeight,void((i<(o=h.scrollTop)||i+25>o+s)&&(h.scrollTop=i<o?i:i-s+25))}r=u.getViewPort(l.editor.getWin()),i=u.getPos(e).y+d,o=r.y,s=r.h,(i<r.y||i+25>o+s)&&l.editor.getWin().scrollTo(0,i<o?i:i-s+25)}},placeCaretAt:function(e,t){this.setRng(r.getCaretRangeFromPoint(e,t,this.editor.getDoc()))},_moveEndPoint:function(t,n,i){var r=n,o=new e(n,r),a=this.dom.schema.getNonEmptyElements();do{if(3==n.nodeType&&0!==h(n.nodeValue).length)return void(i?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?t.setStartBefore(n):\"BR\"==n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(s.ie&&s.ie<11&&this.dom.isBlock(n)&&this.dom.isEmpty(n))return void(i?t.setStart(n,0):t.setEnd(n,0))}while(n=i?o.next():o.prev());\"BODY\"==r.nodeName&&(i?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},getBoundingClientRect:function(){var e=this.getRng();return e.collapsed?u.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},c}),n(j,[G,h],function(e,t){var n=t.each;return function(t){this.compare=function(i,r){function o(e){var i={};return n(t.getAttribs(e),function(n){var r=n.nodeName.toLowerCase();0!==r.indexOf(\"_\")&&\"style\"!==r&&0!==r.indexOf(\"data-\")&&(i[r]=t.getAttrib(e,r))}),i}function a(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(void 0===(n=t[i]))return!1;if(e[i]!=n)return!1;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return!1;return!0}return!(i.nodeName!=r.nodeName||!a(o(i),o(r))||!a(t.parseStyle(t.getAttrib(i,\"style\")),t.parseStyle(t.getAttrib(r,\"style\")))||e.isBookmarkNode(i)||e.isBookmarkNode(r))}}}),n(q,[x,h,A],function(e,t,n){function i(e,i){function r(e){var t;return function(e,t){t.classes.length&&s.addClass(e,t.classes.join(\" \")),s.setAttribs(e,t.attrs)}(t=s.create((l=\"string\"==typeof e?{name:e,classes:[],attrs:{}}:e).name),l),t}function o(e,n){var i=\"string\"!=typeof e?e.nodeName.toLowerCase():e,r=c.getElementRule(i).parentsRequired;return!(!r||!r.length)&&(n&&-1!==t.inArray(r,n)?n:r[0])}var a,l,u,c=i&&i.schema||new n({});return e&&e.length?(a=r(l=e[0]),(u=s.create(\"div\")).appendChild(function e(n,i,a){var l,u,c,d=i.length&&i[0],h=d&&d.name;if(c=o(n,h))h==c?(u=i[0],i=i.slice(1)):u=c;else if(d)u=i[0],i=i.slice(1);else if(!a)return n;return u&&(l=r(u)).appendChild(n),a&&(l||(l=s.create(\"div\")).appendChild(n),t.each(a,function(e){var t=r(e);l.insertBefore(t,n)})),e(l,i,u&&u.siblings)}(a,e.slice(1),l.siblings)),u):\"\"}function r(e){var n,i={classes:[],attrs:{}};return\"*\"!==(e=i.selector=t.trim(e))&&(n=e.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g,function(e,n,r,o,a){switch(n){case\"#\":i.attrs.id=r;break;case\".\":i.classes.push(r);break;case\":\":-1!==t.inArray(\"checked disabled enabled read-only required\".split(\" \"),r)&&(i.attrs[r]=r)}if(\"[\"==o){var s=a.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/);s&&(i.attrs[s[1]]=s[2])}return\"\"})),i.name=n||\"div\",i}function o(e){return e&&\"string\"==typeof e?(e=(e=e.split(/\\s*,\\s*/)[0]).replace(/\\s*(~\\+|~|\\+|>)\\s*/g,\"$1\"),t.map(e.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/),function(e){var n=t.map(e.split(/(?:~\\+|~|\\+)/),r),i=n.pop();return n.length&&(i.siblings=n),i}).reverse()):[]}var a=t.each,s=e.DOM;return{getCssText:function(e,t){function n(e){return e.replace(/%(\\w+)/g,\"\")}var r,l,u,c,d,h,f=\"\";if(!1===(h=e.settings.preview_styles))return\"\";if(\"string\"!=typeof h&&(h=\"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow\"),\"string\"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}return\"preview\"in t&&!1===(h=t.preview)?\"\":(r=t.block||t.inline||\"span\",(c=o(t.selector)).length?(c[0].name||(c[0].name=r),r=t.selector,l=i(c,e)):l=i([r],e),u=s.select(r,l)[0]||l.firstChild,a(t.styles,function(e,t){(e=n(e))&&s.setStyle(u,t,e)}),a(t.attributes,function(e,t){(e=n(e))&&s.setAttrib(u,t,e)}),a(t.classes,function(e){e=n(e),s.hasClass(u,e)||s.addClass(u,e)}),e.fire(\"PreviewFormats\"),s.setStyles(l,{position:\"absolute\",left:-65535}),e.getBody().appendChild(l),d=s.getStyle(e.getBody(),\"fontSize\",!0),d=/px$/.test(d)?parseInt(d,10):0,a(h.split(\" \"),function(t){var n=s.getStyle(u,t,!0);if(!(\"background-color\"==t&&/transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(n)&&(n=s.getStyle(e.getBody(),t,!0),\"#ffffff\"==s.toHex(n).toLowerCase())||\"color\"==t&&\"#000000\"==s.toHex(n).toLowerCase())){if(\"font-size\"==t&&/em|%$/.test(n)){if(0===d)return;n=(n=parseFloat(n,10)/(/%$/.test(n)?100:1))*d+\"px\"}\"border\"==t&&n&&(f+=\"padding:0 2px;\"),f+=t+\":\"+n+\";\"}}),e.fire(\"AfterPreviewFormats\"),s.remove(l),f)},parseSelector:o,selectorToHtml:function(e,t){return i(o(e),t)}}}),n(Z,[d,w,f],function(e,t,n){var i={},r=e.filter,o=e.each;return function(e,t){var n=i[e];n||(i[e]=n=[]),i[e].push(t)}(\"pre\",function(i){var a,s,l=i.selection.getRng();a=t.matchNodeNames(\"pre\"),l.collapsed||(s=i.selection.getSelectedBlocks(),o(r(r(s,a),function(t){return a(t.previousSibling)&&-1!=e.indexOf(s,t.previousSibling)}),function(e){!function(e,t){n(t).remove(),n(e).append(\"<br><br>\").append(t.childNodes)}(e.previousSibling,e)}))}),{postProcess:function(e,t){o(i[e],function(e){e(t)})}}}),n(Y,[g,M,G,j,B,h,q,Z],function(e,t,n,i,r,o,a,s){return function(l){function u(e){return e.nodeType&&(e=e.nodeName),!!l.schema.getTextBlockElements()[e.toLowerCase()]}function c(e){return/^(TH|TD)$/.test(e.nodeName)}function d(e,t){return j.getParents(e,t,j.getRoot())}function h(e){return 1===e.nodeType&&\"_mce_caret\"===e.id}function f(e){return e?U[e]:U}function p(e,t){e&&(\"string\"!=typeof e?re(e,function(e,t){p(t,e)}):(re(t=t.length?t:[t],function(e){e.deep===H&&(e.deep=!e.selector),e.split===H&&(e.split=!e.selector||e.inline),e.remove===H&&e.selector&&!e.inline&&(e.remove=\"none\"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),\"string\"==typeof e.classes&&(e.classes=e.classes.split(/\\s+/))}),U[e]=t))}function g(e,t){var n=f(t);if(n)for(var i=0;i<n.length;i++)if(!1===n[i].inherit&&j.is(e,n[i].selector))return!0;return!1}function m(e){var t;return l.dom.getParent(e,function(e){return(t=l.dom.getStyle(e,\"text-decoration\"))&&\"none\"!==t}),t}function v(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=m(e.parentNode),l.dom.getStyle(e,\"color\")&&t?l.dom.setStyle(e,\"text-decoration\",t):l.dom.getStyle(e,\"text-decoration\")===t&&l.dom.setStyle(e,\"text-decoration\",null))}function y(t,n,i){function r(e,t){if(t=t||g,e){if(t.onformat&&t.onformat(e,t,n,i),re(t.styles,function(t,i){j.setStyle(e,i,D(t,n))}),t.styles){var r=j.getAttrib(e,\"style\");r&&e.setAttribute(\"data-mce-style\",r)}re(t.attributes,function(t,i){j.setAttrib(e,i,D(t,n))}),re(t.classes,function(t){t=D(t,n),j.hasClass(e,t)||j.addClass(e,t)})}}function o(e,t){var n=!1;return!!g.selector&&(re(e,function(e){if(!(\"collapsed\"in e)||e.collapsed===m)return j.is(t,e.selector)&&!h(t)?(r(t,e),n=!0,!1):void 0}),n)}function a(e,i,a){var s,l,c=[],d=!0;r(l=j.create(s=g.inline||g.block)),Z.walk(e,function(e){var i;re(e,function e(f){var m,v,y,x;if(x=d,m=f.nodeName.toLowerCase(),v=f.parentNode.nodeName.toLowerCase(),1===f.nodeType&&ne(f)&&(x=d,d=\"true\"===ne(f),y=!0),S(m,\"br\"))return i=0,void(g.block&&j.remove(f));if(g.wrapper&&b(f,t,n))i=0;else{if(d&&!y&&g.block&&!g.wrapper&&u(m)&&Y(v,s))return r(f=j.rename(f,s)),c.push(f),void(i=0);if(g.selector){var _=o(p,f);if(!g.inline||_)return void(i=0)}!d||y||!Y(s,m)||!Y(v,s)||!a&&3===f.nodeType&&1===f.nodeValue.length&&65279===f.nodeValue.charCodeAt(0)||h(f)||g.inline&&X(f)?(i=0,re(oe(f.childNodes),e),y&&(d=x),i=0):(i||(i=j.clone(l,ee),f.parentNode.insertBefore(i,f),c.push(i)),i.appendChild(f))}})}),!0===g.links&&re(c,function(e){!function e(t){\"A\"===t.nodeName&&r(t,g),re(oe(t.childNodes),e)}(e)}),re(c,function(e){function i(e){var t=0;return re(e.childNodes,function(e){N(e)||ie(e)||t++}),t}function o(e){var t=!1;return re(e.childNodes,function(e){if(M(e))return t=e,!1}),t}var a;if(a=i(e),!(c.length>1)&&X(e)||0!==a){if(g.inline||g.wrapper){if(g.exact||1!==a||(e=function(e){var t,n;return(t=o(e))&&!ie(t)&&w(t,g)&&(r(n=j.clone(t,ee)),j.replace(n,e,te),j.remove(t,1)),n||e}(e)),re(p,function(t){re(j.select(t.inline,e),function(e){ie(e)||E(t,n,e,t.exact?e:null)})}),b(e.parentNode,t,n)&&E(g,n,e)&&(e=0),g.merge_with_parents&&j.getParent(e.parentNode,function(i){if(b(i,t,n))return E(g,n,e)&&(e=0),te}),!X(e)&&!A(e,\"fontSize\")){var s=function(e,t){do{if(1!==i(e))break;if(!(e=o(e)))break;if(t(e))return e}while(e);return null}(e,T(\"fontSize\"));s&&y(\"fontsize\",{value:A(s,\"fontSize\")},e)}e&&!1!==g.merge_siblings&&(e=O(R(e),e),e=O(e,R(e,te)))}}else j.remove(e,1)})}var c,d,p=f(t),g=p[0],m=!i&&q.isCollapsed();if(\"false\"!==ne(q.getNode())){if(g){if(i)i.nodeType?o(p,i)||((d=j.createRng()).setStartBefore(i),d.setEndAfter(i),a(L(d,p),0,!0)):a(i,0,!0);else if(m&&g.inline&&!j.select(\"td[data-mce-selected],th[data-mce-selected]\").length)z(\"apply\",t,n);else{var x=l.selection.getNode();$||!p[0].defaultBlock||j.getParent(x,j.isBlock)||y(p[0].defaultBlock),l.selection.setRng(function(){var t=l.selection.getRng(),n=t.startContainer,r=t.endContainer;if(n!=r&&0===t.endOffset){var o=function(t,n){var r=new e(n);for(i=r.prev2();i;i=r.prev2()){if(3==i.nodeType&&i.data.length>0)return i;if(i.childNodes.length>1||i==t||\"BR\"==i.tagName)return i}}(n,r);t.setEnd(o,3==o.nodeType?o.data.length:o.childNodes.length)}return t}()),c=q.getBookmark(),a(L(q.getRng(te),p)),g.styles&&((g.styles.color||g.styles.textDecoration)&&(ae(x,v,\"childNodes\"),v(x)),g.styles.backgroundColor&&C(x,T(\"fontSize\"),k(\"backgroundColor\",D(g.styles.backgroundColor,n)))),q.moveToBookmark(c),F(q.getRng(te)),l.nodeChanged()}s.postProcess(t,l)}}else{i=q.getNode();for(var _=0,I=p.length;_<I;_++)if(p[_].ceFalseOverride&&j.is(i,p[_].selector))return void r(i,p[_])}}function x(e,t,n,i){function r(e){var n,i,o,a,s;if(1===e.nodeType&&ne(e)&&(a=y,y=\"true\"===ne(e),s=!0),n=oe(e.childNodes),y&&!s)for(i=0,o=g.length;i<o&&!E(g[i],t,e,e);i++);if(v.deep&&n.length){for(i=0,o=n.length;i<o;i++)r(n[i]);s&&(y=a)}}function o(n){var r;return re(d(n.parentNode).reverse(),function(n){var o;r||\"_start\"==n.id||\"_end\"==n.id||(o=b(n,e,t,i))&&!1!==o.split&&(r=n)}),r}function a(e){return function(e,n,i,r){var o,a,s,l,u,c;if(e){for(c=e.parentNode,o=n.parentNode;o&&o!=c;o=o.parentNode){for(a=j.clone(o,ee),u=0;u<g.length;u++)if(E(g[u],t,a,a)){a=0;break}a&&(s&&a.appendChild(s),l||(l=a),s=a)}v.mixed&&X(e)||(n=j.split(e,n)),s&&(i.parentNode.insertBefore(s,i),l.appendChild(i))}return n}(o(e),e,e)}function s(e){var t=j.get(e?\"_start\":\"_end\"),n=t[e?\"firstChild\":\"lastChild\"];return ie(n)&&(n=n[e?\"firstChild\":\"lastChild\"]),3==n.nodeType&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),j.remove(t,!0),n}function u(e){var t,n,i=e.commonAncestorContainer;if(e=L(e,g,te),v.split){if((t=B(e,te))!=(n=B(e))){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t=\"TR\"==t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),i&&/^T(HEAD|BODY|FOOT|R)$/.test(i.nodeName)&&c(n)&&n.firstChild&&(n=n.firstChild||n),j.isChildOf(t,n)&&!X(n)&&!c(t)&&!c(n))return a(t=P(t,\"span\",{id:\"_start\",\"data-mce-type\":\"bookmark\"})),void(t=s(te));t=P(t,\"span\",{id:\"_start\",\"data-mce-type\":\"bookmark\"}),n=P(n,\"span\",{id:\"_end\",\"data-mce-type\":\"bookmark\"}),a(t),a(n),t=s(te),n=s()}else t=n=a(t);e.startContainer=t.parentNode?t.parentNode:t,e.startOffset=K(t),e.endContainer=n.parentNode?n.parentNode:n,e.endOffset=K(n)+1}Z.walk(e,function(e){re(e,function(e){r(e),1===e.nodeType&&\"underline\"===l.dom.getStyle(e,\"text-decoration\")&&e.parentNode&&\"underline\"===m(e.parentNode)&&E({deep:!1,exact:!0,inline:\"span\",styles:{textDecoration:\"underline\"}},null,e)})})}var h,p,g=f(e),v=g[0],y=!0;if(n)n.nodeType?((p=j.createRng()).setStartBefore(n),p.setEndAfter(n),u(p)):u(n);else if(\"false\"!==ne(q.getNode()))q.isCollapsed()&&v.inline&&!j.select(\"td[data-mce-selected],th[data-mce-selected]\").length?z(\"remove\",e,t,i):(h=q.getBookmark(),u(q.getRng(te)),q.moveToBookmark(h),v.inline&&_(e,t,q.getStart())&&F(q.getRng(!0)),l.nodeChanged());else{n=q.getNode();for(var x=0,w=g.length;x<w&&(!g[x].ceFalseOverride||!E(g[x],t,n,n));x++);}}function b(e,t,n,i){function r(e,t,r){var o,a,s,l=t[r];if(t.onmatch)return t.onmatch(e,t,r);if(l)if(l.length===H){for(o in l)if(l.hasOwnProperty(o)){if(a=\"attributes\"===r?j.getAttrib(e,o):A(e,o),i&&!a&&!t.exact)return;if((!i||t.exact)&&!S(a,I(D(l[o],n),o)))return}}else for(s=0;s<l.length;s++)if(\"attributes\"===r?j.getAttrib(e,l[s]):A(e,l[s]))return t;return t}var o,a,s,l=f(t);if(l&&e)for(a=0;a<l.length;a++)if(w(e,o=l[a])&&r(e,o,\"attributes\")&&r(e,o,\"styles\")){if(s=o.classes)for(a=0;a<s.length;a++)if(!j.hasClass(e,s[a]))return;return o}}function _(e,t,n){function i(n){var i=j.getRoot();return n!==i&&(n=j.getParent(n,function(n){return!!g(n,e)||n.parentNode===i||!!b(n,e,t,!0)}),b(n,e,t))}var r;return n?i(n):i(n=q.getNode())||(r=q.getStart())!=n&&i(r)?te:ee}function w(e,t){return S(e,t.inline)||S(e,t.block)?te:t.selector?1==e.nodeType&&j.is(e,t.selector):void 0}function S(e,t){return t=\"\"+((t=t||\"\").nodeName||t),(e=\"\"+((e=e||\"\").nodeName||e)).toLowerCase()==t.toLowerCase()}function C(e,t,n){re(e.childNodes,function(e){M(e)&&(t(e)&&n(e),e.hasChildNodes()&&C(e,t,n))})}function M(e){return 1==e.nodeType&&!ie(e)&&!N(e)&&!h(e)}function T(e){return r.curry(function(e,t){return!(!t||!A(t,e))},e)}function k(e,t){return r.curry(function(e,t,n){j.setStyle(n,e,t)},e,t)}function A(e,t){return I(j.getStyle(e,t),t)}function I(e,t){return\"color\"!=t&&\"backgroundColor\"!=t||(e=j.toHex(e)),\"fontWeight\"==t&&700==e&&(e=\"bold\"),\"fontFamily\"==t&&(e=e.replace(/[\\'\\\"]/g,\"\").replace(/,\\s+/g,\",\")),\"\"+e}function D(e,t){return\"string\"!=typeof e?e=e(t):t&&(e=e.replace(/%(\\w+)/g,function(e,n){return t[n]||e})),e}function N(e){return e&&3===e.nodeType&&/^([\\t \\r\\n]+|)$/.test(e.nodeValue)}function P(e,t,n){var i=j.create(t,n);return e.parentNode.insertBefore(i,e),i.appendChild(e),i}function L(t,n,i){function r(e){function t(e){return\"BR\"==e.nodeName&&e.getAttribute(\"data-mce-bogus\")&&!e.nextSibling}var i,r,o,a,s;if(i=r=e?m:y,a=e?\"previousSibling\":\"nextSibling\",s=j.getRoot(),3==i.nodeType&&!N(i)&&(e?v>0:x<i.nodeValue.length))return i;for(;;){if(!n[0].block_expand&&X(r))return r;for(o=r[a];o;o=o[a])if(!ie(o)&&!N(o)&&!t(o))return r;if(r==s||r.parentNode==s){i=r;break}r=r.parentNode}return i}function o(e,t){for(t===H&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function a(e){for(var t=e;t;){if(1===t.nodeType&&ne(t))return\"false\"===ne(t)?t:e;t=t.parentNode}return e}function s(t,n,r){function o(e,t){var n,o,a=e.nodeValue;return void 0===t&&(t=r?a.length:0),r?-1===(n=(n=a.lastIndexOf(\" \",t))>(o=a.lastIndexOf(\" \",t))?n:o)||i||n++:(n=a.indexOf(\" \",t),o=a.indexOf(\" \",t),n=-1!==n&&(-1===o||n<o)?n:o),n}var a,s,u,c;if(3===t.nodeType){if(-1!==(u=o(t,n)))return{container:t,offset:u};c=t}for(a=new e(t,j.getParent(t,X)||l.getBody());s=a[r?\"prev\":\"next\"]();)if(3===s.nodeType){if(c=s,-1!==(u=o(s)))return{container:s,offset:u}}else if(X(s))break;if(c)return{container:c,offset:n=r?0:c.length}}function c(e,i){var r,o,a,s;for(3==e.nodeType&&0===e.nodeValue.length&&e[i]&&(e=e[i]),r=d(e),o=0;o<r.length;o++)for(a=0;a<n.length;a++)if((!(\"collapsed\"in(s=n[a]))||s.collapsed===t.collapsed)&&j.is(r[o],s.selector))return r[o];return e}function h(e,t){var i,r=j.getRoot();if(n[0].wrapper||(i=j.getParent(e,n[0].block,r)),i||(i=j.getParent(3==e.nodeType?e.parentNode:e,function(e){return e!=r&&u(e)})),i&&n[0].wrapper&&(i=d(i,\"ul,ol\").reverse()[0]||i),!i)for(i=e;i[t]&&!X(i[t])&&!S(i=i[t],\"br\"););return i||e}var f,p,g,m=t.startContainer,v=t.startOffset,y=t.endContainer,x=t.endOffset;if(1==m.nodeType&&m.hasChildNodes()&&3==(m=m.childNodes[v>(f=m.childNodes.length-1)?f:v]).nodeType&&(v=0),1==y.nodeType&&y.hasChildNodes()&&3==(y=y.childNodes[x>(f=y.childNodes.length-1)?f:x-1]).nodeType&&(x=y.nodeValue.length),m=a(m),y=a(y),(ie(m.parentNode)||ie(m))&&3==(m=(m=ie(m)?m:m.parentNode).nextSibling||m).nodeType&&(v=0),(ie(y.parentNode)||ie(y))&&3==(y=(y=ie(y)?y:y.parentNode).previousSibling||y).nodeType&&(x=y.length),n[0].inline&&(t.collapsed&&((g=s(m,v,!0))&&(m=g.container,v=g.offset),(g=s(y,x))&&(y=g.container,x=g.offset)),(p=o(y,x)).node)){for(;p.node&&0===p.offset&&p.node.previousSibling;)p=o(p.node.previousSibling);p.node&&p.offset>0&&3===p.node.nodeType&&\" \"===p.node.nodeValue.charAt(p.offset-1)&&p.offset>1&&(y=p.node).splitText(p.offset-1)}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&3==m.nodeType&&0!==v||(m=r(!0)),n[0].inline&&3==y.nodeType&&x!==y.nodeValue.length||(y=r())),n[0].selector&&n[0].expand!==ee&&!n[0].inline&&(m=c(m,\"previousSibling\"),y=c(y,\"nextSibling\")),(n[0].block||n[0].selector)&&(m=h(m,\"previousSibling\"),y=h(y,\"nextSibling\"),n[0].block&&(X(m)||(m=r(!0)),X(y)||(y=r()))),1==m.nodeType&&(v=K(m),m=m.parentNode),1==y.nodeType&&(x=K(y)+1,y=y.parentNode),{startContainer:m,startOffset:v,endContainer:y,endOffset:x}}function E(e,t,n,i){var r,o,a;if(!w(n,e)&&!function(e,t){return t.links&&\"A\"==e.tagName}(n,e))return ee;if(\"all\"!=e.remove)for(re(e.styles,function(r,o){r=I(D(r,t),o),\"number\"==typeof o&&(o=r,i=0),(e.remove_similar||!i||S(A(i,o),r))&&j.setStyle(n,o,\"\"),a=1}),a&&\"\"===j.getAttrib(n,\"style\")&&(n.removeAttribute(\"style\"),n.removeAttribute(\"data-mce-style\")),re(e.attributes,function(e,r){var o;if(e=D(e,t),\"number\"==typeof r&&(r=e,i=0),!i||S(j.getAttrib(i,r),e)){if(\"class\"==r&&(e=j.getAttrib(n,r))&&(o=\"\",re(e.split(/\\s+/),function(e){/mce\\-\\w+/.test(e)&&(o+=(o?\" \":\"\")+e)}),o))return void j.setAttrib(n,r,o);\"class\"==r&&n.removeAttribute(\"className\"),Q.test(r)&&n.removeAttribute(\"data-mce-\"+r),n.removeAttribute(r)}}),re(e.classes,function(e){e=D(e,t),i&&!j.hasClass(i,e)||j.removeClass(n,e)}),o=j.getAttribs(n),r=0;r<o.length;r++){var s=o[r].nodeName;if(0!==s.indexOf(\"_\")&&0!==s.indexOf(\"data-\"))return ee}return\"none\"!=e.remove?(function(e,t){function n(e,t,n){return!(e=R(e,t,n))||\"BR\"==e.nodeName||X(e)}var i,r=e.parentNode;t.block&&($?r==j.getRoot()&&(t.list_block&&S(e,t.list_block)||re(oe(e.childNodes),function(e){Y($,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=P(e,$),j.setAttribs(i,l.settings.forced_root_block_attrs)):i=0})):X(e)&&!X(r)&&(n(e,ee)||n(e.firstChild,te,1)||e.insertBefore(j.create(\"br\"),e.firstChild),n(e,te)||n(e.lastChild,ee,1)||e.appendChild(j.create(\"br\")))),t.selector&&t.inline&&!S(t.inline,e)||j.remove(e,1)}(n,e),te):void 0}function R(e,t,n){if(e)for(t=t?\"nextSibling\":\"previousSibling\",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!N(e))return e}function O(e,t){function n(e,t){for(r=e;r;r=r[t]){if(3==r.nodeType&&0!==r.nodeValue.length)return e;if(1==r.nodeType&&!ie(r))return r}return e}var r,o,a=new i(j);if(e&&t&&(e=n(e,\"previousSibling\"),t=n(t,\"nextSibling\"),a.compare(e,t))){for(r=e.nextSibling;r&&r!=t;)o=r,r=r.nextSibling,e.appendChild(o);return j.remove(t),re(oe(t.childNodes),function(t){e.appendChild(t)}),e}return t}function B(t,n){var i,r,o;return r=t[n?\"startOffset\":\"endOffset\"],1==(i=t[n?\"startContainer\":\"endContainer\"]).nodeType&&(!n&&r&&r--,i=i.childNodes[r>(o=i.childNodes.length-1)?o:r]),3===i.nodeType&&n&&r>=i.nodeValue.length&&(i=new e(i,l.getBody()).next()||i),3!==i.nodeType||n||0!==r||(i=new e(i,l.getBody()).prev()||i),i}function z(t,n,i,r){function o(e){var t=j.create(\"span\",{id:p,\"data-mce-bogus\":!0,style:g?\"color:red\":\"\"});return e&&t.appendChild(l.getDoc().createTextNode(J)),t}function a(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==J||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function s(e){for(;e;){if(e.id===p)return e;e=e.parentNode}}function c(t){var n;if(t)for(t=(n=new e(t,t)).current();t;t=n.next())if(3===t.nodeType)return t}function d(e,t){var n,i;if(e)i=q.getRng(!0),a(e)?(!1!==t&&(i.setStartBefore(e),i.setEndBefore(e)),j.remove(e)):((n=c(e)).nodeValue.charAt(0)===J&&(n.deleteData(0,1),i.startContainer==n&&i.startOffset>0&&i.setStart(n,i.startOffset-1),i.endContainer==n&&i.endOffset>0&&i.setEnd(n,i.endOffset-1)),j.remove(e,1)),q.setRng(i);else if(!(e=s(q.getStart())))for(;e=j.get(p);)d(e,!1)}function h(){var e;(e=s(q.getStart()))&&!j.isEmpty(e)&&ae(e,function(e){1!=e.nodeType||e.id===p||j.isEmpty(e)||j.setAttrib(e,\"data-mce-bogus\",null)},\"childNodes\")}var p=\"_mce_caret\",g=l.settings.caret_debug;l._hasCaretEvents||(G=function(){var e,t=[];if(a(s(q.getStart()),t))for(e=t.length;e--;)j.setAttrib(t[e],\"data-mce-bogus\",\"1\")},W=function(e){var t=e.keyCode;d(),8==t&&q.isCollapsed()&&q.getStart().innerHTML==J&&d(s(q.getStart())),37!=t&&39!=t||d(s(q.getStart())),h()},l.on(\"SetContent\",function(e){e.selection&&h()}),l._hasCaretEvents=!0),\"apply\"==t?function(){var e,t,r,a,l,u;a=(e=q.getRng(!0)).startOffset,u=e.startContainer.nodeValue,(t=s(q.getStart()))&&(r=c(t));var d=/[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;u&&a>0&&a<u.length&&d.test(u.charAt(a))&&d.test(u.charAt(a-1))?(l=q.getBookmark(),e.collapse(!0),e=L(e,f(n)),e=Z.split(e),y(n,i,e),q.moveToBookmark(l)):(t&&r.nodeValue===J||(r=(t=o(!0)).firstChild,e.insertNode(t),a=1),y(n,i,t),q.setCursorLocation(r,a))}():function(){var e,t,a,s,l,c,d,h=q.getRng(!0),p=[];for(s=e=h.startContainer,3==e.nodeType&&(h.startOffset!=e.nodeValue.length&&(a=!0),s=s.parentNode);s;){if(b(s,n,i,r)){l=s;break}s.nextSibling&&(a=!0),p.push(s),s=s.parentNode}if(l)if(a)t=q.getBookmark(),h.collapse(!0),h=L(h,f(n),!0),h=Z.split(h),x(n,i,h),q.moveToBookmark(t);else{for(s=d=o(),c=p.length-1;c>=0;c--)s.appendChild(j.clone(p[c],!1)),s=s.firstChild;s.appendChild(j.doc.createTextNode(J)),s=s.firstChild;var g=j.getParent(l,u);g&&j.isEmpty(g)?l.parentNode.replaceChild(d,l):j.insertAfter(d,l),q.setCursorLocation(s,1),j.isEmpty(l)&&j.remove(l)}}()}function F(t){var n,i,r,o,a,s=t.startContainer,l=t.startOffset;if((t.startContainer!=t.endContainer||!function(e){return e&&/^(IMG)$/.test(e.nodeName)}(t.startContainer.childNodes[t.startOffset]))&&(3==s.nodeType&&l>=s.nodeValue.length&&(l=K(s),s=s.parentNode,n=!0),1==s.nodeType))for(s=(o=s.childNodes)[Math.min(l,o.length-1)],i=new e(s,j.getParent(s,j.isBlock)),(l>o.length-1||n)&&i.next(),r=i.current();r;r=i.next())if(3==r.nodeType&&!N(r))return a=j.create(\"a\",{\"data-mce-bogus\":\"all\"},J),r.parentNode.insertBefore(a,r),t.setStart(r,0),q.setRng(t),void j.remove(a)}var V,H,W,G,U={},j=l.dom,q=l.selection,Z=new t(j),Y=l.schema.isValidChild,X=j.isBlock,$=l.settings.forced_root_block,K=j.nodeIndex,J=\"\\ufeff\",Q=/^(src|href|style)$/,ee=!1,te=!0,ne=j.getContentEditable,ie=n.isBookmarkNode,re=o.each,oe=o.grep,ae=o.walk;(0,o.extend)(this,{get:f,register:p,unregister:function(e){return e&&U[e]&&delete U[e],U},apply:y,remove:x,toggle:function(e,t,n){var i=f(e);!_(e,t,n)||\"toggle\"in i[0]&&!i[0].toggle?y(e,t,n):x(e,t,n)},match:_,matchAll:function(e,t){var n,i=[],r={};return n=q.getStart(),j.getParent(n,function(n){var o,a;for(o=0;o<e.length;o++)!r[a=e[o]]&&b(n,a,t)&&(r[a]=!0,i.push(a))},j.getRoot()),i},matchNode:b,canApply:function(e){var t,n,i,r,o=f(e);if(o)for(t=d(q.getStart()),i=o.length-1;i>=0;i--){if(!(r=o[i].selector)||o[i].defaultBlock)return te;for(n=t.length-1;n>=0;n--)if(j.is(t[n],r))return te}return ee},formatChanged:function(e,t,n){var i;return V||(V={},i={},l.on(\"NodeChange\",function(e){var t=d(e.element),n={};t=o.grep(t,function(e){return 1==e.nodeType&&!e.getAttribute(\"data-mce-bogus\")}),re(V,function(e,r){re(t,function(o){return b(o,r,{},e.similar)?(i[r]||(re(e,function(e){e(!0,{node:o,format:r,parents:t})}),i[r]=e),n[r]=e,!1):!g(o,r)&&void 0})}),re(i,function(r,o){n[o]||(delete i[o],re(r,function(n){n(!1,{node:e.element,format:o,parents:t})}))})})),re(e.split(\",\"),function(e){V[e]||(V[e]=[],V[e].similar=n),V[e].push(t)}),this},getCssText:function(e){return a.getCssText(l,e)}}),p({valigntop:[{selector:\"td,th\",styles:{verticalAlign:\"top\"}}],valignmiddle:[{selector:\"td,th\",styles:{verticalAlign:\"middle\"}}],valignbottom:[{selector:\"td,th\",styles:{verticalAlign:\"bottom\"}}],alignleft:[{selector:\"figure.image\",collapsed:!1,classes:\"align-left\",ceFalseOverride:!0,preview:\"font-family font-size\"},{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li\",styles:{textAlign:\"left\"},inherit:!1,preview:!1,defaultBlock:\"div\"},{selector:\"img,table\",collapsed:!1,styles:{float:\"left\"},preview:\"font-family font-size\"}],aligncenter:[{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li\",styles:{textAlign:\"center\"},inherit:!1,preview:!1,defaultBlock:\"div\"},{selector:\"figure.image\",collapsed:!1,classes:\"align-center\",ceFalseOverride:!0,preview:\"font-family font-size\"},{selector:\"img\",collapsed:!1,styles:{display:\"block\",marginLeft:\"auto\",marginRight:\"auto\"},preview:!1},{selector:\"table\",collapsed:!1,styles:{marginLeft:\"auto\",marginRight:\"auto\"},preview:\"font-family font-size\"}],alignright:[{selector:\"figure.image\",collapsed:!1,classes:\"align-right\",ceFalseOverride:!0,preview:\"font-family font-size\"},{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li\",styles:{textAlign:\"right\"},inherit:!1,preview:\"font-family font-size\",defaultBlock:\"div\"},{selector:\"img,table\",collapsed:!1,styles:{float:\"right\"},preview:\"font-family font-size\"}],alignjustify:[{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li\",styles:{textAlign:\"justify\"},inherit:!1,defaultBlock:\"div\",preview:\"font-family font-size\"}],bold:[{inline:\"strong\",remove:\"all\"},{inline:\"span\",styles:{fontWeight:\"bold\"}},{inline:\"b\",remove:\"all\"}],italic:[{inline:\"em\",remove:\"all\"},{inline:\"span\",styles:{fontStyle:\"italic\"}},{inline:\"i\",remove:\"all\"}],underline:[{inline:\"span\",styles:{textDecoration:\"underline\"},exact:!0},{inline:\"u\",remove:\"all\"}],strikethrough:[{inline:\"span\",styles:{textDecoration:\"line-through\"},exact:!0},{inline:\"strike\",remove:\"all\"}],forecolor:{inline:\"span\",styles:{color:\"%value\"},links:!0,remove_similar:!0},hilitecolor:{inline:\"span\",styles:{backgroundColor:\"%value\"},links:!0,remove_similar:!0},fontname:{inline:\"span\",styles:{fontFamily:\"%value\"}},fontsize:{inline:\"span\",styles:{fontSize:\"%value\"}},fontsize_class:{inline:\"span\",attributes:{class:\"%value\"}},blockquote:{block:\"blockquote\",wrapper:1,remove:\"all\"},subscript:{inline:\"sub\"},superscript:{inline:\"sup\"},code:{inline:\"code\"},link:{inline:\"a\",selector:\"a\",remove:\"all\",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,n){re(n,function(t,n){j.setAttrib(e,n,t)})}},removeformat:[{selector:\"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins\",remove:\"all\",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:\"span\",attributes:[\"style\",\"class\"],remove:\"empty\",split:!0,expand:!1,deep:!0},{selector:\"*\",attributes:[\"style\",\"class\"],split:!1,expand:!1,deep:!0}]}),re(\"p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp\".split(/\\s/),function(e){p(e,{block:e,remove:\"all\"})}),p(l.settings.formats),function(){l.addShortcut(\"meta+b\",\"bold_desc\",\"Bold\"),l.addShortcut(\"meta+i\",\"italic_desc\",\"Italic\"),l.addShortcut(\"meta+u\",\"underline_desc\",\"Underline\");for(var e=1;e<=6;e++)l.addShortcut(\"access+\"+e,\"\",[\"FormatBlock\",!1,\"h\"+e]);l.addShortcut(\"access+7\",\"\",[\"FormatBlock\",!1,\"p\"]),l.addShortcut(\"access+8\",\"\",[\"FormatBlock\",!1,\"div\"]),l.addShortcut(\"access+9\",\"\",[\"FormatBlock\",!1,\"address\"])}(),l.on(\"BeforeGetContent\",function(e){G&&\"raw\"!=e.format&&G()}),l.on(\"mouseup keydown\",function(e){W&&W(e)})}}),n(X,[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(e,t){var n=e.length+t.length+2,i=new Array(n),r=new Array(n),o=function(n,i,r,a,l){var u=s(n,i,r,a);if(null===u||u.start===i&&u.diag===i-a||u.end===n&&u.diag===n-r)for(var c=n,d=r;c<i||d<a;)c<i&&d<a&&e[c]===t[d]?(l.push([0,e[c]]),++c,++d):i-n>a-r?(l.push([2,e[c]]),++c):(l.push([1,t[d]]),++d);else{o(n,u.start,r,u.start-u.diag,l);for(var h=u.start;h<u.end;++h)l.push([0,e[h]]);o(u.end,i,u.end-u.diag,a,l)}},a=function(n,i,r,o){for(var a=n;a-i<o&&a<r&&e[a]===t[a-i];)++a;return function(e,t,n){return{start:e,end:t,diag:n}}(n,a,i)},s=function(n,o,s,l){var u=o-n,c=l-s;if(0===u||0===c)return null;var d=u-c,h=c+u,f=(h%2==0?h:h+1)/2;i[1+f]=n,r[1+f]=o+1;for(var p=0;p<=f;++p){for(var g=-p;g<=p;g+=2){var m=g+f;i[m]=g===-p||g!=p&&i[m-1]<i[m+1]?i[m+1]:i[m-1]+1;for(var v=i[m],y=v-n+s-g;v<o&&y<l&&e[v]===t[y];)i[m]=++v,++y;if(d%2!=0&&d-p<=g&&g<=d+p&&r[m-d]<=i[m])return a(r[m-d],g+n-s,o,l)}for(g=d-p;g<=d+p;g+=2){for(r[m=g+f-d]=g===d-p||g!=d+p&&r[m+1]<=r[m-1]?r[m+1]-1:r[m-1],y=(v=r[m]-1)-n+s-g;v>=n&&y>=s&&e[v]===t[y];)r[m]=v--,y--;if(d%2==0&&-p<=g&&g<=p&&r[m]<=i[m+d])return a(r[m],g+n-s,o,l)}}},l=[];return o(0,e.length,0,t.length,l),l}}}),n($,[d,v,X],function(e,t,n){var i=function(e){return 1===e.nodeType?e.outerHTML:3===e.nodeType?t.encodeRaw(e.data,!1):8===e.nodeType?\"\\x3c!--\"+e.data+\"--\\x3e\":\"\"};return{read:function(t){return e.map(t.childNodes,i)},write:function(t,r){var o=e.map(r.childNodes,i);return function(t,i){var r=0;e.each(t,function(e){e[0]===n.KEEP?r++:e[0]===n.INSERT?(function(e,t,n){var i=function(e){var t,n,i;for(i=document.createElement(\"div\"),t=document.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t}(t);if(e.hasChildNodes()&&n<e.childNodes.length){var r=e.childNodes[n];r.parentNode.insertBefore(i,r)}else e.appendChild(i)}(i,e[1],r),r++):e[0]===n.DELETE&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(i,r)})}(n.diff(o,t),r),r}}}),n(K,[d,$],function(e,t){var n=function(e){return{type:\"fragmented\",fragments:e,content:\"\",bookmark:null,beforeBookmark:null}},i=function(e){return{type:\"complete\",fragments:null,content:e,bookmark:null,beforeBookmark:null}},r=function(e){return\"fragmented\"===e.type?e.fragments.join(\"\"):e.content};return{createFragmentedLevel:n,createCompleteLevel:i,createFromEditor:function(r){var o,a,s;return o=t.read(r.getBody()),function(e){return-1!==e.indexOf(\"</iframe>\")}(a=(s=e.map(o,function(e){return r.serializer.trimContent(e)})).join(\"\"))?n(s):i(a)},applyToEditor:function(e,n,i){\"fragmented\"===n.type?t.write(n.fragments,e.getBody()):e.setContent(n.content,{format:\"raw\"}),e.selection.moveToBookmark(i?n.beforeBookmark:n.bookmark)},isEq:function(e,t){return r(e)===r(t)}}}),n(J,[R,h,K],function(e,t,n){return function(e){function i(t){e.setDirty(t)}function r(e){l.typing=!1,l.add({},e)}function o(){l.typing&&(l.typing=!1,l.add())}var a,s,l=this,u=0,c=[],d=0;return e.on(\"init\",function(){l.add()}),e.on(\"BeforeExecCommand\",function(e){var t=e.command;\"Undo\"!==t&&\"Redo\"!==t&&\"mceRepaint\"!==t&&(o(),l.beforeChange())}),e.on(\"ExecCommand\",function(e){var t=e.command;\"Undo\"!==t&&\"Redo\"!==t&&\"mceRepaint\"!==t&&r(e)}),e.on(\"ObjectResizeStart Cut\",function(){l.beforeChange()}),e.on(\"SaveContent ObjectResized blur\",r),e.on(\"DragEnd\",r),e.on(\"KeyUp\",function(t){var o=t.keyCode;t.isDefaultPrevented()||((o>=33&&o<=36||o>=37&&o<=40||45===o||t.ctrlKey)&&(r(),e.nodeChanged()),46!==o&&8!==o||e.nodeChanged(),s&&l.typing&&(e.isDirty()||(i(c[0]&&!n.isEq(n.createFromEditor(e),c[0])),e.isDirty()&&e.fire(\"change\",{level:c[0],lastLevel:null})),e.fire(\"TypingUndo\"),s=!1,e.nodeChanged()))}),e.on(\"KeyDown\",function(e){var t=e.keyCode;if(!e.isDefaultPrevented()){if(t>=33&&t<=36||t>=37&&t<=40||45===t)return void(l.typing&&r(e));!(t<16||t>20)||224===t||91===t||l.typing||e.ctrlKey&&!e.altKey||e.metaKey||(l.beforeChange(),l.typing=!0,l.add({},e),s=!0)}}),e.on(\"MouseDown\",function(e){l.typing&&r(e)}),e.addShortcut(\"meta+z\",\"\",\"Undo\"),e.addShortcut(\"meta+y,meta+shift+z\",\"\",\"Redo\"),e.on(\"AddUndo Undo Redo ClearUndos\",function(t){t.isDefaultPrevented()||e.nodeChanged()}),l={data:c,typing:!1,beforeChange:function(){d||(a=e.selection.getBookmark(2,!0))},add:function(r,o){var s,l,h,f=e.settings;if(h=n.createFromEditor(e),r=t.extend(r=r||{},h),d||e.removed)return null;if(e.fire(\"BeforeAddUndo\",{level:r,lastLevel:l=c[u],originalEvent:o}).isDefaultPrevented())return null;if(l&&n.isEq(l,r))return null;if(c[u]&&(c[u].beforeBookmark=a),f.custom_undo_redo_levels&&c.length>f.custom_undo_redo_levels){for(s=0;s<c.length-1;s++)c[s]=c[s+1];c.length--,u=c.length}r.bookmark=e.selection.getBookmark(2,!0),u<c.length-1&&(c.length=u+1),c.push(r),u=c.length-1;var p={level:r,lastLevel:l,originalEvent:o};return e.fire(\"AddUndo\",p),u>0&&(i(!0),e.fire(\"change\",p)),r},undo:function(){var t;return l.typing&&(l.add(),l.typing=!1),u>0&&(t=c[--u],n.applyToEditor(e,t,!0),i(!0),e.fire(\"undo\",{level:t})),t},redo:function(){var t;return u<c.length-1&&(t=c[++u],n.applyToEditor(e,t,!1),i(!0),e.fire(\"redo\",{level:t})),t},clear:function(){c=[],u=0,l.typing=!1,l.data=c,e.fire(\"ClearUndos\")},hasUndo:function(){return u>0||l.typing&&c[0]&&!n.isEq(n.createFromEditor(e),c[0])},hasRedo:function(){return u<c.length-1&&!l.typing},transact:function(e){o(),l.beforeChange();try{d++,e()}finally{d--}return l.add()},extra:function(t,i){var r;l.transact(t)&&(r=c[u].bookmark,n.applyToEditor(e,c[u-1],!0),l.transact(i)&&(c[u-1].beforeBookmark=r))}}}}),n(Q,[g,M,C,l],function(e,t,n,i){var r=i.ie&&i.ie<11;return function(o){function a(a){function p(e){return e&&s.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&\"true\"!==s.getContentEditable(e)}function g(e){var t;s.isBlock(e)&&(t=l.getRng(),e.appendChild(s.create(\"span\",null,\" \")),l.select(e),e.lastChild.outerHTML=\"\",l.setRng(t))}function m(t){var n,r,o,a,u=t;if(t){if(i.ie&&i.ie<9&&A&&A.firstChild&&A.firstChild==A.lastChild&&\"BR\"==A.firstChild.tagName&&s.remove(A.firstChild),/^(LI|DT|DD)$/.test(t.nodeName)){var c=function(e){for(;e;){if(1==e.nodeType||3==e.nodeType&&e.data&&/[\\r\\n\\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&t.insertBefore(s.doc.createTextNode(\" \"),t.firstChild)}if(o=s.createRng(),i.ie||t.normalize(),t.hasChildNodes()){for(n=new e(t,t);r=n.current();){if(3==r.nodeType){o.setStart(r,0),o.setEnd(r,0);break}if(f[r.nodeName.toLowerCase()]){o.setStartBefore(r),o.setEndBefore(r);break}u=r,r=n.next()}r||(o.setStart(u,0),o.setEnd(u,0))}else\"BR\"==t.nodeName?t.nextSibling&&s.isBlock(t.nextSibling)?((!I||I<9)&&(a=s.create(\"br\"),t.parentNode.insertBefore(a,t)),o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));l.setRng(o),s.remove(a),l.scrollIntoView(t)}}function v(e){var t=u.forced_root_block;t&&t.toLowerCase()===e.tagName.toLowerCase()&&s.setAttribs(e,u.forced_root_block_attrs)}function y(e){e.innerHTML=r?\"\":'<br data-mce-bogus=\"1\">'}function x(e){var t,n,i,o=T,a=d.getTextInlineElements();if(e||\"TABLE\"==E?v(t=s.create(e||O)):t=A.cloneNode(!1),i=t,!1!==u.keep_styles)do{if(a[o.nodeName]){if(\"_mce_caret\"==o.id)continue;n=o.cloneNode(!1),s.setAttrib(n,\"id\",\"\"),t.hasChildNodes()?(n.appendChild(t.firstChild),t.appendChild(n)):(i=n,t.appendChild(n))}}while((o=o.parentNode)&&o!=M);return r||(i.innerHTML='<br data-mce-bogus=\"1\">'),t}function b(t){var n,i,r;if(3==T.nodeType&&(t?k>0:k<T.nodeValue.length))return!1;if(T.parentNode==A&&B&&!t)return!0;if(t&&1==T.nodeType&&T==A.firstChild)return!0;if(\"TABLE\"===T.nodeName||T.previousSibling&&\"TABLE\"==T.previousSibling.nodeName)return B&&!t||!B&&t;for(n=new e(T,A),3==T.nodeType&&(t&&0===k?n.prev():t||k!=T.nodeValue.length||n.next());i=n.current();){if(1===i.nodeType){if(!i.getAttribute(\"data-mce-bogus\")&&(r=i.nodeName.toLowerCase(),h[r]&&\"br\"!==r))return!1}else if(3===i.nodeType&&!/^[ \\t\\r\\n]*$/.test(i.nodeValue))return!1;t?n.prev():n.next()}return!0}function _(){o.execCommand(\"InsertLineBreak\",!1,a)}function w(){N=/^(H[1-6]|PRE|FIGURE)$/.test(E)&&\"HGROUP\"!=R?x(O):x(),u.end_container_on_empty_block&&p(L)&&s.isEmpty(A)?N=s.split(L,A):s.insertAfter(N,A),m(N)}var S,C,M,T,k,A,I,D,N,P,L,E,R,O,B;if(S=l.getRng(!0),!a.isDefaultPrevented()){if(!S.collapsed)return void o.execCommand(\"Delete\");if(new t(s).normalize(S),T=S.startContainer,k=S.startOffset,O=(O=(u.force_p_newlines?\"p\":\"\")||u.forced_root_block)?O.toUpperCase():\"\",I=s.doc.documentMode,D=a.shiftKey,1==T.nodeType&&T.hasChildNodes()&&(B=k>T.childNodes.length-1,T=T.childNodes[Math.min(k,T.childNodes.length-1)]||T,k=B&&3==T.nodeType?T.nodeValue.length:0),M=function(e){var t,n,i=s.getRoot();for(t=e;t!==i&&\"false\"!==s.getContentEditable(t);)\"true\"===s.getContentEditable(t)&&(n=t),t=t.parentNode;return t!==i?n:i}(T)){if(c.beforeChange(),!s.isBlock(M)&&M!=s.getRoot())return void(O&&!D||_());if((O&&!D||!O&&D)&&(T=function(e,t){var n,i,r,a,l,u,c=O||\"P\";if(!(i=s.getParent(e,s.isBlock))||!p(i)){if(u=(i=i||M)==o.getBody()||function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}(i)?i.nodeName.toLowerCase():i.parentNode.nodeName.toLowerCase(),!i.hasChildNodes())return v(n=s.create(c)),i.appendChild(n),S.setStart(n,0),S.setEnd(n,0),n;for(a=e;a.parentNode!=i;)a=a.parentNode;for(;a&&!s.isBlock(a);)r=a,a=a.previousSibling;if(r&&d.isValidChild(u,c.toLowerCase())){for(v(n=s.create(c)),r.parentNode.insertBefore(n,r),a=r;a&&!s.isBlock(a);)l=a.nextSibling,n.appendChild(a),a=l;S.setStart(e,t),S.setEnd(e,t)}}return e}(T,k)),A=s.getParent(T,s.isBlock),L=A?s.getParent(A.parentNode,s.isBlock):null,E=A?A.nodeName.toUpperCase():\"\",\"LI\"!=(R=L?L.nodeName.toUpperCase():\"\")||a.ctrlKey||(A=L,E=R),o.undoManager.typing&&(o.undoManager.typing=!1,o.undoManager.add()),/^(LI|DT|DD)$/.test(E)){if(!O&&D)return void _();if(s.isEmpty(A))return void function(){function e(e){for(var t=L[e?\"firstChild\":\"lastChild\"];t&&1!=t.nodeType;)t=t[e?\"nextSibling\":\"previousSibling\"];return t===A}function t(){var e=L.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:L}if(L!=o.getBody()){var n=L.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(O=\"LI\"),N=O?x(O):s.create(\"BR\"),e(!0)&&e()?\"LI\"==n?s.insertAfter(N,t()):s.replace(N,L):e(!0)?\"LI\"==n?(s.insertAfter(N,t()),N.appendChild(s.doc.createTextNode(\" \")),N.appendChild(L)):L.parentNode.insertBefore(N,L):e()?(s.insertAfter(N,t()),g(N)):(L=t(),(C=S.cloneRange()).setStartAfter(A),C.setEndAfter(L),P=C.extractContents(),\"LI\"==O&&\"LI\"==P.firstChild.nodeName?(N=P.firstChild,s.insertAfter(P,L)):(s.insertAfter(P,L),s.insertAfter(N,L))),s.remove(A),m(N),c.add()}}()}if(\"PRE\"==E&&!1!==u.br_in_pre){if(!D)return void _()}else if(!O&&!D&&\"LI\"!=E||O&&D)return void _();O&&A===o.getBody()||(O=O||\"P\",n.isCaretContainerBlock(A)?(N=n.showCaretContainerBlock(A),s.isEmpty(A)&&y(A),m(N)):b()?w():b(!0)?(g(N=A.parentNode.insertBefore(x(),A)),m(A)):((C=S.cloneRange()).setEndAfter(A),function(e){do{3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\\r\\n]+/,\"\")),e=e.firstChild}while(e)}(P=C.extractContents()),N=P.firstChild,s.insertAfter(P,A),function(e){var t,n=e,i=[];if(n){for(;n=n.firstChild;){if(s.isBlock(n))return;1!=n.nodeType||h[n.nodeName.toLowerCase()]||i.push(n)}for(t=i.length;t--;)(!(n=i[t]).hasChildNodes()||n.firstChild==n.lastChild&&\"\"===n.firstChild.nodeValue||\"A\"==n.nodeName&&\" \"===(n.innerText||n.textContent))&&s.remove(n)}}(N),function(e){var t;r||(e.normalize(),(t=e.lastChild)&&!/^(left|right)$/gi.test(s.getStyle(t,\"float\",!0))||s.add(e,\"br\"))}(A),s.isEmpty(A)&&y(A),N.normalize(),s.isEmpty(N)?(s.remove(N),w()):m(N)),s.setAttrib(N,\"id\",\"\"),o.fire(\"NewBlock\",{newBlock:N}),c.typing=!1,c.add())}}}var s=o.dom,l=o.selection,u=o.settings,c=o.undoManager,d=o.schema,h=d.getNonEmptyElements(),f=d.getMoveCaretBeforeOnEnterElements();o.on(\"keydown\",function(e){13==e.keyCode&&!1!==a(e)&&e.preventDefault()})}}),n(ee,[],function(){return function(e){var t=e.settings,n=e.dom,i=e.selection,r=e.schema,o=r.getBlockElements();t.forced_root_block&&e.on(\"NodeChange\",function(){var a,s,l,u,c,d,h,f,p,g,m,v,x=i.getStart(),b=e.getBody(),_=-16777215;if(v=t.forced_root_block,x&&1===x.nodeType&&v){for(;x&&x!=b;){if(o[x.nodeName])return;x=x.parentNode}if((a=i.getRng()).setStart){s=a.startContainer,l=a.startOffset,u=a.endContainer,c=a.endOffset;try{p=e.getDoc().activeElement===b}catch(y){}}else a.item&&(x=a.item(0),(a=e.getDoc().body.createTextRange()).moveToElementText(x)),p=a.parentElement().ownerDocument===e.getDoc(),(g=a.duplicate()).collapse(!0),l=-1*g.move(\"character\",_),g.collapsed||((g=a.duplicate()).collapse(!1),c=-1*g.move(\"character\",_)-l);for(x=b.firstChild,m=b.nodeName.toLowerCase();x;)if((3===x.nodeType||1==x.nodeType&&!o[x.nodeName])&&r.isValidChild(m,v.toLowerCase())){if(3===x.nodeType&&0===x.nodeValue.length){h=x,x=x.nextSibling,n.remove(h);continue}d||(d=n.create(v,e.settings.forced_root_block_attrs),x.parentNode.insertBefore(d,x),f=!0),h=x,x=x.nextSibling,d.appendChild(h)}else d=null,x=x.nextSibling;if(f&&p){if(a.setStart)a.setStart(s,l),a.setEnd(u,c),i.setRng(a);else try{(a=e.getDoc().body.createTextRange()).moveToElementText(b),a.collapse(!0),a.moveStart(\"character\",l),c>0&&a.moveEnd(\"character\",c),a.select()}catch(y){}e.nodeChanged()}}})}}),n(te,[B,g,w,H,C,z],function(e,t,n,i,r,o){function a(e){return e>0}function s(e){return e<0}function l(e,t){for(var n;n=e(t);)if(!x(n))return n;return null}function u(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(g(e))return e;return t}function c(e,t){for(;e&&e!=t;){if(v(e))return e;e=e.parentNode}return null}function d(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function h(e,t,n){return c(t,e)==c(n,e)}function f(e,t,n){var i,r;for(r=e?\"previousSibling\":\"nextSibling\";n&&n!=t;){if(y(i=n[r])&&(i=i[r]),m(i)){if(h(t,i,n))return i;break}if(w(i))break;n=n.parentNode}return null}function p(e,t){return m(function(e,t){var n,i;return t?(n=t.container(),i=t.offset(),_(n)?n.childNodes[i+e]:null):null}(e,t))}var g=n.isContentEditableTrue,m=n.isContentEditableFalse,v=n.matchStyleValues(\"display\",\"block table table-cell table-caption\"),y=r.isCaretContainer,x=r.isCaretContainerBlock,b=e.curry,_=n.isElement,w=o.isCaretCandidate,S=b(d,!0),C=b(d,!1);return{isForwards:a,isBackwards:s,findNode:function(e,n,i,r,o){var u=new t(e,r);if(s(n)){if((m(e)||x(e))&&i(e=l(u.prev,!0)))return e;for(;e=l(u.prev,o);)if(i(e))return e}if(a(n)){if((m(e)||x(e))&&i(e=l(u.next,!0)))return e;for(;e=l(u.next,o);)if(i(e))return e}return null},getEditingHost:u,getParentBlock:c,isInSameBlock:function(e,t,n){return c(e.container(),n)==c(t.container(),n)},isInSameEditingHost:function(e,t,n){return u(e.container(),n)==u(t.container(),n)},isBeforeContentEditableFalse:b(p,0),isAfterContentEditableFalse:b(p,-1),normalizeRange:function(e,t,i){var o,a,s,l,u=b(f,!0,t),c=b(f,!1,t);if(s=i.startOffset,r.isCaretContainerBlock(a=i.startContainer)){if(_(a)||(a=a.parentNode),\"before\"==(l=a.getAttribute(\"data-mce-caret\"))&&m(o=a.nextSibling))return S(o);if(\"after\"==l&&m(o=a.previousSibling))return C(o)}if(!i.collapsed)return i;if(n.isText(a)){if(y(a)){if(1===e){if(o=c(a))return S(o);if(o=u(a))return C(o)}if(-1===e){if(o=u(a))return C(o);if(o=c(a))return S(o)}return i}if(r.endsWithCaretContainer(a)&&s>=a.data.length-1)return 1===e&&(o=c(a))?S(o):i;if(r.startsWithCaretContainer(a)&&s<=1)return-1===e&&(o=u(a))?C(o):i;if(s===a.data.length)return(o=c(a))?S(o):i;if(0===s)return(o=u(a))?C(o):i}return i}}}),n(ne,[w,z,H,te,d,B],function(e,t,n,i,r,o){function a(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null}function s(e,t){if(p(e)){if(m(t.previousSibling)&&!d(t.previousSibling))return n.before(t);if(d(t))return n(t,0)}if(g(e)){if(m(t.nextSibling)&&!d(t.nextSibling))return n.after(t);if(d(t))return n(t,t.data.length)}return g(e)?f(t)?n.before(t):n.after(t):n.before(t)}function l(t,r){var o;return!!e.isBr(t)&&!!(o=u(1,n.after(t),r))&&!i.isInSameBlock(n.before(t),n.before(o),r)}function u(e,t,f){var x,b,_,w,S,C,M;if(!h(f)||!t)return null;if(x=(M=t).container(),b=M.offset(),d(x)){if(g(e)&&b>0)return n(x,--b);if(p(e)&&b<x.length)return n(x,++b);_=x}else{if(g(e)&&b>0&&(w=a(x,b-1),m(w)))return!v(w)&&(S=i.findNode(w,e,y,w))?d(S)?n(S,S.data.length):n.after(S):d(w)?n(w,w.data.length):n.before(w);if(p(e)&&b<x.childNodes.length&&(w=a(x,b),m(w)))return l(w,f)?u(e,n.after(w),f):!v(w)&&(S=i.findNode(w,e,y,w))?d(S)?n(S,0):n.before(S):d(w)?n(w,0):n.after(w);_=M.getNode()}return(p(e)&&M.isAtEnd()||g(e)&&M.isAtStart())&&(_=i.findNode(_,e,o.constant(!0),f,!0),y(_))?s(e,_):(w=i.findNode(_,e,y,f),!(C=r.last(r.filter(function(e,t){for(var n=[];e&&e!=t;)n.push(e),e=e.parentNode;return n}(x,f),c)))||w&&C.contains(w)?w?s(e,w):null:M=p(e)?n.after(C):n.before(C))}var c=e.isContentEditableFalse,d=e.isText,h=e.isElement,f=e.isBr,p=i.isForwards,g=i.isBackwards,m=t.isCaretCandidate,v=t.isAtomic,y=t.isEditableCaretCandidate;return function(e){return{next:function(t){return u(1,t,e)},prev:function(t){return u(-1,t,e)}}}}),n(ie,[h,ne,H],function(e,t,n){var i=function(t){return e.grep(t.childNodes,function(e){return\"LI\"===e.nodeName})},r=function(e){return e.length>0&&function(e){return!e.firstChild}(e[e.length-1])?e.slice(0,-1):e},o=function(e,t){var n=e.getParent(t,e.isBlock);return n&&\"LI\"===n.nodeName?n:null},a=function(e,i){var r=n.before(e),o=new t(i).next(r);return o?o.toRange():null},s=function(e,i){var r=n.after(e),o=new t(i).prev(r);return o?o.toRange():null},l=function(t,n,i,r){var o=function(e,t){var n=t.cloneRange(),i=t.cloneRange();return n.setStartBefore(e),i.setEndAfter(e),[n.cloneContents(),i.cloneContents()]}(t,r),a=t.parentNode;return a.insertBefore(o[0],t),e.each(n,function(e){a.insertBefore(e,t)}),a.insertBefore(o[1],t),a.removeChild(t),s(n[n.length-1],i)},u=function(t,n,i){var r=t.parentNode;return e.each(n,function(e){r.insertBefore(e,t)}),a(t,i)};return{isListFragment:function(e){var t=e.firstChild,n=e.lastChild;return t&&\"meta\"===t.name&&(t=t.next),n&&\"mce_marker\"===n.attr(\"id\")&&(n=n.prev),!(!t||t!==n||\"ul\"!==t.name&&\"ol\"!==t.name)},insertAtCaret:function(e,a,c,d){var h=function(e,t,n){var i=t.serialize(n);return function(e){var t=e.firstChild,n=e.lastChild;return t&&\"META\"===t.nodeName&&t.parentNode.removeChild(t),n&&\"mce_marker\"===n.id&&n.parentNode.removeChild(n),e}(e.createFragment(i))}(a,e,d),f=o(a,c.startContainer),p=r(i(h.firstChild)),g=a.getRoot(),m=function(e){var i=n.fromRangeStart(c),r=new t(a.getRoot()),s=1===e?r.prev(i):r.next(i);return!s||o(a,s.getNode())!==f};return m(1)?u(f,p,g):m(2)?function(e,t,n,i){return i.insertAfter(t.reverse(),e),s(t[0],n)}(f,p,g,a):l(f,p,g,c)},isParentBlockLi:function(e,t){return!!o(e,t)},trimListItems:r,listItems:i}}),n(re,[l,h,P,ne,H,j,w,ie],function(e,t,n,i,r,o,a,s){var l=a.matchNodeNames(\"td th\"),u=function(a,u,c){var d,h,f,p,g,m,v,y,x,b,_,w,S=a.schema.getTextInlineElements(),C=a.selection,M=a.dom;/^ | $/.test(u)&&(u=function(e){function t(e){return i[e]&&3==i[e].nodeType}var n,i,r;return r=(n=C.getRng(!0)).startOffset,3==(i=n.startContainer).nodeType&&(r>0?e=e.replace(/^&nbsp;/,\" \"):t(\"previousSibling\")||(e=e.replace(/^ /,\"&nbsp;\")),r<i.length?e=e.replace(/&nbsp;(<br>|)$/,\" \"):t(\"nextSibling\")||(e=e.replace(/(&nbsp;| )(<br>|)$/,\"&nbsp;\"))),e}(u)),d=a.parser,w=c.merge,h=new n({validate:a.settings.validate},a.schema),_='<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;&#x200B;</span>',a.fire(\"BeforeSetContent\",m={content:u,format:\"html\",selection:!0}),-1==(u=m.content).indexOf(\"{$caret}\")&&(u+=\"{$caret}\"),u=u.replace(/\\{\\$caret\\}/,_);var T=(y=C.getRng()).startContainer||(y.parentElement?y.parentElement():null),k=a.getBody();T===k&&C.isCollapsed()&&M.isBlock(k.firstChild)&&function(e){return e&&!a.schema.getShortEndedElements()[e.nodeName]}(k.firstChild)&&M.isEmpty(k.firstChild)&&((y=M.createRng()).setStart(k.firstChild,0),y.setEnd(k.firstChild,0),C.setRng(y)),C.isCollapsed()||(a.selection.setRng(a.selection.getRng()),a.getDoc().execCommand(\"Delete\",!1,null),function(){var e,t,n;n=(e=C.getRng(!0)).startOffset,3==(t=e.startContainer).nodeType&&e.collapsed&&(\" \"===t.data[n]?(t.deleteData(n,1),/[\\u00a0| ]$/.test(u)||(u+=\" \")):\" \"===t.data[n-1]&&(t.deleteData(n-1,1),/[\\u00a0| ]$/.test(u)||(u=\" \"+u)))}());var A={context:(f=C.getNode()).nodeName.toLowerCase(),data:c.data};if(g=d.parse(u,A),!0===c.paste&&s.isListFragment(g)&&s.isParentBlockLi(M,f))return y=s.insertAtCaret(h,M,a.selection.getRng(!0),g),a.selection.setRng(y),void a.fire(\"SetContent\",m);if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr(\"data-mce-fragment\",\"1\")}(g),\"mce_marker\"==(x=g.lastChild).attr(\"id\"))for(v=x,x=x.prev;x;x=x.walk(!0))if(3==x.type||!M.isBlock(x.name)){a.schema.isValidChild(x.parent.name,\"span\")&&x.parent.insert(v,x,\"br\"===x.name);break}if(a._selectionOverrides.showBlockCaretContainer(f),A.invalid){for(C.setContent(_),f=C.getNode(),p=a.getBody(),9==f.nodeType?f=x=p:x=f;x!==p;)f=x,x=x.parentNode;u=f==p?p.innerHTML:M.getOuterHTML(f),u=h.serialize(d.parse(u.replace(/<span (id=\"mce_marker\"|id=mce_marker).+?<\\/span>/i,function(){return h.serialize(g)}))),f==p?M.setHTML(p,u):M.setOuterHTML(f,u)}else u=h.serialize(g),function(e,t,n){if(\"all\"===n.getAttribute(\"data-mce-bogus\"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var i=n.firstChild;!i||i===n.lastChild&&\"BR\"===i.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}}(a,u,f);(function(){if(w){var e=a.getBody(),n=new o(M);t.each(M.select(\"*[data-mce-fragment]\"),function(t){for(var i=t.parentNode;i&&i!=e;i=i.parentNode)S[t.nodeName.toLowerCase()]&&n.compare(i,t)&&M.remove(t,!0)})}})(),function(t){var n,o,s;if(t){if(C.scrollIntoView(t),n=function(e){for(var t=a.getBody();e&&e!==t;e=e.parentNode)if(\"false\"===a.dom.getContentEditable(e))return e;return null}(t))return M.remove(t),void C.select(n);y=M.createRng(),(x=t.previousSibling)&&3==x.nodeType?(y.setStart(x,x.nodeValue.length),e.ie||(b=t.nextSibling)&&3==b.nodeType&&(x.appendData(b.data),b.parentNode.removeChild(b))):(y.setStartBefore(t),y.setEndBefore(t)),o=M.getParent(t,M.isBlock),M.remove(t),o&&M.isEmpty(o)&&(a.$(o).empty(),y.setStart(o,0),y.setEnd(o,0),l(o)||function(e){return!!e.getAttribute(\"data-mce-fragment\")}(o)||!(s=function(e){var t=r.fromRangeStart(e);if(t=new i(a.getBody()).next(t))return t.toRange()}(y))?M.add(o,M.create(\"br\",{\"data-mce-bogus\":\"1\"})):(y=s,M.remove(o))),C.setRng(y)}}(M.get(\"mce_marker\")),function(e){t.each(e.getElementsByTagName(\"*\"),function(e){e.removeAttribute(\"data-mce-fragment\")})}(a.getBody()),a.fire(\"SetContent\",m),a.addVisual()},c=function(e){var n;return\"string\"!=typeof e?(n=t.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:n}):{content:e,details:{}}};return{insertAtCaret:function(e,t){var n=c(t);u(e,n.content,n.details)}}}),n(oe,[l,h,M,g,re,w],function(e,n,i,r,o,a){var s=n.each,l=n.extend,u=n.map,c=n.inArray,d=n.explode,h=e.ie&&e.ie<11,f=!0;return function(n){function p(e){var t;if(!n.quirks.isHidden()){if(e=e.toLowerCase(),t=M.state[e])return t(e);try{return n.getDoc().queryCommandState(e)}catch(i){}return!1}}function g(e,t){t=t||\"exec\",s(e,function(e,n){s(n.toLowerCase().split(\",\"),function(n){M[t][n]=e})})}function m(e,i,r){return i===t&&(i=!1),r===t&&(r=null),n.getDoc().execCommand(e,i,r)}function v(e){return S.match(e)}function y(e,i){S.toggle(e,i?{value:i}:t),n.nodeChanged()}function x(e){C=w.getBookmark(e)}function b(){w.moveToBookmark(C)}var _,w,S,C,M={state:{},exec:{},value:{}},T=n.settings;n.on(\"PreInit\",function(){_=n.dom,w=n.selection,T=n.settings,S=n.formatter}),l(this,{execCommand:function(e,t,i,r){var o,a,l=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus||n.focus(),(r=n.fire(\"BeforeExecCommand\",{command:e,ui:t,value:i})).isDefaultPrevented())return!1;if(a=e.toLowerCase(),o=M.exec[a])return o(a,t,i),n.fire(\"ExecCommand\",{command:e,ui:t,value:i}),!0;if(s(n.plugins,function(r){if(r.execCommand&&r.execCommand(e,t,i))return n.fire(\"ExecCommand\",{command:e,ui:t,value:i}),l=!0,!1}),l)return l;if(n.theme&&n.theme.execCommand&&n.theme.execCommand(e,t,i))return n.fire(\"ExecCommand\",{command:e,ui:t,value:i}),!0;try{l=n.getDoc().execCommand(e,t,i)}catch(u){}return!!l&&(n.fire(\"ExecCommand\",{command:e,ui:t,value:i}),!0)},queryCommandState:p,queryCommandValue:function(e){var t;if(!n.quirks.isHidden()){if(e=e.toLowerCase(),t=M.value[e])return t(e);try{return n.getDoc().queryCommandValue(e)}catch(i){}}},queryCommandSupported:function(e){if(e=e.toLowerCase(),M.exec[e])return!0;try{return n.getDoc().queryCommandSupported(e)}catch(t){}return!1},addCommands:g,addCommand:function(e,t,i){e=e.toLowerCase(),M.exec[e]=function(e,r,o,a){return t.call(i||n,r,o,a)}},addQueryStateHandler:function(e,t,i){e=e.toLowerCase(),M.state[e]=function(){return t.call(i||n)}},addQueryValueHandler:function(e,t,i){e=e.toLowerCase(),M.value[e]=function(){return t.call(i||n)}},hasCustomCommand:function(e){return e=e.toLowerCase(),!!M.exec[e]}}),g({\"mceResetDesignMode,mceBeginUndoLevel\":function(){},\"mceEndUndoLevel,mceAddUndoLevel\":function(){n.undoManager.add()},\"Cut,Copy,Paste\":function(t){var i,r=n.getDoc();try{m(t)}catch(o){i=f}if(\"paste\"!==t||r.queryCommandEnabled(t)||(i=!0),i||!r.queryCommandSupported(t)){var a=n.translate(\"Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.\");e.mac&&(a=a.replace(/Ctrl\\+/g,\"⌘+\")),n.notificationManager.open({text:a,type:\"error\"})}},unlink:function(){if(w.isCollapsed()){var e=n.dom.getParent(n.selection.getStart(),\"a\");e&&n.dom.remove(e,!0)}else S.remove(\"link\")},\"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone\":function(e){var t=e.substring(7);\"full\"==t&&(t=\"justify\"),s(\"left,center,right,justify\".split(\",\"),function(e){t!=e&&S.remove(\"align\"+e)}),\"none\"!=t&&y(\"align\"+t)},\"InsertUnorderedList,InsertOrderedList\":function(e){var t,n;m(e),(t=_.getParent(w.getNode(),\"ol,ul\"))&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((n=t.parentNode).nodeName)&&(x(),_.split(n,t),b())},\"Bold,Italic,Underline,Strikethrough,Superscript,Subscript\":function(e){y(e)},\"ForeColor,HiliteColor,FontName\":function(e,t,n){y(e,n)},FontSize:function(e,t,n){var i,r;n>=1&&n<=7&&(r=d(T.font_size_style_values),n=(i=d(T.font_size_classes))?i[n-1]||n:r[n-1]||n),y(e,n)},RemoveFormat:function(e){S.remove(e)},mceBlockQuote:function(){y(\"blockquote\")},FormatBlock:function(e,t,n){return y(n||\"p\")},mceCleanup:function(){var e=w.getBookmark();n.setContent(n.getContent({cleanup:f}),{cleanup:f}),w.moveToBookmark(e)},mceRemoveNode:function(e,t,i){var r=i||w.getNode();r!=n.getBody()&&(x(),n.dom.remove(r,f),b())},mceSelectNodeDepth:function(e,t,i){var r=0;_.getParent(w.getNode(),function(e){if(1==e.nodeType&&r++==i)return w.select(e),!1},n.getBody())},mceSelectNode:function(e,t,n){w.select(n)},mceInsertContent:function(e,t,i){o.insertAtCaret(n,i)},mceInsertRawHTML:function(e,t,i){w.setContent(\"tiny_mce_marker\"),n.setContent(n.getContent().replace(/tiny_mce_marker/g,function(){return i}))},mceToggleFormat:function(e,t,n){y(n)},mceSetContent:function(e,t,i){n.setContent(i)},\"Indent,Outdent\":function(e){var t,i,r;i=/[a-z%]+$/i.exec(t=T.indentation),t=parseInt(t,10),p(\"InsertUnorderedList\")||p(\"InsertOrderedList\")?m(e):(T.forced_root_block||_.getParent(w.getNode(),_.isBlock)||S.apply(\"div\"),s(w.getSelectedBlocks(),function(o){if(\"false\"!==_.getContentEditable(o)&&\"LI\"!==o.nodeName){var a=n.getParam(\"indent_use_margin\",!1)?\"margin\":\"padding\";a=\"TABLE\"===o.nodeName?\"margin\":a,a+=\"rtl\"==_.getStyle(o,\"direction\",!0)?\"Right\":\"Left\",\"outdent\"==e?(r=Math.max(0,parseInt(o.style[a]||0,10)-t),_.setStyle(o,a,r?r+i:\"\")):(r=parseInt(o.style[a]||0,10)+t+i,_.setStyle(o,a,r))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){n.execCommand(\"mceInsertContent\",!1,\"<hr />\")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(e,t,i){n.execCommand(\"mceInsertContent\",!1,i.replace(/\\{\\$selection\\}/g,w.getContent({format:\"text\"})))},mceInsertLink:function(e,t,n){var i;\"string\"==typeof n&&(n={href:n}),i=_.getParent(w.getNode(),\"a\"),n.href=n.href.replace(\" \",\"%20\"),i&&n.href||S.remove(\"link\"),n.href&&S.apply(\"link\",n,i)},selectAll:function(){var e,t=_.getRoot();if(w.getRng().setStart){var n=_.getParent(w.getStart(),a.isContentEditableTrue);n&&((e=_.createRng()).selectNodeContents(n),w.setRng(e))}else(e=w.getRng()).item||(e.moveToElementText(t),e.select())},delete:function(){m(\"Delete\");var e=n.getBody();_.isEmpty(e)&&(n.setContent(\"\"),e.firstChild&&_.isBlock(e.firstChild)?n.selection.setCursorLocation(e.firstChild,0):n.selection.setCursorLocation(e,0))},mceNewDocument:function(){n.setContent(\"\")},InsertLineBreak:function(e,t,o){var a,s,l,u=o,c=w.getRng(!0);new i(_).normalize(c);var d=c.startOffset,p=c.startContainer;if(1==p.nodeType&&p.hasChildNodes()){var g=d>p.childNodes.length-1;p=p.childNodes[Math.min(d,p.childNodes.length-1)]||p,d=g&&3==p.nodeType?p.nodeValue.length:0}var m=_.getParent(p,_.isBlock),v=m?m.nodeName.toUpperCase():\"\",y=m?_.getParent(m.parentNode,_.isBlock):null,x=y?y.nodeName.toUpperCase():\"\";\"LI\"!=x||u&&u.ctrlKey||(m=y,v=x),p&&3==p.nodeType&&d>=p.nodeValue.length&&(h||function(){for(var e,t=new r(p,m),i=n.schema.getNonEmptyElements();e=t.next();)if(i[e.nodeName.toLowerCase()]||e.length>0)return!0}()||(a=_.create(\"br\"),c.insertNode(a),c.setStartAfter(a),c.setEndAfter(a),s=!0)),a=_.create(\"br\"),c.insertNode(a);var b=_.doc.documentMode;return h&&\"PRE\"==v&&(!b||b<8)&&a.parentNode.insertBefore(_.doc.createTextNode(\"\\r\"),a),l=_.create(\"span\",{},\"&nbsp;\"),a.parentNode.insertBefore(l,a),w.scrollIntoView(l),_.remove(l),s?(c.setStartBefore(a),c.setEndBefore(a)):(c.setStartAfter(a),c.setEndAfter(a)),w.setRng(c),n.undoManager.add(),f}}),g({\"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull\":function(e){var t=\"align\"+e.substring(7),n=w.isCollapsed()?[_.getParent(w.getNode(),_.isBlock)]:w.getSelectedBlocks(),i=u(n,function(e){return!!S.matchNode(e,t)});return-1!==c(i,f)},\"Bold,Italic,Underline,Strikethrough,Superscript,Subscript\":function(e){return v(e)},mceBlockQuote:function(){return v(\"blockquote\")},Outdent:function(){var e;if(T.inline_styles){if((e=_.getParent(w.getStart(),_.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return f;if((e=_.getParent(w.getEnd(),_.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return f}return p(\"InsertUnorderedList\")||p(\"InsertOrderedList\")||!T.inline_styles&&!!_.getParent(w.getNode(),\"BLOCKQUOTE\")},\"InsertUnorderedList,InsertOrderedList\":function(e){var t=_.getParent(w.getNode(),\"ul,ol\");return t&&(\"insertunorderedlist\"===e&&\"UL\"===t.tagName||\"insertorderedlist\"===e&&\"OL\"===t.tagName)}},\"state\"),g({\"FontSize,FontName\":function(e){var t,n=0;return(t=_.getParent(w.getNode(),\"span\"))&&(n=\"fontsize\"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,\",\").replace(/[\\'\\\"]/g,\"\").toLowerCase()),n}},\"value\"),g({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}})}}),n(ae,[h],function(e){function t(e,o){var a,s,l=this;if(e=i(e),a=(o=l.settings=o||{}).base_uri,/^([\\w\\-]+):([^\\/]{2})/i.test(e)||/^\\s*#/.test(e))l.source=e;else{var u=0===e.indexOf(\"//\");0!==e.indexOf(\"/\")||u||(e=(a&&a.protocol||\"http\")+\"://mce_host\"+e),/^[\\w\\-]*:?\\/\\//.test(e)||(s=o.base_uri?o.base_uri.path:new t(location.href).directory,\"\"===o.base_uri.protocol?e=\"//mce_host\"+l.toAbsPath(s,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(a&&a.protocol||\"http\")+\"://mce_host\"+l.toAbsPath(s,e[1])+e[2])),e=e.replace(/@@/g,\"(mce_at)\"),e=/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(e),n(r,function(t,n){var i=e[n];i&&(i=i.replace(/\\(mce_at\\)/g,\"@@\")),l[t]=i}),a&&(l.protocol||(l.protocol=a.protocol),l.userInfo||(l.userInfo=a.userInfo),l.port||\"mce_host\"!==l.host||(l.port=a.port),l.host&&\"mce_host\"!==l.host||(l.host=a.host),l.source=\"\"),u&&(l.protocol=\"\")}}var n=e.each,i=e.trim,r=\"source protocol authority userInfo user password host port relative path directory file query anchor\".split(\" \"),o={ftp:21,http:80,https:443,mailto:25};return t.prototype={setPath:function(e){var t=this;e=/^(.*?)\\/?(\\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source=\"\",t.getURI()},toRelative:function(e){var n,i=this;if(\"./\"===e)return e;if(\"mce_host\"!=(e=new t(e,{base_uri:i})).host&&i.host!=e.host&&e.host||i.port!=e.port||i.protocol!=e.protocol&&\"\"!==e.protocol)return e.getURI();var r=i.getURI(),o=e.getURI();return r==o||\"/\"==r.charAt(r.length-1)&&r.substr(0,r.length-1)==o?r:(n=i.toRelPath(i.path,e.path),e.query&&(n+=\"?\"+e.query),e.anchor&&(n+=\"#\"+e.anchor),n)},toAbsolute:function(e,n){return(e=new t(e,{base_uri:this})).getURI(n&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=o[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,i,r,o=0,a=\"\";if(e=(e=e.substring(0,e.lastIndexOf(\"/\"))).split(\"/\"),n=t.split(\"/\"),e.length>=n.length)for(i=0,r=e.length;i<r;i++)if(i>=n.length||e[i]!=n[i]){o=i+1;break}if(e.length<n.length)for(i=0,r=n.length;i<r;i++)if(i>=e.length||e[i]!=n[i]){o=i+1;break}if(1===o)return t;for(i=0,r=e.length-(o-1);i<r;i++)a+=\"../\";for(i=o-1,r=n.length;i<r;i++)a+=i!=o-1?\"/\"+n[i]:n[i];return a},toAbsPath:function(e,t){var i,r,o,a=0,s=[];for(r=/\\/$/.test(t)?\"/\":\"\",e=e.split(\"/\"),t=t.split(\"/\"),n(e,function(e){e&&s.push(e)}),e=s,i=t.length-1,s=[];i>=0;i--)0!==t[i].length&&\".\"!==t[i]&&(\"..\"!==t[i]?a>0?a--:s.push(t[i]):a++);return 0!==(o=(i=e.length-a)<=0?s.reverse().join(\"/\"):e.slice(0,i).join(\"/\")+\"/\"+s.reverse().join(\"/\")).indexOf(\"/\")&&(o=\"/\"+o),r&&o.lastIndexOf(\"/\")!==o.length-1&&(o+=r),o},getURI:function(e){var t,n=this;return n.source&&!e||(t=\"\",e||(t+=n.protocol?n.protocol+\"://\":\"//\",n.userInfo&&(t+=n.userInfo+\"@\"),n.host&&(t+=n.host),n.port&&(t+=\":\"+n.port)),n.path&&(t+=n.path),n.query&&(t+=\"?\"+n.query),n.anchor&&(t+=\"#\"+n.anchor),n.source=t),n.source}},t.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(\",\"),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},t.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf(\"http\")&&\"file:\"!==e.protocol?e.href:e.protocol+\"//\"+e.host+e.pathname,/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(t)&&(t=t.replace(/[\\?#].*$/,\"\").replace(/[\\/\\\\][^\\/]+$/,\"\"),/[\\/\\\\]$/.test(t)||(t+=\"/\")),t},t}),n(se,[h],function(e){function t(){}var n,i,r=e.each,o=e.extend;return t.extend=n=function(e){function t(){var e,t,n,r=this;if(!i&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(r,arguments)}function a(){return this}function s(e,t){return function(){var n,i=this,r=i._super;return i._super=d[e],n=t.apply(i,arguments),i._super=r,n}}var l,u,c,d=this.prototype;for(u in i=!0,l=new this,i=!1,e.Mixins&&(r(e.Mixins,function(t){for(var n in t)\"init\"!==n&&(e[n]=t[n])}),d.Mixins&&(e.Mixins=d.Mixins.concat(e.Mixins))),e.Methods&&r(e.Methods.split(\",\"),function(t){e[t]=a}),e.Properties&&r(e.Properties.split(\",\"),function(t){var n=\"_\"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}}),e.Statics&&r(e.Statics,function(e,n){t[n]=e}),e.Defaults&&d.Defaults&&(e.Defaults=o({},d.Defaults,e.Defaults)),e)l[u]=\"function\"==typeof(c=e[u])&&d[u]?s(u,c):c;return t.prototype=l,t.constructor=t,t.extend=n,t},t}),n(le,[h],function(e){function t(t){function n(){return!1}function i(){return!0}function r(t,i,r,o){var a,c,d;if(!1===i&&(i=n),i)for(i={func:i},o&&e.extend(i,o),d=(c=t.toLowerCase().split(\" \")).length;d--;)(a=u[t=c[d]])||(a=u[t]=[],s(t,!0)),r?a.unshift(i):a.push(i);return l}function o(e,t){var n,i,r,o,a;if(e)for(n=(o=e.toLowerCase().split(\" \")).length;n--;){if(i=u[e=o[n]],!e){for(r in u)s(r,!1),delete u[r];return l}if(i){if(t)for(a=i.length;a--;)i[a].func===t&&(i=i.slice(0,a).concat(i.slice(a+1)),u[e]=i);else i.length=0;i.length||(s(e,!1),delete u[e])}}else{for(e in u)s(e,!1);u={}}return l}var a,s,l=this,u={};a=(t=t||{}).scope||l,s=t.toggleEvent||n,l.fire=function(e,r){var s,l,c,d;if(e=e.toLowerCase(),(r=r||{}).type=e,r.target||(r.target=a),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=i},r.stopPropagation=function(){r.isPropagationStopped=i},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=i},r.isDefaultPrevented=n,r.isPropagationStopped=n,r.isImmediatePropagationStopped=n),t.beforeFire&&t.beforeFire(r),s=u[e])for(l=0,c=s.length;l<c;l++){if((d=s[l]).once&&o(e,d.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(!1===d.func.call(a,r))return r.preventDefault(),r}return r},l.on=r,l.off=o,l.once=function(e,t,n){return r(e,t,n,{once:!0})},l.has=function(e){return e=e.toLowerCase(),!(!u[e]||0===u[e].length)}}var n=e.makeMap(\"focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend\",\" \");return t.isNative=function(e){return!!n[e.toLowerCase()]},t}),n(ue,[],function(){function e(e){this.create=e.create}return e.create=function(t,n){return new e({create:function(e,i){function r(t){e.set(i,t.value)}var o;return e.on(\"change:\"+i,function(e){t.set(n,e.value)}),t.on(\"change:\"+n,r),(o=e._bindings)||(o=e._bindings=[],e.on(\"destroy\",function(){for(var e=o.length;e--;)o[e]()})),o.push(function(){t.off(\"change:\"+n,r)}),t.get(n)}})},e}),n(ce,[le],function(e){function t(t){return t._eventDispatcher||(t._eventDispatcher=new e({scope:t,toggleEvent:function(n,i){e.isNative(n)&&t.toggleNativeEvent&&t.toggleNativeEvent(n,i)}})),t._eventDispatcher}return{fire:function(e,n,i){var r=this;if(r.removed&&\"remove\"!==e)return n;if(n=t(r).fire(e,n,i),!1!==i&&r.parent)for(var o=r.parent();o&&!n.isPropagationStopped();)o.fire(e,n,!1),o=o.parent();return n},on:function(e,n,i){return t(this).on(e,n,i)},off:function(e,n){return t(this).off(e,n)},once:function(e,n){return t(this).once(e,n)},hasEventListeners:function(e){return t(this).has(e)}}}),n(de,[ue,ce,se,h],function(e,t,n,i){function r(e){return e.nodeType>0}function o(e,t){var n,a;if(e===t)return!0;if(null===e||null===t)return e===t;if(\"object\"!=typeof e||\"object\"!=typeof t)return e===t;if(i.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!o(e[n],t[n]))return!1}if(r(e)||r(t))return e===t;for(n in a={},t){if(!o(e[n],t[n]))return!1;a[n]=!0}for(n in e)if(!a[n]&&!o(e[n],t[n]))return!1;return!0}return n.extend({Mixins:[t],init:function(t){var n,i;for(n in t=t||{})(i=t[n])instanceof e&&(t[n]=i.create(this,n));this.data=t},set:function(t,n){var i,r,a=this.data[t];if(n instanceof e&&(n=n.create(this,t)),\"object\"==typeof t){for(i in t)this.set(i,t[i]);return this}return o(a,n)||(this.data[t]=n,this.fire(\"change:\"+t,r={target:this,name:t,value:n,oldValue:a}),this.fire(\"change\",r)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(t){return e.create(this,t)},destroy:function(){this.fire(\"destroy\")}})}),n(he,[se],function(e){var t,n=/^([\\w\\\\*]+)?(?:#([\\w\\-\\\\]+))?(?:\\.([\\w\\\\\\.]+))?(?:\\[\\@?([\\w\\\\]+)([\\^\\$\\*!~]?=)([\\w\\\\]+)\\])?(?:\\:(.+))?/i,i=/((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g,r=/^\\s*|\\s*$/g,o=e.extend({init:function(e){function t(e){var t;if(e)return(e=/(?:not\\((.+)\\))|(.+)/i.exec(e))[1]?(t=a(e[1],[]),function(e){return!s(e,t)}):(e=e[2],function(t,n,i){return\"first\"===e?0===n:\"last\"===e?n===i-1:\"even\"===e?n%2==0:\"odd\"===e?n%2==1:!!t[e]&&t[e]()})}function o(e,i,o){function a(e){e&&i.push(e)}var s;return a(function(e){if(e)return e=e.toLowerCase(),function(t){return\"*\"===e||t.type===e}}((s=n.exec(e.replace(r,\"\")))[1])),a(function(e){if(e)return function(t){return t._name===e}}(s[2])),a(function(e){if(e)return e=e.split(\".\"),function(t){for(var n=e.length;n--;)if(!t.classes.contains(e[n]))return!1;return!0}}(s[3])),a(function(e,t,n){if(e)return function(i){var r=i[e]?i[e]():\"\";return t?\"=\"===t?r===n:\"*=\"===t?r.indexOf(n)>=0:\"~=\"===t?(\" \"+r+\" \").indexOf(\" \"+n+\" \")>=0:\"!=\"===t?r!=n:\"^=\"===t?0===r.indexOf(n):\"$=\"===t&&r.substr(r.length-n.length)===n:!!n}}(s[4],s[5],s[6])),a(t(s[7])),i.pseudo=!!s[7],i.direct=o,i}function a(e,t){var n,r,s,l=[];do{if(i.exec(\"\"),(r=i.exec(e))&&(e=r[3],l.push(r[1]),r[2])){n=r[3];break}}while(r);for(n&&a(n,t),e=[],s=0;s<l.length;s++)\">\"!=l[s]&&e.push(o(l[s],[],\">\"===l[s-1]));return t.push(e),t}var s=this.match;this._selectors=a(e,[])},match:function(e,t){var n,i,r,o,a,s,l,u,c,d,h,f,p;for(n=0,i=(t=t||this._selectors).length;n<i;n++){for(p=e,f=0,r=(o=(a=t[n]).length)-1;r>=0;r--)for(u=a[r];p;){if(u.pseudo)for(c=d=(h=p.parent().items()).length;c--&&h[c]!==p;);for(s=0,l=u.length;s<l;s++)if(!u[s](p,c,d)){s=l+1;break}if(s===l){f++;break}if(r===o-1)break;p=p.parent()}if(f===o)return!0}return!1},find:function(e){function n(e,t,i){var r,o,s,l,u,c=t[i];for(r=0,o=e.length;r<o;r++){for(u=e[r],s=0,l=c.length;s<l;s++)if(!c[s](u,r,o)){s=l+1;break}if(s===l)i==t.length-1?a.push(u):u.items&&n(u.items(),t,i+1);else if(c.direct)return;u.items&&n(u.items(),t,i)}}var i,r,a=[],s=this._selectors;if(e.items){for(i=0,r=s.length;i<r;i++)n(e.items(),s[i],0);r>1&&(a=function(e){for(var t,n=[],i=e.length;i--;)(t=e[i]).__checked||(n.push(t),t.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}(a))}return t||(t=o.Collection),new t(a)}});return o}),n(fe,[h,he,se],function(e,t,n){var i,r,o=Array.prototype.push,a=Array.prototype.slice;return r={length:0,init:function(e){e&&this.add(e)},add:function(t){var n=this;return e.isArray(t)?o.apply(n,t):t instanceof i?n.add(t.toArray()):o.call(n,t),n},set:function(e){var t,n=this,i=n.length;for(n.length=0,n.add(e),t=n.length;t<i;t++)delete n[t];return n},filter:function(e){var n,r,o,a,s=[];for(\"string\"==typeof e?(e=new t(e),a=function(t){return e.match(t)}):a=e,n=0,r=this.length;n<r;n++)a(o=this[n])&&s.push(o);return new i(s)},slice:function(){return new i(a.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(t){return e.each(this,t),this},toArray:function(){return e.toArray(this)},indexOf:function(e){for(var t=this.length;t--&&this[t]!==e;);return t},reverse:function(){return new i(e.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(e,t){var n,i=this;return void 0!==t?(i.each(function(n){n[e]&&n[e](t)}),i):(n=i[0])&&n[e]?n[e]():void 0},exec:function(t){var n=this,i=e.toArray(arguments).slice(1);return n.each(function(e){e[t]&&e[t].apply(e,i)}),n},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each(function(t){t.classes.add(e)})},removeClass:function(e){return this.each(function(t){t.classes.remove(e)})}},e.each(\"fire on off show hide append prepend before after reflow\".split(\" \"),function(t){r[t]=function(){var n=e.toArray(arguments);return this.each(function(e){t in e&&e[t].apply(e,n)}),this}}),e.each(\"text name disabled active selected checked visible parent value data\".split(\" \"),function(e){r[e]=function(t){return this.prop(e,t)}}),i=n.extend(r),t.Collection=i,i}),n(pe,[l,h,x],function(e,t,n){var i=0,r={id:function(){return\"mceu_\"+i++},create:function(e,i,r){var o=document.createElement(e);return n.DOM.setAttribs(o,i),\"string\"==typeof r?o.innerHTML=r:t.each(r,function(e){e.nodeType&&o.appendChild(e)}),o},createFragment:function(e){return n.DOM.createFragment(e)},getWindowSize:function(){return n.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var i=e.getBoundingClientRect();t=Math.max(i.width||i.right-i.left,e.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return n.DOM.getPos(e,t||r.getContainer())},getContainer:function(){return e.container?e.container:document.body},getViewPort:function(e){return n.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return n.DOM.addClass(e,t)},removeClass:function(e,t){return n.DOM.removeClass(e,t)},hasClass:function(e,t){return n.DOM.hasClass(e,t)},toggleClass:function(e,t,i){return n.DOM.toggleClass(e,t,i)},css:function(e,t,i){return n.DOM.setStyle(e,t,i)},getRuntimeStyle:function(e,t){return n.DOM.getStyle(e,t,!0)},on:function(e,t,i,r){return n.DOM.bind(e,t,i,r)},off:function(e,t,i){return n.DOM.unbind(e,t,i)},fire:function(e,t,i){return n.DOM.fire(e,t,i)},innerHtml:function(e,t){n.DOM.setHTML(e,t)}};return r}),n(ge,[],function(){return{parseBox:function(e){var t;if(e)return\"number\"==typeof e?{top:e=e||0,left:e,bottom:e,right:e}:(1===(t=(e=e.split(\" \")).length)?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0})},measureBox:function(e,t){function n(t){var n=document.defaultView;return n?(t=t.replace(/[A-Z]/g,function(e){return\"-\"+e}),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle[t]}function i(e){var t=parseFloat(n(e),10);return isNaN(t)?0:t}return{top:i(t+\"TopWidth\"),right:i(t+\"RightWidth\"),bottom:i(t+\"BottomWidth\"),left:i(t+\"LeftWidth\")}}}}),n(me,[h],function(e){function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=\"\"}return e.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e=\"\";for(var t=0;t<this.cls.length;t++)t>0&&(e+=\" \"),e+=this.prefix+this.cls[t];return e},n}),n(ve,[s],function(e){var t,n={};return{add:function(i){var r=i.parent();if(r){if(!r._layout||r._layout.isNative())return;n[r._id]||(n[r._id]=r),t||(t=!0,e.requestAnimationFrame(function(){var e,i;for(e in t=!1,n)(i=n[e]).state.get(\"rendered\")&&i.reflow();n={}},document.body))}},remove:function(e){n[e._id]&&delete n[e._id]}}}),n(ye,[se,h,le,de,fe,pe,f,ge,me,ve],function(e,t,n,i,r,o,a,s,l,u){function c(e){return e._eventDispatcher||(e._eventDispatcher=new n({scope:e,toggleEvent:function(t,i){i&&n.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e.state.get(\"rendered\")&&d(e))}})),e._eventDispatcher}function d(e){function t(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function n(){var e=u._lastHoverCtrl;e&&(e.fire(\"mouseleave\",{target:e.getEl()}),e.parents().each(function(e){e.fire(\"mouseleave\",{target:e.getEl()})}),u._lastHoverCtrl=null)}function i(t){var n,i,r,o=e.getParentCtrl(t.target),a=u._lastHoverCtrl,s=0;if(o!==a){if(u._lastHoverCtrl=o,(i=o.parents().toArray().reverse()).push(o),a){for((r=a.parents().toArray().reverse()).push(a),s=0;s<r.length&&i[s]===r[s];s++);for(n=r.length-1;n>=s;n--)(a=r[n]).fire(\"mouseleave\",{target:a.getEl()})}for(n=s;n<i.length;n++)(o=i[n]).fire(\"mouseenter\",{target:o.getEl()})}}function r(t){t.preventDefault(),\"mousewheel\"==t.type?(t.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-.025*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire(\"wheel\",t)}var o,s,l,u,c,d;if(c=e._nativeEvents){for((l=e.parents().toArray()).unshift(e),o=0,s=l.length;!u&&o<s;o++)u=l[o]._eventsRoot;for(u||(u=l[l.length-1]||e),e._eventsRoot=u,s=o,o=0;o<s;o++)l[o]._eventsRoot=u;var h=u._delegates;for(d in h||(h=u._delegates={}),c){if(!c)return!1;\"wheel\"!==d||p?(\"mouseenter\"===d||\"mouseleave\"===d?u._hasMouseEnter||(a(u.getEl()).on(\"mouseleave\",n).on(\"mouseover\",i),u._hasMouseEnter=1):h[d]||(a(u.getEl()).on(d,t),h[d]=!0),c[d]=!1):f?a(e.getEl()).on(\"mousewheel\",r):a(e.getEl()).on(\"DOMMouseScroll\",r)}}}var h,f=\"onmousewheel\"in document,p=!1,g=\"mce-\",m=0,v={Statics:{classPrefix:g},isRtl:function(){return h.rtl},classPrefix:g,init:function(e){function n(e){var t;for(e=e.split(\" \"),t=0;t<e.length;t++)u.classes.add(e[t])}var r,o,u=this;u.settings=e=t.extend({},u.Defaults,e),u._id=e.id||\"mceu_\"+m++,u._aria={role:e.role},u._elmCache={},u.$=a,u.state=new i({visible:!0,active:!1,disabled:!1,value:\"\"}),u.data=new i(e.data),u.classes=new l(function(){u.state.get(\"rendered\")&&(u.getEl().className=this.toString())}),u.classes.prefix=u.classPrefix,(r=e.classes)&&(u.Defaults&&(o=u.Defaults.classes)&&r!=o&&n(o),n(r)),t.each(\"title text name visible disabled active value\".split(\" \"),function(t){t in e&&u[t](e[t])}),u.on(\"click\",function(){if(u.disabled())return!1}),u.settings=e,u.borderBox=s.parseBox(e.border),u.paddingBox=s.parseBox(e.padding),u.marginBox=s.parseBox(e.margin),e.hidden&&u.hide()},Properties:\"parent,name\",getContainerElm:function(){return o.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,i,r,a,l,u,c,d,h=this,f=h.settings,p=h.getEl();e=h.borderBox=h.borderBox||s.measureBox(p,\"border\"),h.paddingBox=h.paddingBox||s.measureBox(p,\"padding\"),h.marginBox=h.marginBox||s.measureBox(p,\"margin\"),d=o.getSize(p),r=(u=f.minWidth)||d.width,a=(c=f.minHeight)||d.height,n=f.width,i=f.height,l=void 0!==(l=f.autoResize)?l:!n&&!i;var g=e.left+e.right,m=e.top+e.bottom,v=f.maxWidth||65535,y=f.maxHeight||65535;return h._layoutRect=t={x:f.x||0,y:f.y||0,w:n=n||r,h:i=i||a,deltaW:g,deltaH:m,contentW:n-g,contentH:i-m,innerW:n-g,innerH:i-m,startMinWidth:u||0,startMinHeight:c||0,minW:Math.min(r,v),minH:Math.min(a,y),maxW:v,maxH:y,autoResize:l,scrollW:0},h._lastLayoutRect={},t},layoutRect:function(e){var t,n,i,r,o,a,s=this,l=s._layoutRect;return l||(l=s.initLayoutRect()),e?(i=l.deltaW,r=l.deltaH,e.x!==o&&(l.x=e.x),e.y!==o&&(l.y=e.y),e.minW!==o&&(l.minW=e.minW),e.minH!==o&&(l.minH=e.minH),(n=e.w)!==o&&(l.w=n=(n=n<l.minW?l.minW:n)>l.maxW?l.maxW:n,l.innerW=n-i),(n=e.h)!==o&&(l.h=n=(n=n<l.minH?l.minH:n)>l.maxH?l.maxH:n,l.innerH=n-r),(n=e.innerW)!==o&&(l.innerW=n=(n=n<l.minW-i?l.minW-i:n)>l.maxW-i?l.maxW-i:n,l.w=n+i),(n=e.innerH)!==o&&(l.innerH=n=(n=n<l.minH-r?l.minH-r:n)>l.maxH-r?l.maxH-r:n,l.h=n+r),e.contentW!==o&&(l.contentW=e.contentW),e.contentH!==o&&(l.contentH=e.contentH),(t=s._lastLayoutRect).x===l.x&&t.y===l.y&&t.w===l.w&&t.h===l.h||((a=h.repaintControls)&&a.map&&!a.map[s._id]&&(a.push(s),a.map[s._id]=!0),t.x=l.x,t.y=l.y,t.w=l.w,t.h=l.h),s):l},repaint:function(){var e,t,n,i,r,o,a,s,l,u,c=this;l=document.createRange?function(e){return e}:Math.round,e=c.getEl().style,o=(r=c.borderBox).left+r.right,a=r.top+r.bottom,(i=c._layoutRect).x!==(s=c._lastRepaintRect||{}).x&&(e.left=l(i.x)+\"px\",s.x=i.x),i.y!==s.y&&(e.top=l(i.y)+\"px\",s.y=i.y),i.w!==s.w&&(u=l(i.w-o),e.width=(u>=0?u:0)+\"px\",s.w=i.w),i.h!==s.h&&(u=l(i.h-a),e.height=(u>=0?u:0)+\"px\",s.h=i.h),c._hasBody&&i.innerW!==s.innerW&&(u=l(i.innerW),(n=c.getEl(\"body\"))&&((t=n.style).width=(u>=0?u:0)+\"px\"),s.innerW=i.innerW),c._hasBody&&i.innerH!==s.innerH&&(u=l(i.innerH),(n=n||c.getEl(\"body\"))&&((t=t||n.style).height=(u>=0?u:0)+\"px\"),s.innerH=i.innerH),c._lastRepaintRect=s,c.fire(\"repaint\",{},!1)},updateLayoutRect:function(){var e=this;e.parent()._lastRect=null,o.css(e.getEl(),{width:\"\",height:\"\"}),e._layoutRect=e._lastRepaintRect=e._lastLayoutRect=null,e.initLayoutRect()},on:function(e,t){var n=this;return c(n).on(e,function(e){var t,i;return\"string\"!=typeof e?e:function(r){return t||n.parentsAndSelf().each(function(n){var r=n.settings.callbacks;if(r&&(t=r[e]))return i=n,!1}),t?t.call(i,r):(r.action=e,void this.fire(\"execute\",r))}}(t)),n},off:function(e,t){return c(this).off(e,t),this},fire:function(e,t,n){var i=this;if((t=t||{}).control||(t.control=i),t=c(i).fire(e,t),!1!==n&&i.parent)for(var r=i.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},hasEventListeners:function(e){return c(this).has(e)},parents:function(e){var t,n=new r;for(t=this.parent();t;t=t.parent())n.add(t);return e&&(n=n.filter(e)),n},parentsAndSelf:function(e){return new r(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+\"-\"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=a(\"#\"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,i=n.getEl(n.ariaTarget);return void 0===t?n._aria[e]:(n._aria[e]=t,n.state.get(\"rendered\")&&i.setAttribute(\"role\"==e?e:\"aria-\"+e,t),n)},encode:function(e,t){return!1!==t&&(e=this.translate(e)),(e||\"\").replace(/[&<>\"]/g,function(e){return\"&#\"+e.charCodeAt(0)+\";\"})},translate:function(e){return h.translate?h.translate(e):e},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e,t,n=this,i=n.getEl(),r=n.parent();if(n.items){var o=n.items().toArray();for(t=o.length;t--;)o[t].remove()}r&&r.items&&(e=[],r.items().each(function(t){t!==n&&e.push(t)}),r.items().set(e),r._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&a(i).off();var s=n.getRoot().controlIdLookup;return s&&delete s[n._id],i&&i.parentNode&&i.parentNode.removeChild(i),n.state.set(\"rendered\",!1),n.state.destroy(),n.fire(\"remove\"),n},renderBefore:function(e){return a(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return a(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id=\"'+this._id+'\" class=\"'+this.classes+'\"></div>'},postRender:function(){var e,t,n,i,r,o=this,s=o.settings;for(i in o.$el=a(o.getEl()),o.state.set(\"rendered\",!0),s)0===i.indexOf(\"on\")&&o.on(i.substr(2),s[i]);if(o._eventsRoot){for(n=o.parent();!r&&n;n=n.parent())r=n._eventsRoot;if(r)for(i in r._nativeEvents)o._nativeEvents[i]=!0}d(o),s.style&&(e=o.getEl())&&(e.setAttribute(\"style\",s.style),e.style.cssText=s.style),o.settings.border&&o.$el.css({\"border-top-width\":(t=o.borderBox).top,\"border-right-width\":t.right,\"border-bottom-width\":t.bottom,\"border-left-width\":t.left});var l=o.getRoot();for(var c in l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[o._id]=o,o._aria)o.aria(c,o._aria[c]);!1===o.state.get(\"visible\")&&(o.getEl().style.display=\"none\"),o.bindStates(),o.state.on(\"change:visible\",function(e){var t,n=e.value;o.state.get(\"rendered\")&&(o.getEl().style.display=!1===n?\"none\":\"\",o.getEl().getBoundingClientRect()),(t=o.parent())&&(t._lastRect=null),o.fire(n?\"show\":\"hide\"),u.add(o)}),o.fire(\"postrender\",{},!1)},bindStates:function(){},scrollIntoView:function(e){var t,n,i,r,o,a,s=this.getEl(),l=s.parentNode,u=function(e,t){var n,i,r=e;for(n=i=0;r&&r!=t&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}(s,l);return t=u.x,n=u.y,i=s.offsetWidth,r=s.offsetHeight,o=l.clientWidth,a=l.clientHeight,\"end\"==e?(t-=o-i,n-=a-r):\"center\"==e&&(t-=o/2-i/2,n-=a/2-r/2),l.scrollLeft=t,l.scrollTop=n,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),e=t,t=t.parent()}e||(e=this);for(var i=n.length;i--;)n[i].rootControl=e;return e},reflow:function(){u.remove(this);var e=this.parent();return e._layout&&!e._layout.isNative()&&e.reflow(),this}};return t.each(\"text title visible disabled active value\".split(\" \"),function(e){v[e]=function(t){return 0===arguments.length?this.state.get(e):(void 0!==t&&this.state.set(e,t),this)}}),h=e.extend(v)}),n(xe,[],function(){var e,t={};return{add:function(e,n){t[e.toLowerCase()]=n},has:function(e){return!!t[e.toLowerCase()]},create:function(n,i){var r,o,a;if(!e){for(o in a=tinymce.ui)t[o.toLowerCase()]=a[o];e=!0}if(\"string\"==typeof n?(i=i||{}).type=n:n=(i=n).type,n=n.toLowerCase(),!(r=t[n]))throw new Error(\"Could not find control by type: \"+n);return(r=new r(i)).type=n,r}}}),n(be,[],function(){return function(e){function t(e){return e&&1===e.nodeType}function n(e){return t(e=e||v)?e.getAttribute(\"role\"):null}function i(e){for(var t,i=e||v;i=i.parentNode;)if(t=n(i))return t}function r(e){var n=v;if(t(n))return n.getAttribute(\"aria-\"+e)}function o(e){var t=e.tagName.toUpperCase();return\"INPUT\"==t||\"TEXTAREA\"==t||\"SELECT\"==t}function a(e){return!(!o(e)||e.hidden)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(n(e))}function s(e){var t=[];return function e(n){if(1==n.nodeType&&\"none\"!=n.style.display&&!n.disabled){a(n)&&t.push(n);for(var i=0;i<n.childNodes.length;i++)e(n.childNodes[i])}}(e||b.getEl()),t}function l(e){var t,n;(n=(e=e||y).parents().toArray()).unshift(e);for(var i=0;i<n.length&&!(t=n[i]).settings.ariaRoot;i++);return t}function u(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function c(e,t){var n=-1,i=l();t=t||s(i.getEl());for(var r=0;r<t.length;r++)t[r]===v&&(n=r);i.lastAriaIndex=u(n+=e,t)}function d(){\"tablist\"==i()?c(-1,s(v.parentNode)):y.parent().submenu?g():c(-1)}function h(){var e=n(),t=i();\"tablist\"==t?c(1,s(v.parentNode)):\"menuitem\"==e&&\"menu\"==t&&r(\"haspopup\")?m():c(1)}function f(){c(-1)}function p(){var e=n(),t=i();\"menuitem\"==e&&\"menubar\"==t?m():\"button\"==e&&r(\"haspopup\")?m({key:\"down\"}):c(1)}function g(){y.fire(\"cancel\")}function m(e){y.fire(\"click\",{target:v,aria:e=e||{}})}var v,y,b=e.root;try{v=document.activeElement}catch(x){v=document.body}return y=b.getParentCtrl(v),b.on(\"keydown\",function(e){function t(e,t){o(v)||\"slider\"!==n(v)&&!1!==t(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,d);break;case 39:t(e,h);break;case 38:t(e,f);break;case 40:t(e,p);break;case 27:g();break;case 14:case 13:case 32:t(e,m);break;case 9:!1!==function(e){if(\"tablist\"==i()){var t=s(y.getEl(\"body\"))[0];t&&t.focus()}else c(e.shiftKey?-1:1)}(e)&&e.preventDefault()}}),b.on(\"focusin\",function(e){v=e.target,y=e.control}),{focusFirst:function(e){var t=l(e),n=s(t.getEl());u(t.settings.ariaRemember&&\"lastAriaIndex\"in t?t.lastAriaIndex:0,n)}}}}),n(_e,[ye,fe,he,xe,be,h,f,me,ve],function(e,t,n,i,r,o,a,s,l){var u={};return e.extend({init:function(e){var n=this;n._super(e),(e=n.settings).fixed&&n.state.set(\"fixed\",!0),n._items=new t,n.isRtl()&&n.classes.add(\"rtl\"),n.bodyClasses=new s(function(){n.state.get(\"rendered\")&&(n.getEl(\"body\").className=this.toString())}),n.bodyClasses.prefix=n.classPrefix,n.classes.add(\"container\"),n.bodyClasses.add(\"container-body\"),e.containerCls&&n.classes.add(e.containerCls),n._layout=i.create((e.layout||\"\")+\"layout\"),n.add(n.settings.items?n.settings.items:n.render()),n._hasBody=!0},items:function(){return this._items},find:function(e){return(e=u[e]=u[e]||new n(e)).find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var t,n,i,r=this;return e&&(n=r.keyboardNav||r.parents().eq(-1)[0].keyboardNav)?void n.focusFirst(r):(i=r.find(\"*\"),r.statusbar&&i.add(r.statusbar.items()),i.each(function(e){return e.settings.autofocus?(t=null,!1):void(e.canFocus&&(t=t||e))}),t&&t.focus(),r)},replace:function(e,t){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===e){i[r]=t;break}r>=0&&((n=t.getEl())&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(t){var n,r=this,a=[];return o.isArray(t)||(t=[t]),o.each(t,function(t){t&&(t instanceof e||(\"string\"==typeof t&&(t={type:t}),n=o.extend({},r.settings.defaults,t),t.type=n.type=n.type||t.type||r.settings.defaultType||(n.defaults?n.defaults.type:null),t=i.create(n)),a.push(t))}),a},renderNew:function(){var e=this;return e.items().each(function(t,n){var i;t.parent(e),t.state.get(\"rendered\")||((i=e.getEl(\"body\")).hasChildNodes()&&n<=i.childNodes.length-1?a(i.childNodes[n]).before(t.renderHtml()):a(i).append(t.renderHtml()),t.postRender(),l.add(t))}),e._layout.applyClasses(e.items().filter(\":visible\")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var i,r,o,a=this;return e=a.create(e),i=a.items(),!n&&t<i.length-1&&(t+=1),t>=0&&t<i.length&&(r=i.slice(0,t).toArray(),o=i.slice(t).toArray(),i.set(r.concat(e,o))),a.renderNew()},fromJSON:function(e){for(var t in e)this.find(\"#\"+t).value(e[t]);return this},toJSON:function(){var e={};return this.find(\"*\").each(function(t){var n=t.name(),i=t.value();n&&void 0!==i&&(e[n]=i)}),e},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id=\"'+e._id+'\" class=\"'+e.classes+'\"'+(n?' role=\"'+this.settings.role+'\"':\"\")+'><div id=\"'+e._id+'-body\" class=\"'+e.bodyClasses+'\">'+(e.settings.html||\"\")+t.renderHtml(e)+\"</div></div>\"},postRender:function(){var e,t=this;return t.items().exec(\"postRender\"),t._super(),t._layout.postRender(t),t.state.set(\"rendered\",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&t.$el.css({\"border-top-width\":(e=t.borderBox).top,\"border-right-width\":e.right,\"border-bottom-width\":e.bottom,\"border-left-width\":e.left}),t.parent()||(t.keyboardNav=new r({root:t})),t},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!=t.w||n.h!=t.h)return e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0},reflow:function(){var t;if(l.remove(this),this.visible()){for(e.repaintControls=[],e.repaintControls.map={},this.recalc(),t=e.repaintControls.length;t--;)e.repaintControls[t].repaint();\"flow\"!==this.settings.layout&&\"stack\"!==this.settings.layout&&this.repaint(),e.repaintControls=[]}return this}})}),n(we,[f],function(e){function t(e){var t,n;if(e.changedTouches)for(t=\"screenX screenY pageX pageY clientX clientY\".split(\" \"),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}return function(n,i){function r(){return h.getElementById(i.handle||n)}var o,a,s,l,u,c,d,h=i.document||document;i=i||{},s=function(n){var s,f,p=function(e){var t,n,i,r,o,a,s,l=Math.max;return i=l((t=e.documentElement).scrollWidth,(n=e.body).scrollWidth),r=l(t.clientWidth,n.clientWidth),o=l(t.offsetWidth,n.offsetWidth),a=l(t.scrollHeight,n.scrollHeight),s=l(t.clientHeight,n.clientHeight),{width:i<o?r:i,height:a<l(t.offsetHeight,n.offsetHeight)?s:a}}(h);t(n),n.preventDefault(),a=n.button,s=r(),c=n.screenX,d=n.screenY,f=window.getComputedStyle?window.getComputedStyle(s,null).getPropertyValue(\"cursor\"):s.runtimeStyle.cursor,o=e(\"<div></div>\").css({position:\"absolute\",top:0,left:0,width:p.width,height:p.height,zIndex:2147483647,opacity:1e-4,cursor:f}).appendTo(h.body),e(h).on(\"mousemove touchmove\",u).on(\"mouseup touchend\",l),i.start(n)},u=function(e){return t(e),e.button!==a?l(e):(e.deltaX=e.screenX-c,e.deltaY=e.screenY-d,e.preventDefault(),void i.drag(e))},l=function(n){t(n),e(h).off(\"mousemove touchmove\",u).off(\"mouseup touchend\",l),o.remove(),i.stop&&i.stop(n)},this.destroy=function(){e(r()).off()},e(r()).on(\"mousedown touchstart\",s)}}),n(Se,[f,we],function(e,t){return{init:function(){this.on(\"repaint\",this.renderScroll)},renderScroll:function(){function n(){function t(t,a,s,l,u,c){var d,h,f,p,g,m,v,y;if(h=i.getEl(\"scroll\"+t)){if(v=a.toLowerCase(),y=s.toLowerCase(),e(i.getEl(\"absend\")).css(v,i.layoutRect()[l]-1),!u)return void e(h).css(\"display\",\"none\");e(h).css(\"display\",\"block\"),d=i.getEl(\"body\"),f=i.getEl(\"scroll\"+t+\"t\"),p=d[\"client\"+s]-2*r,g=(p-=n&&o?h[\"client\"+c]:0)/d[\"scroll\"+s],(m={})[v]=d[\"offset\"+a]+r,m[y]=p,e(h).css(m),(m={})[v]=d[\"scroll\"+a]*g,m[y]=p*g,e(f).css(m)}}var n,o,a;a=i.getEl(\"body\"),o=a.scrollHeight>a.clientHeight,t(\"h\",\"Left\",\"Width\",\"contentW\",n=a.scrollWidth>a.clientWidth,\"Height\"),t(\"v\",\"Top\",\"Height\",\"contentH\",o,\"Width\")}var i=this,r=2;i.settings.autoScroll&&(i._hasScroll||(i._hasScroll=!0,function(){function n(n,o,a,s,l){var u,c=i._id+\"-scroll\"+n,d=i.classPrefix;e(i.getEl()).append('<div id=\"'+c+'\" class=\"'+d+\"scrollbar \"+d+\"scrollbar-\"+n+'\"><div id=\"'+c+'t\" class=\"'+d+'scrollbar-thumb\"></div></div>'),i.draghelper=new t(c+\"t\",{start:function(){u=i.getEl(\"body\")[\"scroll\"+o],e(\"#\"+c).addClass(d+\"active\")},drag:function(e){var t,c,d,h,f=i.layoutRect();c=f.contentW>f.innerW,d=f.contentH>f.innerH,h=i.getEl(\"body\")[\"client\"+a]-2*r,t=(h-=c&&d?i.getEl(\"scroll\"+n)[\"client\"+l]:0)/i.getEl(\"body\")[\"scroll\"+a],i.getEl(\"body\")[\"scroll\"+o]=u+e[\"delta\"+s]/t},stop:function(){e(\"#\"+c).removeClass(d+\"active\")}})}i.classes.add(\"scroll\"),n(\"v\",\"Top\",\"Height\",\"Y\",\"Width\"),n(\"h\",\"Left\",\"Width\",\"X\",\"Height\")}(),i.on(\"wheel\",function(e){var t=i.getEl(\"body\");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),e(i.getEl(\"body\")).on(\"scroll\",n)),n())}}}),n(Ce,[_e,Se],function(e,t){return e.extend({Defaults:{layout:\"fit\",containerCls:\"panel\"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id=\"'+e._id+'-body\" class=\"'+e.bodyClasses+'\">'+t.renderHtml(e)+\"</div>\":(\"function\"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id=\"'+e._id+'\" class=\"'+e.classes+'\" hidefocus=\"1\" tabindex=\"-1\" role=\"group\">'+(e._preBodyHtml||\"\")+n+\"</div>\"}})}),n(Me,[pe],function(e){function t(t,n,i){var r,o,a,s,l,u,c,d,h,f;return h=e.getViewPort(),a=(o=e.getPos(n)).x,s=o.y,t.state.get(\"fixed\")&&\"static\"==e.getRuntimeStyle(document.body,\"position\")&&(a-=h.x,s-=h.y),r=t.getEl(),l=(f=e.getSize(r)).width,u=f.height,c=(f=e.getSize(n)).width,d=f.height,\"b\"===(i=(i||\"\").split(\"\"))[0]&&(s+=d),\"r\"===i[1]&&(a+=c),\"c\"===i[0]&&(s+=Math.round(d/2)),\"c\"===i[1]&&(a+=Math.round(c/2)),\"b\"===i[3]&&(s-=u),\"r\"===i[4]&&(a-=l),\"c\"===i[3]&&(s-=Math.round(u/2)),\"c\"===i[4]&&(a-=Math.round(l/2)),{x:a,y:s,w:l,h:u}}return{testMoveRel:function(n,i){for(var r=e.getViewPort(),o=0;o<i.length;o++){var a=t(this,n,i[o]);if(this.state.get(\"fixed\")){if(a.x>0&&a.x+a.w<r.w&&a.y>0&&a.y+a.h<r.h)return i[o]}else if(a.x>r.x&&a.x+a.w<r.w+r.x&&a.y>r.y&&a.y+a.h<r.h+r.y)return i[o]}return i[0]},moveRel:function(e,n){\"string\"!=typeof n&&(n=this.testMoveRel(e,n));var i=t(this,e,n);return this.moveTo(i.x,i.y)},moveBy:function(e,t){var n=this,i=n.layoutRect();return n.moveTo(i.x+e,i.y+t),n},moveTo:function(t,n){function i(e,t,n){return e<0||e+n>t&&(e=t-n)<0?0:e}var r=this;if(r.settings.constrainToViewport){var o=e.getViewPort(window),a=r.layoutRect();t=i(t,o.w+o.x,a.w),n=i(n,o.h+o.y,a.h)}return r.state.get(\"rendered\")?r.layoutRect({x:t,y:n}).repaint():(r.settings.x=t,r.settings.y=n),r.fire(\"move\",{x:t,y:n}),r}}}),n(Te,[pe],function(e){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,n){if(t<=1||n<=1){var i=e.getWindowSize();t=t<=1?t*i.w:t,n=n<=1?n*i.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this.layoutRect();return this.resizeTo(n.w+e,n.h+t)}}}),n(ke,[Ce,Me,Te,pe,f,s],function(e,t,n,i,r,o){function a(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function s(e){function t(t,n){for(var i,r=0;r<p.length;r++)if(p[r]!=e)for(i=p[r].parent();i&&(i=i.parent());)i==e&&p[r].fixed(t).moveBy(0,n).repaint()}var n=i.getViewPort().y;e.settings.autofix&&(e.state.get(\"fixed\")?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}function l(e,t){var n,i,o=m.zIndex||65535;if(e)g.push(t);else for(n=g.length;n--;)g[n]===t&&g.splice(n,1);if(g.length)for(n=0;n<g.length;n++)g[n].modal&&(o++,i=g[n]),g[n].getEl().style.zIndex=o,g[n].zIndex=o,o++;var a=r(\"#\"+t.classPrefix+\"modal-block\",t.getContainerElm())[0];i?r(a).css(\"z-index\",i.zIndex-1):a&&(a.parentNode.removeChild(a),f=!1),m.currentZIndex=o}function u(e){var t;for(t=p.length;t--;)p[t]===e&&p.splice(t,1);for(t=g.length;t--;)g[t]===e&&g.splice(t,1)}var c,d,h,f,p=[],g=[],m=e.extend({Mixins:[t,n],init:function(e){var t=this;t._super(e),t._eventsRoot=t,t.classes.add(\"floatpanel\"),e.autohide&&(c||(c=function(e){2!=e.button&&function(e){for(var t=p.length;t--;){var n=p[t],i=n.getParentCtrl(e.target);if(n.settings.autohide){if(i&&(a(i,n)||n.parent()===i))continue;(e=n.fire(\"autohide\",{target:e.target})).isDefaultPrevented()||n.hide()}}}(e)},r(document).on(\"click touchstart\",c)),function(){if(!h){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;h=function(){document.all&&t==e.clientWidth&&n==e.clientHeight||(t=e.clientWidth,n=e.clientHeight,m.hideAll())},r(window).on(\"resize\",h)}}(),p.push(t)),e.autofix&&(d||(d=function(){var e;for(e=p.length;e--;)s(p[e])},r(window).on(\"scroll\",d)),t.on(\"move\",function(){s(this)})),t.on(\"postrender show\",function(e){if(e.control==t){var n,i=t.classPrefix;t.modal&&!f&&((n=r(\"#\"+i+\"modal-block\",t.getContainerElm()))[0]||(n=r('<div id=\"'+i+'modal-block\" class=\"'+i+\"reset \"+i+'fade\"></div>').appendTo(t.getContainerElm())),o.setTimeout(function(){n.addClass(i+\"in\"),r(t.getEl()).addClass(i+\"in\")}),f=!0),l(!0,t)}}),t.on(\"show\",function(){t.parents().each(function(e){if(e.state.get(\"fixed\"))return t.fixed(!0),!1})}),e.popover&&(t._preBodyHtml='<div class=\"'+t.classPrefix+'arrow\"></div>',t.classes.add(\"popover\").add(\"bottom\").add(t.isRtl()?\"end\":\"start\")),t.aria(\"label\",e.ariaLabel),t.aria(\"labelledby\",t._id),t.aria(\"describedby\",t.describedBy||t._id+\"-none\")},fixed:function(e){var t=this;if(t.state.get(\"fixed\")!=e){if(t.state.get(\"rendered\")){var n=i.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.classes.toggle(\"fixed\",e),t.state.set(\"fixed\",e)}return t},show:function(){var e,t=this,n=t._super();for(e=p.length;e--&&p[e]!==t;);return-1===e&&p.push(t),n},hide:function(){return u(this),l(!1,this),this._super()},hideAll:function(){m.hideAll()},close:function(){var e=this;return e.fire(\"close\").isDefaultPrevented()||(e.remove(),l(!1,e)),e},remove:function(){u(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl(\"body\").setAttribute(\"role\",e.settings.bodyRole),e._super()}});return m.hideAll=function(){for(var e=p.length;e--;){var t=p[e];t&&t.settings.autohide&&(t.hide(),p.splice(e,1))}},m}),n(Ae,[ke,Ce,pe,f,we,ge,l,s],function(e,t,n,i,r,o,a,s){function l(e){var t,n=i(\"meta[name=viewport]\")[0];!1!==a.overrideViewPort&&(n||((n=document.createElement(\"meta\")).setAttribute(\"name\",\"viewport\"),document.getElementsByTagName(\"head\")[0].appendChild(n)),(t=n.getAttribute(\"content\"))&&void 0!==c&&(c=t),n.setAttribute(\"content\",e?\"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0\":c))}var u=[],c=\"\",d=e.extend({modal:!0,Defaults:{border:1,layout:\"flex\",containerCls:\"panel\",role:\"dialog\",callbacks:{submit:function(){this.fire(\"submit\",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var i=this;i._super(e),i.isRtl()&&i.classes.add(\"rtl\"),i.classes.add(\"window\"),i.bodyClasses.add(\"window-body\"),i.state.set(\"fixed\",!0),e.buttons&&(i.statusbar=new t({layout:\"flex\",border:\"1 0 0 0\",spacing:3,padding:10,align:\"center\",pack:i.isRtl()?\"start\":\"end\",defaults:{type:\"button\"},items:e.buttons}),i.statusbar.classes.add(\"foot\"),i.statusbar.parent(i)),i.on(\"click\",function(e){var t=i.classPrefix+\"close\";(n.hasClass(e.target,t)||n.hasClass(e.target.parentNode,t))&&i.close()}),i.on(\"cancel\",function(){i.close()}),i.aria(\"describedby\",i.describedBy||i._id+\"-none\"),i.aria(\"label\",e.title),i._fullscreen=!1},recalc:function(){var e,t,i,r,o=this,a=o.statusbar;o._fullscreen&&(o.layoutRect(n.getWindowSize()),o.layoutRect().contentH=o.layoutRect().innerH),o._super(),e=o.layoutRect(),o.settings.title&&!o._fullscreen&&(t=e.headerW)>e.w&&(i=e.x-Math.max(0,t/2),o.layoutRect({w:t,x:i}),r=!0),a&&(a.layoutRect({w:o.layoutRect().innerW}).recalc(),(t=a.layoutRect().minW+e.deltaW)>e.w&&(i=e.x-Math.max(0,t-e.w),o.layoutRect({w:t,x:i}),r=!0)),r&&o.recalc()},initLayoutRect:function(){var e,t=this,i=t._super(),r=0;if(t.settings.title&&!t._fullscreen){e=t.getEl(\"head\");var o=n.getSize(e);i.headerW=o.width,i.headerH=o.height,r+=i.headerH}t.statusbar&&(r+=t.statusbar.layoutRect().h),i.deltaH+=r,i.minH+=r,i.h+=r;var a=n.getWindowSize();return i.x=t.settings.x||Math.max(0,a.w/2-i.w/2),i.y=t.settings.y||Math.max(0,a.h/2-i.h/2),i},renderHtml:function(){var e=this,t=e._layout,n=e._id,i=e.classPrefix,r=e.settings,o=\"\",a=\"\",s=r.html;return e.preRender(),t.preRender(e),r.title&&(o='<div id=\"'+n+'-head\" class=\"'+i+'window-head\"><div id=\"'+n+'-title\" class=\"'+i+'title\">'+e.encode(r.title)+'</div><div id=\"'+n+'-dragh\" class=\"'+i+'dragh\"></div><button type=\"button\" class=\"'+i+'close\" aria-hidden=\"true\"><i class=\"mce-ico mce-i-remove\"></i></button></div>'),r.url&&(s='<iframe src=\"'+r.url+'\" tabindex=\"-1\"></iframe>'),void 0===s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id=\"'+n+'\" class=\"'+e.classes+'\" hidefocus=\"1\"><div class=\"'+e.classPrefix+'reset\" role=\"application\">'+o+'<div id=\"'+n+'-body\" class=\"'+e.bodyClasses+'\">'+s+\"</div>\"+a+\"</div></div>\"},fullscreen:function(e){var t,r,a=this,l=document.documentElement,u=a.classPrefix;if(e!=a._fullscreen)if(i(window).on(\"resize\",function(){var e;if(a._fullscreen)if(t)a._timer||(a._timer=s.setTimeout(function(){var e=n.getWindowSize();a.moveTo(0,0).resizeTo(e.w,e.h),a._timer=0},50));else{e=(new Date).getTime();var i=n.getWindowSize();a.moveTo(0,0).resizeTo(i.w,i.h),(new Date).getTime()-e>50&&(t=!0)}}),r=a.layoutRect(),a._fullscreen=e,e){a._initial={x:r.x,y:r.y,w:r.w,h:r.h},a.borderBox=o.parseBox(\"0\"),a.getEl(\"head\").style.display=\"none\",r.deltaH-=r.headerH+2,i([l,document.body]).addClass(u+\"fullscreen\"),a.classes.add(\"fullscreen\");var c=n.getWindowSize();a.moveTo(0,0).resizeTo(c.w,c.h)}else a.borderBox=o.parseBox(a.settings.border),a.getEl(\"head\").style.display=\"\",r.deltaH+=r.headerH,i([l,document.body]).removeClass(u+\"fullscreen\"),a.classes.remove(\"fullscreen\"),a.moveTo(a._initial.x,a._initial.y).resizeTo(a._initial.w,a._initial.h);return a.reflow()},postRender:function(){var e,t=this;setTimeout(function(){t.classes.add(\"in\"),t.fire(\"open\")},0),t._super(),t.statusbar&&t.statusbar.postRender(),t.focus(),this.dragHelper=new r(t._id+\"-dragh\",{start:function(){e={x:t.layoutRect().x,y:t.layoutRect().y}},drag:function(n){t.moveTo(e.x+n.deltaX,e.y+n.deltaY)}}),t.on(\"submit\",function(e){e.isDefaultPrevented()||t.close()}),u.push(t),l(!0)},submit:function(){return this.fire(\"submit\",{data:this.toJSON()})},remove:function(){var e,t=this;for(t.dragHelper.destroy(),t._super(),t.statusbar&&this.statusbar.remove(),function(e,t){(function(){for(var e=0;e<u.length;e++)if(u[e]._fullscreen)return!0;return!1})()&&i([document.documentElement,document.body]).removeClass(e+\"fullscreen\")}(t.classPrefix),e=u.length;e--;)u[e]===t&&u.splice(e,1);l(u.length>0)},getContentWindow:function(){var e=this.getEl().getElementsByTagName(\"iframe\")[0];return e?e.contentWindow:null}});return function(){if(!a.desktop){var e={w:window.innerWidth,h:window.innerHeight};s.setInterval(function(){var t=window.innerWidth,n=window.innerHeight;e.w==t&&e.h==n||(e={w:t,h:n},i(window).trigger(\"resize\"))},100)}i(window).on(\"resize\",function(){var e,t,i=n.getWindowSize();for(e=0;e<u.length;e++)t=u[e].layoutRect(),u[e].moveTo(u[e].settings.x||Math.max(0,i.w/2-t.w/2),u[e].settings.y||Math.max(0,i.h/2-t.h/2))})}(),d}),n(Ie,[Ae],function(e){var t=e.extend({init:function(e){this._super({border:1,padding:20,layout:\"flex\",pack:\"center\",align:\"center\",containerCls:\"panel\",autoScroll:!0,buttons:{type:\"button\",text:\"Ok\",action:\"ok\"},items:{type:\"label\",multiline:!0,maxWidth:500,maxHeight:200}})},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){function i(e,t,n){return{type:\"button\",text:e,subtype:n?\"primary\":\"\",onClick:function(e){e.control.parents()[1].close(),o(t)}}}var r,o=n.callback||function(){};switch(n.buttons){case t.OK_CANCEL:r=[i(\"Ok\",!0,!0),i(\"Cancel\",!1)];break;case t.YES_NO:case t.YES_NO_CANCEL:r=[i(\"Yes\",1,!0),i(\"No\",0)],n.buttons==t.YES_NO_CANCEL&&r.push(i(\"Cancel\",-1));break;default:r=[i(\"Ok\",!0,!0)]}return new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:\"flex\",pack:\"center\",align:\"center\",buttons:r,title:n.title,role:\"alertdialog\",items:{type:\"label\",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria(\"describedby\",this.items()[0]._id)},onClose:n.onClose,onCancel:function(){o(!1)}}).renderTo(document.body).reflow()},alert:function(e,n){return\"string\"==typeof e&&(e={text:e}),e.callback=n,t.msgBox(e)},confirm:function(e,n){return\"string\"==typeof e&&(e={text:e}),e.callback=n,e.buttons=t.OK_CANCEL,t.msgBox(e)}}});return t}),n(De,[Ae,Ie],function(e,t){return function(n){function i(){if(s.length)return s[s.length-1]}function r(e){n.fire(\"OpenWindow\",{win:e})}function o(e){n.fire(\"CloseWindow\",{win:e})}var a=this,s=[];a.windows=s,n.on(\"remove\",function(){for(var e=s.length;e--;)s[e].close()}),a.open=function(t,i){var a;return n.editorManager.setActive(n),t.title=t.title||\" \",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||\"form\",items:t.body,data:t.data,callbacks:t.commands}),t.url||t.buttons||(t.buttons=[{text:\"Ok\",subtype:\"primary\",onclick:function(){a.find(\"form\")[0].submit()}},{text:\"Cancel\",onclick:function(){a.close()}}]),a=new e(t),s.push(a),a.on(\"close\",function(){for(var e=s.length;e--;)s[e]===a&&s.splice(e,1);s.length||n.focus(),o(a)}),t.data&&a.on(\"postRender\",function(){this.find(\"*\").each(function(e){var n=e.name();n in t.data&&e.value(t.data[n])})}),a.features=t||{},a.params=i||{},1===s.length&&n.nodeChanged(),r(a=a.renderTo().reflow()),a},a.alert=function(e,i,a){var s;(s=t.alert(e,function(){i?i.call(a||this):n.focus()})).on(\"close\",function(){o(s)}),r(s)},a.confirm=function(e,n,i){var a;(a=t.confirm(e,function(e){n.call(i||this,e)})).on(\"close\",function(){o(a)}),r(a)},a.close=function(){i()&&i().close()},a.getParams=function(){return i()?i().params:null},a.setParams=function(e){i()&&(i().params=e)},a.getWindows=function(){return s}}}),n(Ne,[ye,Me],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:\"widget tooltip tooltip-n\"},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id=\"'+e._id+'\" class=\"'+e.classes+'\" role=\"presentation\"><div class=\"'+t+'tooltip-arrow\"></div><div class=\"'+t+'tooltip-inner\">'+e.encode(e.state.get(\"text\"))+\"</div></div>\"},bindStates:function(){var e=this;return e.state.on(\"change:text\",function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)}),e._super()},repaint:function(){var e,t;(e=this.getEl().style).left=(t=this._layoutRect).x+\"px\",e.top=t.y+\"px\",e.zIndex=131070}})}),n(Pe,[ye,Ne],function(e,t){var n,i=e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&!1!==i.tooltips&&(t.on(\"mouseenter\",function(n){var i=t.tooltip().moveTo(-65535);if(n.control==t){var r=i.text(e.tooltip).show().testMoveRel(t.getEl(),[\"bc-tc\",\"bc-tl\",\"bc-tr\"]);i.classes.toggle(\"tooltip-n\",\"bc-tc\"==r),i.classes.toggle(\"tooltip-nw\",\"bc-tl\"==r),i.classes.toggle(\"tooltip-ne\",\"bc-tr\"==r),i.moveRel(t.getEl(),r)}else i.hide()}),t.on(\"mouseleave mousedown click\",function(){t.tooltip().hide()})),t.aria(\"label\",e.ariaLabel||e.tooltip)},tooltip:function(){return n||(n=new t({type:\"tooltip\"})).renderTo(),n},postRender:function(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},bindStates:function(){function e(e){n.aria(\"disabled\",e),n.classes.toggle(\"disabled\",e)}function t(e){n.aria(\"pressed\",e),n.classes.toggle(\"active\",e)}var n=this;return n.state.on(\"change:disabled\",function(t){e(t.value)}),n.state.on(\"change:active\",function(e){t(e.value)}),n.state.get(\"disabled\")&&e(!0),n.state.get(\"active\")&&t(!0),n._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return i}),n(Le,[Pe],function(e){return e.extend({Defaults:{value:0},init:function(e){var t=this;t._super(e),t.classes.add(\"progress\"),t.settings.filter||(t.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this.classPrefix;return'<div id=\"'+this._id+'\" class=\"'+this.classes+'\"><div class=\"'+e+'bar-container\"><div class=\"'+e+'bar\"></div></div><div class=\"'+e+'text\">0%</div></div>'},postRender:function(){var e=this;return e._super(),e.value(e.settings.value),e},bindStates:function(){function e(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+\"%\",t.getEl().firstChild.firstChild.style.width=e+\"%\"}var t=this;return t.state.on(\"change:value\",function(t){e(t.value)}),e(t.state.get(\"value\")),t._super()}})}),n(Ee,[ye,Me,Le,s],function(e,t,n,i){return e.extend({Mixins:[t],Defaults:{classes:\"widget notification\"},init:function(e){var t=this;t._super(e),e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add(\"notification-\"+e.type),e.timeout&&(e.timeout<0||e.timeout>0)&&!e.closeButton?t.closeButton=!1:(t.classes.add(\"has-close\"),t.closeButton=!0),e.progressBar&&(t.progressBar=new n),t.on(\"click\",function(e){-1!=e.target.className.indexOf(t.classPrefix+\"close\")&&t.close()})},renderHtml:function(){var e=this,t=e.classPrefix,n=\"\",i=\"\",r=\"\",o=\"\";return e.icon&&(n='<i class=\"'+t+\"ico \"+t+\"i-\"+e.icon+'\"></i>'),e.color&&(o=' style=\"background-color: '+e.color+'\"'),e.closeButton&&(i='<button type=\"button\" class=\"'+t+'close\" aria-hidden=\"true\">×</button>'),e.progressBar&&(r=e.progressBar.renderHtml()),'<div id=\"'+e._id+'\" class=\"'+e.classes+'\"'+o+' role=\"presentation\">'+n+'<div class=\"'+t+'notification-inner\">'+e.state.get(\"text\")+\"</div>\"+r+i+\"</div>\"},postRender:function(){var e=this;return i.setTimeout(function(){e.$el.addClass(e.classPrefix+\"in\")}),e._super()},bindStates:function(){var e=this;return e.state.on(\"change:text\",function(t){e.getEl().childNodes[1].innerHTML=t.value}),e.progressBar&&e.progressBar.bindStates(),e._super()},close:function(){var e=this;return e.fire(\"close\").isDefaultPrevented()||e.remove(),e},repaint:function(){var e,t;(e=this.getEl().style).left=(t=this._layoutRect).x+\"px\",e.top=t.y+\"px\",e.zIndex=65534}})}),n(Re,[Ee,s,h],function(e,t,n){return function(i){function r(){if(l.length)return l[l.length-1]}function o(){if(l.length>0){var e=l.slice(0,1)[0],t=i.inline?i.getElement():i.getContentAreaContainer();if(e.moveRel(t,\"tc-tc\"),l.length>1)for(var n=1;n<l.length;n++)l[n].moveRel(l[n-1].getEl(),\"bc-tc\")}}function a(e,t){if(!function(e){return!e.progressBar&&!e.timeout}(t))return null;var i=n.grep(e,function(e){return function(e,t){return e.type===t.settings.type&&e.text===t.settings.text}(t,e)});return 0===i.length?null:i[0]}var s=this,l=[];s.notifications=l,i.on(\"remove\",function(){for(var e=l.length;e--;)l[e].close()}),i.on(\"ResizeEditor\",o),i.on(\"ResizeWindow\",function(){t.requestAnimationFrame(function(){(function(){for(var e=0;e<l.length;e++)l[e].moveTo(0,0)})(),o()})}),s.open=function(t){if(!i.removed){var n;i.editorManager.setActive(i);var r=a(l,t);return null===r?(n=new e(t),l.push(n),t.timeout>0&&(n.timer=setTimeout(function(){n.close()},t.timeout)),n.on(\"close\",function(){var e=l.length;for(n.timer&&i.getWin().clearTimeout(n.timer);e--;)l[e]===n&&l.splice(e,1);o()}),n.renderTo(),o()):n=r,n}},s.close=function(){r()&&r().close()},s.getNotifications=function(){return l},i.on(\"SkinLoaded\",function(){var e=i.settings.service_message;e&&i.notificationManager.open({text:e,type:\"warning\",timeout:0,icon:\"\"})})}}),n(Oe,[x],function(e){return{create:function(t,n,i){for(var r=[];n&&n!=t;n=n.parentNode)r.push(e.nodeIndex(n,i));return r},resolve:function(e,t){var n,i,r;for(i=e,n=t.length-1;n>=0;n--){if(t[n]>(r=i.childNodes).length-1)return null;i=r[t[n]]}return i}}}),n(Be,[R,M,g,Oe,k,v,l,h,s,C,H,ne],function(e,t,n,i,r,o,a,s,l,u,c,d){return function(h){function f(e,t){try{h.getDoc().execCommand(e,!1,t)}catch(n){}}function p(){return h.getDoc().documentMode||6}function g(e){return e.isDefaultPrevented()}function m(e){var t,n;e.dataTransfer&&(h.selection.isCollapsed()&&\"IMG\"==e.target.tagName&&I.select(e.target),(t=h.selection.getContent()).length>0&&(n=O+escape(h.id)+\",\"+escape(t),e.dataTransfer.setData(B,n)))}function v(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(B))&&t.indexOf(O)>=0?(t=t.substr(O.length).split(\",\"),{id:unescape(t[0]),html:unescape(t[1])}):null}function y(e){h.queryCommandSupported(\"mceInsertClipboardContent\")?h.execCommand(\"mceInsertClipboardContent\",!1,{content:e}):h.execCommand(\"mceInsertContent\",!1,e)}function x(){h.shortcuts.add(\"meta+a\",null,\"SelectAll\")}function b(){h.on(\"keydown\",function(e){if(!g(e)&&e.keyCode===T){if(!h.getBody().getElementsByTagName(\"hr\").length)return;if(I.isCollapsed()&&0===I.getRng(!0).startOffset){var t=I.getNode(),n=t.previousSibling;if(\"HR\"==t.nodeName)return A.remove(t),void e.preventDefault();n&&n.nodeName&&\"hr\"===n.nodeName.toLowerCase()&&(A.remove(n),e.preventDefault())}}})}function _(){h.on(\"keydown\",function(e){if(!g(e)&&e.keyCode===T&&I.isCollapsed()&&0===I.getRng(!0).startOffset){var t=I.getNode().previousSibling;if(t&&t.nodeName&&\"table\"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function w(){h.inline||(h.contentStyles.push(\"body {min-height: 150px}\"),h.on(\"click\",function(e){var t;if(\"HTML\"==e.target.nodeName){if(a.ie>11)return void h.getBody().focus();t=h.selection.getRng(),h.getBody().focus(),h.selection.setRng(t),h.selection.normalize(),h.nodeChanged()}}))}function S(){function t(e){var t=new d(e.getBody()),n=e.selection.getRng(),i=c.fromRangeStart(n),r=c.fromRangeEnd(n),o=t.prev(i),a=t.next(r);return!e.selection.isCollapsed()&&(!o||o.isAtStart()&&i.isEqual(o))&&(!a||a.isAtEnd()&&i.isEqual(a))}h.on(\"keypress\",function(n){!g(n)&&!I.isCollapsed()&&n.charCode>31&&!e.metaKeyPressed(n)&&t(h)&&(n.preventDefault(),h.setContent(String.fromCharCode(n.charCode)),h.selection.select(h.getBody(),!0),h.selection.collapse(!1),h.nodeChanged())}),h.on(\"keydown\",function(e){var n=e.keyCode;g(e)||n!=k&&n!=T||t(h)&&(e.preventDefault(),h.setContent(\"\"),h.nodeChanged())})}var C=s.each,M=h.$,T=e.BACKSPACE,k=e.DELETE,A=h.dom,I=h.selection,D=h.settings,N=h.parser,P=h.serializer,L=a.gecko,E=a.ie,R=a.webkit,O=\"data:text/mce-internal,\",B=E?\"Text\":\"URL\";return h.on(\"keydown\",function(t){var n,i,r,o,a;if(!g(t)&&t.keyCode==e.BACKSPACE&&(i=(n=I.getRng()).startContainer,r=n.startOffset,o=A.getRoot(),a=i,n.collapsed&&0===r)){for(;a&&a.parentNode&&a.parentNode.firstChild==a&&a.parentNode!=o;)a=a.parentNode;\"BLOCKQUOTE\"===a.tagName&&(h.formatter.toggle(\"blockquote\",null,a),(n=A.createRng()).setStart(i,0),n.setEnd(i,0),I.setRng(n))}}),function(){function e(e){var t=A.create(\"body\"),n=e.cloneContents();return t.appendChild(n),I.serializer.serialize(t,{format:\"html\"})}function n(n){if(!n.setStart){if(n.item)return!1;var i=n.duplicate();return i.moveToElementText(h.getBody()),t.compareRanges(n,i)}var r=e(n),o=A.createRng();return o.selectNode(h.getBody()),r===e(o)}h.on(\"keydown\",function(e){var t,i,r=e.keyCode;if(!g(e)&&(r==k||r==T)){if(t=h.selection.isCollapsed(),i=h.getBody(),t&&!A.isEmpty(i))return;if(!t&&!n(h.selection.getRng()))return;e.preventDefault(),h.setContent(\"\"),i.firstChild&&A.isBlock(i.firstChild)?h.selection.setCursorLocation(i.firstChild,0):h.selection.setCursorLocation(i,0),h.nodeChanged()}})}(),a.windowsPhone||h.on(\"keyup focusin mouseup\",function(t){65==t.keyCode&&e.metaKeyPressed(t)||I.normalize()},!0),R&&(S(),function(){function r(e){var t=w.schema.getBlockElements(),n=h.getBody();if(\"BR\"!=e.nodeName)return!1;for(;e!=n&&!t[e.nodeName];e=e.parentNode)if(e.nextSibling)return!1;return!0}function o(e,t){var n;for(n=e.nextSibling;n&&n!=t;n=n.nextSibling)if((3!=n.nodeType||0!==M.trim(n.data).length)&&n!==t)return!1;return n===t}function a(e,t,i){var o,a,s;if(w.isChildOf(e,h.getBody()))for(s=w.schema.getNonEmptyElements(),o=new n(i||e,e);a=o[t?\"next\":\"prev\"]();){if(s[a.nodeName]&&!r(a))return a;if(3==a.nodeType&&a.data.length>0)return a}}function u(e){var n,i,r,o,s;if(!e.collapsed&&(n=w.getParent(t.getNode(e.startContainer,e.startOffset),w.isBlock),i=w.getParent(t.getNode(e.endContainer,e.endOffset),w.isBlock),s=h.schema.getTextBlockElements(),n!=i&&s[n.nodeName]&&s[i.nodeName]&&\"false\"!==w.getContentEditable(n)&&\"false\"!==w.getContentEditable(i)))return e.deleteContents(),r=a(n,!1),o=a(i,!0),w.isEmpty(i)||M(n).append(i.childNodes),M(i).remove(),r?1==r.nodeType?\"BR\"==r.nodeName?(e.setStartBefore(r),e.setEndBefore(r)):(e.setStartAfter(r),e.setEndAfter(r)):(e.setStart(r,r.data.length),e.setEnd(r,r.data.length)):o&&(1==o.nodeType?(e.setStartBefore(o),e.setEndBefore(o)):(e.setStart(o,0),e.setEnd(o,0))),S.setRng(e),!0}function c(e,n){var i,r,s,l,u,c;if(!e.collapsed)return e;if(c=e.startOffset,3==(u=e.startContainer).nodeType)if(n){if(c<u.data.length)return e}else if(c>0)return e;i=t.getNode(u,c),s=w.getParent(i,w.isBlock),r=a(h.getBody(),n,i),l=w.getParent(r,w.isBlock);var d=1===u.nodeType&&c>u.childNodes.length-1;if(!i||!r)return e;if(l&&s!=l)if(n){if(!o(s,l))return e;1==i.nodeType?\"BR\"==i.nodeName?e.setStartBefore(i):e.setStartAfter(i):e.setStart(i,i.data.length),1==r.nodeType?e.setEnd(r,0):e.setEndBefore(r)}else{if(!o(l,s))return e;1==r.nodeType?\"BR\"==r.nodeName?e.setStartBefore(r):e.setStartAfter(r):e.setStart(r,r.data.length),1==i.nodeType&&d?e.setEndAfter(i):e.setEndBefore(i)}return e}function d(e,t){function n(e,n){return g=M(n).parents().filter(function(e,t){return!!h.schema.getTextInlineElements()[t.nodeName]}),l=e.cloneNode(!1),(g=s.map(g,function(e){return e=e.cloneNode(!1),l.hasChildNodes()?(e.appendChild(l.firstChild),l.appendChild(e)):l.appendChild(e),l.appendChild(e),e})).length?(p=w.create(\"br\"),g[0].appendChild(p),w.replace(l,e),t.setStartBefore(p),t.setEndBefore(p),h.selection.setRng(t),p):null}function r(e){return e&&h.schema.getTextBlockElements()[e.tagName]}var o,a,l,u,c,d,f,p,g;if(t.collapsed&&(f=t.startOffset,r(a=w.getParent(d=t.startContainer,w.isBlock))))if(1==d.nodeType){if((d=d.childNodes[f])&&\"BR\"!=d.tagName)return;if(c=e?a.nextSibling:a.previousSibling,w.isEmpty(a)&&r(c)&&w.isEmpty(c)&&n(a,d))return w.remove(c),!0}else if(3==d.nodeType){if(o=i.create(a,d),u=a.cloneNode(!0),d=i.resolve(u,o),e){if(f>=d.data.length)return;d.deleteData(f,1)}else{if(f<=0)return;d.deleteData(f-1,1)}if(w.isEmpty(u))return n(a,d)}}function f(e){var t,n,i;(function(e){var t=S.getRng();if(u(t=c(t,e)))return!0})(e)||(s.each(h.getBody().getElementsByTagName(\"*\"),function(e){\"SPAN\"==e.tagName&&e.setAttribute(\"mce-data-marked\",1),!e.hasAttribute(\"data-mce-style\")&&e.hasAttribute(\"style\")&&h.dom.setAttrib(e,\"style\",h.dom.getAttrib(e,\"style\"))}),(t=new C(function(){})).observe(h.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:[\"style\"]}),h.getDoc().execCommand(e?\"ForwardDelete\":\"Delete\",!1,null),n=h.selection.getRng(),i=n.startContainer.parentNode,s.each(t.takeRecords(),function(e){if(w.isChildOf(e.target,h.getBody())){if(\"style\"==e.attributeName){var t=e.target.getAttribute(\"data-mce-style\");t?e.target.setAttribute(\"style\",t):e.target.removeAttribute(\"style\")}s.each(e.addedNodes,function(e){var t,r;\"SPAN\"!=e.nodeName||e.getAttribute(\"mce-data-marked\")||(e==i&&(t=n.startOffset,r=e.firstChild),w.remove(e,!0),r&&(n.setStart(r,t),n.setEnd(r,t),h.selection.setRng(n)))})}}),t.disconnect(),s.each(h.dom.select(\"span[mce-data-marked]\"),function(e){e.removeAttribute(\"mce-data-marked\")}))}function p(e){h.undoManager.transact(function(){f(e)})}var x,b,_=h.getDoc(),w=h.dom,S=h.selection,C=window.MutationObserver;C||(x=!0,C=function(){function e(e){var t=e.relatedNode||e.target;i.push({target:t,addedNodes:[t]})}function t(e){i.push({target:e.relatedNode||e.target,attributeName:e.attrName})}var n,i=[];this.observe=function(i){(n=i).addEventListener(\"DOMSubtreeModified\",e,!1),n.addEventListener(\"DOMNodeInsertedIntoDocument\",e,!1),n.addEventListener(\"DOMNodeInserted\",e,!1),n.addEventListener(\"DOMAttrModified\",t,!1)},this.disconnect=function(){n.removeEventListener(\"DOMSubtreeModified\",e,!1),n.removeEventListener(\"DOMNodeInsertedIntoDocument\",e,!1),n.removeEventListener(\"DOMNodeInserted\",e,!1),n.removeEventListener(\"DOMAttrModified\",t,!1)},this.takeRecords=function(){return i}}),h.on(\"keydown\",function(e){var t=e.keyCode==k,n=e.ctrlKey||e.metaKey;if(!g(e)&&(t||e.keyCode==T)){var i=h.selection.getRng(),r=i.startContainer,o=i.startOffset;if(t&&e.shiftKey)return;if(d(t,i))return void e.preventDefault();if(!n&&i.collapsed&&3==r.nodeType&&(t?o<r.data.length:o>0))return;e.preventDefault(),n&&h.selection.getSel().modify(\"extend\",t?\"forward\":\"backward\",e.metaKey?\"lineboundary\":\"word\"),f(t)}}),h.on(\"keypress\",function(t){var n,i,r,o,a,s;!g(t)&&!S.isCollapsed()&&t.charCode>31&&!e.metaKeyPressed(t)&&(n=h.selection.getRng(),s=String.fromCharCode(t.charCode),t.preventDefault(),i=M(n.startContainer).parents().filter(function(e,t){return!!h.schema.getTextInlineElements()[t.nodeName]}),f(!0),(i=i.filter(function(e,t){return!M.contains(h.getBody(),t)})).length?(r=w.createFragment(),i.each(function(e,t){t=t.cloneNode(!1),r.hasChildNodes()?(t.appendChild(r.firstChild),r.appendChild(t)):(a=t,r.appendChild(t)),r.appendChild(t)}),a.appendChild(h.getDoc().createTextNode(s)),o=w.getParent(n.startContainer,w.isBlock),w.isEmpty(o)?M(o).empty().append(r):n.insertNode(r),n.setStart(a.firstChild,1),n.setEnd(a.firstChild,1),h.selection.setRng(n)):h.selection.setContent(s))}),h.addCommand(\"Delete\",function(){f()}),h.addCommand(\"ForwardDelete\",function(){f(!0)}),x||(h.on(\"dragstart\",function(e){b=S.getRng(),m(e)}),h.on(\"drop\",function(e){if(!g(e)){var n=v(e);n&&(e.preventDefault(),l.setEditorTimeout(h,function(){var i=t.getCaretRangeFromPoint(e.x,e.y,_);b&&(S.setRng(b),b=null,p()),S.setRng(i),y(n.html)}))}}),h.on(\"cut\",function(e){g(e)||!e.clipboardData||h.selection.isCollapsed()||(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData(\"text/html\",h.selection.getContent()),e.clipboardData.setData(\"text/plain\",h.selection.getContent({format:\"text\"})),l.setEditorTimeout(h,function(){p(!0)}))}))}(),h.settings.content_editable||A.bind(h.getDoc(),\"mousedown mouseup\",function(e){var t;if(e.target==h.getDoc().documentElement)if(t=I.getRng(),h.getBody().focus(),\"mousedown\"==e.type){if(u.isCaretContainer(t.startContainer))return;I.placeCaretAt(e.clientX,e.clientY)}else I.setRng(t)}),h.on(\"click\",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&\"false\"!==A.getContentEditableParent(t)&&(e.preventDefault(),I.select(t),h.nodeChanged()),\"A\"==t.nodeName&&A.hasClass(t,\"mce-item-anchor\")&&(e.preventDefault(),I.select(t))}),D.forced_root_block&&h.on(\"init\",function(){f(\"DefaultParagraphSeparator\",D.forced_root_block)}),h.on(\"init\",function(){h.dom.bind(h.getBody(),\"submit\",function(e){e.preventDefault()})}),_(),N.addNodeFilter(\"br\",function(e){for(var t=e.length;t--;)\"Apple-interchange-newline\"==e[t].attr(\"class\")&&e[t].remove()}),a.iOS?(h.inline||h.on(\"keydown\",function(){document.activeElement==document.body&&h.getWin().focus()}),w(),h.on(\"click\",function(e){var t=e.target;do{if(\"A\"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),h.contentStyles.push(\".mce-content-body {-webkit-touch-callout: none}\")):x()),E&&a.ie<11&&(b(),document.body.setAttribute(\"role\",\"application\"),p()>7||(f(\"RespectVisibilityInDesign\",!0),h.contentStyles.push(\".mceHideBrInPre pre br {display: none}\"),A.addClass(h.getBody(),\"mceHideBrInPre\"),N.addNodeFilter(\"pre\",function(e){for(var t,n,i,o,a=e.length;a--;)for(n=(t=e[a].getAll(\"br\")).length;n--;)(o=(i=t[n]).prev)&&3===o.type&&\"\\n\"!=o.value.charAt(o.value-1)?o.value+=\"\\n\":i.parent.insert(new r(\"#text\",3),i,!0).value=\"\\n\"}),P.addNodeFilter(\"pre\",function(e){for(var t,n,i,r=e.length;r--;)for(n=(t=e[r].getAll(\"br\")).length;n--;)(i=t[n].prev)&&3==i.type&&(i.value=i.value.replace(/\\r?\\n$/,\"\"))})),A.bind(h.getBody(),\"mouseup\",function(){var e,t=I.getNode();\"IMG\"==t.nodeName&&((e=A.getStyle(t,\"width\"))&&(A.setAttrib(t,\"width\",e.replace(/[^0-9%]+/g,\"\")),A.setStyle(t,\"width\",\"\")),(e=A.getStyle(t,\"height\"))&&(A.setAttrib(t,\"height\",e.replace(/[^0-9%]+/g,\"\")),A.setStyle(t,\"height\",\"\")))}),h.on(\"keydown\",function(e){var t;g(e)||e.keyCode!=T||(t=h.getDoc().selection.createRange())&&t.item&&(e.preventDefault(),h.undoManager.beforeChange(),A.remove(t.item(0)),h.undoManager.add())}),function(){var e;p()>=10&&(e=\"\",C(\"p div h1 h2 h3 h4 h5 h6\".split(\" \"),function(t,n){e+=(n>0?\",\":\"\")+t+\":empty\"}),h.contentStyles.push(e+\"{padding-right: 1px !important}\"))}(),p()<9&&(N.addNodeFilter(\"noscript\",function(e){for(var t,n,i=e.length;i--;)(n=(t=e[i]).firstChild)&&t.attr(\"data-mce-innertext\",n.value)}),P.addNodeFilter(\"noscript\",function(e){for(var t,n,i,a=e.length;a--;)t=e[a],(n=e[a].firstChild)?n.value=o.decode(n.value):(i=t.attributes.map[\"data-mce-innertext\"])&&(t.attr(\"data-mce-innertext\",null),(n=new r(\"#text\",3)).value=i,n.raw=!0,t.append(n))})),function(){function e(e,t){var n=s.createTextRange();try{n.moveToPoint(e,t)}catch(a){n=null}return n}function t(t){var i;t.button?(i=e(t.x,t.y))&&(i.compareEndPoints(\"StartToStart\",r)>0?i.setEndPoint(\"StartToStart\",r):i.setEndPoint(\"EndToEnd\",r),i.select()):n()}function n(){var e=a.selection.createRange();r&&!e.item&&0===e.compareEndPoints(\"StartToEnd\",e)&&r.select(),A.unbind(a,\"mouseup\",n),A.unbind(a,\"mousemove\",t),r=i=0}var i,r,o,a=A.doc,s=a.body;a.documentElement.unselectable=!0,A.bind(a,\"mousedown contextmenu\",function(s){if(\"HTML\"===s.target.nodeName){if(i&&n(),(o=a.documentElement).scrollHeight>o.clientHeight)return;i=1,(r=e(s.x,s.y))&&(A.bind(a,\"mouseup\",n),A.bind(a,\"mousemove\",t),A.getRoot().focus(),r.select())}})}()),a.ie>=11&&(w(),_()),a.ie&&(x(),f(\"AutoUrlDetect\",!1),h.on(\"dragstart\",function(e){m(e)}),h.on(\"drop\",function(e){if(!g(e)){var n=v(e);if(n&&n.id!=h.id){e.preventDefault();var i=t.getCaretRangeFromPoint(e.x,e.y,h.getDoc());I.setRng(i),y(n.html)}}})),L&&(S(),b(),window.Range.prototype.getClientRects||h.on(\"mousedown\",function(e){if(!g(e)&&\"HTML\"===e.target.nodeName){var t=h.getBody();t.blur(),l.setEditorTimeout(h,function(){t.focus()})}}),function(){function e(){var e=A.getAttribs(I.getStart().cloneNode(!1));return function(){var t=I.getStart();t!==h.getBody()&&(A.setAttrib(t,\"style\",null),C(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function t(){return!I.isCollapsed()&&A.getParent(I.getStart(),A.isBlock)!=A.getParent(I.getEnd(),A.isBlock)}h.on(\"keypress\",function(n){var i;if(!g(n)&&(8==n.keyCode||46==n.keyCode)&&t())return i=e(),h.getDoc().execCommand(\"delete\",!1,null),i(),n.preventDefault(),!1}),A.bind(h.getDoc(),\"cut\",function(n){var i;!g(n)&&t()&&(i=e(),l.setEditorTimeout(h,function(){i()}))})}(),D.readonly||h.on(\"BeforeExecCommand MouseDown\",function(){f(\"StyleWithCSS\",!1),f(\"enableInlineTableEditing\",!1),D.object_resizing||f(\"enableObjectResizing\",!1)}),h.on(\"SetContent ExecCommand\",function(e){\"setcontent\"!=e.type&&\"mceInsertLink\"!==e.command||C(A.select(\"a\"),function(e){var t=e.parentNode,n=A.getRoot();if(t.lastChild===e){for(;t&&!A.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}A.add(t,\"br\",{\"data-mce-bogus\":1})}})}),h.contentStyles.push(\"img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}\"),a.mac&&h.on(\"keydown\",function(t){!e.metaKeyPressed(t)||t.shiftKey||37!=t.keyCode&&39!=t.keyCode||(t.preventDefault(),h.selection.getSel().modify(\"move\",37==t.keyCode?\"backward\":\"forward\",\"lineboundary\"))}),_()),{refreshContentEditable:function(){},isHidden:function(){var e;return L?!(e=h.selection.getSel())||!e.rangeCount||0===e.rangeCount:0}}}}),n(ze,[ce,x,h],function(e,t,n){function i(e,t){return\"selectionchange\"==t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=a.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()}function r(e,t){function n(e){return!e.hidden&&!e.readonly}var r,s=i(e,t);if(e.delegates||(e.delegates={}),!e.delegates[t])if(e.settings.event_root){if(o||(o={},e.editorManager.on(\"removeEditor\",function(){var t;if(!e.editorManager.activeEditor&&o){for(t in o)e.dom.unbind(i(e,t));o=null}})),o[t])return;r=function(i){for(var r=i.target,o=e.editorManager.editors,s=o.length;s--;){var l=o[s].getBody();(l===r||a.isChildOf(r,l))&&n(o[s])&&o[s].fire(t,i)}},o[t]=r,a.bind(s,t,r)}else a.bind(s,t,r=function(i){n(e)&&e.fire(t,i)}),e.delegates[t]=r}var o,a=t.DOM,s={bindPendingEventDelegates:function(){var e=this;n.each(e._pendingNativeEvents,function(t){r(e,t)})},toggleNativeEvent:function(e,t){var n=this;\"focus\"!=e&&\"blur\"!=e&&(t?n.initialized?r(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(i(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this;if(t.delegates){for(e in t.delegates)t.dom.unbind(i(t,e),e,t.delegates[e]);delete t.delegates}t.inline||(t.getBody().onload=null,t.dom.unbind(t.getWin()),t.dom.unbind(t.getDoc())),t.dom.unbind(t.getBody()),t.dom.unbind(t.getContainer())}};return n.extend({},e,s)}),n(Fe,[],function(){function e(e,t,i){try{e.getDoc().execCommand(t,!1,i)}catch(n){}}function t(t,n){t._clickBlocker&&(t._clickBlocker.unbind(),t._clickBlocker=null),n?(t._clickBlocker=function(e){var t,n;return t=e.getBody(),n=function(t){e.dom.getParents(t.target,\"a\").length>0&&t.preventDefault()},e.dom.bind(t,\"click\",n),{unbind:function(){e.dom.unbind(t,\"click\",n)}}}(t),t.selection.controlSelection.hideResizeRect(),t.readonly=!0,t.getBody().contentEditable=!1):(t.readonly=!1,t.getBody().contentEditable=!0,e(t,\"StyleWithCSS\",!1),e(t,\"enableInlineTableEditing\",!1),e(t,\"enableObjectResizing\",!1),t.focus(),t.nodeChanged())}return{setMode:function(e,n){n!=(e.readonly?\"readonly\":\"design\")&&(e.initialized?t(e,\"readonly\"==n):e.on(\"init\",function(){t(e,\"readonly\"==n)}),e.fire(\"SwitchMode\",{mode:n}))}}}),n(Ve,[h,l],function(e,t){var n=e.each,i=e.explode,r={f9:120,f10:121,f11:122},o=e.makeMap(\"alt,ctrl,shift,meta,access\");return function(a){function s(e){var a,s,l={};for(s in n(i(e,\"+\"),function(e){e in o?l[e]=!0:/^[0-9]{2,}$/.test(e)?l.keyCode=parseInt(e,10):(l.charCode=e.charCodeAt(0),l.keyCode=r[e]||e.toUpperCase().charCodeAt(0))}),a=[l.keyCode],o)l[s]?a.push(s):l[s]=!1;return l.id=a.join(\",\"),l.access&&(l.alt=!0,t.mac?l.ctrl=!0:l.shift=!0),l.meta&&(t.mac?l.meta=!0:(l.ctrl=!0,l.meta=!1)),l}function l(t,n,r,o){var l;return(l=e.map(i(t,\">\"),s))[l.length-1]=e.extend(l[l.length-1],{func:r,scope:o||a}),e.extend(l[0],{desc:a.translate(n),subpatterns:l.slice(1)})}function u(e,t){return!!t&&t.ctrl==e.ctrlKey&&t.meta==e.metaKey&&t.alt==e.altKey&&t.shift==e.shiftKey&&!!(e.keyCode==t.keyCode||e.charCode&&e.charCode==t.charCode)&&(e.preventDefault(),!0)}function c(e){return e.func?e.func.call(e.scope):null}var d={},h=[];a.on(\"keyup keypress keydown\",function(e){!function(e){return e.altKey||e.ctrlKey||e.metaKey}(e)&&!function(e){return\"keydown\"===e.type&&e.keyCode>=112&&e.keyCode<=123}(e)||e.isDefaultPrevented()||(n(d,function(t){if(u(e,t))return h=t.subpatterns.slice(0),\"keydown\"==e.type&&c(t),!0}),u(e,h[0])&&(1===h.length&&\"keydown\"==e.type&&c(h[0]),h.shift()))}),this.add=function(t,r,o,s){var u;return u=o,\"string\"==typeof o?o=function(){a.execCommand(u,!1,null)}:e.isArray(u)&&(o=function(){a.execCommand(u[0],u[1],u[2])}),n(i(e.trim(t.toLowerCase())),function(e){var t=l(e,r,o,s);d[t.id]=t}),!0},this.remove=function(e){var t=l(e);return!!d[t.id]&&(delete d[t.id],!0)}}}),n(He,[a,h,B],function(e,t,n){return function(i,r){function o(e){var t;return t={\"image/jpeg\":\"jpg\",\"image/jpg\":\"jpg\",\"image/gif\":\"gif\",\"image/png\":\"png\"}[e.blob().type.toLowerCase()]||\"dat\",e.filename()+\".\"+t}function a(e){return{id:e.id,blob:e.blob,base64:e.base64,filename:n.constant(o(e))}}function s(e,t,n,i){var o,a;(o=new XMLHttpRequest).open(\"POST\",r.url),o.withCredentials=r.credentials,o.upload.onprogress=function(e){i(e.loaded/e.total*100)},o.onerror=function(){n(\"Image upload failed due to a XHR Transport error. Code: \"+o.status)},o.onload=function(){var e;return 200!=o.status?void n(\"HTTP Error: \"+o.status):(e=JSON.parse(o.responseText))&&\"string\"==typeof e.location?void t(function(e,t){return e?e.replace(/\\/$/,\"\")+\"/\"+t.replace(/^\\//,\"\"):t}(r.basePath,e.location)):void n(\"Invalid JSON: \"+o.responseText)},(a=new FormData).append(\"file\",e.blob(),e.filename()),o.send(a)}function l(){return new e(function(e){e([])})}function u(e,t){return{url:t,blobInfo:e,status:!0}}function c(e,t){return{url:\"\",blobInfo:e,status:!1,error:t}}function d(e,n){t.each(g[e],function(e){e(n)}),delete g[e]}function h(t,n,r){return i.markPending(t.blobUri()),new e(function(e){var o,s,l=function(){};try{var h=function(){o&&(o.close(),s=l)};s=function(e){e<0||e>100||(o||(o=r()),o.progressBar.value(e))},n(a(t),function(n){h(),i.markUploaded(t.blobUri(),n),d(t.blobUri(),u(t,n)),e(u(t,n))},function(n){h(),i.removeFailed(t.blobUri()),d(t.blobUri(),c(t,n)),e(c(t,n))},s)}catch(f){e(c(t,f.message))}})}function f(t){var n=t.blobUri();return new e(function(e){g[n]=g[n]||[],g[n].push(e)})}function p(n,o){return n=t.grep(n,function(e){return!i.isUploaded(e.blobUri())}),e.all(t.map(n,function(e){return i.isPending(e.blobUri())?f(e):h(e,r.handler,o)}))}var g={};return r=t.extend({credentials:!1,handler:s},r),{upload:function(e,t){return!r.url&&function(e){return e===s}(r.handler)?l():p(e,t)}}}}),n(We,[a],function(e){function t(t){return new e(function(e){var n=new XMLHttpRequest;n.open(\"GET\",t,!0),n.responseType=\"blob\",n.onload=function(){200==this.status&&e(this.response)},n.send()})}function n(e){var t,n;return e=decodeURIComponent(e).split(\",\"),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}}function i(t){return new e(function(e){var i,r,o;t=n(t);try{i=atob(t.data)}catch(a){return void e(new Blob([]))}for(r=new Uint8Array(i.length),o=0;o<r.length;o++)r[o]=i.charCodeAt(o);e(new Blob([r],{type:t.type}))})}return{uriToBlob:function(e){return 0===e.indexOf(\"blob:\")?t(e):0===e.indexOf(\"data:\")?i(e):null},blobToDataUri:function(t){return new e(function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)})},parseDataUri:n}}),n(Ge,[a,d,B,We,l],function(e,t,n,i,r){var o=0,a=function(e){return(e||\"blobid\")+o++};return function(o,s){var l={};return{findAll:function(u,c){var d,h;return c||(c=n.constant(!0)),d=t.filter(u.getElementsByTagName(\"img\"),function(e){var t=e.src;return!!r.fileApi&&!e.hasAttribute(\"data-mce-bogus\")&&!e.hasAttribute(\"data-mce-placeholder\")&&!(!t||t==r.transparentSrc)&&(0===t.indexOf(\"blob:\")?!o.isUploaded(t):0===t.indexOf(\"data:\")&&c(e))}),h=t.map(d,function(t){var n;return l[t.src]?new e(function(e){l[t.src].then(function(n){e({image:t,blobInfo:n.blobInfo})})}):(n=new e(function(e){!function(e,t){var n,r;0===e.src.indexOf(\"blob:\")?(r=s.getByUri(e.src))?t({image:e,blobInfo:r}):i.uriToBlob(e.src).then(function(o){i.blobToDataUri(o).then(function(l){n=i.parseDataUri(l).data,r=s.create(a(),o,n),s.add(r),t({image:e,blobInfo:r})})}):(n=i.parseDataUri(e.src).data,(r=s.findFirst(function(e){return e.base64()===n}))?t({image:e,blobInfo:r}):i.uriToBlob(e.src).then(function(i){r=s.create(a(),i,n),s.add(r),t({image:e,blobInfo:r})}))}(t,e)}).then(function(e){return delete l[e.image.src],e}).catch(function(e){return delete l[t.src],e}),l[t.src]=n,n)}),e.all(h)}}}}),n(Ue,[d,B],function(e,t){return function(){function n(e){return i(function(t){return t.id()===e})}function i(t){return e.filter(r,t)[0]}var r=[],o=t.constant;return{create:function(e,t,n,i){return{id:o(e),filename:o(i||e),blob:o(t),base64:o(n),blobUri:o(URL.createObjectURL(t))}},add:function(e){n(e.id())||r.push(e)},get:n,getByUri:function(e){return i(function(t){return t.blobUri()==e})},findFirst:i,removeByUri:function(t){r=e.filter(r,function(e){return e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){e.each(r,function(e){URL.revokeObjectURL(e.blobUri())}),r=[]}}}}),n(je,[],function(){return function(){function e(e,t){return{status:e,resultUri:t}}function t(e){return e in n}var n={};return{hasBlobUri:t,getResultUri:function(e){var t=n[e];return t?t.resultUri:null},isPending:function(e){return!!t(e)&&1===n[e].status},isUploaded:function(e){return!!t(e)&&2===n[e].status},markPending:function(t){n[t]=e(1,null)},markUploaded:function(t,i){n[t]=e(2,i)},removeFailed:function(e){delete n[e]},destroy:function(){n={}}}}}),n(qe,[_],function(e){var t=e.PluginManager,n=function(e,n){for(var i in t.urls)if(t.urls[i]+\"/plugin\"+n+\".js\"===e)return i;return null},i=function(e,t){e.notificationManager.open({type:\"error\",text:t})},r=function(e,t){e._skinLoaded?i(e,t):e.on(\"SkinLoaded\",function(){i(e,t)})};return{pluginLoadError:function(e,t){r(e,function(e,t){var i=n(t,e.suffix);return i?\"Failed to load plugin: \"+i+\" from url \"+t:\"Failed to load plugin url: \"+t}(e,t))},uploadError:function(e,t){r(e,\"Failed to upload image: \"+t)}}}),n(Ze,[d,He,Ge,Ue,je,qe],function(e,t,n,i,r,o){return function(a){function s(e){return function(t){return a.selection?e(t):[]}}function l(e,t,n){var i=0;do{-1!==(i=e.indexOf(t,i))&&(e=e.substring(0,i)+n+e.substr(i+t.length),i+=n.length-t.length+1)}while(-1!==i);return e}function u(e,t,n){return e=l(e,'src=\"'+t+'\"','src=\"'+n+'\"'),l(e,'data-mce-src=\"'+t+'\"','data-mce-src=\"'+n+'\"')}function c(t,n){e.each(a.undoManager.data,function(i){\"fragmented\"===i.type?i.fragments=e.map(i.fragments,function(e){return u(e,t,n)}):i.content=u(i.content,t,n)})}function d(){return a.notificationManager.open({text:a.translate(\"Image uploading...\"),type:\"info\",timeout:-1,progressBar:!0})}function h(n){return v||(v=new t(_,{url:b.images_upload_url,basePath:b.images_upload_base_path,credentials:b.images_upload_credentials,handler:b.images_upload_handler})),g().then(s(function(t){var i;return i=e.map(t,function(e){return e.blobInfo}),v.upload(i,d).then(s(function(i){return i=e.map(i,function(e,n){var i=t[n].image;return e.status&&!1!==a.settings.images_replace_blob_uris?function(e,t){x.removeByUri(e.src),c(e.src,t),a.$(e).attr({src:b.images_reuse_filename?t+\"?\"+(new Date).getTime():t,\"data-mce-src\":a.convertURL(t,\"src\")})}(i,e.url):e.error&&o.uploadError(a,e.error),{element:i,status:e.status}}),n&&n(i),i}))}))}function f(e){if(!1!==b.automatic_uploads)return h(e)}function p(e){return!b.images_dataimg_filter||b.images_dataimg_filter(e)}function g(){return y||(y=new n(_,x)),y.findAll(a.getBody(),p).then(s(function(t){return e.each(t,function(e){c(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute(\"data-mce-src\")}),t}))}function m(t){return t.replace(/src=\"(blob:[^\"]+)\"/g,function(t,n){var i=_.getResultUri(n);if(i)return'src=\"'+i+'\"';var r=x.getByUri(n);return r||(r=e.reduce(a.editorManager.editors,function(e,t){return e||t.editorUpload.blobCache.getByUri(n)},null)),r?'src=\"data:'+r.blob().type+\";base64,\"+r.base64()+'\"':t})}var v,y,x=new i,b=a.settings,_=new r;return a.on(\"setContent\",function(){!1!==a.settings.automatic_uploads?f():g()}),a.on(\"RawSaveContent\",function(e){e.content=m(e.content)}),a.on(\"getContent\",function(e){e.source_view||\"raw\"==e.format||(e.content=m(e.content))}),a.on(\"PostRender\",function(){a.parser.addNodeFilter(\"img\",function(t){e.each(t,function(e){var t=e.attr(\"src\");if(!x.getByUri(t)){var n=_.getResultUri(t);n&&e.attr(\"src\",n)}})})}),{blobCache:x,uploadImages:h,uploadImagesAuto:f,scanForImages:g,destroy:function(){x.destroy(),_.destroy(),y=v=null}}}}),n(Ye,[C,H,w,M,f,F,s],function(e,t,n,i,r,o,a){var s=n.isContentEditableFalse;return function(t,n){function i(e,n){var i,r,a,s,l,u=o.collapse(e.getBoundingClientRect(),n);return\"BODY\"==t.tagName?(i=t.ownerDocument.documentElement,r=t.scrollLeft||i.scrollLeft,a=t.scrollTop||i.scrollTop):(l=t.getBoundingClientRect(),r=t.scrollLeft-l.left,a=t.scrollTop-l.top),u.left+=r,u.right+=r,u.top+=a,u.bottom+=a,u.width=1,(s=e.offsetWidth-e.clientWidth)>0&&(n&&(s*=-1),u.left+=s,u.right+=s),u}function l(){(function(){var n,i,o,a,s;for(n=r(\"*[contentEditable=false]\",t),a=0;a<n.length;a++)e.endsWithCaretContainer(o=(i=n[a]).previousSibling)&&(1==(s=o.data).length?o.parentNode.removeChild(o):o.deleteData(s.length-1,1)),e.startsWithCaretContainer(o=i.nextSibling)&&(1==(s=o.data).length?o.parentNode.removeChild(o):o.deleteData(0,1))})(),h&&(e.remove(h),h=null),d&&(d.remove(),d=null),clearInterval(c)}function u(){c=a.setInterval(function(){r(\"div.mce-visual-caret\",t).toggleClass(\"mce-visual-caret-hidden\")},500)}var c,d,h;return{show:function(o,a){var c,f;return l(),n(a)?(h=e.insertBlock(\"p\",a,o),c=i(a,o),r(h).css(\"top\",c.top),d=r('<div class=\"mce-visual-caret\" data-mce-bogus=\"all\"></div>').css(c).appendTo(t),o&&d.addClass(\"mce-visual-caret-before\"),u(),(f=a.ownerDocument.createRange()).setStart(h,0),f.setEnd(h,0),f):(h=e.insertInline(a,o),f=a.ownerDocument.createRange(),s(h.nextSibling)?(f.setStart(h,0),f.setEnd(h,0)):(f.setStart(h,1),f.setEnd(h,1)),f)},hide:l,getCss:function(){return\".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}\"},destroy:function(){a.clearInterval(c)}}}}),n(Xe,[d,w,F],function(e,t,n){return{getClientRects:function i(r){function o(t){return e.map(t,function(e){return(e=n.clone(e)).node=r,e})}if(e.isArray(r))return e.reduce(r,function(e,t){return e.concat(i(t))},[]);if(t.isElement(r))return o(r.getClientRects());if(t.isText(r)){var a=r.ownerDocument.createRange();return a.setStart(r,0),a.setEnd(r,r.data.length),o(a.getClientRects())}}}}),n($e,[B,d,Xe,z,te,ne,H,F],function(e,t,n,i,r,o,a,s){function l(e,t,n,o){for(;o=r.findNode(o,e,i.isEditableCaretCandidate,t);)if(n(o))return}function u(e,i,r,o,a,s){function u(o){var s,l,u;for(u=n.getClientRects(o),-1==e&&(u=u.reverse()),s=0;s<u.length;s++)if(!r(l=u[s],d)){if(f.length>0&&i(l,t.last(f))&&h++,l.line=h,a(l))return!0;f.push(l)}}var c,d,h=0,f=[];return(d=t.last(s.getClientRects()))?(u(c=s.getNode()),l(e,o,u,c),f):f}var c=e.curry;return{upUntil:c(u,-1,s.isAbove,s.isBelow),downUntil:c(u,1,s.isBelow,s.isAbove),positionsUntil:function(e,n,i,r){function l(e){return t.last(e.getClientRects())}var u,c,d,h,f,p,g=new o(n),m=[],v=0;1==e?(u=g.next,c=s.isBelow,d=s.isAbove,h=a.after(r)):(u=g.prev,c=s.isAbove,d=s.isBelow,h=a.before(r)),p=l(h);do{if(h.isVisible()&&!d(f=l(h),p)){if(m.length>0&&c(f,t.last(m))&&v++,(f=s.clone(f)).position=h,f.line=v,i(f))return m;m.push(f)}}while(h=u(h));return m},isAboveLine:c(function(e,t){return t.line>e}),isLine:c(function(e,t){return t.line===e})}}),n(Ke,[B,d,w,Xe,F,te,z],function(e,t,n,i,r,o,a){function s(e,t){return Math.abs(e.left-t)}function l(e,t){return Math.abs(e.right-t)}function u(e,n){function i(e,t){return e>=t.left&&e<=t.right}return t.reduce(e,function(e,t){var r,o;return r=Math.min(s(e,n),l(e,n)),o=Math.min(s(t,n),l(t,n)),i(n,t)?t:i(n,e)?e:o==r&&h(t.node)||o<r?t:e})}function c(e,t,n,i){for(;i=f(i,e,a.isEditableCaretCandidate,t);)if(n(i))return}function d(e,n){function o(e,r){var o;return o=t.filter(i.getClientRects(r),function(t){return!e(t,n)}),a=a.concat(o),0===o.length}var a=[];return a.push(n),c(-1,e,p(o,r.isAbove),n.node),c(1,e,p(o,r.isBelow),n.node),a}var h=n.isContentEditableFalse,f=o.findNode,p=e.curry;return{findClosestClientRect:u,findLineNodeRects:d,closestCaret:function(e,n,r){var o,a;return o=i.getClientRects(function(e){return t.filter(t.toArray(e.getElementsByTagName(\"*\")),h)}(e)),(a=u(o=t.filter(o,function(e){return r>=e.top&&r<=e.bottom}),n))&&(a=u(d(e,a),n))&&h(a.node)?function(e,t){return{node:e.node,before:s(e,t)<l(e,t)}}(a,n):null}}}),n(Je,[],function(){var e=function(e){var t,n,i,r;return{top:(r=e.getBoundingClientRect()).top+(i=(t=e.ownerDocument).defaultView).pageYOffset-(n=t.documentElement).clientTop,left:r.left+i.pageXOffset-n.clientLeft}},t=function(t){return t.inline?e(t.getBody()):{left:0,top:0}},n=function(t,n){if(n.target.ownerDocument!==t.getDoc()){var i=e(t.getContentAreaContainer()),r=function(e){var t=e.getBody(),n=e.getDoc().documentElement;return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop}}(t);return{left:n.pageX-i.left+r.left,top:n.pageY-i.top+r.top}}return{left:n.pageX,top:n.pageY}};return{calc:function(e,i){return function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}}(t(e),function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}}(e),n(e,i))}}}),n(Qe,[w,d,B,s,x,Je],function(e,t,n,i,r,o){var a=e.isContentEditableFalse,s=e.isContentEditableTrue,l=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},u=function(e,i){return function(r){if(function(e){return 0===e.button}(r)){var o=t.find(i.dom.getParents(r.target),n.or(a,s));if(function(e,t){return a(t)&&t!==e}(i.getBody(),o)){var l=i.dom.getPos(o),u=i.getBody(),c=i.getDoc().documentElement;e.element=o,e.screenX=r.screenX,e.screenY=r.screenY,e.maxX=(i.inline?u.scrollWidth:c.offsetWidth)-2,e.maxY=(i.inline?u.scrollHeight:c.offsetHeight)-2,e.relX=r.pageX-l.x,e.relY=r.pageY-l.y,e.width=o.offsetWidth,e.height=o.offsetHeight,e.ghost=function(e,t,n,i){var r=t.cloneNode(!0);e.dom.setStyles(r,{width:n,height:i}),e.dom.setAttrib(r,\"data-mce-selected\",null);var o=e.dom.create(\"div\",{class:\"mce-drag-container\",\"data-mce-bogus\":\"all\",unselectable:\"on\",contenteditable:\"false\"});return e.dom.setStyles(o,{position:\"absolute\",opacity:.5,overflow:\"hidden\",border:0,padding:0,margin:0,width:n,height:i}),e.dom.setStyles(r,{margin:0,boxSizing:\"border-box\"}),o.appendChild(r),o}(i,o,e.width,e.height)}}}},c=function(e,t){var n=i.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return function(i){var r=Math.max(Math.abs(i.screenX-e.screenX),Math.abs(i.screenY-e.screenY));if(function(e){return e.element}(e)&&!e.dragging&&r>10){if(t.fire(\"dragstart\",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var a=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}}(e,o.calc(t,i));(function(e,t){e.parentNode!==t&&t.appendChild(e)})(e.ghost,t.getBody()),function(e,t,n,i,r,o){var a=0,s=0;e.style.left=t.pageX+\"px\",e.style.top=t.pageY+\"px\",t.pageX+n>r&&(a=t.pageX+n-r),t.pageY+i>o&&(s=t.pageY+i-o),e.style.width=n-a+\"px\",e.style.height=i-s+\"px\"}(e.ghost,a,e.width,e.height,e.maxX,e.maxY),n(i.clientX,i.clientY)}}},d=function(e,t){return function(n){if(e.dragging&&function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!a(t)}(t,function(e){var t=e.getSel().getRangeAt(0).startContainer;return 3===t.nodeType?t.parentNode:t}(t.selection),e.element)){var i=function(e){var t=e.cloneNode(!0);return t.removeAttribute(\"data-mce-selected\"),t}(e.element),r=t.fire(\"drop\",{targetClone:i,clientX:n.clientX,clientY:n.clientY});r.isDefaultPrevented()||(i=r.targetClone,t.undoManager.transact(function(){l(e.element),t.insertContent(t.dom.getOuterHTML(i)),t._selectionOverrides.hideFakeCaret()}))}h(e)}},h=function(e){e.dragging=!1,e.element=null,l(e.ghost)};return{init:function(e){(function(e){var t,n,i,o,a,s,l={};t=r.DOM,s=document,n=u(l,e),i=c(l,e),o=d(l,e),a=function(e,t){return function(){h(e),e.dragging&&t.fire(\"dragend\")}}(l,e),e.on(\"mousedown\",n),e.on(\"mousemove\",i),e.on(\"mouseup\",o),t.bind(s,\"mousemove\",i),t.bind(s,\"mouseup\",a),e.on(\"remove\",function(){t.unbind(s,\"mousemove\",i),t.unbind(s,\"mouseup\",a)})})(e),function(e){e.on(\"drop\",function(t){var n=void 0!==t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(a(n)||a(e.dom.getContentEditableParent(n)))&&t.preventDefault()})}(e)}}}),n(et,[l,ne,H,C,te,Ye,$e,Ke,w,M,F,R,B,d,s,Qe],function(e,t,n,i,r,o,a,s,l,u,c,d,h,f,p,g){function m(e,t){for(;t=e(t);)if(t.isVisible())return t;return t}var v=h.curry,y=l.isContentEditableTrue,x=l.isContentEditableFalse,b=l.isElement,_=r.isAfterContentEditableFalse,w=r.isBeforeContentEditableFalse,S=u.getSelectedNode;return function(u){function C(e){return u.dom.isBlock(e)}function M(e){e&&u.selection.setRng(e)}function T(){return u.selection.getRng()}function k(e,t){u.selection.scrollIntoView(e,t)}function A(e,t,n){return u.fire(\"ShowCaret\",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(k(t,-1===e),ee.show(n,t))}function I(e){return u.fire(\"BeforeObjectSelected\",{target:e}).isDefaultPrevented()?null:function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t}(e)}function D(e,t){var n=r.isInSameBlock(e,t);return!(n||!l.isBr(e.getNode()))||n}function N(e,t){return t=r.normalizeRange(e,$,t),-1==e?n.fromRangeStart(t):n.fromRangeEnd(t)}function P(e){return i.isCaretContainerBlock(e.startContainer)}function L(t,i){var r,o;if(i.collapsed&&u.settings.forced_root_block){if(!(r=u.dom.getParent(i.startContainer,\"PRE\")))return;(1==t?J(n.fromRangeStart(i)):Q(n.fromRangeStart(i)))||(o=function(){var t=u.dom.create(u.settings.forced_root_block);return(!e.ie||e.ie>=11)&&(t.innerHTML='<br data-mce-bogus=\"1\">'),t}(),1==t?u.$(r).after(o):u.$(r).before(o),u.selection.select(o,!0),u.selection.collapse())}}function E(e,t,n,i){var r;return(r=function(e,t,n,i){var r,o,a,s;return!i.collapsed&&(r=S(i),x(r))?A(e,r,-1==e):(s=P(i),n(o=N(e,i))?I(o.getNode(-1==e)):(o=t(o))?n(o)?A(e,o.getNode(-1==e),1==e):n(a=t(o))&&D(o,a)?A(e,a.getNode(-1==e),1==e):s?z(o.toRange()):null:s?i:null)}(e,t,n,i))?r:(r=L(e,i))||null}function R(e,t,n){var i;return(i=function(e,t,n){var i,r,o,l,u,c,d,h,p;if(p=S(n),i=N(e,n),r=t($,a.isAboveLine(1),i),o=f.filter(r,a.isLine(1)),u=f.last(i.getClientRects()),w(i)&&(p=i.getNode()),_(i)&&(p=i.getNode(!0)),!u)return null;if((l=s.findClosestClientRect(o,c=u.left))&&x(l.node))return d=Math.abs(c-l.left),h=Math.abs(c-l.right),A(e,l.node,d<h);if(p){var g=a.positionsUntil(e,$,a.isAboveLine(1),p);if(l=s.findClosestClientRect(f.filter(g,a.isLine(1)),c))return z(l.position.toRange());if(l=f.last(f.filter(g,a.isLine(0))))return z(l.position.toRange())}}(e,t,n))?i:(i=L(e,n))||null}function O(e){e.hasAttribute(\"data-mce-caret\")&&(i.showCaretContainerBlock(e),M(T()),k(e[0]))}function B(e){var t,i;return e=r.normalizeRange(1,$,e),t=n.fromRangeStart(e),x(t.getNode())?A(1,t.getNode(),!t.isAtEnd()):x(t.getNode(!0))?A(1,t.getNode(!0),!1):(i=u.dom.getParent(t.getNode(),h.or(x,y)),x(i)?A(1,i,!1):null)}function z(e){return e&&e.collapsed&&B(e)||e}function F(e){var t,r,o,a;return x(e)?(x(e.previousSibling)&&(o=e.previousSibling),(r=Q(n.before(e)))||(t=J(n.after(e))),t&&b(t.getNode())&&(a=t.getNode()),i.remove(e.previousSibling),i.remove(e.nextSibling),u.dom.remove(e),u.dom.isEmpty(u.getBody())?(u.setContent(\"\"),void u.focus()):o?n.after(o).toRange():a?n.before(a).toRange():r?r.toRange():t?t.toRange():null):null}function V(e){var t=u.schema.getTextBlockElements();return e.nodeName in t}function H(e){return u.dom.isEmpty(e)}function W(e,t,i){var r,o,a,s,l=u.dom;if(r=l.getParent(t.getNode(),l.isBlock),o=l.getParent(i.getNode(),l.isBlock),-1===e){if(s=i.getNode(!0),_(i)&&C(s))return V(r)?(H(r)&&l.remove(r),n.after(s).toRange()):F(i.getNode(!0))}else if(s=t.getNode(),w(t)&&C(s))return V(o)?(H(o)&&l.remove(o),n.before(s).toRange()):F(t.getNode());if(r===o||!V(r)||!V(o))return null;for(;a=r.firstChild;)o.appendChild(a);return u.dom.remove(r),i.toRange()}function G(e,t,n,r){var o,a,s,l;return!r.collapsed&&(o=S(r),x(o))?z(F(o)):n(a=N(e,r))&&i.isCaretContainerBlock(r.startContainer)?(l=-1==e?K.prev(a):K.next(a))?z(l.toRange()):r:t(a)?z(F(a.getNode(-1==e))):t(s=-1==e?K.prev(a):K.next(a))?-1===e?W(e,a,s):W(e,s,a):void 0}function U(e){return i.isCaretContainer(e)||i.startsWithCaretContainer(e)||i.endsWithCaretContainer(e)}function j(e){return U(e.startContainer)||U(e.endContainer)}function q(t){var n,i,r,o,a,s,l,c,d,h,f=u.$,p=u.dom;if(!t)return null;if(t.collapsed){if(!j(t)){if(c=N(1,t),x(c.getNode()))return A(1,c.getNode(),!c.isAtEnd());if(x(c.getNode(!0)))return A(1,c.getNode(!0),!1)}return null}return a=t.startOffset,s=t.endOffset,3==(o=t.startContainer).nodeType&&0==a&&x(o.parentNode)&&(a=p.nodeIndex(o=o.parentNode),o=o.parentNode),1!=o.nodeType?null:(s==a+1&&(n=o.childNodes[a]),x(n)?(d=h=n.cloneNode(!0),(l=u.fire(\"ObjectSelected\",{target:n,targetClone:d})).isDefaultPrevented()?null:(d=l.targetClone,0===(i=f(\"#\"+te)).length&&(i=f('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>').attr(\"id\",te)).appendTo(u.getBody()),t=u.dom.createRng(),d===h&&e.ie?(i.empty().append('<p style=\"font-size: 0\" data-mce-bogus=\"all\"> </p>').append(d),t.setStartAfter(i[0].firstChild.firstChild),t.setEndAfter(d)):(i.empty().append(\" \").append(d).append(\" \"),t.setStart(i[0].firstChild,1),t.setEnd(i[0].lastChild,0)),i.css({top:p.getPos(n,u.getBody()).y}),i[0].focus(),(r=u.selection.getSel()).removeAllRanges(),r.addRange(t),u.$(\"*[data-mce-selected]\").removeAttr(\"data-mce-selected\"),n.setAttribute(\"data-mce-selected\",1),X=n,Y(),t)):null)}function Z(){X&&(X.removeAttribute(\"data-mce-selected\"),u.$(\"#\"+te).remove(),X=null)}function Y(){ee.hide()}var X,$=u.getBody(),K=new t($),J=v(m,K.next),Q=v(m,K.prev),ee=new o(u.getBody(),C),te=\"sel-\"+u.dom.uniqueId(),ne=u.$;return e.ceFalse&&(function(){function r(e,t){if(!1===e.isDefaultPrevented()){var n=t(T());n&&(e.preventDefault(),M(n))}}function o(e){for(var t=u.getBody();e&&e!=t;){if(y(e)||x(e))return e;e=e.parentNode}return null}function l(){var e,t=o(u.selection.getNode());y(t)&&C(t)&&u.dom.isEmpty(t)&&(e=u.dom.create(\"br\",{\"data-mce-bogus\":\"1\"}),u.$(t).empty().append(e),u.selection.setRng(n.before(e).toRange()))}var h=v(E,1,J,w),m=v(E,-1,Q,_),b=v(G,1,w,_),S=v(G,-1,_,w),k=v(R,-1,a.upUntil),D=v(R,1,a.downUntil);u.on(\"mouseup\",function(){var e=T();e.collapsed&&M(B(e))}),u.on(\"click\",function(e){var t;(t=o(e.target))&&(x(t)&&(e.preventDefault(),u.focus()),y(t)&&u.dom.isChildOf(t,u.selection.getNode())&&Z())}),u.on(\"blur NewBlock\",function(){Z(),Y()});var N=function(e){var i=new t(e);if(!e.firstChild)return!1;var r=n.before(e.firstChild),o=i.next(r);return o&&!w(o)&&!_(o)};(function(e){var t=!1;e.on(\"touchstart\",function(){t=!1}),e.on(\"touchmove\",function(){t=!0}),e.on(\"touchend\",function(e){var n=o(e.target);x(n)&&(t||(e.preventDefault(),q(I(n))))})})(u),u.on(\"mousedown\",function(e){var t;if(t=o(e.target))x(t)?(e.preventDefault(),q(I(t))):function(e,t,n){return!n.collapsed&&f.reduce(n.getClientRects(),function(n,i){return n||c.containsXY(i,e,t)},!1)}(e.clientX,e.clientY,u.selection.getRng())||u.selection.placeCaretAt(e.clientX,e.clientY);else{Z(),Y();var n=s.closestCaret($,e.clientX,e.clientY);n&&(function(e,t){var n=u.dom.getParent(e,u.dom.isBlock),i=u.dom.getParent(t,u.dom.isBlock);return n&&!function(e,t){return u.dom.getParent(e,u.dom.isBlock)===u.dom.getParent(t,u.dom.isBlock)}(n,i)&&N(n)}(e.target,n.node)||(e.preventDefault(),u.getBody().focus(),M(A(1,n.node,n.before))))}}),u.on(\"keydown\",function(e){if(!d.modifierPressed(e))switch(e.keyCode){case d.RIGHT:r(e,h);break;case d.DOWN:r(e,D);break;case d.LEFT:r(e,m);break;case d.UP:r(e,k);break;case d.DELETE:r(e,b);break;case d.BACKSPACE:r(e,S);break;default:x(u.selection.getNode())&&function(e){return!(e.keyCode>=112&&e.keyCode<=123)}(e)&&e.preventDefault()}}),u.on(\"keyup compositionstart\",function(e){(function(e){var t=ne(\"*[data-mce-caret]\")[0];t&&(\"compositionstart\"==e.type?(e.preventDefault(),e.stopPropagation(),O(t)):i.hasContent(t)&&O(t))})(e),function(e){var t;switch(e.keyCode){case d.DELETE:t=l();break;case d.BACKSPACE:t=l()}t&&e.preventDefault()}(e)},!0),u.on(\"cut\",function(){var e=u.selection.getNode();x(e)&&p.setEditorTimeout(u,function(){M(z(F(e)))})}),u.on(\"getSelectionRange\",function(e){var t=e.range;if(X){if(!X.parentNode)return void(X=null);(t=t.cloneRange()).selectNode(X),e.range=t}}),u.on(\"setSelectionRange\",function(e){var t;(t=q(e.range))&&(e.range=t)}),u.on(\"AfterSetSelectionRange\",function(e){var t=e.range;j(t)||Y(),function(e){return u.dom.hasClass(e,\"mce-offscreen-selection\")}(t.startContainer.parentNode)||Z()}),u.on(\"focus\",function(){p.setEditorTimeout(u,function(){u.selection.setRng(z(u.selection.getRng()))},0)}),u.on(\"copy\",function(t){var n=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!e.ie){var i=function(){var e=u.dom.get(te);return e?e.getElementsByTagName(\"*\")[0]:e}();i&&(t.preventDefault(),n.clearData(),n.setData(\"text/html\",i.outerHTML),n.setData(\"text/plain\",i.outerText))}}),g.init(u)}(),function(){var e=u.contentStyles,t=\".mce-content-body\";e.push(ee.getCss()),e.push(t+\" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}\"+t+\" *[contentEditable=false] {cursor: default;}\"+t+\" *[contentEditable=true] {cursor: text;}\")}()),{showBlockCaretContainer:O,hideFakeCaret:Y,destroy:function(){ee.destroy(),X=null}}}}),n(tt,[],function(){var e=0;return{uuid:function(t){return t+e+++function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return\"s\"+(new Date).getTime().toString(36)+e()+e()+e()}()}}}),n(nt,[],function(){return{add:function(e,t,n){var i=e.sidebars?e.sidebars:[];i.push({name:t,settings:n}),e.sidebars=i}}}),n(it,[x,f,_,T,k,L,P,U,Y,J,Q,ee,oe,ae,b,u,De,Re,A,D,Be,l,h,s,ze,Fe,Ve,Ze,et,tt,nt,qe],function(e,n,i,r,o,a,s,l,u,c,d,h,f,p,g,m,v,y,x,b,_,w,S,C,M,T,k,A,I,D,N,P){function L(e,t,r){var o,a,s,l=this;o=l.documentBaseUrl=r.documentBaseURL,a=r.baseURI,t=B({id:e,theme:\"modern\",delta_width:0,delta_height:0,popup_css:\"\",plugins:\"\",document_base_url:o,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:\"<!DOCTYPE html>\",visual:!0,font_size_style_values:\"xx-small,x-small,small,medium,large,x-large,xx-large\",font_size_legacy_values:\"xx-small,small,medium,large,x-large,xx-large,300%\",forced_root_block:\"p\",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:\"30px\",inline_styles:!0,convert_fonts_to_spans:!0,indent:\"simple\",indent_before:\"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist\",indent_after:\"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist\",validate:!0,entity_encoding:\"named\",url_converter:l.convertURL,url_converter_scope:l,ie7_compat:!0},s=r.defaultSettings,t),s&&s.external_plugins&&t.external_plugins&&(t.external_plugins=B({},s.external_plugins,t.external_plugins)),l.settings=t,i.language=t.language||\"en\",i.languageLoad=t.language_load,i.baseURL=r.baseURL,l.id=t.id=e,l.setDirty(!1),l.plugins={},l.documentBaseURI=new p(t.document_base_url||o,{base_uri:a}),l.baseURI=a,l.contentCSS=[],l.contentStyles=[],l.shortcuts=new k(l),l.loadedCSS={},l.editorCommands=new f(l),l.suffix=r.suffix,l.editorManager=r,l.inline=t.inline,l.settings.content_editable=l.inline,t.cache_suffix&&(w.cacheSuffix=t.cache_suffix.replace(/^[\\?\\&]+/,\"\")),!1===t.override_viewport&&(w.overrideViewPort=!1),r.fire(\"SetupEditor\",l),l.execCallback(\"setup\",l),l.$=n.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})}var E=e.DOM,R=i.ThemeManager,O=i.PluginManager,B=S.extend,z=S.each,F=S.explode,V=S.inArray,H=S.trim,W=S.resolve,G=m.Event,U=w.gecko,j=w.ie;return L.prototype={render:function(){var e=this,t=e.settings,n=e.id,i=e.suffix;if(G.domLoaded){if(e.getElement()&&w.contentEditable){t.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility=\"hidden\");var r=e.getElement().form||E.getParent(n,\"form\");r&&(e.formElement=r,t.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&(E.insertAfter(E.create(\"input\",{type:\"hidden\",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},E.bind(r,\"submit reset\",e.formEventDelegate),e.on(\"reset\",function(){e.setContent(e.startContent,{format:\"raw\"})}),!t.submit_patch||r.submit.nodeType||r.submit.length||r._mceOldSubmit||(r._mceOldSubmit=r.submit,r.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),r._mceOldSubmit(r)})),e.windowManager=new v(e),e.notificationManager=new y(e),\"xml\"==t.encoding&&e.on(\"GetContent\",function(e){e.save&&(e.content=E.encode(e.content))}),t.add_form_submit_trigger&&e.on(\"submit\",function(){e.initialized&&e.save()}),t.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:\"raw\",no_events:!0,set_dirty:!1})},e.editorManager.on(\"BeforeUnload\",e._beforeUnload)),e.editorManager.add(e),function(){var n=g.ScriptLoader;if(t.language&&\"en\"!=t.language&&!t.language_url&&(t.language_url=e.editorManager.baseURL+\"/langs/\"+t.language+\".js\"),t.language_url&&n.add(t.language_url),t.theme&&\"function\"!=typeof t.theme&&\"-\"!=t.theme.charAt(0)&&!R.urls[t.theme]){var r=t.theme_url;r=r?e.documentBaseURI.toAbsolute(r):\"themes/\"+t.theme+\"/theme\"+i+\".js\",R.load(t.theme,r)}S.isArray(t.plugins)&&(t.plugins=t.plugins.join(\" \")),z(t.external_plugins,function(e,n){O.load(n,e),t.plugins+=\" \"+n}),z(t.plugins.split(/[ ,]/),function(e){if((e=H(e))&&!O.urls[e])if(\"-\"==e.charAt(0)){e=e.substr(1,e.length);var t=O.dependencies(e);z(t,function(e){e=O.createUrl({prefix:\"plugins/\",resource:e,suffix:\"/plugin\"+i+\".js\"},e),O.load(e.resource,e)})}else O.load(e,{prefix:\"plugins/\",resource:e,suffix:\"/plugin\"+i+\".js\"})}),n.loadQueue(function(){e.removed||e.init()},e,function(t){P.pluginLoadError(e,t[0]),e.removed||e.init()})}()}}else E.bind(window,\"ready\",function t(){E.unbind(window,\"ready\",t),e.render()})},init:function(){var e,t,n,i,r,o,a,s,l,u,c,d=this,h=d.settings,f=d.getElement(),p=[];if(d.rtl=h.rtl_ui||d.editorManager.i18n.rtl,d.editorManager.i18n.setCode(h.language),h.aria_label=h.aria_label||E.getAttrib(f,\"aria-label\",d.getLang(\"aria.rich_text_area\")),d.fire(\"ScriptsLoaded\"),h.theme&&(\"function\"!=typeof h.theme?(h.theme=h.theme.replace(/-/,\"\"),o=R.get(h.theme),d.theme=new o(d,R.urls[h.theme]),d.theme.init&&d.theme.init(d,R.urls[h.theme]||d.documentBaseUrl.replace(/\\/$/,\"\"),d.$)):d.theme=h.theme),z(h.plugins.replace(/\\-/g,\"\").split(/[ ,]/),function e(t){var n,i,r=O.get(t);if(n=O.urls[t]||d.documentBaseUrl.replace(/\\/$/,\"\"),t=H(t),r&&-1===V(p,t)){if(z(O.dependencies(t),function(t){e(t)}),d.plugins[t])return;i=new r(d,n,d.$),d.plugins[t]=i,i.init&&(i.init(d,n),p.push(t))}}),h.render_ui&&d.theme&&(d.orgDisplay=f.style.display,\"function\"!=typeof h.theme?(t=h.height||f.style.height||f.offsetHeight,n=h.min_height||100,(u=/^[0-9\\.]+(|px)$/i).test(\"\"+(e=h.width||f.style.width||f.offsetWidth))&&(e=Math.max(parseInt(e,10),100)),u.test(\"\"+t)&&(t=Math.max(parseInt(t,10),n)),r=d.theme.renderUI({targetNode:f,width:e,height:t,deltaWidth:h.delta_width,deltaHeight:h.delta_height}),h.content_editable||(t=(r.iframeHeight||t)+(\"number\"==typeof t?r.deltaHeight||0:\"\"))<n&&(t=n)):((r=h.theme(d,f)).editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||d.id+\"_parent\"),r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||d.id+\"_iframecontainer\"),t=r.iframeHeight||f.offsetHeight),d.editorContainer=r.editorContainer),h.content_css&&z(F(h.content_css),function(e){d.contentCSS.push(d.documentBaseURI.toAbsolute(e))}),h.content_style&&d.contentStyles.push(h.content_style),h.content_editable)return f=i=r=null,d.initContentBody();if(d.iframeHTML=h.doctype+\"<html><head>\",h.document_base_url!=d.documentBaseUrl&&(d.iframeHTML+='<base href=\"'+d.documentBaseURI.getURI()+'\" />'),!w.caretAfter&&h.ie7_compat&&(d.iframeHTML+='<meta http-equiv=\"X-UA-Compatible\" content=\"IE=7\" />'),d.iframeHTML+='<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />',!/#$/.test(document.location.href))for(c=0;c<d.contentCSS.length;c++){var g=d.contentCSS[c];d.iframeHTML+='<link type=\"text/css\" rel=\"stylesheet\" href=\"'+S._addCacheSuffix(g)+'\" />',d.loadedCSS[g]=!0}-1!=(s=h.body_id||\"tinymce\").indexOf(\"=\")&&(s=(s=d.getParam(\"body_id\",\"\",\"hash\"))[d.id]||s),-1!=(l=h.body_class||\"\").indexOf(\"=\")&&(l=(l=d.getParam(\"body_class\",\"\",\"hash\"))[d.id]||\"\"),h.content_security_policy&&(d.iframeHTML+='<meta http-equiv=\"Content-Security-Policy\" content=\"'+h.content_security_policy+'\" />'),d.iframeHTML+='</head><body id=\"'+s+'\" class=\"mce-content-body '+l+'\" data-id=\"'+d.id+'\"><br></body></html>';var m='javascript:(function(){document.open();document.domain=\"'+document.domain+'\";var ed = window.parent.tinymce.get(\"'+d.id+'\");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&w.ie&&w.ie<12&&(a=m);var v=E.create(\"iframe\",{id:d.id+\"_ifr\",frameBorder:\"0\",allowTransparency:\"true\",title:d.editorManager.translate(\"Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help\"),style:{width:\"100%\",height:t,display:\"block\"}});if(v.onload=function(){v.onload=null,d.fire(\"load\")},E.setAttrib(v,\"src\",a||'javascript:\"\"'),d.contentAreaContainer=r.iframeContainer,d.iframeElement=v,i=E.add(r.iframeContainer,v),j)try{d.getDoc()}catch(x){i.src=a=m}r.editorContainer&&(E.get(r.editorContainer).style.display=d.orgDisplay,d.hidden=E.isHidden(r.editorContainer)),d.getElement().style.display=\"none\",E.setAttrib(d.id,\"aria-hidden\",!0),a||d.initContentBody(),f=i=r=null},initContentBody:function(t){var n,i,s=this,f=s.settings,p=s.getElement(),g=s.getDoc();f.inline||(s.getElement().style.visibility=s.orgVisibility),t||f.content_editable||(g.open(),g.write(s.iframeHTML),g.close()),f.content_editable&&(s.on(\"remove\",function(){var e=this.getBody();E.removeClass(e,\"mce-content-body\"),E.removeClass(e,\"mce-edit-focus\"),E.setAttrib(e,\"contentEditable\",null)}),E.addClass(p,\"mce-content-body\"),s.contentDocument=g=f.content_document||document,s.contentWindow=f.content_window||window,s.bodyElement=p,f.content_document=f.content_window=null,f.root_name=p.nodeName.toLowerCase()),(n=s.getBody()).disabled=!0,s.readonly=f.readonly,s.readonly||(s.inline&&\"static\"==E.getStyle(n,\"position\",!0)&&(n.style.position=\"relative\"),n.contentEditable=s.getParam(\"content_editable_state\",!0)),n.disabled=!1,s.editorUpload=new A(s),s.schema=new x(f),s.dom=new e(g,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,hex_colors:f.force_hex_style_colors,class_filter:f.class_filter,update_styles:!0,root_element:s.inline?s.getBody():null,collect:f.content_editable,schema:s.schema,onSetAttrib:function(e){s.fire(\"SetAttrib\",e)}}),s.parser=new b(f,s.schema),s.parser.addAttributeFilter(\"src,href,style,tabindex\",function(e,t){for(var n,i,r,o=e.length,a=s.dom;o--;)if(i=(n=e[o]).attr(t),!n.attributes.map[r=\"data-mce-\"+t]){if(0===i.indexOf(\"data:\")||0===i.indexOf(\"blob:\"))continue;\"style\"===t?((i=a.serializeStyle(a.parseStyle(i),n.name)).length||(i=null),n.attr(r,i),n.attr(t,i)):\"tabindex\"===t?(n.attr(r,i),n.attr(t,null)):n.attr(r,s.convertURL(i,t,n.name))}}),s.parser.addNodeFilter(\"script\",function(e){for(var t,n,i=e.length;i--;)0!==(n=(t=e[i]).attr(\"type\")||\"no/type\").indexOf(\"mce-\")&&t.attr(\"type\",\"mce-\"+n)}),s.parser.addNodeFilter(\"#cdata\",function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name=\"#comment\",t.value=\"[CDATA[\"+t.value+\"]]\"}),s.parser.addNodeFilter(\"p,h1,h2,h3,h4,h5,h6,div\",function(e){for(var t,n=e.length,i=s.schema.getNonEmptyElements();n--;)(t=e[n]).isEmpty(i)&&0===t.getAll(\"br\").length&&(t.append(new o(\"br\",1)).shortEnded=!0)}),s.serializer=new a(f,s),s.selection=new l(s.dom,s.getWin(),s.serializer,s),s.formatter=new u(s),s.undoManager=new c(s),s.forceBlocks=new h(s),s.enterKey=new d(s),s._nodeChangeDispatcher=new r(s),s._selectionOverrides=new I(s),s.fire(\"PreInit\"),f.browser_spellcheck||f.gecko_spellcheck||(g.body.spellcheck=!1,E.setAttrib(n,\"spellcheck\",\"false\")),s.quirks=new _(s),s.fire(\"PostRender\"),f.directionality&&(n.dir=f.directionality),f.nowrap&&(n.style.whiteSpace=\"nowrap\"),f.protect&&s.on(\"BeforeSetContent\",function(e){z(f.protect,function(t){e.content=e.content.replace(t,function(e){return\"\\x3c!--mce:protected \"+escape(e)+\"--\\x3e\"})})}),s.on(\"SetContent\",function(){s.addVisual(s.getBody())}),f.padd_empty_editor&&s.on(\"PostProcess\",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\\s|\\u00a0|<br \\/>|)<\\/p>[\\r\\n]*|<br \\/>[\\r\\n]*)$/,\"\")}),s.load({initial:!0,format:\"html\"}),s.startContent=s.getContent({format:\"raw\"}),s.initialized=!0,s.bindPendingEventDelegates(),s.fire(\"init\"),s.focus(!0),s.nodeChanged({initial:!0}),s.execCallback(\"init_instance_callback\",s),s.on(\"compositionstart compositionend\",function(e){s.composing=\"compositionstart\"===e.type}),s.contentStyles.length>0&&(i=\"\",z(s.contentStyles,function(e){i+=e+\"\\r\\n\"}),s.dom.addStyle(i)),z(s.contentCSS,function(e){s.loadedCSS[e]||(s.dom.loadCSS(e),s.loadedCSS[e]=!0)}),f.auto_focus&&C.setEditorTimeout(s,function(){var e;(e=!0===f.auto_focus?s:s.editorManager.get(f.auto_focus)).destroyed||e.focus()},100),p=g=n=null},focus:function(e){var t,n,i,r=this,o=r.selection,a=r.settings.content_editable,s=r.getDoc(),l=r.getBody();if(!e){if((t=o.getRng()).item&&(n=t.item(0)),r.quirks.refreshContentEditable(),i=function(e){return r.dom.getParent(e,function(e){return\"true\"===r.dom.getContentEditable(e)})}(o.getNode()),r.$.contains(l,i))return i.focus(),o.normalize(),void r.editorManager.setActive(r);if(a||(w.opera||r.getBody().focus(),r.getWin().focus()),U||a){if(l.setActive)try{l.setActive()}catch(c){l.focus()}else l.focus();a&&o.normalize()}n&&n.ownerDocument==s&&((t=s.body.createControlRange()).addElement(n),t.select())}r.editorManager.setActive(r)},execCallback:function(e){var t,n=this,i=n.settings[e];if(i)return n.callbackLookup&&(t=n.callbackLookup[e])&&(i=t.func,t=t.scope),\"string\"==typeof i&&(t=(t=i.replace(/\\.\\w+$/,\"\"))?W(t):0,i=W(i),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[e]={func:i,scope:t}),i.apply(t||n,Array.prototype.slice.call(arguments,1))},translate:function(e){var t=this.settings.language||\"en\",n=this.editorManager.i18n;return e?(e=n.data[t+\".\"+e]||e.replace(/\\{\\#([^\\}]+)\\}/g,function(e,i){return n.data[t+\".\"+i]||\"{#\"+i+\"}\"}),this.editorManager.translate(e)):\"\"},getLang:function(e,n){return this.editorManager.i18n.data[(this.settings.language||\"en\")+\".\"+e]||(n!==t?n:\"{#\"+e+\"}\")},getParam:function(e,t,n){var i,r=e in this.settings?this.settings[e]:t;return\"hash\"===n?(i={},\"string\"==typeof r?z(r.indexOf(\"=\")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(\",\"),function(e){e=e.split(\"=\"),i[H(e[0])]=H(e.length>1?e[1]:e)}):i=r,i):r},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return N.add(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addContextToolbar:function(e,t){var n,i=this;i.contextToolbars=i.contextToolbars||[],\"string\"==typeof e&&(n=e,e=function(e){return i.dom.is(e,n)}),i.contextToolbars.push({id:D.uuid(\"mcet\"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){return this.editorCommands.execCommand(e,t,n,i)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(E.show(e.getContainer()),E.hide(e.id)),e.load(),e.fire(\"show\"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(j&&t&&!e.inline&&t.execCommand(\"SelectAll\"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(E.hide(e.getContainer()),E.setStyle(e.id,\"display\",e.orgDisplay)),e.hidden=!0,e.fire(\"hide\"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire(\"ProgressState\",{state:e,time:t})},load:function(e){var n,i=this,r=i.getElement();if(r)return(e=e||{}).load=!0,n=i.setContent(r.value!==t?r.value:r.innerHTML,e),e.element=r,e.no_events||i.fire(\"LoadContent\",e),e.element=r=null,n},save:function(e){var t,n,i=this,r=i.getElement();if(r&&i.initialized)return(e=e||{}).save=!0,e.element=r,e.content=i.getContent(e),e.no_events||i.fire(\"SaveContent\",e),\"raw\"==e.format&&i.fire(\"RawSaveContent\",e),t=e.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=t:(i.inline||(r.innerHTML=t),(n=E.getParent(i.id,\"form\"))&&z(n.elements,function(e){if(e.name==i.id)return e.value=t,!1})),e.element=r=null,!1!==e.set_dirty&&i.setDirty(!1),t},setContent:function(e,t){var n,i,r=this,o=r.getBody();return(t=t||{}).format=t.format||\"html\",t.set=!0,t.content=e,t.no_events||r.fire(\"BeforeSetContent\",t),0===(e=t.content).length||/^\\s+$/.test(e)?(i=j&&j<11?\"\":'<br data-mce-bogus=\"1\">',\"TABLE\"==o.nodeName?e=\"<tr><td>\"+i+\"</td></tr>\":/^(UL|OL)$/.test(o.nodeName)&&(e=\"<li>\"+i+\"</li>\"),(n=r.settings.forced_root_block)&&r.schema.isValidChild(o.nodeName.toLowerCase(),n.toLowerCase())?e=r.dom.createHTML(n,r.settings.forced_root_block_attrs,e=i):j||e||(e='<br data-mce-bogus=\"1\">'),r.dom.setHTML(o,e),r.fire(\"SetContent\",t)):(\"raw\"!==t.format&&(e=new s({validate:r.validate},r.schema).serialize(r.parser.parse(e,{isRootContent:!0}))),t.content=H(e),r.dom.setHTML(o,t.content),t.no_events||r.fire(\"SetContent\",t)),t.content},getContent:function(e){var t,n=this,i=n.getBody();return(e=e||{}).format=e.format||\"html\",e.get=!0,e.getInner=!0,e.no_events||n.fire(\"BeforeGetContent\",e),t=\"raw\"==e.format?S.trim(n.serializer.getTrimmedContent()):\"text\"==e.format?i.innerText||i.textContent:n.serializer.serialize(i,e),e.content=\"text\"!=e.format?H(t):t,e.no_events||n.fire(\"GetContent\",e),e.content},insertContent:function(e,t){t&&(e=B({content:e},t)),this.execCommand(\"mceInsertContent\",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!=t&&this.fire(\"dirty\")},setMode:function(e){T.setMode(this,e)},getContainer:function(){var e=this;return e.container||(e.container=E.get(e.editorContainer||e.id+\"_parent\")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=E.get(this.id)),this.targetElm},getWin:function(){var e,t=this;return t.contentWindow||(e=t.iframeElement)&&(t.contentWindow=e.contentWindow),t.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin())&&(t.contentDocument=e.document),t.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback(\"urlconverter_callback\",e,n,!0,t):!r.convert_urls||n&&\"LINK\"==n.nodeName||0===e.indexOf(\"file:\")||0===e.length?e:r.relative_urls?i.documentBaseURI.toRelative(e):e=i.documentBaseURI.toAbsolute(e,r.remove_script_host)},addVisual:function(e){var n,i=this,r=i.settings,o=i.dom;e=e||i.getBody(),i.hasVisual===t&&(i.hasVisual=r.visual),z(o.select(\"table,a\",e),function(e){var t;switch(e.nodeName){case\"TABLE\":return n=r.visual_table_class||\"mce-item-table\",void((t=o.getAttrib(e,\"border\"))&&\"0\"!=t||!i.hasVisual?o.removeClass(e,n):o.addClass(e,n));case\"A\":return void(o.getAttrib(e,\"href\",!1)||(t=o.getAttrib(e,\"name\")||e.id,n=r.visual_anchor_class||\"mce-item-anchor\",t&&i.hasVisual?o.addClass(e,n):o.removeClass(e,n)))}}),i.fire(\"VisualAid\",{element:e,hasVisual:i.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&E.remove(e.getElement().nextSibling),e.inline||(j&&j<10&&e.getDoc().execCommand(\"SelectAll\",!1,null),E.setStyle(e.id,\"display\",e.orgDisplay),e.getBody().onload=null),e.fire(\"remove\"),e.editorManager.remove(e),E.remove(e.getContainer()),e._selectionOverrides.destroy(),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var t,n=this;if(!n.destroyed){if(!e&&!n.removed)return void n.remove();e||(n.editorManager.off(\"beforeunload\",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),(t=n.formElement)&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),E.unbind(t,\"submit reset\",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1}},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},B(L.prototype,M),L}),n(rt,[h],function(e){var t={},n=\"en\";return{setCode:function(e){e&&(n=e,this.rtl=!!this.data[e]&&\"rtl\"===this.data[e]._dir)},getCode:function(){return n},rtl:!1,add:function(e,n){var i=t[e];for(var r in i||(t[e]=i={}),n)i[r]=n[r];this.setCode(e)},translate:function(i){function r(t){return e.is(t,\"function\")?Object.prototype.toString.call(t):o(t)?\"\":\"\"+t}function o(t){return\"\"===t||null===t||e.is(t,\"undefined\")}function a(t){return t=r(t),e.hasOwn(s,t)?r(s[t]):t}var s=t[n]||{};if(o(i))return\"\";if(e.is(i,\"object\")&&e.hasOwn(i,\"raw\"))return r(i.raw);if(e.is(i,\"array\")){var l=i.slice(1);i=a(i[0]).replace(/\\{([0-9]+)\\}/g,function(t,n){return e.hasOwn(l,n)?r(l[n]):t})}return a(i).replace(/{context:\\w+}$/,\"\")},data:t}}),n(ot,[x,s,l],function(e,t,n){function i(e){function i(){try{return document.activeElement}catch(e){return document.body}}e.on(\"AddEditor\",function(u){var c=u.editor;c.on(\"init\",function(){(c.inline||n.ie)&&(\"onbeforedeactivate\"in document&&n.ie<9?c.dom.bind(c.getBody(),\"beforedeactivate\",function(e){if(e.target==c.getBody())try{c.lastRng=c.selection.getRng()}catch(t){}}):c.on(\"nodechange mouseup keyup\",function(e){var t=i();\"nodechange\"==e.type&&e.selectionChange||(t&&t.id==c.id+\"_ifr\"&&(t=c.getBody()),c.dom.isChildOf(t,c.getBody())&&(c.lastRng=c.selection.getRng()))}),n.webkit&&!r&&(r=function(){var t=e.activeEditor;if(t&&t.selection){var n=t.selection.getRng();n&&!n.collapsed&&(c.lastRng=n)}},s.bind(document,\"selectionchange\",r)))}),c.on(\"setcontent\",function(){c.lastRng=null}),c.on(\"mousedown\",function(){c.selection.lastFocusBookmark=null}),c.on(\"focusin\",function(){var t,n=e.focusedEditor;c.selection.lastFocusBookmark&&(t=function(e,t){var n;return t.startContainer?((n=e.getDoc().createRange()).setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n}(c,c.selection.lastFocusBookmark),c.selection.lastFocusBookmark=null,c.selection.setRng(t)),n!=c&&(n&&n.fire(\"blur\",{focusedEditor:c}),e.setActive(c),e.focusedEditor=c,c.fire(\"focus\",{blurredEditor:n}),c.focus(!0)),c.lastRng=null}),c.on(\"focusout\",function(){t.setEditorTimeout(c,function(){var t=e.focusedEditor;l(c,i())||t!=c||(c.fire(\"blur\",{focusedEditor:null}),e.focusedEditor=null,c.selection&&(c.selection.lastFocusBookmark=null))})}),o||(o=function(t){var n,i=e.activeEditor;n=t.target,i&&n.ownerDocument==document&&(i.selection&&n!=i.getBody()&&(i.selection.lastFocusBookmark=function(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot()))return;return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}(i.dom,i.lastRng)),n==document.body||l(i,n)||e.focusedEditor!=i||(i.fire(\"blur\",{focusedEditor:null}),e.focusedEditor=null))},s.bind(document,\"focusin\",o)),c.inline&&!a&&(a=function(t){var n=e.activeEditor,i=n.dom;if(n.inline&&i&&!i.isChildOf(t.target,n.getBody())){var r=n.selection.getRng();r.collapsed||(n.lastRng=r)}},s.bind(document,\"mouseup\",a))}),e.on(\"RemoveEditor\",function(t){e.focusedEditor==t.editor&&(e.focusedEditor=null),e.activeEditor||(s.unbind(document,\"selectionchange\",r),s.unbind(document,\"focusin\",o),s.unbind(document,\"mouseup\",a),r=o=a=null)})}var r,o,a,s=e.DOM,l=function(e,t){var n=e?e.settings.custom_ui_selector:\"\";return null!==s.getParent(t,function(t){return i.isEditorUIElement(t)||!!n&&e.dom.is(t,n)})};return i.isEditorUIElement=function(e){return-1!==e.className.toString().indexOf(\"mce-\")},i._isUIElement=l,i}),n(at,[it,f,x,ae,l,h,a,ce,rt,ot,_],function(e,t,n,i,r,o,a,s,l,u,c){function d(e){x(m.editors,function(t){t.fire(\"scroll\"===e.type?\"ScrollWindow\":\"ResizeWindow\",e)})}function h(e,n){n!==w&&(n?t(window).on(\"resize scroll\",d):t(window).off(\"resize scroll\",d),w=n)}function f(e){var t,n=m.editors;delete n[e.id];for(var i=0;i<n.length;i++)if(n[i]==e){n.splice(i,1),t=!0;break}return m.activeEditor==e&&(m.activeEditor=n[0]),m.focusedEditor==e&&(m.focusedEditor=null),t}function p(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(f(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e}var g,m,v=n.DOM,y=o.explode,x=o.each,b=o.extend,_=0,w=!1;return m={$:t,majorVersion:\"4\",minorVersion:\"5.7\",releaseDate:\"2017-04-25\",editors:[],i18n:l,activeEditor:null,setup:function(){var e,t,n,r,o=this,a=\"\";if(t=i.getDocumentBaseUrl(document.location),/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(t)&&(t=t.replace(/[\\?#].*$/,\"\").replace(/[\\/\\\\][^\\/]+$/,\"\"),/[\\/\\\\]$/.test(t)||(t+=\"/\")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,a=n.suffix;else{for(var s=document.getElementsByTagName(\"script\"),l=0;l<s.length;l++){var c=(r=s[l].src).substring(r.lastIndexOf(\"/\"));if(/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(r)){-1!=c.indexOf(\".min\")&&(a=\".min\"),e=r.substring(0,r.lastIndexOf(\"/\"));break}}!e&&document.currentScript&&(-1!=(r=document.currentScript.src).indexOf(\".min\")&&(a=\".min\"),e=r.substring(0,r.lastIndexOf(\"/\")))}o.baseURL=new i(t).toAbsolute(e),o.documentBaseURL=t,o.baseURI=new i(o.baseURL),o.suffix=a,o.focusManager=new u(o)},overrideDefaults:function(e){var t;(t=e.base_url)&&(this.baseURL=new i(this.documentBaseURL).toAbsolute(t.replace(/\\/+$/,\"\")),this.baseURI=new i(this.baseURL)),e.suffix&&(this.suffix=e.suffix),this.defaultSettings=e;var n=e.plugin_base_urls;for(var r in n)c.PluginManager.urls[r]=n[r]},init:function(n){function i(e){var t=e.id;return t||(t=(t=e.name)&&!v.get(t)?e.name:v.uniqueId(),e.setAttribute(\"id\",t)),t}function r(e,t){return t.constructor===RegExp?t.test(e.className):v.hasClass(e,t)}function s(e){var t,n=[];if(e.types)return x(e.types,function(e){n=n.concat(v.select(e.selector))}),n;if(e.selector)return v.select(e.selector);if(e.target)return[e.target];switch(e.mode){case\"exact\":(t=e.elements||\"\").length>0&&x(y(t),function(e){var t;(t=v.get(e))?n.push(t):x(document.forms,function(t){x(t.elements,function(t){t.name===e&&(e=\"mce_editor_\"+_++,v.setAttrib(t,\"id\",e),n.push(t))})})});break;case\"textareas\":case\"specific_textareas\":x(v.select(\"textarea\"),function(t){e.editor_deselector&&r(t,e.editor_deselector)||e.editor_selector&&!r(t,e.editor_selector)||n.push(t)})}return n}var l,u,c=this;u=o.makeMap(\"area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu\",\" \");var d=function(e){l=e};return c.settings=n,v.bind(window,\"ready\",function r(){function a(t,n,i){var r=new e(t,n,c);f.push(r),r.on(\"init\",function(){++h===l.length&&d(f)}),r.targetElm=r.targetElm||i,r.render()}var l,h=0,f=[];return v.unbind(window,\"ready\",r),function(e){var t=n[e];t&&t.apply(c,Array.prototype.slice.call(arguments,2))}(\"onpageload\"),l=t.unique(s(n)),n.types?void x(n.types,function(e){o.each(l,function(t){return!v.is(t,e.selector)||(a(i(t),b({},n,e),t),!1)})}):(o.each(l,function(e){p(c.get(e.id))}),l=o.grep(l,function(e){return!c.get(e.id)}),void x(l,function(e){!function(e,t){return e.inline&&t.tagName.toLowerCase()in u}(n,e)?a(i(e),n,e):function(e,t){window.console&&!window.test&&window.console.log(\"Could not initialize inline editor on invalid inline target element\",t)}(0,e)}))}),new a(function(e){l?e(l):d=function(t){e(t)}})},get:function(e){return arguments.length?e in this.editors?this.editors[e]:null:this.editors},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),h(0,!0),t.activeEditor=e,t.fire(\"AddEditor\",{editor:e}),g||(g=function(){t.fire(\"BeforeUnload\")},v.bind(window,\"beforeunload\",g)),e},createEditor:function(t,n){return this.add(new e(t,n,this))},remove:function(e){var t,n,i=this,r=i.editors;if(e)return\"string\"==typeof e?void x(v.select(e=e.selector||e),function(e){(n=r[e.id])&&i.remove(n)}):r[(n=e).id]?(f(n)&&i.fire(\"RemoveEditor\",{editor:n}),r.length||v.unbind(window,\"beforeunload\",g),n.remove(),h(0,r.length>0),n):null;for(t=r.length-1;t>=0;t--)i.remove(r[t])},execCommand:function(t,n,i){var r=this,o=r.get(i);switch(t){case\"mceAddEditor\":return r.get(i)||new e(i,r.settings,r).render(),!0;case\"mceRemoveEditor\":return o&&o.remove(),!0;case\"mceToggleEditor\":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand(\"mceAddEditor\",0,i),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(t,n,i)},triggerSave:function(){x(this.editors,function(e){e.save()})},addI18n:function(e,t){l.add(e,t)},translate:function(e){return l.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire(\"deactivate\",{relatedTarget:e}),e.fire(\"activate\",{relatedTarget:t})),this.activeEditor=e}},b(m,s),m.setup(),window.tinymce=window.tinyMCE=m,m}),n(\"tinymce/LegacyInput\",[at,h],function(e,t){var n=t.each,i=t.explode;e.on(\"AddEditor\",function(e){var t=e.editor;t.on(\"preInit\",function(){function e(e,t){n(t,function(t,n){t&&a.setStyle(e,n,t)}),a.rename(e,\"span\")}var r,o,a,s=t.settings;s.inline_styles&&(o=i(s.font_size_legacy_values),r={font:function(t,n){e(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:o[parseInt(n.size,10)-1]})},u:function(n,i){\"html4\"===t.settings.schema&&e(i,{textDecoration:\"underline\"})},strike:function(t,n){e(n,{textDecoration:\"line-through\"})}},t.on(\"PreProcess SetContent\",function(e){a=t.dom,s.convert_fonts_to_spans&&n(a.select(\"font,u,strike\",e.node),function(e){r[e.nodeName.toLowerCase()](a,e)})}))})})}),n(st,[ce,h],function(e,t){var n={send:function(e){function i(){!e.async||4==r.readyState||o++>1e4?(e.success&&o<1e4&&200==r.status?e.success.call(e.success_scope,\"\"+r.responseText,r,e):e.error&&e.error.call(e.error_scope,o>1e4?\"TIMED_OUT\":\"GENERAL\",r,e),r=null):setTimeout(i,10)}var r,o=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||\"\",n.fire(\"beforeInitialize\",{settings:e}),r=new XMLHttpRequest){if(r.overrideMimeType&&r.overrideMimeType(e.content_type),r.open(e.type||(e.data?\"POST\":\"GET\"),e.url,e.async),e.crossDomain&&(r.withCredentials=!0),e.content_type&&r.setRequestHeader(\"Content-Type\",e.content_type),e.requestheaders&&t.each(e.requestheaders,function(e){r.setRequestHeader(e.key,e.value)}),r.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),(r=n.fire(\"beforeSend\",{xhr:r,settings:e}).xhr).send(e.data),!e.async)return i();setTimeout(i,10)}}};return t.extend(n,e),n}),n(lt,[],function(){return{serialize:function e(t,n){var i,r,o,a;if(n=n||'\"',null===t)return\"null\";if(\"string\"==(o=typeof t))return r=\"\\bb\\tt\\nn\\ff\\rr\\\"\\\"''\\\\\\\\\",n+t.replace(/([\\u0080-\\uFFFF\\x00-\\x1f\\\"\\'\\\\])/g,function(e,t){return'\"'===n&&\"'\"===e?e:(i=r.indexOf(t))+1?\"\\\\\"+r.charAt(i+1):(e=t.charCodeAt().toString(16),\"\\\\u\"+\"0000\".substring(e.length)+e)})+n;if(\"object\"==o){if(t.hasOwnProperty&&\"[object Array]\"===Object.prototype.toString.call(t)){for(i=0,r=\"[\";i<t.length;i++)r+=(i>0?\",\":\"\")+e(t[i],n);return r+\"]\"}for(a in r=\"{\",t)t.hasOwnProperty(a)&&(r+=\"function\"!=typeof t[a]?(r.length>1?\",\"+n:n)+a+n+\":\"+e(t[a],n):\"\");return r+\"}\"}return\"\"+t},parse:function(e){try{return window[String.fromCharCode(101)+\"val\"](\"(\"+e+\")\")}catch(t){}}}}),n(ut,[lt,st,h],function(e,t,n){function i(e){this.settings=r({},e),this.count=0}var r=n.extend;return i.sendRPC=function(e){return(new i).send(e)},i.prototype={send:function(n){var i=n.error,o=n.success;(n=r(this.settings,n)).success=function(t,r){void 0===(t=e.parse(t))&&(t={error:\"JSON Parse error.\"}),t.error?i.call(n.error_scope||n.scope,t.error,r):o.call(n.success_scope||n.scope,t.result)},n.error=function(e,t){i&&i.call(n.error_scope||n.scope,e,t)},n.data=e.serialize({id:n.id||\"c\"+this.count++,method:n.method,params:n.params}),n.content_type=\"application/json\",t.send(n)}},i}),n(ct,[x],function(e){return{callbacks:{},count:0,send:function(n){var i=this,r=e.DOM,o=n.count!==t?n.count:i.count,a=\"tinymce_jsonp_\"+o;i.callbacks[o]=function(e){r.remove(a),delete i.callbacks[o],n.callback(e)},r.add(r.doc.body,\"script\",{id:a,src:n.url,type:\"text/javascript\"}),i.count++}}}),n(dt,[],function(){function e(){for(var e in a=[],o)a.push(e);i.length=a.length}function n(){var t,n=\"\";if(u){for(var a in o)t=o[a],n+=(n?\",\":\"\")+a.length.toString(32)+\",\"+a+\",\"+t.length.toString(32)+\",\"+t;r.setAttribute(l,n);try{r.save(l)}catch(i){}e()}}var i,r,o,a,l,u;try{if(window.localStorage)return localStorage}catch(s){}return l=\"tinymce\",r=document.documentElement,(u=!!r.addBehavior)&&r.addBehavior(\"#default#userData\"),i={key:function(e){return a[e]},getItem:function(e){return e in o?o[e]:null},setItem:function(e,t){o[e]=\"\"+t,n()},removeItem:function(e){delete o[e],n()},clear:function(){o={},n()}},function(){function n(e){var n,i;return-1===(i=e!==t?c+e:a.indexOf(\",\",c))||i>a.length?null:(n=a.substring(c,i),c=i+1,n)}var i,a,s,c=0;if(o={},u){r.load(l),a=r.getAttribute(l)||\"\";do{var d=n();if(null===d)break;if(null!==(i=n(parseInt(d,32)||0))){if(null===(d=n()))break;s=n(parseInt(d,32)||0),i&&(o[i]=s)}}while(null!==i);e()}}(),i}),n(ht,[x,u,b,_,h,l],function(e,t,n,i,r,o){var a=window.tinymce;return a.DOM=e.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=i.PluginManager,a.ThemeManager=i.ThemeManager,a.dom=a.dom||{},a.dom.Event=t.Event,r.each(\"trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix\".split(\" \"),function(e){a[e]=r[e]}),r.each(\"isOpera isWebKit isIE isGecko isMac\".split(\" \"),function(e){a[e]=o[e.substr(2).toLowerCase()]}),{}}),n(ft,[se,h],function(e,t){return e.extend({Defaults:{firstControlClass:\"first\",lastControlClass:\"last\"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,i,r,o=this.settings;t=o.firstControlClass,n=o.lastControlClass,e.each(function(e){e.classes.remove(t).remove(n).add(o.controlClass),e.visible()&&(i||(i=e),r=e)}),i&&i.classes.add(t),r&&r.classes.add(n)},renderHtml:function(e){var t=\"\";return this.applyClasses(e.items()),e.items().each(function(e){t+=e.renderHtml()}),t},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),n(pt,[ft],function(e){return e.extend({Defaults:{containerClass:\"abs-layout\",controlClass:\"abs-layout-item\"},recalc:function(e){e.items().filter(\":visible\").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id=\"'+e._id+'-absend\" class=\"'+e.classPrefix+'abs-end\"></div>'+this._super(e)}})}),n(gt,[Pe],function(e){return e.extend({Defaults:{classes:\"widget btn\",role:\"button\"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on(\"click mousedown\",function(e){e.preventDefault()}),n.on(\"touchstart\",function(e){n.fire(\"click\",e),e.preventDefault()}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add(\"btn-\"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set(\"icon\",e),this):this.state.get(\"icon\")},repaint:function(){var e,t=this.getEl().firstChild;t&&((e=t.style).width=e.height=\"100%\"),this._super()},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=t.state.get(\"icon\"),o=t.state.get(\"text\"),a=\"\";return(e=t.settings.image)?(r=\"none\",\"string\"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=\" style=\\\"background-image: url('\"+e+\"')\\\"\"):e=\"\",o&&(t.classes.add(\"btn-has-text\"),a='<span class=\"'+i+'txt\">'+t.encode(o)+\"</span>\"),'<div id=\"'+n+'\" class=\"'+t.classes+'\" tabindex=\"-1\" aria-labelledby=\"'+n+'\"><button role=\"presentation\" type=\"button\" tabindex=\"-1\">'+((r=r?i+\"ico \"+i+\"i-\"+r:\"\")?'<i class=\"'+r+'\"'+e+\"></i>\":\"\")+a+\"</button></div>\"},bindStates:function(){function e(e){var r=n(\"span.\"+i,t.getEl());e?(r[0]||(n(\"button:first\",t.getEl()).append('<span class=\"'+i+'\"></span>'),r=n(\"span.\"+i,t.getEl())),r.html(t.encode(e))):r.remove(),t.classes.toggle(\"btn-has-text\",!!e)}var t=this,n=t.$,i=t.classPrefix+\"txt\";return t.state.on(\"change:text\",function(t){e(t.value)}),t.state.on(\"change:icon\",function(n){var i=n.value,r=t.classPrefix;t.settings.icon=i,i=i?r+\"ico \"+r+\"i-\"+t.settings.icon:\"\";var o=t.getEl().firstChild,a=o.getElementsByTagName(\"i\")[0];i?(a&&a==o.firstChild||(a=document.createElement(\"i\"),o.insertBefore(a,o.firstChild)),a.className=i):a&&o.removeChild(a),e(t.state.get(\"text\"))}),t._super()}})}),n(mt,[_e],function(e){return e.extend({Defaults:{defaultType:\"button\",role:\"group\"},renderHtml:function(){var e=this,t=e._layout;return e.classes.add(\"btn-group\"),e.preRender(),t.preRender(e),'<div id=\"'+e._id+'\" class=\"'+e.classes+'\"><div id=\"'+e._id+'-body\">'+(e.settings.html||\"\")+t.renderHtml(e)+\"</div></div>\"}})}),n(vt,[Pe],function(e){return e.extend({Defaults:{classes:\"checkbox\",role:\"checkbox\",checked:!1},init:function(e){var t=this;t._super(e),t.on(\"click mousedown\",function(e){e.preventDefault()}),t.on(\"click\",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set(\"checked\",e),this):this.state.get(\"checked\")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id=\"'+t+'\" class=\"'+e.classes+'\" unselectable=\"on\" aria-labelledby=\"'+t+'-al\" tabindex=\"-1\"><i class=\"'+n+\"ico \"+n+'i-checkbox\"></i><span id=\"'+t+'-al\" class=\"'+n+'label\">'+e.encode(e.state.get(\"text\"))+\"</span></div>\"},bindStates:function(){function e(e){t.classes.toggle(\"checked\",e),t.aria(\"checked\",e)}var t=this;return t.state.on(\"change:text\",function(e){t.getEl(\"al\").firstChild.data=t.translate(e.value)}),t.state.on(\"change:checked change:value\",function(n){t.fire(\"change\"),e(n.value)}),t.state.on(\"change:icon\",function(e){var n=e.value,i=t.classPrefix;if(void 0===n)return t.settings.icon;t.settings.icon=n,n=n?i+\"ico \"+i+\"i-\"+t.settings.icon:\"\";var r=t.getEl().firstChild,o=r.getElementsByTagName(\"i\")[0];n?(o&&o==r.firstChild||(o=document.createElement(\"i\"),r.insertBefore(o,r.firstChild)),o.className=n):o&&r.removeChild(o)}),t.state.get(\"checked\")&&e(!0),t._super()}})}),n(yt,[Pe,xe,pe,f,R,h],function(e,t,n,i,r,o){return e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.classes.add(\"combobox\"),t.subinput=!0,t.ariaTarget=\"inp\",e.menu=e.menu||e.values,e.menu&&(e.icon=\"caret\"),t.on(\"click\",function(n){var r=n.target,o=t.getEl();if(i.contains(o,r)||r==o)for(;r&&r!=o;)r.id&&-1!=r.id.indexOf(\"-open\")&&(t.fire(\"action\"),e.menu&&(t.showMenu(),n.aria&&t.menu.items()[0].focus())),r=r.parentNode}),t.on(\"keydown\",function(e){var n;13==e.keyCode&&\"INPUT\"===e.target.nodeName&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire(\"submit\",{data:n.toJSON()}))}),t.on(\"keyup\",function(e){if(\"INPUT\"==e.target.nodeName){var n=t.state.get(\"value\"),i=e.target.value;i!==n&&(t.state.set(\"value\",i),t.fire(\"autocomplete\",e))}}),t.on(\"mouseover\",function(e){var n=t.tooltip().moveTo(-65535);if(t.statusLevel()&&-1!==e.target.className.indexOf(t.classPrefix+\"status\")){var i=t.statusMessage()||\"Ok\",r=n.text(i).show().testMoveRel(e.target,[\"bc-tc\",\"bc-tl\",\"bc-tr\"]);n.classes.toggle(\"tooltip-n\",\"bc-tc\"==r),n.classes.toggle(\"tooltip-nw\",\"bc-tl\"==r),n.classes.toggle(\"tooltip-ne\",\"bc-tr\"==r),n.moveRel(e.target,r)}})},statusLevel:function(e){return arguments.length>0&&this.state.set(\"statusLevel\",e),this.state.get(\"statusLevel\")},statusMessage:function(e){return arguments.length>0&&this.state.set(\"statusMessage\",e),this.state.get(\"statusMessage\")},showMenu:function(){var e,n=this;n.menu||((e=n.settings.menu||[]).length?e={type:\"menu\",items:e}:e.type=e.type||\"menu\",n.menu=t.create(e).parent(n).renderTo(n.getContainerElm()),n.fire(\"createmenu\"),n.menu.reflow(),n.menu.on(\"cancel\",function(e){e.control===n.menu&&n.focus()}),n.menu.on(\"show hide\",function(e){e.control.items().each(function(e){e.active(e.value()==n.value())})}).fire(\"show\"),n.menu.on(\"select\",function(e){n.value(e.control.value())}),n.on(\"focusin\",function(e){\"INPUT\"==e.target.tagName.toUpperCase()&&n.menu.hide()}),n.aria(\"expanded\",!0)),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?[\"br-tr\",\"tr-br\"]:[\"bl-tl\",\"tl-bl\"])},focus:function(){this.getEl(\"inp\").focus()},repaint:function(){var e,t,r=this,o=r.getEl(),a=r.getEl(\"open\"),s=r.layoutRect(),l=0,u=o.firstChild;r.statusLevel()&&\"none\"!==r.statusLevel()&&(l=parseInt(n.getRuntimeStyle(u,\"padding-right\"),10)-parseInt(n.getRuntimeStyle(u,\"padding-left\"),10)),e=a?s.w-n.getSize(a).width-10:s.w-10;var c=document;return c.all&&(!c.documentMode||c.documentMode<=8)&&(t=r.layoutRect().h-2+\"px\"),i(u).css({width:e-l,lineHeight:t}),r._super(),r},postRender:function(){var e=this;return i(this.getEl(\"inp\")).on(\"change\",function(t){e.state.set(\"value\",t.target.value),e.fire(\"change\",t)}),e._super()},renderHtml:function(){var e,t,n,i=this,r=i._id,o=i.settings,a=i.classPrefix,s=i.state.get(\"value\")||\"\",l=\"\",u=\"\";return\"spellcheck\"in o&&(u+=' spellcheck=\"'+o.spellcheck+'\"'),o.maxLength&&(u+=' maxlength=\"'+o.maxLength+'\"'),o.size&&(u+=' size=\"'+o.size+'\"'),o.subtype&&(u+=' type=\"'+o.subtype+'\"'),n='<i id=\"'+r+'-status\" class=\"mce-status mce-ico\" style=\"display: none\"></i>',i.disabled()&&(u+=' disabled=\"disabled\"'),(e=o.icon)&&\"caret\"!=e&&(e=a+\"ico \"+a+\"i-\"+o.icon),t=i.state.get(\"text\"),(e||t)&&(l='<div id=\"'+r+'-open\" class=\"'+a+\"btn \"+a+'open\" tabIndex=\"-1\" role=\"button\"><button id=\"'+r+'-action\" type=\"button\" hidefocus=\"1\" tabindex=\"-1\">'+(\"caret\"!=e?'<i class=\"'+e+'\"></i>':'<i class=\"'+a+'caret\"></i>')+(t?(e?\" \":\"\")+t:\"\")+\"</button></div>\",i.classes.add(\"has-open\")),'<div id=\"'+r+'\" class=\"'+i.classes+'\"><input id=\"'+r+'-inp\" class=\"'+a+'textbox\" value=\"'+i.encode(s,!1)+'\" hidefocus=\"1\"'+u+' placeholder=\"'+i.encode(o.placeholder)+'\" />'+n+l+\"</div>\"},value:function(e){return arguments.length?(this.state.set(\"value\",e),this):(this.state.get(\"rendered\")&&this.state.set(\"value\",this.getEl(\"inp\").value),this.state.get(\"value\"))},showAutoComplete:function(e,n){var i=this;if(0!==e.length){var r=function(e,t){return function(){i.fire(\"selectitem\",{title:t,value:e})}};i.menu?i.menu.items().remove():i.menu=t.create({type:\"menu\",classes:\"combobox-menu\",layout:\"flow\"}).parent(i).renderTo(),o.each(e,function(e){i.menu.add({text:e.title,url:e.previewUrl,match:n,classes:\"menu-item-ellipsis\",onclick:r(e.value,e.title)})}),i.menu.renderNew(),i.hideMenu(),i.menu.on(\"cancel\",function(e){e.control.parent()===i.menu&&(e.stopPropagation(),i.focus(),i.hideMenu())}),i.menu.on(\"select\",function(){i.focus()});var a=i.layoutRect().w;i.menu.layoutRect({w:a,minW:0,maxW:a}),i.menu.reflow(),i.menu.show(),i.menu.moveRel(i.getEl(),i.isRtl()?[\"br-tr\",\"tr-br\"]:[\"bl-tl\",\"tl-bl\"])}else i.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var e=this;e.state.on(\"change:value\",function(t){e.getEl(\"inp\").value!=t.value&&(e.getEl(\"inp\").value=t.value)}),e.state.on(\"change:disabled\",function(t){e.getEl(\"inp\").disabled=t.value}),e.state.on(\"change:statusLevel\",function(t){var i=e.getEl(\"status\"),r=e.classPrefix,o=t.value;n.css(i,\"display\",\"none\"===o?\"none\":\"\"),n.toggleClass(i,r+\"i-checkmark\",\"ok\"===o),n.toggleClass(i,r+\"i-warning\",\"warn\"===o),n.toggleClass(i,r+\"i-error\",\"error\"===o),e.classes.toggle(\"has-status\",\"none\"!==o),e.repaint()}),n.on(e.getEl(\"status\"),\"mouseleave\",function(){e.tooltip().hide()}),e.on(\"cancel\",function(t){e.menu&&e.menu.visible()&&(t.stopPropagation(),e.hideMenu())});var t=function(e,t){t&&t.items().length>0&&t.items().eq(e)[0].focus()};return e.on(\"keydown\",function(n){var i=n.keyCode;\"INPUT\"===n.target.nodeName&&(i===r.DOWN?(n.preventDefault(),e.fire(\"autocomplete\"),t(0,e.menu)):i===r.UP&&(n.preventDefault(),t(-1,e.menu)))}),e._super()},remove:function(){i(this.getEl(\"inp\")).off(),this.menu&&this.menu.remove(),this._super()}})}),n(xt,[yt],function(e){return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon=\"none\"),t._super(e),t.classes.add(\"colorbox\"),t.on(\"change keyup postrender\",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl(\"open\"),i=t?t.getElementsByTagName(\"i\")[0]:null;if(i)try{i.style.background=e}catch(n){}},bindStates:function(){var e=this;return e.state.on(\"change:value\",function(t){e.state.get(\"rendered\")&&e.repaintColor(t.value)}),e._super()}})}),n(bt,[gt,ke],function(e,t){return e.extend({showPanel:function(){var e=this,n=e.settings;if(e.active(!0),e.panel)e.panel.show();else{var i=n.panel;i.type&&(i={layout:\"grid\",items:i}),i.role=i.role||\"dialog\",i.popover=!0,i.autohide=!0,i.ariaRoot=!0,e.panel=new t(i).on(\"hide\",function(){e.active(!1)}).on(\"cancel\",function(t){t.stopPropagation(),e.focus(),e.hidePanel()}).parent(e).renderTo(e.getContainerElm()),e.panel.fire(\"show\"),e.panel.reflow()}e.panel.moveRel(e.getEl(),n.popoverAlign||(e.isRtl()?[\"bc-tr\",\"bc-tc\"]:[\"bc-tl\",\"bc-tc\"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var e=this;return e.aria(\"haspopup\",!0),e.on(\"click\",function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))}),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),n(_t,[bt,x],function(e,t){var n=t.DOM;return e.extend({init:function(e){this._super(e),this.classes.add(\"colorbutton\")},color:function(e){return e?(this._color=e,this.getEl(\"preview\").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl(\"preview\").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.state.get(\"text\"),r=e.settings.icon?n+\"ico \"+n+\"i-\"+e.settings.icon:\"\",o=e.settings.image?\" style=\\\"background-image: url('\"+e.settings.image+\"')\\\"\":\"\",a=\"\";return i&&(e.classes.add(\"btn-has-text\"),a='<span class=\"'+n+'txt\">'+e.encode(i)+\"</span>\"),'<div id=\"'+t+'\" class=\"'+e.classes+'\" role=\"button\" tabindex=\"-1\" aria-haspopup=\"true\"><button role=\"presentation\" hidefocus=\"1\" type=\"button\" tabindex=\"-1\">'+(r?'<i class=\"'+r+'\"'+o+\"></i>\":\"\")+'<span id=\"'+t+'-preview\" class=\"'+n+'preview\"></span>'+a+'</button><button type=\"button\" class=\"'+n+'open\" hidefocus=\"1\" tabindex=\"-1\"> <i class=\"'+n+'caret\"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on(\"click\",function(i){i.aria&&\"down\"==i.aria.key||i.control!=e||n.getParent(i.target,\".\"+e.classPrefix+\"open\")||(i.stopImmediatePropagation(),t.call(e,i))}),delete e.settings.onclick,e._super()}})}),n(wt,[],function(){var e=Math.min,t=Math.max,n=Math.round;return function(i){function r(i,r,o){var a,c,d,h;if(i=(parseInt(i,10)||0)%360,r=parseInt(r,10)/100,o=parseInt(o,10)/100,r=t(0,e(r,1)),o=t(0,e(o,1)),0!==r){switch(a=i/60,d=(c=o*r)*(1-Math.abs(a%2-1)),h=o-c,Math.floor(a)){case 0:s=c,l=d,u=0;break;case 1:s=d,l=c,u=0;break;case 2:s=0,l=c,u=d;break;case 3:s=0,l=d,u=c;break;case 4:s=d,l=0,u=c;break;case 5:s=c,l=0,u=d;break;default:s=l=u=0}s=n(255*(s+h)),l=n(255*(l+h)),u=n(255*(u+h))}else s=l=u=n(255*o)}function o(e){var t;return\"object\"==typeof e?\"r\"in e?(s=e.r,l=e.g,u=e.b):\"v\"in e&&r(e.h,e.s,e.v):(t=/rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)[^\\)]*\\)/gi.exec(e))?(s=parseInt(t[1],10),l=parseInt(t[2],10),u=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(s=parseInt(t[1],16),l=parseInt(t[2],16),u=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(s=parseInt(t[1]+t[1],16),l=parseInt(t[2]+t[2],16),u=parseInt(t[3]+t[3],16)),s=s<0?0:s>255?255:s,l=l<0?0:l>255?255:l,u=u<0?0:u>255?255:u,a}var a=this,s=0,l=0,u=0;i&&o(i),a.toRgb=function(){return{r:s,g:l,b:u}},a.toHsv=function(){return function(i,r,o){var a,s,l,u;return a=0,s=0,(l=e(i/=255,e(r/=255,o/=255)))==(u=t(i,t(r,o)))?{h:0,s:0,v:100*(s=l)}:(a=(u-l)/u,s=u,{h:n(60*((i==l?3:o==l?1:5)-(i==l?r-o:o==l?i-r:o-i)/(u-l))),s:n(100*a),v:n(100*s)})}(s,l,u)},a.toHex=function(){function e(e){return(e=parseInt(e,10).toString(16)).length>1?e:\"0\"+e}return\"#\"+e(s)+e(l)+e(u)},a.parse=o}}),n(St,[Pe,we,pe,wt],function(e,t,n,i){return e.extend({Defaults:{classes:\"widget colorpicker\"},init:function(e){this._super(e)},postRender:function(){function e(e,t){var i,r,o=n.getPos(e);return i=t.pageX-o.x,r=t.pageY-o.y,{x:i=Math.max(0,Math.min(i/e.clientWidth,1)),y:r=Math.max(0,Math.min(r/e.clientHeight,1))}}function r(e,t){n.css(u,{top:(360-e.h)/360*100+\"%\"}),t||n.css(d,{left:e.s+\"%\",top:100-e.v+\"%\"}),c.style.background=new i({s:100,v:100,h:e.h}).toHex(),h.color().parse({s:e.s,v:e.v,h:e.h})}function o(t){var n;n=e(c,t),s.s=100*n.x,s.v=100*(1-n.y),r(s),h.fire(\"change\")}function a(t){var n;n=e(l,t),(s=f.toHsv()).h=360*(1-n.y),r(s,!0),h.fire(\"change\")}var s,l,u,c,d,h=this,f=h.color();l=h.getEl(\"h\"),u=h.getEl(\"hp\"),c=h.getEl(\"sv\"),d=h.getEl(\"svp\"),h._repaint=function(){r(s=f.toHsv())},h._super(),h._svdraghelper=new t(h._id+\"-sv\",{start:o,drag:o}),h._hdraghelper=new t(h._id+\"-h\",{start:a,drag:a}),h._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var t=this;return arguments.length?(t.color().parse(e),void(t._rendered&&t._repaint())):t.color().toHex()},color:function(){return this._color||(this._color=new i),this._color},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=\"#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000\";return e='<div id=\"'+n+'-h\" class=\"'+i+'colorpicker-h\" style=\"background: -ms-linear-gradient(top,'+r+\");background: linear-gradient(to bottom,\"+r+');\">'+function(){var e,t,n,o,a=\"\";for(n=\"filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=\",e=0,t=(o=r.split(\",\")).length-1;e<t;e++)a+='<div class=\"'+i+'colorpicker-h-chunk\" style=\"height:'+100/t+\"%;\"+n+o[e]+\",endColorstr=\"+o[e+1]+\");-ms-\"+n+o[e]+\",endColorstr=\"+o[e+1]+')\"></div>';return a}()+'<div id=\"'+n+'-hp\" class=\"'+i+'colorpicker-h-marker\"></div></div>','<div id=\"'+n+'\" class=\"'+t.classes+'\"><div id=\"'+n+'-sv\" class=\"'+i+'colorpicker-sv\"><div class=\"'+i+'colorpicker-overlay1\"><div class=\"'+i+'colorpicker-overlay2\"><div id=\"'+n+'-svp\" class=\"'+i+'colorpicker-selector1\"><div class=\"'+i+'colorpicker-selector2\"></div></div></div></div></div>'+e+\"</div>\"}})}),n(Ct,[Pe],function(e){return e.extend({init:function(e){var t=this;e.delimiter||(e.delimiter=\"»\"),t._super(e),t.classes.add(\"path\"),t.canFocus=!0,t.on(\"click\",function(e){var n;(n=e.target.getAttribute(\"data-index\"))&&t.fire(\"select\",{value:t.row()[n],index:n})}),t.row(t.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(e){return arguments.length?(this.state.set(\"row\",e),this):this.state.get(\"row\")},renderHtml:function(){var e=this;return'<div id=\"'+e._id+'\" class=\"'+e.classes+'\">'+e._getDataPathHtml(e.state.get(\"row\"))+\"</div>\"},bindStates:function(){var e=this;return e.state.on(\"change:row\",function(t){e.innerHtml(e._getDataPathHtml(t.value))}),e._super()},_getDataPathHtml:function(e){var t,n,i=this,r=e||[],o=\"\",a=i.classPrefix;for(t=0,n=r.length;t<n;t++)o+=(t>0?'<div class=\"'+a+'divider\" aria-hidden=\"true\"> '+i.settings.delimiter+\" </div>\":\"\")+'<div role=\"button\" class=\"'+a+\"path-item\"+(t==n-1?\" \"+a+\"last\":\"\")+'\" data-index=\"'+t+'\" tabindex=\"-1\" id=\"'+i._id+\"-\"+t+'\" aria-level=\"'+(t+1)+'\">'+r[t].name+\"</div>\";return o||(o='<div class=\"'+a+'path-item\"> </div>'),o}})}),n(Mt,[Ct],function(e){return e.extend({postRender:function(){function e(e){if(1===e.nodeType){if(\"BR\"==e.nodeName||e.getAttribute(\"data-mce-bogus\"))return!0;if(\"bookmark\"===e.getAttribute(\"data-mce-type\"))return!0}return!1}var t=this,n=t.settings.editor;return!1!==n.settings.elementpath&&(t.on(\"select\",function(e){n.focus(),n.selection.select(this.row()[e.index].element),n.nodeChanged()}),n.on(\"nodeChange\",function(i){for(var r=[],o=i.parents,a=o.length;a--;)if(1==o[a].nodeType&&!e(o[a])){var s=n.fire(\"ResolveName\",{name:o[a].nodeName.toLowerCase(),target:o[a]});if(s.isDefaultPrevented()||r.push({name:s.name,element:o[a]}),s.isPropagationStopped())break}t.row(r)})),t._super()}})}),n(Tt,[_e],function(e){return e.extend({Defaults:{layout:\"flex\",align:\"center\",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add(\"formitem\"),t.preRender(e),'<div id=\"'+e._id+'\" class=\"'+e.classes+'\" hidefocus=\"1\" tabindex=\"-1\">'+(e.settings.title?'<div id=\"'+e._id+'-title\" class=\"'+n+'title\">'+e.settings.title+\"</div>\":\"\")+'<div id=\"'+e._id+'-body\" class=\"'+e.bodyClasses+'\">'+(e.settings.html||\"\")+t.renderHtml(e)+\"</div></div>\"}})}),n(kt,[_e,Tt,h],function(e,t,n){return e.extend({Defaults:{containerCls:\"form\",layout:\"flex\",direction:\"column\",align:\"stretch\",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,i=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:\"flex\",autoResize:\"overflow\",defaults:{flex:1}}),i.each(function(i){var r,o=i.settings.label;o&&((r=new t(n.extend({items:{type:\"label\",id:i._id+\"-l\",text:o,flex:0,forId:i._id,disabled:i.disabled()}},e.settings.formItemDefaults))).type=\"formitem\",i.aria(\"labelledby\",i._id+\"-l\"),void 0===i.settings.flex&&(i.settings.flex=1),e.replace(i,r),r.add(i))})},submit:function(){return this.fire(\"submit\",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.fromJSON(e.settings.data)},bindStates:function(){function e(){var e,n,i=0,r=[];if(!1!==t.settings.labelGapCalc)for((\"children\"==t.settings.labelGapCalc?t.find(\"formitem\"):t.items()).filter(\"formitem\").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;i=n>i?n:i,r.push(t)}),n=t.settings.labelGap||0,e=r.length;e--;)r[e].settings.minWidth=i+n}var t=this;t._super(),t.on(\"show\",e),e()}})}),n(At,[kt],function(e){return e.extend({Defaults:{containerCls:\"fieldset\",layout:\"flex\",direction:\"column\",align:\"stretch\",flex:1,padding:\"25 15 5 15\",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id=\"'+e._id+'\" class=\"'+e.classes+'\" hidefocus=\"1\" tabindex=\"-1\">'+(e.settings.title?'<legend id=\"'+e._id+'-title\" class=\"'+n+'fieldset-title\">'+e.settings.title+\"</legend>\":\"\")+'<div id=\"'+e._id+'-body\" class=\"'+e.bodyClasses+'\">'+(e.settings.html||\"\")+t.renderHtml(e)+\"</div></fieldset>\"}})}),n(It,[x,B,d,tt,h,w],function(e,t,n,i,r,o){var a=r.trim,s=function(e,t,n,i,r){return{type:e,title:t,url:n,level:i,attach:r}},l=function(t,n){return e.DOM.select(t,n)},u=function(e){return e.innerText||e.textContent},c=function(e){return function(e){return e&&\"A\"===e.nodeName&&(e.id||e.name)}(e)&&h(e)},d=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},h=function(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&\"inherit\"!==t)return o.isContentEditableTrue(e)}return!1}(e)&&!o.isContentEditableFalse(e)},f=function(e){return d(e)&&h(e)},p=function(e){var t=function(e){return e.id?e.id:i.uuid(\"h\")}(e);return s(\"header\",u(e),\"#\"+t,function(e){return d(e)?parseInt(e.nodeName.substr(1),10):0}(e),function(){e.id=t})},g=function(e){var n=e.id||e.name,i=u(e);return s(\"anchor\",i||\"#\"+n,\"#\"+n,0,t.noop)},m=function(e){return a(e.title).length>0};return{find:function(e){var t=function(e){return l(\"h1,h2,h3,h4,h5,h6,a:not([href])\",e)}(e);return n.filter(function(e){return n.map(n.filter(e,f),p)}(t).concat(function(e){return n.map(n.filter(e,c),g)}(t)),m)}}}),n(Dt,[yt,h,d,B,R,It],function(e,t,n,i,r,o){var a={},s=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},l=function(e){return t.map(e,s)},u=function(e,t){return{title:e,value:{title:e,url:t,attach:i.noop}}},c=function(e,t,n){var i=t in e?e[t]:n;return!1===i?null:i},d=function(e,r,o,s){var d={title:\"-\"},h=function(e){var a=n.filter(e[o],function(e){return function(e,t){return!n.find(t,function(t){return t.url===e})}(e,r)});return t.map(a,function(e){return{title:e,value:{title:e,url:e,attach:i.noop}}})},p=function(e){var t=n.filter(r,function(t){return t.type==e});return l(t)};return!1===s.typeahead_urls?[]:\"file\"===o?function(e){return n.reduce(e,function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(d,t)},[])}([f(e,h(a)),f(e,p(\"header\")),f(e,function(){var e=p(\"anchor\"),t=c(s,\"anchor_top\",\"#top\"),n=c(s,\"anchor_bottom\",\"#bottom\");return null!==t&&e.unshift(u(\"<top>\",t)),null!==n&&e.push(u(\"<bottom>\",n)),e}())]):f(e,h(a))},h=function(e,t){var i=a[t];/^https?/.test(e)&&(i?-1===n.indexOf(i,e)&&(a[t]=i.slice(0,5).concat(e)):a[t]=[e])},f=function(e,n){var i=e.toLowerCase(),r=t.grep(n,function(e){return-1!==e.title.toLowerCase().indexOf(i)});return 1===r.length&&r[0].title===e?[]:r},p=function(e,t,n,i){var r=function(r){var a=o.find(n),s=d(r,a,i,t);e.showAutoComplete(s,r)};e.on(\"autocomplete\",function(){r(e.value())}),e.on(\"selectitem\",function(t){var n=t.value;e.value(n.url);var r=function(e){var t=e.title;return t.raw?t.raw:t}(n);e.fire(\"change\",\"image\"===i?{meta:{alt:r,attach:n.attach}}:{meta:{text:r,attach:n.attach}}),e.focus()}),e.on(\"click\",function(t){0===e.value().length&&\"INPUT\"===t.target.nodeName&&r(\"\")}),e.on(\"PostRender\",function(){e.getRoot().on(\"submit\",function(t){t.isDefaultPrevented()||h(e.value(),i)})})};return e.extend({init:function(e){var n,i,r,o=this,a=tinymce.activeEditor,s=a.settings,l=e.filetype;e.spellcheck=!1,(r=s.file_picker_types||s.file_browser_callback_types)&&(r=t.makeMap(r,/[, ]/)),r&&!r[l]||(!(i=s.file_picker_callback)||r&&!r[l]?!(i=s.file_browser_callback)||r&&!r[l]||(n=function(){i(o.getEl(\"inp\").id,o.value(),l,window)}):n=function(){var e=o.fire(\"beforecall\").meta;e=t.extend({filetype:l},e),i.call(a,function(e,t){o.value(e).fire(\"change\",{meta:t})},o.value(),e)}),n&&(e.icon=\"browse\",e.onaction=n),o._super(e),p(o,s,a.getBody(),l),function(e,t,n){var i=t.filepicker_validator_handler;if(i){var r=function(t){return 0===t.length?void e.statusLevel(\"none\"):void i({url:t,type:n},function(t){var n=function(e){var t=e.status,n=e.message;return\"valid\"===t?{status:\"ok\",message:n}:\"unknown\"===t||\"invalid\"===t?{status:\"warn\",message:n}:{status:\"none\",message:\"\"}}(t);e.statusMessage(n.message),e.statusLevel(n.status)})};e.state.on(\"change:value\",function(e){r(e.value)})}}(o,s,l)}})}),n(Nt,[pt],function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(\":visible\").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),n(Pt,[pt],function(e){return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,u,c,d,h,f,p,g,m,v,y,x,b,_,w,S,C,M,T,k,A,I,D,N,P,L,E,R,O,B,z=[],F=Math.max,V=Math.min;for(i=e.items().filter(\":visible\"),r=e.layoutRect(),o=e.paddingBox,a=e.settings,h=e.isRtl()?a.direction||\"row-reversed\":a.direction,s=a.align,l=e.isRtl()?a.pack||\"end\":a.pack,u=a.spacing||0,\"row-reversed\"!=h&&\"column-reverse\"!=h||(i=i.set(i.toArray().reverse()),h=h.split(\"-\")[0]),\"column\"==h?(C=\"y\",w=\"h\",S=\"minH\",M=\"maxH\",k=\"innerH\",T=\"top\",A=\"deltaH\",I=\"contentH\",E=\"left\",P=\"w\",D=\"x\",N=\"innerW\",L=\"minW\",R=\"right\",O=\"deltaW\",B=\"contentW\"):(C=\"x\",w=\"w\",S=\"minW\",M=\"maxW\",k=\"innerW\",T=\"left\",A=\"deltaW\",I=\"contentW\",E=\"top\",P=\"h\",D=\"y\",N=\"innerH\",L=\"minH\",R=\"bottom\",O=\"deltaH\",B=\"contentH\"),d=r[k]-o[T]-o[T],_=c=0,t=0,n=i.length;t<n;t++)p=(f=i[t]).layoutRect(),d-=t<n-1?u:0,(g=f.settings.flex)>0&&(c+=g,p[M]&&z.push(f),p.flex=g),d-=p[S],(m=o[E]+p[L]+o[R])>_&&(_=m);if((x={})[S]=d<0?r[S]-d+r[A]:r[k]-d+r[A],x[L]=_+r[O],x[I]=r[k]-d,x[B]=_,x.minW=V(x.minW,r.maxW),x.minH=V(x.minH,r.maxH),x.minW=F(x.minW,r.startMinWidth),x.minH=F(x.minH,r.startMinHeight),!r.autoResize||x.minW==r.minW&&x.minH==r.minH){for(y=d/c,t=0,n=z.length;t<n;t++)(m=(p=(f=z[t]).layoutRect())[S]+p.flex*y)>(v=p[M])?(d-=p[M]-p[S],c-=p.flex,p.flex=0,p.maxFlexSize=v):p.maxFlexSize=0;for(y=d/c,b=o[T],x={},0===c&&(\"end\"==l?b=d+o[T]:\"center\"==l?(b=Math.round(r[k]/2-(r[k]-d)/2)+o[T])<0&&(b=o[T]):\"justify\"==l&&(b=o[T],u=Math.floor(d/(i.length-1)))),x[D]=o[E],t=0,n=i.length;t<n;t++)m=(p=(f=i[t]).layoutRect()).maxFlexSize||p[S],\"center\"===s?x[D]=Math.round(r[N]/2-p[P]/2):\"stretch\"===s?(x[P]=F(p[L]||0,r[N]-o[E]-o[R]),x[D]=o[E]):\"end\"===s&&(x[D]=r[N]-p[P]-o.top),p.flex>0&&(m+=p.flex*y),x[w]=m,x[C]=b,f.layoutRect(x),f.recalc&&f.recalc(),b+=m+u}else if(x.w=x.minW,x.h=x.minH,e.layoutRect(x),this.recalc(e),null===e._lastRect){var H=e.parent();H&&(H._lastRect=null,H.recalc())}}})}),n(Lt,[ft],function(e){return e.extend({Defaults:{containerClass:\"flow-layout\",controlClass:\"flow-layout-item\",endClass:\"break\"},recalc:function(e){e.items().filter(\":visible\").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})}),n(Et,[x],function(e){var n=function(e,t,n){for(;n!==t;){if(n.style[e])return n.style[e];n=n.parentNode}return\"\"},i=function(t,n){return e.DOM.getStyle(n,t,!0)};return{getFontSize:function(e,t){var r=n(\"fontSize\",e,t);return\"\"!==r?r:i(\"fontSize\",t)},getFontFamily:function(e,r){var o=n(\"fontFamily\",e,r),a=\"\"!==o?o:i(\"fontFamily\",r);return a!==t?function(e){return e.replace(/[\\'\\\"]/g,\"\").replace(/,\\s+/g,\",\")}(a):\"\"},toPt:function(e){return/[0-9.]+px$/.test(e)?Math.round(72*parseInt(e,10)/96)+\"pt\":e}}}),n(Rt,[ye,Pe,ke,h,d,x,at,l,Et],function(e,t,n,i,r,o,a,s,l){function u(t){t.on(\"ScriptsLoaded\",function(){t.rtl&&(e.rtl=!0)})}function c(e){function t(t,n){return function(){var i=this;e.on(\"nodeChange\",function(r){var o=e.formatter,a=null;d(r.parents,function(e){if(d(t,function(t){if(n?o.matchNode(e,n,{value:t.value})&&(a=t.value):o.matchNode(e,t.value)&&(a=t.value),a)return!1}),a)return!1}),i.value(a)})}}function r(t){return function(){var n=this,i=function(e){return e?e.split(\",\")[0]:\"\"};e.on(\"nodeChange\",function(r){var o,a=null;o=l.getFontFamily(e.getBody(),r.element),d(t,function(e){e.value.toLowerCase()===o.toLowerCase()&&(a=e.value)}),d(t,function(e){a||i(e.value).toLowerCase()!==i(o).toLowerCase()||(a=e.value)}),n.value(a),!a&&o&&n.text(i(o))})}}function o(t){return function(){var n=this;e.on(\"nodeChange\",function(i){var r,o,a=null;r=l.getFontSize(e.getBody(),i.element),o=l.toPt(r),d(t,function(e){e.value===r?a=r:e.value===o&&(a=o)}),n.value(a),a||n.text(o)})}}function a(e){for(var t=(e=e.replace(/;$/,\"\").split(\";\")).length;t--;)e[t]=e[t].split(\"=\");return e}function s(t){return function(){var n=this;e.formatter?e.formatter.formatChanged(t,function(e){n.active(e)}):e.on(\"init\",function(){e.formatter.formatChanged(t,function(e){n.active(e)})})}}function u(t){return function(){function n(){return!!e.undoManager&&e.undoManager[\"redo\"==t?\"hasRedo\":\"hasUndo\"]()}var i=this;i.disabled(!n()),e.on(\"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode\",function(){i.disabled(e.readonly||!n())})}}function c(t){t.control&&(t=t.control.value()),t&&e.execCommand(\"mceToggleFormat\",!1,t)}function f(t){var n=t.length;return i.each(t,function(t){t.menu&&(t.hidden=0===f(t.menu));var i=t.format;i&&(t.hidden=!e.formatter.canApply(i)),t.hidden&&n--}),n}function p(t){var n=t.items().length;return t.items().each(function(t){t.menu&&t.visible(p(t.menu)>0),!t.menu&&t.settings.menu&&t.visible(f(t.settings.menu)>0);var i=t.settings.format;i&&t.visible(e.formatter.canApply(i)),t.visible()||n--}),n}var g;g=function(){var t=0,n=[],i=[{title:\"Headings\",items:[{title:\"Heading 1\",format:\"h1\"},{title:\"Heading 2\",format:\"h2\"},{title:\"Heading 3\",format:\"h3\"},{title:\"Heading 4\",format:\"h4\"},{title:\"Heading 5\",format:\"h5\"},{title:\"Heading 6\",format:\"h6\"}]},{title:\"Inline\",items:[{title:\"Bold\",icon:\"bold\",format:\"bold\"},{title:\"Italic\",icon:\"italic\",format:\"italic\"},{title:\"Underline\",icon:\"underline\",format:\"underline\"},{title:\"Strikethrough\",icon:\"strikethrough\",format:\"strikethrough\"},{title:\"Superscript\",icon:\"superscript\",format:\"superscript\"},{title:\"Subscript\",icon:\"subscript\",format:\"subscript\"},{title:\"Code\",icon:\"code\",format:\"code\"}]},{title:\"Blocks\",items:[{title:\"Paragraph\",format:\"p\"},{title:\"Blockquote\",format:\"blockquote\"},{title:\"Div\",format:\"div\"},{title:\"Pre\",format:\"pre\"}]},{title:\"Alignment\",items:[{title:\"Left\",icon:\"alignleft\",format:\"alignleft\"},{title:\"Center\",icon:\"aligncenter\",format:\"aligncenter\"},{title:\"Right\",icon:\"alignright\",format:\"alignright\"},{title:\"Justify\",icon:\"alignjustify\",format:\"alignjustify\"}]}];return e.on(\"init\",function(){d(n,function(t){e.formatter.register(t.name,t)})}),{type:\"menu\",items:function e(i){var r=[];if(i)return d(i,function(i){var o={text:i.title,icon:i.icon};if(i.items)o.menu=e(i.items);else{var a=i.format||\"custom\"+t++;i.format||(i.name=a,n.push(i)),o.format=a,o.cmd=i.cmd}r.push(o)}),r}(e.settings.style_formats_merge?e.settings.style_formats?i.concat(e.settings.style_formats):i:e.settings.style_formats||i),onPostRender:function(t){e.fire(\"renderFormatsMenu\",{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return e.formatter.getCssText(this.settings.format)},onPostRender:function(){var t=this;t.parent().on(\"show\",function(){var n,i;(n=t.settings.format)&&(t.disabled(!e.formatter.canApply(n)),t.active(e.formatter.match(n))),(i=t.settings.cmd)&&t.active(e.queryCommandState(i))})},onclick:function(){this.settings.format&&c(this.settings.format),this.settings.cmd&&e.execCommand(this.settings.cmd)}}}}(),d({bold:\"Bold\",italic:\"Italic\",underline:\"Underline\",strikethrough:\"Strikethrough\",subscript:\"Subscript\",superscript:\"Superscript\"},function(t,n){e.addButton(n,{tooltip:t,onPostRender:s(n),onclick:function(){c(n)}})}),d({outdent:[\"Decrease indent\",\"Outdent\"],indent:[\"Increase indent\",\"Indent\"],cut:[\"Cut\",\"Cut\"],copy:[\"Copy\",\"Copy\"],paste:[\"Paste\",\"Paste\"],help:[\"Help\",\"mceHelp\"],selectall:[\"Select all\",\"SelectAll\"],removeformat:[\"Clear formatting\",\"RemoveFormat\"],visualaid:[\"Visual aids\",\"mceToggleVisualAid\"],newdocument:[\"New document\",\"mceNewDocument\"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})}),d({blockquote:[\"Blockquote\",\"mceBlockQuote\"],subscript:[\"Subscript\",\"Subscript\"],superscript:[\"Superscript\",\"Superscript\"],alignleft:[\"Align left\",\"JustifyLeft\"],aligncenter:[\"Align center\",\"JustifyCenter\"],alignright:[\"Align right\",\"JustifyRight\"],alignjustify:[\"Justify\",\"JustifyFull\"],alignnone:[\"No alignment\",\"JustifyNone\"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1],onPostRender:s(n)})});var m=function(t){var n,r;if(\"string\"==typeof t)r=t.split(\" \");else if(i.isArray(t))return h(i.map(t,m));return n=i.grep(r,function(t){return\"|\"===t||t in e.menuItems}),i.map(n,function(t){return\"|\"===t?{text:\"-\"}:e.menuItems[t]})},v=function(t){var n=[{text:\"-\"}],r=i.grep(e.menuItems,function(e){return e.context===t});return i.each(r,function(e){\"before\"==e.separator&&n.push({text:\"|\"}),e.prependToContext?n.unshift(e):n.push(e),\"after\"==e.separator&&n.push({text:\"|\"})}),n};e.addButton(\"undo\",{tooltip:\"Undo\",onPostRender:u(\"undo\"),cmd:\"undo\"}),e.addButton(\"redo\",{tooltip:\"Redo\",onPostRender:u(\"redo\"),cmd:\"redo\"}),e.addMenuItem(\"newdocument\",{text:\"New document\",icon:\"newdocument\",cmd:\"mceNewDocument\"}),e.addMenuItem(\"undo\",{text:\"Undo\",icon:\"undo\",shortcut:\"Meta+Z\",onPostRender:u(\"undo\"),cmd:\"undo\"}),e.addMenuItem(\"redo\",{text:\"Redo\",icon:\"redo\",shortcut:\"Meta+Y\",onPostRender:u(\"redo\"),cmd:\"redo\"}),e.addMenuItem(\"visualaid\",{text:\"Visual aids\",selectable:!0,onPostRender:function(){var t=this;e.on(\"VisualAid\",function(e){t.active(e.hasVisual)}),t.active(e.hasVisual)},cmd:\"mceToggleVisualAid\"}),e.addButton(\"remove\",{tooltip:\"Remove\",icon:\"remove\",cmd:\"Delete\"}),e.addButton(\"insert\",{type:\"menubutton\",icon:\"insert\",menu:[],oncreatemenu:function(){this.menu.add(function(e){return function(e){var t=e;return t.length>0&&\"-\"===t[0].text&&(t=t.slice(1)),t.length>0&&\"-\"===t[t.length-1].text&&(t=t.slice(0,t.length-1)),t}(e.insert_button_items?m(e.insert_button_items):v(\"insert\"))}(e.settings)),this.menu.renderNew()}}),d({cut:[\"Cut\",\"Cut\",\"Meta+X\"],copy:[\"Copy\",\"Copy\",\"Meta+C\"],paste:[\"Paste\",\"Paste\",\"Meta+V\"],selectall:[\"Select all\",\"SelectAll\",\"Meta+A\"],bold:[\"Bold\",\"Bold\",\"Meta+B\"],italic:[\"Italic\",\"Italic\",\"Meta+I\"],underline:[\"Underline\",\"Underline\",\"Meta+U\"],strikethrough:[\"Strikethrough\",\"Strikethrough\"],subscript:[\"Subscript\",\"Subscript\"],superscript:[\"Superscript\",\"Superscript\"],removeformat:[\"Clear formatting\",\"RemoveFormat\"]},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})}),e.on(\"mousedown\",function(){n.hideAll()}),e.addButton(\"styleselect\",{type:\"menubutton\",text:\"Formats\",menu:g,onShowMenu:function(){e.settings.style_formats_autohide&&p(this.menu)}}),e.addButton(\"formatselect\",function(){var n=[],i=a(e.settings.block_formats||\"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre\");return d(i,function(t){n.push({text:t[0],value:t[1],textStyle:function(){return e.formatter.getCssText(t[1])}})}),{type:\"listbox\",text:i[0][0],values:n,fixedWidth:!0,onselect:c,onPostRender:t(n)}}),e.addButton(\"fontselect\",function(){var t=[],n=a(e.settings.font_formats||\"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats\");return d(n,function(e){t.push({text:{raw:e[0]},value:e[1],textStyle:-1==e[1].indexOf(\"dings\")?\"font-family:\"+e[1]:\"\"})}),{type:\"listbox\",text:\"Font Family\",tooltip:\"Font Family\",values:t,fixedWidth:!0,onPostRender:r(t),onselect:function(t){t.control.settings.value&&e.execCommand(\"FontName\",!1,t.control.settings.value)}}}),e.addButton(\"fontsizeselect\",function(){var t=[];return d((e.settings.fontsize_formats||\"8pt 10pt 12pt 14pt 18pt 24pt 36pt\").split(\" \"),function(e){var n=e,i=e,r=e.split(\"=\");r.length>1&&(n=r[0],i=r[1]),t.push({text:n,value:i})}),{type:\"listbox\",text:\"Font Sizes\",tooltip:\"Font Sizes\",values:t,fixedWidth:!0,onPostRender:o(t),onclick:function(t){t.control.settings.value&&e.execCommand(\"FontSize\",!1,t.control.settings.value)}}}),e.addMenuItem(\"formats\",{text:\"Formats\",menu:g})}var d=i.each,h=function(e){return r.reduce(e,function(e,t){return e.concat(t)},[])};a.on(\"AddEditor\",function(e){var t=e.editor;u(t),c(t),function(e){e.settings.ui_container&&(s.container=o.DOM.select(e.settings.ui_container)[0])}(t)}),e.translate=function(e){return a.translate(e)},t.tooltips=!s.iOS}),n(Ot,[pt],function(e){return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,u,c,d,h,f,p,g,m,v,y,x,b,_,w,S,C,M,T,k,A,I=[],D=[];t=e.settings,r=e.items().filter(\":visible\"),o=e.layoutRect(),i=t.columns||Math.ceil(Math.sqrt(r.length)),n=Math.ceil(r.length/i),y=t.spacingH||t.spacing||0,x=t.spacingV||t.spacing||0,b=t.alignH||t.align,_=t.alignV||t.align,m=e.paddingBox,A=\"reverseRows\"in t?t.reverseRows:e.isRtl(),b&&\"string\"==typeof b&&(b=[b]),_&&\"string\"==typeof _&&(_=[_]);for(d=0;d<i;d++)I.push(0);for(h=0;h<n;h++)D.push(0);for(h=0;h<n;h++)for(d=0;d<i&&(c=r[h*i+d]);d++)M=(u=c.layoutRect()).minH,I[d]=(C=u.minW)>I[d]?C:I[d],D[h]=M>D[h]?M:D[h];for(T=o.innerW-m.left-m.right,w=0,d=0;d<i;d++)w+=I[d]+(d>0?y:0),T-=(d>0?y:0)+I[d];for(k=o.innerH-m.top-m.bottom,S=0,h=0;h<n;h++)S+=D[h]+(h>0?x:0),k-=(h>0?x:0)+D[h];if(S+=m.top+m.bottom,(l={}).minW=(w+=m.left+m.right)+(o.w-o.innerW),l.minH=S+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW==o.minW&&l.minH==o.minH){var N;o.autoResize&&((l=e.layoutRect(l)).contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH),N=\"start\"==t.packV?0:k>0?Math.floor(k/n):0;var P=0,L=t.flexWidths;if(L)for(d=0;d<L.length;d++)P+=L[d];else P=i;var E=T/P;for(d=0;d<i;d++)I[d]+=L?L[d]*E:E;for(p=m.top,h=0;h<n;h++){for(f=m.left,s=D[h]+N,d=0;d<i&&(c=r[A?h*i+i-1-d:h*i+d]);d++)g=c.settings,u=c.layoutRect(),a=Math.max(I[d],u.startMinWidth),u.x=f,u.y=p,\"center\"==(v=g.alignH||(b?b[d]||b[0]:null))?u.x=f+a/2-u.w/2:\"right\"==v?u.x=f+a-u.w:\"stretch\"==v&&(u.w=a),\"center\"==(v=g.alignV||(_?_[d]||_[0]:null))?u.y=p+s/2-u.h/2:\"bottom\"==v?u.y=p+s-u.h:\"stretch\"==v&&(u.h=s),c.layoutRect(u),f+=a+y,c.recalc&&c.recalc();p+=s+x}}else if(l.w=l.minW,l.h=l.minH,e.layoutRect(l),this.recalc(e),null===e._lastRect){var R=e.parent();R&&(R._lastRect=null,R.recalc())}}})}),n(Bt,[Pe,s],function(e,t){return e.extend({renderHtml:function(){var e=this;return e.classes.add(\"iframe\"),e.canFocus=!1,'<iframe id=\"'+e._id+'\" class=\"'+e.classes+'\" tabindex=\"-1\" src=\"'+(e.settings.url||\"javascript:''\")+'\" frameborder=\"0\"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,n){var i=this,r=this.getEl().contentWindow.document.body;return r?(r.innerHTML=e,n&&n()):t.setTimeout(function(){i.html(e)}),this}})}),n(zt,[Pe],function(e){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add(\"widget\").add(\"infobox\"),t.canFocus=!1},severity:function(e){this.classes.remove(\"error\"),this.classes.remove(\"warning\"),this.classes.remove(\"success\"),this.classes.add(e)},help:function(e){this.state.set(\"help\",e)},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id=\"'+e._id+'\" class=\"'+e.classes+'\"><div id=\"'+e._id+'-body\">'+e.encode(e.state.get(\"text\"))+'<button role=\"button\" tabindex=\"-1\"><i class=\"'+t+\"ico \"+t+'i-help\"></i></button></div></div>'},bindStates:function(){var e=this;return e.state.on(\"change:text\",function(t){e.getEl(\"body\").firstChild.data=e.encode(t.value),e.state.get(\"rendered\")&&e.updateLayoutRect()}),e.state.on(\"change:help\",function(t){e.classes.toggle(\"has-help\",t.value),e.state.get(\"rendered\")&&e.updateLayoutRect()}),e._super()}})}),n(Ft,[Pe,pe],function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add(\"widget\").add(\"label\"),t.canFocus=!1,e.multiline&&t.classes.add(\"autoscroll\"),e.strong&&t.classes.add(\"strong\")},initLayoutRect:function(){var e=this,n=e._super();return e.settings.multiline&&(t.getSize(e.getEl()).width>n.maxW&&(n.minW=n.maxW,e.classes.add(\"multiline\")),e.getEl().style.width=n.minW+\"px\",n.startMinH=n.h=n.minH=Math.min(n.maxH,t.getSize(e.getEl()).height)),n},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+\"px\"),e._super()},severity:function(e){this.classes.remove(\"error\"),this.classes.remove(\"warning\"),this.classes.remove(\"success\"),this.classes.add(e)},renderHtml:function(){var e,t,n=this,i=n.settings.forId;return!i&&(t=n.settings.forName)&&(e=n.getRoot().find(\"#\"+t)[0])&&(i=e._id),i?'<label id=\"'+n._id+'\" class=\"'+n.classes+'\"'+(i?' for=\"'+i+'\"':\"\")+\">\"+n.encode(n.state.get(\"text\"))+\"</label>\":'<span id=\"'+n._id+'\" class=\"'+n.classes+'\">'+n.encode(n.state.get(\"text\"))+\"</span>\"},bindStates:function(){var e=this;return e.state.on(\"change:text\",function(t){e.innerHtml(e.encode(t.value)),e.state.get(\"rendered\")&&e.updateLayoutRect()}),e._super()}})}),n(Vt,[_e],function(e){return e.extend({Defaults:{role:\"toolbar\",layout:\"flow\"},init:function(e){this._super(e),this.classes.add(\"toolbar\")},postRender:function(){return this.items().each(function(e){e.classes.add(\"toolbar-item\")}),this._super()}})}),n(Ht,[Vt],function(e){return e.extend({Defaults:{role:\"menubar\",containerCls:\"menubar\",ariaRoot:!0,defaults:{type:\"menubutton\"}}})}),n(Wt,[gt,xe,Ht],function(e,t,n){var i=e.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add(\"menubtn\"),e.fixedWidth&&t.classes.add(\"fixed-width\"),t.aria(\"haspopup\",!0),t.state.set(\"menu\",e.menu||t.render())},showMenu:function(e){var n,i=this;return i.menu&&i.menu.visible()&&!1!==e?i.hideMenu():(i.menu||((n=i.state.get(\"menu\")||[]).length?n={type:\"menu\",items:n}:n.type=n.type||\"menu\",i.menu=n.renderTo?n.parent(i).show().renderTo():t.create(n).parent(i).renderTo(),i.fire(\"createmenu\"),i.menu.reflow(),i.menu.on(\"cancel\",function(e){e.control.parent()===i.menu&&(e.stopPropagation(),i.focus(),i.hideMenu())}),i.menu.on(\"select\",function(){i.focus()}),i.menu.on(\"show hide\",function(e){e.control==i.menu&&i.activeMenu(\"show\"==e.type),i.aria(\"expanded\",\"show\"==e.type)}).fire(\"show\")),i.menu.show(),i.menu.layoutRect({w:i.layoutRect().w}),i.menu.moveRel(i.getEl(),i.isRtl()?[\"br-tr\",\"tr-br\"]:[\"bl-tl\",\"tl-bl\"]),void i.fire(\"showmenu\"))},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide())},activeMenu:function(e){this.classes.toggle(\"active\",e)},renderHtml:function(){var e,t=this,i=t._id,r=t.classPrefix,o=t.settings.icon,a=t.state.get(\"text\"),s=\"\";return(e=t.settings.image)?(o=\"none\",\"string\"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=\" style=\\\"background-image: url('\"+e+\"')\\\"\"):e=\"\",a&&(t.classes.add(\"btn-has-text\"),s='<span class=\"'+r+'txt\">'+t.encode(a)+\"</span>\"),o=t.settings.icon?r+\"ico \"+r+\"i-\"+o:\"\",t.aria(\"role\",t.parent()instanceof n?\"menuitem\":\"button\"),'<div id=\"'+i+'\" class=\"'+t.classes+'\" tabindex=\"-1\" aria-labelledby=\"'+i+'\"><button id=\"'+i+'-open\" role=\"presentation\" type=\"button\" tabindex=\"-1\">'+(o?'<i class=\"'+o+'\"'+e+\"></i>\":\"\")+s+' <i class=\"'+r+'caret\"></i></button></div>'},postRender:function(){var e=this;return e.on(\"click\",function(t){t.control===e&&function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}(t.target,e.getEl())&&(e.focus(),e.showMenu(!t.aria),t.aria&&e.menu.items().filter(\":visible\")[0].focus())}),e.on(\"mouseenter\",function(t){var n,r=t.control,o=e.parent();r&&o&&r instanceof i&&r.parent()==o&&(o.items().filter(\"MenuButton\").each(function(e){e.hideMenu&&e!=r&&(e.menu&&e.menu.visible()&&(n=!0),e.hideMenu())}),n&&(r.focus(),r.showMenu()))}),e._super()},bindStates:function(){var e=this;return e.state.on(\"change:menu\",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return i}),n(Gt,[Pe,xe,l,s],function(e,t,n,i){return e.extend({Defaults:{border:0,role:\"menuitem\"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add(\"menu-item\"),e.menu&&n.classes.add(\"menu-item-expand\"),e.preview&&n.classes.add(\"menu-item-preview\"),\"-\"!==(t=n.state.get(\"text\"))&&\"|\"!==t||(n.classes.add(\"menu-item-sep\"),n.aria(\"role\",\"separator\"),n.state.set(\"text\",\"-\")),e.selectable&&(n.aria(\"role\",\"menuitemcheckbox\"),n.classes.add(\"menu-item-checkbox\"),e.icon=\"selected\"),e.preview||e.selectable||n.classes.add(\"menu-item-normal\"),n.on(\"mousedown\",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&n.aria(\"haspopup\",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e,n=this,i=n.settings,r=n.parent();if(r.items().each(function(e){e!==n&&e.hideMenu()}),i.menu){(e=n.menu)?e.show():((e=i.menu).length?e={type:\"menu\",items:e}:e.type=e.type||\"menu\",r.settings.itemDefaults&&(e.itemDefaults=r.settings.itemDefaults),(e=n.menu=t.create(e).parent(n).renderTo()).reflow(),e.on(\"cancel\",function(t){t.stopPropagation(),n.focus(),e.hide()}),e.on(\"show hide\",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected)})}).fire(\"show\"),e.on(\"hide\",function(t){t.control===e&&n.classes.remove(\"selected\")}),e.submenu=!0),e._parentMenu=r,e.classes.add(\"menu-sub\");var o=e.testMoveRel(n.getEl(),n.isRtl()?[\"tl-tr\",\"bl-br\",\"tr-tl\",\"br-bl\"]:[\"tr-tl\",\"br-bl\",\"tl-tr\",\"bl-br\"]);e.moveRel(n.getEl(),o),e.rel=o,o=\"menu-sub-\"+o,e.classes.remove(e._lastRel).add(o),e._lastRel=o,n.classes.add(\"selected\"),n.aria(\"expanded\",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria(\"expanded\",!1)),e},renderHtml:function(){function e(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}function t(t){var n=s.match||\"\";return n?t.replace(new RegExp(e(n),\"gi\"),function(e){return\"!mce~match[\"+e+\"]mce~match!\"}):t}function i(t){return t.replace(new RegExp(e(\"!mce~match[\"),\"g\"),\"<b>\").replace(new RegExp(e(\"]mce~match!\"),\"g\"),\"</b>\")}var r,o=this,a=o._id,s=o.settings,l=o.classPrefix,u=o.state.get(\"text\"),c=o.settings.icon,d=\"\",h=s.shortcut,f=o.encode(s.url);return c&&o.parent().classes.add(\"menu-has-icons\"),s.image&&(d=\" style=\\\"background-image: url('\"+s.image+\"')\\\"\"),h&&(h=function(e){var t,i,r;for(r=n.mac?{alt:\"&#x2325;\",ctrl:\"&#x2318;\",shift:\"&#x21E7;\",meta:\"&#x2318;\"}:{meta:\"Ctrl\"},e=e.split(\"+\"),t=0;t<e.length;t++)(i=r[e[t].toLowerCase()])&&(e[t]=i);return e.join(\"+\")}(h)),c=l+\"ico \"+l+\"i-\"+(o.settings.icon||\"none\"),r=\"-\"!==u?'<i class=\"'+c+'\"'+d+\"></i> \":\"\",u=i(o.encode(t(u))),f=i(o.encode(t(f))),'<div id=\"'+a+'\" class=\"'+o.classes+'\" tabindex=\"-1\">'+r+(\"-\"!==u?'<span id=\"'+a+'-text\" class=\"'+l+'text\">'+u+\"</span>\":\"\")+(h?'<div id=\"'+a+'-shortcut\" class=\"'+l+'menu-shortcut\">'+h+\"</div>\":\"\")+(s.menu?'<div class=\"'+l+'caret\"></div>':\"\")+(f?'<div class=\"'+l+'menu-item-link\">'+f+\"</div>\":\"\")+\"</div>\"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if(\"function\"==typeof n&&(n=n.call(this)),n){var r=e.getEl(\"text\");r&&r.setAttribute(\"style\",n)}return e.on(\"mouseenter click\",function(n){n.control===e&&(t.menu||\"click\"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire(\"select\"),i.requestAnimationFrame(function(){e.parent().hideAll()})))}),e._super(),e},hover:function(){var e=this;return e.parent().items().each(function(e){e.classes.remove(\"selected\")}),e.classes.toggle(\"selected\",!0),e},active:function(e){return void 0!==e&&this.aria(\"checked\",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),n(Ut,[f,ye,s],function(e,t,n){return function(i,r){var o,a,s=this,l=t.classPrefix;s.show=function(t,u){function c(){o&&(e(i).append('<div class=\"'+l+\"throbber\"+(r?\" \"+l+\"throbber-inline\":\"\")+'\"></div>'),u&&u())}return s.hide(),o=!0,t?a=n.setTimeout(c,t):c(),s},s.hide=function(){var e=i.lastChild;return n.clearTimeout(a),e&&-1!=e.className.indexOf(\"throbber\")&&e.parentNode.removeChild(e),o=!1,s}}}),n(jt,[ke,Gt,Ut,h],function(e,t,n,i){return e.extend({Defaults:{defaultType:\"menuitem\",border:1,layout:\"stack\",role:\"application\",bodyRole:\"menu\",ariaRoot:!0},init:function(e){if(e.autohide=!0,e.constrainToViewport=!0,\"function\"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var t=e.items,n=t.length;n--;)t[n]=i.extend({},e.itemDefaults,t[n]);this._super(e),this.classes.add(\"menu\")},repaint:function(){return this.classes.toggle(\"menu-align\",!0),this._super(),this.getEl().style.height=\"\",this.getEl(\"body\").style.height=\"\",this},cancel:function(){this.hideAll(),this.fire(\"select\")},load:function(){function e(){i.throbber&&(i.throbber.hide(),i.throbber=null)}var t,i=this;i.settings.itemsFactory&&(i.throbber||(i.throbber=new n(i.getEl(\"body\"),!0),0===i.items().length?(i.throbber.show(),i.fire(\"loading\")):i.throbber.show(100,function(){i.items().remove(),i.fire(\"loading\")}),i.on(\"hide close\",e)),i.requestTime=t=(new Date).getTime(),i.settings.itemsFactory(function(n){return 0===n.length?void i.hide():void(i.requestTime===t&&(i.getEl().style.width=\"\",i.getEl(\"body\").style.width=\"\",e(),i.items().remove(),i.getEl(\"body\").innerHTML=\"\",i.add(n),i.renderNew(),i.fire(\"loaded\")))}))},hideAll:function(){return this.find(\"menuitem\").exec(\"hideMenu\"),this._super()},preRender:function(){var e=this;return e.items().each(function(t){var n=t.settings;if(n.icon||n.image||n.selectable)return e._hasIcons=!0,!1}),e.settings.itemsFactory&&e.on(\"postrender\",function(){e.settings.itemsFactory&&e.load()}),e._super()}})}),n(qt,[Wt,jt],function(e,t){return e.extend({init:function(e){var t,n,i,r,o=this;o._super(e),o._values=t=(e=o.settings).values,t&&(void 0!==e.value&&function t(r){for(var a=0;a<r.length;a++){if(n=r[a].selected||e.value===r[a].value)return i=i||r[a].text,o.state.set(\"value\",r[a].value),!0;if(r[a].menu&&t(r[a].menu))return!0}}(t),!n&&t.length>0&&(i=t[0].text,o.state.set(\"value\",t[0].value)),o.state.set(\"menu\",t)),o.state.set(\"text\",e.text||i),o.classes.add(\"listbox\"),o.on(\"select\",function(t){var n=t.control;r&&(t.lastControl=r),e.multiple?n.active(!n.active()):o.value(t.control.value()),r=n})},bindStates:function(){function e(e,n){e instanceof t&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===n)})}function n(e,t){var i;if(e)for(var r=0;r<e.length;r++){if(e[r].value===t)return e[r];if(e[r].menu&&(i=n(e[r].menu,t)))return i}}var i=this;return i.on(\"show\",function(t){e(t.control,i.value())}),i.state.on(\"change:value\",function(e){var t=n(i.state.get(\"menu\"),e.value);i.text(t?t.text:i.settings.text)}),i._super()}})}),n(Zt,[vt],function(e){return e.extend({Defaults:{classes:\"radio\",role:\"radio\"}})}),n(Yt,[Pe,we],function(e,t){return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.classes.add(\"resizehandle\"),\"both\"==e.settings.direction&&e.classes.add(\"resizehandle-both\"),e.canFocus=!1,'<div id=\"'+e._id+'\" class=\"'+e.classes+'\"><i class=\"'+t+\"ico \"+t+'i-resize\"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new t(this._id,{start:function(){e.fire(\"ResizeStart\")},drag:function(t){\"both\"!=e.settings.direction&&(t.deltaX=0),e.fire(\"Resize\",t)},stop:function(){e.fire(\"ResizeEnd\")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),n(Xt,[Pe],function(e){function t(e){var t=\"\";if(e)for(var n=0;n<e.length;n++)t+='<option value=\"'+e[n]+'\">'+e[n]+\"</option>\";return t}return e.extend({Defaults:{classes:\"selectbox\",role:\"selectbox\",options:[]},init:function(e){var t=this;t._super(e),t.settings.size&&(t.size=t.settings.size),t.settings.options&&(t._options=t.settings.options),t.on(\"keydown\",function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire(\"submit\",{data:n.toJSON()}))})},options:function(e){return arguments.length?(this.state.set(\"options\",e),this):this.state.get(\"options\")},renderHtml:function(){var e,n=this,i=\"\";return e=t(n._options),n.size&&(i=' size = \"'+n.size+'\"'),'<select id=\"'+n._id+'\" class=\"'+n.classes+'\"'+i+\">\"+e+\"</select>\"},bindStates:function(){var e=this;return e.state.on(\"change:options\",function(n){e.getEl().innerHTML=t(n.value)}),e._super()}})}),n($t,[Pe,we,pe],function(e,t,n){function i(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function r(e,t,n){e.setAttribute(\"aria-\"+t,n)}function o(e,t){var i,o,a,s,l;\"v\"==e.settings.orientation?(s=\"top\",a=\"height\",o=\"h\"):(s=\"left\",a=\"width\",o=\"w\"),l=e.getEl(\"handle\"),i=(e.layoutRect()[o]||100)-n.getSize(l)[a],l.style[s]=i*((t-e._minValue)/(e._maxValue-e._minValue))+\"px\",l.style.height=e.layoutRect().h+\"px\",r(l,\"valuenow\",t),r(l,\"valuetext\",\"\"+e.settings.previewFilter(t)),r(l,\"valuemin\",e._minValue),r(l,\"valuemax\",e._maxValue)}return e.extend({init:function(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),t._super(e),t.classes.add(\"slider\"),\"v\"==e.orientation&&t.classes.add(\"vertical\"),t._minValue=e.minValue||0,t._maxValue=e.maxValue||100,t._initValue=t.state.get(\"value\")},renderHtml:function(){var e=this,t=e._id;return'<div id=\"'+t+'\" class=\"'+e.classes+'\"><div id=\"'+t+'-handle\" class=\"'+e.classPrefix+'slider-handle\" role=\"slider\" tabindex=\"-1\"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var e,r,o,a,s,l,u=this;e=u._minValue,r=u._maxValue,\"v\"==u.settings.orientation?(o=\"screenY\",a=\"top\",s=\"height\",l=\"h\"):(o=\"screenX\",a=\"left\",s=\"width\",l=\"w\"),u._super(),function(e,t){function n(n){var r;r=u.value(),r=i(r=function(e,t,n){return n*(t-e)-e}(e,t,function(e,t,n){return(n+e)/(t-e)}(e,t,r)+.05*n),e,t),u.value(r),u.fire(\"dragstart\",{value:r}),u.fire(\"drag\",{value:r}),u.fire(\"dragend\",{value:r})}u.on(\"keydown\",function(e){switch(e.keyCode){case 37:case 38:n(-1);break;case 39:case 40:n(1)}})}(e,r,u.getEl(\"handle\")),function(e,r,c){var d,h,f,p,g;u._dragHelper=new t(u._id,{handle:u._id+\"-handle\",start:function(e){d=e[o],h=parseInt(u.getEl(\"handle\").style[a],10),f=(u.layoutRect()[l]||100)-n.getSize(c)[s],u.fire(\"dragstart\",{value:g})},drag:function(t){p=i(h+(t[o]-d),0,f),c.style[a]=p+\"px\",u.value(g=e+p/f*(r-e)),u.tooltip().text(\"\"+u.settings.previewFilter(g)).show().moveRel(c,\"bc tc\"),u.fire(\"drag\",{value:g})},stop:function(){u.tooltip().hide(),u.fire(\"dragend\",{value:g})}})}(e,r,u.getEl(\"handle\"))},repaint:function(){this._super(),o(this,this.value())},bindStates:function(){var e=this;return e.state.on(\"change:value\",function(t){o(e,t.value)}),e._super()}})}),n(Kt,[Pe],function(e){return e.extend({renderHtml:function(){var e=this;return e.classes.add(\"spacer\"),e.canFocus=!1,'<div id=\"'+e._id+'\" class=\"'+e.classes+'\"></div>'}})}),n(Jt,[Wt,pe,f],function(e,t,n){return e.extend({Defaults:{classes:\"widget btn splitbtn\",role:\"button\"},repaint:function(){var e,i=this,r=i.getEl(),o=i.layoutRect();return i._super(),e=r.lastChild,n(r.firstChild).css({width:o.w-t.getSize(e).width,height:o.h-2}),n(e).css({height:o.h-2}),i},activeMenu:function(e){n(this.getEl().lastChild).toggleClass(this.classPrefix+\"active\",e)},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=t.state.get(\"icon\"),o=t.state.get(\"text\"),a=\"\";return(e=t.settings.image)?(r=\"none\",\"string\"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=\" style=\\\"background-image: url('\"+e+\"')\\\"\"):e=\"\",r=t.settings.icon?i+\"ico \"+i+\"i-\"+r:\"\",o&&(t.classes.add(\"btn-has-text\"),a='<span class=\"'+i+'txt\">'+t.encode(o)+\"</span>\"),'<div id=\"'+n+'\" class=\"'+t.classes+'\" role=\"button\" tabindex=\"-1\"><button type=\"button\" hidefocus=\"1\" tabindex=\"-1\">'+(r?'<i class=\"'+r+'\"'+e+\"></i>\":\"\")+a+'</button><button type=\"button\" class=\"'+i+'open\" hidefocus=\"1\" tabindex=\"-1\">'+(t._menuBtnText?(r?\" \":\"\")+t._menuBtnText:\"\")+' <i class=\"'+i+'caret\"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on(\"click\",function(e){var n=e.target;if(e.control==this)for(;n;){if(e.aria&&\"down\"!=e.aria.key||\"BUTTON\"==n.nodeName&&-1==n.className.indexOf(\"open\"))return e.stopImmediatePropagation(),void(t&&t.call(this,e));n=n.parentNode}}),delete e.settings.onclick,e._super()}})}),n(Qt,[Lt],function(e){return e.extend({Defaults:{containerClass:\"stack-layout\",controlClass:\"stack-layout-item\",endClass:\"break\"},isNative:function(){return!0}})}),n(en,[Ce,f,pe],function(e,t,n){return e.extend({Defaults:{layout:\"absolute\",defaults:{type:\"panel\"}},activateTab:function(e){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),t(n).removeClass(this.classPrefix+\"active\"),n.setAttribute(\"aria-selected\",\"false\")),this.activeTabId=\"t\"+e,(n=this.getEl(\"t\"+e)).setAttribute(\"aria-selected\",\"true\"),t(n).addClass(this.classPrefix+\"active\"),this.items()[e].show().fire(\"showtab\"),this.reflow(),this.items().each(function(t,n){e!=n&&t.hide()})},renderHtml:function(){var e=this,t=e._layout,n=\"\",i=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,r){var o=e._id+\"-t\"+r;t.aria(\"role\",\"tabpanel\"),t.aria(\"labelledby\",o),n+='<div id=\"'+o+'\" class=\"'+i+'tab\" unselectable=\"on\" role=\"tab\" aria-controls=\"'+t._id+'\" aria-selected=\"false\" tabIndex=\"-1\">'+e.encode(t.settings.title)+\"</div>\"}),'<div id=\"'+e._id+'\" class=\"'+e.classes+'\" hidefocus=\"1\" tabindex=\"-1\"><div id=\"'+e._id+'-head\" class=\"'+i+'tabs\" role=\"tablist\">'+n+'</div><div id=\"'+e._id+'-body\" class=\"'+e.bodyClasses+'\">'+t.renderHtml(e)+\"</div></div>\"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on(\"click\",function(t){var n=t.target.parentNode;if(n&&n.id==e._id+\"-head\")for(var i=n.childNodes.length;i--;)n.childNodes[i]==t.target&&e.activateTab(i)})},initLayoutRect:function(){var e,t,i,r=this;t=(t=n.getSize(r.getEl(\"head\")).width)<0?0:t,i=0,r.items().each(function(e){t=Math.max(t,e.layoutRect().minW),i=Math.max(i,e.layoutRect().minH)}),r.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=i,e.layoutRect({x:0,y:0,w:t,h:i})});var o=n.getSize(r.getEl(\"head\")).height;return r.settings.minWidth=t,r.settings.minHeight=i+o,(e=r._super()).deltaH+=o,e.innerH=e.h-e.deltaH,e}})}),n(tn,[Pe,h,pe],function(e,t,n){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add(\"textbox\"),e.multiline?t.classes.add(\"multiline\"):(t.on(\"keydown\",function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire(\"submit\",{data:n.toJSON()}))}),t.on(\"keyup\",function(e){t.state.set(\"value\",e.target.value)}))},repaint:function(){var e,t,n,i,r,o=this,a=0;e=o.getEl().style,t=o._layoutRect,r=o._lastRepaintRect||{};var s=document;return!o.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(e.lineHeight=t.h-a+\"px\"),i=(n=o.borderBox).left+n.right+8,a=n.top+n.bottom+(o.settings.multiline?8:0),t.x!==r.x&&(e.left=t.x+\"px\",r.x=t.x),t.y!==r.y&&(e.top=t.y+\"px\",r.y=t.y),t.w!==r.w&&(e.width=t.w-i+\"px\",r.w=t.w),t.h!==r.h&&(e.height=t.h-a+\"px\",r.h=t.h),o._lastRepaintRect=r,o.fire(\"repaint\",{},!1),o},renderHtml:function(){var e,i,r=this,o=r.settings;return e={id:r._id,hidefocus:\"1\"},t.each([\"rows\",\"spellcheck\",\"maxLength\",\"size\",\"readonly\",\"min\",\"max\",\"step\",\"list\",\"pattern\",\"placeholder\",\"required\",\"multiple\"],function(t){e[t]=o[t]}),r.disabled()&&(e.disabled=\"disabled\"),o.subtype&&(e.type=o.subtype),(i=n.create(o.multiline?\"textarea\":\"input\",e)).value=r.state.get(\"value\"),i.className=r.classes,i.outerHTML},value:function(e){return arguments.length?(this.state.set(\"value\",e),this):(this.state.get(\"rendered\")&&this.state.set(\"value\",this.getEl().value),this.state.get(\"value\"))},postRender:function(){var e=this;e.getEl().value=e.state.get(\"value\"),e._super(),e.$el.on(\"change\",function(t){e.state.set(\"value\",t.target.value),e.fire(\"change\",t)})},bindStates:function(){var e=this;return e.state.on(\"change:value\",function(t){e.getEl().value!=t.value&&(e.getEl().value=t.value)}),e.state.on(\"change:disabled\",function(t){e.getEl().disabled=t.value}),e._super()},remove:function(){this.$el.off(),this._super()}})}),n(\"tinymce/Register\",[],function(){var e=this||window;return\"function\"==typeof e.define&&(e.define.amd||e.define(\"ephox/tinymce\",[],function(){return e.tinymce})),\"object\"==typeof module&&(module.exports=window.tinymce),{}}),function(n){var i,o,a,s,l;for(i=0;i<n.length;i++){o=e,s=(a=n[i]).split(/[.\\/]/);for(var u=0;u<s.length-1;++u)o[s[u]]===t&&(o[s[u]]={}),o=o[s[u]];o[s[s.length-1]]=r[a]}if(e.AMDLC_TESTS){for(a in l=e.privateModules||{},r)l[a]=r[a];for(i=0;i<n.length;i++)delete l[n[i]];e.privateModules=l}}([o,a,s,l,u,c,h,f,p,g,v,x,b,_,M,k,A,I,D,N,P,L,R,O,G,U,Y,J,oe,ae,se,le,ce,he,fe,ve,ye,xe,be,_e,we,Se,Ce,Me,Te,ke,Ae,Ie,De,Ne,Pe,Le,Ee,Re,ze,Ve,it,rt,ot,at,st,lt,ut,ct,dt,ht,ft,pt,gt,mt,vt,yt,xt,bt,_t,wt,St,Ct,Mt,Tt,kt,At,Dt,Nt,Pt,Lt,Rt,Ot,Bt,zt,Ft,Vt,Ht,Wt,Gt,Ut,jt,qt,Zt,Yt,Xt,$t,Kt,Jt,Qt,en,tn])}(window),function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=n(r[l]);var u=o.apply(null,s);if(void 0===u)throw\"module [\"+t+\"] returned undefined\";i.instance=u},n=function(n){var i=e[n];if(void 0===i)throw\"module [\"+n+\"] was undefined\";return void 0===i.instance&&t(n),i.instance},i=function(t,n,i){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===i)throw\"no definition function for \"+t;e[t]={deps:n,defn:i,instance:void 0}},r=function(e,t){i(e,[],function(){return t})};r(\"1\",tinymce.Env),r(\"2\",tinymce.EditorManager),r(\"3\",tinymce.ThemeManager),r(\"8\",tinymce.util.Tools),r(\"9\",tinymce.ui.Factory),r(\"a\",tinymce.DOM),i(\"b\",[\"8\",\"9\"],function(e,t){var n=function(n,i,r){var o,a=[];if(i)return e.each(i.split(/[ ,]/),function(e){var i=function(){var t=n.selection;e.settings.stateSelector&&t.selectorChanged(e.settings.stateSelector,function(t){e.active(t)},!0),e.settings.disabledStateSelector&&t.selectorChanged(e.settings.disabledStateSelector,function(t){e.disabled(t)})};\"|\"==e?o=null:t.has(e)?(a.push(e={type:e,size:r}),o=null):(o||a.push(o={type:\"buttongroup\",items:[]}),n.buttons[e]&&(\"function\"==typeof(e=n.buttons[e])&&(e=e()),e.type=e.type||\"button\",e.size=r,e=t.create(e),o.items.push(e),n.initialized?i():n.on(\"init\",i)))}),{type:\"toolbar\",layout:\"flow\",items:a}};return{createToolbar:n,createToolbars:function(t,i){var r=[],o=t.settings,a=function(e){if(e)return r.push(n(t,e,i)),!0};if(e.isArray(o.toolbar)){if(0===o.toolbar.length)return;e.each(o.toolbar,function(e,t){o[\"toolbar\"+(t+1)]=e}),delete o.toolbar}for(var s=1;s<10&&a(o[\"toolbar\"+s]);s++);if(r.length||!1===o.toolbar||a(o.toolbar||\"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image\"),r.length)return{type:\"panel\",layout:\"stack\",classes:\"toolbar-grp\",ariaRoot:!0,ariaRemember:!0,items:r}}}}),i(\"c\",[\"8\"],function(e){var t={file:{title:\"File\",items:\"newdocument\"},edit:{title:\"Edit\",items:\"undo redo | cut copy paste pastetext | selectall\"},insert:{title:\"Insert\",items:\"|\"},view:{title:\"View\",items:\"visualaid |\"},format:{title:\"Format\",items:\"bold italic underline strikethrough superscript subscript | formats | removeformat\"},table:{title:\"Table\"},tools:{title:\"Tools\"}},n=function(e,t){return\"|\"==t?{text:\"|\"}:e[t]},i=function(i,r,o){var a,s,l,u,c;if(c=e.makeMap((r.removed_menuitems||\"\").split(/[ ,]/)),r.menu?(s=r.menu[o],u=!0):s=t[o],s){a={text:s.title},l=[],e.each((s.items||\"\").split(/[ ,]/),function(e){n(i,e)&&!c[e]&&l.push(n(i,e))}),u||e.each(i,function(e){e.context==o&&(\"before\"==e.separator&&l.push({text:\"|\"}),e.prependToContext?l.unshift(e):l.push(e),\"after\"==e.separator&&l.push({text:\"|\"}))});for(var d=0;d<l.length;d++)\"|\"==l[d].text&&(0!==d&&d!=l.length-1||l.splice(d,1));if(a.menu=l,!a.menu.length)return null}return a};return{createMenuButtons:function(e){var n,r=[],o=e.settings,a=[];if(o.menu)for(n in o.menu)a.push(n);else for(n in t)a.push(n);for(var s=\"string\"==typeof o.menubar?o.menubar.split(/[ ,]/):a,l=0;l<s.length;l++){var u=s[l];(u=i(e.menuItems,e.settings,u))&&r.push(u)}return r}}}),r(\"j\",tinymce.util.Delay),r(\"k\",tinymce.geom.Rect),i(\"d\",[\"a\",\"8\",\"j\",\"b\",\"9\",\"k\"],function(e,t,n,i,r,o){var a=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}},s=function(e){t.each(e.contextToolbars,function(e){e.panel&&e.panel.hide()})},l=function(e,t){e.moveTo(t.left,t.top)},u=function(e,n,i){n=n?n.substr(0,2):\"\",t.each({t:\"down\",b:\"up\"},function(t,r){e.classes.toggle(\"arrow-\"+t,i(r,n.substr(0,1)))}),t.each({l:\"left\",r:\"right\"},function(t,r){e.classes.toggle(\"arrow-\"+t,i(r,n.substr(1,1)))})},c=function(e,t,n,i,r,o){return o=a({x:t,y:n,w:o.w,h:o.h}),e&&(o=e({elementRect:a(i),contentAreaRect:a(r),panelRect:o})),o};return{addContextualToolbars:function(a){var d,h=a.settings,f=function(){return a.contextToolbars||[]},p=function(t,n){var i,r,d,f,p,g,m,v=h.inline_toolbar_position_handler;if(!a.removed){if(!t||!t.toolbar.panel)return void s(a);m=[\"bc-tc\",\"tc-bc\",\"tl-bl\",\"bl-tl\",\"tr-br\",\"br-tr\"],p=t.toolbar.panel,n&&p.show(),d=function(t){var n,i,r;return n=e.getPos(a.getContentAreaContainer()),i=a.dom.getRect(t),\"BODY\"===(r=a.dom.getRoot()).nodeName&&(i.x-=r.ownerDocument.documentElement.scrollLeft||r.scrollLeft,i.y-=r.ownerDocument.documentElement.scrollTop||r.scrollTop),i.x+=n.x,i.y+=n.y,i}(t.element),r=e.getRect(p.getEl()),f=e.getRect(a.getContentAreaContainer()||a.getBody()),\"inline\"!==e.getStyle(t.element,\"display\",!0)&&(d.w=t.element.clientWidth,d.h=t.element.clientHeight),a.inline||(f.w=a.getDoc().documentElement.offsetWidth),a.selection.controlSelection.isResizable(t.element)&&d.w<25&&(d=o.inflate(d,0,8)),i=o.findBestRelativePosition(r,d,f,m),d=o.clamp(d,f),i?(g=o.relativePosition(r,d,i),l(p,c(v,g.x,g.y,d,f,r))):(f.h+=r.h,(d=o.intersect(f,d))?(i=o.findBestRelativePosition(r,d,f,[\"bc-tc\",\"bl-tl\",\"br-tr\"]))?(g=o.relativePosition(r,d,i),l(p,c(v,g.x,g.y,d,f,r))):l(p,c(v,d.x,d.y,d,f,r)):p.hide()),u(p,i,function(e,t){return e===t})}},g=function(e){return function(){n.requestAnimationFrame(function(){a.selection&&p(y(a.selection.getNode()),e)})}},m=function(){d||(d=a.selection.getScrollContainer()||a.getWin(),e.bind(d,\"scroll\",g(!0)),a.on(\"remove\",function(){e.unbind(d,\"scroll\")}))},v=function(){t.each(f(),function(e){e.panel&&e.panel.hide()})},y=function(e){var t,n,i,r=f();for(t=(i=a.$(e).parents().add(e)).length-1;t>=0;t--)for(n=r.length-1;n>=0;n--)if(r[n].predicate(i[t]))return{toolbar:r[n],element:i[t]};return null};a.on(\"click keyup setContent ObjectResized\",function(e){(\"setcontent\"!==e.type||e.selection)&&n.setEditorTimeout(a,function(){var e;(e=y(a.selection.getNode()))?(v(),function(e){var t;e.toolbar.panel?(e.toolbar.panel.show(),p(e)):(m(),t=r.create({type:\"floatpanel\",role:\"dialog\",classes:\"tinymce tinymce-inline arrow\",ariaLabel:\"Inline toolbar\",layout:\"flex\",direction:\"column\",align:\"stretch\",autohide:!1,autofix:!0,fixed:!0,border:1,items:i.createToolbar(a,e.toolbar.items),oncancel:function(){a.focus()}}),e.toolbar.panel=t,t.renderTo(document.body).reflow(),p(e))}(e)):v()})}),a.on(\"blur hide contextmenu\",v),a.on(\"ObjectResizeStart\",function(){var e=y(a.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.hide()}),a.on(\"ResizeEditor ResizeWindow\",g(!0)),a.on(\"nodeChange\",g(!1)),a.on(\"remove\",function(){t.each(f(),function(e){e.panel&&e.panel.remove()}),a.contextToolbars={}}),a.shortcuts.add(\"ctrl+shift+e > ctrl+shift+p\",\"\",function(){var e=y(a.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.items()[0].focus()})}}}),i(\"e\",[],function(){var e=function(e,t){return function(){var n=e.find(t)[0];n&&n.focus(!0)}};return{addKeys:function(t,n){t.shortcuts.add(\"Alt+F9\",\"\",e(n,\"menubar\")),t.shortcuts.add(\"Alt+F10,F10\",\"\",e(n,\"toolbar\")),t.shortcuts.add(\"Alt+F11\",\"\",e(n,\"elementpath\")),n.on(\"cancel\",function(){t.focus()})}}}),i(\"f\",[\"8\",\"9\",\"1\"],function(e,t,n){var i=function(e,t,n){var i=e.settings[n];i&&i(function(e){return{element:function(){return e}}}(t.getEl(\"body\")))},r=function(t,n,r){e.each(r,function(e){var r=n.items().filter(\"#\"+e.name)[0];r&&r.visible()&&e.name!==t&&(i(e,r,\"onhide\"),r.visible(!1))})},o=function(t,n){return e.grep(t,function(e){return e.name===n})[0]},a=function(e,n,a){return function(s){var l=s.control,u=l.parents().filter(\"panel\")[0],c=u.find(\"#\"+n)[0],d=o(a,n);r(n,u,a),function(e){e.items().each(function(e){e.active(!1)})}(l.parent()),c&&c.visible()?(i(d,c,\"onhide\"),c.hide(),l.active(!1)):(c?(c.show(),i(d,c,\"onshow\")):(c=t.create({type:\"container\",name:n,layout:\"stack\",classes:\"sidebar-panel\",html:\"\"}),u.prepend(c),i(d,c,\"onrender\"),i(d,c,\"onshow\")),l.active(!0)),e.fire(\"ResizeEditor\")}};return{hasSidebar:function(e){return!(n.ie&&!(n.ie>=11)||!e.sidebars)&&e.sidebars.length>0},createSidebar:function(t){return{type:\"panel\",name:\"sidebar\",layout:\"stack\",classes:\"sidebar\",items:[{type:\"toolbar\",layout:\"stack\",classes:\"sidebar-toolbar\",items:e.map(t.sidebars,function(e){var n=e.settings;return{type:\"button\",icon:n.icon,image:n.image,tooltip:n.tooltip,onclick:a(t,e.name,t.sidebars)}})}]}}}}),i(\"g\",[],function(){return{fireSkinLoaded:function(e){var t=function(){e._skinLoaded=!0,e.fire(\"SkinLoaded\")};return function(){e.initialized?t():e.on(\"init\",t)}}}}),i(\"6\",[\"a\"],function(e){var t=function(e){return{width:e.clientWidth,height:e.clientHeight}},n=function(n,i,r){var o,a,s,l,u=n.settings;o=n.getContainer(),a=n.getContentAreaContainer().firstChild,s=t(o),l=t(a),null!==i&&(i=Math.max(u.min_width||100,i),i=Math.min(u.max_width||65535,i),e.setStyle(o,\"width\",i+(s.width-l.width)),e.setStyle(a,\"width\",i)),r=Math.max(u.min_height||100,r),r=Math.min(u.max_height||65535,r),e.setStyle(a,\"height\",r),n.fire(\"ResizeEditor\")};return{resizeTo:n,resizeBy:function(e,t,i){var r=e.getContentAreaContainer();n(e,r.clientWidth+t,r.clientHeight+i)}}}),i(\"4\",[\"8\",\"9\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"6\"],function(e,t,n,i,r,o,a,s,l,u){var c=function(e){return{type:\"panel\",name:\"iframe\",layout:\"stack\",classes:\"edit-area\",border:e,html:\"\"}},d=function(e){return{type:\"panel\",layout:\"stack\",classes:\"edit-aria-container\",border:\"1 0 0 0\",items:[c(\"0\"),s.createSidebar(e)]}};return{render:function(e,h,f){var p,g,m,v=e.settings;return f.skinUiCss&&n.styleSheetLoader.load(f.skinUiCss,l.fireSkinLoaded(e)),p=h.panel=t.create({type:\"panel\",role:\"application\",classes:\"tinymce\",style:\"visibility: hidden\",layout:\"stack\",border:1,items:[!1===v.menubar?null:{type:\"menubar\",border:\"0 0 1 0\",items:r.createMenuButtons(e)},i.createToolbars(e,v.toolbar_items_size),s.hasSidebar(e)?d(e):c(\"1 0 0 0\")]}),!1!==v.resize&&(g={type:\"resizehandle\",direction:v.resize,onResizeStart:function(){var t=e.getContentAreaContainer().firstChild;m={width:t.clientWidth,height:t.clientHeight}},onResize:function(t){u.resizeTo(e,\"both\"===v.resize?m.width+t.deltaX:null,m.height+t.deltaY)}}),!1!==v.statusbar&&p.add({type:\"panel\",name:\"statusbar\",classes:\"statusbar\",layout:\"flow\",border:\"1 0 0 0\",ariaRoot:!0,items:[{type:\"elementpath\",editor:e},g]}),e.fire(\"BeforeRenderUI\"),e.on(\"SwitchMode\",function(e){return function(t){e.find(\"*\").disabled(\"readonly\"===t.mode)}}(p)),p.renderBefore(f.targetNode).reflow(),v.readonly&&e.setMode(\"readonly\"),v.width&&n.setStyle(p.getEl(),\"width\",v.width),e.on(\"remove\",function(){p.remove(),p=null}),a.addKeys(e,p),o.addContextualToolbars(e),{iframeContainer:p.find(\"#iframe\")[0].getEl(),editorContainer:p.getEl()}}}}),r(\"h\",tinymce.ui.FloatPanel),i(\"5\",[\"8\",\"9\",\"a\",\"h\",\"b\",\"c\",\"d\",\"e\",\"g\"],function(e,t,n,i,r,o,a,s,l){return{render:function(e,u,c){var d,h,f=e.settings;f.fixed_toolbar_container&&(h=n.select(f.fixed_toolbar_container)[0]);var p=function(){if(d&&d.moveRel&&d.visible()&&!d._fixed){var t=e.selection.getScrollContainer(),i=e.getBody(),r=0,o=0;if(t){var a=n.getPos(i),s=n.getPos(t);r=Math.max(0,s.x-a.x),o=Math.max(0,s.y-a.y)}d.fixed(!1).moveRel(i,e.rtl?[\"tr-br\",\"br-tr\"]:[\"tl-bl\",\"bl-tl\",\"tr-br\"]).moveBy(r,o)}},g=function(){d&&(d.show(),p(),n.addClass(e.getBody(),\"mce-edit-focus\"))},m=function(){d&&(d.hide(),i.hideAll(),n.removeClass(e.getBody(),\"mce-edit-focus\"))},v=function(){return d?void(d.visible()||g()):(d=u.panel=t.create({type:h?\"panel\":\"floatpanel\",role:\"application\",classes:\"tinymce tinymce-inline\",layout:\"flex\",direction:\"column\",align:\"stretch\",autohide:!1,autofix:!0,fixed:!!h,border:1,items:[!1===f.menubar?null:{type:\"menubar\",border:\"0 0 1 0\",items:o.createMenuButtons(e)},r.createToolbars(e,f.toolbar_items_size)]}),e.fire(\"BeforeRenderUI\"),d.renderTo(h||document.body).reflow(),s.addKeys(e,d),g(),a.addContextualToolbars(e),e.on(\"nodeChange\",p),e.on(\"activate\",g),e.on(\"deactivate\",m),void e.nodeChanged())};return f.content_editable=!0,e.on(\"focus\",function(){c.skinUiCss?n.styleSheetLoader.load(c.skinUiCss,v,v):v()}),e.on(\"blur hide\",m),e.on(\"remove\",function(){d&&(d.remove(),d=null)}),c.skinUiCss&&n.styleSheetLoader.load(c.skinUiCss,l.fireSkinLoaded(e)),{}}}}),r(\"i\",tinymce.ui.Throbber),i(\"7\",[\"i\"],function(e){return{setup:function(t,n){var i;t.on(\"ProgressState\",function(t){i=i||new e(n.panel.getEl(\"body\")),t.state?i.show(t.time):i.hide()})}}}),i(\"0\",[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\"],function(e,t,n,i,r,o,a){var s=function(n,o,s){var l=n.settings,u=!1!==l.skin&&(l.skin||\"lightgray\");if(u){var c=l.skin_url;c=c?n.documentBaseURI.toAbsolute(c):t.baseURL+\"/skins/\"+u,s.skinUiCss=e.documentMode<=7?c+\"/skin.ie7.min.css\":c+\"/skin.min.css\",n.contentCSS.push(c+\"/content\"+(n.inline?\".inline\":\"\")+\".min.css\")}return a.setup(n,o),l.inline?r.render(n,o,s):i.render(n,o,s)};return n.add(\"modern\",function(e){return{renderUI:function(t){return s(e,this,t)},resizeTo:function(t,n){return o.resizeTo(e,t,n)},resizeBy:function(t,n){return o.resizeBy(e,t,n)}}}),function(){}}),n(\"0\")()}(),tinymce.PluginManager.add(\"link\",function(e){function t(e){return e&&\"A\"===e.nodeName&&e.href}function n(e){return tinymce.util.Tools.grep(e,t).length>0}function i(t){return e.dom.getParent(t,\"a[href]\")}function r(){return i(e.selection.getStart())}function o(t){if(t){var n=function(e){return e.getAttribute(\"data-mce-href\")||e.getAttribute(\"href\")}(t);if(/^#/.test(n)){var i=e.$(n);i.length&&e.selection.scrollIntoView(i[0],!0)}else!function(e){if(!tinymce.Env.ie||tinymce.Env.ie>10){var t=document.createElement(\"a\");t.target=\"_blank\",t.href=e,t.rel=\"noreferrer noopener\";var n=document.createEvent(\"MouseEvents\");n.initMouseEvent(\"click\",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),function(e,t){document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)}(t,n)}else{var i=window.open(\"\",\"_blank\");if(i){i.opener=null;var r=i.document;r.open(),r.write('<meta http-equiv=\"refresh\" content=\"0; url='+tinymce.DOM.encode(e)+'\">'),r.close()}}}(t.href)}}function a(){o(r())}function s(t){return function(){var n=e.settings.link_list;\"string\"==typeof n?tinymce.util.XHR.send({url:n,success:function(e){t(tinymce.util.JSON.parse(e))}}):\"function\"==typeof n?n(t):t(n)}}function l(e,t,n){return function e(n,i){return i=i||[],tinymce.each(n,function(n){var r={text:n.text||n.title};n.menu?r.menu=e(n.menu):(r.value=n.value,t&&t(r)),i.push(r)}),i}(e,n||[])}function u(t){function n(e){var t=s.find(\"#text\");(!t.value()||e.lastControl&&t.value()==e.lastControl.text())&&t.value(e.control.text()),s.find(\"#href\").value(e.control.value())}function i(){!a&&0===y.text.length&&u&&this.parent().parent().find(\"#text\")[0].value(this.value())}var r,o,a,s,u,d,h,f,p,g,m,v,y={},x=e.selection,b=e.dom;r=x.getNode(),o=b.getParent(r,\"a[href]\"),u=function(e){var t=x.getContent();return!(/</.test(t)&&(!/^<a [^>]+>[^<]+<\\/a>$/.test(t)||-1==t.indexOf(\"href=\")))}(),y.text=a=o?o.innerText||o.textContent:x.getContent({format:\"text\"}),y.href=o?b.getAttrib(o,\"href\"):\"\",o?y.target=b.getAttrib(o,\"target\"):e.settings.default_link_target&&(y.target=e.settings.default_link_target),(v=b.getAttrib(o,\"rel\"))&&(y.rel=v),(v=b.getAttrib(o,\"class\"))&&(y.class=v),(v=b.getAttrib(o,\"title\"))&&(y.title=v),u&&(d={name:\"text\",type:\"textbox\",size:40,label:\"Text to display\",onchange:function(){y.text=this.value()}}),t&&(h={type:\"listbox\",label:\"Link list\",values:l(t,function(t){t.value=e.convertURL(t.value||t.url,\"href\")},[{text:\"None\",value:\"\"}]),onselect:n,value:e.convertURL(y.href,\"href\"),onPostRender:function(){h=this}}),!1!==e.settings.target_list&&(e.settings.target_list||(e.settings.target_list=[{text:\"None\",value:\"\"},{text:\"New window\",value:\"_blank\"}]),p={name:\"target\",type:\"listbox\",label:\"Target\",values:l(e.settings.target_list)}),e.settings.rel_list&&(f={name:\"rel\",type:\"listbox\",label:\"Rel\",values:l(e.settings.rel_list)}),e.settings.link_class_list&&(g={name:\"class\",type:\"listbox\",label:\"Class\",values:l(e.settings.link_class_list,function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:\"a\",classes:[t.value]})})})}),!1!==e.settings.link_title&&(m={name:\"title\",type:\"textbox\",label:\"Title\",value:y.title}),s=e.windowManager.open({title:\"Insert link\",data:y,body:[{name:\"href\",type:\"filepicker\",filetype:\"file\",size:40,autofocus:!0,label:\"Url\",onchange:function(t){var n=t.meta||{};h&&h.value(e.convertURL(this.value(),\"href\")),tinymce.each(t.meta,function(e,t){var n=s.find(\"#\"+t);\"text\"===t?0===a.length&&(n.value(e),y.text=e):n.value(e)}),n.attach&&(c={href:this.value(),attach:n.attach}),n.text||i.call(this)},onkeyup:i,onbeforecall:function(e){e.meta=s.toJSON()}},d,m,function(t){var i=[];if(tinymce.each(e.dom.select(\"a:not([href])\"),function(e){var n=e.name||e.id;n&&i.push({text:n,value:\"#\"+n,selected:-1!=t.indexOf(\"#\"+n)})}),i.length)return i.unshift({text:\"None\",value:\"\"}),{name:\"anchor\",type:\"listbox\",label:\"Anchors\",values:i,onselect:n}}(y.href),h,f,p,g],onSubmit:function(t){function n(t,n){var i=e.selection.getRng();tinymce.util.Delay.setEditorTimeout(e,function(){e.windowManager.confirm(t,function(t){e.selection.setRng(i),n(t)})})}function i(){var t={href:s,target:y.target?y.target:null,rel:y.rel?y.rel:null,class:y.class?y.class:null,title:y.title?y.title:null};e.settings.allow_unsafe_link_target||(t.rel=function(e,t){function n(e){var t=new RegExp(\"(\"+i.replace(\" \",\"|\")+\")\",\"g\");return e&&(e=tinymce.trim(e.replace(t,\"\"))),e||null}var i=\"noopener noreferrer\";return t?function(e){return(e=n(e))?[e,i].join(\" \"):i}(e):n(e)}(t.rel,\"_blank\"==t.target)),s===c.href&&(c.attach(),c={}),o?(e.focus(),u&&y.text!=a&&(\"innerText\"in o?o.innerText=y.text:o.textContent=y.text),b.setAttribs(o,t),x.select(o),e.undoManager.add()):u?e.insertContent(b.createHTML(\"a\",t,b.encode(y.text))):e.execCommand(\"mceInsertLink\",!1,t)}function r(){e.undoManager.transact(i)}var s;return y=tinymce.extend(y,t.data),(s=y.href)?s.indexOf(\"@\")>0&&-1==s.indexOf(\"//\")&&-1==s.indexOf(\"mailto:\")?void n(\"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?\",function(e){e&&(s=\"mailto:\"+s),r()}):e.settings.link_assume_external_targets&&!/^\\w+:/i.test(s)||!e.settings.link_assume_external_targets&&/^\\s*www[\\.|\\d\\.]/i.test(s)?void n(\"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?\",function(e){e&&(s=\"http://\"+s),r()}):void r():void e.execCommand(\"unlink\")}})}var c={};e.addButton(\"link\",{icon:\"link\",tooltip:\"Insert/edit link\",shortcut:\"Meta+K\",onclick:s(u),stateSelector:\"a[href]\"}),e.addButton(\"unlink\",{icon:\"unlink\",tooltip:\"Remove link\",cmd:\"unlink\",stateSelector:\"a[href]\"}),e.addContextToolbar&&(e.addButton(\"openlink\",{icon:\"newtab\",tooltip:\"Open link\",onclick:a}),e.addContextToolbar(function(n){var i,r,o;return!!(e.settings.link_context_toolbar&&!function(){var t=e.plugins.contextmenu;return!!t&&t.isContextMenuVisible()}()&&t(n)&&(i=e.selection,r=i.getRng(),o=r.startContainer,3==o.nodeType&&i.isCollapsed()&&r.startOffset>0&&r.startOffset<o.data.length))},\"openlink | link unlink\")),e.addShortcut(\"Meta+K\",\"\",s(u)),e.addCommand(\"mceLink\",s(u)),e.on(\"click\",function(e){var t=i(e.target);t&&tinymce.util.VK.metaKeyPressed(e)&&(e.preventDefault(),o(t))}),e.on(\"keydown\",function(e){var t=r();t&&13===e.keyCode&&function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey}(e)&&(e.preventDefault(),o(t))}),this.showDialog=u,e.addMenuItem(\"openlink\",{text:\"Open link\",icon:\"newtab\",onclick:a,onPostRender:function(){var t=this,i=function(e){n(e.parents)?t.show():t.hide()};n(e.dom.getParents(e.selection.getStart()))||t.hide(),e.on(\"nodechange\",i),t.on(\"remove\",function(){e.off(\"nodechange\",i)})},prependToContext:!0}),e.addMenuItem(\"link\",{icon:\"link\",text:\"Link\",shortcut:\"Meta+K\",onclick:s(u),stateSelector:\"a[href]\",context:\"insert\",prependToContext:!0})}),function(e,t){\"use strict\";function n(e,t){for(var n,i=[],a=0;a<e.length;++a){if(!(n=o[e[a]]||r(e[a])))throw\"module definition dependecy not found: \"+e[a];i.push(n)}t.apply(null,i)}function i(e,i,r){if(\"string\"!=typeof e)throw\"invalid module definition, module id must be defined and be a string\";if(i===t)throw\"invalid module definition, dependencies must be specified\";if(r===t)throw\"invalid module definition, definition function must be specified\";n(i,function(){o[e]=r.apply(null,arguments)})}function r(t){for(var n=e,i=t.split(/[.\\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}var o={};i(\"tinymce/pasteplugin/Utils\",[\"tinymce/util/Tools\",\"tinymce/html/DomParser\",\"tinymce/html/Schema\"],function(e,t,n){function i(t,n){return e.each(n,function(e){t=e.constructor==RegExp?t.replace(e,\"\"):t.replace(e[0],e[1])}),t}return{filter:i,innerText:function(r){var o=new n,a=new t({},o),s=\"\",l=o.getShortEndedElements(),u=e.makeMap(\"script noscript style textarea video audio iframe object\",\" \"),c=o.getBlockElements();return r=i(r,[/<!\\[[^\\]]+\\]>/g]),function e(t){var n=t.name,i=t;if(\"br\"!==n)if(l[n]&&(s+=\" \"),u[n])s+=\" \";else{if(3==t.type&&(s+=t.value),!t.shortEnded&&(t=t.firstChild))do{e(t)}while(t=t.next);c[n]&&i.next&&(s+=\"\\n\",\"p\"==n&&(s+=\"\\n\"))}else s+=\"\\n\"}(a.parse(r)),s},trimHtml:function(e){return i(function(e){var t=\"\\x3c!--StartFragment--\\x3e\",n=\"\\x3c!--EndFragment--\\x3e\",i=e.indexOf(t);if(-1!==i){var r=e.substr(i+t.length),o=r.indexOf(n);if(-1!==o&&/^<\\/(p|h[1-6]|li)>/i.test(r.substr(o+n.length,5)))return r.substr(0,o)}return e}(e),[/^[\\s\\S]*<body[^>]*>\\s*|\\s*<\\/body[^>]*>[\\s\\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class=\"Apple-converted-space\">\\u00a0<\\/span>( ?)/g,function(e,t,n){return t||n?\" \":\" \"}],/<br class=\"Apple-interchange-newline\">/g,/<br>$/i])},createIdGenerator:function(e){var t=0;return function(){return e+t++}}}}),i(\"tinymce/pasteplugin/SmartPaste\",[\"tinymce/util/Tools\"],function(e){var t=function(e){return/^https?:\\/\\/[\\w\\?\\-\\/+=.&%@~#]+$/i.test(e)},n=function(e){return t(e)&&/.(gif|jpe?g|png)$/.test(e)},i=function(e,n,i){return!(!1!==e.selection.isCollapsed()||!t(n))&&function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.execCommand(\"mceInsertLink\",!1,t)}),!0}(e,n,i)},r=function(e,t,i){return!!n(t)&&function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.insertContent('<img src=\"'+t+'\">')}),!0}(e,t,i)},o=function(e,t){return e.insertContent(t,{merge:!1!==e.settings.paste_merge_formats,paste:!0}),!0},a=function(t,n){e.each([i,r,o],function(e){return!0!==e(t,n,o)})};return{isImageUrl:n,isAbsoluteUrl:t,insertContent:function(e,t){!1===e.settings.smart_paste?o(e,t):a(e,t)}}}),i(\"tinymce/pasteplugin/Clipboard\",[\"tinymce/Env\",\"tinymce/dom/RangeUtils\",\"tinymce/util/VK\",\"tinymce/pasteplugin/Utils\",\"tinymce/pasteplugin/SmartPaste\",\"tinymce/util/Delay\"],function(e,t,n,i,r,o){return function(a){function s(e){var t,n=a.dom;if(t=a.fire(\"BeforePastePreProcess\",{content:e}),e=(t=a.fire(\"PastePreProcess\",t)).content,!t.isDefaultPrevented()){if(a.hasEventListeners(\"PastePostProcess\")&&!t.isDefaultPrevented()){var i=n.add(a.getBody(),\"div\",{style:\"display:none\"},e);t=a.fire(\"PastePostProcess\",{node:i}),n.remove(i),e=t.node.innerHTML}t.isDefaultPrevented()||r.insertContent(a,e)}}function l(e){e=a.dom.encode(e).replace(/\\r\\n/g,\"\\n\");var t,n=a.dom.getParent(a.selection.getStart(),a.dom.isBlock),r=a.settings.forced_root_block;r&&(t=(t=a.dom.createHTML(r,a.settings.forced_root_block_attrs)).substr(0,t.length-3)+\">\"),n&&/^(PRE|DIV)$/.test(n.nodeName)||!r?e=i.filter(e,[[/\\n/g,\"<br>\"]]):-1!=(e=i.filter(e,[[/\\n\\n/g,\"</p>\"+t],[/^(.*<\\/p>)(<p>)$/,t+\"$1\"],[/\\n/g,\"<br />\"]])).indexOf(\"<p>\")&&(e=t+e),s(e)}function u(){var t,n=a.dom,i=a.getBody(),r=a.dom.getViewPort(a.getWin()).y,o=20;if(_=a.selection.getRng(),a.inline&&(t=a.selection.getScrollContainer())&&t.scrollTop>0&&(r=t.scrollTop),_.getClientRects){var s=function(e){var t,i,r,o=e.startContainer;if((t=e.getClientRects()).length)return t[0];if(e.collapsed&&1==o.nodeType){for(r=o.childNodes[_.startOffset];r&&3==r.nodeType&&!r.data.length;)r=r.nextSibling;if(r)return\"BR\"==r.tagName&&(i=n.doc.createTextNode(\"\\ufeff\"),r.parentNode.insertBefore(i,r),(e=n.createRng()).setStartBefore(i),e.setEndAfter(i),t=e.getClientRects(),n.remove(i)),t.length?t[0]:void 0}}(_);if(s)o=r+(s.top-n.getPos(i).y);else{o=r;var l=_.startContainer;l&&(3==l.nodeType&&l.parentNode!=i&&(l=l.parentNode),1==l.nodeType&&(o=n.getPos(l,t||i).y))}}b=n.add(a.getBody(),\"div\",{id:\"mcepastebin\",contentEditable:!0,\"data-mce-bogus\":\"all\",style:\"position: absolute; top: \"+o+\"px;width: 10px; height: 10px; overflow: hidden; opacity: 0\"},T),(e.ie||e.gecko)&&n.setStyle(b,\"left\",\"rtl\"==n.getStyle(i,\"direction\",!0)?65535:-65535),n.bind(b,\"beforedeactivate focusin focusout\",function(e){e.stopPropagation()}),b.focus(),a.selection.select(b,!0)}function c(){if(b){for(var e;e=a.dom.get(\"mcepastebin\");)a.dom.remove(e),a.dom.unbind(e);_&&a.selection.setRng(_)}b=_=null}function d(){var e,t,n,i=\"\";for(e=a.dom.select(\"div[id=mcepastebin]\"),t=0;t<e.length;t++)(n=e[t]).firstChild&&\"mcepastebin\"==n.firstChild.id&&(n=n.firstChild),i!=T&&(i+=n.innerHTML);return i}function h(e){var t={};if(e){if(e.getData){var n=e.getData(\"Text\");n&&n.length>0&&-1==n.indexOf(k)&&(t[\"text/plain\"]=n)}if(e.types)for(var i=0;i<e.types.length;i++){var r=e.types[i];t[r]=e.getData(r)}}return t}function f(e){return h(e.clipboardData||a.getDoc().dataTransfer)}function p(e){return y(e,\"text/html\")||y(e,\"text/plain\")}function g(e,t,n){e&&(a.selection.setRng(e),e=null);var i=t.result,r=function(e){var t;return-1!==(t=e.indexOf(\",\"))?e.substr(t+1):null}(i),o=new Image;if(o.src=i,function(e,t){return!e.images_dataimg_filter||e.images_dataimg_filter(t)}(a.settings,o)){var l,u,c=a.editorUpload.blobCache;(u=c.findFirst(function(e){return e.base64()===r}))?l=u:(l=c.create(A(),n,r),c.add(l)),s('<img src=\"'+l.blobUri()+'\">')}else s('<img src=\"'+i+'\">')}function m(e,t){function n(n){var i,r,o,a=!1;if(n)for(i=0;i<n.length;i++)if(/^image\\/(jpeg|png|gif|bmp)$/.test((r=n[i]).type)){var s=r.getAsFile?r.getAsFile():r;(o=new FileReader).onload=g.bind(null,t,o,s),o.readAsDataURL(s),e.preventDefault(),a=!0}return a}var i=e.clipboardData||e.dataTransfer;if(a.settings.paste_data_images&&i)return n(i.items)||n(i.files)}function v(e){return t.getCaretRangeFromPoint(e.clientX,e.clientY,a.getDoc())}function y(e,t){return t in e&&e[t].length>0}function x(e){return n.metaKeyPressed(e)&&86==e.keyCode||e.shiftKey&&45==e.keyCode}var b,_,w,S=this,C=0,M=!1,T=\"%MCEPASTEBIN%\",k=\"data:text/mce-internal,\",A=i.createIdGenerator(\"mceclip\");S.pasteHtml=s,S.pasteText=l,S.pasteImageData=m,a.on(\"preInit\",function(){(function(){function t(e,t,n){var r;return y(e,\"text/html\")?r=e[\"text/html\"]:(r=d())==T&&(n=!0),r=i.trimHtml(r),b&&b.firstChild&&\"mcepastebin\"===b.firstChild.id&&(n=!0),c(),r.length||(n=!0),n&&(r=y(e,\"text/plain\")&&-1==r.indexOf(\"</p>\")?e[\"text/plain\"]:i.innerText(r)),r==T?void(t||a.windowManager.alert(\"Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.\")):void(n?l(r):s(r))}a.on(\"keydown\",function(t){function n(e){x(e)&&!e.isDefaultPrevented()&&c()}if(x(t)&&!t.isDefaultPrevented()){if((w=t.shiftKey&&86==t.keyCode)&&e.webkit&&-1!=navigator.userAgent.indexOf(\"Version/\"))return;if(t.stopImmediatePropagation(),C=(new Date).getTime(),e.ie&&w)return t.preventDefault(),void a.fire(\"paste\",{ieFake:!0});c(),u(),a.once(\"keyup\",n),a.once(\"paste\",function(){a.off(\"keyup\",n)})}}),a.on(\"paste\",function(n){var i=(new Date).getTime(),r=f(n),s=(new Date).getTime()-i,l=(new Date).getTime()-C-s<1e3,h=\"text\"==S.pasteFormat||w;return w=!1,n.isDefaultPrevented()||function(e){var t=e.clipboardData;return-1!=navigator.userAgent.indexOf(\"Android\")&&t&&t.items&&0===t.items.length}(n)||!p(r)&&m(n,_||a.selection.getRng())?void c():(l||n.preventDefault(),!e.ie||l&&!n.ieFake||(u(),a.dom.bind(b,\"paste\",function(e){e.stopPropagation()}),a.getDoc().execCommand(\"Paste\",!1,null),r[\"text/html\"]=d()),void(y(r,\"text/html\")?(n.preventDefault(),t(r,l,h)):o.setEditorTimeout(a,function(){t(r,l,h)},0)))}),a.on(\"dragstart dragend\",function(e){M=\"dragstart\"==e.type}),a.on(\"drop\",function(e){var t,n;if(n=v(e),!e.isDefaultPrevented()&&!M&&(p(t=h(e.dataTransfer))&&!function(e){var t=e[\"text/plain\"];return!!t&&0===t.indexOf(\"file://\")}(t)||!m(e,n))&&n&&!1!==a.settings.paste_filter_drop){var r=t[\"mce-internal\"]||t[\"text/html\"]||t[\"text/plain\"];r&&(e.preventDefault(),o.setEditorTimeout(a,function(){a.undoManager.transact(function(){t[\"mce-internal\"]&&a.execCommand(\"Delete\"),a.selection.setRng(n),r=i.trimHtml(r),t[\"text/html\"]?s(r):l(r)})}))}}),a.on(\"dragover dragend\",function(e){a.settings.paste_data_images&&e.preventDefault()})})(),a.parser.addNodeFilter(\"img\",function(t,n,i){function r(t){t.attr(\"data-mce-object\")||u===e.transparentSrc||t.remove()}function o(e){return 0===e.indexOf(\"webkit-fake-url\")}function s(e){return 0===e.indexOf(\"data:\")}if(!a.settings.paste_data_images&&function(e){return e.data&&!0===e.data.paste}(i))for(var l=t.length;l--;){var u=t[l].attributes.map.src;u&&(o(u)||!a.settings.allow_html_data_urls&&s(u))&&r(t[l])}})})}}),i(\"tinymce/pasteplugin/WordFilter\",[\"tinymce/util/Tools\",\"tinymce/html/DomParser\",\"tinymce/html/Schema\",\"tinymce/html/Serializer\",\"tinymce/html/Node\",\"tinymce/pasteplugin/Utils\"],function(e,t,n,i,r,o){function a(e){return/<font face=\"Times New Roman\"|class=\"?Mso|style=\"[^\"]*\\bmso-|style='[^'']*\\bmso-|w:WordDocument/i.test(e)||/class=\"OutlineElement/.test(e)||/id=\"?docs\\-internal\\-guid\\-/.test(e)}function s(t){var n,i;return i=[/^[IVXLMCD]{1,2}\\.[ \\u00a0]/,/^[ivxlmcd]{1,2}\\.[ \\u00a0]/,/^[a-z]{1,2}[\\.\\)][ \\u00a0]/,/^[A-Z]{1,2}[\\.\\)][ \\u00a0]/,/^[0-9]+\\.[ \\u00a0]/,/^[\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d]+\\.[ \\u00a0]/,/^[\\u58f1\\u5f10\\u53c2\\u56db\\u4f0d\\u516d\\u4e03\\u516b\\u4e5d\\u62fe]+\\.[ \\u00a0]/],t=t.replace(/^[\\u00a0 ]+/,\"\"),e.each(i,function(e){if(e.test(t))return n=!0,!1}),n}function l(e){return/^[\\s\\u00a0]*[\\u2022\\u00b7\\u00a7\\u25CF]\\s*/.test(e)}function u(u){var c=u.settings;u.on(\"BeforePastePreProcess\",function(d){function h(t,n){var i,o={},a=u.dom.parseStyle(n);return e.each(a,function(e,r){switch(r){case\"mso-list\":(i=/\\w+ \\w+([0-9]+)/i.exec(n))&&(t._listLevel=parseInt(i[1],10)),/Ignore/i.test(e)&&t.firstChild&&(t._listIgnore=!0,t.firstChild._listIgnore=!0);break;case\"horiz-align\":r=\"text-align\";break;case\"vert-align\":r=\"vertical-align\";break;case\"font-color\":case\"mso-foreground\":r=\"color\";break;case\"mso-background\":case\"mso-highlight\":r=\"background\";break;case\"font-weight\":case\"font-style\":return void(\"normal\"!=e&&(o[r]=e));case\"mso-element\":if(/^(comment|comment-list)$/i.test(e))return void t.remove()}return 0===r.indexOf(\"mso-comment\")?void t.remove():void(0!==r.indexOf(\"mso-\")&&(\"all\"==f||p&&p[r])&&(o[r]=e))}),/(bold)/i.test(o[\"font-weight\"])&&(delete o[\"font-weight\"],t.wrap(new r(\"b\",1))),/(italic)/i.test(o[\"font-style\"])&&(delete o[\"font-style\"],t.wrap(new r(\"i\",1))),(o=u.dom.serializeStyle(o,t.name))||null}var f,p,g=d.content;if(g=(g=g.replace(/<b[^>]+id=\"?docs-internal-[^>]*>/gi,\"\")).replace(/<br class=\"?Apple-interchange-newline\"?>/gi,\"\"),(f=c.paste_retain_style_properties)&&(p=e.makeMap(f.split(/[, ]/))),!1!==c.paste_enable_default_filters&&a(d.content)){d.wordContent=!0,g=o.filter(g,[/<!--[\\s\\S]+?-->/gi,/<(!|script[^>]*>.*?<\\/script(?=[>\\s])|\\/?(\\?xml(:\\w+)?|img|meta|link|style|\\w:\\w+)(?=[\\s\\/>]))[^>]*>/gi,[/<(\\/?)s>/gi,\"<$1strike>\"],[/&nbsp;/gi,\" \"],[/<span\\s+style\\s*=\\s*\"\\s*mso-spacerun\\s*:\\s*yes\\s*;?\\s*\"\\s*>([\\s\\u00a0]*)<\\/span>/gi,function(e,t){return t.length>0?t.replace(/./,\" \").slice(Math.floor(t.length/2)).split(\"\").join(\" \"):\"\"}]]);var m=c.paste_word_valid_elements;m||(m=\"-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody\");var v=new n({valid_elements:m,valid_children:\"-li[p]\"});e.each(v.elements,function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push(\"class\")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push(\"style\"))});var y=new t({},v);y.addAttributeFilter(\"style\",function(e){for(var t,n=e.length;n--;)(t=e[n]).attr(\"style\",h(t,t.attr(\"style\"))),\"span\"==t.name&&t.parent&&!t.attributes.length&&t.unwrap()}),y.addAttributeFilter(\"class\",function(e){for(var t,n,i=e.length;i--;)n=(t=e[i]).attr(\"class\"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr(\"class\",null)}),y.addNodeFilter(\"del\",function(e){for(var t=e.length;t--;)e[t].remove()}),y.addNodeFilter(\"a\",function(e){for(var t,n,i,r=e.length;r--;)if(n=(t=e[r]).attr(\"href\"),i=t.attr(\"name\"),n&&-1!=n.indexOf(\"#_msocom_\"))t.remove();else if(n&&0===n.indexOf(\"file://\")&&(n=n.split(\"#\")[1])&&(n=\"#\"+n),n||i){if(i&&!/^_?(?:toc|edn|ftn)/i.test(i)){t.unwrap();continue}t.attr({href:n,name:i})}else t.unwrap()});var x=y.parse(g);!1!==c.paste_convert_word_fake_lists&&function(e){function t(e){var n=\"\";if(3===e.type)return e.value;if(e=e.firstChild)do{n+=t(e)}while(e=e.next);return n}function n(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,\"\"),!1;if(e=e.firstChild)do{if(!n(e,t))return!1}while(e=e.next);return!0}function i(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)do{i(e)}while(e=e.next)}function o(e,t,o){var s=e._listLevel||c;s!=c&&(s<c?a&&(a=a.parent.parent):(u=a,a=null)),a&&a.name==t?a.append(e):(u=u||a,a=new r(t,1),o>1&&a.attr(\"start\",\"\"+o),e.wrap(a)),e.name=\"li\",s>c&&u&&u.lastChild.append(a),c=s,i(e),n(e,/^\\u00a0+/),n(e,/^\\s*([\\u2022\\u00b7\\u00a7\\u25CF]|\\w+\\.)/),n(e,/^\\u00a0+/)}for(var a,u,c=1,d=[],h=e.firstChild;null!=h;)if(d.push(h),null!==(h=h.walk()))for(;void 0!==h&&h.parent!==e;)h=h.walk();for(var f=0;f<d.length;f++)if(\"p\"==(e=d[f]).name&&e.firstChild){var p=t(e);if(l(p)){o(e,\"ul\");continue}if(s(p)){var g=/([0-9]+)\\./.exec(p),m=1;g&&(m=parseInt(g[1],10)),o(e,\"ol\",m);continue}if(e._listLevel){o(e,\"ul\",1);continue}a=null}else u=a,a=null}(x),d.content=new i({validate:c.validate},v).serialize(x)}})}return u.isWordContent=a,u}),i(\"tinymce/pasteplugin/Quirks\",[\"tinymce/Env\",\"tinymce/util/Tools\",\"tinymce/pasteplugin/WordFilter\",\"tinymce/pasteplugin/Utils\"],function(e,t,n,i){return function(r){function o(e){r.on(\"BeforePastePreProcess\",function(t){t.content=e(t.content)})}e.webkit&&o(function(e){if(n.isWordContent(e))return e;var t=r.settings.paste_webkit_styles;if(!1===r.settings.paste_remove_styles_if_webkit||\"all\"==t)return e;if(t&&(t=t.split(/[, ]/)),t){var i=r.dom,o=r.selection.getNode();e=e.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi,function(e,n,r,a){var s=i.parseStyle(r,\"span\"),l={};if(\"none\"===t)return n+a;for(var u=0;u<t.length;u++){var c=s[t[u]],d=i.getStyle(o,t[u],!0);/color/.test(t[u])&&(c=i.toHex(c),d=i.toHex(d)),d!=c&&(l[t[u]]=c)}return(l=i.serializeStyle(l,\"span\"))?n+' style=\"'+l+'\"'+a:n+a})}else e=e.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi,\"$1$3\");return e.replace(/(<[^>]+) data-mce-style=\"([^\"]+)\"([^>]*>)/gi,function(e,t,n,i){return t+' style=\"'+n+'\"'+i})}),e.ie&&(o(function(e){if(!n.isWordContent(e))return e;var o=[];t.each(r.schema.getBlockElements(),function(e,t){o.push(t)});var a=new RegExp(\"(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*(<\\\\/?(\"+o.join(\"|\")+\")[^>]*>)(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*\",\"g\");return e=i.filter(e,[[a,\"$1\"]]),i.filter(e,[[/<br><br>/g,\"<BR><BR>\"],[/<br>/g,\" \"],[/<BR><BR>/g,\"<br>\"]])}),r.on(\"PastePostProcess\",function(e){!function(e){r.$(\"a\",e).find(\"font,u\").each(function(e,t){r.dom.remove(t,!0)})}(e.node)}))}}),i(\"tinymce/pasteplugin/Plugin\",[\"tinymce/PluginManager\",\"tinymce/pasteplugin/Clipboard\",\"tinymce/pasteplugin/WordFilter\",\"tinymce/pasteplugin/Quirks\"],function(e,t,n,i){var r;e.add(\"paste\",function(o){function a(){if(\"text\"==l.pasteFormat)l.pasteFormat=\"html\",o.fire(\"PastePlainTextToggle\",{state:!1});else if(l.pasteFormat=\"text\",o.fire(\"PastePlainTextToggle\",{state:!0}),!r&&!1!==o.settings.paste_plaintext_inform){var e=o.translate(\"Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.\");o.notificationManager.open({text:e,type:\"info\"}),r=!0}o.focus()}function s(){var e=this;e.active(\"text\"===l.pasteFormat),o.on(\"PastePlainTextToggle\",function(t){e.active(t.state)})}var l,u=this,c=o.settings;return/(^|[ ,])powerpaste([, ]|$)/.test(c.plugins)&&e.get(\"powerpaste\")?void(\"undefined\"!=typeof console&&console.log&&console.log(\"PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.\")):(u.clipboard=l=new t(o),u.quirks=new i(o),u.wordFilter=new n(o),o.settings.paste_as_text&&(u.clipboard.pasteFormat=\"text\"),c.paste_preprocess&&o.on(\"PastePreProcess\",function(e){c.paste_preprocess.call(u,u,e)}),c.paste_postprocess&&o.on(\"PastePostProcess\",function(e){c.paste_postprocess.call(u,u,e)}),o.addCommand(\"mceInsertClipboardContent\",function(e,t){t.content&&u.clipboard.pasteHtml(t.content),t.text&&u.clipboard.pasteText(t.text)}),o.settings.paste_block_drop&&o.on(\"dragend dragover draggesture dragdrop drop drag\",function(e){e.preventDefault(),e.stopPropagation()}),o.settings.paste_data_images||o.on(\"drop\",function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()}),o.addCommand(\"mceTogglePlainTextPaste\",a),o.addButton(\"pastetext\",{icon:\"pastetext\",tooltip:\"Paste as text\",onclick:a,onPostRender:s}),void o.addMenuItem(\"pastetext\",{text:\"Paste as text\",selectable:!0,active:l.pasteFormat,onclick:a,onPostRender:s}))})}),function(n){var i,r,a,s,l;for(i=0;i<n.length;i++){r=e,s=(a=n[i]).split(/[.\\/]/);for(var u=0;u<s.length-1;++u)r[s[u]]===t&&(r[s[u]]={}),r=r[s[u]];r[s[s.length-1]]=o[a]}if(e.AMDLC_TESTS){for(a in l=e.privateModules||{},o)l[a]=o[a];for(i=0;i<n.length;i++)delete l[n[i]];e.privateModules=l}}([\"tinymce/pasteplugin/Utils\"])}(window),function(e,t){\"use strict\";function n(e,t){for(var n,i=[],a=0;a<e.length;++a){if(!(n=o[e[a]]||r(e[a])))throw\"module definition dependecy not found: \"+e[a];i.push(n)}t.apply(null,i)}function i(e,i,r){if(\"string\"!=typeof e)throw\"invalid module definition, module id must be defined and be a string\";if(i===t)throw\"invalid module definition, dependencies must be specified\";if(r===t)throw\"invalid module definition, definition function must be specified\";n(i,function(){o[e]=r.apply(null,arguments)})}function r(t){for(var n=e,i=t.split(/[.\\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}var o={};i(\"tinymce/tableplugin/Utils\",[\"tinymce/Env\"],function(e){var t=function(e){return function(t,n){t&&(1===(n=parseInt(n,10))||0===n?t.removeAttribute(e,1):t.setAttribute(e,n,1))}},n=function(e){return function(t){return parseInt(t.getAttribute(e)||1,10)}};return{setColSpan:t(\"colSpan\"),setRowSpan:t(\"rowspan\"),getColSpan:n(\"colSpan\"),getRowSpan:n(\"rowSpan\"),setSpanVal:function(e,n,i){t(n)(e,i)},getSpanVal:function(e,t){return n(t)(e)},paddCell:function(t){(!e.ie||e.ie>9)&&(t.hasChildNodes()||(t.innerHTML='<br data-mce-bogus=\"1\" />'))}}}),i(\"tinymce/tableplugin/SplitCols\",[\"tinymce/util/Tools\",\"tinymce/tableplugin/Utils\"],function(e,t){var n=function(e,t,n){return e[n]?e[n][t]:null},i=function(e,t,i){var r=n(e,t,i);return r?r.elm:null},r=function(e,t,r,o){var a,s=0,l=i(e,t,r);for(a=r;(o>0?a<e.length:a>=0)&&l===n(e,t,a).elm;a+=o)s++;return s},o=function(e,t,n){for(var i,r=e[n],o=t;o<r.length;o++)if((i=r[o]).real)return i.elm;return null},a=function(e,n){for(var i,o=[],a=e[n],s=0;s<a.length;s++)o.push({elm:(i=a[s]).elm,above:r(e,s,n,-1)-1,below:r(e,s,n,1)-1}),s+=t.getColSpan(i.elm)-1;return o},s=function(e,n){var i=e.elm.ownerDocument.createElement(\"td\");return t.setColSpan(i,t.getColSpan(e.elm)),t.setRowSpan(i,n),t.paddCell(i),i},l=function(e,t,n,i){var r=o(e,n+1,i);r?r.parentNode.insertBefore(t,r):(r=o(e,0,i)).parentNode.appendChild(t)},u=function(e,n,i,r){if(0!==n.above){t.setRowSpan(n.elm,n.above);var o=s(n,n.below+1);return l(e,o,i,r),o}return null},c=function(e,n,i,r){if(0!==n.below){t.setRowSpan(n.elm,n.above+1);var o=s(n,n.below);return l(e,o,i,r+1),o}return null};return{splitAt:function(t,n,r,o){var s=a(t,r),l=i(t,n,r).parentNode,d=[];return e.each(s,function(e,n){null!==(o?u(t,e,n,r):c(t,e,n,r))&&d.push(d)}),{cells:d,row:l}}}}),i(\"tinymce/tableplugin/TableGrid\",[\"tinymce/util/Tools\",\"tinymce/Env\",\"tinymce/tableplugin/Utils\",\"tinymce/tableplugin/SplitCols\"],function(e,n,i,r){var o=e.each,a=i.getSpanVal,s=i.setSpanVal;return function(l,u,c){function d(){l.$(\"td[data-mce-selected],th[data-mce-selected]\").removeAttr(\"data-mce-selected\")}function h(e){return e===l.getBody()}function f(t,n){return t?(n=e.map(n.split(\",\"),function(e){return e.toLowerCase()}),e.grep(t.childNodes,function(t){return-1!==e.inArray(n,t.nodeName.toLowerCase())})):[]}function p(){var e=0;O=[],B=0,o([\"thead\",\"tbody\",\"tfoot\"],function(t){var n=f(u,t)[0],i=f(n,\"tr\");o(i,function(n,i){i+=e,o(f(n,\"td,th\"),function(e,n){var r,o,s,l;if(O[i])for(;O[i][n];)n++;for(s=a(e,\"rowspan\"),l=a(e,\"colspan\"),o=i;o<i+s;o++)for(O[o]||(O[o]=[]),r=n;r<n+l;r++)O[o][r]={part:t,real:o==i&&r==n,elm:e,rowspan:s,colspan:l};B=Math.max(B,n+1)})}),e+=i.length})}function g(e){return l.fire(\"newrow\",{node:e}),e}function m(e){return l.fire(\"newcell\",{node:e}),e}function v(e,t){return(e=e.cloneNode(t)).removeAttribute(\"id\"),e}function y(e,t){var n;if(n=O[t])return n[e]}function x(e,t){return e[t]?e[t]:null}function b(e,t){for(var n=[],i=0;i<e.length;i++)n.push(y(t,i));return n}function _(e){return e&&(!!H.getAttrib(e.elm,\"data-mce-selected\")||e==c)}function w(){var e=[];return o(u.rows,function(t){o(t.cells,function(n){if(H.getAttrib(n,\"data-mce-selected\")||c&&n==c.elm)return e.push(t),!1})}),e}function S(t){var r,a={};return!1!==l.settings.table_clone_elements&&(a=e.makeMap((l.settings.table_clone_elements||\"strong em b i span font h1 h2 h3 h4 h5 h6 p div\").toUpperCase(),/[ ,]/)),e.walk(t,function(e){var i;if(3==e.nodeType)return o(H.getParents(e.parentNode,null,t).reverse(),function(e){a[e.nodeName]&&(e=v(e,!1),r?i&&i.appendChild(e):r=i=e,i=e)}),i&&(i.innerHTML=n.ie&&n.ie<10?\"&nbsp;\":'<br data-mce-bogus=\"1\" />'),!1},\"childNodes\"),m(t=v(t,!1)),s(t,\"rowSpan\",1),s(t,\"colSpan\",1),r?t.appendChild(r):i.paddCell(t),t}function C(){var e,t=H.createRng();return o(H.select(\"tr\",u),function(e){0===e.cells.length&&H.remove(e)}),0===H.select(\"tr\",u).length?(t.setStartBefore(u),t.setEndBefore(u),V.setRng(t),void H.remove(u)):(o(H.select(\"thead,tbody,tfoot\",u),function(e){0===e.rows.length&&H.remove(e)}),p(),void(z&&(e=O[Math.min(O.length-1,z.y)],e&&(V.select(e[Math.min(e.length-1,z.x)].elm,!0),V.collapse(!0)))))}function M(e,t,n,i){var r,o,a,s,l;for(r=O[t][e].elm.parentNode,a=1;a<=n;a++)if(r=H.getNext(r,\"tr\")){for(o=e;o>=0;o--)if((l=O[t+a][o].elm).parentNode==r){for(s=1;s<=i;s++)H.insertAfter(S(l),l);break}if(-1==o)for(s=1;s<=i;s++)r.insertBefore(S(r.cells[0]),r.cells[0])}}function T(){o(O,function(e,t){o(e,function(e,n){var i,r,o;if(_(e)&&(i=a(e=e.elm,\"colspan\"),r=a(e,\"rowspan\"),i>1||r>1)){for(s(e,\"rowSpan\",1),s(e,\"colSpan\",1),o=0;o<i-1;o++)H.insertAfter(S(e),e);M(n,t,r-1,i)}})})}function k(e,t,n){for(var i=[],r=0;r<e.length;r++)(r<t||r>n)&&i.push(e[r]);return i}function A(t){return e.grep(t,function(e){return!1===e.real})}function I(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].elm;t[t.length-1]!==i&&t.push(i)}return t}function D(t,n,r,o,a){var s=0;if(a-r<1)return 0;for(var l=r+1;l<=a;l++){var u=k(x(t,l),n,o),c=A(u);u.length===c.length&&(e.each(I(c),function(e){i.setRowSpan(e,i.getRowSpan(e)-1)}),s++)}return s}function N(t,n,r,o,a){var s=0;if(o-n<1)return 0;for(var l=n+1;l<=o;l++){var u=k(b(t,l),r,a),c=A(u);u.length===c.length&&(e.each(I(c),function(e){i.setColSpan(e,i.getColSpan(e)-1)}),s++)}return s}function P(e){var n,i,r,l,u,c,d,h,f,p;if(o(O,function(i,r){if(o(i,function(t){if(_(t)&&(c=g(v(u=(t=t.elm).parentNode,!1)),n=r,e))return!1}),e)return n===t}),n!==t){for(l=0,p=0;l<O[0].length;l+=p)if(O[n][l]&&(p=a(i=O[n][l].elm,\"colspan\"),i!=r)){if(e){if(n>0&&O[n-1][l]&&(f=a(h=O[n-1][l].elm,\"rowSpan\"))>1){s(h,\"rowSpan\",f+1);continue}}else if((f=a(i,\"rowspan\"))>1){s(i,\"rowSpan\",f+1);continue}d=S(i),s(d,\"colSpan\",i.colSpan),c.appendChild(d),r=i}c.hasChildNodes()&&(e?u.parentNode.insertBefore(c,u):H.insertAfter(c,u))}}function L(e){var n,i;o(O,function(i){if(o(i,function(t,i){if(_(t)&&(n=i,e))return!1}),e)return n===t}),o(O,function(t,r){var o,l,u;t[n]&&(o=t[n].elm)!=i&&(u=a(o,\"colspan\"),l=a(o,\"rowspan\"),1==u?e?(o.parentNode.insertBefore(S(o),o),M(n,r,l-1,u)):(H.insertAfter(S(o),o),M(n,r,l-1,u)):s(o,\"colSpan\",o.colSpan+1),i=o)})}function E(e){var t=[];return o(e,function(e){o(e,function(e){t.push(e)})}),t}function R(e){var t;return o(O,function(n,i){return o(n,function(n,r){if(n.elm==e)return t={x:r,y:i},!1}),!t}),t}var O,B,z,F,V=l.selection,H=V.dom;u=u||H.getParent(V.getStart(!0),\"table\"),p(),(c=c||H.getParent(V.getStart(!0),\"th,td\"))&&(z=R(c),F=function(){var e,t;return e=t=0,o(O,function(n,i){o(n,function(n,r){var o,a;_(n)&&(r>e&&(e=r),i>t&&(t=i),(n=O[i][r]).real&&((o=n.colspan-1)&&r+o>e&&(e=r+o),(a=n.rowspan-1)&&i+a>t&&(t=i+a)))})}),{x:e,y:t}}(),c=y(z.x,z.y)),e.extend(this,{deleteTable:function(){var e=H.createRng();h(u)||(e.setStartAfter(u),e.setEndAfter(u),V.setRng(e),H.remove(u))},split:T,merge:function(t,n,i){var r,a,l,u,c,d,h,f,g,m,v,x,b;if(t?(u=(a=(r=R(t)).x)+(n-1),c=(l=r.y)+(i-1)):(z=F=null,o(O,function(e,t){o(e,function(e,n){_(e)&&(z||(z={x:n,y:t}),F={x:n,y:t})})}),z&&(a=z.x,l=z.y,u=F.x,c=F.y)),f=y(a,l),g=y(u,c),f&&g&&f.part==g.part){T(),p(),x=D(O,a,l,u,c),b=N(O,a,l,u,c),f=y(a,l).elm;var w=u-a-b+1,S=c-l-x+1;for(w===B&&S===O.length&&(w=1,S=1),w===B&&S>1&&(S=1),s(f,\"colSpan\",w),s(f,\"rowSpan\",S),h=l;h<=c;h++)for(d=a;d<=u;d++)O[h]&&O[h][d]&&(t=O[h][d].elm)!=f&&(m=e.grep(t.childNodes),o(m,function(e){f.appendChild(e)}),m.length&&(m=e.grep(f.childNodes),v=0,o(m,function(e){\"BR\"==e.nodeName&&v++<m.length-1&&f.removeChild(e)})),H.remove(t));C()}},insertRow:P,insertRows:function(e,t){t=t||w().length||1;for(var n=0;n<t;n++)P(e)},insertCol:L,insertCols:function(e,t){t=t||function(){var e=0;return o(O,function(t){if(o(t,function(t){_(t)&&e++}),e)return!1}),e}()||1;for(var n=0;n<t;n++)L(e)},splitCols:function(t){if(z){var n=r.splitAt(O,z.x,z.y,t);e.each(n.cells,m)}},deleteCols:function(){var t=[];if(h(u)){if(1==O[0].length)return;if(function(t){return e.grep(E(t),_)}(O).length==E(O).length)return}o(O,function(n){o(n,function(n,i){_(n)&&-1===e.inArray(t,i)&&(o(O,function(e){var t,n=e[i].elm;(t=a(n,\"colSpan\"))>1?s(n,\"colSpan\",t-1):H.remove(n)}),t.push(i))})}),C()},deleteRows:function(){var e;e=w(),h(u)&&e.length==u.rows.length||(o(e.reverse(),function(e){!function(e){var t,n;o(e.cells,function(e){var n=a(e,\"rowSpan\");n>1&&(s(e,\"rowSpan\",n-1),M((t=R(e)).x,t.y,1,1))}),t=R(e.cells[0]),o(O[t.y],function(e){var t;(e=e.elm)!=n&&((t=a(e,\"rowSpan\"))<=1?H.remove(e):s(e,\"rowSpan\",t-1),n=e)})}(e)}),C())},cutRows:function(){var e=w();if(!h(u)||e.length!=u.rows.length)return H.remove(e),C(),e},copyRows:function(){var e=w();return o(e,function(t,n){e[n]=v(t,!0)}),e},pasteRows:function(t,n){var i,a,l;t&&(i=r.splitAt(O,z.x,z.y,n),a=i.row,e.each(i.cells,m),l=e.map(t,function(e){return e.cloneNode(!0)}),n||l.reverse(),o(l,function(e){var t,i,r=e.cells.length;for(g(e),t=0;t<r;t++)m(i=e.cells[t]),s(i,\"colSpan\",1),s(i,\"rowSpan\",1);for(t=r;t<B;t++)e.appendChild(m(S(e.cells[r-1])));for(t=B;t<r;t++)H.remove(e.cells[t]);n?a.parentNode.insertBefore(e,a):H.insertAfter(e,a)}),d())},getPos:R,setStartCell:function(e){z=R(e)},setEndCell:function(e){var t,n,i,r,o,a,s,l,u,c;if(F=R(e),z&&F){for(t=Math.min(z.x,F.x),n=Math.min(z.y,F.y),o=i=Math.max(z.x,F.x),a=r=Math.max(z.y,F.y),c=n;c<=r;c++)for(u=t;u<=i;u++)(e=O[c][u]).real&&((s=e.colspan-1)&&u+s>o&&(o=u+s),(l=e.rowspan-1)&&c+l>a&&(a=c+l));for(d(),c=n;c<=a;c++)for(u=t;u<=o;u++)O[c][u]&&H.setAttrib(O[c][u].elm,\"data-mce-selected\",\"1\")}},moveRelIdx:function(e,t){var n,i,r;i=(n=R(e)).y*B+n.x;do{if(!(r=y((i+=t)%B,Math.floor(i/B))))break;if(r.elm!=e)return V.select(r.elm,!0),H.isEmpty(r.elm)&&V.collapse(!0),!0}while(r.elm==e);return!1},refresh:p})}}),i(\"tinymce/tableplugin/Quirks\",[\"tinymce/util/VK\",\"tinymce/util/Delay\",\"tinymce/Env\",\"tinymce/util/Tools\",\"tinymce/tableplugin/Utils\"],function(e,t,n,i,r){var o=i.each,a=r.getSpanVal;return function(s){function l(){s.on(\"KeyDown\",function(e){var t,n,i=s.dom;37!=e.keyCode&&38!=e.keyCode||(t=s.selection.getRng(),(n=i.getParent(t.startContainer,\"table\"))&&s.getBody().firstChild==n&&function(e,t){var n,i=t.ownerDocument,r=i.createRange();return r.setStartBefore(t),r.setEnd(e.endContainer,e.endOffset),(n=i.createElement(\"body\")).appendChild(r.cloneContents()),0===n.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,\"-\").replace(/<[^>]+>/g,\"\").length}(t,n)&&((t=i.createRng()).setStartBefore(n),t.setEndBefore(n),s.selection.setRng(t),e.preventDefault()))})}function u(){s.on(\"KeyDown SetContent VisualAid\",function(){var e;for(e=s.getBody().lastChild;e;e=e.previousSibling)if(3==e.nodeType){if(e.nodeValue.length>0)break}else if(1==e.nodeType&&(\"BR\"==e.tagName||!e.getAttribute(\"data-mce-bogus\")))break;e&&\"TABLE\"==e.nodeName&&(s.settings.forced_root_block?s.dom.add(s.getBody(),s.settings.forced_root_block,s.settings.forced_root_block_attrs,n.ie&&n.ie<10?\"&nbsp;\":'<br data-mce-bogus=\"1\" />'):s.dom.add(s.getBody(),\"br\",{\"data-mce-bogus\":\"1\"}))}),s.on(\"PreProcess\",function(e){var t=e.node.lastChild;t&&(\"BR\"==t.nodeName||1==t.childNodes.length&&(\"BR\"==t.firstChild.nodeName||\" \"==t.firstChild.nodeValue))&&t.previousSibling&&\"TABLE\"==t.previousSibling.nodeName&&s.dom.remove(t)})}(function(){function t(e){s.selection.select(e,!0),s.selection.collapse(!0)}function n(e){s.$(e).empty(),r.paddCell(e)}s.on(\"keydown\",function(r){var o,a,l,u;if((r.keyCode==e.DELETE||r.keyCode==e.BACKSPACE)&&!r.isDefaultPrevented()&&(o=s.dom.getParent(s.selection.getStart(),\"table\"))){if(a=s.dom.select(\"td,th\",o),0===(l=i.grep(a,function(e){return!!s.dom.getAttrib(e,\"data-mce-selected\")})).length)return u=s.dom.getParent(s.selection.getStart(),\"td,th\"),void(s.selection.isCollapsed()&&u&&s.dom.isEmpty(u)&&(r.preventDefault(),n(u),t(u)));r.preventDefault(),s.undoManager.transact(function(){a.length==l.length?s.execCommand(\"mceTableDelete\"):(i.each(l,n),t(l[0]))})}})})(),function(){var t=function(e,t){var n=s.selection.getRng(),i=e.ownerDocument.createTextNode(\" \");n.startOffset?e.insertBefore(i,e.firstChild):e.appendChild(i),t&&(s.selection.select(i,!0),s.selection.collapse(!0))},i=function(t){return(t.keyCode==e.DELETE||t.keyCode==e.BACKSPACE)&&!t.isDefaultPrevented()},r=function(e){return e.firstChild===e.lastChild&&e.firstChild},o=function(e){return e&&3===e.nodeType},a=function(e){var t=r(e);return o(t)&&1===t.data.length?t.data:null},l=function(e){var t=r(e),n=a(e);return t&&!o(t)||n&&!c(n)},u=function(e){return s.dom.isEmpty(e)||c(a(e))},c=function(e){return\" \"===e};s.on(\"keydown\",function(e){if(i(e)){var r=s.dom.getParent(s.selection.getStart(),\"caption\");(function(e){return e&&\"CAPTION\"==e.nodeName&&\"TABLE\"==e.parentNode.nodeName})(r)&&(n.ie&&(s.selection.isCollapsed()?l(r)&&t(r):(s.undoManager.transact(function(){s.execCommand(\"Delete\"),u(r)&&t(r,!0)}),e.preventDefault())),u(r)&&e.preventDefault())}})}(),n.webkit&&(function(){function n(n){function i(e,t){var i=e?\"previousSibling\":\"nextSibling\",o=s.dom.getParent(t,\"tr\"),a=o[i];if(a)return f(0,t,a,e),n.preventDefault(),!0;var u=s.dom.getParent(o,\"table\"),c=o.parentNode,d=c.nodeName.toLowerCase();if(\"tbody\"===d||d===(e?\"tfoot\":\"thead\")){var h=function(e,t,n,i){var r=s.dom.select(\">tbody\",t),o=r.indexOf(n);return e&&0===o||!e&&o===r.length-1?function(e,t){var n=s.dom.select(\">\"+(e?\"thead\":\"tfoot\"),t);return 0!==n.length?n[0]:null}(e,t):-1===o?r[\"thead\"===n.tagName.toLowerCase()?0:r.length-1]:r[o+(e?-1:1)]}(e,u,c);if(null!==h)return r(e,h,t)}return l(e,o,i,u)}function r(e,t,i){var r=u(t,e);return r&&f(0,i,r,e),n.preventDefault(),!0}function l(e,t,r,o){var a=o[r];if(a)return c(a),!0;var l=s.dom.getParent(o,\"td,th\");return l?i(e,l):(c(u(t,!e)),n.preventDefault(),!1)}function u(e,t){var n=e&&e[t?\"lastChild\":\"firstChild\"];return n&&\"BR\"===n.nodeName?s.dom.getParent(n,\"td,th\"):n}function c(e){s.selection.setCursorLocation(e,0)}function d(e){for(var t=0,n=e;n.previousSibling;)t+=a(n=n.previousSibling,\"colspan\");return t}function h(e,t){var n=0,i=0;return o(e.children,function(e,r){if(n+=a(e,\"colspan\"),i=r,n>t)return!1}),i}function f(e,t,n,i){var r=h(n,d(s.dom.getParent(t,\"td,th\"))),o=n.childNodes[r];c(u(o,i)||o)}var p=n.keyCode;if((p==e.UP||p==e.DOWN)&&function(e){var t=e.selection.getNode();return null!==e.dom.getParent(t,\"tr\")}(s)){var g=s.selection.getNode();t.setEditorTimeout(s,function(){(function(e){var t=s.selection.getNode(),n=s.dom.getParent(t,\"td,th\"),i=s.dom.getParent(e,\"td,th\");return n&&n!==i&&function(e,t){return s.dom.getParent(e,\"TABLE\")===s.dom.getParent(t,\"TABLE\")}(n,i)})(g)&&i(!n.shiftKey&&p===e.UP,g)},0)}}s.on(\"KeyDown\",function(e){n(e)})}(),function(){function e(){var e=s.selection.getRng(),t=s.selection.getNode(),n=s.dom.getParent(e.startContainer,\"TD,TH\");if(function(e,t,n,i){var r,o=e.dom.getParent(t.startContainer,\"TABLE\");return o&&(r=o.parentNode),3==t.startContainer.nodeType&&0===t.startOffset&&0===t.endOffset&&i&&(\"TR\"==n.nodeName||n==r)||(\"TD\"==n.nodeName||\"TH\"==n.nodeName)&&!i}(s,e,t,n)){n||(n=t);for(var i=n.lastChild;i.lastChild;)i=i.lastChild;3==i.nodeType&&(e.setEnd(i,i.data.length),s.selection.setRng(e))}}s.on(\"KeyDown\",function(){e()}),s.on(\"MouseDown\",function(t){2!=t.button&&e()})}()),n.gecko&&(l(),u()),n.ie>9&&(l(),u())}}),i(\"tinymce/tableplugin/CellSelection\",[\"tinymce/tableplugin/TableGrid\",\"tinymce/dom/TreeWalker\",\"tinymce/util/Tools\"],function(e,t,n){return function(i,r){function o(e){i.getBody().style.webkitUserSelect=\"\",(e||g)&&(i.$(\"td[data-mce-selected],th[data-mce-selected]\").removeAttr(\"data-mce-selected\"),g=!1)}function a(e,t){return!(!e||!t)&&e===p.getParent(t,\"table\")}function s(t){var n,o,s=t.target;if(!h&&!f&&s!==d&&(d=s,c&&u)){if(o=p.getParent(s,\"td,th\"),a(c,o)||(o=p.getParent(c,\"td,th\")),u===o&&!g)return;if(r(!0),a(c,o)){t.preventDefault(),l||(l=new e(i,c,u),i.getBody().style.webkitUserSelect=\"none\"),l.setEndCell(o),g=!0,n=i.selection.getSel();try{n.removeAllRanges?n.removeAllRanges():n.empty()}catch(e){}}}}var l,u,c,d,h,f,p=i.dom,g=!0,m=function(){u=l=c=d=null,r(!1)};return i.on(\"SelectionChange\",function(e){g&&e.stopImmediatePropagation()},!0),i.on(\"MouseDown\",function(e){2==e.button||h||f||(o(),u=p.getParent(e.target,\"td,th\"),c=p.getParent(u,\"table\"))}),i.on(\"mouseover\",s),i.on(\"remove\",function(){p.unbind(i.getDoc(),\"mouseover\",s),o()}),i.on(\"MouseUp\",function(){function e(e,i){var o=new t(e,e);do{if(3==e.nodeType&&0!==n.trim(e.nodeValue).length)return void(i?r.setStart(e,0):r.setEnd(e,e.nodeValue.length));if(\"BR\"==e.nodeName)return void(i?r.setStartBefore(e):r.setEndBefore(e))}while(e=i?o.next():o.prev())}var r,o,a,s,c,d=i.selection;if(u){if(l&&(i.getBody().style.webkitUserSelect=\"\"),(o=p.select(\"td[data-mce-selected],th[data-mce-selected]\")).length>0){(r=p.createRng()).setStartBefore(s=o[0]),r.setEndAfter(s),e(s,1),a=new t(s,p.getParent(o[0],\"table\"));do{if(\"TD\"==s.nodeName||\"TH\"==s.nodeName){if(!p.getAttrib(s,\"data-mce-selected\"))break;c=s}}while(s=a.next());e(c),d.setRng(r)}i.nodeChanged(),m()}}),i.on(\"KeyUp Drop SetContent\",function(e){o(\"setcontent\"==e.type),m(),h=!1}),i.on(\"ObjectResizeStart ObjectResized\",function(e){h=\"objectresized\"!=e.type}),i.on(\"dragstart\",function(){f=!0}),i.on(\"drop dragend\",function(){f=!1}),{clear:o}}}),i(\"tinymce/tableplugin/Dialogs\",[\"tinymce/util/Tools\",\"tinymce/Env\"],function(e,t){var n=e.each;return function(i){function r(){var e=i.settings.color_picker_callback;if(e)return function(){var t=this;e.call(i,function(e){t.value(e).fire(\"change\")},t.value())}}function o(e){return{title:\"Advanced\",type:\"form\",defaults:{onchange:function(){c(e,this.parents().reverse()[0],\"style\"==this.name())}},items:[{label:\"Style\",name:\"style\",type:\"textbox\"},{type:\"form\",padding:0,formItemDefaults:{layout:\"grid\",alignH:[\"start\",\"right\"]},defaults:{size:7},items:[{label:\"Border color\",type:\"colorbox\",name:\"borderColor\",onaction:r()},{label:\"Background color\",type:\"colorbox\",name:\"backgroundColor\",onaction:r()}]}]}}function a(e){return e?e.replace(/px$/,\"\"):\"\"}function s(e){return/^[0-9]+$/.test(e)&&(e+=\"px\"),e}function l(e){n(\"left center right\".split(\" \"),function(t){i.formatter.remove(\"align\"+t,{},e)})}function u(t,n,i){return function t(i,r){return r=r||[],e.each(i,function(e){var i={text:e.text||e.title};e.menu?i.menu=t(e.menu):(i.value=e.value,n&&n(i)),r.push(i)}),r}(t,i||[])}function c(e,t,n){var i=t.toJSON(),r=e.parseStyle(i.style);n?(t.find(\"#borderColor\").value(r[\"border-color\"]||\"\")[0].fire(\"change\"),t.find(\"#backgroundColor\").value(r[\"background-color\"]||\"\")[0].fire(\"change\")):(r[\"border-color\"]=i.borderColor,r[\"background-color\"]=i.backgroundColor),t.find(\"#style\").value(e.serializeStyle(e.parseStyle(e.serializeStyle(r))))}function d(e,t,n){var i=e.parseStyle(e.getAttrib(n,\"style\"));i[\"border-color\"]&&(t.borderColor=i[\"border-color\"]),i[\"background-color\"]&&(t.backgroundColor=i[\"background-color\"]),t.style=e.serializeStyle(i)}function h(e,t,i){var r=e.parseStyle(e.getAttrib(t,\"style\"));n(i,function(e){r[e.name]=e.value}),e.setAttrib(t,\"style\",e.serializeStyle(e.parseStyle(e.serializeStyle(r))))}var f=this;f.tableProps=function(){f.table(!0)},f.table=function(r){function f(){function n(e,t,i){if(\"TD\"===e.tagName||\"TH\"===e.tagName)_.setStyle(e,t,i);else if(e.children)for(var r=0;r<e.children.length;r++)n(e.children[r],t,i)}var r;c(_,this),!1===(w=e.extend(w,this.toJSON())).class&&delete w.class,i.undoManager.transact(function(){if(g||(g=i.plugins.table.insertTable(w.cols||1,w.rows||1)),i.dom.setAttribs(g,{style:w.style,class:w.class}),i.settings.table_style_by_css){if((b=[]).push({name:\"border\",value:w.border}),b.push({name:\"border-spacing\",value:s(w.cellspacing)}),h(_,g,b),_.setAttribs(g,{\"data-mce-border-color\":w.borderColor,\"data-mce-cell-padding\":w.cellpadding,\"data-mce-border\":w.border}),g.children)for(var e=0;e<g.children.length;e++)n(g.children[e],\"border\",w.border),n(g.children[e],\"padding\",s(w.cellpadding))}else i.dom.setAttribs(g,{border:w.border,cellpadding:w.cellpadding,cellspacing:w.cellspacing});_.getAttrib(g,\"width\")&&!i.settings.table_style_by_css?_.setAttrib(g,\"width\",a(w.width)):_.setStyle(g,\"width\",s(w.width)),_.setStyle(g,\"height\",s(w.height)),(r=_.select(\"caption\",g)[0])&&!w.caption&&_.remove(r),!r&&w.caption&&((r=_.create(\"caption\")).innerHTML=t.ie?\" \":'<br data-mce-bogus=\"1\"/>',g.insertBefore(r,g.firstChild)),l(g),w.align&&i.formatter.apply(\"align\"+w.align,{},g),i.focus(),i.addVisual()})}function p(e,t){return function(e,n){for(var i=0;i<n.length;i++){var r=_.getStyle(n[i],t);if(void 0===e&&(e=r),e!=r)return\"\"}return e}(void 0,i.dom.select(\"td,th\",e))}var g,m,v,y,x,b,_=i.dom,w={};!0===r?(g=_.getParent(i.selection.getStart(),\"table\"))&&(w={width:a(_.getStyle(g,\"width\")||_.getAttrib(g,\"width\")),height:a(_.getStyle(g,\"height\")||_.getAttrib(g,\"height\")),cellspacing:a(_.getStyle(g,\"border-spacing\")||_.getAttrib(g,\"cellspacing\")),cellpadding:_.getAttrib(g,\"data-mce-cell-padding\")||_.getAttrib(g,\"cellpadding\")||p(g,\"padding\"),border:_.getAttrib(g,\"data-mce-border\")||_.getAttrib(g,\"border\")||p(g,\"border\"),borderColor:_.getAttrib(g,\"data-mce-border-color\"),caption:!!_.select(\"caption\",g)[0],class:_.getAttrib(g,\"class\")},n(\"left center right\".split(\" \"),function(e){i.formatter.matchNode(g,\"align\"+e)&&(w.align=e)})):(m={label:\"Cols\",name:\"cols\"},v={label:\"Rows\",name:\"rows\"}),i.settings.table_class_list&&(w.class&&(w.class=w.class.replace(/\\s*mce\\-item\\-table\\s*/g,\"\")),y={name:\"class\",type:\"listbox\",label:\"Class\",values:u(i.settings.table_class_list,function(e){e.value&&(e.textStyle=function(){return i.formatter.getCssText({block:\"table\",classes:[e.value]})})})}),x={type:\"form\",layout:\"flex\",direction:\"column\",labelGapCalc:\"children\",padding:0,items:[{type:\"form\",labelGapCalc:!1,padding:0,layout:\"grid\",columns:2,defaults:{type:\"textbox\",maxWidth:50},items:!1!==i.settings.table_appearance_options?[m,v,{label:\"Width\",name:\"width\"},{label:\"Height\",name:\"height\"},{label:\"Cell spacing\",name:\"cellspacing\"},{label:\"Cell padding\",name:\"cellpadding\"},{label:\"Border\",name:\"border\"},{label:\"Caption\",name:\"caption\",type:\"checkbox\"}]:[m,v,{label:\"Width\",name:\"width\"},{label:\"Height\",name:\"height\"}]},{label:\"Alignment\",name:\"align\",type:\"listbox\",text:\"None\",values:[{text:\"None\",value:\"\"},{text:\"Left\",value:\"left\"},{text:\"Center\",value:\"center\"},{text:\"Right\",value:\"right\"}]},y]},!1!==i.settings.table_advtab?(d(_,w,g),i.windowManager.open({title:\"Table properties\",data:w,bodyType:\"tabpanel\",body:[{title:\"General\",type:\"form\",items:x},o(_)],onsubmit:f})):i.windowManager.open({title:\"Table properties\",data:w,body:x,onsubmit:f})},f.merge=function(e,t){i.windowManager.open({title:\"Merge cells\",body:[{label:\"Cols\",name:\"cols\",type:\"textbox\",value:\"1\",size:10},{label:\"Rows\",name:\"rows\",type:\"textbox\",value:\"1\",size:10}],onsubmit:function(){var n=this.toJSON();i.undoManager.transact(function(){e.merge(t,n.cols,n.rows)})}})},f.cell=function(){function t(e,t,n){(1===v.length||n)&&m.setAttrib(e,t,n)}function r(e,t,n){(1===v.length||n)&&m.setStyle(e,t,n)}function h(){c(m,this),p=e.extend(p,this.toJSON()),i.undoManager.transact(function(){n(v,function(e){t(e,\"scope\",p.scope),t(e,\"style\",p.style),t(e,\"class\",p.class),r(e,\"width\",s(p.width)),r(e,\"height\",s(p.height)),p.type&&e.nodeName.toLowerCase()!==p.type&&(e=m.rename(e,p.type)),1===v.length&&(l(e),function(e){n(\"top middle bottom\".split(\" \"),function(t){i.formatter.remove(\"valign\"+t,{},e)})}(e)),p.align&&i.formatter.apply(\"align\"+p.align,{},e),p.valign&&i.formatter.apply(\"valign\"+p.valign,{},e)}),i.focus()})}var f,p,g,m=i.dom,v=[];if(v=i.dom.select(\"td[data-mce-selected],th[data-mce-selected]\"),f=i.dom.getParent(i.selection.getStart(),\"td,th\"),!v.length&&f&&v.push(f),f=f||v[0]){v.length>1?p={width:\"\",height:\"\",scope:\"\",class:\"\",align:\"\",style:\"\",type:f.nodeName.toLowerCase()}:((p={width:a(m.getStyle(f,\"width\")||m.getAttrib(f,\"width\")),height:a(m.getStyle(f,\"height\")||m.getAttrib(f,\"height\")),scope:m.getAttrib(f,\"scope\"),class:m.getAttrib(f,\"class\")}).type=f.nodeName.toLowerCase(),n(\"left center right\".split(\" \"),function(e){i.formatter.matchNode(f,\"align\"+e)&&(p.align=e)}),n(\"top middle bottom\".split(\" \"),function(e){i.formatter.matchNode(f,\"valign\"+e)&&(p.valign=e)}),d(m,p,f)),i.settings.table_cell_class_list&&(g={name:\"class\",type:\"listbox\",label:\"Class\",values:u(i.settings.table_cell_class_list,function(e){e.value&&(e.textStyle=function(){return i.formatter.getCssText({block:\"td\",classes:[e.value]})})})});var y={type:\"form\",layout:\"flex\",direction:\"column\",labelGapCalc:\"children\",padding:0,items:[{type:\"form\",layout:\"grid\",columns:2,labelGapCalc:!1,padding:0,defaults:{type:\"textbox\",maxWidth:50},items:[{label:\"Width\",name:\"width\"},{label:\"Height\",name:\"height\"},{label:\"Cell type\",name:\"type\",type:\"listbox\",text:\"None\",minWidth:90,maxWidth:null,values:[{text:\"Cell\",value:\"td\"},{text:\"Header cell\",value:\"th\"}]},{label:\"Scope\",name:\"scope\",type:\"listbox\",text:\"None\",minWidth:90,maxWidth:null,values:[{text:\"None\",value:\"\"},{text:\"Row\",value:\"row\"},{text:\"Column\",value:\"col\"},{text:\"Row group\",value:\"rowgroup\"},{text:\"Column group\",value:\"colgroup\"}]},{label:\"H Align\",name:\"align\",type:\"listbox\",text:\"None\",minWidth:90,maxWidth:null,values:[{text:\"None\",value:\"\"},{text:\"Left\",value:\"left\"},{text:\"Center\",value:\"center\"},{text:\"Right\",value:\"right\"}]},{label:\"V Align\",name:\"valign\",type:\"listbox\",text:\"None\",minWidth:90,maxWidth:null,values:[{text:\"None\",value:\"\"},{text:\"Top\",value:\"top\"},{text:\"Middle\",value:\"middle\"},{text:\"Bottom\",value:\"bottom\"}]}]},g]};i.windowManager.open(!1!==i.settings.table_cell_advtab?{title:\"Cell properties\",bodyType:\"tabpanel\",data:p,body:[{title:\"General\",type:\"form\",items:y},o(m)],onsubmit:h}:{title:\"Cell properties\",data:p,body:y,onsubmit:h})}},f.row=function(){function t(e,t,n){(1===x.length||n)&&y.setAttrib(e,t,n)}function r(){var r,o,a;c(y,this),m=e.extend(m,this.toJSON()),i.undoManager.transact(function(){var e=m.type;n(x,function(n){t(n,\"scope\",m.scope),t(n,\"style\",m.style),t(n,\"class\",m.class),function(e,t,n){(1===x.length||n)&&y.setStyle(e,\"height\",n)}(n,0,s(m.height)),e!==n.parentNode.nodeName.toLowerCase()&&(r=y.getParent(n,\"table\"),o=n.parentNode,(a=y.select(e,r)[0])||(a=y.create(e),r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a)),a.appendChild(n),o.hasChildNodes()||y.remove(o)),1===x.length&&l(n),m.align&&i.formatter.apply(\"align\"+m.align,{},n)}),i.focus()})}var h,f,p,g,m,v,y=i.dom,x=[];h=i.dom.getParent(i.selection.getStart(),\"table\"),f=i.dom.getParent(i.selection.getStart(),\"td,th\"),n(h.rows,function(e){n(e.cells,function(t){if(y.getAttrib(t,\"data-mce-selected\")||t==f)return x.push(e),!1})}),(p=x[0])&&(x.length>1?m={height:\"\",scope:\"\",class:\"\",align:\"\",type:p.parentNode.nodeName.toLowerCase()}:((m={height:a(y.getStyle(p,\"height\")||y.getAttrib(p,\"height\")),scope:y.getAttrib(p,\"scope\"),class:y.getAttrib(p,\"class\")}).type=p.parentNode.nodeName.toLowerCase(),n(\"left center right\".split(\" \"),function(e){i.formatter.matchNode(p,\"align\"+e)&&(m.align=e)}),d(y,m,p)),i.settings.table_row_class_list&&(g={name:\"class\",type:\"listbox\",label:\"Class\",values:u(i.settings.table_row_class_list,function(e){e.value&&(e.textStyle=function(){return i.formatter.getCssText({block:\"tr\",classes:[e.value]})})})}),v={type:\"form\",columns:2,padding:0,defaults:{type:\"textbox\"},items:[{type:\"listbox\",name:\"type\",label:\"Row type\",text:\"Header\",maxWidth:null,values:[{text:\"Header\",value:\"thead\"},{text:\"Body\",value:\"tbody\"},{text:\"Footer\",value:\"tfoot\"}]},{type:\"listbox\",name:\"align\",label:\"Alignment\",text:\"None\",maxWidth:null,values:[{text:\"None\",value:\"\"},{text:\"Left\",value:\"left\"},{text:\"Center\",value:\"center\"},{text:\"Right\",value:\"right\"}]},{label:\"Height\",name:\"height\"},g]},i.windowManager.open(!1!==i.settings.table_row_advtab?{title:\"Row properties\",data:m,bodyType:\"tabpanel\",body:[{title:\"General\",type:\"form\",items:v},o(y)],onsubmit:r}:{title:\"Row properties\",data:m,body:v,onsubmit:r}))}}}),i(\"tinymce/tableplugin/ResizeBars\",[\"tinymce/util/Tools\",\"tinymce/util/VK\"],function(e,n){var i;return function(r){function o(e,t){return{index:e,y:r.dom.getPos(t).y}}function a(e,t){return{index:e,y:r.dom.getPos(t).y+t.offsetHeight}}function s(e,t){return{index:e,x:r.dom.getPos(t).x}}function l(e,t){return{index:e,x:r.dom.getPos(t).x+t.offsetWidth}}function u(){return\"rtl\"===r.getBody().dir}function c(){return r.inline}function d(){return c?r.getBody().ownerDocument.body:r.getBody()}function h(e,t){return u()?l(e,t):s(e,t)}function f(e,t){return u()?s(e,t):l(e,t)}function p(e,t){var n=r.dom.getStyle(e,t,!0);return parseInt(n,10)}function g(e){return p(e,\"width\")/p(e.parentElement,\"width\")*100}function m(e,t,n){for(var i=[],r=1;r<n.length;r++)i.push(e(r-1,n[r].element));return i.push(t(n.length-1,n[n.length-1].element)),i}function v(){var t=r.dom.select(\".\"+oe,d());e.each(t,function(e){r.dom.remove(e)})}function y(e){v(),A(e)}function x(e,t,n,i,r,o,a,s){var l={\"data-mce-bogus\":\"all\",class:oe+\" \"+e,unselectable:\"on\",\"data-mce-resize\":!1,style:\"cursor: \"+t+\"; margin: 0; padding: 0; position: absolute; left: \"+n+\"px; top: \"+i+\"px; height: \"+r+\"px; width: \"+o+\"px; \"};return l[a]=s,l}function b(t,n,i){e.each(t,function(e){var t=i.x,o=e.y-pe/2,a=pe,s=n;r.dom.add(d(),\"div\",x(ae,se,t,o,a,s,le,e.index))})}function _(t,n,i){e.each(t,function(e){var t=e.x-pe/2,o=i.y,a=n,s=pe;r.dom.add(d(),\"div\",x(ce,de,t,o,a,s,he,e.index))})}function w(t){return e.map(t.rows,function(t){return{element:t,cells:e.map(t.cells,function(e){var t=e.hasAttribute(\"rowspan\")?parseInt(e.getAttribute(\"rowspan\"),10):1,n=e.hasAttribute(\"colspan\")?parseInt(e.getAttribute(\"colspan\"),10):1;return{element:e,rowspan:t,colspan:n}})}})}function S(n){function i(e,t){return e+\",\"+t}var r={},o=[],a=0,s=0;return e.each(n,function(n,l){var u=[];e.each(n.cells,function(e){for(var n=0;r[i(l,n)]!==t;)n++;for(var o={element:e.element,colspan:e.colspan,rowspan:e.rowspan,rowIndex:l,colIndex:n},c=0;c<e.colspan;c++)for(var d=0;d<e.rowspan;d++){var h=l+d,f=n+c;r[i(h,f)]=o,a=Math.max(a,h+1),s=Math.max(s,f+1)}u.push(o)}),o.push({element:n.element,cells:u})}),{grid:{maxRows:a,maxCols:s},getAt:function(e,t){return r[i(e,t)]},getAllCells:function(){var t=[];return e.each(o,function(e){t=t.concat(e.cells)}),t},getAllRows:function(){return o}}}function C(e,t){for(var n=[],i=e;i<t;i++)n.push(i);return n}function M(e,t,n){for(var i,r=e(),o=0;o<r.length;o++)t(r[o])&&(i=r[o]);return i||n()}function T(t){var n=C(0,t.grid.maxCols),i=C(0,t.grid.maxRows);return e.map(n,function(e){return M(function(){for(var n=[],r=0;r<i.length;r++){var o=t.getAt(r,e);o&&o.colIndex===e&&n.push(o)}return n},function(e){return 1===e.colspan},function(){for(var n,r=0;r<i.length;r++)if(n=t.getAt(r,e))return n;return null})})}function k(t){var n=C(0,t.grid.maxCols),i=C(0,t.grid.maxRows);return e.map(i,function(e){return M(function(){for(var i=[],r=0;r<n.length;r++){var o=t.getAt(e,r);o&&o.rowIndex===e&&i.push(o)}return i},function(e){return 1===e.rowspan},function(){return t.getAt(e,0)})})}function A(e){var t=S(w(e)),n=k(t),i=T(t),s=r.dom.getPos(e),l=n.length>0?m(o,a,n):[],u=i.length>0?m(h,f,i):[];b(l,e.offsetWidth,s),_(u,e.offsetHeight,s)}function I(e,t,n,i){if(t<0||t>=e.length-1)return\"\";var r=e[t];if(r)r={value:r,delta:0};else for(var o=e.slice(0,t).reverse(),a=0;a<o.length;a++)o[a]&&(r={value:o[a],delta:a+1});var s=e[t+1];if(s)s={value:s,delta:1};else for(var l=e.slice(t+1),u=0;u<l.length;u++)l[u]&&(s={value:l[u],delta:u+1});var c=s.delta-r.delta,d=Math.abs(s.value-r.value)/c;return n?d/p(i,\"width\")*100:d}function D(e,t){var n=r.dom.getStyle(e,t);return n||(n=r.dom.getAttrib(e,t)),n||(n=r.dom.getStyle(e,t,!0)),n}function N(e,t,n){var i=D(e,\"width\"),r=parseInt(i,10),o=t?function(e,t){return p(e,\"width\")/p(t,\"width\")*100}(e,n):p(e,\"width\");return(t&&!V(i)||!t&&!H(i))&&(r=0),!isNaN(r)&&r>0?r:o}function P(t,n,i){for(var r=T(t),o=e.map(r,function(e){return h(e.colIndex,e.element).x}),a=[],s=0;s<r.length;s++){var l=(r[s].element.hasAttribute(\"colspan\")?parseInt(r[s].element.getAttribute(\"colspan\"),10):1)>1?I(o,s):N(r[s].element,n,i);a.push(l=l||ge)}return a}function L(e){var t=D(e,\"height\"),n=parseInt(t,10);return V(t)&&(n=0),!isNaN(n)&&n>0?n:p(e,\"height\")}function E(t){for(var n=k(t),i=e.map(n,function(e){return o(e.rowIndex,e.element).y}),r=[],a=0;a<n.length;a++){var s=(n[a].element.hasAttribute(\"rowspan\")?parseInt(n[a].element.getAttribute(\"rowspan\"),10):1)>1?I(i,a):L(n[a].element);r.push(s=s||me)}return r}function R(t,n,i,r,o){function a(t){return e.map(t,function(){return 0})}function s(e,t){var n,o=a(l.slice(0,e)),s=a(l.slice(t+1));if(i>=0){var u=Math.max(r,l[t]-i);n=o.concat([i,u-l[t]]).concat(s)}else{var c=Math.max(r,l[e]+i);n=o.concat([c-l[e],l[e]-c]).concat(s)}return n}var l=t.slice(0);return 0===t.length?[]:1===t.length?o?[100-l[0]]:[Math.max(r,l[0]+i)-l[0]]:0===n?s(0,1):n>0&&n<t.length-1?s(n,n+1):n===t.length-1?function(e,t){var n,o=a(l.slice(0,t));if(i>=0)n=o.concat([i]);else{var s=Math.max(r,l[t]+i);n=o.concat([s-l[t]])}return n}(0,n):[]}function O(e,t,n){for(var i=0,r=e;r<t;r++)i+=n[r];return i}function B(t,n){var i=t.getAllCells();return e.map(i,function(e){var t=O(e.colIndex,e.colIndex+e.colspan,n);return{element:e.element,width:t,colspan:e.colspan}})}function z(t,n){var i=t.getAllCells();return e.map(i,function(e){var t=O(e.rowIndex,e.rowIndex+e.rowspan,n);return{element:e.element,height:t,rowspan:e.rowspan}})}function F(t,n){var i=t.getAllRows();return e.map(i,function(e,t){return{element:e.element,height:n[t]}})}function V(e){return ye.test(e)}function H(e){return xe.test(e)}function W(t,n,i){for(var o=S(w(t)),a=V(t.width)||V(t.style.width),s=P(o,a,t),l=a?function(e,t){return t/p(e,\"width\")*100}(t,n):n,u=R(s,i,l,ge,a),c=[],d=0;d<u.length;d++)c.push(u[d]+s[d]);var h=B(o,c),f=a?\"%\":\"px\",m=a?i<o.grid.maxCols-1?g(t):g(t)+function(e,t){return t/p(e.parentElement,\"width\")*100}(t,n):i<o.grid.maxCols-1?p(t,\"width\"):p(t,\"width\")+n;r.undoManager.transact(function(){(function(t,n){e.each(t,function(e){r.dom.setStyle(e.element,\"width\",e.width+n),r.dom.setAttrib(e.element,\"width\",null)})})(h,f),function(e,n,a){i!=o.grid.maxCols-1&&a||(r.dom.setStyle(t,\"width\",e+n),r.dom.setAttrib(t,\"width\",null))}(m,f,a)})}function G(t,n,i){for(var o=S(w(t)),a=E(o),s=[],l=0,u=0;u<a.length;u++)s.push(u===i?n+a[u]:a[u]),l+=l[u];var c=z(o,s),d=F(o,s);r.undoManager.transact(function(){e.each(d,function(e){r.dom.setStyle(e.element,\"height\",e.height+\"px\"),r.dom.setAttrib(e.element,\"height\",null)}),e.each(c,function(e){r.dom.setStyle(e.element,\"height\",e.height+\"px\"),r.dom.setAttrib(e.element,\"height\",null)}),r.dom.setStyle(t,\"height\",l+\"px\"),r.dom.setAttrib(t,\"height\",null)})}function U(){if(r.dom.remove(te),ee){var e,t;if(r.dom.removeClass(ne,ve),ee=!1,q(ne)){var n=parseInt(r.dom.getAttrib(ne,fe),10),o=r.dom.getPos(ne).x;e=parseInt(r.dom.getAttrib(ne,he),10),t=u()?n-o:o-n,Math.abs(t)>=1&&W(i,t,e)}else if(Z(ne)){var a=parseInt(r.dom.getAttrib(ne,ue),10),s=r.dom.getPos(ne).y;e=parseInt(r.dom.getAttrib(ne,le),10),t=s-a,Math.abs(t)>=1&&G(i,t,e)}y(i),r.nodeChanged()}}function j(e,t){te=te||function(){var e=document.createElement(\"div\");return e.setAttribute(\"style\",\"margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;\"),e.setAttribute(\"data-mce-bogus\",\"all\"),e}(),ee=!0,r.dom.addClass(e,ve),ne=e,function(e,t){r.dom.bind(e,\"mouseup\",function(){U()}),r.dom.bind(e,\"mousemove\",function(e){clearTimeout(Q),ee&&t(e)}),r.dom.bind(e,\"mouseout\",function(){Q=setTimeout(function(){U()},200)})}(te,t),r.dom.add(d(),te)}function q(e){return r.dom.hasClass(e,ce)}function Z(e){return r.dom.hasClass(e,ae)}function Y(e){var n=e.clientX-(ie=ie!==t?ie:e.clientX);ie=e.clientX;var i=r.dom.getPos(ne).x;r.dom.setStyle(ne,\"left\",i+n+\"px\")}function X(e){var n=e.clientY-(re=re!==t?re:e.clientY);re=e.clientY;var i=r.dom.getPos(ne).y;r.dom.setStyle(ne,\"top\",i+n+\"px\")}function $(e){ie=t,j(e,Y)}function K(e){re=t,j(e,X)}function J(e){var t=e.target,n=r.getBody();if(r.$.contains(n,i)||i===n)if(q(t)){e.preventDefault();var o=r.dom.getPos(t).x;r.dom.setAttrib(t,fe,o),$(t)}else if(Z(t)){e.preventDefault();var a=r.dom.getPos(t).y;r.dom.setAttrib(t,ue,a),K(t)}else v()}var Q,ee,te,ne,ie,re,oe=\"mce-resize-bar\",ae=\"mce-resize-bar-row\",se=\"row-resize\",le=\"data-row\",ue=\"data-initial-top\",ce=\"mce-resize-bar-col\",de=\"col-resize\",he=\"data-col\",fe=\"data-initial-left\",pe=4,ge=10,me=10,ve=\"mce-resize-bar-dragging\",ye=new RegExp(/(\\d+(\\.\\d+)?%)/),xe=new RegExp(/px|em/);return r.on(\"init\",function(){r.dom.bind(d(),\"mousedown\",J)}),r.on(\"ObjectResized\",function(t){var n=t.target;if(\"TABLE\"===n.nodeName){var i=[];e.each(n.rows,function(t){e.each(t.cells,function(e){var t=r.dom.getStyle(e,\"width\",!0);i.push({cell:e,width:t})})}),e.each(i,function(e){r.dom.setStyle(e.cell,\"width\",e.width),r.dom.setAttrib(e.cell,\"width\",null)})}}),r.on(\"mouseover\",function(e){if(!ee){var t=r.dom.getParent(e.target,\"table\");(\"TABLE\"===e.target.nodeName||t)&&(i=t,y(t))}}),r.on(\"keydown\",function(e){switch(e.keyCode){case n.LEFT:case n.RIGHT:case n.UP:case n.DOWN:v()}}),r.on(\"remove\",function(){v(),r.dom.unbind(d(),\"mousedown\",J)}),{adjustWidth:W,adjustHeight:G,clearBars:v,drawBars:A,determineDeltas:R,getTableGrid:S,getTableDetails:w,getWidths:P,getPixelHeights:E,isPercentageBasedSize:V,isPixelBasedSize:H,recalculateWidths:B,recalculateCellHeights:z,recalculateRowHeights:F}}}),i(\"tinymce/tableplugin/Plugin\",[\"tinymce/tableplugin/TableGrid\",\"tinymce/tableplugin/Quirks\",\"tinymce/tableplugin/CellSelection\",\"tinymce/tableplugin/Dialogs\",\"tinymce/tableplugin/ResizeBars\",\"tinymce/util/Tools\",\"tinymce/dom/TreeWalker\",\"tinymce/Env\",\"tinymce/PluginManager\"],function(e,t,n,i,r,o,a,s,l){var u=o.each;l.add(\"table\",function(o){function a(e){return function(){o.execCommand(e)}}function l(e,t){var n,i,r,a;for(r='<table id=\"__mce\"><tbody>',n=0;n<t;n++){for(r+=\"<tr>\",i=0;i<e;i++)r+=\"<td>\"+(s.ie&&s.ie<10?\"&nbsp;\":\"<br>\")+\"</td>\";r+=\"</tr>\"}return r+=\"</tbody></table>\",o.undoManager.transact(function(){o.insertContent(r),a=o.dom.get(\"__mce\"),o.dom.setAttrib(a,\"id\",null),o.$(\"tr\",a).each(function(e,t){o.fire(\"newrow\",{node:t}),o.$(\"th,td\",t).each(function(e,t){o.fire(\"newcell\",{node:t})})}),o.dom.setAttribs(a,o.settings.table_default_attributes||{}),o.dom.setStyles(a,o.settings.table_default_styles||{})}),a}function c(e,t,n){function i(){var i,r,a,s={},l=0;(i=(r=o.dom.select(\"td[data-mce-selected],th[data-mce-selected]\"))[0])||(i=o.selection.getStart()),n&&r.length>0?(u(r,function(e){return s[e.parentNode.parentNode.nodeName]=1}),u(s,function(e){l+=e}),a=1!==l):a=!o.dom.getParent(i,t),e.disabled(a),o.selection.selectorChanged(t,function(t){e.disabled(!t)})}o.initialized?i():o.on(\"init\",i)}function d(){c(this,\"table\")}function h(){c(this,\"td,th\")}function f(e,t,n){var i,r,a,s,l,u=n.getEl().getElementsByTagName(\"table\")[0],c=n.isRtl()||\"tl-tr\"==n.parent().rel;for(u.nextSibling.innerHTML=e+1+\" x \"+(t+1),c&&(e=9-e),r=0;r<10;r++)for(i=0;i<10;i++)o.dom.toggleClass(s=u.rows[r].childNodes[i].firstChild,\"mce-active\",l=(c?i>=e:i<=e)&&r<=t),l&&(a=s);return a.parentNode}function p(e){return o.dom.is(e,\"table\")&&o.getBody().contains(e)}var g,m,v=this,y=new i(o);!o.settings.object_resizing||!1===o.settings.table_resize_bars||!0!==o.settings.object_resizing&&\"table\"!==o.settings.object_resizing||(m=r(o)),o.addMenuItem(\"inserttable\",!1===o.settings.table_grid?{text:\"Table\",icon:\"table\",context:\"table\",onclick:y.table}:{text:\"Table\",icon:\"table\",context:\"table\",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),y.table())},onshow:function(){f(0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName(\"a\");o.dom.removeClass(e,\"mce-active\"),o.dom.addClass(e[0],\"mce-active\")},menu:[{type:\"container\",html:function(){var e=\"\";e='<table role=\"grid\" class=\"mce-grid mce-grid-border\" aria-readonly=\"true\">';for(var t=0;t<10;t++){e+=\"<tr>\";for(var n=0;n<10;n++)e+='<td role=\"gridcell\" tabindex=\"-1\"><a id=\"mcegrid'+(10*t+n)+'\" href=\"#\" data-mce-x=\"'+n+'\" data-mce-y=\"'+t+'\"></a></td>';e+=\"</tr>\"}return(e+=\"</table>\")+'<div class=\"mce-text-center\" role=\"presentation\">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t,n,i=e.target;\"A\"==i.tagName.toUpperCase()&&(t=parseInt(i.getAttribute(\"data-mce-x\"),10),n=parseInt(i.getAttribute(\"data-mce-y\"),10),(this.isRtl()||\"tl-tr\"==this.parent().rel)&&(t=9-t),t===this.lastX&&n===this.lastY||(f(t,n,e.control),this.lastX=t,this.lastY=n))},onclick:function(e){var t=this;\"A\"==e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),t.parent().cancel(),o.undoManager.transact(function(){l(t.lastX+1,t.lastY+1)}),o.addVisual())}}]}),o.addMenuItem(\"tableprops\",{text:\"Table properties\",context:\"table\",onPostRender:d,onclick:y.tableProps}),o.addMenuItem(\"deletetable\",{text:\"Delete table\",context:\"table\",onPostRender:d,cmd:\"mceTableDelete\"}),o.addMenuItem(\"cell\",{separator:\"before\",text:\"Cell\",context:\"table\",menu:[{text:\"Cell properties\",onclick:a(\"mceTableCellProps\"),onPostRender:h},{text:\"Merge cells\",onclick:a(\"mceTableMergeCells\"),onPostRender:function(){c(this,\"td,th\",!0)}},{text:\"Split cell\",onclick:a(\"mceTableSplitCells\"),onPostRender:h}]}),o.addMenuItem(\"row\",{text:\"Row\",context:\"table\",menu:[{text:\"Insert row before\",onclick:a(\"mceTableInsertRowBefore\"),onPostRender:h},{text:\"Insert row after\",onclick:a(\"mceTableInsertRowAfter\"),onPostRender:h},{text:\"Delete row\",onclick:a(\"mceTableDeleteRow\"),onPostRender:h},{text:\"Row properties\",onclick:a(\"mceTableRowProps\"),onPostRender:h},{text:\"-\"},{text:\"Cut row\",onclick:a(\"mceTableCutRow\"),onPostRender:h},{text:\"Copy row\",onclick:a(\"mceTableCopyRow\"),onPostRender:h},{text:\"Paste row before\",onclick:a(\"mceTablePasteRowBefore\"),onPostRender:h},{text:\"Paste row after\",onclick:a(\"mceTablePasteRowAfter\"),onPostRender:h}]}),o.addMenuItem(\"column\",{text:\"Column\",context:\"table\",menu:[{text:\"Insert column before\",onclick:a(\"mceTableInsertColBefore\"),onPostRender:h},{text:\"Insert column after\",onclick:a(\"mceTableInsertColAfter\"),onPostRender:h},{text:\"Delete column\",onclick:a(\"mceTableDeleteCol\"),onPostRender:h}]});var x=[];u(\"inserttable tableprops deletetable | cell row column\".split(\" \"),function(e){x.push(\"|\"==e?{text:\"-\"}:o.menuItems[e])}),o.addButton(\"table\",{type:\"menubutton\",title:\"Table\",menu:x}),s.isIE||o.on(\"click\",function(e){\"TABLE\"===(e=e.target).nodeName&&(o.selection.select(e),o.nodeChanged())}),v.quirks=new t(o),o.on(\"Init\",function(){v.cellSelection=new n(o,function(e){e&&m&&m.clearBars()}),v.resizeBars=m}),o.on(\"PreInit\",function(){o.serializer.addAttributeFilter(\"data-mce-cell-padding,data-mce-border,data-mce-border-color\",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})}),u({mceTableSplitCells:function(e){e.split()},mceTableMergeCells:function(e){var t;t=o.dom.getParent(o.selection.getStart(),\"th,td\"),o.dom.select(\"td[data-mce-selected],th[data-mce-selected]\").length?e.merge():y.merge(e,t)},mceTableInsertRowBefore:function(e){e.insertRows(!0)},mceTableInsertRowAfter:function(e){e.insertRows()},mceTableInsertColBefore:function(e){e.insertCols(!0)},mceTableInsertColAfter:function(e){e.insertCols()},mceTableDeleteCol:function(e){e.deleteCols()},mceTableDeleteRow:function(e){e.deleteRows()},mceTableCutRow:function(e){g=e.cutRows()},mceTableCopyRow:function(e){g=e.copyRows()},mceTablePasteRowBefore:function(e){e.pasteRows(g,!0)},mceTablePasteRowAfter:function(e){e.pasteRows(g)},mceSplitColsBefore:function(e){e.splitCols(!0)},mceSplitColsAfter:function(e){e.splitCols(!1)},mceTableDelete:function(e){m&&m.clearBars(),e.deleteTable()}},function(t,n){o.addCommand(n,function(){var n=new e(o);n&&(t(n),o.execCommand(\"mceRepaint\"),v.cellSelection.clear())})}),u({mceInsertTable:y.table,mceTableProps:function(){y.table(!0)},mceTableRowProps:y.row,mceTableCellProps:y.cell},function(e,t){o.addCommand(t,function(t,n){e(n)})}),o.addButton(\"tableprops\",{title:\"Table properties\",onclick:y.tableProps,icon:\"table\"}),o.addButton(\"tabledelete\",{title:\"Delete table\",onclick:a(\"mceTableDelete\")}),o.addButton(\"tablecellprops\",{title:\"Cell properties\",onclick:a(\"mceTableCellProps\")}),o.addButton(\"tablemergecells\",{title:\"Merge cells\",onclick:a(\"mceTableMergeCells\")}),o.addButton(\"tablesplitcells\",{title:\"Split cell\",onclick:a(\"mceTableSplitCells\")}),o.addButton(\"tableinsertrowbefore\",{title:\"Insert row before\",onclick:a(\"mceTableInsertRowBefore\")}),o.addButton(\"tableinsertrowafter\",{title:\"Insert row after\",onclick:a(\"mceTableInsertRowAfter\")}),o.addButton(\"tabledeleterow\",{title:\"Delete row\",onclick:a(\"mceTableDeleteRow\")}),o.addButton(\"tablerowprops\",{title:\"Row properties\",onclick:a(\"mceTableRowProps\")}),o.addButton(\"tablecutrow\",{title:\"Cut row\",onclick:a(\"mceTableCutRow\")}),o.addButton(\"tablecopyrow\",{title:\"Copy row\",onclick:a(\"mceTableCopyRow\")}),o.addButton(\"tablepasterowbefore\",{title:\"Paste row before\",onclick:a(\"mceTablePasteRowBefore\")}),o.addButton(\"tablepasterowafter\",{title:\"Paste row after\",onclick:a(\"mceTablePasteRowAfter\")}),o.addButton(\"tableinsertcolbefore\",{title:\"Insert column before\",onclick:a(\"mceTableInsertColBefore\")}),o.addButton(\"tableinsertcolafter\",{title:\"Insert column after\",onclick:a(\"mceTableInsertColAfter\")}),o.addButton(\"tabledeletecol\",{title:\"Delete column\",onclick:a(\"mceTableDeleteCol\")}),function(){var e=o.settings.table_toolbar;\"\"!==e&&!1!==e&&(e||(e=\"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol\"),o.addContextToolbar(p,e))}(),!1!==o.settings.table_tab_navigation&&o.on(\"keydown\",function(t){var n,i,r;9==t.keyCode&&(n=o.dom.getParent(o.selection.getStart(),\"th,td\"))&&(t.preventDefault(),i=new e(o),r=t.shiftKey?-1:1,o.undoManager.transact(function(){!i.moveRelIdx(n,r)&&r>0&&(i.insertRow(),i.refresh(),i.moveRelIdx(n,r))}))}),v.insertTable=l,v.setClipboardRows=function(e){g=e},v.getClipboardRows=function(){return g}})})}(window),function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],t):t(e.echarts={})}(this,function(e){\"use strict\";function t(e,t){\"createCanvas\"===e&&(gg=null),fg[e]=t}function n(e){if(null==e||\"object\"!=typeof e)return e;var t=e,i=ag.call(e);if(\"[object Array]\"===i){if(!E(e)){t=[];for(var r=0,o=e.length;r<o;r++)t[r]=n(e[r])}}else if(og[i]){if(!E(e)){var a=e.constructor;if(e.constructor.from)t=a.from(e);else for(t=new a(e.length),r=0,o=e.length;r<o;r++)t[r]=n(e[r])}}else if(!rg[i]&&!E(e)&&!C(e))for(var s in t={},e)e.hasOwnProperty(s)&&(t[s]=n(e[s]));return t}function i(e,t,r){if(!_(t)||!_(e))return r?n(t):e;for(var o in t)if(t.hasOwnProperty(o)){var a=e[o],s=t[o];!_(s)||!_(a)||y(s)||y(a)||C(s)||C(a)||w(s)||w(a)||E(s)||E(a)?!r&&o in e||(e[o]=n(t[o])):i(a,s,r)}return e}function r(e,t){for(var n=e[0],r=1,o=e.length;r<o;r++)n=i(n,e[r],t);return n}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function a(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(n?null!=t[i]:null==e[i])&&(e[i]=t[i]);return e}function s(){return gg||(gg=pg().getContext(\"2d\")),gg}function l(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1}function u(e,t){function n(){}var i=e.prototype;for(var r in n.prototype=t.prototype,e.prototype=new n,i)e.prototype[r]=i[r];e.prototype.constructor=e,e.superClass=t}function c(e,t,n){a(e=\"prototype\"in e?e.prototype:e,t=\"prototype\"in t?t.prototype:t,n)}function d(e){if(e)return\"string\"!=typeof e&&\"number\"==typeof e.length}function h(e,t,n){if(e&&t)if(e.forEach&&e.forEach===lg)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function f(e,t,n){if(e&&t){if(e.map&&e.map===dg)return e.map(t,n);for(var i=[],r=0,o=e.length;r<o;r++)i.push(t.call(n,e[r],r,e));return i}}function p(e,t,n,i){if(e&&t){if(e.reduce&&e.reduce===hg)return e.reduce(t,n,i);for(var r=0,o=e.length;r<o;r++)n=t.call(i,n,e[r],r,e);return n}}function g(e,t,n){if(e&&t){if(e.filter&&e.filter===ug)return e.filter(t,n);for(var i=[],r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)&&i.push(e[r]);return i}}function m(e,t){var n=cg.call(arguments,2);return function(){return e.apply(t,n.concat(cg.call(arguments)))}}function v(e){var t=cg.call(arguments,1);return function(){return e.apply(this,t.concat(cg.call(arguments)))}}function y(e){return\"[object Array]\"===ag.call(e)}function x(e){return\"function\"==typeof e}function b(e){return\"[object String]\"===ag.call(e)}function _(e){var t=typeof e;return\"function\"===t||!!e&&\"object\"==t}function w(e){return!!rg[ag.call(e)]}function S(e){return!!og[ag.call(e)]}function C(e){return\"object\"==typeof e&&\"number\"==typeof e.nodeType&&\"object\"==typeof e.ownerDocument}function M(e){return e!=e}function T(e){for(var t=0,n=arguments.length;t<n;t++)if(null!=arguments[t])return arguments[t]}function k(e,t){return null!=e?e:t}function A(e,t,n){return null!=e?e:null!=t?t:n}function I(){return Function.call.apply(cg,arguments)}function D(e){if(\"number\"==typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function N(e,t){if(!e)throw new Error(t)}function P(e){return null==e?null:\"function\"==typeof e.trim?e.trim():e.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\"\")}function L(e){e[mg]=!0}function E(e){return e[mg]}function R(e){function t(e,t){n?i.set(e,t):i.set(t,e)}var n=y(e),i=this;e instanceof R?e.each(t):e&&h(e,t)}function O(e){return new R(e)}function B(e,t){for(var n=new e.constructor(e.length+t.length),i=0;i<e.length;i++)n[i]=e[i];var r=e.length;for(i=0;i<t.length;i++)n[i+r]=t[i];return n}function z(){}function F(e,t){var n=new yg(2);return null==e&&(e=0),null==t&&(t=0),n[0]=e,n[1]=t,n}function V(e,t){return e[0]=t[0],e[1]=t[1],e}function H(e){var t=new yg(2);return t[0]=e[0],t[1]=e[1],t}function W(e,t,n){return e[0]=t,e[1]=n,e}function G(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function U(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e}function j(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function q(e){return Math.sqrt(Z(e))}function Z(e){return e[0]*e[0]+e[1]*e[1]}function Y(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function X(e,t){var n=q(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function $(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function K(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}function J(e,t,n,i){return e[0]=t[0]+i*(n[0]-t[0]),e[1]=t[1]+i*(n[1]-t[1]),e}function Q(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[2]*r+n[4],e[1]=n[1]*i+n[3]*r+n[5],e}function ee(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function te(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function ne(){this.on(\"mousedown\",this._dragStart,this),this.on(\"mousemove\",this._drag,this),this.on(\"mouseup\",this._dragEnd,this),this.on(\"globalout\",this._dragEnd,this)}function ie(e,t){return{target:e,topTarget:t&&t.topTarget}}function re(){}function oe(e,t,n){if(e[e.rectHover?\"rectContain\":\"contain\"](t,n)){for(var i,r=e;r;){if(r.clipPath&&!r.clipPath.contain(t,n))return!1;r.silent&&(i=!0),r=r.parent}return!i||Cg}return!1}function ae(){var e=new kg(6);return se(e),e}function se(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function le(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function ue(e,t,n){var i=t[1]*n[0]+t[3]*n[1],r=t[0]*n[2]+t[2]*n[3],o=t[1]*n[2]+t[3]*n[3],a=t[0]*n[4]+t[2]*n[5]+t[4],s=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=t[0]*n[0]+t[2]*n[1],e[1]=i,e[2]=r,e[3]=o,e[4]=a,e[5]=s,e}function ce(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function de(e,t,n){var i=t[0],r=t[2],o=t[4],a=t[1],s=t[3],l=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=i*c+a*u,e[1]=-i*u+a*c,e[2]=r*c+s*u,e[3]=-r*u+c*s,e[4]=c*o+u*l,e[5]=c*l-u*o,e}function he(e,t,n){var i=n[0],r=n[1];return e[0]=t[0]*i,e[1]=t[1]*r,e[2]=t[2]*i,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*r,e}function fe(e,t){var n=t[0],i=t[2],r=t[4],o=t[1],a=t[3],s=t[5],l=n*a-o*i;return l?(e[0]=a*(l=1/l),e[1]=-o*l,e[2]=-i*l,e[3]=n*l,e[4]=(i*s-a*r)*l,e[5]=(o*r-n*s)*l,e):null}function pe(e){var t=ae();return le(t,e),t}function ge(e){return e>Dg||e<-Dg}function me(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||\"Linear\",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}function ve(e){return(e=Math.round(e))<0?0:e>255?255:e}function ye(e){return e<0?0:e>1?1:e}function xe(e){return ve(e.length&&\"%\"===e.charAt(e.length-1)?parseFloat(e)/100*255:parseInt(e,10))}function be(e){return ye(e.length&&\"%\"===e.charAt(e.length-1)?parseFloat(e)/100:parseFloat(e))}function _e(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function we(e,t,n){return e+(t-e)*n}function Se(e,t,n,i,r){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e}function Ce(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Me(e,t){Wg&&Ce(Wg,t),Wg=Hg.put(e,Wg||t.slice())}function Te(e,t){if(e){t=t||[];var n=Hg.get(e);if(n)return Ce(t,n);var i=(e+=\"\").replace(/ /g,\"\").toLowerCase();if(i in Vg)return Ce(t,Vg[i]),Me(e,t),t;if(\"#\"!==i.charAt(0)){var r=i.indexOf(\"(\"),o=i.indexOf(\")\");if(-1!==r&&o+1===i.length){var a=i.substr(0,r),s=i.substr(r+1,o-(r+1)).split(\",\"),l=1;switch(a){case\"rgba\":if(4!==s.length)return void Se(t,0,0,0,1);l=be(s.pop());case\"rgb\":return 3!==s.length?void Se(t,0,0,0,1):(Se(t,xe(s[0]),xe(s[1]),xe(s[2]),l),Me(e,t),t);case\"hsla\":return 4!==s.length?void Se(t,0,0,0,1):(s[3]=be(s[3]),ke(s,t),Me(e,t),t);case\"hsl\":return 3!==s.length?void Se(t,0,0,0,1):(ke(s,t),Me(e,t),t);default:return}}Se(t,0,0,0,1)}else{if(4===i.length)return(u=parseInt(i.substr(1),16))>=0&&u<=4095?(Se(t,(3840&u)>>4|(3840&u)>>8,240&u|(240&u)>>4,15&u|(15&u)<<4,1),Me(e,t),t):void Se(t,0,0,0,1);if(7===i.length){var u=parseInt(i.substr(1),16);return u>=0&&u<=16777215?(Se(t,(16711680&u)>>16,(65280&u)>>8,255&u,1),Me(e,t),t):void Se(t,0,0,0,1)}}}}function ke(e,t){var n=(parseFloat(e[0])%360+360)%360/360,i=be(e[1]),r=be(e[2]),o=r<=.5?r*(i+1):r+i-r*i,a=2*r-o;return Se(t=t||[],ve(255*_e(a,o,n+1/3)),ve(255*_e(a,o,n)),ve(255*_e(a,o,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function Ae(e,t){var n=Te(e);if(n){for(var i=0;i<3;i++)n[i]=t<0?n[i]*(1-t)|0:(255-n[i])*t+n[i]|0;return Ee(n,4===n.length?\"rgba\":\"rgb\")}}function Ie(e){var t=Te(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function De(e,t,n){if(t&&t.length&&e>=0&&e<=1){n=n||[];var i=e*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=t[r],s=t[o],l=i-r;return n[0]=ve(we(a[0],s[0],l)),n[1]=ve(we(a[1],s[1],l)),n[2]=ve(we(a[2],s[2],l)),n[3]=ye(we(a[3],s[3],l)),n}}function Ne(e,t,n){if(t&&t.length&&e>=0&&e<=1){var i=e*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=Te(t[r]),s=Te(t[o]),l=i-r,u=Ee([ve(we(a[0],s[0],l)),ve(we(a[1],s[1],l)),ve(we(a[2],s[2],l)),ye(we(a[3],s[3],l))],\"rgba\");return n?{color:u,leftIndex:r,rightIndex:o,value:i}:u}}function Pe(e,t,n,i){if(e=Te(e))return e=function(e){if(e){var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a,u=(s+a)/2;if(0===l)t=0,n=0;else{n=u<.5?l/(s+a):l/(2-s-a);var c=((s-i)/6+l/2)/l,d=((s-r)/6+l/2)/l,h=((s-o)/6+l/2)/l;i===s?t=h-d:r===s?t=1/3+c-h:o===s&&(t=2/3+d-c),t<0&&(t+=1),t>1&&(t-=1)}var f=[360*t,n,u];return null!=e[3]&&f.push(e[3]),f}}(e),null!=t&&(e[0]=function(e){return(e=Math.round(e))<0?0:e>360?360:e}(t)),null!=n&&(e[1]=be(n)),null!=i&&(e[2]=be(i)),Ee(ke(e),\"rgba\")}function Le(e,t){if((e=Te(e))&&null!=t)return e[3]=ye(t),Ee(e,\"rgba\")}function Ee(e,t){if(e&&e.length){var n=e[0]+\",\"+e[1]+\",\"+e[2];return\"rgba\"!==t&&\"hsva\"!==t&&\"hsla\"!==t||(n+=\",\"+e[3]),t+\"(\"+n+\")\"}}function Re(e,t){return e[t]}function Oe(e,t,n){e[t]=n}function Be(e,t,n){return(t-e)*n+e}function ze(e,t,n){return n>.5?t:e}function Fe(e,t,n,i,r){var o=e.length;if(1==r)for(s=0;s<o;s++)i[s]=Be(e[s],t[s],n);else for(var a=o&&e[0].length,s=0;s<o;s++)for(var l=0;l<a;l++)i[s][l]=Be(e[s][l],t[s][l],n)}function Ve(e,t,n){var i=e.length,r=t.length;if(i!==r)if(i>r)e.length=r;else for(a=i;a<r;a++)e.push(1===n?t[a]:Ug.call(t[a]));for(var o=e[0]&&e[0].length,a=0;a<e.length;a++)if(1===n)isNaN(e[a])&&(e[a]=t[a]);else for(var s=0;s<o;s++)isNaN(e[a][s])&&(e[a][s]=t[a][s])}function He(e,t,n){if(e===t)return!0;var i=e.length;if(i!==t.length)return!1;if(1===n){for(o=0;o<i;o++)if(e[o]!==t[o])return!1}else for(var r=e[0].length,o=0;o<i;o++)for(var a=0;a<r;a++)if(e[o][a]!==t[o][a])return!1;return!0}function We(e,t,n,i,r,o,a,s,l){var u=e.length;if(1==l)for(d=0;d<u;d++)s[d]=Ge(e[d],t[d],n[d],i[d],r,o,a);else for(var c=e[0].length,d=0;d<u;d++)for(var h=0;h<c;h++)s[d][h]=Ge(e[d][h],t[d][h],n[d][h],i[d][h],r,o,a)}function Ge(e,t,n,i,r,o,a){var s=.5*(n-e),l=.5*(i-t);return(2*(t-n)+s+l)*a+(-3*(t-n)-2*s-l)*o+s*r+t}function Ue(e){if(d(e)){var t=e.length;if(d(e[0])){for(var n=[],i=0;i<t;i++)n.push(Ug.call(e[i]));return n}return Ug.call(e)}return e}function je(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),\"rgba(\"+e.join(\",\")+\")\"}function qe(e,t,n,i,r,o){var a=e._getter,s=e._setter,l=\"spline\"===t,u=i.length;if(u){var c,h=d(i[0].value),f=!1,p=!1,g=h?function(e){var t=e[e.length-1].value;return d(t&&t[0])?2:1}(i):0;i.sort(function(e,t){return e.time-t.time}),c=i[u-1].time;for(var m=[],v=[],y=i[0].value,x=!0,b=0;b<u;b++){m.push(i[b].time/c);var _=i[b].value;if(h&&He(_,y,g)||!h&&_===y||(x=!1),y=_,\"string\"==typeof _){var w=Te(_);w?(_=w,f=!0):p=!0}v.push(_)}if(o||!x){var S=v[u-1];for(b=0;b<u-1;b++)h?Ve(v[b],S,g):!isNaN(v[b])||isNaN(S)||p||f||(v[b]=S);h&&Ve(a(e._target,r),S,g);var C,M,T,k,A,I=0,D=0;if(f)var N=[0,0,0,0];var P=new me({target:e._target,life:c,loop:e._loop,delay:e._delay,onframe:function(e,t){var n;if(t<0)n=0;else if(t<D){for(n=Math.min(I+1,u-1);n>=0&&!(m[n]<=t);n--);n=Math.min(n,u-2)}else{for(n=I;n<u&&!(m[n]>t);n++);n=Math.min(n-1,u-2)}I=n,D=t;var i=m[n+1]-m[n];if(0!==i)if(C=(t-m[n])/i,l)if(T=v[n],M=v[0===n?n:n-1],k=v[n>u-2?u-1:n+1],A=v[n>u-3?u-1:n+2],h)We(M,T,k,A,C,C*C,C*C*C,a(e,r),g);else{if(f)o=We(M,T,k,A,C,C*C,C*C*C,N,1),o=je(N);else{if(p)return ze(T,k,C);o=Ge(M,T,k,A,C,C*C,C*C*C)}s(e,r,o)}else if(h)Fe(v[n],v[n+1],C,a(e,r),g);else{var o;if(f)Fe(v[n],v[n+1],C,N,1),o=je(N);else{if(p)return ze(v[n],v[n+1],C);o=Be(v[n],v[n+1],C)}s(e,r,o)}},ondestroy:n});return t&&\"spline\"!==t&&(P.easing=t),P}}}function Ze(e,t,n,i){n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i),this.x=e,this.y=t,this.width=n,this.height=i}function Ye(e,t,n,i){var r=t+1;if(r===n)return 1;if(i(e[r++],e[t])<0){for(;r<n&&i(e[r],e[r-1])<0;)r++;!function(e,t,n){for(n--;t<n;){var i=e[t];e[t++]=e[n],e[n--]=i}}(e,t,r)}else for(;r<n&&i(e[r],e[r-1])>=0;)r++;return r-t}function Xe(e,t,n,i,r){for(i===t&&i++;i<n;i++){for(var o,a=e[i],s=t,l=i;s<l;)r(a,e[o=s+l>>>1])<0?l=o:s=o+1;var u=i-s;switch(u){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;u>0;)e[s+u]=e[s+u-1],u--}e[s]=a}}function $e(e,t,n,i,r,o){var a=0,s=0,l=1;if(o(e,t[n+r])>0){for(s=i-r;l<s&&o(e,t[n+r+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(e,t[n+r-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}for(a++;a<l;){var c=a+(l-a>>>1);o(e,t[n+c])>0?a=c+1:l=c}return l}function Ke(e,t,n,i,r,o){var a=0,s=0,l=1;if(o(e,t[n+r])<0){for(s=r+1;l<s&&o(e,t[n+r-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}else{for(s=i-r;l<s&&o(e,t[n+r+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var c=a+(l-a>>>1);o(e,t[n+c])<0?l=c:a=c+1}return l}function Je(e,t){function n(n){var s=o[n],u=a[n],c=o[n+1],d=a[n+1];a[n]=u+d,n===l-3&&(o[n+1]=o[n+2],a[n+1]=a[n+2]),l--;var h=Ke(e[c],e,s,u,0,t);s+=h,0!=(u-=h)&&0!==(d=$e(e[s+u-1],e,c,d,d-1,t))&&(u<=d?i(s,u,c,d):r(s,u,c,d))}function i(n,i,r,o){var a=0;for(a=0;a<i;a++)u[a]=e[n+a];var l=0,c=r,d=n;if(e[d++]=e[c++],0!=--o)if(1!==i){for(var h,f,p,g=s;;){h=0,f=0,p=!1;do{if(t(e[c],u[l])<0){if(e[d++]=e[c++],f++,h=0,0==--o){p=!0;break}}else if(e[d++]=u[l++],h++,f=0,1==--i){p=!0;break}}while((h|f)<g);if(p)break;do{if(0!==(h=Ke(e[c],u,l,i,0,t))){for(a=0;a<h;a++)e[d+a]=u[l+a];if(d+=h,l+=h,(i-=h)<=1){p=!0;break}}if(e[d++]=e[c++],0==--o){p=!0;break}if(0!==(f=$e(u[l],e,c,o,0,t))){for(a=0;a<f;a++)e[d+a]=e[c+a];if(d+=f,c+=f,0==(o-=f)){p=!0;break}}if(e[d++]=u[l++],1==--i){p=!0;break}g--}while(h>=tm||f>=tm);if(p)break;g<0&&(g=0),g+=2}if((s=g)<1&&(s=1),1===i){for(a=0;a<o;a++)e[d+a]=e[c+a];e[d+o]=u[l]}else{if(0===i)throw new Error;for(a=0;a<i;a++)e[d+a]=u[l+a]}}else{for(a=0;a<o;a++)e[d+a]=e[c+a];e[d+o]=u[l]}else for(a=0;a<i;a++)e[d+a]=u[l+a]}function r(n,i,r,o){var a=0;for(a=0;a<o;a++)u[a]=e[r+a];var l=n+i-1,c=o-1,d=r+o-1,h=0,f=0;if(e[d--]=e[l--],0!=--i)if(1!==o){for(var p=s;;){var g=0,m=0,v=!1;do{if(t(u[c],e[l])<0){if(e[d--]=e[l--],g++,m=0,0==--i){v=!0;break}}else if(e[d--]=u[c--],m++,g=0,1==--o){v=!0;break}}while((g|m)<p);if(v)break;do{if(0!=(g=i-Ke(u[c],e,n,i,i-1,t))){for(i-=g,f=1+(d-=g),h=1+(l-=g),a=g-1;a>=0;a--)e[f+a]=e[h+a];if(0===i){v=!0;break}}if(e[d--]=u[c--],1==--o){v=!0;break}if(0!=(m=o-$e(e[l],u,0,o,o-1,t))){for(o-=m,f=1+(d-=m),h=1+(c-=m),a=0;a<m;a++)e[f+a]=u[h+a];if(o<=1){v=!0;break}}if(e[d--]=e[l--],0==--i){v=!0;break}p--}while(g>=tm||m>=tm);if(v)break;p<0&&(p=0),p+=2}if((s=p)<1&&(s=1),1===o){for(f=1+(d-=i),h=1+(l-=i),a=i-1;a>=0;a--)e[f+a]=e[h+a];e[d]=u[c]}else{if(0===o)throw new Error;for(h=d-(o-1),a=0;a<o;a++)e[h+a]=u[a]}}else{for(f=1+(d-=i),h=1+(l-=i),a=i-1;a>=0;a--)e[f+a]=e[h+a];e[d]=u[c]}else for(h=d-(o-1),a=0;a<o;a++)e[h+a]=u[a]}var o,a,s=tm,l=0,u=[];o=[],a=[],this.mergeRuns=function(){for(;l>1;){var e=l-2;if(e>=1&&a[e-1]<=a[e]+a[e+1]||e>=2&&a[e-2]<=a[e]+a[e-1])a[e-1]<a[e+1]&&e--;else if(a[e]>a[e+1])break;n(e)}},this.forceMergeRuns=function(){for(;l>1;){var e=l-2;e>0&&a[e-1]<a[e+1]&&e--,n(e)}},this.pushRun=function(e,t){o[l]=e,a[l]=t,l+=1}}function Qe(e,t,n,i){n||(n=0),i||(i=e.length);var r=i-n;if(!(r<2)){var o=0;if(r<em)return void Xe(e,n,i,n+(o=Ye(e,n,i,t)),t);var a=new Je(e,t),s=function(e){for(var t=0;e>=em;)t|=1&e,e>>=1;return e+t}(r);do{if((o=Ye(e,n,i,t))<s){var l=r;l>s&&(l=s),Xe(e,n,n+l,n+o,t),o=l}a.pushRun(n,o),a.mergeRuns(),r-=o,n+=o}while(0!==r);a.forceMergeRuns()}}function et(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}function tt(e,t,n){var i=null==t.x?0:t.x,r=null==t.x2?1:t.x2,o=null==t.y?0:t.y,a=null==t.y2?0:t.y2;return t.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),e.createLinearGradient(i,o,r,a)}function nt(e,t,n){var i=n.width,r=n.height,o=Math.min(i,r),a=null==t.x?.5:t.x,s=null==t.y?.5:t.y,l=null==t.r?.5:t.r;return t.global||(a=a*i+n.x,s=s*r+n.y,l*=o),e.createRadialGradient(a,s,0,a,s,l)}function it(){return!1}function rt(e,t,n){var i=pg(),r=t.getWidth(),o=t.getHeight(),a=i.style;return a&&(a.position=\"absolute\",a.left=0,a.top=0,a.width=r+\"px\",a.height=o+\"px\",i.setAttribute(\"data-zr-dom-id\",e)),i.width=r*n,i.height=o*n,i}function ot(e){if(\"string\"==typeof e){var t=fm.get(e);return t&&t.image}return e}function at(e,t,n,i,r){if(e){if(\"string\"==typeof e){if(t&&t.__zrImageSrc===e||!n)return t;var o=fm.get(e),a={hostEl:n,cb:i,cbPayload:r};return o?!lt(t=o.image)&&o.pending.push(a):(!t&&(t=new Image),t.onload=st,fm.put(e,t.__cachedImgObj={image:t,pending:[a]}),t.src=t.__zrImageSrc=e),t}return e}return t}function st(){var e=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function lt(e){return e&&e.width&&e.height}function ut(e,t){var n=e+\":\"+(t=t||ym);if(pm[n])return pm[n];for(var i=(e+\"\").split(\"\\n\"),r=0,o=0,a=i.length;o<a;o++)r=Math.max(xt(i[o],t).width,r);return gm>mm&&(gm=0,pm={}),gm++,pm[n]=r,r}function ct(e,t,n,i,r,o,a){return o?function(e,t,n,i,r,o,a){var s=_t(e,{rich:o,truncate:a,font:t,textAlign:n,textPadding:r}),l=s.outerWidth,u=s.outerHeight;return new Ze(dt(0,l,n),ht(0,u,i),l,u)}(e,t,n,i,r,o,a):function(e,t,n,i,r,o){var a=bt(e,t,r,o),s=ut(e,t);r&&(s+=r[1]+r[3]);var l=a.outerHeight,u=new Ze(dt(0,s,n),ht(0,l,i),s,l);return u.lineHeight=a.lineHeight,u}(e,t,n,i,r,a)}function dt(e,t,n){return\"right\"===n?e-=t:\"center\"===n&&(e-=t/2),e}function ht(e,t,n){return\"middle\"===n?e-=t/2:\"bottom\"===n&&(e-=t),e}function ft(e,t,n){var i=t.x,r=t.y,o=t.height,a=t.width,s=o/2,l=\"left\",u=\"top\";switch(e){case\"left\":i-=n,r+=s,l=\"right\",u=\"middle\";break;case\"right\":i+=n+a,r+=s,u=\"middle\";break;case\"top\":i+=a/2,r-=n,l=\"center\",u=\"bottom\";break;case\"bottom\":i+=a/2,r+=o+n,l=\"center\";break;case\"inside\":i+=a/2,r+=s,l=\"center\",u=\"middle\";break;case\"insideLeft\":i+=n,r+=s,u=\"middle\";break;case\"insideRight\":i+=a-n,r+=s,l=\"right\",u=\"middle\";break;case\"insideTop\":i+=a/2,r+=n,l=\"center\";break;case\"insideBottom\":i+=a/2,r+=o-n,l=\"center\",u=\"bottom\";break;case\"insideTopLeft\":i+=n,r+=n;break;case\"insideTopRight\":i+=a-n,r+=n,l=\"right\";break;case\"insideBottomLeft\":i+=n,r+=o-n,u=\"bottom\";break;case\"insideBottomRight\":i+=a-n,r+=o-n,l=\"right\",u=\"bottom\"}return{x:i,y:r,textAlign:l,textVerticalAlign:u}}function pt(e,t,n,i,r){if(!t)return\"\";var o=(e+\"\").split(\"\\n\");r=gt(t,n,i,r);for(var a=0,s=o.length;a<s;a++)o[a]=mt(o[a],r);return o.join(\"\\n\")}function gt(e,t,n,i){(i=o({},i)).font=t,n=k(n,\"...\"),i.maxIterations=k(i.maxIterations,2);var r=i.minChar=k(i.minChar,0);i.cnCharWidth=ut(\"国\",t);var a=i.ascCharWidth=ut(\"a\",t);i.placeholder=k(i.placeholder,\"\");for(var s=e=Math.max(0,e-1),l=0;l<r&&s>=a;l++)s-=a;var u=ut(n);return u>s&&(n=\"\",u=0),s=e-u,i.ellipsis=n,i.ellipsisWidth=u,i.contentWidth=s,i.containerWidth=e,i}function mt(e,t){var n=t.containerWidth,i=t.font,r=t.contentWidth;if(!n)return\"\";var o=ut(e,i);if(o<=n)return e;for(var a=0;;a++){if(o<=r||a>=t.maxIterations){e+=t.ellipsis;break}var s=0===a?vt(e,r,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(e.length*r/o):0;o=ut(e=e.substr(0,s),i)}return\"\"===e&&(e=t.placeholder),e}function vt(e,t,n,i){for(var r=0,o=0,a=e.length;o<a&&r<t;o++){var s=e.charCodeAt(o);r+=0<=s&&s<=127?n:i}return o}function yt(e){return ut(\"国\",e)}function xt(e,t){return xm.measureText(e,t)}function bt(e,t,n,i){null!=e&&(e+=\"\");var r=yt(t),o=e?e.split(\"\\n\"):[],a=o.length*r,s=a;if(n&&(s+=n[0]+n[2]),e&&i){var l=i.outerHeight,u=i.outerWidth;if(null!=l&&s>l)e=\"\",o=[];else if(null!=u)for(var c=gt(u-(n?n[1]+n[3]:0),t,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),d=0,h=o.length;d<h;d++)o[d]=mt(o[d],c)}return{lines:o,height:a,outerHeight:s,lineHeight:r}}function _t(e,t){var n={lines:[],width:0,height:0};if(null!=e&&(e+=\"\"),!e)return n;for(var i,r=vm.lastIndex=0;null!=(i=vm.exec(e));){var o=i.index;o>r&&wt(n,e.substring(r,o)),wt(n,i[2],i[1]),r=vm.lastIndex}r<e.length&&wt(n,e.substring(r,e.length));var a=n.lines,s=0,l=0,u=[],c=t.textPadding,d=t.truncate,h=d&&d.outerWidth,f=d&&d.outerHeight;for(c&&(null!=h&&(h-=c[1]+c[3]),null!=f&&(f-=c[0]+c[2])),D=0;D<a.length;D++){for(var p=a[D],g=0,m=0,v=0;v<p.tokens.length;v++){var y=(N=p.tokens[v]).styleName&&t.rich[N.styleName]||{},x=N.textPadding=y.textPadding,b=N.font=y.font||t.font,_=N.textHeight=k(y.textHeight,yt(b));if(x&&(_+=x[0]+x[2]),N.height=_,N.lineHeight=A(y.textLineHeight,t.textLineHeight,_),N.textAlign=y&&y.textAlign||t.textAlign,N.textVerticalAlign=y&&y.textVerticalAlign||\"middle\",null!=f&&s+N.lineHeight>f)return{lines:[],width:0,height:0};N.textWidth=ut(N.text,b);var w=y.textWidth,S=null==w||\"auto\"===w;if(\"string\"==typeof w&&\"%\"===w.charAt(w.length-1))N.percentWidth=w,u.push(N),w=0;else{if(S){w=N.textWidth;var C=y.textBackgroundColor,M=C&&C.image;M&&lt(M=ot(M))&&(w=Math.max(w,M.width*_/M.height))}var T=x?x[1]+x[3]:0;w+=T;var I=null!=h?h-m:null;null!=I&&I<w&&(!S||I<T?(N.text=\"\",N.textWidth=w=0):(N.text=pt(N.text,I-T,b,d.ellipsis,{minChar:d.minChar}),N.textWidth=ut(N.text,b),w=N.textWidth+T))}m+=N.width=w,y&&(g=Math.max(g,N.lineHeight))}p.width=m,p.lineHeight=g,s+=g,l=Math.max(l,m)}n.outerWidth=n.width=k(t.textWidth,l),n.outerHeight=n.height=k(t.textHeight,s),c&&(n.outerWidth+=c[1]+c[3],n.outerHeight+=c[0]+c[2]);for(var D=0;D<u.length;D++){var N=u[D];N.width=parseInt(N.percentWidth,10)/100*l}return n}function wt(e,t,n){for(var i=\"\"===t,r=t.split(\"\\n\"),o=e.lines,a=0;a<r.length;a++){var s=r[a],l={styleName:n,text:s,isLineHolder:!s&&!i};if(a)o.push({tokens:[l]});else{var u=(o[o.length-1]||(o[0]={tokens:[]})).tokens,c=u.length;1===c&&u[0].isLineHolder?u[0]=l:(s||!c||i)&&u.push(l)}}}function St(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+\"px\",e.fontFamily||\"sans-serif\"].join(\" \");return t&&P(t)||e.textFont||e.font}function Ct(e,t){var n,i,r,o,a,s=t.x,l=t.y,u=t.width,c=t.height,d=t.r;u<0&&(s+=u,u=-u),c<0&&(l+=c,c=-c),\"number\"==typeof d?n=i=r=o=d:d instanceof Array?1===d.length?n=i=r=o=d[0]:2===d.length?(n=r=d[0],i=o=d[1]):3===d.length?(n=d[0],i=o=d[1],r=d[2]):(n=d[0],i=d[1],r=d[2],o=d[3]):n=i=r=o=0,n+i>u&&(n*=u/(a=n+i),i*=u/a),r+o>u&&(r*=u/(a=r+o),o*=u/a),i+r>c&&(i*=c/(a=i+r),r*=c/a),n+o>c&&(n*=c/(a=n+o),o*=c/a),e.moveTo(s+n,l),e.lineTo(s+u-i,l),0!==i&&e.quadraticCurveTo(s+u,l,s+u,l+i),e.lineTo(s+u,l+c-r),0!==r&&e.quadraticCurveTo(s+u,l+c,s+u-r,l+c),e.lineTo(s+o,l+c),0!==o&&e.quadraticCurveTo(s,l+c,s,l+c-o),e.lineTo(s,l+n),0!==n&&e.quadraticCurveTo(s,l,s+n,l)}function Mt(e){return Tt(e),h(e.rich,Tt),e}function Tt(e){if(e){e.font=St(e);var t=e.textAlign;\"middle\"===t&&(t=\"center\"),e.textAlign=null==t||bm[t]?t:\"left\";var n=e.textVerticalAlign||e.textBaseline;\"center\"===n&&(n=\"middle\"),e.textVerticalAlign=null==n||_m[n]?n:\"top\",e.textPadding&&(e.textPadding=D(e.textPadding))}}function kt(e,t,n,i,r){i.rich?function(e,t,n,i,r){var o=e.__textCotentBlock;o&&!e.__dirty||(o=e.__textCotentBlock=_t(n,i)),function(e,t,n,i,r){var o=n.width,a=n.outerWidth,s=n.outerHeight,l=i.textPadding,u=Lt(0,i,r),c=u.baseX,d=u.baseY,h=u.textAlign,f=u.textVerticalAlign;At(t,i,r,c,d);var p=dt(c,a,h),g=ht(d,s,f),m=p,v=g;l&&(m+=l[3],v+=l[0]);var y=m+o;Dt(i)&&Nt(e,t,i,p,g,a,s);for(var x=0;x<n.lines.length;x++){for(var b,_=n.lines[x],w=_.tokens,S=w.length,C=_.lineHeight,M=_.width,T=0,k=m,A=y,I=S-1;T<S&&(!(b=w[T]).textAlign||\"left\"===b.textAlign);)It(e,t,b,i,C,v,k,\"left\"),M-=b.width,k+=b.width,T++;for(;I>=0&&\"right\"===(b=w[I]).textAlign;)It(e,t,b,i,C,v,A,\"right\"),M-=b.width,A-=b.width,I--;for(k+=(o-(k-m)-(y-A)-M)/2;T<=I;)It(e,t,b=w[T],i,C,v,k+b.width/2,\"center\"),k+=b.width,T++;v+=C}}(e,t,o,i,r)}(e,t,n,i,r):function(e,t,n,i,r){var o=Et(t,\"font\",i.font||ym),a=i.textPadding,s=e.__textCotentBlock;s&&!e.__dirty||(s=e.__textCotentBlock=bt(n,o,a,i.truncate));var l=s.outerHeight,u=s.lines,c=s.lineHeight,d=Lt(0,i,r),h=d.baseX,f=d.baseY,p=d.textAlign,g=d.textVerticalAlign;At(t,i,r,h,f);var m=ht(f,l,g),v=h,y=m,x=Dt(i);if(x||a){var b=ut(n,o);a&&(b+=a[1]+a[3]);var _=dt(h,b,p);x&&Nt(e,t,i,_,m,b,l),a&&(v=zt(h,p,a),y+=a[0])}Et(t,\"textAlign\",p||\"left\"),Et(t,\"textBaseline\",\"middle\"),Et(t,\"shadowBlur\",i.textShadowBlur||0),Et(t,\"shadowColor\",i.textShadowColor||\"transparent\"),Et(t,\"shadowOffsetX\",i.textShadowOffsetX||0),Et(t,\"shadowOffsetY\",i.textShadowOffsetY||0),y+=c/2;var w=i.textStrokeWidth,S=Rt(i.textStroke,w),C=Ot(i.textFill);S&&(Et(t,\"lineWidth\",w),Et(t,\"strokeStyle\",S)),C&&Et(t,\"fillStyle\",C);for(var M=0;M<u.length;M++)S&&t.strokeText(u[M],v,y),C&&t.fillText(u[M],v,y),y+=c}(e,t,n,i,r)}function At(e,t,n,i,r){if(n&&t.textRotation){var o=t.textOrigin;\"center\"===o?(i=n.width/2+n.x,r=n.height/2+n.y):o&&(i=o[0]+n.x,r=o[1]+n.y),e.translate(i,r),e.rotate(-t.textRotation),e.translate(-i,-r)}}function It(e,t,n,i,r,o,a,s){var l=i.rich[n.styleName]||{},u=n.textVerticalAlign,c=o+r/2;\"top\"===u?c=o+n.height/2:\"bottom\"===u&&(c=o+r-n.height/2),!n.isLineHolder&&Dt(l)&&Nt(e,t,l,\"right\"===s?a-n.width:\"center\"===s?a-n.width/2:a,c-n.height/2,n.width,n.height);var d=n.textPadding;d&&(a=zt(a,s,d),c-=n.height/2-d[2]-n.textHeight/2),Et(t,\"shadowBlur\",A(l.textShadowBlur,i.textShadowBlur,0)),Et(t,\"shadowColor\",l.textShadowColor||i.textShadowColor||\"transparent\"),Et(t,\"shadowOffsetX\",A(l.textShadowOffsetX,i.textShadowOffsetX,0)),Et(t,\"shadowOffsetY\",A(l.textShadowOffsetY,i.textShadowOffsetY,0)),Et(t,\"textAlign\",s),Et(t,\"textBaseline\",\"middle\"),Et(t,\"font\",n.font||ym);var h=Rt(l.textStroke||i.textStroke,p),f=Ot(l.textFill||i.textFill),p=k(l.textStrokeWidth,i.textStrokeWidth);h&&(Et(t,\"lineWidth\",p),Et(t,\"strokeStyle\",h),t.strokeText(n.text,a,c)),f&&(Et(t,\"fillStyle\",f),t.fillText(n.text,a,c))}function Dt(e){return e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor}function Nt(e,t,n,i,r,o,a){var s=n.textBackgroundColor,l=n.textBorderWidth,u=n.textBorderColor,c=b(s);if(Et(t,\"shadowBlur\",n.textBoxShadowBlur||0),Et(t,\"shadowColor\",n.textBoxShadowColor||\"transparent\"),Et(t,\"shadowOffsetX\",n.textBoxShadowOffsetX||0),Et(t,\"shadowOffsetY\",n.textBoxShadowOffsetY||0),c||l&&u){t.beginPath();var d=n.textBorderRadius;d?Ct(t,{x:i,y:r,width:o,height:a,r:d}):t.rect(i,r,o,a),t.closePath()}if(c)Et(t,\"fillStyle\",s),t.fill();else if(_(s)){var h=s.image;(h=at(h,null,e,Pt,s))&&lt(h)&&t.drawImage(h,i,r,o,a)}l&&u&&(Et(t,\"lineWidth\",l),Et(t,\"strokeStyle\",u),t.stroke())}function Pt(e,t){t.image=e}function Lt(e,t,n){var i=t.x||0,r=t.y||0,o=t.textAlign,a=t.textVerticalAlign;if(n){var s=t.textPosition;if(s instanceof Array)i=n.x+Bt(s[0],n.width),r=n.y+Bt(s[1],n.height);else{var l=ft(s,n,t.textDistance);i=l.x,r=l.y,o=o||l.textAlign,a=a||l.textVerticalAlign}var u=t.textOffset;u&&(i+=u[0],r+=u[1])}return{baseX:i,baseY:r,textAlign:o,textVerticalAlign:a}}function Et(e,t,n){return e[t]=rm(e,t,n),e[t]}function Rt(e,t){return null==e||t<=0||\"transparent\"===e||\"none\"===e?null:e.image||e.colorStops?\"#000\":e}function Ot(e){return null==e||\"none\"===e?null:e.image||e.colorStops?\"#000\":e}function Bt(e,t){return\"string\"==typeof e?e.lastIndexOf(\"%\")>=0?parseFloat(e)/100*t:parseFloat(e):e}function zt(e,t,n){return\"right\"===t?e-n[1]:\"center\"===t?e+n[3]/2-n[1]/2:e+n[3]}function Ft(e,t){return null!=e&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}function Vt(e){for(var t in Xg.call(this,e=e||{}),e)e.hasOwnProperty(t)&&\"style\"!==t&&(this[t]=e[t]);this.style=new am(e.style,this),this._rect=null,this.__clipPaths=[]}function Ht(e){Vt.call(this,e)}function Wt(e){return parseInt(e,10)}function Gt(e,t,n,i){return n=n||{},i||!ig.canvasSupported?Ut(e,t,n):ig.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):Ut(e,t,n),n}function Ut(e,t,n){var i=function(e){return e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0}}(e);n.zrX=t.clientX-i.left,n.zrY=t.clientY-i.top}function jt(e,t,n){if(null!=(t=t||window.event).zrX)return t;var i=t.type;if(i&&i.indexOf(\"touch\")>=0){var r=\"touchend\"!=i?t.targetTouches[0]:t.changedTouches[0];r&&Gt(e,r,t,n)}else Gt(e,t,t,n),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;var o=t.button;return null==t.which&&void 0!==o&&Am.test(t.type)&&(t.which=1&o?1:2&o?3:4&o?2:0),t}function qt(e,t,n){km?e.addEventListener(t,n):e.attachEvent(\"on\"+t,n)}function Zt(e,t,n){km?e.removeEventListener(t,n):e.detachEvent(\"on\"+t,n)}function Yt(e){return e.which>1}function Xt(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function $t(e){return\"mousewheel\"===e&&ig.browser.firefox?\"DOMMouseScroll\":e}function Kt(e,t,n){var i=e._gestureMgr;\"start\"===n&&i.clear();var r=i.recognize(t,e.handler.findHover(t.zrX,t.zrY,null).target,e.dom);if(\"end\"===n&&i.clear(),r){var o=r.type;t.gestureEvent=o,e.handler.dispatchToElement({target:r.target},o,r.event)}}function Jt(e){e._touching=!0,clearTimeout(e._touchTimer),e._touchTimer=setTimeout(function(){e._touching=!1},700)}function Qt(e){var t=e.pointerType;return\"pen\"===t||\"touch\"===t}function en(e){function t(t,n){h(t,function(t){qt(e,$t(t),n._handlers[t])},n)}Sg.call(this),this.dom=e,this._touching=!1,this._gestureMgr=new Nm,this._handlers={},function(e){h(Em,function(t){e._handlers[t]=m(Bm[t],e)}),h(Om,function(t){e._handlers[t]=m(Bm[t],e)}),h(Lm,function(t){e._handlers[t]=function(e,t){return function(){if(!t._touching)return e.apply(t,arguments)}}(Bm[t],e)})}(this),ig.pointerEventsSupported?t(Om,this):(ig.touchEventsSupported&&t(Em,this),t(Lm,this))}function tn(e,t){var n=new Wm(ng(),e,t);return Hm[n.id]=n,n}function nn(e,t){Vm[e]=t}function rn(e){return e instanceof Array?e:null==e?[]:[e]}function on(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var i=0,r=n.length;i<r;i++){var o=n[i];!e.emphasis[t].hasOwnProperty(o)&&e[t].hasOwnProperty(o)&&(e.emphasis[t][o]=e[t][o])}}}function an(e){return!jm(e)||qm(e)||e instanceof Date?e:e.value}function sn(e,t){t=(t||[]).slice();var n=f(e||[],function(e,t){return{exist:e}});return Um(t,function(e,i){if(jm(e)){for(r=0;r<n.length;r++)if(!n[r].option&&null!=e.id&&n[r].exist.id===e.id+\"\")return n[r].option=e,void(t[i]=null);for(var r=0;r<n.length;r++){var o=n[r].exist;if(!(n[r].option||null!=o.id&&null!=e.id||null==e.name||un(e)||un(o)||o.name!==e.name+\"\"))return n[r].option=e,void(t[i]=null)}}}),Um(t,function(e,t){if(jm(e)){for(var i=0;i<n.length;i++)if(!n[i].option&&!un(n[i].exist)&&null==e.id){n[i].option=e;break}i>=n.length&&n.push({option:e})}}),n}function ln(e){var t=O();Um(e,function(e,n){var i=e.exist;i&&t.set(i.id,e)}),Um(e,function(e,n){var i=e.option;N(!i||null==i.id||!t.get(i.id)||t.get(i.id)===e,\"id duplicates: \"+(i&&i.id)),i&&null!=i.id&&t.set(i.id,e),!e.keyInfo&&(e.keyInfo={})}),Um(e,function(e,n){var i=e.exist,r=e.option,o=e.keyInfo;if(jm(r)){if(o.name=null!=r.name?r.name+\"\":i?i.name:Zm,i)o.id=i.id;else if(null!=r.id)o.id=r.id+\"\";else{var a=0;do{o.id=\"\\0\"+o.name+\"\\0\"+a++}while(t.get(o.id))}t.set(o.id,e)}})}function un(e){return jm(e)&&e.id&&0===(e.id+\"\").indexOf(\"\\0_ec_\\0\")}function cn(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?y(t.dataIndex)?f(t.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?y(t.name)?f(t.name,function(t){return e.indexOfName(t)}):e.indexOfName(t.name):void 0}function dn(){var e=\"__\\0ec_inner_\"+Xm+++\"_\"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}function hn(e,t,n){if(b(t)){var i={};i[t+\"Index\"]=0,t=i}var r=n&&n.defaultMainType;!r||fn(t,r+\"Index\")||fn(t,r+\"Id\")||fn(t,r+\"Name\")||(t[r+\"Index\"]=0);var o={};return Um(t,function(i,r){if(i=t[r],\"dataIndex\"!==r&&\"dataIndexInside\"!==r){var a=r.match(/^(\\w+)(Index|Id|Name)$/)||[],s=a[1],u=(a[2]||\"\").toLowerCase();if(!(!s||!u||null==i||\"index\"===u&&\"none\"===i||n&&n.includeMainTypes&&l(n.includeMainTypes,s)<0)){var c={mainType:s};\"index\"===u&&\"all\"===i||(c[u]=i);var d=e.queryComponents(c);o[s+\"Models\"]=d,o[s+\"Model\"]=d[0]}}else o[r]=i}),o}function fn(e,t){return e&&e.hasOwnProperty(t)}function pn(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function gn(e){var t={main:\"\",sub:\"\"};return e&&(e=e.split($m),t.main=e[0]||\"\",t.sub=e[1]||\"\"),t}function mn(e,t){e.$constructor=e,e.extend=function(e){var t=this,n=function(){e.$constructor?e.$constructor.apply(this,arguments):t.apply(this,arguments)};return o(n.prototype,e),n.extend=this.extend,n.superCall=yn,n.superApply=xn,u(n,this),n.superClass=t,n}}function vn(e){var t=[\"__\\0is_clz\",Jm++,Math.random().toFixed(3)].join(\"_\");e.prototype[t]=!0,e.isInstance=function(e){return!(!e||!e[t])}}function yn(e,t){var n=I(arguments,2);return this.superClass.prototype[t].apply(e,n)}function xn(e,t,n){return this.superClass.prototype[t].apply(e,n)}function bn(e,t){t=t||{};var n={};if(e.registerClass=function(e,t){return t&&(function(e){N(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType \"'+e+'\" illegal')}(t),(t=gn(t)).sub?t.sub!==Km&&((function(e){var t=n[e.main];return t&&t[Km]||((t=n[e.main]={})[Km]=!0),t}(t))[t.sub]=e):n[t.main]=e),e},e.getClass=function(e,t,i){var r=n[e];if(r&&r[Km]&&(r=t?r[t]:null),i&&!r)throw new Error(t?\"Component \"+e+\".\"+(t||\"\")+\" not exists. Load it first.\":e+\".type should be specified.\");return r},e.getClassesByMainType=function(e){e=gn(e);var t=[],i=n[e.main];return i&&i[Km]?h(i,function(e,n){n!==Km&&t.push(e)}):t.push(i),t},e.hasClass=function(e){return e=gn(e),!!n[e.main]},e.getAllClassMainTypes=function(){var e=[];return h(n,function(t,n){e.push(n)}),e},e.hasSubTypes=function(e){e=gn(e);var t=n[e.main];return t&&t[Km]},e.parseClassType=gn,t.registerWhenExtend){var i=e.extend;i&&(e.extend=function(t){var n=i.call(this,t);return e.registerClass(n,t.type)})}return e}function _n(e){return e>-av&&e<av}function wn(e){return e>av||e<-av}function Sn(e,t,n,i,r){var o=1-r;return o*o*(o*e+3*r*t)+r*r*(r*i+3*o*n)}function Cn(e,t,n,i,r){var o=1-r;return 3*(((t-e)*o+2*(n-t)*r)*o+(i-n)*r*r)}function Mn(e,t,n,i,r){var o=6*n-12*t+6*e,a=9*t+3*i-3*e-9*n,s=3*t-3*e,l=0;if(_n(a))wn(o)&&(d=-s/o)>=0&&d<=1&&(r[l++]=d);else{var u=o*o-4*a*s;if(_n(u))r[0]=-o/(2*a);else if(u>0){var c=ov(u),d=(-o+c)/(2*a),h=(-o-c)/(2*a);d>=0&&d<=1&&(r[l++]=d),h>=0&&h<=1&&(r[l++]=h)}}return l}function Tn(e,t,n,i,r,o){var a=(t-e)*r+e,s=(n-t)*r+t,l=(i-n)*r+n,u=(s-a)*r+a,c=(l-s)*r+s,d=(c-u)*r+u;o[0]=e,o[1]=a,o[2]=u,o[3]=d,o[4]=d,o[5]=c,o[6]=l,o[7]=i}function kn(e,t,n,i){var r=1-i;return r*(r*e+2*i*t)+i*i*n}function An(e,t,n,i){return 2*((1-i)*(t-e)+i*(n-t))}function In(e,t,n){var i=e+n-2*t;return 0===i?.5:(e-t)/i}function Dn(e,t,n,i,r){var o=(t-e)*i+e,a=(n-t)*i+t,s=(a-o)*i+o;r[0]=e,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=n}function Nn(e,t,n){if(0!==e.length){var i,r=e[0],o=r[0],a=r[0],s=r[1],l=r[1];for(i=1;i<e.length;i++)o=fv(o,(r=e[i])[0]),a=pv(a,r[0]),s=fv(s,r[1]),l=pv(l,r[1]);t[0]=o,t[1]=s,n[0]=a,n[1]=l}}function Pn(e,t,n,i,r,o){r[0]=fv(e,n),r[1]=fv(t,i),o[0]=pv(e,n),o[1]=pv(t,i)}function Ln(e,t,n,i,r,o,a,s,l,u){var c,d=Mn,h=Sn,f=d(e,n,r,a,_v);for(l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0,c=0;c<f;c++){var p=h(e,n,r,a,_v[c]);l[0]=fv(p,l[0]),u[0]=pv(p,u[0])}for(f=d(t,i,o,s,wv),c=0;c<f;c++){var g=h(t,i,o,s,wv[c]);l[1]=fv(g,l[1]),u[1]=pv(g,u[1])}l[0]=fv(e,l[0]),u[0]=pv(e,u[0]),l[0]=fv(a,l[0]),u[0]=pv(a,u[0]),l[1]=fv(t,l[1]),u[1]=pv(t,u[1]),l[1]=fv(s,l[1]),u[1]=pv(s,u[1])}function En(e,t,n,i,r,o,a,s){var l=In,u=kn,c=pv(fv(l(e,n,r),1),0),d=pv(fv(l(t,i,o),1),0),h=u(e,n,r,c),f=u(t,i,o,d);a[0]=fv(e,r,h),a[1]=fv(t,o,f),s[0]=pv(e,r,h),s[1]=pv(t,o,f)}function Rn(e,t,n,i,r,o,a,s,l){var u=ee,c=te,d=Math.abs(r-o);if(d%vv<1e-4&&d>1e-4)return s[0]=e-n,s[1]=t-i,l[0]=e+n,void(l[1]=t+i);if(yv[0]=mv(r)*n+e,yv[1]=gv(r)*i+t,xv[0]=mv(o)*n+e,xv[1]=gv(o)*i+t,u(s,yv,xv),c(l,yv,xv),(r%=vv)<0&&(r+=vv),(o%=vv)<0&&(o+=vv),r>o&&!a?o+=vv:r<o&&a&&(r+=vv),a){var h=o;o=r,r=h}for(var f=0;f<o;f+=Math.PI/2)f>r&&(bv[0]=mv(f)*n+e,bv[1]=gv(f)*i+t,u(s,bv,s),c(l,bv,l))}function On(e,t,n,i,r,o,a){if(0===r)return!1;var s,l=r;if(a>t+l&&a>i+l||a<t-l&&a<i-l||o>e+l&&o>n+l||o<e-l&&o<n-l)return!1;if(e===n)return Math.abs(o-e)<=l/2;var u=(s=(t-i)/(e-n))*o-a+(e*i-n*t)/(e-n);return u*u/(s*s+1)<=l/2*l/2}function Bn(e,t,n,i,r,o,a,s,l,u,c){if(0===l)return!1;var d=l;return!(c>t+d&&c>i+d&&c>o+d&&c>s+d||c<t-d&&c<i-d&&c<o-d&&c<s-d||u>e+d&&u>n+d&&u>r+d&&u>a+d||u<e-d&&u<n-d&&u<r-d&&u<a-d)&&function(e,t,n,i,r,o,a,s,l,u,c){var d,h,f,p,g,m=.005,v=1/0;cv[0]=l,cv[1]=u;for(var y=0;y<1;y+=.05)dv[0]=Sn(e,n,r,a,y),dv[1]=Sn(t,i,o,s,y),(p=bg(cv,dv))<v&&(d=y,v=p);v=1/0;for(var x=0;x<32&&!(m<sv);x++)f=d+m,dv[0]=Sn(e,n,r,a,h=d-m),dv[1]=Sn(t,i,o,s,h),p=bg(dv,cv),h>=0&&p<v?(d=h,v=p):(hv[0]=Sn(e,n,r,a,f),hv[1]=Sn(t,i,o,s,f),g=bg(hv,cv),f<=1&&g<v?(d=f,v=g):m*=.5);return ov(v)}(e,t,n,i,r,o,a,s,u,c)<=d/2}function zn(e,t,n,i,r,o,a,s,l){if(0===a)return!1;var u=a;return!(l>t+u&&l>i+u&&l>o+u||l<t-u&&l<i-u&&l<o-u||s>e+u&&s>n+u&&s>r+u||s<e-u&&s<n-u&&s<r-u)&&function(e,t,n,i,r,o,a,s,l){var u,c=.005,d=1/0;cv[0]=a,cv[1]=s;for(var h=0;h<1;h+=.05)dv[0]=kn(e,n,r,h),dv[1]=kn(t,i,o,h),(m=bg(cv,dv))<d&&(u=h,d=m);d=1/0;for(var f=0;f<32&&!(c<sv);f++){var p=u-c,g=u+c;dv[0]=kn(e,n,r,p),dv[1]=kn(t,i,o,p);var m=bg(dv,cv);if(p>=0&&m<d)u=p,d=m;else{hv[0]=kn(e,n,r,g),hv[1]=kn(t,i,o,g);var v=bg(hv,cv);g<=1&&v<d?(u=g,d=v):c*=.5}}return ov(d)}(e,t,n,i,r,o,s,l)<=u/2}function Fn(e){return(e%=Ov)<0&&(e+=Ov),e}function Vn(e,t,n,i,r,o,a,s,l){if(0===a)return!1;var u=a;s-=e,l-=t;var c=Math.sqrt(s*s+l*l);if(c-u>n||c+u<n)return!1;if(Math.abs(i-r)%Bv<1e-4)return!0;if(o){var d=i;i=Fn(r),r=Fn(d)}else i=Fn(i),r=Fn(r);i>r&&(r+=Bv);var h=Math.atan2(l,s);return h<0&&(h+=Bv),h>=i&&h<=r||h+Bv>=i&&h+Bv<=r}function Hn(e,t,n,i,r,o){if(o>t&&o>i||o<t&&o<i)return 0;if(i===t)return 0;var a=i<t?1:-1,s=(o-t)/(i-t);return 1!==s&&0!==s||(a=i<t?.5:-.5),s*(n-e)+e>r?a:0}function Wn(){var e=Wv[0];Wv[0]=Wv[1],Wv[1]=e}function Gn(e,t,n,i,r,o,a,s,l,u){if(u>t&&u>i&&u>o&&u>s||u<t&&u<i&&u<o&&u<s)return 0;var c=function(e,t,n,i,r,o){var a=i+3*(t-n)-e,s=3*(n-2*t+e),l=3*(t-e),u=e-r,c=s*s-3*a*l,d=s*l-9*a*u,h=l*l-3*s*u,f=0;if(_n(c)&&_n(d))_n(s)?o[0]=0:(C=-l/s)>=0&&C<=1&&(o[f++]=C);else{var p=d*d-4*c*h;if(_n(p)){var g=d/c,m=-g/2;(C=-s/a+g)>=0&&C<=1&&(o[f++]=C),m>=0&&m<=1&&(o[f++]=m)}else if(p>0){var v=ov(p),y=c*s+1.5*a*(-d+v),x=c*s+1.5*a*(-d-v);(C=(-s-((y=y<0?-rv(-y,uv):rv(y,uv))+(x=x<0?-rv(-x,uv):rv(x,uv))))/(3*a))>=0&&C<=1&&(o[f++]=C)}else{var b=(2*c*s-3*a*d)/(2*ov(c*c*c)),_=Math.acos(b)/3,w=ov(c),S=Math.cos(_),C=(-s-2*w*S)/(3*a),M=(m=(-s+w*(S+lv*Math.sin(_)))/(3*a),(-s+w*(S-lv*Math.sin(_)))/(3*a));C>=0&&C<=1&&(o[f++]=C),m>=0&&m<=1&&(o[f++]=m),M>=0&&M<=1&&(o[f++]=M)}}return f}(t,i,o,s,u,Hv);if(0===c)return 0;for(var d,h,f=0,p=-1,g=0;g<c;g++){var m=Hv[g],v=0===m||1===m?.5:1;Sn(e,n,r,a,m)<l||(p<0&&(p=Mn(t,i,o,s,Wv),Wv[1]<Wv[0]&&p>1&&Wn(),d=Sn(t,i,o,s,Wv[0]),p>1&&(h=Sn(t,i,o,s,Wv[1]))),f+=2==p?m<Wv[0]?d<t?v:-v:m<Wv[1]?h<d?v:-v:s<h?v:-v:m<Wv[0]?d<t?v:-v:s<d?v:-v)}return f}function Un(e,t,n,i,r,o,a,s){if(s>t&&s>i&&s>o||s<t&&s<i&&s<o)return 0;var l=function(e,t,n,i,r){var o=e-2*t+n,a=2*(t-e),s=e-i,l=0;if(_n(o))wn(a)&&(d=-s/a)>=0&&d<=1&&(r[l++]=d);else{var u=a*a-4*o*s;if(_n(u))(d=-a/(2*o))>=0&&d<=1&&(r[l++]=d);else if(u>0){var c=ov(u),d=(-a+c)/(2*o),h=(-a-c)/(2*o);d>=0&&d<=1&&(r[l++]=d),h>=0&&h<=1&&(r[l++]=h)}}return l}(t,i,o,s,Hv);if(0===l)return 0;var u=In(t,i,o);if(u>=0&&u<=1){for(var c=0,d=kn(t,i,o,u),h=0;h<l;h++)f=0===Hv[h]||1===Hv[h]?.5:1,(p=kn(e,n,r,Hv[h]))<a||(c+=Hv[h]<u?d<t?f:-f:o<d?f:-f);return c}var f=0===Hv[0]||1===Hv[0]?.5:1,p=kn(e,n,r,Hv[0]);return p<a?0:o<t?f:-f}function jn(e,t,n,i,r,o,a,s){if((s-=t)>n||s<-n)return 0;u=Math.sqrt(n*n-s*s),Hv[0]=-u,Hv[1]=u;var l=Math.abs(i-r);if(l<1e-4)return 0;if(l%Fv<1e-4)return i=0,r=Fv,p=o?1:-1,a>=Hv[0]+e&&a<=Hv[1]+e?p:0;if(o){var u=i;i=Fn(r),r=Fn(u)}else i=Fn(i),r=Fn(r);i>r&&(r+=Fv);for(var c=0,d=0;d<2;d++){var h=Hv[d];if(h+e>a){var f=Math.atan2(s,h),p=o?1:-1;f<0&&(f=Fv+f),(f>=i&&f<=r||f+Fv>=i&&f+Fv<=r)&&(f>Math.PI/2&&f<1.5*Math.PI&&(p=-p),c+=p)}}return c}function qn(e,t,n,i,r){for(var o=0,a=0,s=0,l=0,u=0,c=0;c<e.length;){var d=e[c++];switch(d===zv.M&&c>1&&(n||(o+=Hn(a,s,l,u,i,r))),1==c&&(l=a=e[c],u=s=e[c+1]),d){case zv.M:a=l=e[c++],s=u=e[c++];break;case zv.L:if(n){if(On(a,s,e[c],e[c+1],t,i,r))return!0}else o+=Hn(a,s,e[c],e[c+1],i,r)||0;a=e[c++],s=e[c++];break;case zv.C:if(n){if(Bn(a,s,e[c++],e[c++],e[c++],e[c++],e[c],e[c+1],t,i,r))return!0}else o+=Gn(a,s,e[c++],e[c++],e[c++],e[c++],e[c],e[c+1],i,r)||0;a=e[c++],s=e[c++];break;case zv.Q:if(n){if(zn(a,s,e[c++],e[c++],e[c],e[c+1],t,i,r))return!0}else o+=Un(a,s,e[c++],e[c++],e[c],e[c+1],i,r)||0;a=e[c++],s=e[c++];break;case zv.A:var h=e[c++],f=e[c++],p=e[c++],g=e[c++],m=e[c++],v=e[c++],y=(c++,1-e[c++]),x=Math.cos(m)*p+h,b=Math.sin(m)*g+f;c>1?o+=Hn(a,s,x,b,i,r):(l=x,u=b);var _=(i-h)*g/p+h;if(n){if(Vn(h,f,g,m,m+v,y,t,_,r))return!0}else o+=jn(h,f,g,m,m+v,y,_,r);a=Math.cos(m+v)*p+h,s=Math.sin(m+v)*g+f;break;case zv.R:if(l=a=e[c++],u=s=e[c++],x=l+e[c++],b=u+e[c++],n){if(On(l,u,x,u,t,i,r)||On(x,u,x,b,t,i,r)||On(x,b,l,b,t,i,r)||On(l,b,l,u,t,i,r))return!0}else o+=Hn(x,u,x,b,i,r),o+=Hn(l,b,l,u,i,r);break;case zv.Z:if(n){if(On(a,s,l,u,t,i,r))return!0}else o+=Hn(a,s,l,u,i,r);a=l,s=u}}return n||function(e,t){return Math.abs(e-t)<Vv}(s,u)||(o+=Hn(a,s,l,u,i,r)||0),0!==o}function Zn(e){Vt.call(this,e),this.path=null}function Yn(e,t,n,i,r,o,a,s,l,u,c){var d=l*(ty/180),h=ey(d)*(e-n)/2+Qv(d)*(t-i)/2,f=-1*Qv(d)*(e-n)/2+ey(d)*(t-i)/2,p=h*h/(a*a)+f*f/(s*s);p>1&&(a*=Jv(p),s*=Jv(p));var g=(r===o?-1:1)*Jv((a*a*(s*s)-a*a*(f*f)-s*s*(h*h))/(a*a*(f*f)+s*s*(h*h)))||0,m=g*a*f/s,v=g*-s*h/a,y=(e+n)/2+ey(d)*m-Qv(d)*v,x=(t+i)/2+Qv(d)*m+ey(d)*v,b=ry([1,0],[(h-m)/a,(f-v)/s]),_=[(h-m)/a,(f-v)/s],w=[(-1*h-m)/a,(-1*f-v)/s],S=ry(_,w);iy(_,w)<=-1&&(S=ty),iy(_,w)>=1&&(S=0),0===o&&S>0&&(S-=2*ty),1===o&&S<0&&(S+=2*ty),c.addData(u,y,x,a,s,b,S,d,o)}function Xn(e,t){var n=function(e){if(!e)return[];var t,n=e.replace(/-/g,\" -\").replace(/  /g,\" \").replace(/ /g,\",\").replace(/,,/g,\",\");for(t=0;t<Kv.length;t++)n=n.replace(new RegExp(Kv[t],\"g\"),\"|\"+Kv[t]);var i,r=n.split(\"|\"),o=0,a=0,s=new Rv,l=Rv.CMD;for(t=1;t<r.length;t++){var u,c=r[t],d=c.charAt(0),h=0,f=c.slice(1).replace(/e,-/g,\"e-\").split(\",\");f.length>0&&\"\"===f[0]&&f.shift();for(var p=0;p<f.length;p++)f[p]=parseFloat(f[p]);for(;h<f.length&&!isNaN(f[h])&&!isNaN(f[0]);){var g,m,v,y,x,b,_,w=o,S=a;switch(d){case\"l\":o+=f[h++],a+=f[h++],s.addData(u=l.L,o,a);break;case\"L\":o=f[h++],a=f[h++],s.addData(u=l.L,o,a);break;case\"m\":o+=f[h++],a+=f[h++],s.addData(u=l.M,o,a),d=\"l\";break;case\"M\":o=f[h++],a=f[h++],s.addData(u=l.M,o,a),d=\"L\";break;case\"h\":o+=f[h++],s.addData(u=l.L,o,a);break;case\"H\":o=f[h++],s.addData(u=l.L,o,a);break;case\"v\":a+=f[h++],s.addData(u=l.L,o,a);break;case\"V\":a=f[h++],s.addData(u=l.L,o,a);break;case\"C\":s.addData(u=l.C,f[h++],f[h++],f[h++],f[h++],f[h++],f[h++]),o=f[h-2],a=f[h-1];break;case\"c\":s.addData(u=l.C,f[h++]+o,f[h++]+a,f[h++]+o,f[h++]+a,f[h++]+o,f[h++]+a),o+=f[h-2],a+=f[h-1];break;case\"S\":g=o,m=a;var C=s.len(),M=s.data;i===l.C&&(g+=o-M[C-4],m+=a-M[C-3]),w=f[h++],S=f[h++],o=f[h++],a=f[h++],s.addData(u=l.C,g,m,w,S,o,a);break;case\"s\":g=o,m=a,C=s.len(),M=s.data,i===l.C&&(g+=o-M[C-4],m+=a-M[C-3]),w=o+f[h++],S=a+f[h++],o+=f[h++],a+=f[h++],s.addData(u=l.C,g,m,w,S,o,a);break;case\"Q\":w=f[h++],S=f[h++],o=f[h++],a=f[h++],s.addData(u=l.Q,w,S,o,a);break;case\"q\":w=f[h++]+o,S=f[h++]+a,o+=f[h++],a+=f[h++],s.addData(u=l.Q,w,S,o,a);break;case\"T\":g=o,m=a,C=s.len(),M=s.data,i===l.Q&&(g+=o-M[C-4],m+=a-M[C-3]),o=f[h++],a=f[h++],s.addData(u=l.Q,g,m,o,a);break;case\"t\":g=o,m=a,C=s.len(),M=s.data,i===l.Q&&(g+=o-M[C-4],m+=a-M[C-3]),o+=f[h++],a+=f[h++],s.addData(u=l.Q,g,m,o,a);break;case\"A\":v=f[h++],y=f[h++],x=f[h++],b=f[h++],_=f[h++],Yn(w=o,S=a,o=f[h++],a=f[h++],b,_,v,y,x,u=l.A,s);break;case\"a\":v=f[h++],y=f[h++],x=f[h++],b=f[h++],_=f[h++],Yn(w=o,S=a,o+=f[h++],a+=f[h++],b,_,v,y,x,u=l.A,s)}}\"z\"!==d&&\"Z\"!==d||s.addData(u=l.Z),i=u}return s.toStatic(),s}(e);return(t=t||{}).buildPath=function(e){if(e.setData)e.setData(n.data),(t=e.getContext())&&e.rebuildPath(t);else{var t=e;n.rebuildPath(t)}},t.applyTransform=function(e){$v(n,e),this.dirty(!0)},t}function $n(e,t,n,i,r,o,a){var s=.5*(n-e),l=.5*(i-t);return(2*(t-n)+s+l)*a+(-3*(t-n)-2*s-l)*o+s*r+t}function Kn(e,t,n){var i=t.points,r=t.smooth;if(i&&i.length>=2){if(r&&\"spline\"!==r){var o=hy(i,r,n,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var a=i.length,s=0;s<(n?a:a-1);s++){var l=o[2*s],u=o[2*s+1],c=i[(s+1)%a];e.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{\"spline\"===r&&(i=dy(i,n)),e.moveTo(i[0][0],i[0][1]),s=1;for(var d=i.length;s<d;s++)e.lineTo(i[s][0],i[s][1])}n&&e.closePath()}}function Jn(e,t,n){return null===e.cpx2||null===e.cpy2?[(n?Cn:Sn)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?Cn:Sn)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?An:kn)(e.x1,e.cpx1,e.x2,t),(n?An:kn)(e.y1,e.cpy1,e.y2,t)]}function Qn(e){Vt.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function ei(e){return Zn.extend(e)}function ti(e,t,n,i){var r=function(e,t){return new Zn(Xn(e,t))}(e,t),o=r.getBoundingRect();return n&&(\"center\"===i&&(n=ii(n,o)),ri(r,n)),r}function ni(e,t,n){var i=new Ht({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){\"center\"===n&&i.setStyle(ii(t,{width:e.width,height:e.height}))}});return i}function ii(e,t){var n,i=t.width/t.height,r=e.height*i;return n=r<=e.width?e.height:(r=e.width)/i,{x:e.x+e.width/2-r/2,y:e.y+e.height/2-n/2,width:r,height:n}}function ri(e,t){if(e.applyTransform){var n=e.getBoundingRect().calculateTransform(t);e.applyTransform(n)}}function oi(e){var t=e.shape,n=e.style.lineWidth;return My(2*t.x1)===My(2*t.x2)&&(t.x1=t.x2=si(t.x1,n,!0)),My(2*t.y1)===My(2*t.y2)&&(t.y1=t.y2=si(t.y1,n,!0)),e}function ai(e){var t=e.shape,n=e.style.lineWidth,i=t.x,r=t.y,o=t.width,a=t.height;return t.x=si(t.x,n,!0),t.y=si(t.y,n,!0),t.width=Math.max(si(i+o,n,!1)-t.x,0===o?0:1),t.height=Math.max(si(r+a,n,!1)-t.y,0===a?0:1),e}function si(e,t,n){var i=My(2*e);return(i+My(t))%2==0?i/2:(i+(n?1:-1))/2}function li(e){return null!=e&&\"none\"!=e}function ui(e){return\"string\"==typeof e?Ae(e,-.1):e}function ci(e){if(e.__hoverStlDirty){var t=e.style.stroke,n=e.style.fill,i=e.__hoverStl;i.fill=i.fill||(li(n)?ui(n):null),i.stroke=i.stroke||(li(t)?ui(t):null);var r={};for(var o in i)null!=i[o]&&(r[o]=e.style[o]);e.__normalStl=r,e.__hoverStlDirty=!1}}function di(e){if(!e.__isHover){if(ci(e),e.useHoverLayer)e.__zr&&e.__zr.addHover(e,e.__hoverStl);else{var t=e.style,n=t.insideRollbackOpt;n&&function(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth)}(t),t.extendFrom(e.__hoverStl),n&&(Ti(t,t.insideOriginalTextPosition,n),null==t.textFill&&(t.textFill=n.autoColor)),e.dirty(!1),e.z2+=1}e.__isHover=!0}}function hi(e){if(e.__isHover){var t=e.__normalStl;e.useHoverLayer?e.__zr&&e.__zr.removeHover(e):(t&&e.setStyle(t),e.z2-=1),e.__isHover=!1}}function fi(e){\"group\"===e.type?e.traverse(function(e){\"group\"!==e.type&&di(e)}):di(e)}function pi(e){\"group\"===e.type?e.traverse(function(e){\"group\"!==e.type&&hi(e)}):hi(e)}function gi(e,t){e.__hoverStl=e.hoverStyle||t||{},e.__hoverStlDirty=!0,e.__isHover&&ci(e)}function mi(e){this.__hoverSilentOnTouch&&e.zrByTouch||!this.__isEmphasis&&fi(this)}function vi(e){this.__hoverSilentOnTouch&&e.zrByTouch||!this.__isEmphasis&&pi(this)}function yi(){this.__isEmphasis=!0,fi(this)}function xi(){this.__isEmphasis=!1,pi(this)}function bi(e,t,n){e.__hoverSilentOnTouch=n&&n.hoverSilentOnTouch,\"group\"===e.type?e.traverse(function(e){\"group\"!==e.type&&gi(e,t)}):gi(e,t),e.on(\"mouseover\",mi).on(\"mouseout\",vi),e.on(\"emphasis\",yi).on(\"normal\",xi)}function _i(e,t,n,i,r,o,a){var s,l=(r=r||Ay).labelFetcher,u=r.labelDataIndex,c=r.labelDimIndex,d=n.getShallow(\"show\"),h=i.getShallow(\"show\");(d||h)&&(l&&(s=l.getFormattedLabel(u,\"normal\",null,c)),null==s&&(s=x(r.defaultText)?r.defaultText(u,r):r.defaultText));var f=d?s:null,p=h?k(l?l.getFormattedLabel(u,\"emphasis\",null,c):null,s):null;null==f&&null==p||(wi(e,n,o,r),wi(t,i,a,r,!0)),e.text=f,t.text=p}function wi(e,t,n,i,r){return Si(e,t,i,r),n&&o(e,n),e.host&&e.host.dirty&&e.host.dirty(!1),e}function Si(e,t,n,i){if((n=n||Ay).isRectText){var r=t.getShallow(\"position\")||(i?null:\"inside\");\"outside\"===r&&(r=\"top\"),e.textPosition=r,e.textOffset=t.getShallow(\"offset\");var o=t.getShallow(\"rotate\");null!=o&&(o*=Math.PI/180),e.textRotation=o,e.textDistance=k(t.getShallow(\"distance\"),i?null:5)}var a,s=t.ecModel,l=s&&s.option.textStyle,u=function(e){for(var t;e&&e!==e.ecModel;){var n=(e.option||Ay).rich;if(n)for(var i in t=t||{},n)n.hasOwnProperty(i)&&(t[i]=1);e=e.parentModel}return t}(t);if(u)for(var c in a={},u)if(u.hasOwnProperty(c)){var d=t.getModel([\"rich\",c]);Ci(a[c]={},d,l,n,i)}return e.rich=a,Ci(e,t,l,n,i,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),e}function Ci(e,t,n,i,r,o){if(n=!r&&n||Ay,e.textFill=Mi(t.getShallow(\"color\"),i)||n.color,e.textStroke=Mi(t.getShallow(\"textBorderColor\"),i)||n.textBorderColor,e.textStrokeWidth=k(t.getShallow(\"textBorderWidth\"),n.textBorderWidth),!r){if(o){var a=e.textPosition;e.insideRollback=Ti(e,a,i),e.insideOriginalTextPosition=a,e.insideRollbackOpt=i}null==e.textFill&&(e.textFill=i.autoColor)}e.fontStyle=t.getShallow(\"fontStyle\")||n.fontStyle,e.fontWeight=t.getShallow(\"fontWeight\")||n.fontWeight,e.fontSize=t.getShallow(\"fontSize\")||n.fontSize,e.fontFamily=t.getShallow(\"fontFamily\")||n.fontFamily,e.textAlign=t.getShallow(\"align\"),e.textVerticalAlign=t.getShallow(\"verticalAlign\")||t.getShallow(\"baseline\"),e.textLineHeight=t.getShallow(\"lineHeight\"),e.textWidth=t.getShallow(\"width\"),e.textHeight=t.getShallow(\"height\"),e.textTag=t.getShallow(\"tag\"),o&&i.disableBox||(e.textBackgroundColor=Mi(t.getShallow(\"backgroundColor\"),i),e.textPadding=t.getShallow(\"padding\"),e.textBorderColor=Mi(t.getShallow(\"borderColor\"),i),e.textBorderWidth=t.getShallow(\"borderWidth\"),e.textBorderRadius=t.getShallow(\"borderRadius\"),e.textBoxShadowColor=t.getShallow(\"shadowColor\"),e.textBoxShadowBlur=t.getShallow(\"shadowBlur\"),e.textBoxShadowOffsetX=t.getShallow(\"shadowOffsetX\"),e.textBoxShadowOffsetY=t.getShallow(\"shadowOffsetY\")),e.textShadowColor=t.getShallow(\"textShadowColor\")||n.textShadowColor,e.textShadowBlur=t.getShallow(\"textShadowBlur\")||n.textShadowBlur,e.textShadowOffsetX=t.getShallow(\"textShadowOffsetX\")||n.textShadowOffsetX,e.textShadowOffsetY=t.getShallow(\"textShadowOffsetY\")||n.textShadowOffsetY}function Mi(e,t){return\"auto\"!==e?e:t&&t.autoColor?t.autoColor:null}function Ti(e,t,n){var i,r=n.useInsideStyle;return null==e.textFill&&!1!==r&&(!0===r||n.isRectText&&t&&\"string\"==typeof t&&t.indexOf(\"inside\")>=0)&&(i={textFill:null,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth},e.textFill=\"#fff\",null==e.textStroke&&(e.textStroke=n.autoColor,null==e.textStrokeWidth&&(e.textStrokeWidth=2))),i}function ki(e,t){var n=t||t.getModel(\"textStyle\");return P([e.fontStyle||n&&n.getShallow(\"fontStyle\")||\"\",e.fontWeight||n&&n.getShallow(\"fontWeight\")||\"\",(e.fontSize||n&&n.getShallow(\"fontSize\")||12)+\"px\",e.fontFamily||n&&n.getShallow(\"fontFamily\")||\"sans-serif\"].join(\" \"))}function Ai(e,t,n,i,r,o){if(\"function\"==typeof r&&(o=r,r=null),i&&i.isAnimationEnabled()){var a=e?\"Update\":\"\",s=i.getShallow(\"animationDuration\"+a),l=i.getShallow(\"animationEasing\"+a),u=i.getShallow(\"animationDelay\"+a);\"function\"==typeof u&&(u=u(r,i.getAnimationDelayParams?i.getAnimationDelayParams(t,r):null)),\"function\"==typeof s&&(s=s(r)),s>0?t.animateTo(n,s,u||0,l,o,!!o):(t.stopAnimation(),t.attr(n),o&&o())}else t.stopAnimation(),t.attr(n),o&&o()}function Ii(e,t,n,i,r){Ai(!0,e,t,n,i,r)}function Di(e,t,n,i,r){Ai(!1,e,t,n,i,r)}function Ni(e,t){for(var n=se([]);e&&e!==t;)ue(n,e.getLocalTransform(),n),e=e.parent;return n}function Pi(e,t,n){return t&&!d(t)&&(t=Ng.getLocalTransform(t)),n&&(t=fe([],t)),Q([],e,t)}function Li(e,t,n){var i=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),r=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),o=[\"left\"===e?-i:\"right\"===e?i:0,\"top\"===e?-r:\"bottom\"===e?r:0];return o=Pi(o,t,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?\"right\":\"left\":o[1]>0?\"bottom\":\"top\"}function Ei(e,t,n,i){function r(e){var t={position:H(e.position),rotation:e.rotation};return e.shape&&(t.shape=o({},e.shape)),t}if(e&&t){var a=function(e){var t={};return e.traverse(function(e){!e.isGroup&&e.anid&&(t[e.anid]=e)}),t}(e);t.traverse(function(e){if(!e.isGroup&&e.anid){var t=a[e.anid];if(t){var i=r(e);e.attr(r(t)),Ii(e,i,n,e.dataIndex)}}})}}function Ri(e,t){return f(e,function(e){var n=e[0];n=Ty(n,t.x),n=ky(n,t.x+t.width);var i=e[1];return i=Ty(i,t.y),[n,i=ky(i,t.y+t.height)]})}function Oi(e,t,n){var i=(t=o({rectHover:!0},t)).style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf(\"image://\")?(i.image=e.slice(8),a(i,n),new Ht(t)):ti(e.replace(\"path://\",\"\"),t,n,\"center\")}function Bi(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}function zi(e,t,n){for(var i=0;i<t.length&&(!t[i]||null!=(e=e&&\"object\"==typeof e?e[t[i]]:null));i++);return null==e&&n&&(e=n.get(t)),e}function Fi(e,t){var n=Oy(e).getParent;return n?n.call(e,t):e.parentModel}function Vi(e){return[e||\"\",By++,Math.random().toFixed(5)].join(\"_\")}function Hi(e,t,n,i){var r=t[1]-t[0],o=n[1]-n[0];if(0===r)return 0===o?n[0]:(n[0]+n[1])/2;if(i)if(r>0){if(e<=t[0])return n[0];if(e>=t[1])return n[1]}else{if(e>=t[0])return n[0];if(e<=t[1])return n[1]}else{if(e===t[0])return n[0];if(e===t[1])return n[1]}return(e-t[0])/r*o+n[0]}function Wi(e,t){switch(e){case\"center\":case\"middle\":e=\"50%\";break;case\"left\":case\"top\":e=\"0%\";break;case\"right\":case\"bottom\":e=\"100%\"}return\"string\"==typeof e?function(e){return e.replace(/^\\s+/,\"\").replace(/\\s+$/,\"\")}(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e}function Gi(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e}function Ui(e){return e.sort(function(e,t){return e-t}),e}function ji(e){if(e=+e,isNaN(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}function qi(e){var t=e.toString(),n=t.indexOf(\"e\");if(n>0){var i=+t.slice(n+1);return i<0?-i:0}var r=t.indexOf(\".\");return r<0?0:t.length-1-r}function Zi(e,t){var n=Math.log,i=Math.LN10,r=Math.floor(n(e[1]-e[0])/i),o=Math.round(n(Math.abs(t[1]-t[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function Yi(e,t,n){if(!e[t])return 0;var i=p(e,function(e,t){return e+(isNaN(t)?0:t)},0);if(0===i)return 0;for(var r=Math.pow(10,n),o=f(e,function(e){return(isNaN(e)?0:e)/i*r*100}),a=100*r,s=f(o,function(e){return Math.floor(e)}),l=p(s,function(e,t){return e+t},0),u=f(o,function(e,t){return e-s[t]});l<a;){for(var c=Number.NEGATIVE_INFINITY,d=null,h=0,g=u.length;h<g;++h)u[h]>c&&(c=u[h],d=h);++s[d],u[d]=0,++l}return s[t]/r}function Xi(e){var t=2*Math.PI;return(e%t+t)%t}function $i(e){return e>-zy&&e<zy}function Ki(e){if(e instanceof Date)return e;if(\"string\"==typeof e){var t=Vy.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return\"Z\"!==t[8].toUpperCase()&&(n-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,+t[7]||0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}return null==e?new Date(NaN):new Date(Math.round(e))}function Ji(e){return Math.pow(10,Qi(e))}function Qi(e){return Math.floor(Math.log(e)/Math.LN10)}function er(e,t){var n=Qi(e),i=Math.pow(10,n),r=e/i;return e=(t?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,n>=-20?+e.toFixed(n<0?-n:0):e}function tr(e){function t(e,n,i){return e.interval[i]<n.interval[i]||e.interval[i]===n.interval[i]&&(e.close[i]-n.close[i]==(i?-1:1)||!i&&t(e,n,1))}e.sort(function(e,n){return t(e,n,0)?-1:1});for(var n=-1/0,i=1,r=0;r<e.length;){for(var o=e[r].interval,a=e[r].close,s=0;s<2;s++)o[s]<=n&&(o[s]=n,a[s]=s?1:1-i),n=o[s],i=a[s];o[0]===o[1]&&a[0]*a[1]!=1?e.splice(r,1):r++}return e}function nr(e){return e-parseFloat(e)>=0}function ir(e){return isNaN(e)?\"-\":(e=(e+\"\").split(\".\"))[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g,\"$1,\")+(e.length>1?\".\"+e[1]:\"\")}function rr(e,t){return e=(e||\"\").toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}function or(e){return String(e).replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#39;\")}function ar(e,t,n){y(t)||(t=[t]);var i=t.length;if(!i)return\"\";for(var r=t[0].$vars||[],o=0;o<r.length;o++){var a=Gy[o];e=e.replace(Uy(a),Uy(a,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var u=t[s][r[l]];e=e.replace(Uy(Gy[l],s),n?or(u):u)}return e}function sr(e,t,n){return h(t,function(t,i){e=e.replace(\"{\"+i+\"}\",n?or(t):t)}),e}function lr(e,t){var n=(e=b(e)?{color:e,extraCssText:t}:e||{}).color;return t=e.extraCssText,n?\"subItem\"===e.type?'<span style=\"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+or(n)+\";\"+(t||\"\")+'\"></span>':'<span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+or(n)+\";\"+(t||\"\")+'\"></span>':\"\"}function ur(e,t,n){\"week\"!==e&&\"month\"!==e&&\"quarter\"!==e&&\"half-year\"!==e&&\"year\"!==e||(e=\"MM-dd\\nyyyy\");var i=Ki(t),r=n?\"UTC\":\"\",o=i[\"get\"+r+\"FullYear\"](),a=i[\"get\"+r+\"Month\"]()+1,s=i[\"get\"+r+\"Date\"](),l=i[\"get\"+r+\"Hours\"](),u=i[\"get\"+r+\"Minutes\"](),c=i[\"get\"+r+\"Seconds\"]();return e.replace(\"MM\",jy(a)).replace(\"M\",a).replace(\"yyyy\",o).replace(\"yy\",o%100).replace(\"dd\",jy(s)).replace(\"d\",s).replace(\"hh\",jy(l)).replace(\"h\",l).replace(\"mm\",jy(u)).replace(\"m\",u).replace(\"ss\",jy(c)).replace(\"s\",c)}function cr(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e}function dr(e,t,n,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;t.eachChild(function(l,u){var c,d,h=l.position,f=l.getBoundingRect(),p=t.childAt(u+1),g=p&&p.getBoundingRect();if(\"horizontal\"===e){var m=f.width+(g?-g.x+f.x:0);(c=o+m)>i||l.newline?(o=0,c=m,a+=s+n,s=f.height):s=Math.max(s,f.height)}else{var v=f.height+(g?-g.y+f.y:0);(d=a+v)>r||l.newline?(o+=s+n,a=0,d=v,s=f.width):s=Math.max(s,f.width)}l.newline||(h[0]=o,h[1]=a,\"horizontal\"===e?o=c+n:a=d+n)})}function hr(e,t,n){n=Wy(n||0);var i=t.width,r=t.height,o=Wi(e.left,i),a=Wi(e.top,r),s=Wi(e.right,i),l=Wi(e.bottom,r),u=Wi(e.width,i),c=Wi(e.height,r),d=n[2]+n[0],h=n[1]+n[3],f=e.aspect;switch(isNaN(u)&&(u=i-s-h-o),isNaN(c)&&(c=r-l-d-a),null!=f&&(isNaN(u)&&isNaN(c)&&(f>i/r?u=.8*i:c=.8*r),isNaN(u)&&(u=f*c),isNaN(c)&&(c=u/f)),isNaN(o)&&(o=i-s-u-h),isNaN(a)&&(a=r-l-c-d),e.left||e.right){case\"center\":o=i/2-u/2-n[3];break;case\"right\":o=i-u-h}switch(e.top||e.bottom){case\"middle\":case\"center\":a=r/2-c/2-n[0];break;case\"bottom\":a=r-c-d}o=o||0,a=a||0,isNaN(u)&&(u=i-h-o-(s||0)),isNaN(c)&&(c=r-d-a-(l||0));var p=new Ze(o+n[3],a+n[0],u,c);return p.margin=n,p}function fr(e,t,n,i,r){var o=!r||!r.hv||r.hv[0],s=!r||!r.hv||r.hv[1],l=r&&r.boundingMode||\"all\";if(o||s){var u;if(\"raw\"===l)u=\"group\"===e.type?new Ze(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var c=e.getLocalTransform();(u=u.clone()).applyTransform(c)}t=hr(a({width:u.width,height:u.height},t),n,i);var d=e.position,h=o?t.x-u.x:0,f=s?t.y-u.y:0;e.attr(\"position\",\"raw\"===l?[h,f]:[d[0]+h,d[1]+f])}}function pr(e,t,n){function i(n,i){var a={},l=0,u={},c=0;if(Yy(n,function(t){u[t]=e[t]}),Yy(n,function(e){r(t,e)&&(a[e]=u[e]=t[e]),o(a,e)&&l++,o(u,e)&&c++}),s[i])return o(t,n[1])?u[n[2]]=null:o(t,n[2])&&(u[n[1]]=null),u;if(2!==c&&l){if(l>=2)return a;for(var d=0;d<n.length;d++){var h=n[d];if(!r(a,h)&&r(e,h)){a[h]=e[h];break}}return a}return u}function r(e,t){return e.hasOwnProperty(t)}function o(e,t){return null!=e[t]&&\"auto\"!==e[t]}function a(e,t,n){Yy(e,function(e){t[e]=n[e]})}!_(n)&&(n={});var s=n.ignoreSize;!y(s)&&(s=[s,s]);var l=i($y[0],0),u=i($y[1],1);a($y[0],e,l),a($y[1],e,u)}function gr(e){return mr({},e)}function mr(e,t){return t&&e&&Yy(Xy,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}function vr(e){var t=e.get(\"coordinateSystem\"),n={coordSysName:t,coordSysDims:[],axisMap:O(),categoryAxisMap:O()},i=ox[t];if(i)return i(e,n,n.axisMap,n.categoryAxisMap),n}function yr(e){return\"category\"===e.get(\"type\")}function xr(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===ux?{}:[]),this.sourceFormat=e.sourceFormat||cx,this.seriesLayoutBy=e.seriesLayoutBy||hx,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&O(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}function br(e){var t=e.option,n=t.data,i=S(n)?dx:ax,r=!1,o=t.seriesLayoutBy,a=t.sourceHeader,s=t.dimensions,l=function(e){var t=e.option;if(!t.data)return e.ecModel.getComponent(\"dataset\",t.datasetIndex||0)}(e);if(l){var u=l.option;n=u.source,i=px(l).sourceFormat,r=!0,o=o||u.seriesLayoutBy,null==a&&(a=u.sourceHeader),s=s||u.dimensions}var c=function(e,t,n,i,r){if(!e)return{dimensionsDefine:_r(r)};var o,a,s,l;if(t===sx)\"auto\"===i||null==i?wr(function(e){null!=e&&\"-\"!==e&&(b(e)?null==a&&(a=1):a=0)},n,e,10):a=i?1:0,r||1!==a||(r=[],wr(function(e,t){r[t]=null!=e?e:\"\"},n,e)),o=r?r.length:n===fx?e.length:e[0]?e[0].length:null;else if(t===lx)r||(r=function(e){for(var t,n=0;n<e.length&&!(t=e[n++]););if(t){var i=[];return h(t,function(e,t){i.push(t)}),i}}(e),s=!0);else if(t===ux)r||(r=[],s=!0,h(e,function(e,t){r.push(t)}));else if(t===ax){var u=an(e[0]);o=y(u)&&u.length||1}return s&&h(r,function(e,t){\"name\"===(_(e)?e.name:e)&&(l=t)}),{startIndex:a,dimensionsDefine:_r(r),dimensionsDetectCount:o,potentialNameDimIndex:l}}(n,i,o,a,s),d=t.encode;!d&&l&&(d=function(e,t,n,i,r,o){var a=vr(e),s={},l=[],u=[],c=e.subType,d=O([\"pie\",\"map\",\"funnel\"]),f=O([\"line\",\"bar\",\"pictorialBar\",\"scatter\",\"effectScatter\",\"candlestick\",\"boxplot\"]);if(a&&null!=f.get(c)){var p=px(e.ecModel).datasetMap,g=t.uid+\"_\"+r,m=p.get(g)||p.set(g,{categoryWayDim:1,valueWayDim:0});h(a.coordSysDims,function(e){if(null==a.firstCategoryDimIndex)t=m.valueWayDim++,s[e]=t,u.push(t);else if(a.categoryAxisMap.get(e))s[e]=0,l.push(0);else{var t=m.categoryWayDim++;s[e]=t,u.push(t)}})}else if(null!=d.get(c)){for(var v,y=0;y<5&&null==v;y++)Cr(n,i,r,o.dimensionsDefine,o.startIndex,y)||(v=y);if(null!=v){s.value=v;var x=o.potentialNameDimIndex||Math.max(v-1,0);u.push(x),l.push(x)}}return l.length&&(s.itemName=l),u.length&&(s.seriesName=u),s}(e,l,n,i,o,c)),px(e).source=new xr({data:n,fromDataset:r,seriesLayoutBy:o,sourceFormat:i,dimensionsDefine:c.dimensionsDefine,startIndex:c.startIndex,dimensionsDetectCount:c.dimensionsDetectCount,encodeDefine:d})}function _r(e){if(e){var t=O();return f(e,function(e,n){if(null==(e=o({},_(e)?e:{name:e})).name)return e;e.name+=\"\",null==e.displayName&&(e.displayName=e.name);var i=t.get(e.name);return i?e.name+=\"-\"+i.count++:t.set(e.name,{count:1}),e})}}function wr(e,t,n,i){if(null==i&&(i=1/0),t===fx)for(o=0;o<n.length&&o<i;o++)e(n[o]?n[o][0]:null,o);else for(var r=n[0]||[],o=0;o<r.length&&o<i;o++)e(r[o],o)}function Sr(e,t){return Cr(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function Cr(e,t,n,i,r,o){function a(e){return(null==e||!isFinite(e)||\"\"===e)&&(!(!b(e)||\"-\"===e)||void 0)}var s,l;if(S(e))return!1;if(i&&(l=_(l=i[o])?l.name:l),t===sx)if(n===fx){for(var u=e[o],c=0;c<(u||[]).length&&c<5;c++)if(null!=(s=a(u[r+c])))return s}else for(c=0;c<e.length&&c<5;c++){var d=e[r+c];if(d&&null!=(s=a(d[o])))return s}else if(t===lx){if(!l)return;for(c=0;c<e.length&&c<5;c++)if((h=e[c])&&null!=(s=a(h[l])))return s}else if(t===ux){if(!l)return;if(!(u=e[l])||S(u))return!1;for(c=0;c<u.length&&c<5;c++)if(null!=(s=a(u[c])))return s}else if(t===ax)for(c=0;c<e.length&&c<5;c++){var h=e[c],f=an(h);if(!y(f))return!1;if(null!=(s=a(f[o])))return s}return!1}function Mr(e){e=e,this.option={},this.option[gx]=1,this._componentsMap=O({series:[]}),function(e,t){h(t,function(t,r){ex.hasClass(r)||(\"object\"==typeof t?e[r]=e[r]?i(e[r],t,!1):n(t):null==e[r]&&(e[r]=t))})}(e,this._theme.option),i(e,nx,!1),this.mergeOption(e)}function Tr(e,t){e._seriesIndicesMap=O(e._seriesIndices=f(t,function(e){return e.componentIndex})||[])}function kr(e,t){return t.hasOwnProperty(\"subType\")?g(e,function(e){return e.subType===t.subType}):e}function Ar(e){h(vx,function(t){this[t]=m(e[t],e)},this)}function Ir(){this._coordinateSystems=[]}function Dr(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[]}function Nr(e,t,n){var i,r,o=[],a=[],s=e.timeline;return e.baseOption&&(r=e.baseOption),(s||e.options)&&(r=r||{},o=(e.options||[]).slice()),e.media&&(r=r||{},xx(e.media,function(e){e&&e.option&&(e.query?a.push(e):i||(i=e))})),r||(r=e),r.timeline||(r.timeline=s),xx([r].concat(o).concat(f(a,function(e){return e.option})),function(e){xx(t,function(t){t(e,n)})}),{baseOption:r,timelineOptions:o,mediaDefault:i,mediaList:a}}function Pr(e,t,n){var i={width:t,height:n,aspectratio:t/n},r=!0;return h(e,function(e,t){var n=t.match(Cx);if(n&&n[1]&&n[2]){var o=n[1],a=n[2].toLowerCase();(function(e,t,n){return\"min\"===n?e>=t:\"max\"===n?e<=t:e===t})(i[a],e,o)||(r=!1)}}),r}function Lr(e){var t=e&&e.itemStyle;if(t)for(var n=0,r=kx.length;n<r;n++){var o=kx[n],a=t.normal,s=t.emphasis;a&&a[o]&&(e[o]=e[o]||{},e[o].normal?i(e[o].normal,a[o]):e[o].normal=a[o],a[o]=null),s&&s[o]&&(e[o]=e[o]||{},e[o].emphasis?i(e[o].emphasis,s[o]):e[o].emphasis=s[o],s[o]=null)}}function Er(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var i=e[t].normal,r=e[t].emphasis;i&&(n?(e[t].normal=e[t].emphasis=null,a(e[t],i)):e[t]=i),r&&(e.emphasis=e.emphasis||{},e.emphasis[t]=r)}}function Rr(e){Er(e,\"itemStyle\"),Er(e,\"lineStyle\"),Er(e,\"areaStyle\"),Er(e,\"label\"),Er(e,\"labelLine\"),Er(e,\"upperLabel\"),Er(e,\"edgeLabel\")}function Or(e){var t=Tx(e)&&e.textStyle;if(t)for(var n=0,i=Ym.length;n<i;n++){var r=Ym[n];t.hasOwnProperty(r)&&(e[r]=t[r])}}function Br(e){e&&(Rr(e),Or(e.label),e.emphasis&&Or(e.emphasis.label))}function zr(e){return y(e)?e:e?[e]:[]}function Fr(e){return(y(e)?e[0]:e)||{}}function Vr(e){h(Ax,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}function Hr(e,t){xr.isInstance(e)||(e=xr.seriesDataToSource(e)),this._source=e;var n=this._data=e.data,i=e.sourceFormat;i===dx&&(this._offset=0,this._dimSize=t,this._data=n),o(this,Px[i===sx?i+\"_\"+e.seriesLayoutBy:i])}function Wr(){return this._data.length}function Gr(e){return this._data[e]}function Ur(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}function jr(e,t,n,i){return null!=n?e[n]:e}function qr(e,t,n,i){return Zr(e[i],this._dimensionInfos[t])}function Zr(e,t){var n=t&&t.type;if(\"ordinal\"===n){var i=t&&t.ordinalMeta;return i?i.parseAndCollect(e):e}return\"time\"===n&&\"number\"!=typeof e&&null!=e&&\"-\"!==e&&(e=+Ki(e)),null==e||\"\"===e?NaN:+e}function Yr(e,t,n){if(e){var i=e.getRawDataItem(t);if(null!=i){var r,o,a=e.getProvider().getSource().sourceFormat,s=e.getDimensionInfo(n);return s&&(r=s.name,o=s.index),Lx[a](i,t,o,r)}}}function Xr(e,t,n){if(e){var i=e.getProvider().getSource().sourceFormat;if(i===ax||i===lx){var r=e.getRawDataItem(t);return i!==ax||_(r)||(r=null),r?r[n]:void 0}}}function $r(e){return new Kr(e)}function Kr(e){this._reset=(e=e||{}).reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}function Jr(e){var t=e.name;Zm===t&&(e.name=function(e){var t=e.getRawData(),n=[];return h(t.mapDimension(\"seriesName\",!0),function(e){var i=t.getDimensionInfo(e);i.displayName&&n.push(i.displayName)}),n.join(\" \")}(e)||t)}function Qr(e){return e.model.getRawData().count()}function eo(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),to}function to(e,t){e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function no(e,t){h(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,v(io,t))})}function io(e){var t=ro(e);t&&t.setOutputEnd(this.count())}function ro(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var i=n.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(e.uid))}return i}}function oo(){this.group=new Qg,this.uid=Vi(\"viewChart\"),this.renderTask=$r({plan:lo,reset:uo}),this.renderTask.context={view:this}}function ao(e,t){if(e&&(e.trigger(t),\"group\"===e.type))for(var n=0;n<e.childCount();n++)ao(e.childAt(n),t)}function so(e,t,n){var i=cn(e,t);null!=i?h(rn(i),function(t){ao(e.getItemGraphicEl(t),n)}):e.eachItemGraphicEl(function(e){ao(e,n)})}function lo(e){return Ux(e.model)}function uo(e){var t=e.model,n=e.ecModel,i=e.api,r=e.payload,o=t.pipelineContext.incrementalRender,a=e.view,s=r&&Gx(r).updateMethod;return a[o&&a.incrementalPrepareRender?\"incrementalPrepareRender\":s&&a[s]?s:\"render\"](t,n,i,r),o?co:null}function co(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}function ho(e,t,n){function i(){c=(new Date).getTime(),d=null,e.apply(a,s||[])}var r,o,a,s,l,u=0,c=0,d=null;t=t||0;var h=function(){r=(new Date).getTime(),a=this,s=arguments;var e=l||t,h=l||n;l=null,o=r-(h?u:c)-e,clearTimeout(d),h?d=setTimeout(i,e):o>=0?i():d=setTimeout(i,-o),u=r};return h.clear=function(){d&&(clearTimeout(d),d=null)},h.debounceNextCall=function(e){l=e},h}function fo(e,t,n,i){var r=e[t];if(r){var o=r[qx]||r;if(r[Zx]!==n||r[Yx]!==i){if(null==n||!i)return e[t]=o;(r=e[t]=ho(o,n,\"debounce\"===i))[qx]=o,r[Yx]=i,r[Zx]=n}return r}}function po(e,t){var n=e[t];n&&n[qx]&&(e[t]=n[qx])}function go(e,t){this.ecInstance=e,this.api=t,this._stageTaskMap=O()}function mo(e,t,n,i,r){function o(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}var a;r=r||{},h(t,function(t,s){if(!r.visualType||r.visualType===t.visualType){var l=e._stageTaskMap.get(t.uid),u=l.seriesTaskMap,c=l.overallTask;if(c){var d,h=c.agentStubMap;h.each(function(e){o(r,e)&&(e.dirty(),d=!0)}),d&&c.dirty(),eb(c,i);var f=e.getPerformArgs(c,r.block);h.each(function(e){e.perform(f)}),a|=c.perform(f)}else u&&u.each(function(s,l){o(r,s)&&s.dirty();var u=e.getPerformArgs(s,r.block);u.skip=!t.performRawSeries&&n.isSeriesFiltered(s.context.model),eb(s,i),a|=s.perform(u)})}}),e.unfinished|=a}function vo(e){e.overallReset(e.ecModel,e.api,e.payload)}function yo(e,t){return e.overallProgress&&xo}function xo(){this.agent.dirty(),this.getDownstream().dirty()}function bo(){this.agent&&this.agent.dirty()}function _o(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function wo(e){if(e.useClearVisual&&e.data.clearAllVisual(),(e.resetDefines=rn(e.reset(e.model,e.ecModel,e.api,e.payload))).length)return So}function So(e,t){for(var n=t.data,i=t.resetDefines,r=0;r<i.length;r++){var o=i[r];if(o&&o.dataEach)for(var a=e.start;a<e.end;a++)o.dataEach(n,a);else o&&o.progress&&o.progress(e,n)}}function Co(e){return e.data.count()}function Mo(e,t,n){var i=e._pipelineMap.get(t.uid);!i.head&&(i.head=n),i.tail&&i.tail.pipe(n),i.tail=n,n.__idxInPipeline=i.count++,n.__pipeline=i}function To(e){tb=null;try{e(nb,ib)}catch(e){}return tb}function ko(e,t){for(var n in t.prototype)e[n]=z}function Ao(e){return function(t,n,i){t=t&&t.toLowerCase(),Sg.prototype[e].call(this,t,n,i)}}function Io(){Sg.call(this)}function Do(e,t,i){function r(e,t){return e.__prio-t.__prio}i=i||{},\"string\"==typeof t&&(t=Ib[t]),this._dom=e;var o=this._zr=tn(e,{renderer:i.renderer||\"canvas\",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=ho(m(o.flush,o),17),(t=n(t))&&Dx(t,!0),this._theme=t,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Ir;var a=this._api=Uo(this);this._scheduler=new go(this,a),Sg.call(this),this._messageCenter=new Io,this._initEvents(),this.resize=m(this.resize,this),this._pendingActions=[],Qe(Ab,r),Qe(Mb,r),o.animation.on(\"frame\",this._onframe,this),L(this)}function No(e,t,n){var i,r=this._model,o=this._coordSysMgr.getCoordinateSystems();t=hn(r,t);for(var a=0;a<o.length;a++){var s=o[a];if(s[e]&&null!=(i=s[e](r,t,n)))return i}}function Po(e){var t=e._model,n=e._scheduler;n.restorePipelines(t),n.prepareStageTasks(Mb),n.prepareStageTasks(Ab),zo(e,\"component\",t,n),zo(e,\"chart\",t,n),n.plan()}function Lo(e,t,n,i,r){function o(i){i&&i.__alive&&i[t]&&i[t](i.__model,a,e._api,n)}var a=e._model;if(i){var s={};s[i+\"Id\"]=n[i+\"Id\"],s[i+\"Index\"]=n[i+\"Index\"],s[i+\"Name\"]=n[i+\"Name\"];var l={mainType:i,query:s};r&&(l.subType=r),a&&a.eachComponent(l,function(t,n){o(e[\"series\"===i?\"_chartsMap\":\"_componentsMap\"][t.__viewId])},e)}else ub(e._componentsViews.concat(e._chartsViews),o)}function Eo(e,t){var n=e._chartsMap,i=e._scheduler;t.eachSeries(function(e){i.updateStreamModes(e,n[e.__viewId])})}function Ro(e,t){var n=e.type,i=e.escapeConnect,r=Sb[n],s=r.actionInfo,l=(s.update||\"update\").split(\":\"),u=l.pop();l=null!=l[0]&&hb(l[0]),this[vb]=!0;var c=[e],d=!1;e.batch&&(d=!0,c=f(e.batch,function(t){return(t=a(o({},t),e)).batch=null,t}));var h,p=[],g=\"highlight\"===n||\"downplay\"===n;ub(c,function(e){(h=(h=r.action(e,this._model,this._api))||o({},e)).type=s.event||h.type,p.push(h),g?Lo(this,u,e,\"series\"):l&&Lo(this,u,e,l.main,l.sub)},this),\"none\"===u||g||l||(this[yb]?(Po(this),_b.update.call(this,e),this[yb]=!1):_b[u].call(this,e)),h=d?{type:s.event||n,escapeConnect:i,batch:p}:p[0],this[vb]=!1,!t&&this._messageCenter.trigger(h.type,h)}function Oo(e){for(var t=this._pendingActions;t.length;){var n=t.shift();Ro.call(this,n,e)}}function Bo(e){!e&&this.trigger(\"updated\")}function zo(e,t,n,i){function r(e){var t=\"_ec_\"+e.id+\"_\"+e.type,r=s[t];if(!r){var c=hb(e.type);(r=new(o?Vx.getClass(c.main,c.sub):oo.getClass(c.sub))).init(n,u),s[t]=r,a.push(r),l.add(r.group)}e.__viewId=r.__id=t,r.__alive=!0,r.__model=e,r.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},!o&&i.prepareView(r,e,n,u)}for(var o=\"component\"===t,a=o?e._componentsViews:e._chartsViews,s=o?e._componentsMap:e._chartsMap,l=e._zr,u=e._api,c=0;c<a.length;c++)a[c].__alive=!1;for(o?n.eachComponent(function(e,t){\"series\"!==e&&r(t)}):n.eachSeries(r),c=0;c<a.length;){var d=a[c];d.__alive?c++:(!o&&d.renderTask.dispose(),l.remove(d.group),d.dispose(n,u),a.splice(c,1),delete s[d.__id],d.__id=d.group.__ecComponentInfo=null)}}function Fo(e){e.clearColorPalette(),e.eachSeries(function(e){e.clearColorPalette()})}function Vo(e,t,n,i){(function(e,t,n,i,r){ub(e._componentsViews,function(e){var r=e.__model;e.render(r,t,n,i),Go(r,e)})})(e,t,n,i),ub(e._chartsViews,function(e){e.__alive=!1}),Ho(e,t,0,i),ub(e._chartsViews,function(e){e.__alive||e.remove(t,n)})}function Ho(e,t,n,i,r){var o,a=e._scheduler;t.eachSeries(function(t){var n=e._chartsMap[t.__viewId];n.__alive=!0;var s=n.renderTask;a.updatePayload(s,i),r&&r.get(t.uid)&&s.dirty(),o|=s.perform(a.getPerformArgs(s)),n.group.silent=!!t.get(\"silent\"),Go(t,n),function(e,t){var n=e.get(\"blendMode\")||null;t.group.traverse(function(e){e.isGroup||e.style.blend!==n&&e.setStyle(\"blend\",n),e.eachPendingDisplayable&&e.eachPendingDisplayable(function(e){e.setStyle(\"blend\",n)})})}(t,n)}),a.unfinished|=o,function(e,t){var n=e.storage,i=0;n.traverse(function(e){e.isGroup||i++}),i>t.get(\"hoverLayerThreshold\")&&!ig.node&&n.traverse(function(e){e.isGroup||(e.useHoverLayer=!0)})}(e._zr,t),Kx(e._zr.dom,t)}function Wo(e,t){ub(kb,function(n){n(e,t)})}function Go(e,t){var n=e.get(\"z\"),i=e.get(\"zlevel\");t.group.traverse(function(e){\"group\"!==e.type&&(null!=n&&(e.z=n),null!=i&&(e.zlevel=i))})}function Uo(e){var t=e._coordSysMgr;return o(new Ar(e),{getCoordinateSystems:m(t.getCoordinateSystems,t),getComponentByElement:function(t){for(;t;){var n=t.__ecComponentInfo;if(null!=n)return e._model.getComponent(n.mainType,n.index);t=t.parent}}})}function jo(e){Pb[e]=!1}function qo(e){return Nb[function(e,t){return e.getAttribute?e.getAttribute(t):e[t]}(e,Rb)]}function Zo(e,t){Ib[e]=t}function Yo(e){Tb.push(e)}function Xo(e,t){ea(Mb,e,t,fb)}function $o(e,t,n){\"function\"==typeof t&&(n=t,t=\"\");var i=db(e)?e.type:[e,e={event:t}][0];e.event=(e.event||i).toLowerCase(),t=e.event,lb(xb.test(i)&&xb.test(t)),Sb[i]||(Sb[i]={action:n,actionInfo:e}),Cb[t]=i}function Ko(e,t){Ir.register(e,t)}function Jo(e,t){ea(Ab,e,t,pb,\"layout\")}function Qo(e,t){ea(Ab,e,t,gb,\"visual\")}function ea(e,t,n,i,r){(cb(t)||db(t))&&(n=t,t=i);var o=go.wrapStageHandler(n,r);return o.__prio=t,o.__raw=n,e.push(o),o}function ta(e,t){Db[e]=t}function na(e){return ex.extend(e)}function ia(e){return Vx.extend(e)}function ra(e){return Fx.extend(e)}function oa(e){return oo.extend(e)}function aa(e){return Ob[e]}function sa(e){return e}function la(e,t,n,i,r){this._old=e,this._new=t,this._oldKeyGetter=n||sa,this._newKeyGetter=i||sa,this.context=r}function ua(e,t,n,i,r){for(var o=0;o<e.length;o++){var a=\"_ec_\"+r[i](e[o],o),s=t[a];null==s?(n.push(a),t[a]=o):(s.length||(t[a]=s=[s]),s.push(o))}}function ca(e){return\"category\"===e?\"ordinal\":\"time\"===e?\"time\":\"float\"}function da(e){return e._rawCount>65535?typeof Hb.Uint32Array===Vb?Array:Hb.Uint32Array:typeof Hb.Uint16Array===Vb?Array:Hb.Uint16Array}function ha(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function fa(e,t){h(Ub.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods}function pa(e){return e}function ga(e){return e<this._count&&e>=0?this._indices[e]:-1}function ma(e,t){var n=e._idList[t];return null==n&&(n=e._getIdFromStore(t)),null==n&&(n=Wb+t),n}function va(e){return y(e)||(e=[e]),e}function ya(e,t){var n=e.dimensions,i=new jb(f(n,e.getDimensionInfo,e),e.hostModel);fa(i,e);for(var r=i._storage={},o=e._storage,a=0;a<n.length;a++){var s=n[a];o[s]&&(r[s]=l(t,s)>=0?xa(o[s]):o[s])}return i}function xa(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=ha(e[n]);return t}function ba(e,t,i){function r(e,t,n){null!=zb.get(t)?e.otherDims[t]=n:(e.coordDim=t,e.coordDimIndex=n,c.set(t,!0))}xr.isInstance(t)||(t=xr.seriesDataToSource(t)),i=i||{},e=(e||[]).slice();for(var s=(i.dimsDef||[]).slice(),l=O(i.encodeDef),u=O(),c=O(),d=[],f=function(e,t,n,i){return null==i&&(i=Math.max(e.dimensionsDetectCount||1,t.length,n.length),h(t,function(e){var t=e.dimsDef;t&&(i=Math.max(i,t.length))})),i}(t,e,s,i.dimCount),p=0;p<f;p++){var g=s[p]=o({},_(s[p])?s[p]:{name:s[p]}),m=g.name,v=d[p]={otherDims:{}};null!=m&&null==u.get(m)&&(v.name=v.displayName=m,u.set(m,p)),null!=g.type&&(v.type=g.type),null!=g.displayName&&(v.displayName=g.displayName)}l.each(function(e,t){e=rn(e).slice();var n=l.set(t,[]);h(e,function(e,i){b(e)&&(e=u.get(e)),null!=e&&e<f&&(n[i]=e,r(d[e],t,i))})});var y=0;h(e,function(e,t){var i,o,s;if(b(e))i=e,e={};else{i=e.name;var u=e.ordinalMeta;e.ordinalMeta=null,(e=n(e)).ordinalMeta=u,o=e.dimsDef,s=e.otherDims,e.name=e.coordDim=e.coordDimIndex=e.dimsDef=e.otherDims=null}var c=rn(l.get(i));if(!c.length)for(var f=0;f<(o&&o.length||1);f++){for(;y<d.length&&null!=d[y].coordDim;)y++;y<d.length&&c.push(y++)}h(c,function(t,n){var l=d[t];r(a(l,e),i,n),null==l.name&&o&&(l.name=l.displayName=o[n]),l.isSysCoord=!0,s&&a(l.otherDims,s)})});for(var x=i.extraPrefix||\"value\",w=0;w<f;w++)null==(v=d[w]=d[w]||{}).coordDim&&(v.coordDim=_a(x,c,i.extraFromZero),v.coordDimIndex=0,v.isExtraCoord=!0),null==v.name&&(v.name=_a(v.coordDim,u)),null==v.type&&Sr(t,w)&&(v.type=\"ordinal\");return d}function _a(e,t,n){if(n||null!=t.get(e)){for(var i=0;null!=t.get(e+i);)i++;e+=i}return t.set(e,!0),e}function wa(e,t){xr.isInstance(e)||(e=xr.seriesDataToSource(e));var n,i=t.get(\"coordinateSystem\"),r=Ir.get(i),o=vr(t);o&&(n=f(o.coordSysDims,function(e){var t={name:e},n=o.axisMap.get(e);if(n){var i=n.get(\"type\");t.type=ca(i),t.stackable=function(e){return\"category\"!==e&&\"time\"!==e}(i)}return t})),n||(n=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||[\"x\",\"y\"]);var a,s,l=Yb(e,{coordDimensions:n});o&&h(l,function(e,t){var n=o.categoryAxisMap.get(e.coordDim);n&&(null==a&&(a=t),e.ordinalMeta=n.getOrdinalMeta()),null!=e.otherDims.itemName&&(s=!0)}),s||null==a||(l[a].otherDims.itemName=0);var u=new jb(l,t),c=null!=a&&function(e){if(e.sourceFormat===ax){var t=function(e){for(var t=0;t<e.length&&null==e[t];)t++;return e[t]}(e.data||[]);return null!=t&&!y(an(t))}}(e)?function(e,t,n,i){return i===a?n:this.defaultDimValueGetter(e,t,n,i)}:null;return u.hasItemOption=!1,u.initData(e,null,c),u}function Sa(e){this._setting=e||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function Ca(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication}function Ma(e){return e._map||(e._map=O(e.categories))}function Ta(e){return _(e)&&null!=e.value?e.value:e+\"\"}function ka(e){return qi(e)+2}function Aa(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function Ia(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),Aa(e,0,t),Aa(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function Da(e){return e.get(\"stack\")||t_+e.seriesIndex}function Na(e){return e.dim+e.index}function Pa(e,t){return La(f(e,function(e){var t=e.getData(),n=e.coordinateSystem.getBaseAxis(),i=n.getExtent(),r=\"category\"===n.type?n.getBandWidth():Math.abs(i[1]-i[0])/t.count();return{bandWidth:r,barWidth:Wi(e.get(\"barWidth\"),r),barMaxWidth:Wi(e.get(\"barMaxWidth\"),r),barGap:e.get(\"barGap\"),barCategoryGap:e.get(\"barCategoryGap\"),axisKey:Na(n),stackId:Da(e)}}))}function La(e,t){var n={};h(e,function(e,t){var i=e.axisKey,r=e.bandWidth,o=n[i]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:\"20%\",gap:\"30%\",stacks:{}},a=o.stacks;n[i]=o;var s=e.stackId;a[s]||o.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var l=e.barWidth;l&&!a[s].width&&(a[s].width=l,l=Math.min(o.remainedWidth,l),o.remainedWidth-=l);var u=e.barMaxWidth;u&&(a[s].maxWidth=u);var c=e.barGap;null!=c&&(o.gap=c);var d=e.barCategoryGap;null!=d&&(o.categoryGap=d)});var i={};return h(n,function(e,t){i[t]={};var n=e.stacks,r=Wi(e.categoryGap,e.bandWidth),o=Wi(e.gap,1),a=e.remainedWidth,s=e.autoWidthCount,l=(a-r)/(s+(s-1)*o);l=Math.max(l,0),h(n,function(e,t){var n=e.maxWidth;n&&n<l&&(n=Math.min(n,a),e.width&&(n=Math.min(n,e.width)),a-=n,e.width=n,s--)}),l=(a-r)/(s+(s-1)*o),l=Math.max(l,0);var u,c=0;h(n,function(e,t){e.width||(e.width=l),u=e,c+=e.width*(1+o)}),u&&(c-=u.width*o);var d=-c/2;h(n,function(e,n){i[t][n]=i[t][n]||{offset:d,width:e.width},d+=e.width*(1+o)})}),i}function Ea(e,t,n){var i=Pa(g(t.getSeriesByType(e),function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&\"cartesian2d\"===e.coordinateSystem.type})),r={},o={};t.eachSeriesByType(e,function(e){if(\"cartesian2d\"===e.coordinateSystem.type){var t=e.getData(),n=e.coordinateSystem,a=n.getBaseAxis(),s=Da(e),l=i[Na(a)][s],u=l.offset,c=l.width,d=n.getOtherAxis(a),h=e.get(\"barMinHeight\")||0,f=a.onZero?d.toGlobalCoord(d.dataToCoord(0)):d.getGlobalExtent()[0],p=[t.mapDimension(\"x\"),t.mapDimension(\"y\")],g=t.mapArray(p,function(e,t){return n.dataToPoint([e,t])},!0);r[s]=r[s]||[],o[s]=o[s]||[],t.setLayout({offset:u,size:c}),t.each(t.mapDimension(d.dim),function(e,n){if(!isNaN(e)){r[s][n]||(r[s][n]={p:f,n:f},o[s][n]={p:f,n:f});var i,a,l,p,m=e>=0?\"p\":\"n\",v=g[n],y=r[s][n][m],x=o[s][n][m];d.isHorizontal()?(i=y,a=v[1]+u,p=c,o[s][n][m]+=l=v[0]-x,Math.abs(l)<h&&(l=(l<0?-1:1)*h),r[s][n][m]+=l):(i=v[0]+u,a=y,l=c,o[s][n][m]+=p=v[1]-x,Math.abs(p)<h&&(p=(p<=0?-1:1)*h),r[s][n][m]+=p),t.setItemLayout(n,{x:i,y:a,width:l,height:p})}},!0)}},this)}function Ra(e,t){return c_(e,u_(t))}function Oa(e,t){var n,i,r,o=e.type,a=t.getMin(),s=t.getMax(),l=null!=a,u=null!=s,c=e.getExtent();\"ordinal\"===o?n=t.getCategories().length:(y(i=t.get(\"boundaryGap\"))||(i=[i||0,i||0]),\"boolean\"==typeof i[0]&&(i=[0,0]),i[0]=Wi(i[0],1),i[1]=Wi(i[1],1),r=c[1]-c[0]||Math.abs(c[0])),null==a&&(a=\"ordinal\"===o?n?0:NaN:c[0]-i[0]*r),null==s&&(s=\"ordinal\"===o?n?n-1:NaN:c[1]+i[1]*r),\"dataMin\"===a?a=c[0]:\"function\"==typeof a&&(a=a({min:c[0],max:c[1]})),\"dataMax\"===s?s=c[1]:\"function\"==typeof s&&(s=s({min:c[0],max:c[1]})),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN),e.setBlank(M(a)||M(s)),t.getNeedCrossZero()&&(a>0&&s>0&&!l&&(a=0),a<0&&s<0&&!u&&(s=0));var d=t.ecModel;if(d){var h=g(d.getSeriesByType(\"bar\"),function(e){return e.getBaseAxis()===t.axis}).length>0;if((\"time\"===o||\"interval\"===o)&&h){var f=Ba(a,s,t);a=f.min,s=f.max}}return[a,s]}function Ba(e,t,n){var i=n.ecModel,r=n.axis.getExtent(),o=r[1]-r[0],a=Pa(g(i.getSeriesByType(\"bar\"),function(e){return!i.isSeriesFiltered(e)&&e.coordinateSystem&&\"cartesian2d\"===e.coordinateSystem.type}))[n.axis.dim+n.axis.index];if(void 0===a)return{min:e,max:t};var s=1/0;h(a,function(e){s=Math.min(e.offset,s)});var l=-1/0;h(a,function(e){l=Math.max(e.offset+e.width,l)});var u=Math.abs(s)+l,c=t-e,d=c/(1-(s+l)/o)-c;return{min:e-=d*(s/u),max:t+=d*(l/u)}}function za(e,t){var n=Oa(e,t),i=null!=t.getMin(),r=null!=t.getMax(),o=t.get(\"splitNumber\");\"log\"===e.type&&(e.base=t.get(\"logBase\"));var a=e.type;e.setExtent(n[0],n[1]),e.niceExtent({splitNumber:o,fixMin:i,fixMax:r,minInterval:\"interval\"===a||\"time\"===a?t.get(\"minInterval\"):null,maxInterval:\"interval\"===a||\"time\"===a?t.get(\"maxInterval\"):null});var s=t.get(\"interval\");null!=s&&e.setInterval&&e.setInterval(s)}function Fa(e,t){if(t=t||e.get(\"type\"))switch(t){case\"category\":return new Kb(e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),[1/0,-1/0]);case\"value\":return new e_;default:return(Sa.getClass(t)||e_).create(e)}}function Va(e,t,n,i,r){var o,a=0,s=0,l=(i-r)/180*Math.PI,u=1;t.length>40&&(u=Math.floor(t.length/40));for(var c=0;c<e.length;c+=u){var d=e[c],h=ct(t[c],n,\"center\",\"top\");h.x+=d*Math.cos(l),h.y+=d*Math.sin(l),h.width*=1.3,h.height*=1.3,o?o.intersect(h)?(s++,a=Math.max(a,s)):(o.union(h),s=0):o=h.clone()}return 0===a&&u>1?u:(a+1)*u-1}function Ha(e,t){var n=e.scale,i=n.getTicksLabels(),r=n.getTicks();return\"string\"==typeof t?f(i,t=function(e){return function(t){return e.replace(\"{value}\",null!=t?t:\"\")}}(t)):\"function\"==typeof t?f(r,function(n,i){return t(Wa(e,n),i)},this):i}function Wa(e,t){return\"category\"===e.type?e.scale.getLabel(t):t}function Ga(e,t){if(\"image\"!==this.type){var n=this.style,i=this.shape;i&&\"line\"===i.symbolType?n.stroke=e:this.__isEmptyBrush?(n.stroke=e,n.fill=t||\"#fff\"):(n.fill&&(n.fill=e),n.stroke&&(n.stroke=e)),this.dirty(!1)}}function Ua(e,t,n,i,r,o,a){var s,l=0===e.indexOf(\"empty\");return l&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),(s=0===e.indexOf(\"image://\")?ni(e.slice(8),new Ze(t,n,i,r),a?\"center\":\"cover\"):0===e.indexOf(\"path://\")?ti(e.slice(7),{},new Ze(t,n,i,r),a?\"center\":\"cover\"):new S_({shape:{symbolType:e,x:t,y:n,width:i,height:r}})).__isEmptyBrush=l,s.setColor=Ga,s.setColor(o),s}function ja(e,t){return Math.abs(e-t)<M_}function qa(e,t,n){var i=0,r=e[0];if(!r)return!1;for(var o=1;o<e.length;o++){var a=e[o];i+=Hn(r[0],r[1],a[0],a[1],t,n),r=a}var s=e[0];return ja(r[0],s[0])&&ja(r[1],s[1])||(i+=Hn(r[0],r[1],s[0],s[1],t,n)),0!==i}function Za(e,t,n){if(this.name=e,this.geometries=t,n)n=[n[0],n[1]];else{var i=this.getBoundingRect();n=[i.x+i.width/2,i.y+i.height/2]}this.center=n}function Ya(e,t,n){for(var i=[],r=t[0],o=t[1],a=0;a<e.length;a+=2){var s=e.charCodeAt(a)-64,l=e.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),r=s+=r,o=l+=o,i.push([s/n,l/n])}return i}function Xa(e,t){var n=(e[1]-e[0])/t/2;e[0]+=n,e[1]-=n}function $a(e,t){var n=e.mapDimension(\"defaultedLabel\",!0),i=n.length;if(1===i)return Yr(e,t,n[0]);if(i){for(var r=[],o=0;o<n.length;o++){var a=Yr(e,t,n[o]);r.push(a)}return r.join(\" \")}}function Ka(e){return[e[0]/2,e[1]/2]}function Ja(e,t,n){Qg.call(this),this.updateData(e,t,n)}function Qa(e,t){this.parent.drift(e,t)}function es(e){this.group=new Qg,this._symbolCtor=e||Ja}function ts(e,t,n,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i&&i(n))&&\"none\"!==e.getItemVisual(n,\"symbol\")}function ns(e){var t=e.hostModel;return{itemStyle:t.getModel(\"itemStyle\").getItemStyle([\"color\"]),hoverItemStyle:t.getModel(\"emphasis.itemStyle\").getItemStyle(),symbolRotate:t.get(\"symbolRotate\"),symbolOffset:t.get(\"symbolOffset\"),hoverAnimation:t.get(\"hoverAnimation\"),labelModel:t.getModel(\"label\"),hoverLabelModel:t.getModel(\"emphasis.label\"),cursorStyle:t.get(\"cursor\")}}function is(e){return e>=0?1:-1}function rs(e,t,n){for(var i,r=e.getBaseAxis(),o=e.getOtherAxis(r),a=r.onZero?0:o.scale.getExtent()[0],s=o.dim,l=\"x\"===s||\"radius\"===s?1:0,u=t.stackedOn,c=t.get(s,n);u&&is(u.get(s,n))===is(c);){i=u;break}var d=[];return d[l]=t.get(r.dim,n),d[1-l]=i?i.get(s,n,!0):a,e.dataToPoint(d)}function os(e){return isNaN(e[0])||isNaN(e[1])}function as(e,t,n,i,r,o,a,s,l,u,c){for(var d=0,h=n,f=0;f<i;f++){var p=t[h];if(h>=r||h<0)break;if(os(p)){if(c){h+=o;continue}break}if(h===n)e[o>0?\"moveTo\":\"lineTo\"](p[0],p[1]),H_(G_,p);else if(l>0){var g=h+o,m=t[g];if(c)for(;m&&os(t[g]);)m=t[g+=o];var v=.5,y=t[d];if(!(m=t[g])||os(m))H_(U_,p);else{var x,b;if(os(m)&&!c&&(m=p),j(W_,m,y),\"x\"===u||\"y\"===u){var _=\"x\"===u?0:1;x=Math.abs(p[_]-y[_]),b=Math.abs(p[_]-m[_])}else x=xg(p,y),b=xg(p,m);V_(U_,p,W_,-l*(1-(v=b/(b+x))))}z_(G_,G_,s),F_(G_,G_,a),z_(U_,U_,s),F_(U_,U_,a),e.bezierCurveTo(G_[0],G_[1],U_[0],U_[1],p[0],p[1]),V_(G_,p,W_,l*v)}else e.lineTo(p[0],p[1]);d=h,h+=o}return f}function ss(e,t){var n=[1/0,1/0],i=[-1/0,-1/0];if(t)for(var r=0;r<e.length;r++){var o=e[r];o[0]<n[0]&&(n[0]=o[0]),o[1]<n[1]&&(n[1]=o[1]),o[0]>i[0]&&(i[0]=o[0]),o[1]>i[1]&&(i[1]=o[1])}return{min:t?n:i,max:t?i:n}}function ls(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++){var i=e[n],r=t[n];if(i[0]!==r[0]||i[1]!==r[1])return}return!0}}function us(e){return\"number\"==typeof e?e:e?.3:0}function cs(e){var t=e.getGlobalExtent();if(e.onBand){var n=e.getBandWidth()/2-1,i=t[1]>t[0]?1:-1;t[0]+=i*n,t[1]-=i*n}return t}function ds(e){return e>=0?1:-1}function hs(e,t,n){return\"polar\"===e.type?function(e,t,n){var i=e.getAngleAxis(),r=e.getRadiusAxis().getExtent(),o=i.getExtent(),a=Math.PI/180,s=new uy({shape:{cx:e.cx,cy:e.cy,r0:r[0],r:r[1],startAngle:-o[0]*a,endAngle:-o[1]*a,clockwise:i.inverse}});return t&&(s.shape.endAngle=-o[0]*a,Di(s,{shape:{endAngle:-o[1]*a}},n)),s}(e,t,n):function(e,t,n){var i=cs(e.getAxis(\"x\")),r=cs(e.getAxis(\"y\")),o=e.getBaseAxis().isHorizontal(),a=Math.min(i[0],i[1]),s=Math.min(r[0],r[1]),l=Math.max(i[0],i[1])-a,u=Math.max(r[0],r[1])-s,c=n.get(\"lineStyle.width\")||2,d=n.get(\"clipOverflow\")?c/2:Math.max(l,u);o?(s-=d,u+=2*d):(a-=d,l+=2*d);var h=new gy({shape:{x:a,y:s,width:l,height:u}});return t&&(h.shape[o?\"width\":\"height\"]=0,Di(h,{shape:{width:l,height:u}},n)),h}(e,t,n)}function fs(e,t,n){for(var i=t.getBaseAxis(),r=\"x\"===i.dim||\"radius\"===i.dim?0:1,o=[],a=0;a<e.length-1;a++){var s=e[a+1],l=e[a];o.push(l);var u=[];switch(n){case\"end\":u[r]=s[r],u[1-r]=l[1-r],o.push(u);break;case\"middle\":var c=[];u[r]=c[r]=(l[r]+s[r])/2,u[1-r]=l[1-r],c[1-r]=s[1-r],o.push(u),o.push(c);break;default:u[r]=l[r],u[1-r]=s[1-r],o.push(u)}}return e[a]&&o.push(e[a]),o}function ps(e,t){var n=e.getVisual(\"visualMeta\");if(n&&n.length&&e.count()){for(var i,r=n.length-1;r>=0;r--)if(n[r].dimension<2){i=n[r];break}if(i&&\"cartesian2d\"===t.type){var o=e.dimensions[i.dimension],a=t.getAxis(o),s=f(i.stops,function(e){return{coord:a.toGlobalCoord(a.dataToCoord(e.value)),color:e.color}}),l=s.length,u=i.outerColors.slice();l&&s[0].coord>s[l-1].coord&&(s.reverse(),u.reverse());var c=s[0].coord-10,d=s[l-1].coord+10,p=d-c;if(p<.001)return\"transparent\";h(s,function(e){e.offset=(e.coord-c)/p}),s.push({offset:l?s[l-1].offset:.5,color:u[1]||\"transparent\"}),s.unshift({offset:l?s[0].offset:.5,color:u[0]||\"transparent\"});var g=new wy(0,0,0,0,s,!0);return g[o]=c,g[o+\"2\"]=d,g}}}function gs(e){return this._axes[e]}function ms(e){K_.call(this,e)}function vs(e,t){return t.type||(t.data?\"category\":\"value\")}function ys(e,t,n){return e.getCoordSysModel()===t}function xs(e,t){var n=t*Math.PI/180,i=e.plain(),r=i.width,o=i.height,a=r*Math.cos(n)+o*Math.sin(n),s=r*Math.sin(n)+o*Math.cos(n);return new Ze(i.x,i.y,a,s)}function bs(e,t,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,n),this.model=e}function _s(e,t,n){var i=e[t];if(n.onZero){var r=n.onZeroAxisIndex;if(null==r){for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];if(a&&!ws(a)){r=+o;break}}null==r&&(n.onZero=!1),n.onZeroAxisIndex=r}else(a=i[r])&&ws(a)&&(n.onZero=!1)}}function ws(e){return\"category\"===e.type||\"time\"===e.type||!aw(e)}function Ss(e,t){return f(uw,function(t){return e.getReferringComponents(t)[0]})}function Cs(e){return\"cartesian2d\"===e.get(\"coordinateSystem\")}function Ms(e){var t={componentType:e.mainType};return t[e.mainType+\"Index\"]=e.componentIndex,t}function Ts(e){var t=e.get(\"tooltip\");return e.get(\"silent\")||!(e.get(\"triggerEvent\")||t&&t.show)}function ks(e){e&&(e.ignore=!0)}function As(e,t,n){var i=e&&e.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(i&&r){var o=se([]);return de(o,o,-e.rotation),i.applyTransform(ue([],o,e.getLocalTransform())),r.applyTransform(ue([],o,t.getLocalTransform())),i.intersect(r)}}function Is(e){return\"middle\"===e||\"center\"===e}function Ds(e,t,i,r,o,s){var l=t.getModel(\"axisPointer\"),u={};mw([\"type\",\"snap\",\"lineStyle\",\"shadowStyle\",\"label\",\"animation\",\"animationDurationUpdate\",\"animationEasingUpdate\",\"z\"],function(e){u[e]=n(l.get(e))}),u.snap=\"category\"!==e.type&&!!s,\"cross\"===l.get(\"type\")&&(u.type=\"line\");var c=u.label||(u.label={});if(null==c.show&&(c.show=!1),\"cross\"===o&&(c.show=!0,!s)){var d=u.lineStyle=l.get(\"crossStyle\");d&&a(c,d.textStyle)}return e.model.getModel(\"axisPointer\",new Bi(u,i,r))}function Ns(e,t){return\"all\"===e||y(e)&&l(e,t)>=0||e===t}function Ps(e){var t=Ls(e);if(t){var n=t.axisPointerModel,i=t.axis.scale,r=n.option,o=n.get(\"status\"),a=n.get(\"value\");null!=a&&(a=i.parse(a));var s=Es(n);null==o&&(r.status=s?\"show\":\"hide\");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=t.axis.scale.isBlank()?\"hide\":\"show\")}}function Ls(e){var t=(e.ecModel.getComponent(\"axisPointer\")||{}).coordSysAxesInfo;return t&&t.axesInfo[Rs(e)]}function Es(e){return!!e.get(\"handle.show\")}function Rs(e){return e.type+\"||\"+e.id}function Os(e,t,n,i,r,o){var a=yw.getAxisPointerClass(e.axisPointerClass);if(a){var s=function(e){var t=Ls(e);return t&&t.axisPointerModel}(t);s?(e._axisPointer||(e._axisPointer=new a)).render(t,s,i,o):Bs(e,i)}}function Bs(e,t,n){var i=e._axisPointer;i&&i.dispose(t,n),e._axisPointer=null}function zs(e,t,n){n=n||{};var i=e.coordinateSystem,r=t.axis,o={},a=r.position,s=r.onZero?\"onZero\":a,l=r.dim,u=i.getRect(),c=[u.x,u.x+u.width,u.y,u.y+u.height],d={left:0,right:1,top:0,bottom:1,onZero:2},h=t.get(\"offset\")||0,f=\"x\"===l?[c[2]-h,c[3]+h]:[c[0]-h,c[1]+h];if(r.onZero){var p=i.getAxis(\"x\"===l?\"y\":\"x\",r.onZeroAxisIndex),g=p.toGlobalCoord(p.dataToCoord(0));f[d.onZero]=Math.max(Math.min(g,f[1]),f[0])}o.position=[\"y\"===l?f[d[s]]:c[0],\"x\"===l?f[d[s]]:c[3]],o.rotation=Math.PI/2*(\"x\"===l?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[a],o.labelOffset=r.onZero?f[d[a]]-f[d.onZero]:0,t.get(\"axisTick.inside\")&&(o.tickDirection=-o.tickDirection),T(n.labelInside,t.get(\"axisLabel.inside\"))&&(o.labelDirection=-o.labelDirection);var m=t.get(\"axisLabel.rotate\");return o.labelRotate=\"top\"===s?-m:m,o.labelInterval=r.getLabelInterval(),o.z2=1,o}function Fs(e,t,n,i,r,o,a){_i(e,t,n.getModel(\"label\"),n.getModel(\"emphasis.label\"),{labelFetcher:r,labelDataIndex:o,defaultText:$a(r.getData(),o),isRectText:!0,autoColor:i}),Vs(e),Vs(t)}function Vs(e,t){\"outside\"===e.textPosition&&(e.textPosition=t)}function Hs(e,t,n){n.style.text=null,Ii(n,{shape:{width:0}},t,e,function(){n.parent&&n.parent.remove(n)})}function Ws(e,t,n){n.style.text=null,Ii(n,{shape:{r:n.shape.r0}},t,e,function(){n.parent&&n.parent.remove(n)})}function Gs(e,t,n,i,r,o,s,l){var u=t.getItemVisual(n,\"color\"),c=t.getItemVisual(n,\"opacity\"),d=i.getModel(\"itemStyle\"),h=i.getModel(\"emphasis.itemStyle\").getBarItemStyle();l||e.setShape(\"r\",d.get(\"barBorderRadius\")||0),e.useStyle(a({fill:u,opacity:c},d.getBarItemStyle()));var f=i.getShallow(\"cursor\");f&&e.attr(\"cursor\",f),l||Fs(e.style,h,i,u,o,n),bi(e,h)}function Us(e,t,n,i){var r=t.getData(),o=r.getName(this.dataIndex),a=t.get(\"selectedOffset\");i.dispatchAction({type:\"pieToggleSelect\",from:e,name:o,seriesId:t.id}),r.each(function(e){js(r.getItemGraphicEl(e),r.getItemLayout(e),t.isSelected(r.getName(e)),a,n)})}function js(e,t,n,i,r){var o=(t.startAngle+t.endAngle)/2,a=n?i:0,s=[Math.cos(o)*a,Math.sin(o)*a];r?e.animate().when(200,{position:s}).start(\"bounceOut\"):e.attr(\"position\",s)}function qs(e,t){function n(){o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore}function i(){o.ignore=o.normalIgnore,a.ignore=a.normalIgnore}Qg.call(this);var r=new uy({z2:2}),o=new py,a=new oy;this.add(r),this.add(o),this.add(a),this.updateData(e,t,!0),this.on(\"emphasis\",n).on(\"normal\",i).on(\"mouseover\",n).on(\"mouseout\",i)}function Zs(e,t,n,i,r,o,a){function s(t,n){for(var i=t;i>=0&&(e[i].y-=n,!(i>0&&e[i].y>e[i-1].y+e[i-1].height));i--);}function l(e,t,n,i,r,o){for(var a=t?Number.MAX_VALUE:0,s=0,l=e.length;s<l;s++)if(\"center\"!==e[s].position){var u=Math.abs(e[s].y-i),c=e[s].len,d=e[s].len2,h=u<r+c?Math.sqrt((r+c+d)*(r+c+d)-u*u):Math.abs(e[s].x-n);t&&h>=a&&(h=a-10),!t&&h<=a&&(h=a+10),e[s].x=n+h*o,a=h}}e.sort(function(e,t){return e.y-t.y});for(var u,c=0,d=e.length,h=[],f=[],p=0;p<d;p++)(u=e[p].y-c)<0&&function(t,n,i,r){for(var o=t;o<n;o++)if(e[o].y+=i,o>t&&o+1<n&&e[o+1].y>e[o].y+e[o].height)return void s(o,i/2);s(n-1,i/2)}(p,d,-u),c=e[p].y+e[p].height;for(a-c<0&&s(d-1,c-a),p=0;p<d;p++)e[p].y>=n?f.push(e[p]):h.push(e[p]);l(h,!1,t,n,i,r),l(f,!0,t,n,i,r)}function Ys(){this.group=new Qg}function Xs(e,t,n){I_.call(this,e,t,n),this.type=\"value\",this.angle=0,this.name=\"\"}function $s(e,t,n){this._model=e,this.dimensions=[],this._indicatorAxes=f(e.getIndicatorModels(),function(e,t){var n=\"indicator_\"+t,i=new Xs(n,new e_);return i.name=e.get(\"name\"),i.model=e,e.axis=i,this.dimensions.push(n),i},this),this.resize(e,n)}function Ks(e,t){return a({show:t},e)}function Js(e,t){return!!Qs(e)[t]}function Qs(e){return e[jw]||(e[jw]={})}function el(e){this._zr=e,this._opt={};var t=m,i=t(tl,this),r=t(nl,this),o=t(il,this),s=t(rl,this),l=t(ol,this);Sg.call(this),this.setPointerChecker=function(e){this.pointerChecker=e},this.enable=function(t,u){this.disable(),this._opt=a(n(u)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&\"move\"!==t&&\"pan\"!==t||(e.on(\"mousedown\",i),e.on(\"mousemove\",r),e.on(\"mouseup\",o)),!0!==t&&\"scale\"!==t&&\"zoom\"!==t||(e.on(\"mousewheel\",s),e.on(\"pinch\",l))},this.disable=function(){e.off(\"mousedown\",i),e.off(\"mousemove\",r),e.off(\"mouseup\",o),e.off(\"mousewheel\",s),e.off(\"pinch\",l)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function tl(e){if(!(Yt(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}}function nl(e){if(!Yt(e)&&sl(this,\"moveOnMouseMove\",e)&&this._dragging&&\"pinch\"!==e.gestureEvent&&!Js(this._zr,\"globalPan\")){var t=e.offsetX,n=e.offsetY,i=this._x,r=this._y,o=t-i,a=n-r;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&Im(e.event),this.trigger(\"pan\",o,a,i,r,t,n)}}function il(e){Yt(e)||(this._dragging=!1)}function rl(e){sl(this,\"zoomOnMouseWheel\",e)&&0!==e.wheelDelta&&al.call(this,e,e.wheelDelta>0?1.1:1/1.1,e.offsetX,e.offsetY)}function ol(e){Js(this._zr,\"globalPan\")||al.call(this,e,e.pinchScale>1?1.1:1/1.1,e.pinchX,e.pinchY)}function al(e,t,n,i){this.pointerChecker&&this.pointerChecker(e,n,i)&&(Im(e.event),this.trigger(\"zoom\",t,n,i))}function sl(e,t,n){var i=e._opt[t];return i&&(!b(i)||n.event[i+\"Key\"])}function ll(e,t,n){var i=e.target,r=i.position;r[0]+=t,r[1]+=n,i.dirty()}function ul(e,t,n,i){var r=e.target,o=e.zoomLimit,a=r.position,s=r.scale,l=e.zoom=e.zoom||1;if(l*=t,o){var u=o.min||0;l=Math.max(Math.min(o.max||1/0,l),u)}var c=l/e.zoom;e.zoom=l,a[0]-=(n-a[0])*(c-1),a[1]-=(i-a[1])*(c-1),s[0]*=c,s[1]*=c,r.dirty()}function cl(e,t,n){var i=t.getComponentByElement(e.topTarget),r=i&&i.coordinateSystem;return i&&i!==n&&!qw[i.mainType]&&r&&r.model!==n}function dl(e,t){var n=e.getItemStyle(),i=e.get(\"areaColor\");return null!=i&&(n.fill=i),n}function hl(e,t,n,i,r){n.off(\"click\"),n.off(\"mousedown\"),t.get(\"selectedMode\")&&(n.on(\"mousedown\",function(){e._mouseDownFlag=!0}),n.on(\"click\",function(o){if(e._mouseDownFlag){e._mouseDownFlag=!1;for(var a=o.target;!a.__regions;)a=a.parent;if(a){var s={type:(\"geo\"===t.mainType?\"geo\":\"map\")+\"ToggleSelect\",batch:f(a.__regions,function(e){return{name:e.name,from:r.uid}})};s[t.mainType+\"Id\"]=t.id,i.dispatchAction(s),fl(t,n)}}}))}function fl(e,t){t.eachChild(function(t){h(t.__regions,function(n){t.trigger(e.isSelected(n.name)?\"emphasis\":\"normal\")})})}function pl(e,t){var n=new Qg;this._controller=new el(e.getZr()),this._controllerHost={target:t?n:null},this.group=n,this._updateGroup=t}function gl(e,t,n){var i=e.getZoom(),r=e.getCenter(),o=t.zoom,a=e.dataToPoint(r);if(null!=t.dx&&null!=t.dy&&(a[0]-=t.dx,a[1]-=t.dy,r=e.pointToData(a),e.setCenter(r)),null!=o){if(n){var s=n.min||0;o=Math.max(Math.min(i*o,n.max||1/0),s)/i}e.scale[0]*=o,e.scale[1]*=o;var l=e.position,u=(t.originY-l[1])*(o-1);l[0]-=(t.originX-l[0])*(o-1),l[1]-=u,e.updateTransform(),r=e.pointToData(a),e.setCenter(r),e.setZoom(o*i)}return{center:e.getCenter(),zoom:e.getZoom()}}function ml(){Ng.call(this)}function vl(e){this.name=e,Ng.call(this),this._roamTransformable=new ml,this._rawTransformable=new ml}function yl(e,t,n,i){var r=n.seriesModel,o=r?r.coordinateSystem:null;return o===this?o[e](i):null}function xl(e,t,n,i,r){vl.call(this,e),this.map=t,this._nameCoordMap=O(),this.loadGeoJson(n,i,r)}function bl(e,t,n,i){var r=n.geoModel,o=n.seriesModel,a=r?r.coordinateSystem:o?o.coordinateSystem||(o.getReferringComponents(\"geo\")[0]||{}).coordinateSystem:null;return a===this?a[e](i):null}function _l(e,t){var n=e.get(\"boundingCoords\");if(null!=n){var i=n[0],r=n[1];isNaN(i[0])||isNaN(i[1])||isNaN(r[0])||isNaN(r[1])||this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}var o,a=this.getBoundingRect(),s=e.get(\"layoutCenter\"),l=e.get(\"layoutSize\"),u=t.getWidth(),c=t.getHeight(),d=e.get(\"aspectScale\")||.75,h=a.width/a.height*d,f=!1;if(s&&l&&(s=[Wi(s[0],u),Wi(s[1],c)],l=Wi(l,Math.min(u,c)),isNaN(s[0])||isNaN(s[1])||isNaN(l)||(f=!0)),f){var p={};h>1?(p.width=l,p.height=l/h):(p.height=l,p.width=l*h),p.y=s[1]-p.height/2,p.x=s[0]-p.width/2}else(o=e.getBoxLayoutParams()).aspect=h,p=hr(o,{width:u,height:c});this.setViewRect(p.x,p.y,p.width,p.height),this.setCenter(e.get(\"center\")),this.setZoom(e.get(\"zoom\"))}function wl(e,t){h(t.get(\"geoCoord\"),function(t,n){e.addGeoCoord(n,t)})}function Sl(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:\"data\"}),e.datas=e.mainData=null,Al(t,n,e),iS(n,function(n){iS(t.TRANSFERABLE_METHODS,function(t){n.wrapMethod(t,v(Cl,e))})}),t.wrapMethod(\"cloneShallow\",v(Tl,e)),iS(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,v(Ml,e))}),N(n[t.dataType]===t)}function Cl(e,t){if(function(e){return e[oS]===e}(this)){var n=o({},this[rS]);n[this.dataType]=t,Al(t,n,e)}else Il(t,this.dataType,this[oS],e);return t}function Ml(e,t){return e.struct&&e.struct.update(this),t}function Tl(e,t){return iS(t[rS],function(n,i){n!==t&&Il(n.cloneShallow(),i,t,e)}),t}function kl(e){var t=this[oS];return null==e||null==t?t:t[rS][e]}function Al(e,t,n){e[rS]={},iS(t,function(t,i){Il(t,i,e,n)})}function Il(e,t,n,i){n[rS][t]=e,e[oS]=n,e.dataType=t,i.struct&&(e[i.structAttr]=i.struct,i.struct[i.datasAttr[t]]=e),e.getLinkedData=kl}function Dl(e,t,n){this._nodes=[],this.hostModel=e,this.levelModels=f(t||[],function(t){return new Bi(t,e,e.ecModel)}),this.leavesModel=new Bi(n||{},e,e.ecModel)}function Nl(e,t){var n=e.isExpand?e.children:[],i=e.parentNode.children,r=e.hierNode.i?i[e.hierNode.i-1]:null;if(n.length){!function(e){for(var t=e.children,n=t.length,i=0,r=0;--n>=0;){var o=t[n];o.hierNode.prelim+=i,o.hierNode.modifier+=i,i+=o.hierNode.shift+(r+=o.hierNode.change)}}(e);var o=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;r?(e.hierNode.prelim=r.hierNode.prelim+t(e,r),e.hierNode.modifier=e.hierNode.prelim-o):e.hierNode.prelim=o}else r&&(e.hierNode.prelim=r.hierNode.prelim+t(e,r));e.parentNode.hierNode.defaultAncestor=function(e,t,n,i){if(t){for(var r=e,o=e,a=o.parentNode.children[0],s=t,l=r.hierNode.modifier,u=o.hierNode.modifier,c=a.hierNode.modifier,d=s.hierNode.modifier;s=Rl(s),o=Ol(o),s&&o;){r=Rl(r),a=Ol(a),r.hierNode.ancestor=e;var h=s.hierNode.prelim+d-o.hierNode.prelim-u+i(s,o);h>0&&(zl(Bl(s,e,n),e,h),u+=h,l+=h),d+=s.hierNode.modifier,u+=o.hierNode.modifier,l+=r.hierNode.modifier,c+=a.hierNode.modifier}s&&!Rl(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=d-l),o&&!Ol(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=u-c,n=e)}return n}(e,r,e.parentNode.hierNode.defaultAncestor||i[0],t)}function Pl(e){e.setLayout({x:e.hierNode.prelim+e.parentNode.hierNode.modifier},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function Ll(e){return arguments.length?e:Fl}function El(e,t){var n={};return e-=Math.PI/2,n.x=t*Math.cos(e),n.y=t*Math.sin(e),n}function Rl(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function Ol(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function Bl(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}function zl(e,t,n){var i=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=i}function Fl(e,t){return e.parentNode===t.parentNode?1:2}function Vl(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)&&\"none\"!==e.getItemVisual(t,\"symbol\")}function Hl(e,t,n){return n.itemModel=t,n.itemStyle=t.getModel(\"itemStyle\").getItemStyle(),n.hoverItemStyle=t.getModel(\"emphasis.itemStyle\").getItemStyle(),n.lineStyle=t.getModel(\"lineStyle\").getLineStyle(),n.labelModel=t.getModel(\"label\"),n.hoverLabelModel=t.getModel(\"emphasis.label\"),n.symbolInnerColor=!1===e.isExpand&&0!==e.children.length?n.itemStyle.fill:\"#fff\",n}function Wl(e,t,n,i,r,o){var s=!n,l=e.tree.getNodeByDataIndex(t),u=(o=Hl(l,l.getModel(),o),e.tree.root),c=l.parentNode===u?l:l.parentNode||l,d=e.getItemGraphicEl(c.dataIndex),h=c.getLayout(),f=d?{x:d.position[0],y:d.position[1],rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:h,p=l.getLayout();s?(n=new Ja(e,t,o)).attr(\"position\",[f.x,f.y]):n.updateData(e,t,o),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=p.rawX,n.__radialRawY=p.rawY,i.add(n),e.setItemGraphicEl(t,n),Ii(n,{position:[p.x,p.y]},r);var g=n.getSymbolPath();if(\"radial\"===o.layout){var m,v,y=u.children[0],x=y.getLayout(),b=y.children.length;if(p.x===x.x&&!0===l.isExpand){var _={};_.x=(y.children[0].getLayout().x+y.children[b-1].getLayout().x)/2,_.y=(y.children[0].getLayout().y+y.children[b-1].getLayout().y)/2,(m=Math.atan2(_.y-x.y,_.x-x.x))<0&&(m=2*Math.PI+m),(v=_.x<x.x)&&(m-=Math.PI)}else(m=Math.atan2(p.y-x.y,p.x-x.x))<0&&(m=2*Math.PI+m),0===l.children.length||0!==l.children.length&&!1===l.isExpand?(v=p.x<x.x)&&(m-=Math.PI):(v=p.x>x.x)||(m-=Math.PI);g.setStyle({textPosition:v?\"left\":\"right\",textRotation:-m,textOrigin:\"center\",verticalAlign:\"middle\"})}if(l.parentNode&&l.parentNode!==u){var w=n.__edge;w||(w=n.__edge=new yy({shape:Ul(o,f,f),style:a({opacity:0},o.lineStyle)})),Ii(w,{shape:Ul(o,h,p),style:{opacity:1}},r),i.add(w)}}function Gl(e,t,n,i,r,o){for(var a,s=e.tree.getNodeByDataIndex(t),l=e.tree.root,u=(o=Hl(s,s.getModel(),o),s.parentNode===l?s:s.parentNode||s);null==(a=u.getLayout());)u=u.parentNode===l?u:u.parentNode||u;Ii(n,{position:[a.x+1,a.y+1]},r,function(){i.remove(n),e.setItemGraphicEl(t,null)}),n.fadeOut(null,{keepLabel:!0});var c=n.__edge;c&&Ii(c,{shape:Ul(o,a,a),style:{opacity:0}},r,function(){i.remove(c)})}function Ul(e,t,n){var i,r,o,a,s=e.orient;if(\"radial\"===e.layout){var l=n.rawX,u=n.rawY,c=El(p=t.rawX,g=t.rawY),d=El(p,g+(u-g)*e.curvature),h=El(l,u+(g-u)*e.curvature),f=El(l,u);return{x1:c.x,y1:c.y,x2:f.x,y2:f.y,cpx1:d.x,cpy1:d.y,cpx2:h.x,cpy2:h.y}}var p=t.x,g=t.y;return l=n.x,u=n.y,\"horizontal\"===s&&(i=p+(l-p)*e.curvature,r=g,o=l+(p-l)*e.curvature,a=u),\"vertical\"===s&&(i=p,r=g+(u-g)*e.curvature,o=l,a=u+(g-u)*e.curvature),{x1:p,y1:g,x2:l,y2:u,cpx1:i,cpy1:r,cpx2:o,cpy2:a}}function jl(e,t){for(var n,i=[e];n=i.pop();)if(t(n),n.isExpand){var r=n.children;if(r.length)for(var o=r.length-1;o>=0;o--)i.push(r[o])}}function ql(e,t,n){if(e&&l(t,e.type)>=0){var i=n.getData().tree.root,r=e.targetNode;if(r&&i.contains(r))return{node:r};var o=e.targetNodeId;if(null!=o&&(r=i.getNodeById(o)))return{node:r}}}function Zl(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function Yl(e,t){return l(Zl(e),t)>=0}function Xl(e,t){for(var n=[];e;){var i=e.dataIndex;n.push({name:e.name,dataIndex:i,value:t.getRawValue(i)}),e=e.parentNode}return n.reverse(),n}function $l(e){var t=0;h(e.children,function(e){$l(e);var n=e.value;y(n)&&(n=n[0]),t+=n});var n=e.value;y(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),y(e.value)?e.value[0]=n:e.value=n}function Kl(e){this.group=new Qg,e.add(this.group)}function Jl(e,t,n,i,r,o){var a=[[r?e:e-lS,t],[e+n,t],[e+n,t+i],[r?e:e-lS,t+i]];return!o&&a.splice(2,0,[e+n+lS,t+i/2]),!r&&a.push([e,t+i/2]),a}function Ql(e,t,n){e.eventData={componentType:\"series\",componentSubType:\"treemap\",seriesIndex:t.componentIndex,seriesName:t.name,seriesType:\"treemap\",selfType:\"breadcrumb\",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&Xl(n,t)}}function eu(e,t,i,r,a,s,l,u,c,d){function h(e,t){_?!e.invisible&&s.push(e):(t(),e.__tmWillVisible||(e.invisible=!1))}function f(t,i,r,o,a,s){var u=l.getModel(),c=T(e.getFormattedLabel(l.dataIndex,\"normal\",null,null,s?\"upperLabel\":\"label\"),u.get(\"name\"));if(!s&&v.isLeafRoot){var d=e.get(\"drillDownIcon\",!0);c=d?d+\" \"+c:c}var h=u.getModel(s?gS:fS),f=u.getModel(s?mS:pS),p=h.getShallow(\"show\");_i(t,i,h,f,{defaultText:p?c:null,autoColor:r,isRectText:!0}),s&&(t.textRect=n(s)),t.truncate=p&&h.get(\"ellipsis\")?{outerWidth:o,outerHeight:a,minChar:2}:null}function p(e,n,r,o){var s=null!=S&&i[e][S],l=a[e];return s?(i[e][S]=null,g(l,s,e)):_||((s=new n({z:tu(r,o)})).__tmDepth=r,s.__tmStorageName=e,m(l,0,e)),t[e][w]=s}function g(e,t,n){(e[w]={}).old=\"nodeGroup\"===n?t.position.slice():o({},t.shape)}function m(e,t,n){var i=e[w]={},o=l.parentNode;if(o&&(!r||\"drillDown\"===r.direction)){var s=0,u=0,c=a.background[o.getRawIndex()];!r&&c&&c.old&&(s=c.old.width,u=c.old.height),i.old=\"nodeGroup\"===n?[0,u]:{x:s,y:u,width:0,height:0}}i.fadein=\"nodeGroup\"!==n}if(l){var v=l.getLayout();if(v&&v.isInView){var y=v.width,x=v.height,b=v.borderWidth,_=v.invisible,w=l.getRawIndex(),S=u&&u.getRawIndex(),C=l.viewChildren,M=v.upperHeight,k=C&&C.length,A=l.getModel(\"itemStyle\"),I=l.getModel(\"emphasis.itemStyle\"),D=p(\"nodeGroup\",cS);if(D){if(c.add(D),D.attr(\"position\",[v.x||0,v.y||0]),D.__tmNodeWidth=y,D.__tmNodeHeight=x,v.isAboveViewRoot)return D;var N=p(\"background\",dS,d,yS);if(N&&function(t,n,i){n.dataIndex=l.dataIndex,n.seriesIndex=e.seriesIndex,n.setShape({x:0,y:0,width:y,height:x});var r=l.getVisual(\"borderColor\",!0),o=I.get(\"borderColor\");h(n,function(){var e=_S(A);e.fill=r;var t=bS(I);if(t.fill=o,i){var a=y-2*b;f(e,t,r,a,M,{x:b,y:0,width:a,height:M})}else e.text=t.text=null;n.setStyle(e),bi(n,t)}),t.add(n)}(D,N,k&&v.upperHeight),!k){var P=p(\"content\",dS,d,xS);P&&function(t,n){n.dataIndex=l.dataIndex,n.seriesIndex=e.seriesIndex;var i=Math.max(y-2*b,0),r=Math.max(x-2*b,0);n.culling=!0,n.setShape({x:b,y:b,width:i,height:r});var o=l.getVisual(\"color\",!0);h(n,function(){var e=_S(A);e.fill=o;var t=bS(I);f(e,t,o,i,r),n.setStyle(e),bi(n,t)}),t.add(n)}(D,P)}return D}}}}function tu(e,t){var n=e*vS+t;return(n-1)/n}function nu(e,t){var n=e.visual,i=[];_(n)?CS(n,function(e){i.push(e)}):null!=n&&i.push(n),t||1!==i.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(i[1]=i[0]),cu(e,i)}function iu(e){return{applyVisual:function(t,n,i){t=this.mapValueToVisual(t),i(\"color\",e(n(\"color\"),t))},_doMap:lu([0,1])}}function ru(e){var t=this.option.visual;return t[Math.round(Hi(e,[0,1],[0,t.length-1],!0))]||{}}function ou(e){return function(t,n,i){i(e,this.mapValueToVisual(t))}}function au(e){var t=this.option.visual;return t[this.option.loop&&e!==TS?e%t.length:e]}function su(){return this.option.visual[0]}function lu(e){return{linear:function(t){return Hi(t,e,this.option.visual,!0)},category:au,piecewise:function(t,n){var i=uu.call(this,n);return null==i&&(i=Hi(t,e,this.option.visual,!0)),i},fixed:su}}function uu(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var i=n[kS.findPieceIndex(e,n)];if(i&&i.visual)return i.visual[this.type]}}function cu(e,t){return e.visual=t,\"color\"===e.type&&(e.parsedVisual=f(t,function(e){return Te(e)})),t}function du(e,t,n){return e?t<=n:t<n}function hu(e,t,n,i,r,o){var a=e.getModel(),s=e.getLayout();if(s&&!s.invisible&&s.isInView){var l,u=e.getModel(NS),c=fu(u,t,n[e.depth],i),d=u.get(\"borderColor\"),f=u.get(\"borderColorSaturation\");null!=f&&(d=function(e,t){return null!=t?Pe(t,null,null,e):null}(f,l=pu(c))),e.setVisual(\"borderColor\",d);var p=e.viewChildren;if(p&&p.length){var g=function(e,t,n,i,r,o){if(o&&o.length){var a=mu(t,\"color\")||null!=r.color&&\"none\"!==r.color&&(mu(t,\"colorAlpha\")||mu(t,\"colorSaturation\"));if(a){var s=t.get(\"visualMin\"),l=t.get(\"visualMax\"),u=n.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var c=t.get(\"colorMappingBy\"),d={type:a.name,dataExtent:u,visual:a.range};\"color\"!==d.type||\"index\"!==c&&\"id\"!==c?d.mappingMethod=\"linear\":(d.mappingMethod=\"category\",d.loop=!0);var h=new kS(d);return h.__drColorMappingBy=c,h}}}(0,a,s,0,c,p);h(p,function(e,t){(e.depth>=r.length||e===r[e.depth])&&hu(e,vu(a,c,e,t,g,o),n,i,r,o)})}else l=pu(c),e.setVisual(\"color\",l)}}function fu(e,t,n,i){var r=o({},t);return h([\"color\",\"colorAlpha\",\"colorSaturation\"],function(o){var a=e.get(o,!0);null==a&&n&&(a=n[o]),null==a&&(a=t[o]),null==a&&(a=i.get(o)),null!=a&&(r[o]=a)}),r}function pu(e){var t=gu(e,\"color\");if(t){var n=gu(e,\"colorAlpha\"),i=gu(e,\"colorSaturation\");return i&&(t=Pe(t,null,null,i)),n&&(t=Le(t,n)),t}}function gu(e,t){var n=e[t];if(null!=n&&\"none\"!==n)return n}function mu(e,t){var n=e.get(t);return DS(n)&&n.length?{name:t,range:n}:null}function vu(e,t,n,i,r,a){var s=o({},t);if(r){var l=r.type,u=\"color\"===l&&r.__drColorMappingBy,c=\"index\"===u?i:\"id\"===u?a.mapIdToIndex(n.getId()):n.getValue(e.get(\"visualDimension\"));s[l]=r.mapValueToVisual(c)}return s}function yu(e,t,n,i){var r,o;if(!e.isRemoved()){var a=e.getLayout();r=a.width,o=a.height;var s=(f=e.getModel()).get(OS),l=f.get(BS)/2,u=Su(f),c=Math.max(s,u),d=s-l,h=c-l,f=e.getModel();e.setLayout({borderWidth:s,upperHeight:c,upperLabelHeight:u},!0);var p=(r=PS(r-2*d,0))*(o=PS(o-d-h,0)),g=xu(e,f,p,t,n,i);if(g.length){var m={x:d,y:h,width:r,height:o},v=LS(r,o),y=1/0,x=[];x.area=0;for(var b=0,_=g.length;b<_;){var w=g[b];x.push(w),x.area+=w.getLayout().area;var S=bu(x,v,t.squareRatio);S<=y?(b++,y=S):(x.area-=x.pop().getLayout().area,_u(x,v,m,l,!1),v=LS(m.width,m.height),x.length=x.area=0,y=1/0)}if(x.length&&_u(x,v,m,l,!0),!n){var C=f.get(\"childrenVisibleMin\");null!=C&&p<C&&(n=!0)}for(b=0,_=g.length;b<_;b++)yu(g[b],t,n,i+1)}}}function xu(e,t,n,i,r,o){var a=e.children||[],s=i.sort;\"asc\"!==s&&\"desc\"!==s&&(s=null);var l=null!=i.leafDepth&&i.leafDepth<=o;if(r&&!l)return e.viewChildren=[];!function(e,t){t&&e.sort(function(e,n){var i=\"asc\"===t?e.getValue()-n.getValue():n.getValue()-e.getValue();return 0===i?\"asc\"===t?e.dataIndex-n.dataIndex:n.dataIndex-e.dataIndex:i})}(a=g(a,function(e){return!e.isRemoved()}),s);var u=function(e,t,n){for(var i=0,r=0,o=t.length;r<o;r++)i+=t[r].getValue();var a=e.get(\"visualDimension\");if(t&&t.length)if(\"value\"===a&&n)s=[t[t.length-1].getValue(),t[0].getValue()],\"asc\"===n&&s.reverse();else{var s=[1/0,-1/0];RS(t,function(e){var t=e.getValue(a);t<s[0]&&(s[0]=t),t>s[1]&&(s[1]=t)})}else s=[NaN,NaN];return{sum:i,dataExtent:s}}(t,a,s);if(0===u.sum)return e.viewChildren=[];if(u.sum=function(e,t,n,i,r){if(!i)return n;for(var o=e.get(\"visibleMin\"),a=r.length,s=a,l=a-1;l>=0;l--){var u=r[\"asc\"===i?a-l-1:l].getValue();u/n*t<o&&(s=l,n-=u)}return r.splice(\"asc\"===i?0:s,a-s),n}(t,n,u.sum,s,a),0===u.sum)return e.viewChildren=[];for(var c=0,d=a.length;c<d;c++){var h=a[c].getValue()/u.sum*n;a[c].setLayout({area:h})}return l&&(a.length&&e.setLayout({isLeafRoot:!0},!0),a.length=0),e.viewChildren=a,e.setLayout({dataExtent:u.dataExtent},!0),a}function bu(e,t,n){for(var i,r=0,o=1/0,a=0,s=e.length;a<s;a++)(i=e[a].getLayout().area)&&(i<o&&(o=i),i>r&&(r=i));var l=e.area*e.area,u=t*t*n;return l?PS(u*r/l,l/(u*o)):1/0}function _u(e,t,n,i,r){var o=t===n.width?0:1,a=1-o,s=[\"x\",\"y\"],l=[\"width\",\"height\"],u=n[s[o]],c=t?e.area/t:0;(r||c>n[l[a]])&&(c=n[l[a]]);for(var d=0,h=e.length;d<h;d++){var f=e[d],p={},g=c?f.getLayout().area/c:0,m=p[l[a]]=PS(c-2*i,0),v=n[s[o]]+n[l[o]]-u,y=d===h-1||v<g?v:g,x=p[l[o]]=PS(y-2*i,0);p[s[a]]=n[s[a]]+LS(i,m/2),p[s[o]]=u+LS(i,x/2),u+=y,f.setLayout(p,!0)}n[s[a]]+=c,n[l[a]]-=c}function wu(e,t,n,i,r){var o=e.getLayout(),a=n[r],s=a&&a===e;if(!(a&&!s||r===n.length&&e!==i)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(o),isAboveViewRoot:s},!0);var l=new Ze(t.x-o.x,t.y-o.y,t.width,t.height);RS(e.viewChildren||[],function(e){wu(e,l,n,i,r+1)})}}function Su(e){return e.get(zS)?e.get(FS):0}function Cu(e){return\"_EC_\"+e}function Mu(e,t){this.id=null==e?\"\":e,this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=null==t?-1:t}function Tu(e,t,n){this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}function ku(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}function Au(e){return\"_\"+e+\"Type\"}function Iu(e,t,n){var i=t.getItemVisual(n,\"color\"),r=t.getItemVisual(n,e),o=t.getItemVisual(n,e+\"Size\");if(r&&\"none\"!==r){y(o)||(o=[o,o]);var a=Ua(r,-o[0]/2,-o[1]/2,o[0],o[1],i);return a.name=e,a}}function Du(e,t){var n=t[0],i=t[1],r=t[2];e.x1=n[0],e.y1=n[1],e.x2=i[0],e.y2=i[1],e.percent=1,r?(e.cpx1=r[0],e.cpy1=r[1]):(e.cpx1=NaN,e.cpy1=NaN)}function Nu(e,t,n){Qg.call(this),this._createLine(e,t,n)}function Pu(e){this._ctor=e||Nu,this.group=new Qg}function Lu(e){var t=e.hostModel;return{lineStyle:t.getModel(\"lineStyle\").getLineStyle(),hoverLineStyle:t.getModel(\"emphasis.lineStyle\").getLineStyle(),labelModel:t.getModel(\"label\"),hoverLabelModel:t.getModel(\"emphasis.label\")}}function Eu(e){return isNaN(e[0])||isNaN(e[1])}function Ru(e){return!Eu(e[0])&&!Eu(e[1])}function Ou(e,t,n){for(var i,r=e[0],o=e[1],a=e[2],s=1/0,l=n*n,u=.1,c=.1;c<=.9;c+=.1)JS[0]=tC(r[0],o[0],a[0],c),JS[1]=tC(r[1],o[1],a[1],c),(f=iC(nC(JS,t)-l))<s&&(s=f,i=c);for(var d=0;d<32;d++){var h=i+u;QS[0]=tC(r[0],o[0],a[0],i),QS[1]=tC(r[1],o[1],a[1],i),eC[0]=tC(r[0],o[0],a[0],h),eC[1]=tC(r[1],o[1],a[1],h);var f=nC(QS,t)-l;if(iC(f)<.01)break;var p=nC(eC,t)-l;u/=2,f<0?p>=0?i+=u:i-=u:p>=0?i-=u:i+=u}return i}function Bu(e,t){return e.getVisual(\"opacity\")||e.getModel().get(t)}function zu(e,t,n){var i=e.getGraphicEl(),r=Bu(e,t);null!=n&&(null==r&&(r=1),r*=n),i.downplay&&i.downplay(),i.traverse(function(e){\"group\"!==e.type&&e.setStyle(\"opacity\",r)})}function Fu(e,t){var n=Bu(e,t),i=e.getGraphicEl();i.highlight&&i.highlight(),i.traverse(function(e){\"group\"!==e.type&&e.setStyle(\"opacity\",n)})}function Vu(e){return e instanceof Array||(e=[e,e]),e}function Hu(e){var t=e.coordinateSystem;if(!t||\"view\"===t.type){var n=e.getGraph();n.eachNode(function(e){var t=e.getModel();e.setLayout([+t.get(\"x\"),+t.get(\"y\")])}),Wu(n)}}function Wu(e){e.eachEdge(function(e){var t=e.getModel().get(\"lineStyle.curveness\")||0,n=H(e.node1.getLayout()),i=H(e.node2.getLayout()),r=[n,i];+t&&r.push([(n[0]+i[0])/2-(n[1]-i[1])*t,(n[1]+i[1])/2-(i[0]-n[0])*t]),e.setLayout(r)})}function Gu(e){var t=e.coordinateSystem;if(!t||\"view\"===t.type){var n=t.getBoundingRect(),i=e.getData(),r=i.graph,o=0,a=i.getSum(\"value\"),s=2*Math.PI/(a||i.count()),l=n.width/2+n.x,u=n.height/2+n.y,c=Math.min(n.width,n.height)/2;r.eachNode(function(e){var t=e.getValue(\"value\");o+=s*(a?t:1)/2,e.setLayout([c*Math.cos(o)+l,c*Math.sin(o)+u]),o+=s*(a?t:1)/2}),i.setLayout({cx:l,cy:u}),r.eachEdge(function(e){var t,n=e.getModel().get(\"lineStyle.curveness\")||0,i=H(e.node1.getLayout()),r=H(e.node2.getLayout());+n&&(t=[l*(n*=3)+(i[0]+r[0])/2*(1-n),u*n+(i[1]+r[1])/2*(1-n)]),e.setLayout([i,r,t])})}}function Uu(e,t){return t&&(\"string\"==typeof t?e=t.replace(\"{value}\",null!=e?e:\"\"):\"function\"==typeof t&&(e=t(e))),e}function ju(e,t){function n(){o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore}function i(){o.ignore=o.normalIgnore,a.ignore=a.normalIgnore}Qg.call(this);var r=new fy,o=new py,a=new oy;this.add(r),this.add(o),this.add(a),this.updateData(e,t,!0),this.on(\"emphasis\",n).on(\"normal\",i).on(\"mouseover\",n).on(\"mouseout\",i)}function qu(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function Zu(e,t){return Math.min(t[1],Math.max(t[0],e))}function Yu(e,t,n){this._axesMap=O(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}function Xu(e,t){return mC(vC(e,t[0]),t[1])}function $u(e,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*e,axisNameAvailableWidth:n,axisLabelShow:!0}}function Ku(e,t){var n,i,r=t.axisExpandWidth,o=t.axisCollapseWidth,a=t.winInnerIndices,s=o,l=!1;return e<a[0]?(n=e*o,i=o):e<=a[1]?(n=t.axisExpandWindow0Pos+e*r-t.axisExpandWindow[0],s=r,l=!0):(n=t.layoutLength-(t.axisCount-1-e)*o,i=o),{position:n,axisNameAvailableWidth:s,axisLabelShow:l,nameTruncateMaxWidth:i}}function Ju(e){Sg.call(this),this._zr=e,this.group=new Qg,this._track=[],this._covers=[],this._uid=\"brushController_\"+OC++,this._handlers={},CC(BC,function(e,t){this._handlers[t]=m(e,this)},this)}function Qu(e,t){var n=zC[t.brushType].createCover(e,t);return n.__brushOption=t,nc(n,t),e.group.add(n),n}function ec(e,t){var n=rc(t);return n.endCreating&&(n.endCreating(e,t),nc(t,t.__brushOption)),t}function tc(e,t){var n=t.__brushOption;rc(t).updateCoverShape(e,t,n.range,n)}function nc(e,t){var n=t.z;null==n&&(n=IC),e.traverse(function(e){e.z=n,e.z2=n})}function ic(e,t){rc(t).updateCommon(e,t),tc(e,t)}function rc(e){return zC[e.__brushOption.brushType]}function oc(e,t,n){var i=e._panels;if(!i)return!0;var r,o=e._transform;return CC(i,function(e){e.isTargetByCursor(t,n,o)&&(r=e)}),r}function ac(e,t){var n=e._panels;if(!n)return!0;var i=t.__brushOption.panelId;return null==i||n[i]}function sc(e){var t=e._covers,n=t.length;return CC(t,function(t){e.group.remove(t)},e),t.length=0,!!n}function lc(e,t){var i=MC(e._covers,function(e){var t=e.__brushOption,i=n(t.range);return{brushType:t.brushType,panelId:t.panelId,range:i}});e.trigger(\"brush\",i,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function uc(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function cc(e,t,n,i){var r=new Qg;return r.add(new gy({name:\"main\",style:pc(n),silent:!0,draggable:!0,cursor:\"move\",drift:SC(e,t,r,\"nswe\"),ondragend:SC(lc,t,{isEnd:!0})})),CC(i,function(n){r.add(new gy({name:n,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:SC(e,t,r,n),ondragend:SC(lc,t,{isEnd:!0})}))}),r}function dc(e,t,n,i){var r=i.brushStyle.lineWidth||0,o=kC(r,NC),a=n[0][0],s=n[1][0],l=a-r/2,u=s-r/2,c=n[0][1],d=n[1][1],h=c-o+r/2,f=d-o+r/2,p=c-a,g=d-s,m=p+r,v=g+r;fc(e,t,\"main\",a,s,p,g),i.transformable&&(fc(e,t,\"w\",l,u,o,v),fc(e,t,\"e\",h,u,o,v),fc(e,t,\"n\",l,u,m,o),fc(e,t,\"s\",l,f,m,o),fc(e,t,\"nw\",l,u,o,o),fc(e,t,\"ne\",h,u,o,o),fc(e,t,\"sw\",l,f,o,o),fc(e,t,\"se\",h,f,o,o))}function hc(e,t){var n=t.__brushOption,i=n.transformable,r=t.childAt(0);r.useStyle(pc(n)),r.attr({silent:!i,cursor:i?\"move\":\"default\"}),CC([\"w\",\"e\",\"n\",\"s\",\"se\",\"sw\",\"ne\",\"nw\"],function(n){var r=t.childOfName(n),o=mc(e,n);r&&r.attr({silent:!i,invisible:!i,cursor:i?EC[o]+\"-resize\":null})})}function fc(e,t,n,i,r,o,a){var s=t.childOfName(n);s&&s.setShape(function(e){var t=TC(e[0][0],e[1][0]),n=TC(e[0][1],e[1][1]);return{x:t,y:n,width:kC(e[0][0],e[1][0])-t,height:kC(e[0][1],e[1][1])-n}}(bc(e,t,[[i,r],[i+o,r+a]])))}function pc(e){return a({strokeNoScale:!0},e.brushStyle)}function gc(e,t,n,i){var r=[TC(e,n),TC(t,i)],o=[kC(e,n),kC(t,i)];return[[r[0],o[0]],[r[1],o[1]]]}function mc(e,t){if(t.length>1)return(\"e\"===(n=[mc(e,(t=t.split(\"\"))[0]),mc(e,t[1])])[0]||\"w\"===n[0])&&n.reverse(),n.join(\"\");var n=Li({w:\"left\",e:\"right\",n:\"top\",s:\"bottom\"}[t],function(e){return Ni(e.group)}(e));return{left:\"w\",right:\"e\",top:\"n\",bottom:\"s\"}[n]}function vc(e,t,n,i,r,o,a,s){var l=i.__brushOption,u=e(l.range),c=xc(n,o,a);CC(r.split(\"\"),function(e){var t=LC[e];u[t[0]][t[1]]+=c[t[0]]}),l.range=t(gc(u[0][0],u[1][0],u[0][1],u[1][1])),ic(n,i),lc(n,{isEnd:!1})}function yc(e,t,n,i,r){var o=t.__brushOption.range,a=xc(e,n,i);CC(o,function(e){e[0]+=a[0],e[1]+=a[1]}),ic(e,t),lc(e,{isEnd:!1})}function xc(e,t,n){var i=e.group,r=i.transformCoordToLocal(t,n),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function bc(e,t,i){var r=ac(e,t);return r&&!0!==r?r.clipPath(i,e._transform):n(i)}function _c(e){var t=e.event;t.preventDefault&&t.preventDefault()}function wc(e,t,n){return e.childOfName(\"main\").contain(t,n)}function Sc(e,t,i,r){var o,a=e._creatingCover,s=e._creatingPanel,l=e._brushOption;if(e._track.push(i.slice()),function(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],i=t[0],r=n[0]-i[0],o=n[1]-i[1];return AC(r*r+o*o,.5)>DC}(e)||a){if(s&&!a){\"single\"===l.brushMode&&sc(e);var u=n(l);u.brushType=Cc(u.brushType,s),u.panelId=!0===s?null:s.panelId,a=e._creatingCover=Qu(e,u),e._covers.push(a)}if(a){var c=zC[Cc(e._brushType,s)];a.__brushOption.range=c.getCreatingRange(bc(e,a,e._track)),r&&(ec(e,a),c.updateCommon(e,a)),tc(e,a),o={isEnd:r}}}else r&&\"single\"===l.brushMode&&l.removeOnClick&&oc(e,t,i)&&sc(e)&&(o={isEnd:r,removeOnClick:!0});return o}function Cc(e,t){return\"auto\"===e?t.defaultBrushType:e}function Mc(e){if(this._dragging){_c(e);var t=Sc(this,e,this.group.transformCoordToLocal(e.offsetX,e.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,t&&lc(this,t)}}function Tc(e){return{createCover:function(t,n){return cc(SC(vc,function(t){var n=[t,[0,100]];return e&&n.reverse(),n},function(t){return t[e]}),t,n,[[\"w\",\"e\"],[\"n\",\"s\"]][e])},getCreatingRange:function(t){var n=uc(t);return[TC(n[0][e],n[1][e]),kC(n[0][e],n[1][e])]},updateCoverShape:function(t,n,i,r){var o,a=ac(t,n);if(!0!==a&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(e,t._transform);else{var s=t._zr;o=[0,[s.getWidth(),s.getHeight()][1-e]]}var l=[i,o];e&&l.reverse(),dc(t,n,l,r)},updateCommon:hc,contain:wc}}function kc(e){return e=Dc(e),function(t,n){return Ri(t,e)}}function Ac(e,t){return e=Dc(e),function(n){var i=null!=t?t:n,r=i?e.x:e.y;return[r,r+((i?e.width:e.height)||0)]}}function Ic(e,t,n){return e=Dc(e),function(i,r,o){return e.contain(r[0],r[1])&&!cl(i,t,n)}}function Dc(e){return Ze.create(e)}function Nc(e,t){var n=e._model;return n.get(\"axisExpandable\")&&n.get(\"axisExpandTriggerOn\")===t}function Pc(e,t,n,i){for(var r=[],o=0;o<n.length;o++){var a=n[o],s=e.get(e.mapDimension(a),t);Ec(s,i.getAxis(a).type)||r.push(i.dataToPoint(s,a))}return r}function Lc(e,t){var n=e.hostModel.getModel(\"lineStyle\"),i=n.getLineStyle();e.eachItemGraphicEl(function(r,a){if(e.hasItemOption){var s=e.getItemModel(a).getModel(\"lineStyle\",n);i=s.getLineStyle([\"color\",\"stroke\"])}r.useStyle(o(i,{fill:null,stroke:e.getItemVisual(a,\"color\"),opacity:e.getItemVisual(a,\"opacity\")})),r.shape.smooth=t})}function Ec(e,t){return\"category\"===t?null==e:null==e||isNaN(e)}function Rc(){function e(t,i){if(i>=n.length)return t;for(var r=-1,o=t.length,a=n[i++],s={},l={};++r<o;){var u=a(t[r]),c=l[u];c?c.push(t[r]):l[u]=[t[r]]}return h(l,function(t,n){s[n]=e(t,i)}),s}function t(e,r){if(r>=n.length)return e;var o=[],a=i[r++];return h(e,function(e,n){o.push({key:n,values:t(e,r)})}),a?o.sort(function(e,t){return a(e.key,t.key)}):o}var n=[],i=[];return{key:function(e){return n.push(e),this},sortKeys:function(e){return i[n.length-1]=e,this},entries:function(n){return t(e(n,0),0)}}}function Oc(e,t,n){h(e,function(e){var i,r,o,a=0,s=e.length;for(e.sort(jc),o=0;o<s;o++)(r=a-(i=e[o]).getLayout().y)>0&&(l=i.getLayout().y+r,i.setLayout({y:l},!0)),a=i.getLayout().y+i.getLayout().dy+t;if((r=a-t-n)>0){var l=i.getLayout().y-r;for(i.setLayout({y:l},!0),a=i.getLayout().y,o=s-2;o>=0;--o)(r=(i=e[o]).getLayout().y+i.getLayout().dy+t-a)>0&&(l=i.getLayout().y-r,i.setLayout({y:l},!0)),a=i.getLayout().y}})}function Bc(e,t){h(e.slice().reverse(),function(e){h(e,function(e){if(e.outEdges.length){var n=Gc(e.outEdges,zc)/Gc(e.outEdges,Zc),i=e.getLayout().y+(n-Uc(e))*t;e.setLayout({y:i},!0)}})})}function zc(e){return Uc(e.node2)*e.getValue()}function Fc(e,t){h(e,function(e){h(e,function(e){if(e.inEdges.length){var n=Gc(e.inEdges,Vc)/Gc(e.inEdges,Zc),i=e.getLayout().y+(n-Uc(e))*t;e.setLayout({y:i},!0)}})})}function Vc(e){return Uc(e.node1)*e.getValue()}function Hc(e,t){return e.node2.getLayout().y-t.node2.getLayout().y}function Wc(e,t){return e.node1.getLayout().y-t.node1.getLayout().y}function Gc(e,t){for(var n=0,i=e.length,r=-1;++r<i;){var o=+t.call(e,e[r],r);isNaN(o)||(n+=o)}return n}function Uc(e){return e.getLayout().y+e.getLayout().dy/2}function jc(e,t){return e.getLayout().y-t.getLayout().y}function qc(e,t){return e<t?-1:e>t?1:e===t?0:NaN}function Zc(e){return e.getValue()}function Yc(e,t,n,i){Qg.call(this),this.styleUpdater=n,this._createContent(e,t,i),this.updateData(e,t,i)}function Xc(e,t,n){return f(e,function(e){return(e=e.slice())[t]=n.initBaseline,e})}function $c(e){var t={};return h(e,function(e,n){t[\"ends\"+n]=e}),t}function Kc(e){this.group=new Qg,this.styleUpdater=e}function Jc(e,t,n){var i=t.getItemModel(n),r=i.getModel($C),o=t.getItemVisual(n,\"color\"),a=r.getItemStyle([\"borderColor\"]),s=e.childAt(e.whiskerIndex);s.style.set(a),s.style.stroke=o,s.dirty();var l=e.childAt(e.bodyIndex);l.style.set(a),l.style.stroke=o,l.dirty(),bi(e,i.getModel(KC).getItemStyle())}function Qc(e,t,n){var i=t.getItemModel(n),r=i.getModel(eM),o=t.getItemVisual(n,\"color\"),a=t.getItemVisual(n,\"borderColor\")||o,s=r.getItemStyle([\"color\",\"color0\",\"borderColor\",\"borderColor0\"]),l=e.childAt(e.whiskerIndex);l.useStyle(s),l.style.stroke=a;var u=e.childAt(e.bodyIndex);u.useStyle(s),u.style.fill=o,u.style.stroke=a,bi(e,i.getModel(tM).getItemStyle())}function ed(e,t){e.eachChild(function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:\"stroke\"===t.brushType?t.color:null,fill:\"fill\"===t.brushType?t.color:null}})})}function td(e,t){Qg.call(this);var n=new Ja(e,t),i=new Qg;this.add(n),this.add(i),i.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(e,t)}function nd(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=f(t,function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),r([t,e[0],e[1]])}))}function id(e,t,n){Qg.call(this),this.add(this.createLine(e,t,n)),this._updateEffectSymbol(e,t)}function rd(e,t,n){Qg.call(this),this._createPolyline(e,t,n)}function od(e,t,n){id.call(this,e,t,n),this._lastFrame=0,this._lastFramePercent=0}function ad(){this.group=new Qg}function sd(e){return e instanceof Array||(e=[e,e]),e}function ld(){var e=pg();this.canvas=e,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}function ud(e,t,n){var i=e[1]-e[0],r=(t=f(t,function(t){return{interval:[(t.interval[0]-e[0])/i,(t.interval[1]-e[0])/i]}})).length,o=0;return function(e){for(i=o;i<r;i++)if((a=t[i].interval)[0]<=e&&e<=a[1]){o=i;break}if(i===r)for(var i=o-1;i>=0;i--){var a=t[i].interval;if(a[0]<=e&&e<=a[1]){o=i;break}}return i>=0&&i<r&&n[i]}}function cd(e,t,n,i){var r=e.getItemLayout(t),o=n.get(\"symbolRepeat\"),a=n.get(\"symbolClip\"),s=n.get(\"symbolPosition\")||\"start\",l=(n.get(\"symbolRotate\")||0)*Math.PI/180||0,u=n.get(\"symbolPatternSize\")||2,c=n.isAnimationEnabled(),d={dataIndex:t,layout:r,itemModel:n,symbolType:e.getItemVisual(t,\"symbol\")||\"circle\",color:e.getItemVisual(t,\"color\"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:n.get(\"symbolRepeatDirection\"),symbolPatternSize:u,rotation:l,animationModel:c?n:null,hoverAnimation:c&&n.get(\"hoverAnimation\"),z2:n.getShallow(\"z\",!0)||0};(function(e,t,n,i,r){var o,a=i.valueDim,s=e.get(\"symbolBoundingData\"),l=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),u=l.toGlobalCoord(l.dataToCoord(0)),c=1-+(n[a.wh]<=0);if(y(s)){var d=[dd(l,s[0])-u,dd(l,s[1])-u];d[1]<d[0]&&d.reverse(),o=d[c]}else o=null!=s?dd(l,s)-u:t?i.coordSysExtent[a.index][c]-u:n[a.wh];r.boundingLength=o,t&&(r.repeatCutLength=n[a.wh]),r.pxSign=o>0?1:o<0?-1:0})(n,o,r,i,d),function(e,t,n,i,r,o,a,s,l,u){var c=l.valueDim,d=l.categoryDim,h=Math.abs(n[d.wh]),f=e.getItemVisual(t,\"symbolSize\");y(f)?f=f.slice():(null==f&&(f=\"100%\"),f=[f,f]),f[d.index]=Wi(f[d.index],h),f[c.index]=Wi(f[c.index],i?h:Math.abs(o)),u.symbolSize=f,(u.symbolScale=[f[0]/s,f[1]/s])[c.index]*=(l.isHorizontal?-1:1)*a}(e,t,r,o,0,d.boundingLength,d.pxSign,u,i,d),function(e,t,n,i,r){var o=e.get(_M)||0;o&&(SM.attr({scale:t.slice(),rotation:n}),SM.updateTransform(),o/=SM.getLineScale(),o*=t[i.valueDim.index]),r.valueLineWidth=o}(n,d.symbolScale,l,i,d);var h=d.symbolSize,f=n.get(\"symbolOffset\");return y(f)&&(f=[Wi(f[0],h[0]),Wi(f[1],h[1])]),hd(n,h,r,o,0,f,s,d.valueLineWidth,d.boundingLength,d.repeatCutLength,i,d),d}function dd(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function hd(e,t,n,i,r,a,s,l,u,c,d,h){var f=d.categoryDim,p=d.valueDim,g=h.pxSign,m=Math.max(t[p.index]+l,0),v=m;if(i){var y=Math.abs(u),x=T(e.get(\"symbolMargin\"),\"15%\")+\"\",b=!1;x.lastIndexOf(\"!\")===x.length-1&&(b=!0,x=x.slice(0,x.length-1)),x=Wi(x,t[p.index]);var _=Math.max(m+2*x,0),w=b?0:2*x,S=nr(i),C=S?i:Ad((y+w)/_);_=m+2*(x=(y-C*m)/2/(b?C:C-1)),w=b?0:2*x,S||\"fixed\"===i||(C=c?Ad((Math.abs(c)+w)/_):0),v=C*_-w,h.repeatTimes=C,h.symbolMargin=x}var M=g*(v/2),k=h.pathPosition=[];k[f.index]=n[f.wh]/2,k[p.index]=\"start\"===s?M:\"end\"===s?u-M:u/2,a&&(k[0]+=a[0],k[1]+=a[1]);var A=h.bundlePosition=[];A[f.index]=n[f.xy],A[p.index]=n[p.xy];var I=h.barRectShape=o({},n);I[p.wh]=g*Math.max(Math.abs(n[p.wh]),Math.abs(k[p.index]+M)),I[f.wh]=n[f.wh];var D=h.clipShape={};D[f.xy]=-n[f.xy],D[f.wh]=d.ecSize[f.wh],D[p.xy]=0,D[p.wh]=n[p.wh]}function fd(e){var t=e.symbolPatternSize,n=Ua(e.symbolType,-t/2,-t/2,t,t,e.color);return n.attr({culling:!0}),\"image\"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function pd(e,t,n,i){function r(e){var t=a.slice(),i=n.pxSign,r=e;return(\"start\"===n.symbolRepeatDirection?i>0:i<0)&&(r=l-1-e),t[s.index]=c*(r-l/2+.5)+a[s.index],{position:t,scale:n.symbolScale.slice(),rotation:n.rotation}}var o=e.__pictorialBundle,a=n.pathPosition,s=t.valueDim,l=n.repeatTimes||0,u=0,c=n.symbolSize[t.valueDim.index]+n.valueLineWidth+2*n.symbolMargin;for(Md(e,function(e){e.__pictorialAnimationIndex=u,e.__pictorialRepeatTimes=l,u<l?Td(e,null,r(u),n,i):Td(e,null,{scale:[0,0]},n,i,function(){o.remove(e)}),_d(e,n),u++});u<l;u++){var d=fd(n);d.__pictorialAnimationIndex=u,d.__pictorialRepeatTimes=l,o.add(d);var h=r(u);Td(d,{position:h.position,scale:[0,0]},{scale:h.scale,rotation:h.rotation},n,i),d.on(\"mouseover\",function(){Md(e,function(e){e.trigger(\"emphasis\")})}).on(\"mouseout\",function(){Md(e,function(e){e.trigger(\"normal\")})}),_d(d,n)}}function gd(e,t,n,i){var r=e.__pictorialBundle,o=e.__pictorialMainPath;o?Td(o,null,{position:n.pathPosition.slice(),scale:n.symbolScale.slice(),rotation:n.rotation},n,i):(o=e.__pictorialMainPath=fd(n),r.add(o),Td(o,{position:n.pathPosition.slice(),scale:[0,0],rotation:n.rotation},{scale:n.symbolScale.slice()},n,i),o.on(\"mouseover\",function(){this.trigger(\"emphasis\")}).on(\"mouseout\",function(){this.trigger(\"normal\")})),_d(o,n)}function md(e,t,n){var i=o({},t.barRectShape),r=e.__pictorialBarRect;r?Td(r,null,{shape:i},t,n):(r=e.__pictorialBarRect=new gy({z2:2,shape:i,silent:!0,style:{stroke:\"transparent\",fill:\"transparent\",lineWidth:0}}),e.add(r))}function vd(e,t,n,i){if(n.symbolClip){var r=e.__pictorialClipPath,a=o({},n.clipShape),s=t.valueDim,l=n.animationModel,u=n.dataIndex;if(r)Ii(r,{shape:a},l,u);else{a[s.wh]=0,r=new gy({shape:a}),e.__pictorialBundle.setClipPath(r),e.__pictorialClipPath=r;var c={};c[s.wh]=n.clipShape[s.wh],Dy[i?\"updateProps\":\"initProps\"](r,{shape:c},l,u)}}}function yd(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=xd,n.isAnimationEnabled=bd,n}function xd(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function bd(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow(\"animation\")}function _d(e,t){e.off(\"emphasis\").off(\"normal\");var n=t.symbolScale.slice();t.hoverAnimation&&e.on(\"emphasis\",function(){this.animateTo({scale:[1.1*n[0],1.1*n[1]]},400,\"elasticOut\")}).on(\"normal\",function(){this.animateTo({scale:n.slice()},400,\"elasticOut\")})}function wd(e,t,n,i){var r=new Qg,o=new Qg;return r.add(o),r.__pictorialBundle=o,o.attr(\"position\",n.bundlePosition.slice()),n.symbolRepeat?pd(r,t,n):gd(r,0,n),md(r,n,i),vd(r,t,n,i),r.__pictorialShapeStr=Cd(e,n),r.__pictorialSymbolMeta=n,r}function Sd(e,t,n,i){var r=i.__pictorialBarRect;r&&(r.style.text=null);var o=[];Md(i,function(e){o.push(e)}),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),h(o,function(e){Ii(e,{scale:[0,0]},n,t,function(){i.parent&&i.parent.remove(i)})}),e.setItemGraphicEl(t,null)}function Cd(e,t){return[e.getItemVisual(t.dataIndex,\"symbol\")||\"none\",!!t.symbolRepeat,!!t.symbolClip].join(\":\")}function Md(e,t,n){h(e.__pictorialBundle.children(),function(i){i!==e.__pictorialBarRect&&t.call(n,i)})}function Td(e,t,n,i,r,o){t&&e.attr(t),i.symbolClip&&!r?n&&e.attr(n):n&&Dy[r?\"updateProps\":\"initProps\"](e,n,i.animationModel,i.dataIndex,o)}function kd(e,t,n){var i=n.color,r=n.dataIndex,o=n.itemModel,s=o.getModel(\"itemStyle\").getItemStyle([\"color\"]),l=o.getModel(\"emphasis.itemStyle\").getItemStyle(),u=o.getShallow(\"cursor\");Md(e,function(e){e.setColor(i),e.setStyle(a({fill:i,opacity:n.opacity},s)),bi(e,l),u&&(e.cursor=u),e.z2=n.z2});var c={},d=e.__pictorialBarRect;Fs(d.style,c,o,i,t.seriesModel,r),bi(d,c)}function Ad(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}function Id(e,t,n){this.dimension=\"single\",this.dimensions=[\"single\"],this._axis=null,this._init(e,t,n),this.model=e}function Dd(e,t){t=t||{};var n=e.axis,i={},r=n.position,o=n.orient,a=e.coordinateSystem.getRect(),s=[a.x,a.x+a.width,a.y,a.y+a.height],l={horizontal:{top:s[2],bottom:s[3]},vertical:{left:s[0],right:s[1]}};i.position=[\"vertical\"===o?l.vertical[r]:s[0],\"horizontal\"===o?l.horizontal[r]:s[3]],i.rotation=Math.PI/2*{horizontal:0,vertical:1}[o],i.labelDirection=i.tickDirection=i.nameDirection={top:-1,bottom:1,right:1,left:-1}[r],e.get(\"axisTick.inside\")&&(i.tickDirection=-i.tickDirection),T(t.labelInside,e.get(\"axisLabel.inside\"))&&(i.labelDirection=-i.labelDirection);var u=t.rotate;return null==u&&(u=e.get(\"axisLabel.rotate\")),i.labelRotation=\"top\"===r?-u:u,i.labelInterval=n.getLabelInterval(),i.z2=1,i}function Nd(e,t,n,i,r){var a=e.axis;if(!a.scale.isBlank()&&a.containData(t))if(e.involveSeries){var s=function(e,t){var n=t.axis,i=n.dim,r=e,o=[],a=Number.MAX_VALUE,s=-1;return NM(t.seriesModels,function(t,l){var u,c,d=t.getData().mapDimension(i,!0);if(t.getAxisTooltipData){var h=t.getAxisTooltipData(d,e,n);c=h.dataIndices,u=h.nestestValue}else{if(!(c=t.getData().indicesOfNearest(d[0],e,!1,\"category\"===n.type?.5:null)).length)return;u=t.getData().get(d[0],c[0])}if(null!=u&&isFinite(u)){var f=e-u,p=Math.abs(f);p<=a&&((p<a||f>=0&&s<0)&&(a=p,s=f,r=u,o.length=0),NM(c,function(e){o.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})}))}}),{payloadBatch:o,snapToValue:r}}(t,e),l=s.payloadBatch,u=s.snapToValue;l[0]&&null==r.seriesIndex&&o(r,l[0]),!i&&e.snap&&a.containData(u)&&null!=u&&(t=u),n.showPointer(e,t,l,r),n.showTooltip(e,s,u)}else n.showPointer(e,t)}function Pd(e,t,n,i){e[t.key]={value:n,payloadBatch:i}}function Ld(e,t,n,i){var r=n.payloadBatch,o=t.axis,a=o.model,s=t.axisPointerModel;if(t.triggerTooltip&&r.length){var l=t.coordSys.model,u=Rs(l),c=e.map[u];c||(c=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:s.get(\"label.precision\"),formatter:s.get(\"label.formatter\")},seriesDataIndices:r.slice()})}}function Ed(e,t,n){var i=n.getZr(),r=LM(i).axisPointerLastHighlights||{},o=LM(i).axisPointerLastHighlights={};NM(e,function(e,t){var n=e.axisPointerModel.option;\"show\"===n.status&&NM(n.seriesDataIndices,function(e){o[e.seriesIndex+\" | \"+e.dataIndex]=e})});var a=[],s=[];h(r,function(e,t){!o[t]&&s.push(e)}),h(o,function(e,t){!r[t]&&a.push(e)}),s.length&&n.dispatchAction({type:\"downplay\",escapeConnect:!0,batch:s}),a.length&&n.dispatchAction({type:\"highlight\",escapeConnect:!0,batch:a})}function Rd(e){var t=e.axis.model,n={},i=n.axisDim=e.axis.dim;return n.axisIndex=n[i+\"AxisIndex\"]=t.componentIndex,n.axisName=n[i+\"AxisName\"]=t.name,n.axisId=n[i+\"AxisId\"]=t.id,n}function Od(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}function Bd(e,t,n){if(!ig.node){var i=t.getZr();EM(i).records||(EM(i).records={}),function(e,t){function n(n,i){e.on(n,function(n){var r=function(e){var t={showTip:[],hideTip:[]},n=function(i){var r=t[i.type];r?r.push(i):(i.dispatchAction=n,e.dispatchAction(i))};return{dispatchAction:n,pendings:t}}(t);RM(EM(e).records,function(e){e&&i(e,n,r.dispatchAction)}),function(e,t){var n,i=e.showTip.length,r=e.hideTip.length;i?n=e.showTip[i-1]:r&&(n=e.hideTip[r-1]),n&&(n.dispatchAction=null,t.dispatchAction(n))}(r.pendings,t)})}EM(e).initialized||(EM(e).initialized=!0,n(\"click\",v(Fd,\"click\")),n(\"mousemove\",v(Fd,\"mousemove\")),n(\"globalout\",zd))}(i,t),(EM(i).records[e]||(EM(i).records[e]={})).handler=n}}function zd(e,t,n){e.handler(\"leave\",null,n)}function Fd(e,t,n,i){t.handler(e,n,i)}function Vd(e,t){if(!ig.node){var n=t.getZr();(EM(n).records||{})[e]&&(EM(n).records[e]=null)}}function Hd(){}function Wd(e,t,n,i){Gd(BM(n).lastProp,i)||(BM(n).lastProp=i,t?Ii(n,i,e):(n.stopAnimation(),n.attr(i)))}function Gd(e,t){if(_(e)&&_(t)){var n=!0;return h(t,function(t,i){n=n&&Gd(e[i],t)}),!!n}return e===t}function Ud(e,t){e[t.get(\"label.show\")?\"show\":\"hide\"]()}function jd(e){return{position:e.position.slice(),rotation:e.rotation||0}}function qd(e,t,n){var i=t.get(\"z\"),r=t.get(\"zlevel\");e&&e.traverse(function(e){\"group\"!==e.type&&(null!=i&&(e.z=i),null!=r&&(e.zlevel=r),e.silent=n)})}function Zd(e){var t,n=e.get(\"type\"),i=e.getModel(n+\"Style\");return\"line\"===n?(t=i.getLineStyle()).fill=null:\"shadow\"===n&&((t=i.getAreaStyle()).stroke=null),t}function Yd(e,t,n,i,r){var o=Xd(n.get(\"value\"),t.axis,t.ecModel,n.get(\"seriesDataIndices\"),{precision:n.get(\"label.precision\"),formatter:n.get(\"label.formatter\")}),a=n.getModel(\"label\"),s=Wy(a.get(\"padding\")||0),l=a.getFont(),u=ct(o,l),c=r.position,d=u.width+s[1]+s[3],h=u.height+s[0]+s[2],f=r.align;\"right\"===f&&(c[0]-=d),\"center\"===f&&(c[0]-=d/2);var p=r.verticalAlign;\"bottom\"===p&&(c[1]-=h),\"middle\"===p&&(c[1]-=h/2),function(e,t,n,i){var r=i.getWidth(),o=i.getHeight();e[0]=Math.min(e[0]+t,r)-t,e[1]=Math.min(e[1]+n,o)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}(c,d,h,i);var g=a.get(\"backgroundColor\");g&&\"auto\"!==g||(g=t.get(\"axisLine.lineStyle.color\")),e.label={shape:{x:0,y:0,width:d,height:h,r:a.get(\"borderRadius\")},position:c.slice(),style:{text:o,textFont:l,textFill:a.getTextColor(),textPosition:\"inside\",fill:g,stroke:a.get(\"borderColor\")||\"transparent\",lineWidth:a.get(\"borderWidth\")||0,shadowBlur:a.get(\"shadowBlur\"),shadowColor:a.get(\"shadowColor\"),shadowOffsetX:a.get(\"shadowOffsetX\"),shadowOffsetY:a.get(\"shadowOffsetY\")},z2:10}}function Xd(e,t,n,i,r){var o=t.scale.getLabel(e,{precision:r.precision}),a=r.formatter;if(a){var s={value:Wa(t,e),seriesData:[]};h(i,function(e){var t=n.getSeriesByIndex(e.seriesIndex),i=t&&t.getDataParams(e.dataIndexInside);i&&s.seriesData.push(i)}),b(a)?o=a.replace(\"{value}\",o):x(a)&&(o=a(s))}return o}function $d(e,t,n){var i=ae();return de(i,i,n.rotation),ce(i,i,n.position),Pi([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function Kd(e,t,n,i,r,o){var a=dw.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get(\"label.margin\"),Yd(t,i,r,o,{position:$d(i.axis,e,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function Jd(e,t,n){return{x1:e[n=n||0],y1:e[1-n],x2:t[n],y2:t[1-n]}}function Qd(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}function eh(e,t,n,i,r,o){return{cx:e,cy:t,r0:n,r:i,startAngle:r,endAngle:o,clockwise:!0}}function th(e,t){var n={};return n[t.dim+\"AxisIndex\"]=t.index,e.getCartesian(n)}function nh(e){return\"x\"===e.dim?0:1}function ih(e){return e.isHorizontal()?0:1}function rh(e,t){var n=e.getRect();return[n[WM[t]],n[WM[t]]+n[GM[t]]]}function oh(e,t,n){if(e.count())for(var i,r=t.coordinateSystem,o=t.getLayerSeries(),a=e.mapDimension(\"single\"),s=e.mapDimension(\"value\"),l=f(o,function(t){return f(t.indices,function(t){var n=r.dataToPoint(e.get(a,t));return n[1]=e.get(s,t),n})}),u=function(e){for(var t=e.length,n=e[0].length,i=[],r=[],o=0,a={},s=0;s<n;++s){for(var l=0,u=0;l<t;++l)u+=e[l][s][1];u>o&&(o=u),i.push(u)}for(var c=0;c<n;++c)r[c]=(o-i[c])/2;o=0;for(var d=0;d<n;++d){var h=i[d]+r[d];h>o&&(o=h)}return a.y0=r,a.max=o,a}(l),c=u.y0,d=n/u.max,h=o.length,p=o[0].indices.length,g=0;g<p;++g){e.setItemLayout(o[0].indices[g],{layerIndex:0,x:l[0][g][0],y0:i=c[g]*d,y:l[0][g][1]*d});for(var m=1;m<h;++m)e.setItemLayout(o[m].indices[g],{layerIndex:m,x:l[m][g][0],y0:i+=l[m-1][g][1]*d,y:l[m][g][1]*d})}}function ah(e){var t=0;h(e.children,function(e){ah(e);var n=e.value;y(n)&&(n=n[0]),t+=n});var n=e.value;y(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),y(e.value)?e.value[0]=n:e.value=n}function sh(e,t,n){function i(){a.ignore=a.hoverIgnore}function r(){a.ignore=a.normalIgnore}Qg.call(this);var o=new uy({z2:YM}),a=new oy({z2:XM,silent:e.getModel(\"label\").get(\"silent\")});this.add(o),this.add(a),this.updateData(!0,e,\"normal\",t,n),this.on(\"emphasis\",i).on(\"normal\",r).on(\"mouseover\",i).on(\"mouseout\",r)}function lh(e,t,n){var i=e.getVisual(\"color\");0===e.getVisual(\"visualMeta\").length&&(i=null);var r=e.getModel(\"itemStyle\").get(\"color\");if(r)return r;if(i)return i;if(0===e.depth)return n.option.color[0];var o=n.option.color.length;return n.option.color[function(e){for(var t=e;t.depth>1;)t=t.parentNode;return l(e.getAncestors()[0].children,t)}(e)%o]}function uh(e,t){var n=e.children||[];e.children=function(e,t){if(\"function\"==typeof t)return e.sort(t);var n=\"asc\"===t;return e.sort(function(e,t){var i=(e.getValue()-t.getValue())*(n?1:-1);return 0===i?(e.dataIndex-t.dataIndex)*(n?-1:1):i})}(n,t),n.length&&h(e.children,function(e){uh(e,t)})}function ch(e,t){return t=t||[0,0],f([\"x\",\"y\"],function(n,i){var r=this.getAxis(n),o=t[i],a=e[i]/2;return\"category\"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))},this)}function dh(e,t){return t=t||[0,0],f([0,1],function(n){var i=t[n],r=e[n]/2,o=[],a=[];return o[n]=i-r,a[n]=i+r,o[1-n]=a[1-n]=t[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(a)[n])},this)}function hh(e,t){var n=this.getAxis(),i=t instanceof Array?t[0]:t,r=(e instanceof Array?e[0]:e)/2;return\"category\"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-r)-n.dataToCoord(i+r))}function fh(e,t){return f([\"Radius\",\"Angle\"],function(n,i){var r=this[\"get\"+n+\"Axis\"](),o=t[i],a=e[i]/2,s=\"dataTo\"+n,l=\"category\"===r.type?r.getBandWidth():Math.abs(r[s](o-a)-r[s](o+a));return\"Angle\"===n&&(l=l*Math.PI/180),l},this)}function ph(e,t,i,r,o,a){var s={},l=i.style||{};if(i.shape&&(s.shape=n(i.shape)),i.position&&(s.position=i.position.slice()),i.scale&&(s.scale=i.scale.slice()),i.origin&&(s.origin=i.origin.slice()),i.rotation&&(s.rotation=i.rotation),\"image\"===e.type&&i.style&&(u=s.style={},h([\"x\",\"y\",\"width\",\"height\"],function(t){gh(t,u,l,e.style,a)})),\"text\"===e.type&&i.style){var u=s.style={};h([\"x\",\"y\"],function(t){gh(t,u,l,e.style,a)}),!l.hasOwnProperty(\"textFill\")&&l.fill&&(l.textFill=l.fill),!l.hasOwnProperty(\"textStroke\")&&l.stroke&&(l.textStroke=l.stroke)}if(\"group\"!==e.type&&(e.useStyle(l),a)){e.style.opacity=0;var c=l.opacity;null==c&&(c=1),Di(e,{style:{opacity:c}},r,t)}a?e.attr(s):Ii(e,s,r,t),e.attr({z2:i.z2||0,silent:i.silent}),!1!==i.styleEmphasis&&bi(e,i.styleEmphasis)}function gh(e,t,n,i,r){null==n[e]||r||(t[e]=n[e],n[e]=i[e])}function mh(e,t,n,i){function r(e){null==e&&(e=c),v&&(d=t.getItemModel(e),h=d.getModel(nT),f=d.getModel(iT),p=t.getItemVisual(e,\"color\"),v=!1)}var s=e.get(\"renderItem\"),l=e.coordinateSystem,u={};l&&(u=l.prepareCustoms?l.prepareCustoms():oT[l.type](l));var c,d,h,f,p,g=a({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(e,n){return null==n&&(n=c),t.get(t.getDimension(e||0),n)},style:function(n,i){null==i&&(i=c),r(i);var a=d.getModel(eT).getItemStyle();null!=p&&(a.fill=p);var s=t.getItemVisual(i,\"opacity\");return null!=s&&(a.opacity=s),wi(a,h,null,{autoColor:p,isRectText:!0}),a.text=h.getShallow(\"show\")?k(e.getFormattedLabel(i,\"normal\"),$a(t,i)):null,n&&o(a,n),a},styleEmphasis:function(n,i){null==i&&(i=c),r(i);var a=d.getModel(tT).getItemStyle();return wi(a,f,null,{isRectText:!0},!0),a.text=f.getShallow(\"show\")?A(e.getFormattedLabel(i,\"emphasis\"),e.getFormattedLabel(i,\"normal\"),$a(t,i)):null,n&&o(a,n),a},visual:function(e,n){return null==n&&(n=c),t.getItemVisual(n,e)},barLayout:function(e){if(l.getBaseAxis)return function(e,t){var n=[],i=e.axis;if(\"category\"===i.type){for(var r=i.getBandWidth(),o=0;o<e.count;o++)n.push(a({bandWidth:r,axisKey:\"axis0\",stackId:t_+o},e));var s=La(n),l=[];for(o=0;o<e.count;o++){var u=s.axis0[t_+o];u.offsetCenter=u.offset+u.width/2,l.push(u)}return l}}(a({axis:l.getBaseAxis()},e))},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(e){return ki(e,n)}},u.api||{}),m={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:u.coordSys,dataInsideLength:t.count(),encode:vh(e.getData())},v=!0;return function(e){return c=e,v=!0,s&&s(a({dataIndexInside:e,dataIndex:t.getRawIndex(e)},m),g)||{}}}function vh(e){var t={};return h(e.dimensions,function(n,i){var r=e.getDimensionInfo(n);if(!r.isExtraCoord){var o=r.coordDim;(t[o]=t[o]||[])[r.coordDimIndex]=i}}),t}function yh(e,t,n,i,r,o){return(e=xh(e,t,n,i,r,o))&&o.setItemGraphicEl(t,e),e}function xh(e,t,n,i,r,o){var a=n.type;if(!e||a===e.__customGraphicType||\"path\"===a&&n.pathData===e.__customPathData||\"image\"===a&&n.style.image===e.__customImagePath||\"text\"===a&&n.style.text===e.__customText||(r.remove(e),e=null),null!=a){var s=!e;if(!e&&(e=function(e){var t,n=e.type;if(\"path\"===n){var i=e.shape;(t=ti(i.pathData,null,{x:i.x||0,y:i.y||0,width:i.width||0,height:i.height||0},\"center\")).__customPathData=e.pathData}else\"image\"===n?(t=new Ht({})).__customImagePath=e.style.image:\"text\"===n?(t=new oy({})).__customText=e.style.text:t=new(0,Dy[n.charAt(0).toUpperCase()+n.slice(1)]);return t.__customGraphicType=n,t.name=e.name,t}(n)),ph(e,t,n,i,0,s),\"group\"===a){var l=e.children()||[],u=n.children||[];if(n.diffChildrenByName)!function(e){new la(e.oldChildren,e.newChildren,bh,bh,e).add(_h).update(_h).remove(wh).execute()}({oldChildren:l,newChildren:u,dataIndex:t,animatableModel:i,group:e,data:o});else{for(var c=0;c<u.length;c++)xh(e.childAt(c),t,u[c],i,e,o);for(;c<l.length;c++)l[c]&&e.remove(l[c])}}return r.add(e),e}}function bh(e,t){var n=e&&e.name;return null!=n?n:rT+t}function _h(e,t){var n=this.context;xh(null!=t?n.oldChildren[t]:null,n.dataIndex,null!=e?n.newChildren[e]:null,n.animatableModel,n.group,n.data)}function wh(e){var t=this.context,n=t.oldChildren[e];n&&t.group.remove(n)}function Sh(e,t,n,i){var r=n.type,o=new(0,Dy[r.charAt(0).toUpperCase()+r.slice(1)])(n);t.add(o),i.set(e,o),o.__ecGraphicId=e}function Ch(e,t){var n=e&&e.parent;n&&(\"group\"===e.type&&e.traverse(function(e){Ch(e,t)}),t.removeKey(e.__ecGraphicId),n.remove(e))}function Mh(e){return e=o({},e),h([\"id\",\"parentId\",\"$action\",\"hv\",\"bounding\"].concat(Xy),function(t){delete e[t]}),e}function Th(e,t){var n;return h(t,function(t){null!=e[t]&&\"auto\"!==e[t]&&(n=!0)}),n}function kh(e,t,n){var r=o({},n),a=e[t],s=n.$action||\"merge\";\"merge\"===s?a?(i(a,r,!0),pr(a,r,{ignoreSize:!0}),mr(n,a)):e[t]=r:\"replace\"===s?e[t]=r:\"remove\"===s&&a&&(e[t]=null)}function Ah(e,t,n){var i,r={},o=\"toggleSelected\"===e;return n.eachComponent(\"legend\",function(n){o&&null!=i?n[i?\"select\":\"unSelect\"](t.name):(n[e](t.name),i=n.isSelected(t.name)),h(n.getData(),function(e){var t=e.get(\"name\");if(\"\\n\"!==t&&\"\"!==t){var i=n.isSelected(t);r[t]=r.hasOwnProperty(t)?r[t]&&i:i}})}),{name:t.name,selected:r}}function Ih(e,t){var n=Wy(t.get(\"padding\")),i=t.getItemStyle([\"color\",\"opacity\"]);return i.fill=t.get(\"backgroundColor\"),new gy({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get(\"borderRadius\")},style:i,silent:!0,z2:-1})}function Dh(e,t){t.dispatchAction({type:\"legendToggleSelect\",name:e})}function Nh(e,t,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||e.get(\"legendHoverLink\")&&n.dispatchAction({type:\"highlight\",seriesName:e.name,name:t})}function Ph(e,t,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||e.get(\"legendHoverLink\")&&n.dispatchAction({type:\"downplay\",seriesName:e.name,name:t})}function Lh(e,t,n){var i=[1,1];i[e.getOrient().index]=0,pr(t,n,{type:\"box\",ignoreSize:i})}function Eh(e,t){if(ig.wxa)return null;var n=document.createElement(\"div\"),i=this._zr=t.getZr();this.el=n,this._x=t.getWidth()/2,this._y=t.getHeight()/2,e.appendChild(n),this._container=e,this._show=!1;var r=this;n.onmouseenter=function(){r._enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},n.onmousemove=function(t){if(t=t||window.event,!r._enterable){var n=i.handler;jt(e,t,!0),n.dispatch(\"mousemove\",t)}},n.onmouseleave=function(){r._enterable&&r._show&&r.hideLater(r._hideDelay),r._inContent=!1}}function Rh(e){for(var t=e.pop();e.length;){var n=e.pop();n&&(Bi.isInstance(n)&&(n=n.get(\"tooltip\",!0)),\"string\"==typeof n&&(n={formatter:n}),t=new Bi(n,t,t.ecModel))}return t}function Oh(e,t){return e.dispatchAction||m(t.dispatchAction,t)}function Bh(e){var t=e.clientWidth,n=e.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(e);i&&(t+=parseInt(i.paddingLeft,10)+parseInt(i.paddingRight,10)+parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10),n+=parseInt(i.paddingTop,10)+parseInt(i.paddingBottom,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10))}return{width:t,height:n}}function zh(e){return\"center\"===e||\"middle\"===e}function Fh(e){return e.get(\"stack\")||\"__ec_stack_\"+e.seriesIndex}function Vh(e){return e.dim}function Hh(e,t){I_.call(this,\"radius\",e,t),this.type=\"category\"}function Wh(e,t){I_.call(this,\"angle\",e,t=t||[0,360]),this.type=\"category\"}function Gh(e,t){return t.type||(t.data?\"category\":\"value\")}function Uh(e,t){var n=this,i=n.getAngleAxis(),r=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),e.eachSeries(function(e){if(e.coordinateSystem===n){var t=e.getData();h(t.mapDimension(\"radius\",!0),function(e){r.scale.unionExtentFromData(t,e)}),h(t.mapDimension(\"angle\",!0),function(e){i.scale.unionExtentFromData(t,e)})}}),za(i.scale,i.model),za(r.scale,r.model),\"category\"===i.type&&!i.onBand){var o=i.getExtent(),a=360/i.scale.count();i.inverse?o[1]+=a:o[1]-=a,i.setExtent(o[0],o[1])}}function jh(e,t){if(e.type=t.get(\"type\"),e.scale=Fa(t),e.onBand=t.get(\"boundaryGap\")&&\"category\"===e.type,e.inverse=t.get(\"inverse\"),\"angleAxis\"===t.mainType){e.inverse^=t.get(\"clockwise\");var n=t.get(\"startAngle\");e.setExtent(n,n+(e.inverse?-360:360))}t.axis=e,e.model=t}function qh(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var i=e.coordToPoint([t[0],n]),r=e.coordToPoint([t[1],n]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function Zh(e){return e.getRadiusAxis().inverse?0:1}function Yh(e,t){t.update=\"updateView\",$o(t,function(t,n){var i={};return n.eachComponent({mainType:\"geo\",query:t},function(n){n[e](t.name),h(n.coordinateSystem.regions,function(e){i[e.name]=n.isSelected(e.name)||!1})}),{selected:i,name:t.name}})}function Xh(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function $h(e,t,i){var r={};return PT(t,function(t){var o=r[t]=function(){var e=function(){};return e.prototype.__hidden=e.prototype,new e}();PT(e[t],function(e,r){if(kS.isValidType(r)){var a={type:r,visual:e};i&&i(a,t),o[r]=new kS(a),\"opacity\"===r&&((a=n(a)).type=\"colorAlpha\",o.__hidden.__alphaForOpacity=new kS(a))}})}),r}function Kh(e,t,i){var r;h(i,function(e){t.hasOwnProperty(e)&&Xh(t[e])&&(r=!0)}),r&&h(i,function(i){t.hasOwnProperty(i)&&Xh(t[i])?e[i]=n(t[i]):delete e[i]})}function Jh(e){var t=[\"x\",\"y\"],n=[\"width\",\"height\"];return{point:function(t,n,i){if(t)return Qh(t[e],i.range)},rect:function(i,r,o){if(i){var a=o.range,s=[i[t[e]],i[t[e]]+i[n[e]]];return s[1]<s[0]&&s.reverse(),Qh(s[0],a)||Qh(s[1],a)||Qh(a[0],s)||Qh(a[1],s)}}}}function Qh(e,t){return t[0]<=e&&e<=t[1]}function ef(e,t,n,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(tf(e,t,n,i,s[0],s[1],a[0],a[1]))return!0;a=s}}function tf(e,t,n,i,r,o,a,s){var l=nf(n-e,r-a,i-t,o-s);if(function(e){return e<=1e-6&&e>=-1e-6}(l))return!1;var u=nf(r-e,r-a,o-t,o-s)/l;if(u<0||u>1)return!1;var c=nf(n-e,r-e,i-t,o-t)/l;return!(c<0||c>1)}function nf(e,t,n,i){return e*i-t*n}function rf(e,t,n){var i=this._targetInfoList=[],r={},o=af(t,e);ET(VT,function(e,t){(!n||!n.include||RT(n.include,t)>=0)&&e(o,i,r)})}function of(e){return e[0]>e[1]&&e.reverse(),e}function af(e,t){return hn(e,t,{includeMainTypes:zT})}function sf(e,t,n,i){var r=n.getAxis([\"x\",\"y\"][e]),o=of(f([0,1],function(e){return t?r.coordToData(r.toLocalCoord(i[e])):r.toGlobalCoord(r.dataToCoord(i[e]))})),a=[];return a[e]=o,a[1-e]=[NaN,NaN],{values:o,xyMinMax:a}}function lf(e,t,n,i){return[t[0]-i[e]*n[0],t[1]-i[e]*n[1]]}function uf(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}function cf(e,t){if(!e.isDisposed()){var n=e.getZr();n[ZT]=!0,e.dispatchAction({type:\"brushSelect\",batch:t}),n[ZT]=!1}}function df(e,t,n,i){for(var r=0,o=t.length;r<o;r++){var a=t[r];if(e[a.brushType](i,n,a.selectors,a))return!0}}function hf(e){var t=e.brushSelector;if(b(t)){var n=[];return h(LT,function(e,i){n[i]=function(n,i,r,o){var a=i.getItemLayout(n);return e[t](a,r,o)}}),n}if(x(t)){var i={};return h(LT,function(e,n){i[n]=t}),i}return t}function ff(e,t){var n=e.option.seriesIndex;return null!=n&&\"all\"!==n&&(y(n)?l(n,t)<0:t!==n)}function pf(e){return new Ze(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}function gf(e,t){return i({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new Bi(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}function mf(e,t,n,i){(!i||i.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(n)).enableBrush(e.brushOption).updateCovers(e.areas.slice())}function vf(e,t){KT[e]=t}function yf(e){return KT[e]}function xf(e,t,n){this.model=e,this.ecModel=t,this.api=n}function bf(e,t,n){this._model=e}function _f(e,t,n,i){var r=n.calendarModel,o=n.seriesModel,a=r?r.coordinateSystem:o?o.coordinateSystem:null;return a===this?a[e](i):null}function wf(e,t){var n=e.cellSize;y(n)?1===n.length&&(n[1]=n[0]):n=e.cellSize=[n,n];var i=f([0,1],function(e){return function(e,t){return null!=e[$y[t][0]]||null!=e[$y[t][1]]&&null!=e[$y[t][2]]}(t,e)&&(n[e]=\"auto\"),null!=n[e]&&\"auto\"!==n[e]});pr(e,t,{type:\"box\",ignoreSize:i})}function Sf(e,t){var n=e.getAxisModel(),i=e._percentWindow,r=e._valueWindow;if(i){var o=Zi(r,[0,500]);o=Math.min(o,20);var a=t||0===i[0]&&100===i[1];n.setRange(a?null:+r[0].toFixed(o),a?null:+r[1].toFixed(o))}}function Cf(e){var t={};return sk([\"start\",\"end\",\"startValue\",\"endValue\",\"throttle\"],function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function Mf(e,t){var n=e._rangePropMode,i=e.get(\"rangeMode\");sk([[\"start\",\"startValue\"],[\"end\",\"endValue\"]],function(e,r){var o=null!=t[e[0]],a=null!=t[e[1]];o&&!a?n[r]=\"percent\":!o&&a?n[r]=\"value\":i?n[r]=i[r]:o&&(n[r]=\"percent\")})}function Tf(e){return\"vertical\"===e?\"ns-resize\":\"ew-resize\"}function kf(e,t){var n=Nf(e),i=t.dataZoomId,r=t.coordId;h(n,function(e,n){var o=e.dataZoomInfos;o[i]&&l(t.allCoordIds,r)<0&&(delete o[i],e.count--)}),Pf(n);var o=n[r];o||((o=n[r]={coordId:r,dataZoomInfos:{},count:0}).controller=function(e,t){var n=new el(e.getZr());return n.on(\"pan\",xk(Lf,t)),n.on(\"zoom\",xk(Ef,t)),n}(e,o),o.dispatchAction=v(Of,e)),!o.dataZoomInfos[i]&&o.count++,o.dataZoomInfos[i]=t;var a=Bf(o.dataZoomInfos);o.controller.enable(a.controlType,a.opt),o.controller.setPointerChecker(t.containsPoint),fo(o,\"dispatchAction\",t.throttleRate,\"fixRate\")}function Af(e,t){var n=Nf(e);h(n,function(e){e.controller.dispose();var n=e.dataZoomInfos;n[t]&&(delete n[t],e.count--)}),Pf(n)}function If(e,t){if(e&&\"dataZoom\"===e.type&&e.batch)for(var n=0,i=e.batch.length;n<i;n++)if(e.batch[n].dataZoomId===t)return!1;return!0}function Df(e){return e.type+\"\\0_\"+e.id}function Nf(e){var t=e.getZr();return t[bk]||(t[bk]={})}function Pf(e){h(e,function(t,n){t.count||(t.controller.dispose(),delete e[n])})}function Lf(e,t,n,i,r,o,a){Rf(e,function(s){return s.panGetRange(e.controller,t,n,i,r,o,a)})}function Ef(e,t,n,i){Rf(e,function(r){return r.zoomGetRange(e.controller,t,n,i)})}function Rf(e,t){var n=[];h(e.dataZoomInfos,function(e){var i=t(e);!e.disabled&&i&&n.push({dataZoomId:e.dataZoomId,start:i[0],end:i[1]})}),e.dispatchAction(n)}function Of(e,t){e.dispatchAction({type:\"dataZoom\",batch:t})}function Bf(e){var t,n={},i={type_true:2,type_move:1,type_false:0,type_undefined:-1};return h(e,function(e){var r=!e.disabled&&(!e.zoomLock||\"move\");i[\"type_\"+r]>i[\"type_\"+t]&&(t=r),o(n,e.roamControllerOpt)}),{controlType:t,opt:n}}function zf(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}function Ff(e,t,n,i){for(var r=t.targetVisuals[i],o=kS.prepareVisualTypes(r),a={color:e.getData().getVisual(\"color\")},s=0,l=o.length;s<l;s++){var u=o[s],c=r[\"opacity\"===u?\"__alphaForOpacity\":u];c&&c.applyVisual(n,function(e){return a[e]},function(e,t){a[e]=t})}return a.color}function Vf(e,t,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,r=n[0],o=[],a=0;a<=200&&r<n[1];a++)o.push(r),r+=i;return o.push(n[1]),o}function Hf(e,t,n){var i=e.option,r=i.align;if(null!=r&&\"auto\"!==r)return r;for(var o={width:t.getWidth(),height:t.getHeight()},a=\"horizontal\"===i.orient?1:0,s=[[\"left\",\"right\",\"width\"],[\"top\",\"bottom\",\"height\"]],l=s[a],u=[0,null,10],c={},d=0;d<3;d++)c[s[1-a][d]]=u[d],c[l[d]]=2===d?n[0]:i[l[d]];var h=[[\"x\",\"width\",3],[\"y\",\"height\",0]][a],f=hr(c,o,i.padding);return l[(f.margin[h[2]]||0)+f[h[0]]+.5*f[h[1]]<.5*o[h[1]]?0:1]}function Wf(e){return h(e||[],function(t){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null)}),e}function Gf(e,t,n,i){return new fy({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(e){Im(e.event)},ondragend:i})}function Uf(e){var t=e.get(\"hoverLinkOnHandle\");return!!(null==t?e.get(\"realtime\"):t)}function jf(e){return\"vertical\"===e?\"ns-resize\":\"ew-resize\"}function qf(e,t){var n=e.inverse;(\"vertical\"===e.orient?!n:n)&&t.reverse()}function Zf(e){on(e,\"label\",[\"show\"])}function Yf(e,t,n,i,r,o){var a=[],s=Qf(t,i,e),l=t.indicesOfNearest(i,s,!0)[0];a[r]=t.get(n,l,!0),a[o]=t.get(i,l,!0);var u=function(e,t,n){var i=-1;do{i=Math.max(ji(e.get(t,n)),i),e=e.stackedOn}while(e);return i}(t,i,l);return(u=Math.min(u,20))>=0&&(a[o]=+a[o].toFixed(u)),a}function Xf(e,t){var i=e.getData(),r=e.coordinateSystem;if(t&&!function(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}(t)&&!y(t.coord)&&r){var o=r.dimensions,a=$f(t,i,r,e);if((t=n(t)).type&&Kk[t.type]&&a.baseAxis&&a.valueAxis){var s=Xk(o,a.baseAxis.dim),l=Xk(o,a.valueAxis.dim);t.coord=Kk[t.type](i,a.baseDataDim,a.valueDataDim,s,l),t.value=t.coord[l]}else{for(var u=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],c=0;c<2;c++)Kk[u[c]]&&(u[c]=Qf(i,i.mapDimension(o[c]),u[c]));t.coord=u}}return t}function $f(e,t,n,i){var r={};return null!=e.valueIndex||null!=e.valueDim?(r.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,r.valueAxis=n.getAxis(function(e,t){var n=e.getData(),i=n.dimensions;t=n.getDimension(t);for(var r=0;r<i.length;r++){var o=n.getDimensionInfo(i[r]);if(o.name===t)return o.coordDim}}(i,r.valueDataDim)),r.baseAxis=n.getOtherAxis(r.valueAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=n.getOtherAxis(r.baseAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim),r.valueDataDim=t.mapDimension(r.valueAxis.dim)),r}function Kf(e,t){return!(e&&e.containData&&t.coord&&!function(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}(t))||e.containData(t.coord)}function Jf(e,t,n,i){return i<2?e.coord&&e.coord[i]:e.value}function Qf(e,t,n){if(\"average\"===n){var i=0,r=0;return e.each(t,function(e,t){isNaN(e)||(i+=e,r++)},!0),i/r}return e.getDataExtent(t,!0)[\"max\"===n?1:0]}function ep(e,t,n){var i=t.coordinateSystem;e.each(function(r){var o,a=e.getItemModel(r),s=Wi(a.get(\"x\"),n.getWidth()),l=Wi(a.get(\"y\"),n.getHeight());if(isNaN(s)||isNaN(l)){if(t.getMarkerPosition)o=t.getMarkerPosition(e.getValues(e.dimensions,r));else if(i){var u=e.get(i.dimensions[0],r),c=e.get(i.dimensions[1],r);o=i.dataToPoint([u,c])}}else o=[s,l];isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),e.setItemLayout(r,o)})}function tp(e,t,n){var i;i=e?f(e&&e.dimensions,function(e){return a({name:e,isSysCoord:!0},t.getData().getDimensionInfo(t.getData().mapDimension(e))||{})}):[{name:\"value\",type:\"float\",isSysCoord:!0}];var r=new jb(i,n),o=f(n.get(\"data\"),v(Xf,t));return e&&(o=g(o,v(Kf,e))),r.initData(o,null,e?Jf:function(e){return e.value}),r}function np(e){return!isNaN(e)&&!isFinite(e)}function ip(e,t,n,i){var r=1-e,o=i.dimensions[e];return np(t[r])&&np(n[r])&&t[e]===n[e]&&i.getAxis(o).containData(t[e])}function rp(e,t){if(\"cartesian2d\"===e.type){var n=t[0].coord,i=t[1].coord;if(n&&i&&(ip(1,n,i,e)||ip(0,n,i,e)))return!0}return Kf(e,t[0])&&Kf(e,t[1])}function op(e,t,n,i,r){var o,a=i.coordinateSystem,s=e.getItemModel(t),l=Wi(s.get(\"x\"),r.getWidth()),u=Wi(s.get(\"y\"),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)o=i.getMarkerPosition(e.getValues(e.dimensions,t));else{var c=e.get((h=a.dimensions)[0],t),d=e.get(h[1],t);o=a.dataToPoint([c,d])}if(\"cartesian2d\"===a.type){var h,f=a.getAxis(\"x\"),p=a.getAxis(\"y\");np(e.get((h=a.dimensions)[0],t))?o[0]=f.toGlobalCoord(f.getExtent()[n?0:1]):np(e.get(h[1],t))&&(o[1]=p.toGlobalCoord(p.getExtent()[n?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];e.setItemLayout(t,o)}function ap(e,t,n){var i;i=e?f(e&&e.dimensions,function(e){return a({name:e},t.getData().getDimensionInfo(t.getData().mapDimension(e))||{})}):[{name:\"value\",type:\"float\"}];var r=new jb(i,n),o=new jb(i,n),s=new jb([],n),l=f(n.get(\"data\"),v(Qk,t,e,n));e&&(l=g(l,v(rp,e)));var u=e?Jf:function(e){return e.value};return r.initData(f(l,function(e){return e[0]}),null,u),o.initData(f(l,function(e){return e[1]}),null,u),s.initData(f(l,function(e){return e[2]})),s.hasItemOption=!0,{from:r,to:o,line:s}}function sp(e){return!isNaN(e)&&!isFinite(e)}function lp(e,t,n,i){var r=1-e;return sp(t[r])&&sp(n[r])}function up(e,t){var n=t.coord[0],i=t.coord[1];return!(\"cartesian2d\"!==e.type||!n||!i||!lp(1,n,i)&&!lp(0,n,i))||Kf(e,{coord:n,x:t.x0,y:t.y0})||Kf(e,{coord:i,x:t.x1,y:t.y1})}function cp(e,t,n,i,r){var o,a=i.coordinateSystem,s=e.getItemModel(t),l=Wi(s.get(n[0]),r.getWidth()),u=Wi(s.get(n[1]),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)o=i.getMarkerPosition(e.getValues(n,t));else{var c=[f=e.get(n[0],t),p=e.get(n[1],t)];a.clampData&&a.clampData(c,c),o=a.dataToPoint(c,!0)}if(\"cartesian2d\"===a.type){var d=a.getAxis(\"x\"),h=a.getAxis(\"y\"),f=e.get(n[0],t),p=e.get(n[1],t);sp(f)?o[0]=d.toGlobalCoord(d.getExtent()[\"x0\"===n[0]?0:1]):sp(p)&&(o[1]=h.toGlobalCoord(h.getExtent()[\"y0\"===n[1]?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];return o}function dp(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),i=e.label||e.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};h(i,function(e,t){o[t]||hp(r,t)||(r[t]=e)}),n.label&&!hp(i,\"emphasis\")&&(i.emphasis=n.label,delete n.label)}function hp(e,t){return e.hasOwnProperty(t)}function fp(e,t,i,r){return ti(e.get(t).replace(/^path:\\/\\//,\"\"),n(r||{}),new Ze(i[0],i[1],i[2],i[3]),\"center\")}function pp(e,t,n,r,o,a){var s=t.get(\"color\");o?(o.setColor(s),n.add(o),a&&a.onUpdate(o)):((o=Ua(e.get(\"symbol\"),-1,-1,2,2,s)).setStyle(\"strokeNoScale\",!0),n.add(o),a&&a.onCreate(o));var l=t.getItemStyle([\"color\",\"symbol\",\"symbolSize\"]);o.setStyle(l),r=i({rectHover:!0,z2:100},r,!0);var u=e.get(\"symbolSize\");(u=u instanceof Array?u.slice():[+u,+u])[0]/=2,u[1]/=2,r.scale=u;var c=e.get(\"symbolOffset\");if(c){var d=r.position=r.position||[0,0];d[0]+=Wi(c[0],u[0]),d[1]+=Wi(c[1],u[1])}var h=e.get(\"symbolRotate\");return r.rotation=(h||0)*Math.PI/180||0,o.attr(r),o.updateTransform(),o}function gp(e,t,n,i,r){if(!e.dragging){var o=i.getModel(\"checkpointStyle\"),a=n.dataToCoord(i.getData().get([\"value\"],t));r||!o.get(\"animation\",!0)?e.attr({position:[a,0]}):(e.stopAnimation(!0),e.animateTo({position:[a,0]},o.get(\"animationDuration\",!0),o.get(\"animationEasing\",!0)))}}function mp(e){this.model=e}function vp(e){this.model=e}function yp(e){var t=[];return h(e,function(e,n){var i=e.categoryAxis,r=e.valueAxis.dim,o=[\" \"].concat(f(e.series,function(e){return e.name})),a=[i.model.getCategories()];h(e.series,function(e){a.push(e.getRawData().mapArray(r,function(e){return e}))});for(var s=[o.join(gA)],l=0;l<a[0].length;l++){for(var u=[],c=0;c<a.length;c++)u.push(a[c][l]);s.push(u.join(gA))}t.push(s.join(\"\\n\"))}),t.join(\"\\n\\n\"+pA+\"\\n\\n\")}function xp(e){return f(e,function(e){var t=e.getRawData(),n=[e.name],i=[];return t.each(t.dimensions,function(){for(var e=arguments.length,r=arguments[e-1],o=t.getName(r),a=0;a<e-1;a++)i[a]=arguments[a];n.push((o?o+gA:\"\")+i.join(gA))}),n.join(\"\\n\")}).join(\"\\n\\n\"+pA+\"\\n\\n\")}function bp(e){var t=function(e){var t={},n=[],i=[];return e.eachRawSeries(function(e){var r=e.coordinateSystem;if(!r||\"cartesian2d\"!==r.type&&\"polar\"!==r.type)n.push(e);else{var o=r.getBaseAxis();if(\"category\"===o.type){var a=o.dim+\"_\"+o.index;t[a]||(t[a]={categoryAxis:o,valueAxis:r.getOtherAxis(o),series:[]},i.push({axisDim:o.dim,axisIndex:o.index})),t[a].series.push(e)}else n.push(e)}}),{seriesGroupByCategoryAxis:t,other:n,meta:i}}(e);return{value:g([yp(t.seriesGroupByCategoryAxis),xp(t.other)],function(e){return e.replace(/[\\n\\t\\s]/g,\"\")}).join(\"\\n\\n\"+pA+\"\\n\\n\"),meta:t.meta}}function _p(e){return e.replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\")}function wp(e,t){var n={series:[]};return h(e.split(new RegExp(\"\\n*\"+pA+\"\\n*\",\"g\")),function(e,i){if(function(e){if(e.slice(0,e.indexOf(\"\\n\")).indexOf(gA)>=0)return!0}(e)){var r=function(e){for(var t=e.split(/\\n+/g),n=[],i=f(_p(t.shift()).split(mA),function(e){return{name:e,data:[]}}),r=0;r<t.length;r++){var o=_p(t[r]).split(mA);n.push(o.shift());for(var a=0;a<o.length;a++)i[a]&&(i[a].data[r]=o[a])}return{series:i,categories:n}}(e),o=t[i],a=o.axisDim+\"Axis\";o&&(n[a]=n[a]||[],n[a][o.axisIndex]={data:r.categories},n.series=n.series.concat(r.series))}else r=function(e){for(var t=e.split(/\\n+/g),n=_p(t.shift()),i=[],r=0;r<t.length;r++){var o,a=_p(t[r]).split(mA),s=\"\",l=!1;isNaN(a[0])?(l=!0,s=a[0],a=a.slice(1),i[r]={name:s,value:[]},o=i[r].value):o=i[r]=[];for(var u=0;u<a.length;u++)o.push(+a[u]);1===o.length&&(l?i[r].value=o[0]:i[r]=o[0])}return{name:n,data:i}}(e),n.series.push(r)}),n}function Sp(e){this._dom=null,this.model=e}function Cp(e,t){return f(e,function(e,n){var i=t&&t[n];return _(i)&&!y(i)?(_(e)&&!y(e)&&(e=e.value),a({value:e},i)):e})}function Mp(e){var t=e[yA];return t||(t=e[yA]=[{}]),t}function Tp(e,t,n){(this._brushController=new Ju(n.getZr())).on(\"brush\",m(this._onBrush,this)).mount()}function kp(e){var t={};return h([\"xAxisIndex\",\"yAxisIndex\"],function(n){t[n]=e[n],null==t[n]&&(t[n]=\"all\"),(!1===t[n]||\"none\"===t[n])&&(t[n]=[])}),t}function Ap(e){this.model=e}function Ip(e){return wA(e)}function Dp(e){return parseInt(e,10)}function Np(e,t){(function(){if(!MA&&TA){MA=!0;var e=TA.styleSheets;e.length<31?TA.createStyleSheet().addRule(\".zrvml\",\"behavior:url(#default#VML)\"):e[0].addRule(\".zrvml\",\"behavior:url(#default#VML)\")}})(),this.root=e,this.storage=t;var n=document.createElement(\"div\"),i=document.createElement(\"div\");n.style.cssText=\"display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;\",i.style.cssText=\"position:absolute;left:0;top:0;\",e.appendChild(n),this._vmlRoot=i,this._vmlViewport=n,this.resize();var r=t.delFromStorage,o=t.addToStorage;t.delFromStorage=function(e){r.call(t,e),e&&e.onRemove&&e.onRemove(i)},t.addToStorage=function(e){e.onAdd&&e.onAdd(i),o.call(t,e)},this._firstPaint=!0}function Pp(e){return document.createElementNS(nI,e)}function Lp(e){return aI(1e4*e)/1e4}function Ep(e){return e<hI&&e>-hI}function Rp(e,t){t&&Op(e,\"transform\",\"matrix(\"+rI.call(t,\",\")+\")\")}function Op(e,t,n){(!n||\"linear\"!==n.type&&\"radial\"!==n.type)&&e.setAttribute(t,n)}function Bp(e,t,n){if(function(e,t){var n=t?e.textFill:e.fill;return null!=n&&n!==oI}(t,n)){var i=n?t.textFill:t.fill;i=\"transparent\"===i?oI:i,\"none\"!==e.getAttribute(\"clip-path\")&&i===oI&&(i=\"rgba(0, 0, 0, 0.002)\"),Op(e,\"fill\",i),Op(e,\"fill-opacity\",t.opacity)}else Op(e,\"fill\",oI);if(function(e,t){var n=t?e.textStroke:e.stroke;return null!=n&&n!==oI}(t,n)){var r=n?t.textStroke:t.stroke;Op(e,\"stroke\",r=\"transparent\"===r?oI:r),Op(e,\"stroke-width\",(n?t.textStrokeWidth:t.lineWidth)/(!n&&t.strokeNoScale?t.host.getLineScale():1)),Op(e,\"paint-order\",n?\"stroke\":\"fill\"),Op(e,\"stroke-opacity\",t.opacity),t.lineDash?(Op(e,\"stroke-dasharray\",t.lineDash.join(\",\")),Op(e,\"stroke-dashoffset\",aI(t.lineDashOffset||0))):Op(e,\"stroke-dasharray\",\"\"),t.lineCap&&Op(e,\"stroke-linecap\",t.lineCap),t.lineJoin&&Op(e,\"stroke-linejoin\",t.lineJoin),t.miterLimit&&Op(e,\"stroke-miterlimit\",t.miterLimit)}else Op(e,\"stroke\",oI)}function zp(e){return\"middle\"===e?\"middle\":\"bottom\"===e?\"baseline\":\"hanging\"}function Fp(){}function Vp(e,t,n,i){for(var r=0,o=t.length,a=0,s=0;r<o;r++){var l=t[r];if(l.removed){for(var u=[],c=s;c<s+l.count;c++)u.push(c);l.indices=u,s+=l.count}else{for(u=[],c=a;c<a+l.count;c++)u.push(c);l.indices=u,a+=l.count,l.added||(s+=l.count)}}return t}function Hp(e){return{newPos:e.newPos,components:e.components.slice(0)}}function Wp(e,t,n,i,r){this._zrId=e,this._svgRoot=t,this._tagNames=\"string\"==typeof n?[n]:n,this._markLabel=i,this._domName=r||\"_dom\",this.nextId=0}function Gp(e,t){Wp.call(this,e,t,[\"linearGradient\",\"radialGradient\"],\"__gradient_in_use__\")}function Up(e,t){Wp.call(this,e,t,\"clipPath\",\"__clippath_in_use__\")}function jp(e,t){Wp.call(this,e,t,[\"filter\"],\"__filter_in_use__\",\"_shadowDom\")}function qp(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY||e.textShadowBlur||e.textShadowOffsetX||e.textShadowOffsetY)}function Zp(e){return parseInt(e,10)}function Yp(e){return e instanceof Zn?fI:e instanceof Ht?pI:e instanceof oy?gI:fI}function Xp(e,t){return t&&e&&t.parentNode!==e}function $p(e,t,n){if(Xp(e,t)&&n){var i=n.nextSibling;i?e.insertBefore(t,i):e.appendChild(t)}}function Kp(e,t){if(Xp(e,t)){var n=e.firstChild;n?e.insertBefore(t,n):e.appendChild(t)}}function Jp(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)}function Qp(e){return e.__textSvgEl}function eg(e){return e.__svgEl}var tg=2311,ng=function(){return tg++},ig=\"undefined\"!=typeof wx?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0}:\"undefined\"==typeof document&&\"undefined\"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0}:\"undefined\"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0}:function(e){var t={},n=e.match(/Firefox\\/([\\d.]+)/),i=e.match(/MSIE\\s([\\d.]+)/)||e.match(/Trident\\/.+?rv:(([\\d.]+))/),r=e.match(/Edge\\/([\\d.]+)/),o=/micromessenger/i.test(e);return n&&(t.firefox=!0,t.version=n[1]),i&&(t.ie=!0,t.version=i[1]),r&&(t.edge=!0,t.version=r[1]),o&&(t.weChat=!0),{browser:t,os:{},node:!1,canvasSupported:!!document.createElement(\"canvas\").getContext,svgSupported:\"undefined\"!=typeof SVGRect,touchEventsSupported:\"ontouchstart\"in window&&!t.ie&&!t.edge,pointerEventsSupported:\"onpointerdown\"in window&&(t.edge||t.ie&&t.version>=11)}}(navigator.userAgent),rg={\"[object Function]\":1,\"[object RegExp]\":1,\"[object Date]\":1,\"[object Error]\":1,\"[object CanvasGradient]\":1,\"[object CanvasPattern]\":1,\"[object Image]\":1,\"[object Canvas]\":1},og={\"[object Int8Array]\":1,\"[object Uint8Array]\":1,\"[object Uint8ClampedArray]\":1,\"[object Int16Array]\":1,\"[object Uint16Array]\":1,\"[object Int32Array]\":1,\"[object Uint32Array]\":1,\"[object Float32Array]\":1,\"[object Float64Array]\":1},ag=Object.prototype.toString,sg=Array.prototype,lg=sg.forEach,ug=sg.filter,cg=sg.slice,dg=sg.map,hg=sg.reduce,fg={},pg=function(){return fg.createCanvas()};fg.createCanvas=function(){return document.createElement(\"canvas\")};var gg,mg=\"__ec_primitive__\";R.prototype={constructor:R,get:function(e){return this.hasOwnProperty(e)?this[e]:null},set:function(e,t){return this[e]=t},each:function(e,t){for(var n in void 0!==t&&(e=m(e,t)),this)this.hasOwnProperty(n)&&e(this[n],n)},removeKey:function(e){delete this[e]}};var vg=(Object.freeze||Object)({$override:t,clone:n,merge:i,mergeAll:r,extend:o,defaults:a,createCanvas:pg,getContext:s,indexOf:l,inherits:u,mixin:c,isArrayLike:d,each:h,map:f,reduce:p,filter:g,find:function(e,t,n){if(e&&t)for(var i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return e[i]},bind:m,curry:v,isArray:y,isFunction:x,isString:b,isObject:_,isBuiltInObject:w,isTypedArray:S,isDom:C,eqNaN:M,retrieve:T,retrieve2:k,retrieve3:A,slice:I,normalizeCssArray:D,assert:N,trim:P,setAsPrimitive:L,isPrimitive:E,createHashMap:O,concatArray:B,noop:z}),yg=\"undefined\"==typeof Float32Array?Array:Float32Array,xg=$,bg=K,_g=(Object.freeze||Object)({create:F,copy:V,clone:H,set:W,add:G,scaleAndAdd:U,sub:j,len:q,length:q,lenSquare:Z,lengthSquare:Z,mul:function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},div:function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]},scale:Y,normalize:X,distance:$,dist:xg,distanceSquare:K,distSquare:bg,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e},lerp:J,applyTransform:Q,min:ee,max:te});ne.prototype={constructor:ne,_dragStart:function(e){var t=e.target;t&&t.draggable&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(ie(t,e),\"dragstart\",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,r=n-this._x,o=i-this._y;this._x=n,this._y=i,t.drift(r,o,e),this.dispatchToElement(ie(t,e),\"drag\",e.event);var a=this.findHover(n,i,t).target,s=this._dropTarget;this._dropTarget=a,t!==a&&(s&&a!==s&&this.dispatchToElement(ie(s,e),\"dragleave\",e.event),a&&a!==s&&this.dispatchToElement(ie(a,e),\"dragenter\",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(ie(t,e),\"dragend\",e.event),this._dropTarget&&this.dispatchToElement(ie(this._dropTarget,e),\"drop\",e.event),this._draggingTarget=null,this._dropTarget=null}};var wg=Array.prototype.slice,Sg=function(){this._$handlers={}};Sg.prototype={constructor:Sg,one:function(e,t,n){var i=this._$handlers;if(!t||!e)return this;i[e]||(i[e]=[]);for(var r=0;r<i[e].length;r++)if(i[e][r].h===t)return this;return i[e].push({h:t,one:!0,ctx:n||this}),this},on:function(e,t,n){var i=this._$handlers;if(!t||!e)return this;i[e]||(i[e]=[]);for(var r=0;r<i[e].length;r++)if(i[e][r].h===t)return this;return i[e].push({h:t,one:!1,ctx:n||this}),this},isSilent:function(e){var t=this._$handlers;return t[e]&&t[e].length},off:function(e,t){var n=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],r=0,o=n[e].length;r<o;r++)n[e][r].h!=t&&i.push(n[e][r]);n[e]=i}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},trigger:function(e){if(this._$handlers[e]){var t=arguments,n=t.length;n>3&&(t=wg.call(t,1));for(var i=this._$handlers[e],r=i.length,o=0;o<r;){switch(n){case 1:i[o].h.call(i[o].ctx);break;case 2:i[o].h.call(i[o].ctx,t[1]);break;case 3:i[o].h.call(i[o].ctx,t[1],t[2]);break;default:i[o].h.apply(i[o].ctx,t)}i[o].one?(i.splice(o,1),r--):o++}}return this},triggerWithContext:function(e){if(this._$handlers[e]){var t=arguments,n=t.length;n>4&&(t=wg.call(t,1,t.length-1));for(var i=t[t.length-1],r=this._$handlers[e],o=r.length,a=0;a<o;){switch(n){case 1:r[a].h.call(i);break;case 2:r[a].h.call(i,t[1]);break;case 3:r[a].h.call(i,t[1],t[2]);break;default:r[a].h.apply(i,t)}r[a].one?(r.splice(a,1),o--):a++}}return this}};var Cg=\"silent\";re.prototype.dispose=function(){};var Mg=[\"click\",\"dblclick\",\"mousewheel\",\"mouseout\",\"mouseup\",\"mousedown\",\"mousemove\",\"contextmenu\"],Tg=function(e,t,n,i){Sg.call(this),this.storage=e,this.painter=t,this.painterRoot=i,n=n||new re,this.proxy=null,this._hovered={},ne.call(this),this.setHandlerProxy(n)};Tg.prototype={constructor:Tg,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(h(Mg,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,n=e.zrY,i=this._hovered,r=i.target;r&&!r.__zr&&(r=(i=this.findHover(i.x,i.y)).target);var o=this._hovered=this.findHover(t,n),a=o.target,s=this.proxy;s.setCursor&&s.setCursor(a?a.cursor:\"default\"),r&&a!==r&&this.dispatchToElement(i,\"mouseout\",e),this.dispatchToElement(o,\"mousemove\",e),a&&a!==r&&this.dispatchToElement(o,\"mouseover\",e)},mouseout:function(e){this.dispatchToElement(this._hovered,\"mouseout\",e);var t,n=e.toElement||e.relatedTarget;do{n=n&&n.parentNode}while(n&&9!=n.nodeType&&!(t=n===this.painterRoot));!t&&this.trigger(\"globalout\",{event:e})},resize:function(e){this._hovered={}},dispatch:function(e,t){var n=this[e];n&&n.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,n){var i=(e=e||{}).target;if(!i||!i.silent){for(var r=\"on\"+t,o=function(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which}}(t,e,n);i&&(i[r]&&(o.cancelBubble=i[r].call(i,o)),i.trigger(t,o),i=i.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(t,o),this.painter&&this.painter.eachOtherLayer(function(e){\"function\"==typeof e[r]&&e[r].call(e,o),e.trigger&&e.trigger(t,o)}))}},findHover:function(e,t,n){for(var i=this.storage.getDisplayList(),r={x:e,y:t},o=i.length-1;o>=0;o--){var a;if(i[o]!==n&&!i[o].ignore&&(a=oe(i[o],e,t))&&(!r.topTarget&&(r.topTarget=i[o]),a!==Cg)){r.target=i[o];break}}return r}},h([\"click\",\"mousedown\",\"mouseup\",\"mousewheel\",\"dblclick\",\"contextmenu\"],function(e){Tg.prototype[e]=function(t){var n=this.findHover(t.zrX,t.zrY),i=n.target;if(\"mousedown\"===e)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if(\"mouseup\"===e)this._upEl=i;else if(\"click\"===e){if(this._downEl!==this._upEl||!this._downPoint||xg(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,e,t)}}),c(Tg,Sg),c(Tg,ne);var kg=\"undefined\"==typeof Float32Array?Array:Float32Array,Ag=(Object.freeze||Object)({create:ae,identity:se,copy:le,mul:ue,translate:ce,rotate:de,scale:he,invert:fe,clone:pe}),Ig=se,Dg=5e-5,Ng=function(e){(e=e||{}).position||(this.position=[0,0]),null==e.rotation&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},Pg=Ng.prototype;Pg.transform=null,Pg.needLocalTransform=function(){return ge(this.rotation)||ge(this.position[0])||ge(this.position[1])||ge(this.scale[0]-1)||ge(this.scale[1]-1)},Pg.updateTransform=function(){var e=this.parent,t=e&&e.transform,n=this.needLocalTransform(),i=this.transform;n||t?(i=i||ae(),n?this.getLocalTransform(i):Ig(i),t&&(n?ue(i,e.transform,i):le(i,e.transform)),this.transform=i,this.invTransform=this.invTransform||ae(),fe(this.invTransform,i)):i&&Ig(i)},Pg.getLocalTransform=function(e){return Ng.getLocalTransform(this,e)},Pg.setTransform=function(e){var t=this.transform,n=e.dpr||1;t?e.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):e.setTransform(n,0,0,n,0,0)},Pg.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var Lg=[];Pg.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(ue(Lg,e.invTransform,t),t=Lg);var n=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],r=this.position,o=this.scale;ge(n-1)&&(n=Math.sqrt(n)),ge(i-1)&&(i=Math.sqrt(i)),t[0]<0&&(n=-n),t[3]<0&&(i=-i),r[0]=t[4],r[1]=t[5],o[0]=n,o[1]=i,this.rotation=Math.atan2(-t[1]/i,t[0]/n)}},Pg.getGlobalScale=function(){var e=this.transform;if(!e)return[1,1];var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]),n=Math.sqrt(e[2]*e[2]+e[3]*e[3]);return e[0]<0&&(t=-t),e[3]<0&&(n=-n),[t,n]},Pg.transformCoordToLocal=function(e,t){var n=[e,t],i=this.invTransform;return i&&Q(n,n,i),n},Pg.transformCoordToGlobal=function(e,t){var n=[e,t],i=this.transform;return i&&Q(n,n,i),n},Ng.getLocalTransform=function(e,t){Ig(t=t||[]);var n=e.origin,i=e.scale||[1,1],r=e.rotation||0,o=e.position||[0,0];return n&&(t[4]-=n[0],t[5]-=n[1]),he(t,t,i),r&&de(t,t,r),n&&(t[4]+=n[0],t[5]+=n[1]),t[4]+=o[0],t[5]+=o[1],t};var Eg={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},elasticOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-Eg.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*Eg.bounceIn(2*e):.5*Eg.bounceOut(2*e-1)+.5}};me.prototype={constructor:me,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused)this._pausedTime+=t;else{var n=(e-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var i=this.easing,r=\"string\"==typeof i?Eg[i]:i,o=\"function\"==typeof r?r(n):n;return this.fire(\"frame\",o),1==n?this.loop?(this.restart(e),\"restart\"):(this._needsRemove=!0,\"destroy\"):null}}},restart:function(e){this._startTime=e-(e-this._startTime-this._pausedTime)%this._life+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){this[e=\"on\"+e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var Rg=function(){this.head=null,this.tail=null,this._len=0},Og=Rg.prototype;Og.insert=function(e){var t=new Bg(e);return this.insertEntry(t),t},Og.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},Og.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},Og.len=function(){return this._len},Og.clear=function(){this.head=this.tail=null,this._len=0};var Bg=function(e){this.value=e},zg=function(e){this._list=new Rg,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},Fg=zg.prototype;Fg.put=function(e,t){var n=this._list,i=this._map,r=null;if(null==i[e]){var o=n.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=n.head;n.remove(s),delete i[s.key],r=s.value,this._lastRemovedEntry=s}a?a.value=t:a=new Bg(t),a.key=e,n.insertEntry(a),i[e]=a}return r},Fg.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},Fg.clear=function(){this._list.clear(),this._map={}};var Vg={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},Hg=new zg(20),Wg=null,Gg=(Object.freeze||Object)({parse:Te,lift:Ae,toHex:Ie,fastLerp:De,fastMapToColor:De,lerp:Ne,mapToColor:Ne,modifyHSL:Pe,modifyAlpha:Le,stringify:Ee}),Ug=Array.prototype.slice,jg=function(e,t,n,i){this._tracks={},this._target=e,this._loop=t||!1,this._getter=n||Re,this._setter=i||Oe,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};jg.prototype={when:function(e,t){var n=this._tracks;for(var i in t)if(t.hasOwnProperty(i)){if(!n[i]){n[i]=[];var r=this._getter(this._target,i);if(null==r)continue;0!==e&&n[i].push({time:0,value:Ue(r)})}n[i].push({time:e,value:t[i]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,n=0;n<t;n++)e[n].call(this)},start:function(e,t){var n,i=this,r=0;for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var a=qe(this,e,function(){--r||i._doneCallback()},this._tracks[o],o,t);a&&(this._clipList.push(a),r++,this.animation&&this.animation.addClip(a),n=a)}if(n){var s=n.onframe;n.onframe=function(e,t){s(e,t);for(var n=0;n<i._onframeList.length;n++)i._onframeList[n](e,t)}}return r||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,n=this.animation,i=0;i<t.length;i++){var r=t[i];e&&r.onframe(this._target,1),n&&n.removeClip(r)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var qg=1;\"undefined\"!=typeof window&&(qg=Math.max(window.devicePixelRatio||1,1));var Zg=qg,Yg=function(){this.animators=[]};Yg.prototype={constructor:Yg,animate:function(e,t){var n,i=!1,r=this,o=this.__zr;if(e){var a=e.split(\".\"),s=r;i=\"shape\"===a[0];for(var u=0,c=a.length;u<c;u++)s&&(s=s[a[u]]);s&&(n=s)}else n=r;if(n){var d=r.animators,h=new jg(n,t);return h.during(function(e){r.dirty(i)}).done(function(){d.splice(l(d,h),1)}),d.push(h),o&&o.animation.addAnimator(h),h}},stopAnimation:function(e){for(var t=this.animators,n=t.length,i=0;i<n;i++)t[i].stop(e);return t.length=0,this},animateTo:function(e,t,n,i,r,o){b(n)?(r=i,i=n,n=0):x(i)?(r=i,i=\"linear\",n=0):x(n)?(r=n,n=0):x(t)?(r=t,t=500):t||(t=500),this.stopAnimation(),this._animateToShallow(\"\",this,e,t,n);var a=this.animators.slice(),s=a.length;s||r&&r();for(var l=0;l<a.length;l++)a[l].done(function(){--s||r&&r()}).start(i,o)},_animateToShallow:function(e,t,n,i,r){var o={},a=0;for(var s in n)if(n.hasOwnProperty(s))if(null!=t[s])_(n[s])&&!d(n[s])?this._animateToShallow(e?e+\".\"+s:s,t[s],n[s],i,r):(o[s]=n[s],a++);else if(null!=n[s])if(e){var l={};l[e]={},l[e][s]=n[s],this.attr(l)}else this.attr(s,n[s]);return a>0&&this.animate(e,!1).when(null==i?500:i,o).delay(r||0),this}};var Xg=function(e){Ng.call(this,e),Sg.call(this,e),Yg.call(this,e),this.id=e.id||ng()};Xg.prototype={type:\"element\",name:\"\",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case\"horizontal\":t=0;break;case\"vertical\":e=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=e,n[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if(\"position\"===e||\"scale\"===e||\"origin\"===e){if(t){var n=this[e];n||(n=this[e]=[]),n[0]=t[0],n[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if(\"string\"==typeof e)this.attrKV(e,t);else if(_(e))for(var n in e)e.hasOwnProperty(n)&&this.attrKV(n,e[n]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}},c(Xg,Yg),c(Xg,Ng),c(Xg,Sg);var $g=Q,Kg=Math.min,Jg=Math.max;Ze.prototype={constructor:Ze,union:function(e){var t=Kg(e.x,this.x),n=Kg(e.y,this.y);this.width=Jg(e.x+e.width,this.x+this.width)-t,this.height=Jg(e.y+e.height,this.y+this.height)-n,this.x=t,this.y=n},applyTransform:function(){var e=[],t=[],n=[],i=[];return function(r){if(r){e[0]=n[0]=this.x,e[1]=i[1]=this.y,t[0]=i[0]=this.x+this.width,t[1]=n[1]=this.y+this.height,$g(e,e,r),$g(t,t,r),$g(n,n,r),$g(i,i,r),this.x=Kg(e[0],t[0],n[0],i[0]),this.y=Kg(e[1],t[1],n[1],i[1]);var o=Jg(e[0],t[0],n[0],i[0]),a=Jg(e[1],t[1],n[1],i[1]);this.width=o-this.x,this.height=a-this.y}}}(),calculateTransform:function(e){var t=this,n=e.width/t.width,i=e.height/t.height,r=ae();return ce(r,r,[-t.x,-t.y]),he(r,r,[n,i]),ce(r,r,[e.x,e.y]),r},intersect:function(e){if(!e)return!1;e instanceof Ze||(e=Ze.create(e));var t=this;return!(t.x+t.width<e.x||e.x+e.width<t.x||t.y+t.height<e.y||e.y+e.height<t.y)},contain:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},clone:function(){return new Ze(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Ze.create=function(e){return new Ze(e.x,e.y,e.width,e.height)};var Qg=function(e){for(var t in Xg.call(this,e=e||{}),e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};Qg.prototype={constructor:Qg,isGroup:!0,type:\"group\",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,i=n.indexOf(t);i>=0&&(n.splice(i,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,n=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof Qg&&e.addChildrenToStorage(t)),n&&n.refresh()},remove:function(e){var t=this.__zr,n=this.__storage,i=this._children,r=l(i,e);return r<0||(i.splice(r,1),e.parent=null,n&&(n.delFromStorage(e),e instanceof Qg&&e.delChildrenFromStorage(n)),t&&t.refresh()),this},removeAll:function(){var e,t,n=this._children,i=this.__storage;for(t=0;t<n.length;t++)e=n[t],i&&(i.delFromStorage(e),e instanceof Qg&&e.delChildrenFromStorage(i)),e.parent=null;return n.length=0,this},eachChild:function(e,t){for(var n=this._children,i=0;i<n.length;i++)e.call(t,n[i],i);return this},traverse:function(e,t){for(var n=0;n<this._children.length;n++){var i=this._children[n];e.call(t,i),\"group\"===i.type&&i.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToStorage(n),n instanceof Qg&&n.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromStorage(n),n instanceof Qg&&n.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,n=new Ze(0,0,0,0),i=e||this._children,r=[],o=0;o<i.length;o++){var a=i[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),l=a.getLocalTransform(r);l?(n.copy(s),n.applyTransform(l),(t=t||n.clone()).union(n)):(t=t||s.clone()).union(s)}}return t||n}},u(Qg,Xg);var em=32,tm=7,nm=function(){this._roots=[],this._displayList=[],this._displayListLen=0};nm.prototype={constructor:nm,traverse:function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,i=0,r=t.length;i<r;i++)this._updateAndAddDisplayable(t[i],null,e);n.length=this._displayListLen,ig.canvasSupported&&Qe(n,et)},_updateAndAddDisplayable:function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var i=e.clipPath;if(i){t=t?t.slice():[];for(var r=i,o=e;r;)r.parent=o,r.updateTransform(),t.push(r),o=r,r=r.clipPath}if(e.isGroup){for(var a=e._children,s=0;s<a.length;s++){var l=a[s];e.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,t,n)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof Qg&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(null==e){for(n=0;n<this._roots.length;n++){var t=this._roots[n];t instanceof Qg&&t.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(e instanceof Array)for(var n=0,i=e.length;n<i;n++)this.delRoot(e[n]);else{var r=l(this._roots,e);r>=0&&(this.delFromStorage(e),this._roots.splice(r,1),e instanceof Qg&&e.delChildrenFromStorage(this))}},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:et};var im={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},rm=function(e,t,n){return im.hasOwnProperty(t)?n*=e.dpr:n},om=[[\"shadowBlur\",0],[\"shadowOffsetX\",0],[\"shadowOffsetY\",0],[\"shadowColor\",\"#000\"],[\"lineCap\",\"butt\"],[\"lineJoin\",\"miter\"],[\"miterLimit\",10]],am=function(e,t){this.extendFrom(e,!1),this.host=t};am.prototype={constructor:am,host:null,fill:\"#000\",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:\"#000\",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:\"inside\",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:\"transparent\",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:\"transparent\",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,n){for(var i=this,r=n&&n.style,o=!r,a=0;a<om.length;a++){var s=om[a],l=s[0];(o||i[l]!==r[l])&&(e[l]=rm(e,l,i[l]||s[1]))}(o||i.fill!==r.fill)&&(e.fillStyle=i.fill),(o||i.stroke!==r.stroke)&&(e.strokeStyle=i.stroke),(o||i.opacity!==r.opacity)&&(e.globalAlpha=null==i.opacity?1:i.opacity),(o||i.blend!==r.blend)&&(e.globalCompositeOperation=i.blend||\"source-over\"),this.hasStroke()&&(e.lineWidth=i.lineWidth/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1))},hasFill:function(){var e=this.fill;return null!=e&&\"none\"!==e},hasStroke:function(){var e=this.stroke;return null!=e&&\"none\"!==e&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var n in e)!e.hasOwnProperty(n)||!0!==t&&(!1===t?this.hasOwnProperty(n):null==e[n])||(this[n]=e[n])},set:function(e,t){\"string\"==typeof e?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,n){for(var i=(\"radial\"===t.type?nt:tt)(e,t,n),r=t.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}};for(var sm=am.prototype,lm=0;lm<om.length;lm++){var um=om[lm];um[0]in sm||(sm[um[0]]=um[1])}am.getGradient=sm.getGradient;var cm=function(e,t){this.image=e,this.repeat=t,this.type=\"pattern\"};cm.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||\"repeat\")};var dm=function(e,t,n){var i;n=n||Zg,\"string\"==typeof e?i=rt(e,t,n):_(e)&&(e=(i=e).id),this.id=e,this.dom=i;var r=i.style;r&&(i.onselectstart=it,r[\"-webkit-user-select\"]=\"none\",r[\"user-select\"]=\"none\",r[\"-webkit-touch-callout\"]=\"none\",r[\"-webkit-tap-highlight-color\"]=\"rgba(0,0,0,0)\",r.padding=0,r.margin=0,r[\"border-width\"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};dm.prototype={constructor:dm,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext(\"2d\"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=rt(\"back-\"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext(\"2d\"),1!=e&&this.ctxBack.scale(e,e)},resize:function(e,t){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r.width=e+\"px\",r.height=t+\"px\",i.width=e*n,i.height=t*n,o&&(o.width=e*n,o.height=t*n,1!=n&&this.ctxBack.scale(n,n))},clear:function(e){var t,n=this.dom,i=this.ctx,r=n.width,o=n.height,a=this.clearColor,s=this.motionBlur&&!e,l=this.lastFrameAlpha,u=this.dpr;if(s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation=\"copy\",this.ctxBack.drawImage(n,0,0,r/u,o/u)),i.clearRect(0,0,r,o),a&&(a.colorStops?(t=a.__canvasGradient||am.getGradient(i,a,{x:0,y:0,width:r,height:o}),a.__canvasGradient=t):a.image&&(t=cm.prototype.getCanvasPattern.call(a,i)),i.save(),i.fillStyle=t||a,i.fillRect(0,0,r,o),i.restore()),s){var c=this.domBack;i.save(),i.globalAlpha=l,i.drawImage(c,0,0,r,o),i.restore()}}};var hm=\"undefined\"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},fm=new zg(50),pm={},gm=0,mm=5e3,vm=/\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g,ym=\"12px sans-serif\",xm={measureText:function(e,t){var n=s();return n.font=t||ym,n.measureText(e)}},bm={left:1,right:1,center:1},_m={top:1,bottom:1,middle:1},wm=new Ze,Sm=function(){};Sm.prototype={constructor:Sm,drawRectText:function(e,t){var n=this.style;t=n.textRect||t,this.__dirty&&Mt(n);var i=n.text;if(null!=i&&(i+=\"\"),Ft(i,n)){e.save();var r=this.transform;n.transformText?this.setTransform(e):r&&(wm.copy(t),wm.applyTransform(r),t=wm),kt(this,e,i,n,t),e.restore()}}},Vt.prototype={constructor:Vt,type:\"displayable\",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:\"pointer\",rectHover:!1,progressive:!1,incremental:!1,inplace:!1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var n=this.transformCoordToLocal(e,t);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate(\"style\",e)},attrKV:function(e,t){\"style\"!==e?Xg.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new am(e,this),this.dirty(!1),this}},u(Vt,Xg),c(Vt,Sm),Ht.prototype={constructor:Ht,type:\"image\",brush:function(e,t){var n=this.style,i=n.image;n.bind(e,this,t);var r=this._image=at(i,this._image,this,this.onload);if(r&&lt(r)){var o=n.x||0,a=n.y||0,s=n.width,l=n.height,u=r.width/r.height;if(null==s&&null!=l?s=l*u:null==l&&null!=s?l=s/u:null==s&&null==l&&(s=r.width,l=r.height),this.setTransform(e),n.sWidth&&n.sHeight){var c=n.sx||0,d=n.sy||0;e.drawImage(r,c,d,n.sWidth,n.sHeight,o,a,s,l)}else if(n.sx&&n.sy){var h=s-(c=n.sx),f=l-(d=n.sy);e.drawImage(r,c,d,h,f,o,a,s,l)}else e.drawImage(r,o,a,s,l);null!=n.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new Ze(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}},u(Ht,Vt);var Cm=new Ze(0,0,0,0),Mm=new Ze(0,0,0,0),Tm=function(e,t,n){this.type=\"canvas\";var i=!e.nodeName||\"CANVAS\"===e.nodeName.toUpperCase();this._opts=n=o({},n||{}),this.dpr=n.devicePixelRatio||Zg,this._singleCanvas=i,this.root=e;var r=e.style;r&&(r[\"-webkit-tap-highlight-color\"]=\"transparent\",r[\"-webkit-user-select\"]=r[\"user-select\"]=r[\"-webkit-touch-callout\"]=\"none\",e.innerHTML=\"\"),this.storage=t;var a=this._zlevelList=[],s=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,i){null!=n.width&&(e.width=n.width),null!=n.height&&(e.height=n.height);var l=e.height;this._width=e.width,this._height=l;var u=new dm(e,this,1);u.__builtin__=!0,u.initContext(),s[314159]=u,a.push(314159),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var c=this._domRoot=function(e,t){var n=document.createElement(\"div\");return n.style.cssText=[\"position:relative\",\"overflow:hidden\",\"width:\"+e+\"px\",\"height:\"+t+\"px\",\"padding:0\",\"margin:0\",\"border-width:0\"].join(\";\")+\";\",n}(this._width,this._height);e.appendChild(c)}this._hoverlayer=null,this._hoverElements=[]};Tm.prototype={constructor:Tm,getType:function(){return\"canvas\"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var i=0;i<n.length;i++){var r=this._layers[n[i]];!r.__builtin__&&r.refresh&&r.refresh()}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var n=new e.constructor({style:e.style,shape:e.shape});n.__from=e,e.__hoverMir=n,n.setStyle(t),this._hoverElements.push(n)}},removeHover:function(e){var t=this._hoverElements,n=l(t,e.__hoverMir);n>=0&&t.splice(n,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,n=0;n<t.length;n++){var i=t[n].__from;i&&(i.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){Qe(e,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var i={};n.ctx.save();for(var r=0;r<t;){var o=e[r],a=o.__from;a&&a.__zr?(r++,a.invisible||(o.transform=a.transform,o.invTransform=a.invTransform,o.__clipPaths=a.__clipPaths,this._doPaintEl(o,n,!0,i))):(e.splice(r,1),a.__hoverMir=null,t--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(e,t,n){if(this._redrawId===n){t=t||!1,this._updateLayerStatus(e);var i=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!i){var r=this;hm(function(){r._paintList(e,t,n)})}}},_compositeManually:function(){var e=this.getLayer(314159).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,n)})},_doPaintList:function(e,t){for(var n=[],i=0;i<this._zlevelList.length;i++)(a=this._layers[this._zlevelList[i]]).__builtin__&&a!==this._hoverlayer&&(a.__dirty||t)&&n.push(a);for(var r=!0,o=0;o<n.length;o++){var a=n[o],s=a.ctx,l={};s.save();var u=t?a.__startIndex:a.__drawIndex,c=!t&&a.incremental&&Date.now,d=c&&Date.now();if(a.__startIndex===a.__endIndex)a.clear();else if(u===a.__startIndex){var f=e[u];f.incremental&&f.notClear&&!t||a.clear()}-1===u&&(console.error(\"For some unknown reason. drawIndex is -1\"),u=a.__startIndex);for(var p=u;p<a.__endIndex;p++){var g=e[p];if(this._doPaintEl(g,a,t,l),g.__dirty=!1,c&&Date.now()-d>15)break}a.__drawIndex=p,a.__drawIndex<a.__endIndex&&(r=!1),l.prevElClipPaths&&s.restore(),s.restore()}return ig.wxa&&h(this._layers,function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()}),r},_doPaintEl:function(e,t,n,i){var r=t.ctx,o=e.transform;if((t.__dirty||n)&&!e.invisible&&0!==e.style.opacity&&(!o||o[0]||o[3])&&(!e.culling||!function(e,t,n){return Cm.copy(e.getBoundingRect()),e.transform&&Cm.applyTransform(e.transform),Mm.width=t,Mm.height=n,!Cm.intersect(Mm)}(e,this._width,this._height))){var a=e.__clipPaths;i.prevElClipPaths&&!function(e,t){if(e==t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0}(a,i.prevElClipPaths)||(i.prevElClipPaths&&(t.ctx.restore(),i.prevElClipPaths=null,i.prevEl=null),a&&(r.save(),function(e,t){for(var n=0;n<e.length;n++){var i=e[n];i.setTransform(t),t.beginPath(),i.buildPath(t,i.shape),t.clip(),i.restoreTransform(t)}}(a,r),i.prevElClipPaths=a)),e.beforeBrush&&e.beforeBrush(r),e.brush(r,i.prevEl||null),i.prevEl=e,e.afterBrush&&e.afterBrush(r)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=314159);var n=this._layers[e];return n||((n=new dm(\"zr_\"+e,this,this.dpr)).zlevel=e,n.__builtin__=!0,this._layerConfig[e]&&i(n,this._layerConfig[e],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},insertLayer:function(e,t){var n=this._layers,i=this._zlevelList,r=i.length,o=null,a=-1,s=this._domRoot;if(n[e]);else if(function(e){return!!e&&(!!e.__builtin__||\"function\"==typeof e.resize&&\"function\"==typeof e.refresh)}(t)){if(r>0&&e>i[0]){for(a=0;a<r-1&&!(i[a]<e&&i[a+1]>e);a++);o=n[i[a]]}if(i.splice(a+1,0,e),n[e]=t,!t.virtual)if(o){var l=o.dom;l.nextSibling?s.insertBefore(t.dom,l.nextSibling):s.appendChild(t.dom)}else s.firstChild?s.insertBefore(t.dom,s.firstChild):s.appendChild(t.dom)}},eachLayer:function(e,t){var n,i,r=this._zlevelList;for(i=0;i<r.length;i++)e.call(t,this._layers[n=r[i]],n)},eachBuiltinLayer:function(e,t){var n,i,r,o=this._zlevelList;for(r=0;r<o.length;r++)(n=this._layers[i=o[r]]).__builtin__&&e.call(t,n,i)},eachOtherLayer:function(e,t){var n,i,r,o=this._zlevelList;for(r=0;r<o.length;r++)(n=this._layers[i=o[r]]).__builtin__||e.call(t,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){function t(e){n&&(n.__endIndex!==e&&(n.__dirty=!0),n.__endIndex=e)}if(this.eachBuiltinLayer(function(e,t){e.__dirty=e.__used=!1}),this._singleCanvas)for(r=1;r<e.length;r++)if((a=e[r]).zlevel!==e[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}for(var n=null,i=0,r=0;r<e.length;r++){var o,a=e[r],s=a.zlevel;a.incremental?((o=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,i=1):o=this.getLayer(s+(i>0?.01:0),this._needsManuallyCompositing),o!==n&&(o.__used=!0,o.__startIndex!==r&&(o.__dirty=!0),o.__startIndex=r,o.__drawIndex=o.incremental?-1:r,t(r),n=o),a.__dirty&&(o.__dirty=!0,o.incremental&&o.__drawIndex<0&&(o.__drawIndex=r))}t(r),this.eachBuiltinLayer(function(e,t){!e.__used&&e.getElementCount()>0&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},configLayer:function(e,t){if(t){var n=this._layerConfig;n[e]?i(n[e],t,!0):n[e]=t;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];o!==e&&o!==e+.01||i(this._layers[o],n[e],!0)}}},delLayer:function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n.splice(l(n,e),1))},resize:function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display=\"none\";var i=this._opts;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display=\"\",this._width!=e||t!=this._height){for(var r in n.style.width=e+\"px\",n.style.height=t+\"px\",this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(e,t);h(this._progressiveLayers,function(n){n.resize(e,t)}),this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(314159).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML=\"\",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var t=new dm(\"image\",this,(e=e||{}).pixelRatio||this.dpr);if(t.initContext(),t.clearColor=e.backgroundColor,t.clear(),e.pixelRatio<=this.dpr){this.refresh();var n=t.dom.width,i=t.dom.height,r=t.ctx;this.eachLayer(function(e){e.__builtin__?r.drawImage(e.dom,0,0,n,i):e.renderToCanvas&&(t.ctx.save(),e.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var o={},a=this.storage.getDisplayList(!0),s=0;s<a.length;s++)this._doPaintEl(a[s],t,!0,o);return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=[\"width\",\"height\"][e],i=[\"clientWidth\",\"clientHeight\"][e],r=[\"paddingLeft\",\"paddingTop\"][e],o=[\"paddingRight\",\"paddingBottom\"][e];if(null!=t[n]&&\"auto\"!==t[n])return parseFloat(t[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[i]||Wt(s[n])||Wt(a.style[n]))-(Wt(s[r])||0)-(Wt(s[o])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var n=document.createElement(\"canvas\"),i=n.getContext(\"2d\"),r=e.getBoundingRect(),o=e.style,a=o.shadowBlur*t,s=o.shadowOffsetX*t,l=o.shadowOffsetY*t,u=o.hasStroke()?o.lineWidth:0,c=Math.max(u/2,-s+a),d=Math.max(u/2,s+a),h=Math.max(u/2,-l+a),f=Math.max(u/2,l+a),p=r.width+c+d,g=r.height+h+f;n.width=p*t,n.height=g*t,i.scale(t,t),i.clearRect(0,0,p,g),i.dpr=t;var m={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[c-r.x,h-r.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(i);var v=new Ht({style:{x:0,y:0,image:n}});return null!=m.position&&(v.position=e.position=m.position),null!=m.rotation&&(v.rotation=e.rotation=m.rotation),null!=m.scale&&(v.scale=e.scale=m.scale),v}};var km=\"undefined\"!=typeof window&&!!window.addEventListener,Am=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Im=km?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0},Dm=function(e){this.stage=(e=e||{}).stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._paused=!1,Sg.call(this)};Dm.prototype={constructor:Dm,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),n=0;n<t.length;n++)this.addClip(t[n])},removeClip:function(e){var t=l(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),n=0;n<t.length;n++)this.removeClip(t[n]);e.animation=null},_update:function(){for(var e=(new Date).getTime()-this._pausedTime,t=e-this._time,n=this._clips,i=n.length,r=[],o=[],a=0;a<i;a++){var s=n[a],l=s.step(e,t);l&&(r.push(l),o.push(s))}for(a=0;a<i;)n[a]._needsRemove?(n[a]=n[i-1],n.pop(),i--):a++;for(i=r.length,a=0;a<i;a++)o[a].fire(r[a]);this._time=e,this.onframe(t),this.trigger(\"frame\",t),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0,hm(function t(){e._running&&(hm(t),!e._paused&&e._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(e,t){var n=new jg(e,(t=t||{}).loop,t.getter,t.setter);return this.addAnimator(n),n}},c(Dm,Sg);var Nm=function(){this._track=[]};Nm.prototype={constructor:Nm,recognize:function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,n){var i=e.touches;if(i){for(var r={points:[],touches:[],target:t,event:e},o=0,a=i.length;o<a;o++){var s=i[o],l=Gt(n,s,{});r.points.push([l.zrX,l.zrY]),r.touches.push(s)}this._track.push(r)}},_recognize:function(e){for(var t in Pm)if(Pm.hasOwnProperty(t)){var n=Pm[t](this._track,e);if(n)return n}}};var Pm={pinch:function(e,t){var n=e.length;if(n){var i=(e[n-1]||{}).points,r=(e[n-2]||{}).points||i;if(r&&r.length>1&&i&&i.length>1){var o=Xt(i)/Xt(r);!isFinite(o)&&(o=1),t.pinchScale=o;var a=function(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}(i);return t.pinchX=a[0],t.pinchY=a[1],{type:\"pinch\",target:e[0].target,event:t}}}}},Lm=[\"click\",\"dblclick\",\"mousewheel\",\"mouseout\",\"mouseup\",\"mousedown\",\"mousemove\",\"contextmenu\"],Em=[\"touchstart\",\"touchend\",\"touchmove\"],Rm={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},Om=f(Lm,function(e){var t=e.replace(\"mouse\",\"pointer\");return Rm[t]?t:e}),Bm={mousemove:function(e){e=jt(this.dom,e),this.trigger(\"mousemove\",e)},mouseout:function(e){var t=(e=jt(this.dom,e)).toElement||e.relatedTarget;if(t!=this.dom)for(;t&&9!=t.nodeType;){if(t===this.dom)return;t=t.parentNode}this.trigger(\"mouseout\",e)},touchstart:function(e){(e=jt(this.dom,e)).zrByTouch=!0,this._lastTouchMoment=new Date,Kt(this,e,\"start\"),Bm.mousemove.call(this,e),Bm.mousedown.call(this,e),Jt(this)},touchmove:function(e){(e=jt(this.dom,e)).zrByTouch=!0,Kt(this,e,\"change\"),Bm.mousemove.call(this,e),Jt(this)},touchend:function(e){(e=jt(this.dom,e)).zrByTouch=!0,Kt(this,e,\"end\"),Bm.mouseup.call(this,e),+new Date-this._lastTouchMoment<300&&Bm.click.call(this,e),Jt(this)},pointerdown:function(e){Bm.mousedown.call(this,e)},pointermove:function(e){Qt(e)||Bm.mousemove.call(this,e)},pointerup:function(e){Bm.mouseup.call(this,e)},pointerout:function(e){Qt(e)||Bm.mouseout.call(this,e)}};h([\"click\",\"mousedown\",\"mouseup\",\"mousewheel\",\"dblclick\",\"contextmenu\"],function(e){Bm[e]=function(t){t=jt(this.dom,t),this.trigger(e,t)}});var zm=en.prototype;zm.dispose=function(){for(var e=Lm.concat(Em),t=0;t<e.length;t++){var n=e[t];Zt(this.dom,$t(n),this._handlers[n])}},zm.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||\"default\")},c(en,Sg);var Fm=!ig.canvasSupported,Vm={canvas:Tm},Hm={},Wm=function(e,t,n){n=n||{},this.dom=t,this.id=e;var i=this,r=new nm,o=n.renderer;if(Fm){if(!Vm.vml)throw new Error(\"You need to require 'zrender/vml/vml' to support IE8\");o=\"vml\"}else o&&Vm[o]||(o=\"canvas\");var a=new Vm[o](t,r,n,e);this.storage=r,this.painter=a;var s=ig.node||ig.worker?null:new en(a.getViewportRoot());this.handler=new Tg(r,a,s,a.root),this.animation=new Dm({stage:{update:m(this.flush,this)}}),this.animation.start();var l=r.delFromStorage,u=r.addToStorage;r.delFromStorage=function(e){l.call(r,e),e&&e.removeSelfFromZr(i)},r.addToStorage=function(e){u.call(r,e),e.addSelfToZr(i)}};Wm.prototype={constructor:Wm,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer(e,t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately(),this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(e,t){this.painter.addHover&&(this.painter.addHover(e,t),this.refreshHover())},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){this.painter.resize((e=e||{}).width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,n){this.handler.on(e,t,n)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function(e){delete Hm[e]}(this.id)}};var Gm=(Object.freeze||Object)({version:\"4.0.1\",init:tn,dispose:function(e){if(e)e.dispose();else{for(var t in Hm)Hm.hasOwnProperty(t)&&Hm[t].dispose();Hm={}}return this},getInstance:function(e){return Hm[e]},registerPainter:nn}),Um=h,jm=_,qm=y,Zm=\"\\0-\",Ym=[\"fontStyle\",\"fontWeight\",\"fontSize\",\"fontFamily\",\"rich\",\"tag\",\"color\",\"textBorderColor\",\"textBorderWidth\",\"width\",\"height\",\"lineHeight\",\"align\",\"verticalAlign\",\"baseline\",\"shadowColor\",\"shadowBlur\",\"shadowOffsetX\",\"shadowOffsetY\",\"textShadowColor\",\"textShadowBlur\",\"textShadowOffsetX\",\"textShadowOffsetY\",\"backgroundColor\",\"borderColor\",\"borderWidth\",\"borderRadius\",\"padding\"],Xm=0,$m=\".\",Km=\"___EC__COMPONENT__CONTAINER___\",Jm=0,Qm=function(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(t,n,i){for(var r={},o=0;o<e.length;o++){var a=e[o][1];if(!(n&&l(n,a)>=0||i&&l(i,a)<0)){var s=t.getShallow(a);null!=s&&(r[e[o][0]]=s)}}return r}},ev=Qm([[\"lineWidth\",\"width\"],[\"stroke\",\"color\"],[\"opacity\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"]]),tv={getLineStyle:function(e){var t=ev(this,e),n=this.getLineDash(t.lineWidth);return n&&(t.lineDash=n),t},getLineDash:function(e){null==e&&(e=1);var t=this.get(\"type\"),n=Math.max(e,2),i=4*e;return\"solid\"===t||null==t?null:\"dashed\"===t?[i,i]:[n,n]}},nv=Qm([[\"fill\",\"color\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"opacity\"],[\"shadowColor\"]]),iv={getAreaStyle:function(e,t){return nv(this,e,t)}},rv=Math.pow,ov=Math.sqrt,av=1e-8,sv=1e-4,lv=ov(3),uv=1/3,cv=F(),dv=F(),hv=F(),fv=Math.min,pv=Math.max,gv=Math.sin,mv=Math.cos,vv=2*Math.PI,yv=F(),xv=F(),bv=F(),_v=[],wv=[],Sv={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Cv=[],Mv=[],Tv=[],kv=[],Av=Math.min,Iv=Math.max,Dv=Math.cos,Nv=Math.sin,Pv=Math.sqrt,Lv=Math.abs,Ev=\"undefined\"!=typeof Float32Array,Rv=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};Rv.prototype={constructor:Rv,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t){this._ux=Lv(1/Zg/e)||0,this._uy=Lv(1/Zg/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(Sv.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var n=Lv(e-this._xi)>this._ux||Lv(t-this._yi)>this._uy||this._len<5;return this.addData(Sv.L,e,t),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),n&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,n,i,r,o){return this.addData(Sv.C,e,t,n,i,r,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,n,i,r,o):this._ctx.bezierCurveTo(e,t,n,i,r,o)),this._xi=r,this._yi=o,this},quadraticCurveTo:function(e,t,n,i){return this.addData(Sv.Q,e,t,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,n,i):this._ctx.quadraticCurveTo(e,t,n,i)),this._xi=n,this._yi=i,this},arc:function(e,t,n,i,r,o){return this.addData(Sv.A,e,t,n,n,i,r-i,0,o?0:1),this._ctx&&this._ctx.arc(e,t,n,i,r,o),this._xi=Dv(r)*n+e,this._yi=Nv(r)*n+e,this},arcTo:function(e,t,n,i,r){return this._ctx&&this._ctx.arcTo(e,t,n,i,r),this},rect:function(e,t,n,i){return this._ctx&&this._ctx.rect(e,t,n,i),this.addData(Sv.R,e,t,n,i),this},closePath:function(){this.addData(Sv.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,n),e.closePath()),this._xi=t,this._yi=n,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,n=0;n<e.length;n++)t+=e[n];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;this.data&&this.data.length==t||!Ev||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,i=this._len,r=0;r<t;r++)n+=e[r].len();for(Ev&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n)),r=0;r<t;r++)for(var o=e[r].data,a=0;a<o.length;a++)this.data[i++]=o[a];this._len=i},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var n=0;n<arguments.length;n++)t[this._len++]=arguments[n];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var n,i,r=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,l=this._xi,u=this._yi,c=e-l,d=t-u,h=Pv(c*c+d*d),f=l,p=u,g=a.length;for(o<0&&(o=r+o),f-=(o%=r)*(c/=h),p-=o*(d/=h);c>0&&f<=e||c<0&&f>=e||0==c&&(d>0&&p<=t||d<0&&p>=t);)f+=c*(n=a[i=this._dashIdx]),p+=d*n,this._dashIdx=(i+1)%g,c>0&&f<l||c<0&&f>l||d>0&&p<u||d<0&&p>u||s[i%2?\"moveTo\":\"lineTo\"](c>=0?Av(f,e):Iv(f,e),d>=0?Av(p,t):Iv(p,t));this._dashOffset=-Pv((c=f-e)*c+(d=p-t)*d)},_dashedBezierTo:function(e,t,n,i,r,o){var a,s,l,u,c,d=this._dashSum,h=this._dashOffset,f=this._lineDash,p=this._ctx,g=this._xi,m=this._yi,v=Sn,y=0,x=this._dashIdx,b=f.length,_=0;for(h<0&&(h=d+h),h%=d,a=0;a<1;a+=.1)s=v(g,e,n,r,a+.1)-v(g,e,n,r,a),l=v(m,t,i,o,a+.1)-v(m,t,i,o,a),y+=Pv(s*s+l*l);for(;x<b&&!((_+=f[x])>h);x++);for(a=(_-h)/y;a<=1;)u=v(g,e,n,r,a),c=v(m,t,i,o,a),x%2?p.moveTo(u,c):p.lineTo(u,c),a+=f[x]/y,x=(x+1)%b;x%2!=0&&p.lineTo(r,o),this._dashOffset=-Pv((s=r-u)*s+(l=o-c)*l)},_dashedQuadraticTo:function(e,t,n,i){var r=n,o=i;n=(n+2*e)/3,i=(i+2*t)/3,this._dashedBezierTo(e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,n,i,r,o)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,Ev&&(this.data=new Float32Array(e)))},getBoundingRect:function(){Cv[0]=Cv[1]=Tv[0]=Tv[1]=Number.MAX_VALUE,Mv[0]=Mv[1]=kv[0]=kv[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,n=0,i=0,r=0,o=0;o<e.length;){var a=e[o++];switch(1==o&&(i=t=e[o],r=n=e[o+1]),a){case Sv.M:t=i=e[o++],n=r=e[o++],Tv[0]=i,Tv[1]=r,kv[0]=i,kv[1]=r;break;case Sv.L:Pn(t,n,e[o],e[o+1],Tv,kv),t=e[o++],n=e[o++];break;case Sv.C:Ln(t,n,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],Tv,kv),t=e[o++],n=e[o++];break;case Sv.Q:En(t,n,e[o++],e[o++],e[o],e[o+1],Tv,kv),t=e[o++],n=e[o++];break;case Sv.A:var s=e[o++],l=e[o++],u=e[o++],c=e[o++],d=e[o++],h=e[o++]+d,f=(o++,1-e[o++]);1==o&&(i=Dv(d)*u+s,r=Nv(d)*c+l),Rn(s,l,u,c,d,h,f,Tv,kv),t=Dv(h)*u+s,n=Nv(h)*c+l;break;case Sv.R:Pn(i=t=e[o++],r=n=e[o++],i+e[o++],r+e[o++],Tv,kv);break;case Sv.Z:t=i,n=r}ee(Cv,Cv,Tv),te(Mv,Mv,kv)}return 0===o&&(Cv[0]=Cv[1]=Mv[0]=Mv[1]=0),new Ze(Cv[0],Cv[1],Mv[0]-Cv[0],Mv[1]-Cv[1])},rebuildPath:function(e){for(var t,n,i,r,o,a,s=this.data,l=this._ux,u=this._uy,c=this._len,d=0;d<c;){var h=s[d++];switch(1==d&&(t=i=s[d],n=r=s[d+1]),h){case Sv.M:t=i=s[d++],n=r=s[d++],e.moveTo(i,r);break;case Sv.L:o=s[d++],a=s[d++],(Lv(o-i)>l||Lv(a-r)>u||d===c-1)&&(e.lineTo(o,a),i=o,r=a);break;case Sv.C:e.bezierCurveTo(s[d++],s[d++],s[d++],s[d++],s[d++],s[d++]),i=s[d-2],r=s[d-1];break;case Sv.Q:e.quadraticCurveTo(s[d++],s[d++],s[d++],s[d++]),i=s[d-2],r=s[d-1];break;case Sv.A:var f=s[d++],p=s[d++],g=s[d++],m=s[d++],v=s[d++],y=s[d++],x=s[d++],b=s[d++],_=g>m?g:m,w=g>m?1:g/m,S=g>m?m/g:1,C=v+y;Math.abs(g-m)>.001?(e.translate(f,p),e.rotate(x),e.scale(w,S),e.arc(0,0,_,v,C,1-b),e.scale(1/w,1/S),e.rotate(-x),e.translate(-f,-p)):e.arc(f,p,_,v,C,1-b),1==d&&(t=Dv(v)*g+f,n=Nv(v)*m+p),i=Dv(C)*g+f,r=Nv(C)*m+p;break;case Sv.R:t=i=s[d],n=r=s[d+1],e.rect(s[d++],s[d++],s[d++],s[d++]);break;case Sv.Z:e.closePath(),i=t,r=n}}}},Rv.CMD=Sv;var Ov=2*Math.PI,Bv=2*Math.PI,zv=Rv.CMD,Fv=2*Math.PI,Vv=1e-4,Hv=[-1,-1,-1],Wv=[-1,-1],Gv=cm.prototype.getCanvasPattern,Uv=Math.abs,jv=new Rv(!0);Zn.prototype={constructor:Zn,type:\"path\",__dirtyPath:!0,strokeContainThreshold:5,brush:function(e,t){var n,i=this.style,r=this.path||jv,o=i.hasStroke(),a=i.hasFill(),s=i.fill,l=i.stroke,u=a&&!!s.colorStops,c=o&&!!l.colorStops,d=a&&!!s.image,h=o&&!!l.image;i.bind(e,this,t),this.setTransform(e),this.__dirty&&(u&&(n=n||this.getBoundingRect(),this._fillGradient=i.getGradient(e,s,n)),c&&(n=n||this.getBoundingRect(),this._strokeGradient=i.getGradient(e,l,n))),u?e.fillStyle=this._fillGradient:d&&(e.fillStyle=Gv.call(s,e)),c?e.strokeStyle=this._strokeGradient:h&&(e.strokeStyle=Gv.call(l,e));var f=i.lineDash,p=i.lineDashOffset,g=!!e.setLineDash,m=this.getGlobalScale();r.setScale(m[0],m[1]),this.__dirtyPath||f&&!g&&o?(r.beginPath(e),f&&!g&&(r.setLineDash(f),r.setLineDashOffset(p)),this.buildPath(r,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),a&&r.fill(e),f&&g&&(e.setLineDash(f),e.lineDashOffset=p),o&&r.stroke(e),f&&g&&e.setLineDash([]),null!=i.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,n){},createPathProxy:function(){this.path=new Rv},getBoundingRect:function(){var e=this._rect,t=this.style,n=!e;if(n){var i=this.path;i||(i=this.path=new Rv),this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),e=i.getBoundingRect()}if(this._rect=e,t.hasStroke()){var r=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||n){r.copy(e);var o=t.lineWidth,a=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),a>1e-10&&(r.width+=o/a,r.height+=o/a,r.x-=o/a/2,r.y-=o/a/2)}return r}return e},contain:function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect(),r=this.style;if(i.contain(e=n[0],t=n[1])){var o=this.path.data;if(r.hasStroke()){var a=r.lineWidth,s=r.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(r.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),function(e,t,n,i){return qn(e,t,!0,n,i)}(o,a/s,e,t)))return!0}if(r.hasFill())return function(e,t,n){return qn(e,0,!1,t,n)}(o,e,t)}return!1},dirty:function(e){null==e&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate(\"shape\",e)},attrKV:function(e,t){\"shape\"===e?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):Vt.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var n=this.shape;if(n){if(_(e))for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);else n[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&Uv(e[0]-1)>1e-10&&Uv(e[3]-1)>1e-10?Math.sqrt(Uv(e[0]*e[3]-e[2]*e[1])):1}},Zn.extend=function(e){var t=function(t){Zn.call(this,t),e.style&&this.style.extendFrom(e.style,!1);var n=e.shape;if(n){this.shape=this.shape||{};var i=this.shape;for(var r in n)!i.hasOwnProperty(r)&&n.hasOwnProperty(r)&&(i[r]=n[r])}e.init&&e.init.call(this,t)};for(var n in u(t,Zn),e)\"style\"!==n&&\"shape\"!==n&&(t.prototype[n]=e[n]);return t},u(Zn,Vt);var qv=Rv.CMD,Zv=[[],[],[]],Yv=Math.sqrt,Xv=Math.atan2,$v=function(e,t){var n,i,r,o,a,s,l=e.data,u=qv.M,c=qv.C,d=qv.L,h=qv.R,f=qv.A,p=qv.Q;for(r=0,o=0;r<l.length;){switch(n=l[r++],o=r,i=0,n){case u:case d:i=1;break;case c:i=3;break;case p:i=2;break;case f:var g=t[4],m=t[5],v=Yv(t[0]*t[0]+t[1]*t[1]),y=Yv(t[2]*t[2]+t[3]*t[3]),x=Xv(-t[1]/y,t[0]/v);l[r]*=v,l[r++]+=g,l[r]*=y,l[r++]+=m,l[r++]*=v,l[r++]*=y,l[r++]+=x,l[r++]+=x,o=r+=2;break;case h:s[0]=l[r++],s[1]=l[r++],Q(s,s,t),l[o++]=s[0],l[o++]=s[1],s[0]+=l[r++],s[1]+=l[r++],Q(s,s,t),l[o++]=s[0],l[o++]=s[1]}for(a=0;a<i;a++)(s=Zv[a])[0]=l[r++],s[1]=l[r++],Q(s,s,t),l[o++]=s[0],l[o++]=s[1]}},Kv=[\"m\",\"M\",\"l\",\"L\",\"v\",\"V\",\"h\",\"H\",\"z\",\"Z\",\"c\",\"C\",\"q\",\"Q\",\"t\",\"T\",\"s\",\"S\",\"a\",\"A\"],Jv=Math.sqrt,Qv=Math.sin,ey=Math.cos,ty=Math.PI,ny=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},iy=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(ny(e)*ny(t))},ry=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(iy(e,t))},oy=function(e){Vt.call(this,e)};oy.prototype={constructor:oy,type:\"text\",brush:function(e,t){var n=this.style;this.__dirty&&Mt(n),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var i=n.text;null!=i&&(i+=\"\"),n.bind(e,this,t),Ft(i,n)&&(this.setTransform(e),kt(this,e,i,n),this.restoreTransform(e))},getBoundingRect:function(){var e=this.style;if(this.__dirty&&Mt(e),!this._rect){var t=e.text;null!=t?t+=\"\":t=\"\";var n=ct(e.text+\"\",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.rich);if(n.x+=e.x||0,n.y+=e.y||0,Rt(e.textStroke,e.textStrokeWidth)){var i=e.textStrokeWidth;n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i}this._rect=n}return this._rect}},u(oy,Vt);var ay=Zn.extend({type:\"circle\",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,n){n&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}}),sy=[[\"shadowBlur\",0],[\"shadowColor\",\"#000\"],[\"shadowOffsetX\",0],[\"shadowOffsetY\",0]],ly=function(e){return ig.browser.ie&&ig.browser.version>=11?function(){var t,n=this.__clipPaths,i=this.style;if(n)for(var r=0;r<n.length;r++){var o=n[r],a=o&&o.shape,s=o&&o.type;if(a&&(\"sector\"===s&&a.startAngle===a.endAngle||\"rect\"===s&&(!a.width||!a.height))){for(l=0;l<sy.length;l++)sy[l][2]=i[sy[l][0]],i[sy[l][0]]=sy[l][1];t=!0;break}}if(e.apply(this,arguments),t)for(var l=0;l<sy.length;l++)i[sy[l][0]]=sy[l][2]}:e},uy=Zn.extend({type:\"sector\",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:ly(Zn.prototype.brush),buildPath:function(e,t){var n=t.cx,i=t.cy,r=Math.max(t.r0||0,0),o=Math.max(t.r,0),a=t.startAngle,s=t.endAngle,l=t.clockwise,u=Math.cos(a),c=Math.sin(a);e.moveTo(u*r+n,c*r+i),e.lineTo(u*o+n,c*o+i),e.arc(n,i,o,a,s,!l),e.lineTo(Math.cos(s)*r+n,Math.sin(s)*r+i),0!==r&&e.arc(n,i,r,s,a,l),e.closePath()}}),cy=Zn.extend({type:\"ring\",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=2*Math.PI;e.moveTo(n+t.r,i),e.arc(n,i,t.r,0,r,!1),e.moveTo(n+t.r0,i),e.arc(n,i,t.r0,0,r,!0)}}),dy=function(e,t){for(var n=e.length,i=[],r=0,o=1;o<n;o++)r+=$(e[o-1],e[o]);var a=r/2;for(a=a<n?n:a,o=0;o<a;o++){var s,l,u,c=o/(a-1)*(t?n:n-1),d=Math.floor(c),h=c-d,f=e[d%n];t?(s=e[(d-1+n)%n],l=e[(d+1)%n],u=e[(d+2)%n]):(s=e[0===d?d:d-1],l=e[d>n-2?n-1:d+1],u=e[d>n-3?n-1:d+2]);var p=h*h,g=h*p;i.push([$n(s[0],f[0],l[0],u[0],h,p,g),$n(s[1],f[1],l[1],u[1],h,p,g)])}return i},hy=function(e,t,n,i){var r,o,a,s,l=[],u=[],c=[],d=[];if(i){a=[1/0,1/0],s=[-1/0,-1/0];for(var h=0,f=e.length;h<f;h++)ee(a,a,e[h]),te(s,s,e[h]);ee(a,a,i[0]),te(s,s,i[1])}for(h=0,f=e.length;h<f;h++){var p=e[h];if(n)r=e[h?h-1:f-1],o=e[(h+1)%f];else{if(0===h||h===f-1){l.push(H(e[h]));continue}r=e[h-1],o=e[h+1]}j(u,o,r),Y(u,u,t);var g=$(p,r),m=$(p,o),v=g+m;0!==v&&(g/=v,m/=v),Y(c,u,-g),Y(d,u,m);var y=G([],p,c),x=G([],p,d);i&&(te(y,y,a),ee(y,y,s),te(x,x,a),ee(x,x,s)),l.push(y),l.push(x)}return n&&l.push(l.shift()),l},fy=Zn.extend({type:\"polygon\",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){Kn(e,t,!0)}}),py=Zn.extend({type:\"polyline\",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:\"#000\",fill:null},buildPath:function(e,t){Kn(e,t,!1)}}),gy=Zn.extend({type:\"rect\",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,r=t.width,o=t.height;t.r?Ct(e,t):e.rect(n,i,r,o),e.closePath()}}),my=Zn.extend({type:\"line\",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:\"#000\",fill:null},buildPath:function(e,t){var n=t.x1,i=t.y1,r=t.x2,o=t.y2,a=t.percent;0!==a&&(e.moveTo(n,i),a<1&&(r=n*(1-a)+r*a,o=i*(1-a)+o*a),e.lineTo(r,o))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}}),vy=[],yy=Zn.extend({type:\"bezier-curve\",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:\"#000\",fill:null},buildPath:function(e,t){var n=t.x1,i=t.y1,r=t.x2,o=t.y2,a=t.cpx1,s=t.cpy1,l=t.cpx2,u=t.cpy2,c=t.percent;0!==c&&(e.moveTo(n,i),null==l||null==u?(c<1&&(Dn(n,a,r,c,vy),a=vy[1],r=vy[2],Dn(i,s,o,c,vy),s=vy[1],o=vy[2]),e.quadraticCurveTo(a,s,r,o)):(c<1&&(Tn(n,a,l,r,c,vy),a=vy[1],l=vy[2],r=vy[3],Tn(i,s,u,o,c,vy),s=vy[1],u=vy[2],o=vy[3]),e.bezierCurveTo(a,s,l,u,r,o)))},pointAt:function(e){return Jn(this.shape,e,!1)},tangentAt:function(e){var t=Jn(this.shape,e,!0);return X(t,t)}}),xy=Zn.extend({type:\"arc\",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:\"#000\",fill:null},buildPath:function(e,t){var n=t.cx,i=t.cy,r=Math.max(t.r,0),o=t.startAngle,a=t.endAngle,s=t.clockwise,l=Math.cos(o),u=Math.sin(o);e.moveTo(l*r+n,u*r+i),e.arc(n,i,r,o,a,!s)}}),by=Zn.extend({type:\"compound\",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,n=0;n<t.length;n++)e=e||t[n].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1])},buildPath:function(e,t){for(var n=t.paths||[],i=0;i<n.length;i++)n[i].buildPath(e,n[i].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Zn.prototype.getBoundingRect.call(this)}}),_y=function(e){this.colorStops=e||[]};_y.prototype={constructor:_y,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}};var wy=function(e,t,n,i,r,o){this.x=null==e?0:e,this.y=null==t?0:t,this.x2=null==n?1:n,this.y2=null==i?0:i,this.type=\"linear\",this.global=o||!1,_y.call(this,r)};wy.prototype={constructor:wy},u(wy,_y);var Sy=function(e,t,n,i,r){this.x=null==e?.5:e,this.y=null==t?.5:t,this.r=null==n?.5:n,this.type=\"radial\",this.global=r||!1,_y.call(this,i)};Sy.prototype={constructor:Sy},u(Sy,_y),Qn.prototype.incremental=!0,Qn.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},Qn.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()},Qn.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},Qn.prototype.eachPendingDisplayable=function(e){for(t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(var t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},Qn.prototype.update=function(){for(this.updateTransform(),e=this._cursor;e<this._displayables.length;e++)(t=this._displayables[e]).parent=this,t.update(),t.parent=null;for(var e=0;e<this._temporaryDisplayables.length;e++){var t=this._temporaryDisplayables[e];t.parent=this,t.update(),t.parent=null}},Qn.prototype.brush=function(e,t){for(n=this._cursor;n<this._displayables.length;n++)(i=this._temporaryDisplayables[n]).beforeBrush&&i.beforeBrush(e),i.brush(e,n===this._cursor?null:this._displayables[n-1]),i.afterBrush&&i.afterBrush(e);this._cursor=n;for(var n=0;n<this._temporaryDisplayables.length;n++){var i=this._temporaryDisplayables[n];i.beforeBrush&&i.beforeBrush(e),i.brush(e,0===n?null:this._temporaryDisplayables[n-1]),i.afterBrush&&i.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var Cy=[];Qn.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Ze(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(Cy)),e.union(i)}this._rect=e}return this._rect},Qn.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++)if(this._displayables[i].contain(e,t))return!0;return!1},u(Qn,Vt);var My=Math.round,Ty=Math.max,ky=Math.min,Ay={},Iy=function(e,t){for(var n=[],i=e.length,r=0;r<i;r++){var o=e[r];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),n.push(o.path)}var a=new Zn(t);return a.createPathProxy(),a.buildPath=function(e){e.appendPath(n);var t=e.getContext();t&&e.rebuildPath(t)},a},Dy=(Object.freeze||Object)({extendShape:ei,extendPath:function(e,t){return function(e,t){return Zn.extend(Xn(e,t))}(e,t)},makePath:ti,makeImage:ni,mergePath:Iy,resizePath:ri,subPixelOptimizeLine:oi,subPixelOptimizeRect:ai,subPixelOptimize:si,setHoverStyle:bi,setLabelStyle:_i,setTextStyle:wi,setText:function(e,t,n){var i,r={isRectText:!0};!1===n?i=!0:r.autoColor=n,Si(e,t,r,i),e.host&&e.host.dirty&&e.host.dirty(!1)},getFont:ki,updateProps:Ii,initProps:Di,getTransform:Ni,applyTransform:Pi,transformDirection:Li,groupTransition:Ei,clipPointsByRect:Ri,clipRectByRect:function(e,t){var n=Ty(e.x,t.x),i=ky(e.x+e.width,t.x+t.width),r=Ty(e.y,t.y),o=ky(e.y+e.height,t.y+t.height);if(i>=n&&o>=r)return{x:n,y:r,width:i-n,height:o-r}},createIcon:Oi,Group:Qg,Image:Ht,Text:oy,Circle:ay,Sector:uy,Ring:cy,Polygon:fy,Polyline:py,Rect:gy,Line:my,BezierCurve:yy,Arc:xy,IncrementalDisplayable:Qn,CompoundPath:by,LinearGradient:wy,RadialGradient:Sy,BoundingRect:Ze}),Ny=[\"textStyle\",\"color\"],Py={getTextColor:function(e){var t=this.ecModel;return this.getShallow(\"color\")||(!e&&t?t.get(Ny):null)},getFont:function(){return ki({fontStyle:this.getShallow(\"fontStyle\"),fontWeight:this.getShallow(\"fontWeight\"),fontSize:this.getShallow(\"fontSize\"),fontFamily:this.getShallow(\"fontFamily\")},this.ecModel)},getTextRect:function(e){return ct(e,this.getFont(),this.getShallow(\"align\"),this.getShallow(\"verticalAlign\")||this.getShallow(\"baseline\"),this.getShallow(\"padding\"),this.getShallow(\"rich\"),this.getShallow(\"truncateText\"))}},Ly=Qm([[\"fill\",\"color\"],[\"stroke\",\"borderColor\"],[\"lineWidth\",\"borderWidth\"],[\"opacity\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"],[\"textPosition\"],[\"textAlign\"]]),Ey={getItemStyle:function(e,t){var n=Ly(this,e,t),i=this.getBorderLineDash();return i&&(n.lineDash=i),n},getBorderLineDash:function(){var e=this.get(\"borderType\");return\"solid\"===e||null==e?null:\"dashed\"===e?[5,5]:[1,1]}},Ry=c,Oy=dn();Bi.prototype={constructor:Bi,init:null,mergeOption:function(e){i(this.option,e,!0)},get:function(e,t){return null==e?this.option:zi(this.option,this.parsePath(e),!t&&Fi(this,e))},getShallow:function(e,t){var n=this.option,i=null==n?n:n[e],r=!t&&Fi(this,e);return null==i&&r&&(i=r.getShallow(e)),i},getModel:function(e,t){var n;return new Bi(null==e?this.option:zi(this.option,e=this.parsePath(e)),t=t||(n=Fi(this,e))&&n.getModel(e),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(n(this.option))},setReadOnly:function(e){},parsePath:function(e){return\"string\"==typeof e&&(e=e.split(\".\")),e},customizeGetParent:function(e){Oy(this).getParent=e},isAnimationEnabled:function(){if(!ig.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},mn(Bi),vn(Bi),Ry(Bi,tv),Ry(Bi,iv),Ry(Bi,Py),Ry(Bi,Ey);var By=0,zy=1e-4,Fy=9007199254740991,Vy=/^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d\\d)(?::(\\d\\d)(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?$/,Hy=(Object.freeze||Object)({linearMap:Hi,parsePercent:Wi,round:Gi,asc:Ui,getPrecision:ji,getPrecisionSafe:qi,getPixelPrecision:Zi,getPercentWithPrecision:Yi,MAX_SAFE_INTEGER:Fy,remRadian:Xi,isRadianAroundZero:$i,parseDate:Ki,quantity:Ji,nice:er,reformIntervals:tr,isNumeric:nr}),Wy=D,Gy=[\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\"],Uy=function(e,t){return\"{\"+e+(null==t?\"\":t)+\"}\"},jy=function(e){return e<10?\"0\"+e:e},qy=pt,Zy=(Object.freeze||Object)({addCommas:ir,toCamelCase:rr,normalizeCssArray:Wy,encodeHTML:or,formatTpl:ar,formatTplSimple:sr,getTooltipMarker:lr,formatTime:ur,capitalFirst:cr,truncateText:qy,getTextRect:ct}),Yy=h,Xy=[\"left\",\"right\",\"top\",\"bottom\",\"width\",\"height\"],$y=[[\"width\",\"left\",\"right\"],[\"height\",\"top\",\"bottom\"]],Ky=dr,Jy=(v(dr,\"vertical\"),v(dr,\"horizontal\"),{getBoxLayoutParams:function(){return{left:this.get(\"left\"),top:this.get(\"top\"),right:this.get(\"right\"),bottom:this.get(\"bottom\"),width:this.get(\"width\"),height:this.get(\"height\")}}}),Qy=dn(),ex=Bi.extend({type:\"component\",id:\"\",name:\"\",mainType:\"\",subType:\"\",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,n,i){Bi.call(this,e,t,n,i),this.uid=Vi(\"ec_cpt_model\")},init:function(e,t,n,i){this.mergeDefaultAndTheme(e,n)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,r=n?gr(e):{};i(e,t.getTheme().get(this.mainType)),i(e,this.getDefaultOption()),n&&pr(e,r,n)},mergeOption:function(e,t){i(this.option,e,!0);var n=this.layoutMode;n&&pr(this.option,e,n)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=Qy(this);if(!e.defaultOption){for(var t=[],n=this.constructor;n;){var r=n.prototype.defaultOption;r&&t.push(r),n=n.superClass}for(var o={},a=t.length-1;a>=0;a--)o=i(o,t[a],!0);e.defaultOption=o}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+\"Index\",!0),id:this.get(e+\"Id\",!0)})}});bn(ex,{registerWhenExtend:!0}),function(e){var t={};e.registerSubTypeDefaulter=function(e,n){e=gn(e),t[e.main]=n},e.determineSubType=function(n,i){var r=i.type;if(!r){var o=gn(n).main;e.hasSubTypes(n)&&t[o]&&(r=t[o](i))}return r}}(ex),function(e,t){function n(e){var t={},n=[];return h(e,function(r){var o=i(t,r),a=function(e,t){var n=[];return h(e,function(e){l(t,e)>=0&&n.push(e)}),n}(o.originalDeps=function(e){var t=[];return h(ex.getClassesByMainType(e),function(e){t=t.concat(e.prototype.dependencies||[])}),t=f(t,function(e){return gn(e).main}),\"dataset\"!==e&&l(t,\"dataset\")<=0&&t.unshift(\"dataset\"),t}(r),e);o.entryCount=a.length,0===o.entryCount&&n.push(r),h(a,function(e){l(o.predecessor,e)<0&&o.predecessor.push(e);var n=i(t,e);l(n.successor,e)<0&&n.successor.push(r)})}),{graph:t,noEntryList:n}}function i(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}e.topologicalTravel=function(e,t,i,r){function o(e){s[e].entryCount--,0===s[e].entryCount&&l.push(e)}if(e.length){var a=n(t),s=a.graph,l=a.noEntryList,u={};for(h(e,function(e){u[e]=!0});l.length;){var c=l.pop(),d=s[c],f=!!u[c];f&&(i.call(r,c,d.originalDeps.slice()),delete u[c]),h(d.successor,f?function(e){u[e]=!0,o(e)}:o)}h(u,function(){throw new Error(\"Circle dependency may exists\")})}}}(ex),c(ex,Jy);var tx=\"\";\"undefined\"!=typeof navigator&&(tx=navigator.platform||\"\");var nx={color:[\"#c23531\",\"#2f4554\",\"#61a0a8\",\"#d48265\",\"#91c7ae\",\"#749f83\",\"#ca8622\",\"#bda29a\",\"#6e7074\",\"#546570\",\"#c4ccd3\"],gradientColor:[\"#f6efa6\",\"#d88273\",\"#bf444c\"],textStyle:{fontFamily:tx.match(/^Win/)?\"Microsoft YaHei\":\"sans-serif\",fontSize:12,fontStyle:\"normal\",fontWeight:\"normal\"},blendMode:null,animation:\"auto\",animationDuration:1e3,animationDurationUpdate:300,animationEasing:\"exponentialOut\",animationEasingUpdate:\"cubicOut\",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},ix=dn(),rx={clearColorPalette:function(){ix(this).colorIdx=0,ix(this).colorNameMap={}},getColorFromPalette:function(e,t,n){var i=ix(t=t||this),r=i.colorIdx||0,o=i.colorNameMap=i.colorNameMap||{};if(o.hasOwnProperty(e))return o[e];var a=rn(this.get(\"color\",!0)),s=this.get(\"colorLayer\",!0),l=null!=n&&s?function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i].length>t)return e[i];return e[n-1]}(s,n):a;if((l=l||a)&&l.length){var u=l[r];return e&&(o[e]=u),i.colorIdx=(r+1)%l.length,u}}},ox={cartesian2d:function(e,t,n,i){var r=e.getReferringComponents(\"xAxis\")[0],o=e.getReferringComponents(\"yAxis\")[0];t.coordSysDims=[\"x\",\"y\"],n.set(\"x\",r),n.set(\"y\",o),yr(r)&&(i.set(\"x\",r),t.firstCategoryDimIndex=0),yr(o)&&(i.set(\"y\",o),t.firstCategoryDimIndex=1)},singleAxis:function(e,t,n,i){var r=e.getReferringComponents(\"singleAxis\")[0];t.coordSysDims=[\"single\"],n.set(\"single\",r),yr(r)&&(i.set(\"single\",r),t.firstCategoryDimIndex=0)},polar:function(e,t,n,i){var r=e.getReferringComponents(\"polar\")[0],o=r.findAxisModel(\"radiusAxis\"),a=r.findAxisModel(\"angleAxis\");t.coordSysDims=[\"radius\",\"angle\"],n.set(\"radius\",o),n.set(\"angle\",a),yr(o)&&(i.set(\"radius\",o),t.firstCategoryDimIndex=0),yr(a)&&(i.set(\"angle\",a),t.firstCategoryDimIndex=1)},geo:function(e,t,n,i){t.coordSysDims=[\"lng\",\"lat\"]},parallel:function(e,t,n,i){var r=e.ecModel,o=r.getComponent(\"parallel\",e.get(\"parallelIndex\")),a=t.coordSysDims=o.dimensions.slice();h(o.parallelAxisIndex,function(e,o){var s=r.getComponent(\"parallelAxis\",e),l=a[o];n.set(l,s),yr(s)&&null==t.firstCategoryDimIndex&&(i.set(l,s),t.firstCategoryDimIndex=o)})}},ax=\"original\",sx=\"arrayRows\",lx=\"objectRows\",ux=\"keyedColumns\",cx=\"unknown\",dx=\"typedArray\",hx=\"column\",fx=\"row\";xr.seriesDataToSource=function(e){return new xr({data:e,sourceFormat:S(e)?dx:ax,fromDataset:!1})},vn(xr);var px=dn(),gx=\"\\0_ec_inner\",mx=Bi.extend({constructor:mx,init:function(e,t,n,i){n=n||{},this.option=null,this._theme=new Bi(n),this._optionManager=i},setOption:function(e,t){N(!(gx in e),\"please use chart.getOption()\"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,n=this._optionManager;if(!e||\"recreate\"===e){var i=n.mountOption(\"recreate\"===e);this.option&&\"recreate\"!==e?(this.restoreData(),this.mergeOption(i)):Mr.call(this,i),t=!0}if(\"timeline\"!==e&&\"media\"!==e||this.restoreData(),!e||\"recreate\"===e||\"timeline\"===e){var r=n.getTimelineOption(this);r&&(this.mergeOption(r),t=!0)}if(!e||\"recreate\"===e||\"media\"===e){var o=n.getMediaOption(this,this._api);o.length&&h(o,function(e){this.mergeOption(e,t=!0)},this)}return t},mergeOption:function(e){var t=this.option,r=this._componentsMap,a=[];(function(e){px(e).datasetMap=O()})(this),h(e,function(e,r){null!=e&&(ex.hasClass(r)?r&&a.push(r):t[r]=null==t[r]?n(e):i(t[r],e,!0))}),ex.topologicalTravel(a,ex.getAllClassMainTypes(),function(n,i){var a=rn(e[n]),s=sn(r.get(n),a);ln(s),h(s,function(e,t){var i=e.option;_(i)&&(e.keyInfo.mainType=n,e.keyInfo.subType=function(e,t,n){return t.type?t.type:n?n.subType:ex.determineSubType(e,t)}(n,i,e.exist))});var l=function(e,t){y(t)||(t=t?[t]:[]);var n={};return h(t,function(t){n[t]=(e.get(t)||[]).slice()}),n}(r,i);t[n]=[],r.set(n,[]),h(s,function(e,i){var a=e.exist,s=e.option;if(N(_(s)||a,\"Empty component definition\"),s){var u=ex.getClass(n,e.keyInfo.subType,!0);if(a&&a instanceof u)a.name=e.keyInfo.name,a.mergeOption(s,this),a.optionUpdated(s,!1);else{var c=o({dependentModels:l,componentIndex:i},e.keyInfo);o(a=new u(s,this,this,c),c),a.init(s,this,this,c),a.optionUpdated(null,!0)}}else a.mergeOption({},this),a.optionUpdated({},!1);r.get(n)[i]=a,t[n][i]=a.option},this),\"series\"===n&&Tr(this,r.get(\"series\"))},this),this._seriesIndicesMap=O(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=n(this.option);return h(e,function(t,n){if(ex.hasClass(n)){for(var i=(t=rn(t)).length-1;i>=0;i--)un(t[i])&&t.splice(i,1);e[n]=t}}),delete e[gx],e},getTheme:function(){return this._theme},getComponent:function(e,t){var n=this._componentsMap.get(e);if(n)return n[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var n,i=e.index,r=e.id,o=e.name,a=this._componentsMap.get(t);if(!a||!a.length)return[];if(null!=i)y(i)||(i=[i]),n=g(f(i,function(e){return a[e]}),function(e){return!!e});else if(null!=r){var s=y(r);n=g(a,function(e){return s&&l(r,e.id)>=0||!s&&e.id===r})}else if(null!=o){var u=y(o);n=g(a,function(e){return u&&l(o,e.name)>=0||!u&&e.name===o})}else n=a.slice();return kr(n,e)},findComponents:function(e){var t=e.mainType,n=function(e){var n=t+\"Index\",i=t+\"Id\",r=t+\"Name\";return!e||null==e[n]&&null==e[i]&&null==e[r]?null:{mainType:t,index:e[n],id:e[i],name:e[r]}}(e.query);return function(t){return e.filter?g(t,e.filter):t}(kr(n?this.queryComponents(n):this._componentsMap.get(t),e))},eachComponent:function(e,t,n){var i=this._componentsMap;\"function\"==typeof e?(n=t,t=e,i.each(function(e,i){h(e,function(e,r){t.call(n,i,e,r)})})):b(e)?h(i.get(e),t,n):_(e)&&h(this.findComponents(e),t,n)},getSeriesByName:function(e){return g(this._componentsMap.get(\"series\"),function(t){return t.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get(\"series\")[e]},getSeriesByType:function(e){return g(this._componentsMap.get(\"series\"),function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.get(\"series\").slice()},getSeriesCount:function(){return this._componentsMap.get(\"series\").length},eachSeries:function(e,t){h(this._seriesIndices,function(n){var i=this._componentsMap.get(\"series\")[n];e.call(t,i,n)},this)},eachRawSeries:function(e,t){h(this._componentsMap.get(\"series\"),e,t)},eachSeriesByType:function(e,t,n){h(this._seriesIndices,function(i){var r=this._componentsMap.get(\"series\")[i];r.subType===e&&t.call(n,r,i)},this)},eachRawSeriesByType:function(e,t,n){return h(this.getSeriesByType(e),t,n)},isSeriesFiltered:function(e){return null==this._seriesIndicesMap.get(e.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){Tr(this,g(this._componentsMap.get(\"series\"),e,t))},restoreData:function(e){var t=this._componentsMap;Tr(this,t.get(\"series\"));var n=[];t.each(function(e,t){n.push(t)}),ex.topologicalTravel(n,ex.getAllClassMainTypes(),function(n,i){h(t.get(n),function(t){(\"series\"!==n||!function(e,t){if(t){var n=t.seiresIndex,i=t.seriesId,r=t.seriesName;return null!=n&&e.componentIndex!==n||null!=i&&e.id!==i||null!=r&&e.name!==r}}(t,e))&&t.restoreData()})})}});c(mx,rx);var vx=[\"getDom\",\"getZr\",\"getWidth\",\"getHeight\",\"getDevicePixelRatio\",\"dispatchAction\",\"isDisposed\",\"on\",\"off\",\"getDataURL\",\"getConnectedDataURL\",\"getModel\",\"getOption\",\"getViewOfComponentModel\",\"getViewOfSeriesModel\"],yx={};Ir.prototype={constructor:Ir,create:function(e,t){var n=[];h(yx,function(i,r){var o=i.create(e,t);n=n.concat(o||[])}),this._coordinateSystems=n},update:function(e,t){h(this._coordinateSystems,function(n){n.update&&n.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Ir.register=function(e,t){yx[e]=t},Ir.get=function(e){return yx[e]};var xx=h,bx=n,_x=f,Sx=i,Cx=/^(min|max)?(.+)$/;Dr.prototype={constructor:Dr,setOption:function(e,t){e&&h(rn(e.series),function(e){e&&e.data&&S(e.data)&&L(e.data)}),e=bx(e,!0);var n=this._optionBackup,i=Nr.call(this,e,t,!n);this._newBaseOption=i.baseOption,n?(function(e,t){xx(t=t||{},function(t,n){if(null!=t){var i=e[n];if(ex.hasClass(n)){t=rn(t);var r=sn(i=rn(i),t);e[n]=_x(r,function(e){return e.option&&e.exist?Sx(e.exist,e.option,!0):e.exist||e.option})}else e[n]=Sx(i,t,!0)}})}(n.baseOption,i.baseOption),i.timelineOptions.length&&(n.timelineOptions=i.timelineOptions),i.mediaList.length&&(n.mediaList=i.mediaList),i.mediaDefault&&(n.mediaDefault=i.mediaDefault)):this._optionBackup=i},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=_x(t.timelineOptions,bx),this._mediaList=_x(t.mediaList,bx),this._mediaDefault=bx(t.mediaDefault),this._currentMediaIndices=[],bx(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,n=this._timelineOptions;if(n.length){var i=e.getComponent(\"timeline\");i&&(t=bx(n[i.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,r=this._mediaDefault,o=[],a=[];if(!i.length&&!r)return a;for(var s=0,l=i.length;s<l;s++)Pr(i[s].query,t,n)&&o.push(s);return!o.length&&r&&(o=[-1]),o.length&&!function(e,t){return e.join(\",\")===t.join(\",\")}(o,this._currentMediaIndices)&&(a=_x(o,function(e){return bx(-1===e?r.option:i[e].option)})),this._currentMediaIndices=o,a}};var Mx=h,Tx=_,kx=[\"areaStyle\",\"lineStyle\",\"nodeStyle\",\"linkStyle\",\"chordStyle\",\"label\",\"labelLine\"],Ax=[[\"x\",\"left\"],[\"y\",\"top\"],[\"x2\",\"right\"],[\"y2\",\"bottom\"]],Ix=[\"grid\",\"geo\",\"parallel\",\"legend\",\"toolbox\",\"title\",\"visualMap\",\"dataZoom\",\"timeline\"],Dx=function(e,t){(function(e,t){Mx(zr(e.series),function(e){Tx(e)&&function(e){if(Tx(e)){Lr(e),Rr(e),Or(e.label),Or(e.upperLabel),Or(e.edgeLabel),e.emphasis&&(Or(e.emphasis.label),Or(e.emphasis.upperLabel),Or(e.emphasis.edgeLabel));var t=e.markPoint;t&&(Lr(t),Br(t));var n=e.markLine;n&&(Lr(n),Br(n));var i=e.markArea;i&&Br(i);var r=e.data;if(\"graph\"===e.type){r=r||e.nodes;var o=e.links||e.edges;if(o&&!S(o))for(s=0;s<o.length;s++)Br(o[s]);h(e.categories,function(e){Rr(e)})}if(r&&!S(r))for(s=0;s<r.length;s++)Br(r[s]);if((t=e.markPoint)&&t.data)for(var a=t.data,s=0;s<a.length;s++)Br(a[s]);if((n=e.markLine)&&n.data){var l=n.data;for(s=0;s<l.length;s++)y(l[s])?(Br(l[s][0]),Br(l[s][1])):Br(l[s])}\"gauge\"===e.type?(Or(e),Or(e),Or(e)):\"treemap\"===e.type&&(Er(e.breadcrumb,\"itemStyle\"),h(e.levels,function(e){Rr(e)}))}}(e)});var n=[\"xAxis\",\"yAxis\",\"radiusAxis\",\"angleAxis\",\"singleAxis\",\"parallelAxis\",\"radar\"];t&&n.push(\"valueAxis\",\"categoryAxis\",\"logAxis\",\"timeAxis\"),Mx(n,function(t){Mx(zr(e[t]),function(e){e&&(Or(e),Or(e.axisPointer))})}),Mx(zr(e.parallel),function(e){var t=e&&e.parallelAxisDefault;Or(t),Or(t&&t.axisPointer)}),Mx(zr(e.calendar),function(e){Er(e,\"itemStyle\"),Or(e),Or(e),Or(e)}),Mx(zr(e.radar),function(e){Or(e)}),Mx(zr(e.geo),function(e){Tx(e)&&(Br(e),Mx(zr(e.regions),function(e){Br(e)}))}),Mx(zr(e.timeline),function(e){Br(e),Er(e,\"label\"),Er(e,\"itemStyle\"),Er(e,\"controlStyle\",!0),Er(e,\"checkpointStyle\");var t=e.data;y(t)&&h(t,function(e){_(e)&&(Er(e,\"label\"),Er(e,\"itemStyle\"))})}),Mx(zr(e.toolbox),function(e){Er(e,\"iconStyle\"),Mx(e.feature,function(e){Er(e,\"iconStyle\")})}),Or(Fr(e.axisPointer)),Or(Fr(e.tooltip).axisPointer)})(e,t),e.series=rn(e.series),h(e.series,function(e){if(_(e)){var t=e.type;if(\"pie\"!==t&&\"gauge\"!==t||null!=e.clockWise&&(e.clockwise=e.clockWise),\"gauge\"===t){var n=function(e,t){t=t.split(\",\");for(var n=e,i=0;i<t.length&&null!=(n=n&&n[t[i]]);i++);return n}(e,\"pointer.color\");null!=n&&function(e,t,n,i){t=t.split(\",\");for(var r,o=e,a=0;a<t.length-1;a++)null==o[r=t[a]]&&(o[r]={}),o=o[r];null==o[t[a]]&&(o[t[a]]=n)}(e,\"itemStyle.normal.color\",n)}Vr(e)}}),e.dataRange&&(e.visualMap=e.dataRange),h(Ix,function(t){var n=e[t];n&&(y(n)||(n=[n]),h(n,function(e){Vr(e)}))})},Nx=Hr.prototype;Nx.pure=!1,Nx.persistent=!0,Nx.getSource=function(){return this._source};var Px={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:Ur},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],n=this._data,i=0;i<n.length;i++){var r=n[i];t.push(r?r[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: \"row\".')}},objectRows:{pure:!0,count:Wr,getItem:Gr,appendData:Ur},keyedColumns:{pure:!0,count:function(){var e=this._data[this._source.dimensionsDefine[0].name];return e?e.length:0},getItem:function(e){for(var t=[],n=this._source.dimensionsDefine,i=0;i<n.length;i++){var r=this._data[n[i].name];t.push(r?r[e]:null)}return t},appendData:function(e){var t=this._data;h(e,function(e,n){for(var i=t[n]||(t[n]=[]),r=0;r<(e||[]).length;r++)i.push(e[r])})}},original:{count:Wr,getItem:Gr,appendData:Ur},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e){for(var t=[],n=this._dimSize*(e-=this._offset),i=0;i<this._dimSize;i++)t[i]=this._data[n+i];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}},Lx={arrayRows:jr,objectRows:function(e,t,n,i){return null!=n?e[i]:e},keyedColumns:jr,original:function(e,t,n,i){var r=an(e);return null!=n&&r instanceof Array?r[n]:r},typedArray:jr},Ex={arrayRows:qr,objectRows:function(e,t,n,i){return Zr(e[t],this._dimensionInfos[t])},keyedColumns:qr,original:function(e,t,n,i){var r=e&&(null==e.value?e:e.value);return!this._rawData.pure&&function(e){return jm(e)&&!(e instanceof Array)}(e)&&(this.hasItemOption=!0),Zr(r instanceof Array?r[i]:r,this._dimensionInfos[t])},typedArray:function(e,t,n,i){return e[i]}},Rx=/\\{@(.+?)\\}/g,Ox={getDataParams:function(e,t){var n=this.getData(t),i=this.getRawValue(e,t),r=n.getRawIndex(e),o=n.getName(e,!0),a=n.getRawDataItem(e),s=n.getItemVisual(e,\"color\");return{componentType:this.mainType,componentSubType:this.subType,seriesType:\"series\"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:o,dataIndex:r,data:a,dataType:t,value:i,color:s,marker:lr(s),$vars:[\"seriesName\",\"name\",\"value\"]}},getFormattedLabel:function(e,t,n,i,r){t=t||\"normal\";var o=this.getData(n),a=o.getItemModel(e),s=this.getDataParams(e,n);null!=i&&s.value instanceof Array&&(s.value=s.value[i]);var l=a.get(\"normal\"===t?[r||\"label\",\"formatter\"]:[t,r||\"label\",\"formatter\"]);return\"function\"==typeof l?(s.status=t,l(s)):\"string\"==typeof l?ar(l,s).replace(Rx,function(t,n){var i=n.length;return\"[\"===n.charAt(0)&&\"]\"===n.charAt(i-1)&&(n=+n.slice(1,i-1)),Yr(o,e,n)}):void 0},getRawValue:function(e,t){return Yr(this.getData(t),e)},formatTooltip:function(){}},Bx=Kr.prototype;Bx.perform=function(e){var t,n=this._upstream,i=e&&e.skip;if(this._dirty&&n){var r=this.context;r.data=r.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(t=this._plan(this.context)),(this._dirty||\"reset\"===t)&&(this._dirty=!1,function(e,t){e._dueIndex=e._outputDueEnd=e._dueEnd=0,e._settedOutputEnd=null,e._progress=!t&&e._reset&&e._reset(e.context);var n=e._downstream;n&&n.dirty()}(this,i));var o=e&&e.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var a=this._dueIndex,s=Math.min(null!=o?this._dueIndex+o:1/0,this._dueEnd);!i&&a<s&&this._progress({start:a,end:s},this.context),this._dueIndex=s,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:s}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},Bx.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},Bx.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},Bx.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},Bx.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},Bx.getUpstream=function(){return this._upstream},Bx.getDownstream=function(){return this._downstream},Bx.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};var zx=dn(),Fx=ex.extend({type:\"series.__base__\",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:\"itemStyle.color\",layoutMode:null,init:function(e,t,n,i){this.seriesIndex=this.componentIndex,this.dataTask=$r({count:Qr,reset:eo}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n),br(this);var r=this.getInitialData(e,n);no(r,this),this.dataTask.context.data=r,zx(this).dataBeforeProcessed=r,Jr(this)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,r=n?gr(e):{},o=this.subType;ex.hasClass(o)&&(o+=\"Series\"),i(e,t.getTheme().get(this.subType)),i(e,this.getDefaultOption()),on(e,\"label\",[\"show\"]),this.fillDataTextStyle(e.data),n&&pr(e,r,n)},mergeOption:function(e,t){e=i(this.option,e,!0),this.fillDataTextStyle(e.data);var n=this.layoutMode;n&&pr(this.option,e,n),br(this);var r=this.getInitialData(e,t);no(r,this),this.dataTask.dirty(),this.dataTask.context.data=r,zx(this).dataBeforeProcessed=r,Jr(this)},fillDataTextStyle:function(e){if(e)for(var t=[\"show\"],n=0;n<e.length;n++)e[n]&&e[n].label&&on(e[n],\"label\",t)},getInitialData:function(){},appendData:function(e){this.getRawData().appendData(e.data)},getData:function(e){var t=ro(this);if(t){var n=t.context.data;return null==e?n:n.getLinkedData(e)}return zx(this).data},setData:function(e){var t=ro(this);if(t){var n=t.context;n.data!==e&&t.isOverallFilter&&t.setOutputEnd(e.count()),n.outputData=e,t!==this.dataTask&&(n.data=e)}zx(this).data=e},getSource:function(){return function(e){return px(e).source}(this)},getRawData:function(){return zx(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,n){var i=this.getData(),r=i.mapDimension(\"defaultedTooltip\",!0),o=r.length,a=this.getRawValue(e),s=y(a),l=i.getItemVisual(e,\"color\");_(l)&&l.colorStops&&(l=(l.colorStops[0]||{}).color),l=l||\"transparent\";var u=o>1||s&&!o?function(n){function o(e,n){var r=i.getDimensionInfo(n);if(r&&!1!==r.otherDims.tooltip){var o=r.type,u=lr({color:l,type:\"subItem\"}),c=(a?u+or(r.displayName||\"-\")+\": \":\"\")+or(\"ordinal\"===o?e+\"\":\"time\"===o?t?\"\":ur(\"yyyy/MM/dd hh:mm:ss\",e):ir(e));c&&s.push(c)}}var a=p(n,function(e,t,n){var r=i.getDimensionInfo(n);return e|(r&&!1!==r.tooltip&&null!=r.displayName)},0),s=[];return r.length?h(r,function(t){o(Yr(i,e,t),t)}):h(n,o),(a?\"<br/>\":\"\")+s.join(a?\"<br/>\":\", \")}(a):function(e){return or(ir(e))}(o?Yr(i,e,r[0]):s?a[0]:a),c=lr(l),d=i.getName(e),f=this.name;return f===Zm&&(f=\"\"),f=f?or(f)+(t?\": \":\"<br/>\"):\"\",t?c+f+u:f+c+(d?or(d)+\": \"+u:u)},isAnimationEnabled:function(){if(ig.node)return!1;var e=this.getShallow(\"animation\");return e&&this.getData().count()>this.getShallow(\"animationThreshold\")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,n){var i=this.ecModel,r=rx.getColorFromPalette.call(this,e,t,n);return r||(r=i.getColorFromPalette(e,t,n)),r},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get(\"progressive\")},getProgressiveThreshold:function(){return this.get(\"progressiveThreshold\")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});c(Fx,Ox),c(Fx,rx);var Vx=function(){this.group=new Qg,this.uid=Vi(\"viewComponent\")};Vx.prototype={constructor:Vx,init:function(e,t){},render:function(e,t,n,i){},dispose:function(){}};var Hx=Vx.prototype;Hx.updateView=Hx.updateLayout=Hx.updateVisual=function(e,t,n,i){},mn(Vx),bn(Vx,{registerWhenExtend:!0});var Wx=function(){var e=dn();return function(t){var n=e(t),i=t.pipelineContext,r=n.large,o=n.incrementalRender,a=n.large=i.large,s=n.incrementalRender=i.incrementalRender;return(r^a||o^s)&&\"reset\"}},Gx=dn(),Ux=Wx(),jx=oo.prototype={type:\"chart\",init:function(e,t){},render:function(e,t,n,i){},highlight:function(e,t,n,i){so(e.getData(),i,\"emphasis\")},downplay:function(e,t,n,i){so(e.getData(),i,\"normal\")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null};jx.updateView=jx.updateLayout=jx.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},mn(oo),bn(oo,{registerWhenExtend:!0}),oo.markUpdateMethod=function(e,t){Gx(e).updateMethod=t};var qx=\"\\0__throttleOriginMethod\",Zx=\"\\0__throttleRate\",Yx=\"\\0__throttleType\",Xx={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),i=(e.visualColorAccessPath||\"itemStyle.color\").split(\".\"),r=e.get(i)||e.getColorFromPalette(e.get(\"name\"),null,t.getSeriesCount());if(n.setVisual(\"color\",r),!t.isSeriesFiltered(e))return\"function\"!=typeof r||r instanceof _y||n.each(function(t){n.setItemVisual(t,\"color\",r(e.getDataParams(t)))}),{dataEach:n.hasItemOption?function(e,t){var n=e.getItemModel(t).get(i,!0);null!=n&&e.setItemVisual(t,\"color\",n)}:null}}},$x={toolbox:{brush:{title:{rect:\"矩形选择\",polygon:\"圈选\",lineX:\"横向选择\",lineY:\"纵向选择\",keep:\"保持选择\",clear:\"清除选择\"}},dataView:{title:\"数据视图\",lang:[\"数据视图\",\"关闭\",\"刷新\"]},dataZoom:{title:{zoom:\"区域缩放\",back:\"区域缩放还原\"}},magicType:{title:{line:\"切换为折线图\",bar:\"切换为柱状图\",stack:\"切换为堆叠\",tiled:\"切换为平铺\"}},restore:{title:\"还原\"},saveAsImage:{title:\"保存为图片\",lang:[\"右键另存为图片\"]}},series:{typeNames:{pie:\"饼图\",bar:\"柱状图\",line:\"折线图\",scatter:\"散点图\",effectScatter:\"涟漪散点图\",radar:\"雷达图\",tree:\"树图\",treemap:\"矩形树图\",boxplot:\"箱型图\",candlestick:\"K线图\",k:\"K线图\",heatmap:\"热力图\",map:\"地图\",parallel:\"平行坐标图\",lines:\"线图\",graph:\"关系图\",sankey:\"桑基图\",funnel:\"漏斗图\",gauge:\"仪表盘图\",pictorialBar:\"象形柱图\",themeRiver:\"主题河流图\",sunburst:\"旭日图\"}},aria:{general:{withTitle:\"这是一个关于“{title}”的图表。\",withoutTitle:\"这是一个图表，\"},series:{single:{prefix:\"\",withName:\"图表类型是{seriesType}，表示{seriesName}。\",withoutName:\"图表类型是{seriesType}。\"},multiple:{prefix:\"它由{seriesCount}个图表系列组成。\",withName:\"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，\",withoutName:\"第{seriesId}个系列是一个{seriesType}，\",separator:{middle:\"；\",end:\"。\"}}},data:{allData:\"其数据是——\",partialData:\"其中，前{displayCnt}项是——\",withName:\"{name}的数据是{value}\",withoutName:\"{value}\",separator:{middle:\"，\",end:\"\"}}}},Kx=function(e,t){function n(e,t){if(\"string\"!=typeof e)return e;var n=e;return h(t,function(e,t){n=n.replace(new RegExp(\"\\\\{\\\\s*\"+t+\"\\\\s*\\\\}\",\"g\"),e)}),n}function i(e){var t=o.get(e);if(null==t){for(var n=e.split(\".\"),i=$x.aria,r=0;r<n.length;++r)i=i[n[r]];return i}return t}function r(e){return $x.series.typeNames[e]||\"自定义图\"}var o=t.getModel(\"aria\");if(o.get(\"show\"))if(o.get(\"description\"))e.setAttribute(\"aria-label\",o.get(\"description\"));else{var a=0;t.eachSeries(function(e,t){++a},this);var s,l=o.get(\"data.maxCount\")||10,u=o.get(\"series.maxCount\")||10,c=Math.min(a,u);if(!(a<1)){var d=function(){var e=t.getModel(\"title\").option;return e&&e.length&&(e=e[0]),e&&e.text}();s=d?n(i(\"general.withTitle\"),{title:d}):i(\"general.withoutTitle\");var f=[];s+=n(i(a>1?\"series.multiple.prefix\":\"series.single.prefix\"),{seriesCount:a}),t.eachSeries(function(e,t){if(t<c){var o,s=e.get(\"name\"),u=\"series.\"+(a>1?\"multiple\":\"single\")+\".\";o=n(o=i(s?u+\"withName\":u+\"withoutName\"),{seriesId:e.seriesIndex,seriesName:e.get(\"name\"),seriesType:r(e.subType)});var d=e.getData();window.data=d,d.count()>l?o+=n(i(\"data.partialData\"),{displayCnt:l}):o+=i(\"data.allData\");for(var h=[],p=0;p<d.count();p++)if(p<l){var g=d.getName(p),m=Yr(d,p);h.push(n(i(g?\"data.withName\":\"data.withoutName\"),{name:g,value:m}))}o+=h.join(i(\"data.separator.middle\"))+i(\"data.separator.end\"),f.push(o)}}),s+=f.join(i(\"series.multiple.separator.middle\"))+i(\"series.multiple.separator.end\"),e.setAttribute(\"aria-label\",s)}}},Jx=Math.PI,Qx=go.prototype;Qx.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context;return{step:!t&&n.progressiveEnabled&&(!i||i.incrementalRender)&&e.__idxInPipeline>n.bockIndex?n.step:null}}},Qx.getPipeline=function(e){return this._pipelineMap.get(e)},Qx.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),i=e.getData().count(),r=n.progressiveEnabled&&t.incrementalPrepareRender&&i>=n.threshold,o=e.get(\"large\")&&i>=e.get(\"largeThreshold\");e.pipelineContext=n.context={incrementalRender:r,large:o}},Qx.restorePipelines=function(e){var t=this,n=t._pipelineMap=O();e.eachSeries(function(e){var i=e.getProgressive(),r=e.uid;n.set(r,{id:r,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:i&&!(e.preventIncremental&&e.preventIncremental()),bockIndex:-1,step:i||700,count:0}),Mo(t,e,e.dataTask)})},Qx.prepareStageTasks=function(e,t){var n=this._stageTaskMap,i=this.ecInstance.getModel(),r=this.api;h(e,function(e){var t=n.get(e.uid)||n.set(e.uid,[]);e.reset&&function(e,t,n,i,r){function o(n){var o=n.uid,s=a.get(o)||a.set(o,$r({plan:_o,reset:wo,count:Co}));s.context={model:n,ecModel:i,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},Mo(e,n,s)}var a=n.seriesTaskMap||(n.seriesTaskMap=O()),s=t.seriesType,l=t.getTargetSeries;t.createOnAllSeries?i.eachRawSeries(o):s?i.eachRawSeriesByType(s,o):l&&l(i,r).each(o);var u=e._pipelineMap;a.each(function(e,t){u.get(t)||(e.dispose(),a.removeKey(t))})}(this,e,t,i,r),e.overallReset&&function(e,t,n,i,r){function o(t){var n=t.uid,i=s.get(n)||s.set(n,$r({reset:yo,onDirty:bo}));i.context={model:t,overallProgress:c,isOverallFilter:d},i.agent=a,i.__block=c,Mo(e,t,i)}var a=n.overallTask=n.overallTask||$r({reset:vo});a.context={ecModel:i,api:r,overallReset:t.overallReset,scheduler:e};var s=a.agentStubMap=a.agentStubMap||O(),l=t.seriesType,u=t.getTargetSeries,c=!0,d=t.isOverallFilter;l?i.eachRawSeriesByType(l,o):u?u(i,r).each(o):(c=!1,h(i.getSeries(),o));var f=e._pipelineMap;s.each(function(e,t){f.get(t)||(e.dispose(),s.removeKey(t))})}(this,e,t,i,r)},this)},Qx.prepareView=function(e,t,n,i){var r=e.renderTask,o=r.context;o.model=t,o.ecModel=n,o.api=i,r.__block=!e.incrementalPrepareRender,Mo(this,t,r)},Qx.performDataProcessorTasks=function(e,t,n){mo(this,e,t,n,{block:!0})},Qx.performVisualTasks=function(e,t,n,i){mo(this,e,t,n,i)},Qx.performSeriesTasks=function(e){var t;e.eachSeries(function(e){t|=e.dataTask.perform()}),this.unfinished|=t},Qx.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.bockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};var eb=Qx.updatePayload=function(e,t){\"remain\"!==t&&(e.context.payload=t)};go.wrapStageHandler=function(e,t){return x(e)&&(e={overallReset:e,seriesType:To(e)}),e.uid=Vi(\"stageHandler\"),t&&(e.visualType=t),e};var tb,nb={},ib={};ko(nb,mx),ko(ib,Ar),nb.eachSeriesByType=nb.eachRawSeriesByType=function(e){tb=e},nb.eachComponent=function(e){\"series\"===e.mainType&&e.subType&&(tb=e.subType)};var rb=[\"#37A2DA\",\"#32C5E9\",\"#67E0E3\",\"#9FE6B8\",\"#FFDB5C\",\"#ff9f7f\",\"#fb7293\",\"#E062AE\",\"#E690D1\",\"#e7bcf3\",\"#9d96f5\",\"#8378EA\",\"#96BFFF\"],ob={color:rb,colorLayer:[[\"#37A2DA\",\"#ffd85c\",\"#fd7b5f\"],[\"#37A2DA\",\"#67E0E3\",\"#FFDB5C\",\"#ff9f7f\",\"#E062AE\",\"#9d96f5\"],[\"#37A2DA\",\"#32C5E9\",\"#9FE6B8\",\"#FFDB5C\",\"#ff9f7f\",\"#fb7293\",\"#e7bcf3\",\"#8378EA\",\"#96BFFF\"],rb]},ab=[\"#dd6b66\",\"#759aa0\",\"#e69d87\",\"#8dc1a9\",\"#ea7e53\",\"#eedd78\",\"#73a373\",\"#73b9bc\",\"#7289ab\",\"#91ca8c\",\"#f49f42\"],sb={color:ab,backgroundColor:\"#333\",tooltip:{axisPointer:{lineStyle:{color:\"#eee\"},crossStyle:{color:\"#eee\"}}},legend:{textStyle:{color:\"#eee\"}},textStyle:{color:\"#eee\"},title:{textStyle:{color:\"#eee\"}},toolbox:{iconStyle:{normal:{borderColor:\"#eee\"}}},dataZoom:{textStyle:{color:\"#eee\"}},visualMap:{textStyle:{color:\"#eee\"}},timeline:{lineStyle:{color:\"#eee\"},itemStyle:{normal:{color:ab[1]}},label:{normal:{textStyle:{color:\"#eee\"}}},controlStyle:{normal:{color:\"#eee\",borderColor:\"#eee\"}}},timeAxis:{axisLine:{lineStyle:{color:\"#eee\"}},axisTick:{lineStyle:{color:\"#eee\"}},axisLabel:{textStyle:{color:\"#eee\"}},splitLine:{lineStyle:{type:\"dashed\",color:\"#aaa\"}},splitArea:{areaStyle:{color:\"#eee\"}}},logAxis:{axisLine:{lineStyle:{color:\"#eee\"}},axisTick:{lineStyle:{color:\"#eee\"}},axisLabel:{textStyle:{color:\"#eee\"}},splitLine:{lineStyle:{type:\"dashed\",color:\"#aaa\"}},splitArea:{areaStyle:{color:\"#eee\"}}},valueAxis:{axisLine:{lineStyle:{color:\"#eee\"}},axisTick:{lineStyle:{color:\"#eee\"}},axisLabel:{textStyle:{color:\"#eee\"}},splitLine:{lineStyle:{type:\"dashed\",color:\"#aaa\"}},splitArea:{areaStyle:{color:\"#eee\"}}},categoryAxis:{axisLine:{lineStyle:{color:\"#eee\"}},axisTick:{lineStyle:{color:\"#eee\"}},axisLabel:{textStyle:{color:\"#eee\"}},splitLine:{lineStyle:{type:\"dashed\",color:\"#aaa\"}},splitArea:{areaStyle:{color:\"#eee\"}}},line:{symbol:\"circle\"},graph:{color:ab},gauge:{title:{textStyle:{color:\"#eee\"}}},candlestick:{itemStyle:{normal:{color:\"#FD1050\",color0:\"#0CF49B\",borderColor:\"#FD1050\",borderColor0:\"#0CF49B\"}}}};sb.categoryAxis.splitLine.show=!1;var lb=N,ub=h,cb=x,db=_,hb=ex.parseClassType,fb=1e3,pb=1e3,gb=3e3,mb={PROCESSOR:{FILTER:fb,STATISTIC:5e3},VISUAL:{LAYOUT:pb,GLOBAL:2e3,CHART:gb,COMPONENT:4e3,BRUSH:5e3}},vb=\"__flagInMainProcess\",yb=\"__optionUpdated\",xb=/^[a-zA-Z0-9_]+$/;Io.prototype.on=Ao(\"on\"),Io.prototype.off=Ao(\"off\"),Io.prototype.one=Ao(\"one\"),c(Io,Sg);var bb=Do.prototype;bb._onframe=function(){if(!this._disposed){var e=this._scheduler;if(this[yb]){var t=this[yb].silent;this[vb]=!0,Po(this),_b.update.call(this),this[vb]=!1,this[yb]=!1,Oo.call(this,t),Bo.call(this,t)}else if(e.unfinished){var n=1,i=this._model;e.unfinished=!1;do{var r=+new Date;e.performSeriesTasks(i),e.performDataProcessorTasks(Mb,i),Eo(this,i),e.performVisualTasks(Ab,i),Ho(this,this._model,0,\"remain\"),n-=+new Date-r}while(n>0&&e.unfinished);e.unfinished||(this._zr&&this._zr.flush(),this.trigger(\"finished\"))}}},bb.getDom=function(){return this._dom},bb.getZr=function(){return this._zr},bb.setOption=function(e,t,n){var i;if(db(t)&&(n=t.lazyUpdate,i=t.silent,t=t.notMerge),this[vb]=!0,!this._model||t){var r=new Dr(this._api),o=this._theme,a=this._model=new mx(null,null,o,r);a.scheduler=this._scheduler,a.init(null,null,o,r)}this._model.setOption(e,Tb),n?(this[yb]={silent:i},this[vb]=!1):(Po(this),_b.update.call(this),this._zr.flush(),this[yb]=!1,this[vb]=!1,Oo.call(this,i),Bo.call(this,i))},bb.setTheme=function(){console.log(\"ECharts#setTheme() is DEPRECATED in ECharts 3.0\")},bb.getModel=function(){return this._model},bb.getOption=function(){return this._model&&this._model.getOption()},bb.getWidth=function(){return this._zr.getWidth()},bb.getHeight=function(){return this._zr.getHeight()},bb.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},bb.getRenderedCanvas=function(e){if(ig.canvasSupported){(e=e||{}).pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get(\"backgroundColor\");var t=this._zr;return h(t.storage.getDisplayList(),function(e){e.stopAnimation(!0)}),t.painter.getRenderedCanvas(e)}},bb.getSvgDataUrl=function(){if(ig.svgSupported){var e=this._zr;return h(e.storage.getDisplayList(),function(e){e.stopAnimation(!0)}),e.painter.pathToSvg()}},bb.getDataURL=function(e){var t=(e=e||{}).excludeComponents,n=this._model,i=[],r=this;ub(t,function(e){n.eachComponent({mainType:e},function(e){var t=r._componentsMap[e.__viewId];t.group.ignore||(i.push(t),t.group.ignore=!0)})});var o=\"svg\"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(e).toDataURL(\"image/\"+(e&&e.type||\"png\"));return ub(i,function(e){e.group.ignore=!1}),o},bb.getConnectedDataURL=function(e){if(ig.canvasSupported){var t=this.group,i=Math.min,r=Math.max;if(Pb[t]){var o=1/0,a=1/0,s=-1/0,l=-1/0,u=[],c=e&&e.pixelRatio||1;h(Nb,function(c,d){if(c.group===t){var h=c.getRenderedCanvas(n(e)),f=c.getDom().getBoundingClientRect();o=i(f.left,o),a=i(f.top,a),s=r(f.right,s),l=r(f.bottom,l),u.push({dom:h,left:f.left,top:f.top})}});var d=(s*=c)-(o*=c),f=(l*=c)-(a*=c),p=pg();p.width=d,p.height=f;var g=tn(p);return ub(u,function(e){var t=new Ht({style:{x:e.left*c-o,y:e.top*c-a,image:e.dom}});g.add(t)}),g.refreshImmediately(),p.toDataURL(\"image/\"+(e&&e.type||\"png\"))}return this.getDataURL(e)}},bb.convertToPixel=v(No,\"convertToPixel\"),bb.convertFromPixel=v(No,\"convertFromPixel\"),bb.containPixel=function(e,t){var n;return h(e=hn(this._model,e),function(e,i){i.indexOf(\"Models\")>=0&&h(e,function(e){var r=e.coordinateSystem;if(r&&r.containPoint)n|=!!r.containPoint(t);else if(\"seriesModels\"===i){var o=this._chartsMap[e.__viewId];o&&o.containPoint&&(n|=o.containPoint(t,e))}},this)},this),!!n},bb.getVisual=function(e,t){var n=(e=hn(this._model,e,{defaultMainType:\"series\"})).seriesModel.getData(),i=e.hasOwnProperty(\"dataIndexInside\")?e.dataIndexInside:e.hasOwnProperty(\"dataIndex\")?n.indexOfRawIndex(e.dataIndex):null;return null!=i?n.getItemVisual(i,t):n.getVisual(t)},bb.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},bb.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var _b={prepareAndUpdate:function(e){Po(this),_b.update.call(this,e)},update:function(e){var t=this._model,n=this._api,i=this._zr,r=this._coordSysMgr,o=this._scheduler;if(t){t.restoreData(e),o.performSeriesTasks(t),r.create(t,n),o.performDataProcessorTasks(Mb,t,e),Eo(this,t),function(e){var t={};e.eachSeries(function(e){var n=e.get(\"stack\"),i=e.getData();if(n&&\"list\"===i.type){var r=t[n];t.hasOwnProperty(n)&&r&&(i.stackedOn=r),t[n]=i}})}(t),r.update(t,n),Fo(t),o.performVisualTasks(Ab,t,e),Vo(this,t,n,e);var a=t.get(\"backgroundColor\")||\"transparent\",s=i.painter;if(s.isSingleCanvas&&s.isSingleCanvas())i.configLayer(0,{clearColor:a});else{if(!ig.canvasSupported){var l=Te(a);a=Ee(l,\"rgb\"),0===l[3]&&(a=\"transparent\")}a.colorStops||a.image?(i.configLayer(0,{clearColor:a}),this.__hasGradientOrPatternBg=!0,this._dom.style.background=\"transparent\"):(this.__hasGradientOrPatternBg&&i.configLayer(0,{clearColor:null}),this.__hasGradientOrPatternBg=!1,this._dom.style.background=a)}Wo(t,n)}},updateTransform:function(e){var t=this._model,n=this,i=this._api;if(t){var r=[];t.eachComponent(function(o,a){var s=n.getViewOfComponentModel(a);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(a,t,i,e);l&&l.update&&r.push(s)}else r.push(s)});var o=O();t.eachSeries(function(r){var a=n._chartsMap[r.__viewId];if(a.updateTransform){var s=a.updateTransform(r,t,i,e);s&&s.update&&o.set(r.uid,1)}else o.set(r.uid,1)}),Fo(t),this._scheduler.performVisualTasks(Ab,t,e,{setDirty:!0,dirtyMap:o}),Ho(n,t,0,e,o),Wo(t,this._api)}},updateView:function(e){var t=this._model;t&&(oo.markUpdateMethod(e,\"updateView\"),Fo(t),this._scheduler.performVisualTasks(Ab,t,e,{setDirty:!0}),Vo(this,this._model,this._api,e),Wo(t,this._api))},updateVisual:function(e){_b.update.call(this,e)},updateLayout:function(e){_b.update.call(this,e)}};bb.resize=function(e){this._zr.resize(e);var t=this._model;this._loadingFX&&this._loadingFX.resize(),t&&function(e,t,n){e[vb]=!0,t&&Po(e),_b.update.call(e),e[vb]=!1,Oo.call(e,n),Bo.call(e,n)}(this,t.resetOption(\"media\"),e&&e.silent)},bb.showLoading=function(e,t){if(db(e)&&(t=e,e=\"\"),e=e||\"default\",this.hideLoading(),Db[e]){var n=Db[e](this._api,t),i=this._zr;this._loadingFX=n,i.add(n)}},bb.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},bb.makeActionFromEvent=function(e){var t=o({},e);return t.type=Cb[e.type],t},bb.dispatchAction=function(e,t){db(t)||(t={silent:!!t}),Sb[e.type]&&this._model&&(this[vb]?this._pendingActions.push(e):(Ro.call(this,e,t.silent),t.flush?this._zr.flush(!0):!1!==t.flush&&ig.browser.weChat&&this._throttledZrFlush(),Oo.call(this,t.silent),Bo.call(this,t.silent)))},bb.appendData=function(e){var t=e.seriesIndex;this.getModel().getSeriesByIndex(t).appendData(e),this._scheduler.unfinished=!0},bb.on=Ao(\"on\"),bb.off=Ao(\"off\"),bb.one=Ao(\"one\");var wb=[\"click\",\"dblclick\",\"mouseover\",\"mouseout\",\"mousemove\",\"mousedown\",\"mouseup\",\"globalout\",\"contextmenu\"];bb._initEvents=function(){ub(wb,function(e){this._zr.on(e,function(t){var n,i=this.getModel(),r=t.target;if(\"globalout\"===e)n={};else if(r&&null!=r.dataIndex){var a=r.dataModel||i.getSeriesByIndex(r.seriesIndex);n=a&&a.getDataParams(r.dataIndex,r.dataType)||{}}else r&&r.eventData&&(n=o({},r.eventData));n&&(n.event=t,n.type=e,this.trigger(e,n))},this)},this),ub(Cb,function(e,t){this._messageCenter.on(t,function(e){this.trigger(t,e)},this)},this)},bb.isDisposed=function(){return this._disposed},bb.clear=function(){this.setOption({series:[]},!0)},bb.dispose=function(){if(!this._disposed){this._disposed=!0,pn(this.getDom(),Rb,\"\");var e=this._api,t=this._model;ub(this._componentsViews,function(n){n.dispose(t,e)}),ub(this._chartsViews,function(n){n.dispose(t,e)}),this._zr.dispose(),delete Nb[this.id]}},c(Do,Sg);var Sb={},Cb={},Mb=[],Tb=[],kb=[],Ab=[],Ib={},Db={},Nb={},Pb={},Lb=new Date-0,Eb=new Date-0,Rb=\"_echarts_instance_\",Ob={},Bb=jo;Qo(2e3,Xx),Yo(Dx),ta(\"default\",function(e,t){a(t=t||{},{text:\"loading\",color:\"#c23531\",textColor:\"#000\",maskColor:\"rgba(255, 255, 255, 0.8)\",zlevel:0});var n=new gy({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),i=new xy({shape:{startAngle:-Jx/2,endAngle:-Jx/2+.1,r:10},style:{stroke:t.color,lineCap:\"round\",lineWidth:5},zlevel:t.zlevel,z:10001}),r=new gy({style:{fill:\"none\",text:t.text,textPosition:\"right\",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});i.animateShape(!0).when(1e3,{endAngle:3*Jx/2}).start(\"circularInOut\"),i.animateShape(!0).when(1e3,{startAngle:3*Jx/2}).delay(300).start(\"circularInOut\");var o=new Qg;return o.add(i),o.add(r),o.add(n),o.resize=function(){var t=e.getWidth()/2,o=e.getHeight()/2;i.setShape({cx:t,cy:o});var a=i.shape.r;r.setShape({x:t-a,y:o-a,width:2*a,height:2*a}),n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},o.resize(),o}),$o({type:\"highlight\",event:\"highlight\",update:\"highlight\"},z),$o({type:\"downplay\",event:\"downplay\",update:\"downplay\"},z),Zo(\"light\",ob),Zo(\"dark\",sb),la.prototype={constructor:la,add:function(e){return this._add=e,this},update:function(e){return this._update=e,this},remove:function(e){return this._remove=e,this},execute:function(){var e=this._old,t=this._new,n={},i=[],r=[];for(ua(e,{},i,\"_oldKeyGetter\",this),ua(t,n,r,\"_newKeyGetter\",this),o=0;o<e.length;o++)null!=(s=n[a=i[o]])?((u=s.length)?(1===u&&(n[a]=null),s=s.unshift()):n[a]=null,this._update&&this._update(s,o)):this._remove&&this._remove(o);for(var o=0;o<r.length;o++){var a=r[o];if(n.hasOwnProperty(a)){var s=n[a];if(null==s)continue;if(s.length)for(var l=0,u=s.length;l<u;l++)this._add&&this._add(s[l]);else this._add&&this._add(s)}}}};var zb=O([\"tooltip\",\"label\",\"itemName\",\"itemId\",\"seriesName\"]),Fb=_,Vb=\"undefined\",Hb=typeof window===Vb?global:window,Wb=\"e\\0\\0\",Gb={float:typeof Hb.Float64Array===Vb?Array:Hb.Float64Array,int:typeof Hb.Int32Array===Vb?Array:Hb.Int32Array,ordinal:Array,number:Array,time:Array},Ub=[\"stackedOn\",\"hasItemOption\",\"_nameList\",\"_idList\",\"_rawData\",\"_rawExtent\",\"_chunkSize\",\"_chunkCount\",\"_dimValueGetter\",\"_count\",\"_rawCount\",\"_nameDimIdx\",\"_idDimIdx\"],jb=function(e,t){e=e||[\"x\",\"y\"];for(var n={},i=[],r=0;r<e.length;r++){var o,a={};\"string\"==typeof e[r]?a={name:o=e[r],coordDim:o,coordDimIndex:0,stackable:!1,type:\"float\"}:(o=(a=e[r]).name,a.type=a.type||\"float\",a.coordDim||(a.coordDim=o,a.coordDimIndex=0)),a.otherDims=a.otherDims||{},i.push(o),n[o]=a,a.index=r}this.dimensions=i,this._dimensionInfos=n,this.hostModel=t,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=function(e){var t={},n=t.encode={},i=t.coordDimMap=O(),r=[];h(e.dimensions,function(t){var o=e.getDimensionInfo(t),a=o.coordDim;if(a){var s=n[a];n.hasOwnProperty(a)||(s=n[a]=[]),s[o.coordDimIndex]=t,o.isSysCoord&&function(e){return!(\"ordinal\"===e||\"time\"===e)}(o.type)&&(r[0]=t),i.set(a,1)}zb.each(function(e,t){var i=n[t];n.hasOwnProperty(t)||(i=n[t]=[]);var r=o.otherDims[t];null!=r&&!1!==r&&(i[r]=o.name)})});var o=[];i.each(function(e,t){o=o.concat(n[t])}),t.dataDimsOnCoord=o;var a=n.label;a&&a.length&&(r=a.slice());var s=r.slice(),l=n.tooltip;return l&&l.length&&(s=l.slice()),n.defaultedLabel=r,n.defaultedTooltip=s,t}(this)},qb=jb.prototype;qb.type=\"list\",qb.hasItemOption=!0,qb.getDimension=function(e){return isNaN(e)||(e=this.dimensions[e]||e),e},qb.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]},qb.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},qb.mapDimension=function(e,t){var n=this._dimensionsSummary.encode[e];return!0===t?n&&n.slice()||[]:n?n[t||0]:null},qb.initData=function(e,t,n){(xr.isInstance(e)||d(e))&&(e=new Hr(e,this.dimensions.length)),this._rawData=e,this._storage={},this._indices=null,this._nameList=t||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=Ex[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._rawExtent={},this._initDataFromProvider(0,e.count()),e.pure&&(this.hasItemOption=!1)},qb.getProvider=function(){return this._rawData},qb.appendData=function(e){var t=this._rawData,n=this.count();t.appendData(e);var i=t.count();t.persistent||(i+=n),this._initDataFromProvider(n,i)},qb._initDataFromProvider=function(e,t){if(!(e>=t)){for(var n,i=this._chunkSize,r=this._rawData,o=this._storage,a=this.dimensions,s=this._dimensionInfos,l=this._nameList,u=this._idList,c=this._rawExtent,d=this._nameRepeatCount={},h=this._chunkCount,f=h-1,p=0;p<a.length;p++){c[M=a[p]]||(c[M]=[1/0,-1/0]);var g=s[M];0===g.otherDims.itemName&&(n=this._nameDimIdx=p),0===g.otherDims.itemId&&(this._idDimIdx=p);var m=Gb[g.type];o[M]||(o[M]=[]);var v=o[M][f];if(v&&v.length<i){for(var y=new m(Math.min(t-f*i,i)),x=0;x<v.length;x++)y[x]=v[x];o[M][f]=y}for(C=h*i;C<t;C+=i)o[M].push(new m(Math.min(t-C,i)));this._chunkCount=o[M].length}for(var b=e;b<t;b++){for(var _=r.getItem(b),w=Math.floor(b/i),S=b%i,C=0;C<a.length;C++){var M=a[C],T=o[M][w],k=this._dimValueGetter(_,M,b,C);T[S]=k,k<c[M][0]&&(c[M][0]=k),k>c[M][1]&&(c[M][1]=k)}if(!r.pure){var A=l[b];_&&!A&&(null!=n?A=this._getNameFromStore(b):null!=_.name&&(l[b]=A=_.name));var I=null==_?null:_.id;null==I&&null!=A&&(d[A]=d[A]||0,I=A,d[A]>0&&(I+=\"__ec__\"+d[A]),d[A]++),null!=I&&(u[b]=I)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent={}}},qb._getNameFromStore=function(e){var t=this._nameDimIdx;if(null!=t){var n=this._chunkSize,i=Math.floor(e/n),r=this.dimensions[t],o=this._dimensionInfos[r].ordinalMeta;if(o)return o.categories[e];var a=this._storage[r][i];return a&&a[e%n]}},qb._getIdFromStore=function(e){var t=this._idDimIdx;if(null!=t){var n=this._chunkSize,i=Math.floor(e/n),r=this.dimensions[t],o=this._dimensionInfos[r].ordinalMeta;if(o)return o.categories[e];var a=this._storage[r][i];return a&&a[e%n]}},qb.count=function(){return this._count},qb.getIndices=function(){if(this._indices)return new(e=this._indices.constructor)(this._indices.buffer,0,this._count);for(var e=da(this),t=new e(this.count()),n=0;n<t.length;n++)t[n]=n;return t},qb.get=function(e,t,n){if(!(t>=0&&t<this._count))return NaN;var i=this._storage;if(!i[e])return NaN;t=this.getRawIndex(t);var r=Math.floor(t/this._chunkSize),o=i[e][r][t%this._chunkSize];if(n){var a=this._dimensionInfos[e];if(a&&a.stackable)for(var s=this.stackedOn;s;){var l=s.get(e,t);(o>=0&&l>0||o<=0&&l<0)&&(o+=l),s=s.stackedOn}}return o},qb._getFast=function(e,t){var n=Math.floor(t/this._chunkSize);return this._storage[e][n][t%this._chunkSize]},qb.getValues=function(e,t,n){var i=[];y(e)||(n=t,t=e,e=this.dimensions);for(var r=0,o=e.length;r<o;r++)i.push(this.get(e[r],t,n));return i},qb.hasValue=function(e){for(var t=this._dimensionsSummary.dataDimsOnCoord,n=this._dimensionInfos,i=0,r=t.length;i<r;i++)if(\"ordinal\"!==n[t[i]].type&&isNaN(this.get(t[i],e)))return!1;return!0},qb.getDataExtent=function(e,t){e=this.getDimension(e);var n=this._storage[e],i=[1/0,-1/0];if(t=!!t&&this.isStacked(e),!n)return i;var r,o=this.count(),a=[e,!!t].join(\"_\");if(!this._indices&&!t)return this._rawExtent[e].slice();if(r=this._extent[a])return r.slice();for(var s=(r=i)[0],l=r[1],u=0;u<o;u++){var c=t?this.get(e,u,!0):this._getFast(e,this.getRawIndex(u));c<s&&(s=c),c>l&&(l=c)}return this._extent[a]=r=[s,l],r},qb.getApproximateExtent=function(e,t){return e=this.getDimension(e),this._approximateExtent[e]||this.getDataExtent(e,t)},qb.setApproximateExtent=function(e,t,n){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},qb.isStacked=function(e){var t=this._dimensionInfos[e];return t&&t.stackable&&this.stackedOn},qb.getSum=function(e,t){var n=0;if(this._storage[e])for(var i=0,r=this.count();i<r;i++){var o=this.get(e,i,t);isNaN(o)||(n+=o)}return n},qb.indexOf=function(e,t){var n=this._storage[e],i=this._chunkSize;if(n)for(var r=0,o=this.count();r<o;r++){var a=r%i;if(n[Math.floor(r/i)][a]===t)return r}return-1},qb.indexOfName=function(e){for(var t=0,n=this.count();t<n;t++)if(this.getName(t)===e)return t;return-1},qb.indexOfRawIndex=function(e){if(!this._indices)return e;if(e>=this._rawCount||e<0)return-1;var t=this._indices,n=t[e];if(null!=n&&n<this._count&&n===e)return e;for(var i=0,r=this._count-1;i<=r;){var o=(i+r)/2|0;if(t[o]<e)i=o+1;else{if(!(t[o]>e))return o;r=o-1}}return-1},qb.indicesOfNearest=function(e,t,n,i){var r=[];if(!this._storage[e])return r;null==i&&(i=1/0);for(var o=Number.MAX_VALUE,a=-1,s=0,l=this.count();s<l;s++){var u=t-this.get(e,s,n),c=Math.abs(u);u<=i&&c<=o&&((c<o||u>=0&&a<0)&&(o=c,a=u,r.length=0),r.push(s))}return r},qb.getRawIndex=pa,qb.getRawDataItem=function(e){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(e));for(var t=[],n=0;n<this.dimensions.length;n++)t.push(this.get(this.dimensions[n],e));return t},qb.getName=function(e){var t=this.getRawIndex(e);return this._nameList[t]||this._getNameFromStore(t)||\"\"},qb.getId=function(e){return ma(this,this.getRawIndex(e))},qb.each=function(e,t,n,i){if(this._count){\"function\"==typeof e&&(i=n,n=t,t=e,e=[]);var r=(e=f(va(e),this.getDimension,this)).length;i=i||this;for(var o=0;o<this.count();o++)switch(r){case 0:t.call(i,o);break;case 1:t.call(i,this.get(e[0],o,n),o);break;case 2:t.call(i,this.get(e[0],o,n),this.get(e[1],o,n),o);break;default:for(var a=0,s=[];a<r;a++)s[a]=this.get(e[a],o,n);s[a]=o,t.apply(i,s)}}},qb.filterSelf=function(e,t,n,i){if(this._count){\"function\"==typeof e&&(i=n,n=t,t=e,e=[]),n=n||!1,i=i||this,e=f(va(e),this.getDimension,this);for(var r=this.count(),o=new(da(this))(r),a=[],s=e.length,l=0,u=e[0],c=0;c<r;c++){var d,h=this.getRawIndex(c);if(0===s)d=t.call(i,c);else if(1===s){var p=n?this.get(u,c,!0):this._getFast(u,h);d=t.call(i,p,c)}else{for(var g=0;g<s;g++)a[g]=n?this.get(e[g],c,!0):this._getFast(u,h);a[g]=c,d=t.apply(i,a)}d&&(o[l++]=h)}return l<r&&(this._indices=o),this._count=l,this._extent={},this.getRawIndex=this._indices?ga:pa,this}},qb.selectRange=function(e,t){if(this._count){t=t||!1;var n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(i);var r=n.length;if(r){var o=this.count(),a=new(da(this))(o),s=0,l=n[0],u=e[l][0],c=e[l][1],d=!1;if(!this._indices&&!t){var h=0;if(1===r){for(var f=this._storage[n[0]],p=0;p<this._chunkCount;p++)for(var g=f[p],m=Math.min(this._count-p*this._chunkSize,this._chunkSize),v=0;v<m;v++)(w=g[v])>=u&&w<=c&&(a[s++]=h),h++;d=!0}else if(2===r){f=this._storage[l];var y=this._storage[n[1]],x=e[n[1]][0],b=e[n[1]][1];for(p=0;p<this._chunkCount;p++){g=f[p];var _=y[p];for(m=Math.min(this._count-p*this._chunkSize,this._chunkSize),v=0;v<m;v++){var w=g[v],S=_[v];w>=u&&w<=c&&S>=x&&S<=b&&(a[s++]=h),h++}}d=!0}}if(!d)if(1===r)for(t=t||this.isStacked(l),v=0;v<o;v++)M=this.getRawIndex(v),(w=t?this.get(l,v,!0):this._getFast(l,M))>=u&&w<=c&&(a[s++]=M);else for(v=0;v<o;v++){var C=!0,M=this.getRawIndex(v);for(p=0;p<r;p++){var T=n[p];((w=t?this.get(T,v,!0):this._getFast(i,M))<e[T][0]||w>e[T][1])&&(C=!1)}C&&(a[s++]=this.getRawIndex(v))}return s<o&&(this._indices=a),this._count=s,this._extent={},this.getRawIndex=this._indices?ga:pa,this}}},qb.mapArray=function(e,t,n,i){\"function\"==typeof e&&(i=n,n=t,t=e,e=[]);var r=[];return this.each(e,function(){r.push(t&&t.apply(this,arguments))},n,i),r},qb.map=function(e,t,n,i){var r=ya(this,e=f(va(e),this.getDimension,this));r._indices=this._indices,r.getRawIndex=r._indices?ga:pa;for(var o=r._storage,a=[],s=this._chunkSize,l=e.length,u=this.count(),c=[],d=0;d<u;d++){for(var h=0;h<l;h++)c[h]=this.get(e[h],d,n);c[l]=d;var p=t&&t.apply(i,c);if(null!=p){\"object\"!=typeof p&&(a[0]=p,p=a);for(var g=this.getRawIndex(d),m=Math.floor(g/s),v=g%s,y=0;y<p.length;y++){var x=o[e[y]];x&&(x[m][v]=p[y])}}}return r},qb.downSample=function(e,t,n,i){for(var r=ya(this,[e]),o=r._storage,a=[],s=Math.floor(1/t),l=o[e],u=this.count(),c=this._chunkSize,d=new(da(this))(u),h=0,f=0;f<u;f+=s){s>u-f&&(a.length=s=u-f);for(var p=0;p<s;p++){var g=this.getRawIndex(f+p),m=Math.floor(g/c);a[p]=l[m][g%c]}var v=n(a),y=this.getRawIndex(Math.min(f+i(a,v)||0,u-1)),x=y%c;l[Math.floor(y/c)][x]=v,d[h++]=y}return r._count=h,r._indices=d,r.getRawIndex=ga,r},qb.getItemModel=function(e){var t=this.hostModel;return new Bi(this.getRawDataItem(e),t,t&&t.ecModel)},qb.diff=function(e){var t=this;return new la(e?e.getIndices():[],this.getIndices(),function(t){return ma(e,t)},function(e){return ma(t,e)})},qb.getVisual=function(e){var t=this._visual;return t&&t[e]},qb.setVisual=function(e,t){if(Fb(e))for(var n in e)e.hasOwnProperty(n)&&this.setVisual(n,e[n]);else this._visual=this._visual||{},this._visual[e]=t},qb.setLayout=function(e,t){if(Fb(e))for(var n in e)e.hasOwnProperty(n)&&this.setLayout(n,e[n]);else this._layout[e]=t},qb.getLayout=function(e){return this._layout[e]},qb.getItemLayout=function(e){return this._itemLayouts[e]},qb.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?o(this._itemLayouts[e]||{},t):t},qb.clearItemLayouts=function(){this._itemLayouts.length=0},qb.getItemVisual=function(e,t,n){var i=this._itemVisuals[e],r=i&&i[t];return null!=r||n?r:this.getVisual(t)},qb.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{},r=this.hasItemVisual;if(this._itemVisuals[e]=i,Fb(t))for(var o in t)t.hasOwnProperty(o)&&(i[o]=t[o],r[o]=!0);else i[t]=n,r[t]=!0},qb.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var Zb=function(e){e.seriesIndex=this.seriesIndex,e.dataIndex=this.dataIndex,e.dataType=this.dataType};qb.setItemGraphicEl=function(e,t){var n=this.hostModel;t&&(t.dataIndex=e,t.dataType=this.dataType,t.seriesIndex=n&&n.seriesIndex,\"group\"===t.type&&t.traverse(Zb,t)),this._graphicEls[e]=t},qb.getItemGraphicEl=function(e){return this._graphicEls[e]},qb.eachItemGraphicEl=function(e,t){h(this._graphicEls,function(n,i){n&&e&&e.call(t,n,i)})},qb.cloneShallow=function(e){if(!e){var t=f(this.dimensions,this.getDimensionInfo,this);e=new jb(t,this.hostModel)}return e._storage=this._storage,fa(e,this),e._indices=this._indices?new(0,this._indices.constructor)(this._indices):null,e.getRawIndex=e._indices?ga:pa,e._extent=n(this._extent),e._approximateExtent=n(this._approximateExtent),e},qb.wrapMethod=function(e,t){var n=this[e];\"function\"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(I(arguments)))})},qb.TRANSFERABLE_METHODS=[\"cloneShallow\",\"downSample\",\"map\"],qb.CHANGABLE_METHODS=[\"filterSelf\",\"selectRange\"];var Yb=function(e,t){return ba((t=t||{}).coordDimensions||[],e,{dimsDef:t.dimensionsDefine||e.dimensionsDefine,encodeDef:t.encodeDefine||e.encodeDefine,dimCount:t.dimensionsCount,extraPrefix:t.extraPrefix,extraFromZero:t.extraFromZero})};Sa.prototype.parse=function(e){return e},Sa.prototype.getSetting=function(e){return this._setting[e]},Sa.prototype.contain=function(e){var t=this._extent;return e>=t[0]&&e<=t[1]},Sa.prototype.normalize=function(e){var t=this._extent;return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])},Sa.prototype.scale=function(e){var t=this._extent;return e*(t[1]-t[0])+t[0]},Sa.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},Sa.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t,!0))},Sa.prototype.getExtent=function(){return this._extent.slice()},Sa.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},Sa.prototype.getTicksLabels=function(){for(var e=[],t=this.getTicks(),n=0;n<t.length;n++)e.push(this.getLabel(t[n]));return e},Sa.prototype.isBlank=function(){return this._isBlank},Sa.prototype.setBlank=function(e){this._isBlank=e},mn(Sa),bn(Sa,{registerWhenExtend:!0}),Ca.createByAxisModel=function(e){var t=e.option,n=t.data,i=n&&f(n,Ta);return new Ca({categories:i,needCollect:!i,deduplication:!1!==t.dedplication})};var Xb=Ca.prototype;Xb.getOrdinal=function(e){return Ma(this).get(e)},Xb.parseAndCollect=function(e){var t,n=this._needCollect;if(\"string\"!=typeof e&&!n)return e;if(n&&!this._deduplication)return this.categories[t=this.categories.length]=e,t;var i=Ma(this);return null==(t=i.get(e))&&(n?(this.categories[t=this.categories.length]=e,i.set(e,t)):t=NaN),t};var $b=Sa.prototype,Kb=Sa.extend({type:\"ordinal\",init:function(e,t){e&&!y(e)||(e=new Ca({categories:e})),this._ordinalMeta=e,this._extent=t||[0,e.categories.length-1]},parse:function(e){return\"string\"==typeof e?this._ordinalMeta.getOrdinal(e):Math.round(e)},contain:function(e){return e=this.parse(e),$b.contain.call(this,e)&&null!=this._ordinalMeta.categories[e]},normalize:function(e){return $b.normalize.call(this,this.parse(e))},scale:function(e){return Math.round($b.scale.call(this,e))},getTicks:function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push(n),n++;return e},getLabel:function(e){return this._ordinalMeta.categories[e]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t,!1))},niceTicks:z,niceExtent:z});Kb.create=function(){return new Kb};var Jb=Gi,Qb=Gi,e_=Sa.extend({type:\"interval\",_interval:0,_intervalPrecision:2,setExtent:function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},unionExtent:function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),e_.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=ka(e)},getTicks:function(){return function(e,t,n,i){var r=[];if(!e)return r;t[0]<n[0]&&r.push(t[0]);for(var o=n[0];o<=n[1]&&(r.push(o),(o=Jb(o+e,i))!==r[r.length-1]);)if(r.length>1e4)return[];return t[1]>(r.length?r[r.length-1]:n[1])&&r.push(t[1]),r}(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){for(var e=[],t=this.getTicks(),n=0;n<t.length;n++)e.push(this.getLabel(t[n]));return e},getLabel:function(e,t){if(null==e)return\"\";var n=t&&t.precision;return null==n?n=qi(e)||0:\"auto\"===n&&(n=this._intervalPrecision),ir(e=Qb(e,n,!0))},niceTicks:function(e,t,n){e=e||5;var i=this._extent,r=i[1]-i[0];if(isFinite(r)){r<0&&(r=-r,i.reverse());var o=function(e,t,n,i){var r={},o=r.interval=er((e[1]-e[0])/t,!0);null!=n&&o<n&&(o=r.interval=n),null!=i&&o>i&&(o=r.interval=i);var a=r.intervalPrecision=ka(o);return Ia(r.niceTickExtent=[Jb(Math.ceil(e[0]/o)*o,a),Jb(Math.floor(e[1]/o)*o,a)],e),r}(i,e,t,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},niceExtent:function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var n=t[0];e.fixMax||(t[1]+=n/2),t[0]-=n/2}else t[1]=1;isFinite(t[1]-t[0])||(t[0]=0,t[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;e.fixMin||(t[0]=Qb(Math.floor(t[0]/i)*i)),e.fixMax||(t[1]=Qb(Math.ceil(t[1]/i)*i))}});e_.create=function(){return new e_};var t_=\"__ec_stack_\",n_=e_.prototype,i_=Math.ceil,r_=Math.floor,o_=e_.extend({type:\"time\",getLabel:function(e){var t=this._stepLvl,n=new Date(e);return ur(t[0],n,this.getSetting(\"useUTC\"))},niceExtent:function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=864e5,t[1]+=864e5),t[1]===-1/0&&t[0]===1/0){var n=new Date;t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-864e5}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;e.fixMin||(t[0]=Gi(r_(t[0]/i)*i)),e.fixMax||(t[1]=Gi(i_(t[1]/i)*i))},niceTicks:function(e,t,n){var i=this._extent,r=i[1]-i[0],o=r/(e=e||10);null!=t&&o<t&&(o=t),null!=n&&o>n&&(o=n);var a=a_.length,s=function(e,t,n,i){for(;n<i;){var r=n+i>>>1;e[r][1]<t?n=r+1:i=r}return n}(a_,o,0,a),l=a_[Math.min(s,a-1)],u=l[1];\"year\"===l[0]&&(u*=er(r/u/e,!0));var c=this.getSetting(\"useUTC\")?0:60*new Date(+i[0]||+i[1]).getTimezoneOffset()*1e3,d=[Math.round(i_((i[0]-c)/u)*u+c),Math.round(r_((i[1]-c)/u)*u+c)];Ia(d,i),this._stepLvl=l,this._interval=u,this._niceExtent=d},parse:function(e){return+Ki(e)}});h([\"contain\",\"normalize\"],function(e){o_.prototype[e]=function(t){return n_[e].call(this,this.parse(t))}});var a_=[[\"hh:mm:ss\",1e3],[\"hh:mm:ss\",5e3],[\"hh:mm:ss\",1e4],[\"hh:mm:ss\",15e3],[\"hh:mm:ss\",3e4],[\"hh:mm\\nMM-dd\",6e4],[\"hh:mm\\nMM-dd\",3e5],[\"hh:mm\\nMM-dd\",6e5],[\"hh:mm\\nMM-dd\",9e5],[\"hh:mm\\nMM-dd\",18e5],[\"hh:mm\\nMM-dd\",36e5],[\"hh:mm\\nMM-dd\",72e5],[\"hh:mm\\nMM-dd\",216e5],[\"hh:mm\\nMM-dd\",432e5],[\"MM-dd\\nyyyy\",864e5],[\"MM-dd\\nyyyy\",1728e5],[\"MM-dd\\nyyyy\",2592e5],[\"MM-dd\\nyyyy\",3456e5],[\"MM-dd\\nyyyy\",432e6],[\"MM-dd\\nyyyy\",5184e5],[\"week\",6048e5],[\"MM-dd\\nyyyy\",864e6],[\"week\",12096e5],[\"week\",18144e5],[\"month\",26784e5],[\"week\",36288e5],[\"month\",53568e5],[\"week\",36288e5],[\"quarter\",8208e6],[\"month\",107136e5],[\"month\",13392e6],[\"half-year\",16416e6],[\"month\",214272e5],[\"month\",26784e6],[\"year\",32832e6]];o_.create=function(e){return new o_({useUTC:e.ecModel.get(\"useUTC\")})};var s_=Sa.prototype,l_=e_.prototype,u_=qi,c_=Gi,d_=Math.floor,h_=Math.ceil,f_=Math.pow,p_=Math.log,g_=Sa.extend({type:\"log\",base:10,$constructor:function(){Sa.apply(this,arguments),this._originalScale=new e_},getTicks:function(){var e=this._originalScale,t=this._extent,n=e.getExtent();return f(l_.getTicks.call(this),function(i){var r=Gi(f_(this.base,i));return r=i===t[0]&&e.__fixMin?Ra(r,n[0]):r,i===t[1]&&e.__fixMax?Ra(r,n[1]):r},this)},getLabel:l_.getLabel,scale:function(e){return e=s_.scale.call(this,e),f_(this.base,e)},setExtent:function(e,t){var n=this.base;e=p_(e)/p_(n),t=p_(t)/p_(n),l_.setExtent.call(this,e,t)},getExtent:function(){var e=this.base,t=s_.getExtent.call(this);t[0]=f_(e,t[0]),t[1]=f_(e,t[1]);var n=this._originalScale,i=n.getExtent();return n.__fixMin&&(t[0]=Ra(t[0],i[0])),n.__fixMax&&(t[1]=Ra(t[1],i[1])),t},unionExtent:function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=p_(e[0])/p_(t),e[1]=p_(e[1])/p_(t),s_.unionExtent.call(this,e)},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t,!0,function(e){return e>0}))},niceTicks:function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n===1/0||n<=0)){var i=Ji(n);for(e/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var r=[Gi(h_(t[0]/i)*i),Gi(d_(t[1]/i)*i)];this._interval=i,this._niceExtent=r}},niceExtent:function(e){l_.niceExtent.call(this,e);var t=this._originalScale;t.__fixMin=e.fixMin,t.__fixMax=e.fixMax}});h([\"contain\",\"normalize\"],function(e){g_.prototype[e]=function(t){return t=p_(t)/p_(this.base),s_[e].call(this,t)}}),g_.create=function(){return new g_};var m_={getFormattedLabels:function(){return Ha(this.axis,this.get(\"axisLabel.formatter\"))},getMin:function(e){var t=this.option,n=e||null==t.rangeStart?t.min:t.rangeStart;return this.axis&&null!=n&&\"dataMin\"!==n&&\"function\"!=typeof n&&!M(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(e){var t=this.option,n=e||null==t.rangeEnd?t.max:t.rangeEnd;return this.axis&&null!=n&&\"dataMax\"!==n&&\"function\"!=typeof n&&!M(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var e=this.option;return null==e.rangeStart&&null==e.rangeEnd&&!e.scale},getCoordSysModel:z,setRange:function(e,t){this.option.rangeStart=e,this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},v_=ei({type:\"triangle\",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=t.width/2,o=t.height/2;e.moveTo(n,i-o),e.lineTo(n+r,i+o),e.lineTo(n-r,i+o),e.closePath()}}),y_=ei({type:\"diamond\",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=t.width/2,o=t.height/2;e.moveTo(n,i-o),e.lineTo(n+r,i),e.lineTo(n,i+o),e.lineTo(n-r,i),e.closePath()}}),x_=ei({type:\"pin\",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,r=t.width/5*3,o=Math.max(r,t.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,u=Math.asin(s/a),c=Math.cos(u)*a,d=Math.sin(u),h=Math.cos(u),f=.6*a,p=.7*a;e.moveTo(n-c,l+s),e.arc(n,l,a,Math.PI-u,2*Math.PI+u),e.bezierCurveTo(n+c-d*f,l+s+h*f,n,i-p,n,i),e.bezierCurveTo(n,i-p,n-c+d*f,l+s+h*f,n-c,l+s),e.closePath()}}),b_=ei({type:\"arrow\",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,i=t.x,r=t.y,o=t.width/3*2;e.moveTo(i,r),e.lineTo(i+o,r+n),e.lineTo(i,r+n/4*3),e.lineTo(i-o,r+n),e.lineTo(i,r),e.closePath()}}),__={line:function(e,t,n,i,r){r.x1=e,r.y1=t+i/2,r.x2=e+n,r.y2=t+i/2},rect:function(e,t,n,i,r){r.x=e,r.y=t,r.width=n,r.height=i},roundRect:function(e,t,n,i,r){r.x=e,r.y=t,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(e,t,n,i,r){var o=Math.min(n,i);r.x=e,r.y=t,r.width=o,r.height=o},circle:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.r=Math.min(n,i)/2},diamond:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.width=n,r.height=i},pin:function(e,t,n,i,r){r.x=e+n/2,r.y=t+i/2,r.width=n,r.height=i},arrow:function(e,t,n,i,r){r.x=e+n/2,r.y=t+i/2,r.width=n,r.height=i},triangle:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.width=n,r.height=i}},w_={};h({line:my,rect:gy,roundRect:gy,square:gy,circle:ay,diamond:y_,pin:x_,arrow:b_,triangle:v_},function(e,t){w_[t]=new e});var S_=ei({type:\"symbol\",shape:{symbolType:\"\",x:0,y:0,width:0,height:0},beforeBrush:function(){var e=this.style;\"pin\"===this.shape.symbolType&&\"inside\"===e.textPosition&&(e.textPosition=[\"50%\",\"40%\"],e.textAlign=\"center\",e.textVerticalAlign=\"middle\")},buildPath:function(e,t,n){var i=t.symbolType,r=w_[i];\"none\"!==t.symbolType&&(r||(r=w_[i=\"rect\"]),__[i](t.x,t.y,t.width,t.height,r.shape),r.buildPath(e,r.shape,n))}}),C_=(Object.freeze||Object)({createList:function(e){return wa(e.getSource(),e)},getLayoutRect:hr,createScale:function(e,t){var n=t;Bi.isInstance(t)||c(n=new Bi(t),m_);var i=Fa(n);return i.setExtent(e[0],e[1]),za(i,n),i},mixinAxisModelCommonMethods:function(e){c(e,m_)},completeDimensions:ba,createDimensions:Yb,createSymbol:Ua}),M_=1e-8;Za.prototype={constructor:Za,properties:null,getBoundingRect:function(){var e=this._rect;if(e)return e;for(var t=Number.MAX_VALUE,n=[t,t],i=[-t,-t],r=[],o=[],a=this.geometries,s=0;s<a.length;s++)\"polygon\"===a[s].type&&(Nn(a[s].exterior,r,o),ee(n,n,r),te(i,i,o));return 0===s&&(n[0]=n[1]=i[0]=i[1]=0),this._rect=new Ze(n[0],n[1],i[0]-n[0],i[1]-n[1])},contain:function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var i=0,r=n.length;i<r;i++)if(\"polygon\"===n[i].type){var o=n[i].interiors;if(qa(n[i].exterior,e[0],e[1])){for(var a=0;a<(o?o.length:0);a++)if(qa(o[a]))continue e;return!0}}return!1},transformTo:function(e,t,n,i){var r=this.getBoundingRect(),o=r.width/r.height;n?i||(i=n/o):n=o*i;for(var a=new Ze(e,t,n,i),s=r.calculateTransform(a),l=this.geometries,u=0;u<l.length;u++)if(\"polygon\"===l[u].type){for(var c=l[u].exterior,d=l[u].interiors,h=0;h<c.length;h++)Q(c[h],c[h],s);for(var f=0;f<(d?d.length:0);f++)for(h=0;h<d[f].length;h++)Q(d[f][h],d[f][h],s)}(r=this._rect).copy(a),this.center=[r.x+r.width/2,r.y+r.height/2]}};var T_=function(e){return function(e){if(!e.UTF8Encoding)return e;var t=e.UTF8Scale;null==t&&(t=1024);for(var n=e.features,i=0;i<n.length;i++)for(var r=n[i].geometry,o=r.coordinates,a=r.encodeOffsets,s=0;s<o.length;s++){var l=o[s];if(\"Polygon\"===r.type)o[s]=Ya(l,a[s],t);else if(\"MultiPolygon\"===r.type)for(var u=0;u<l.length;u++)l[u]=Ya(l[u],a[s][u],t)}e.UTF8Encoding=!1}(e),f(g(e.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var t=e.properties,n=e.geometry,i=n.coordinates,r=[];\"Polygon\"===n.type&&r.push({type:\"polygon\",exterior:i[0],interiors:i.slice(1)}),\"MultiPolygon\"===n.type&&h(i,function(e){e[0]&&r.push({type:\"polygon\",exterior:e[0],interiors:e.slice(1)})});var o=new Za(t.name,r,t.cp);return o.properties=t,o})},k_=Hi,A_=[0,1],I_=function(e,t,n){this.dim=e,this.scale=t,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};I_.prototype={constructor:I_,contain:function(e){var t=this._extent,n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=n&&e<=i},containData:function(e){return this.contain(this.dataToCoord(e))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return Zi(e||this.scale.getExtent(),this._extent)},setExtent:function(e,t){var n=this._extent;n[0]=e,n[1]=t},dataToCoord:function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&\"ordinal\"===i.type&&Xa(n=n.slice(),i.count()),k_(e,A_,n,t)},coordToData:function(e,t){var n=this._extent,i=this.scale;this.onBand&&\"ordinal\"===i.type&&Xa(n=n.slice(),i.count());var r=k_(e,n,A_,t);return this.scale.scale(r)},pointToData:function(e,t){},getTicksCoords:function(e){if(this.onBand&&!e){for(var t=this.getBands(),n=[],i=0;i<t.length;i++)n.push(t[i][0]);return t[i-1]&&n.push(t[i-1][1]),n}return f(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return f(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var e=this.getExtent(),t=[],n=this.scale.count(),i=e[0],r=e[1]-i,o=0;o<n;o++)t.push([r*o/n+i,r*(o+1)/n+i]);return t},getBandWidth:function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},isHorizontal:null,getRotate:null,getLabelInterval:function(){var e=this._labelInterval;if(!e){var t=this.model,n=t.getModel(\"axisLabel\");e=n.get(\"interval\"),\"category\"!==this.type||null!=e&&\"auto\"!==e||(e=Va(f(this.scale.getTicks(),this.dataToCoord,this),t.getFormattedLabels(),n.getFont(),this.getRotate?this.getRotate():this.isHorizontal&&!this.isHorizontal()?90:0,n.get(\"rotate\"))),this._labelInterval=e}return e}};var D_=T_,N_={};h([\"map\",\"each\",\"filter\",\"indexOf\",\"inherits\",\"reduce\",\"filter\",\"bind\",\"curry\",\"isArray\",\"isString\",\"isObject\",\"isFunction\",\"extend\",\"defaults\",\"clone\",\"merge\"],function(e){N_[e]=vg[e]}),na({type:\"dataset\",defaultOption:{seriesLayoutBy:hx,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){!function(e){var t=e.option.source,n=cx;if(S(t))n=dx;else if(y(t))for(var i=0,r=t.length;i<r;i++){var o=t[i];if(null!=o){if(y(o)){n=sx;break}if(_(o)){n=lx;break}}}else if(_(t)){for(var a in t)if(t.hasOwnProperty(a)&&d(t[a])){n=ux;break}}else if(null!=t)throw new Error(\"Invalid data\");px(e).sourceFormat=n}(this)}}),ia({type:\"dataset\"}),Fx.extend({type:\"series.line\",dependencies:[\"grid\",\"polar\"],getInitialData:function(e,t){return wa(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:\"top\"},lineStyle:{width:2,type:\"solid\"},step:!1,smooth:!1,smoothMonotone:null,symbol:\"emptyCircle\",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:\"none\",animationEasing:\"linear\",progressive:0,hoverLayerThreshold:1/0}});var P_=Ja.prototype;P_._createSymbol=function(e,t,n,i){this.removeAll();var r=Ua(e,-1,-1,2,2,t.getItemVisual(n,\"color\"));r.attr({z2:100,culling:!0,scale:Ka(i)}),r.drift=Qa,this._symbolType=e,this.add(r)},P_.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},P_.getSymbolPath=function(){return this.childAt(0)},P_.getScale=function(){return this.childAt(0).scale},P_.highlight=function(){this.childAt(0).trigger(\"emphasis\")},P_.downplay=function(){this.childAt(0).trigger(\"normal\")},P_.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},P_.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?\"move\":\"pointer\"},P_.updateData=function(e,t,n){this.silent=!1;var i=e.getItemVisual(t,\"symbol\")||\"circle\",r=e.hostModel,o=function(e,t){var n=e.getItemVisual(t,\"symbolSize\");return n instanceof Array?n.slice():[+n,+n]}(e,t),a=i!==this._symbolType;if(a?this._createSymbol(i,e,t,o):((s=this.childAt(0)).silent=!1,Ii(s,{scale:Ka(o)},r,t)),this._updateCommon(e,t,o,n),a){var s=this.childAt(0),l=n&&n.fadeIn,u={scale:s.scale.slice()};l&&(u.style={opacity:s.style.opacity}),s.scale=[0,0],l&&(s.style.opacity=0),Di(s,u,r,t)}this._seriesModel=r};var L_=[\"itemStyle\"],E_=[\"emphasis\",\"itemStyle\"],R_=[\"label\"],O_=[\"emphasis\",\"label\"];P_._updateCommon=function(e,t,n,i){var r=this.childAt(0),a=e.hostModel,s=e.getItemVisual(t,\"color\");\"image\"!==r.type&&r.useStyle({strokeNoScale:!0});var l=i&&i.itemStyle,u=i&&i.hoverItemStyle,c=i&&i.symbolRotate,d=i&&i.symbolOffset,h=i&&i.labelModel,f=i&&i.hoverLabelModel,p=i&&i.hoverAnimation,g=i&&i.cursorStyle;if(!i||e.hasItemOption){var m=i&&i.itemModel?i.itemModel:e.getItemModel(t);l=m.getModel(L_).getItemStyle([\"color\"]),u=m.getModel(E_).getItemStyle(),c=m.getShallow(\"symbolRotate\"),d=m.getShallow(\"symbolOffset\"),h=m.getModel(R_),f=m.getModel(O_),p=m.getShallow(\"hoverAnimation\"),g=m.getShallow(\"cursor\")}else u=o({},u);var v=r.style;r.attr(\"rotation\",(c||0)*Math.PI/180||0),d&&r.attr(\"position\",[Wi(d[0],n[0]),Wi(d[1],n[1])]),g&&r.attr(\"cursor\",g),r.setColor(s,i&&i.symbolInnerColor),r.setStyle(l);var y=e.getItemVisual(t,\"opacity\");null!=y&&(v.opacity=y);var x=i&&i.useNameLabel;_i(v,u,h,f,{labelFetcher:a,labelDataIndex:t,defaultText:function(t,n){return x?e.getName(t):$a(e,t)},isRectText:!0,autoColor:s}),r.off(\"mouseover\").off(\"mouseout\").off(\"emphasis\").off(\"normal\"),r.hoverStyle=u,bi(r);var b=Ka(n);if(p&&a.isAnimationEnabled()){var _=function(){var e=b[1]/b[0];this.animateTo({scale:[Math.max(1.1*b[0],b[0]+3),Math.max(1.1*b[1],b[1]+3*e)]},400,\"elasticOut\")},w=function(){this.animateTo({scale:b},400,\"elasticOut\")};r.on(\"mouseover\",_).on(\"mouseout\",w).on(\"emphasis\",_).on(\"normal\",w)}},P_.fadeOut=function(e,t){var n=this.childAt(0);this.silent=n.silent=!0,!(t&&t.keepLabel)&&(n.style.text=null),Ii(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},u(Ja,Qg);var B_=es.prototype;B_.updateData=function(e,t){var n=this.group,i=e.hostModel,r=this._data,o=this._symbolCtor,a=ns(e);r||n.removeAll(),e.diff(r).add(function(i){var r=e.getItemLayout(i);if(ts(e,r,i,t)){var s=new o(e,i,a);s.attr(\"position\",r),e.setItemGraphicEl(i,s),n.add(s)}}).update(function(s,l){var u=r.getItemGraphicEl(l),c=e.getItemLayout(s);ts(e,c,s,t)?(u?(u.updateData(e,s,a),Ii(u,{position:c},i)):(u=new o(e,s)).attr(\"position\",c),n.add(u),e.setItemGraphicEl(s,u)):n.remove(u)}).remove(function(e){var t=r.getItemGraphicEl(e);t&&t.fadeOut(function(){n.remove(t)})}).execute(),this._data=e},B_.isPersistent=function(){return!0},B_.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl(function(t,n){var i=e.getItemLayout(n);t.attr(\"position\",i)})},B_.incrementalPrepareUpdate=function(e){this._seriesScope=ns(e),this._data=null,this.group.removeAll()},B_.incrementalUpdate=function(e,t,n){for(var i=e.start;i<e.end;i++){var r=t.getItemLayout(i);if(ts(t,r,i,n)){var o=new this._symbolCtor(t,i,this._seriesScope);o.traverse(function(e){e.isGroup||(e.incremental=e.useHoverLayer=!0)}),o.attr(\"position\",r),this.group.add(o),t.setItemGraphicEl(i,o)}}},B_.remove=function(e){var t=this.group,n=this._data;n&&(e?n.eachItemGraphicEl(function(e){e.fadeOut(function(){t.remove(e)})}):t.removeAll())};var z_=ee,F_=te,V_=U,H_=V,W_=[],G_=[],U_=[],j_=Zn.extend({type:\"ec-polyline\",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:\"#000\"},brush:ly(Zn.prototype.brush),buildPath:function(e,t){var n=t.points,i=0,r=n.length,o=ss(n,t.smoothConstraint);if(t.connectNulls){for(;r>0&&os(n[r-1]);r--);for(;i<r&&os(n[i]);i++);}for(;i<r;)i+=as(e,n,i,r,r,1,o.min,o.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),q_=Zn.extend({type:\"ec-polygon\",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:ly(Zn.prototype.brush),buildPath:function(e,t){var n=t.points,i=t.stackedOnPoints,r=0,o=n.length,a=t.smoothMonotone,s=ss(n,t.smoothConstraint),l=ss(i,t.smoothConstraint);if(t.connectNulls){for(;o>0&&os(n[o-1]);o--);for(;r<o&&os(n[r]);r++);}for(;r<o;){var u=as(e,n,r,o,o,1,s.min,s.max,t.smooth,a,t.connectNulls);as(e,i,r+u-1,u,o,-1,l.min,l.max,t.stackedOnSmooth,a,t.connectNulls),r+=u+1,e.closePath()}}});oo.extend({type:\"line\",init:function(){var e=new Qg,t=new es;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,t,n){var i=e.coordinateSystem,r=this.group,o=e.getData(),s=e.getModel(\"lineStyle\"),l=e.getModel(\"areaStyle\"),u=o.mapArray(o.getItemLayout,!0),c=\"polar\"===i.type,d=this._coordSys,h=this._symbolDraw,f=this._polyline,p=this._polygon,g=this._lineGroup,m=e.get(\"animation\"),v=!l.isEmpty(),y=function(e,t,n,i){var r=t.getBaseAxis(),o=t.getOtherAxis(r),a=0,s=o.scale.getExtent();\"start\"===i?a=s[0]:\"end\"===i?a=s[1]:(s=o.scale.getExtent())[0]>0?a=s[0]:s[1]<0&&(a=s[1]);var l=o.dim,u=\"x\"===l||\"radius\"===l?1:0,c=n.mapDimension(l);return n.mapArray(c?[c]:[],function(e,i){for(var o,s=n.stackedOn;s&&ds(s.get(c,i))===ds(e);){o=s;break}var l=[];return l[u]=n.get(r.dim,i),l[1-u]=o?o.get(c,i,!0):a,t.dataToPoint(l)},!0)}(0,i,o,l.get(\"origin\")),x=e.get(\"showSymbol\"),b=x&&!c&&!e.get(\"showAllSymbol\")&&this._getSymbolIgnoreFunc(o,i),_=this._data;_&&_.eachItemGraphicEl(function(e,t){e.__temp&&(r.remove(e),_.setItemGraphicEl(t,null))}),x||h.remove(),r.add(g);var w=!c&&e.get(\"step\");f&&d.type===i.type&&w===this._step?(v&&!p?p=this._newPolygon(u,y,i,m):p&&!v&&(g.remove(p),p=this._polygon=null),g.setClipPath(hs(i,!1,e)),x&&h.updateData(o,b),o.eachItemGraphicEl(function(e){e.stopAnimation(!0)}),ls(this._stackedOnPoints,y)&&ls(this._points,u)||(m?this._updateAnimation(o,y,i,n,w):(w&&(u=fs(u,i,w),y=fs(y,i,w)),f.setShape({points:u}),p&&p.setShape({points:u,stackedOnPoints:y})))):(x&&h.updateData(o,b),w&&(u=fs(u,i,w),y=fs(y,i,w)),f=this._newPolyline(u,i,m),v&&(p=this._newPolygon(u,y,i,m)),g.setClipPath(hs(i,!0,e)));var S=ps(o,i)||o.getVisual(\"color\");f.useStyle(a(s.getLineStyle(),{fill:\"none\",stroke:S,lineJoin:\"bevel\"}));var C=e.get(\"smooth\");if(C=us(e.get(\"smooth\")),f.setShape({smooth:C,smoothMonotone:e.get(\"smoothMonotone\"),connectNulls:e.get(\"connectNulls\")}),p){var M=o.stackedOn,T=0;p.useStyle(a(l.getAreaStyle(),{fill:S,opacity:.7,lineJoin:\"bevel\"})),M&&(T=us(M.hostModel.get(\"smooth\"))),p.setShape({smooth:C,stackedOnSmooth:T,smoothMonotone:e.get(\"smoothMonotone\"),connectNulls:e.get(\"connectNulls\")})}this._data=o,this._coordSys=i,this._stackedOnPoints=y,this._points=u,this._step=w},dispose:function(){},highlight:function(e,t,n,i){var r=e.getData(),o=cn(r,i);if(!(o instanceof Array)&&null!=o&&o>=0){var a=r.getItemGraphicEl(o);if(!a){var s=r.getItemLayout(o);if(!s)return;(a=new Ja(r,o)).position=s,a.setZ(e.get(\"zlevel\"),e.get(\"z\")),a.ignore=isNaN(s[0])||isNaN(s[1]),a.__temp=!0,r.setItemGraphicEl(o,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else oo.prototype.highlight.call(this,e,t,n,i)},downplay:function(e,t,n,i){var r=e.getData(),o=cn(r,i);if(null!=o&&o>=0){var a=r.getItemGraphicEl(o);a&&(a.__temp?(r.setItemGraphicEl(o,null),this.group.remove(a)):a.downplay())}else oo.prototype.downplay.call(this,e,t,n,i)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new j_({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new q_({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_getSymbolIgnoreFunc:function(e,t){var n=t.getAxesByScale(\"ordinal\")[0];if(n&&n.isLabelIgnored)return m(n.isLabelIgnored,n)},_updateAnimation:function(e,t,n,i,r){var o=this._polyline,a=this._polygon,s=e.hostModel,l=function(e,t,n,i,r,o){for(var a=function(e,t){var n=[];return t.diff(e).add(function(e){n.push({cmd:\"+\",idx:e})}).update(function(e,t){n.push({cmd:\"=\",idx:t,idx1:e})}).remove(function(e){n.push({cmd:\"-\",idx:e})}).execute(),n}(e,t),s=[],l=[],u=[],c=[],d=[],h=[],f=[],p=o.dimensions,g=0;g<a.length;g++){var m=a[g],v=!0;switch(m.cmd){case\"=\":var y=e.getItemLayout(m.idx),x=t.getItemLayout(m.idx1);(isNaN(y[0])||isNaN(y[1]))&&(y=x.slice()),s.push(y),l.push(x),u.push(n[m.idx]),c.push(i[m.idx1]),f.push(t.getRawIndex(m.idx1));break;case\"+\":s.push(r.dataToPoint([t.get(p[0],b=m.idx,!0),t.get(p[1],b,!0)])),l.push(t.getItemLayout(b).slice()),u.push(rs(r,t,b)),c.push(i[b]),f.push(t.getRawIndex(b));break;case\"-\":var b=m.idx,_=e.getRawIndex(b);_!==b?(s.push(e.getItemLayout(b)),l.push(o.dataToPoint([e.get(p[0],b,!0),e.get(p[1],b,!0)])),u.push(n[b]),c.push(rs(o,e,b)),f.push(_)):v=!1}v&&(d.push(m),h.push(h.length))}h.sort(function(e,t){return f[e]-f[t]});var w=[],S=[],C=[],M=[],T=[];for(g=0;g<h.length;g++)w[g]=s[b=h[g]],S[g]=l[b],C[g]=u[b],M[g]=c[b],T[g]=d[b];return{current:w,next:S,stackedOnCurrent:C,stackedOnNext:M,status:T}}(this._data,e,this._stackedOnPoints,t,this._coordSys,n),u=l.current,c=l.stackedOnCurrent,d=l.next,h=l.stackedOnNext;r&&(u=fs(l.current,n,r),c=fs(l.stackedOnCurrent,n,r),d=fs(l.next,n,r),h=fs(l.stackedOnNext,n,r)),o.shape.__points=l.current,o.shape.points=u,Ii(o,{shape:{points:d}},s),a&&(a.setShape({points:u,stackedOnPoints:c}),Ii(a,{shape:{points:d,stackedOnPoints:h}},s));for(var f=[],p=l.status,g=0;g<p.length;g++)if(\"=\"===p[g].cmd){var m=e.getItemGraphicEl(p[g].idx1);m&&f.push({el:m,ptIdx:g})}o.animators&&o.animators.length&&o.animators[0].during(function(){for(var e=0;e<f.length;e++)f[e].el.attr(\"position\",o.shape.__points[f[e].ptIdx])})},remove:function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(e,i){e.__temp&&(t.remove(e),n.setItemGraphicEl(i,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var Z_=function(e,t,n){return{seriesType:e,performRawSeries:!0,reset:function(e,i,r){var o=e.getData(),a=e.get(\"symbol\")||t,s=e.get(\"symbolSize\");if(o.setVisual({legendSymbol:n||a,symbol:a,symbolSize:s}),!i.isSeriesFiltered(e))return{dataEach:o.hasItemOption||\"function\"==typeof s?function(t,n){if(\"function\"==typeof s){var i=e.getRawValue(n),r=e.getDataParams(n);t.setItemVisual(n,\"symbolSize\",s(i,r))}if(t.hasItemOption){var o=t.getItemModel(n),a=o.getShallow(\"symbol\",!0),l=o.getShallow(\"symbolSize\",!0);null!=a&&t.setItemVisual(n,\"symbol\",a),null!=l&&t.setItemVisual(n,\"symbolSize\",l)}}:null}}}},Y_=function(e){return{seriesType:e,plan:Wx(),reset:function(e){var t=e.getData(),n=e.coordinateSystem,i=e.pipelineContext.large;if(n){var r=f(n.dimensions,function(e){return t.getDimension(t.mapDimension(e))}).slice(0,2),o=r.length;return o&&{progress:function(e,t){for(var a=i&&new Float32Array((e.end-e.start)*o),s=e.start,l=0,u=[],c=[];s<e.end;s++){var d;if(1===o)h=t.get(r[0],s,!0),d=!isNaN(h)&&n.dataToPoint(h,null,c);else{var h=u[0]=t.get(r[0],s,!0),f=u[1]=t.get(r[1],s,!0);d=!isNaN(h)&&!isNaN(f)&&n.dataToPoint(u,null,c)}i?(a[l++]=d?d[0]:NaN,a[l++]=d?d[1]:NaN):t.setItemLayout(s,d&&d.slice()||[NaN,NaN])}i&&t.setLayout(\"symbolPoints\",a)}}}}}},X_={average:function(e){for(var t=0,n=0,i=0;i<e.length;i++)isNaN(e[i])||(t+=e[i],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return t},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return t},nearest:function(e){return e[0]}},$_=function(e,t){return Math.round(e.length/2)},K_=function(e){this._axes={},this._dimList=[],this.name=e||\"\"};K_.prototype={constructor:K_,type:\"cartesian\",getAxis:function(e){return this._axes[e]},getAxes:function(){return f(this._dimList,gs,this)},getAxesByScale:function(e){return e=e.toLowerCase(),g(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,\"dataToCoord\")},coordToData:function(e){return this._dataCoordConvert(e,\"coordToData\")},_dataCoordConvert:function(e,t){for(var n=this._dimList,i=e instanceof Array?[]:{},r=0;r<n.length;r++){var o=n[r];i[o]=this._axes[o][t](e[o])}return i}},ms.prototype={constructor:ms,type:\"cartesian2d\",dimensions:[\"x\",\"y\"],getBaseAxis:function(){return this.getAxesByScale(\"ordinal\")[0]||this.getAxesByScale(\"time\")[0]||this.getAxis(\"x\")},containPoint:function(e){var t=this.getAxis(\"x\"),n=this.getAxis(\"y\");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},containData:function(e){return this.getAxis(\"x\").containData(e[0])&&this.getAxis(\"y\").containData(e[1])},dataToPoint:function(e,t,n){var i=this.getAxis(\"x\"),r=this.getAxis(\"y\");return(n=n||[])[0]=i.toGlobalCoord(i.dataToCoord(e[0])),n[1]=r.toGlobalCoord(r.dataToCoord(e[1])),n},clampData:function(e,t){var n=this.getAxis(\"x\").scale.getExtent(),i=this.getAxis(\"y\").scale.getExtent();return(t=t||[])[0]=Math.min(Math.max(Math.min(n[0],n[1]),e[0]),Math.max(n[0],n[1])),t[1]=Math.min(Math.max(Math.min(i[0],i[1]),e[1]),Math.max(i[0],i[1])),t},pointToData:function(e,t){var n=this.getAxis(\"x\"),i=this.getAxis(\"y\");return(t=t||[])[0]=n.coordToData(n.toLocalCoord(e[0])),t[1]=i.coordToData(i.toLocalCoord(e[1])),t},getOtherAxis:function(e){return this.getAxis(\"x\"===e.dim?\"y\":\"x\")}},u(ms,K_);var J_=function(e,t,n,i,r){I_.call(this,e,t,n),this.type=i||\"value\",this.position=r||\"bottom\"};J_.prototype={constructor:J_,index:0,onZero:!1,model:null,isHorizontal:function(){var e=this.position;return\"top\"===e||\"bottom\"===e},getGlobalExtent:function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(e){if(\"category\"===this.type){var t=this.getLabelInterval();return\"function\"==typeof t&&!t(e,this.scale.getLabel(e))||e%(t+1)}},pointToData:function(e,t){return this.coordToData(this.toLocalCoord(e[\"x\"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null},u(J_,I_);var Q_={show:!0,zlevel:0,z:0,inverse:!1,name:\"\",nameLocation:\"end\",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:\"...\",placeholder:\".\"},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:\"#333\",width:1,type:\"solid\"},symbol:[\"none\",\"none\"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:[\"#ccc\"],width:1,type:\"solid\"}},splitArea:{show:!1,areaStyle:{color:[\"rgba(250,250,250,0.3)\",\"rgba(200,200,200,0.3)\"]}}},ew={};ew.categoryAxis=i({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:\"auto\"},axisLabel:{interval:\"auto\"}},Q_),ew.valueAxis=i({boundaryGap:[0,0],splitNumber:5},Q_),ew.timeAxis=a({scale:!0,min:\"dataMin\",max:\"dataMax\"},ew.valueAxis),ew.logAxis=a({scale:!0,logBase:10},ew.valueAxis);var tw=[\"value\",\"category\",\"time\",\"log\"],nw=function(e,t,n,o){h(tw,function(a){t.extend({type:e+\"Axis.\"+a,mergeDefaultAndTheme:function(t,r){var o=this.layoutMode,s=o?gr(t):{};i(t,r.getTheme().get(a+\"Axis\")),i(t,this.getDefaultOption()),t.type=n(e,t),o&&pr(t,s,o)},optionUpdated:function(){\"category\"===this.option.type&&(this.__ordinalMeta=Ca.createByAxisModel(this))},getCategories:function(){if(\"category\"===this.option.type)return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:r([{},ew[a+\"Axis\"],o],!0)})}),ex.registerSubTypeDefaulter(e+\"Axis\",v(n,e))},iw=ex.extend({type:\"cartesian2dAxis\",axis:null,init:function(){iw.superApply(this,\"init\",arguments),this.resetRange()},mergeOption:function(){iw.superApply(this,\"mergeOption\",arguments),this.resetRange()},restoreData:function(){iw.superApply(this,\"restoreData\",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:\"grid\",index:this.option.gridIndex,id:this.option.gridId})[0]}});i(iw.prototype,m_);var rw={offset:0};nw(\"x\",iw,vs,rw),nw(\"y\",iw,vs,rw),ex.extend({type:\"grid\",dependencies:[\"xAxis\",\"yAxis\"],layoutMode:\"box\",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:\"10%\",top:60,right:\"10%\",bottom:60,containLabel:!1,backgroundColor:\"rgba(0,0,0,0)\",borderWidth:1,borderColor:\"#ccc\"}});var ow=h,aw=function(e){var t=e.scale.getExtent(),n=t[0],i=t[1];return!(n>0&&i>0||n<0&&i<0)},sw=za,lw=bs.prototype;lw.type=\"grid\",lw.axisPointerEnabled=!0,lw.getRect=function(){return this._rect},lw.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model),ow(n.x,function(e){sw(e.scale,e.model)}),ow(n.y,function(e){sw(e.scale,e.model)}),ow(n.x,function(e){_s(n,\"y\",e)}),ow(n.y,function(e){_s(n,\"x\",e)}),this.resize(this.model,t)},lw.resize=function(e,t,n){function i(){ow(o,function(e){var t=e.isHorizontal(),n=t?[0,r.width]:[0,r.height],i=e.inverse?1:0;e.setExtent(n[i],n[1-i]),function(e,t){var n=e.getExtent(),i=n[0]+n[1];e.toGlobalCoord=\"x\"===e.dim?function(e){return e+t}:function(e){return i-e+t},e.toLocalCoord=\"x\"===e.dim?function(e){return e-t}:function(e){return i-e+t}}(e,t?r.x:r.y)})}var r=hr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=r;var o=this._axesList;i(),!n&&e.get(\"containLabel\")&&(ow(o,function(e){if(!e.model.get(\"axisLabel.inside\")){var t=function(e){var t,n=e.model,i=n.get(\"axisLabel.show\")?n.getFormattedLabels():[],r=n.getModel(\"axisLabel\"),o=1,a=i.length;a>40&&(o=Math.ceil(a/40));for(var s=0;s<a;s+=o)if(!e.isLabelIgnored(s)){var l=xs(r.getTextRect(i[s]),r.get(\"rotate\")||0);t?t.union(l):t=l}return t}(e);if(t){var n=e.isHorizontal()?\"height\":\"width\",i=e.model.get(\"axisLabel.margin\");r[n]-=t[n]+i,\"top\"===e.position?r.y+=t.height+i:\"left\"===e.position&&(r.x+=t.width+i)}}}),i())},lw.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n){if(null==t)for(var i in n)if(n.hasOwnProperty(i))return n[i];return n[t]}},lw.getAxes=function(){return this._axesList.slice()},lw.getCartesian=function(e,t){if(null!=e&&null!=t)return this._coordsMap[\"x\"+e+\"y\"+t];_(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var n=0,i=this._coordsList;n<i.length;n++)if(i[n].getAxis(\"x\").index===e||i[n].getAxis(\"y\").index===t)return i[n]},lw.getCartesians=function(){return this._coordsList.slice()},lw.convertToPixel=function(e,t,n){var i=this._findConvertTarget(e,t);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},lw.convertFromPixel=function(e,t,n){var i=this._findConvertTarget(e,t);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},lw._findConvertTarget=function(e,t){var n,i,r=t.seriesModel,o=t.xAxisModel||r&&r.getReferringComponents(\"xAxis\")[0],a=t.yAxisModel||r&&r.getReferringComponents(\"yAxis\")[0],s=t.gridModel;return r?l(this._coordsList,n=r.coordinateSystem)<0&&(n=null):o&&a?n=this.getCartesian(o.componentIndex,a.componentIndex):o?i=this.getAxis(\"x\",o.componentIndex):a?i=this.getAxis(\"y\",a.componentIndex):s&&s.coordinateSystem===this&&(n=this._coordsList[0]),{cartesian:n,axis:i}},lw.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},lw._initCartesian=function(e,t,n){function i(t){return function(n,i){if(ys(n,e)){var s=n.get(\"position\");\"x\"===t?\"top\"!==s&&\"bottom\"!==s&&r[s=\"bottom\"]&&(s=\"top\"===s?\"bottom\":\"top\"):\"left\"!==s&&\"right\"!==s&&r[s=\"left\"]&&(s=\"left\"===s?\"right\":\"left\"),r[s]=!0;var l=new J_(t,Fa(n),[0,0],n.get(\"type\"),s);l.onBand=\"category\"===l.type&&n.get(\"boundaryGap\"),l.inverse=n.get(\"inverse\"),l.onZero=n.get(\"axisLine.onZero\"),l.onZeroAxisIndex=n.get(\"axisLine.onZeroAxisIndex\"),n.axis=l,l.model=n,l.grid=this,l.index=i,this._axesList.push(l),o[t][i]=l,a[t]++}}}var r={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},a={x:0,y:0};if(t.eachComponent(\"xAxis\",i(\"x\"),this),t.eachComponent(\"yAxis\",i(\"y\"),this),!a.x||!a.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=o,ow(o.x,function(t,n){ow(o.y,function(i,r){var o=\"x\"+n+\"y\"+r,a=new ms(o);a.grid=this,a.model=e,this._coordsMap[o]=a,this._coordsList.push(a),a.addAxis(t),a.addAxis(i)},this)},this)},lw._updateScale=function(e,t){function n(e,t,n){ow(e.mapDimension(t.dim,!0),function(n){t.scale.unionExtentFromData(e,n)})}h(this._axesList,function(e){e.scale.setExtent(1/0,-1/0)}),e.eachSeries(function(e){if(Cs(e)){var i=Ss(e),r=i[0],o=i[1];if(!ys(r,t)||!ys(o,t))return;var a=this.getCartesian(r.componentIndex,o.componentIndex),s=e.getData(),l=a.getAxis(\"x\"),u=a.getAxis(\"y\");\"list\"===s.type&&(n(s,l),n(s,u))}},this)},lw.getTooltipAxes=function(e){var t=[],n=[];return ow(this.getCartesians(),function(i){var r=null!=e&&\"auto\"!==e?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(r);l(t,r)<0&&t.push(r),l(n,o)<0&&n.push(o)}),{baseAxes:t,otherAxes:n}};var uw=[\"xAxis\",\"yAxis\"];bs.create=function(e,t){var n=[];return e.eachComponent(\"grid\",function(i,r){var o=new bs(i,e,t);o.name=\"grid_\"+r,o.resize(i,t,!0),i.coordinateSystem=o,n.push(o)}),e.eachSeries(function(e){if(Cs(e)){var t=Ss(e),n=t[0],i=t[1],r=n.getCoordSysModel().coordinateSystem;e.coordinateSystem=r.getCartesian(n.componentIndex,i.componentIndex)}}),n},bs.dimensions=bs.prototype.dimensions=ms.prototype.dimensions,Ir.register(\"cartesian2d\",bs);var cw=Math.PI,dw=function(e,t){this.opt=t,this.axisModel=e,a(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new Qg;var n=new Qg({position:t.position.slice(),rotation:t.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};dw.prototype={constructor:dw,hasBuilder:function(e){return!!hw[e]},add:function(e){hw[e].call(this)},getGroup:function(){return this.group}};var hw={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get(\"axisLine.show\")){var n=this.axisModel.axis.getExtent(),i=this._transform,r=[n[0],0],a=[n[1],0];i&&(Q(r,r,i),Q(a,a,i));var s=o({lineCap:\"round\"},t.getModel(\"axisLine.lineStyle\").getLineStyle());this.group.add(new my(oi({anid:\"line\",shape:{x1:r[0],y1:r[1],x2:a[0],y2:a[1]},style:s,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1})));var l=t.get(\"axisLine.symbol\"),u=t.get(\"axisLine.symbolSize\");if(null!=l){\"string\"==typeof l&&(l=[l,l]),\"string\"!=typeof u&&\"number\"!=typeof u||(u=[u,u]);var c=u[0],d=u[1];h([[e.rotation+Math.PI/2,r],[e.rotation-Math.PI/2,a]],function(e,t){if(\"none\"!==l[t]&&null!=l[t]){var n=Ua(l[t],-c/2,-d/2,c,d,s.stroke,!0);n.attr({rotation:e[0],position:e[1],silent:!0}),this.group.add(n)}},this)}}},axisTickLabel:function(){var e=this.axisModel,t=this.opt,n=function(e,t,n){var i=t.axis;if(t.get(\"axisTick.show\")&&!i.scale.isBlank()){for(var r=t.getModel(\"axisTick\"),o=r.getModel(\"lineStyle\"),s=r.get(\"length\"),l=gw(r,n.labelInterval),u=i.getTicksCoords(r.get(\"alignWithLabel\")),c=i.scale.getTicks(),d=t.get(\"axisLabel.showMinLabel\"),h=t.get(\"axisLabel.showMaxLabel\"),f=[],p=[],g=e._transform,m=[],v=u.length,y=0;y<v;y++)if(!pw(i,y,l,v,d,h)){var x=u[y];f[0]=x,f[1]=0,p[0]=x,p[1]=n.tickDirection*s,g&&(Q(f,f,g),Q(p,p,g));var b=new my(oi({anid:\"tick_\"+c[y],shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},style:a(o.getLineStyle(),{stroke:t.get(\"axisLine.lineStyle.color\")}),z2:2,silent:!0}));e.group.add(b),m.push(b)}return m}}(this,e,t);!function(e,t,n){var i=e.get(\"axisLabel.showMinLabel\"),r=e.get(\"axisLabel.showMaxLabel\"),o=(t=t||[])[0],a=t[1],s=t[t.length-1],l=t[t.length-2],u=(n=n||[])[0],c=n[1],d=n[n.length-1],h=n[n.length-2];!1===i?(ks(o),ks(u)):As(o,a)&&(i?(ks(a),ks(c)):(ks(o),ks(u))),!1===r?(ks(s),ks(d)):As(l,s)&&(r?(ks(l),ks(h)):(ks(s),ks(d)))}(e,function(e,t,n){var i=t.axis;if(T(n.axisLabelShow,t.get(\"axisLabel.show\"))&&!i.scale.isBlank()){var r=t.getModel(\"axisLabel\"),o=r.get(\"margin\"),a=i.scale.getTicks(),s=t.getFormattedLabels(),l=(T(n.labelRotate,r.get(\"rotate\"))||0)*cw/180,u=fw(n.rotation,l,n.labelDirection),c=t.getCategories(),d=[],f=Ts(t),p=t.get(\"triggerEvent\"),g=t.get(\"axisLabel.showMinLabel\"),m=t.get(\"axisLabel.showMaxLabel\");return h(a,function(l,h){if(!pw(i,h,n.labelInterval,a.length,g,m)){var v=r;c&&c[l]&&c[l].textStyle&&(v=new Bi(c[l].textStyle,r,t.ecModel));var y=v.getTextColor()||t.get(\"axisLine.lineStyle.color\"),x=[i.dataToCoord(l),n.labelOffset+n.labelDirection*o],b=i.scale.getLabel(l),_=new oy({anid:\"label_\"+l,position:x,rotation:u.rotation,silent:f,z2:10});wi(_.style,v,{text:s[h],textAlign:v.getShallow(\"align\",!0)||u.textAlign,textVerticalAlign:v.getShallow(\"verticalAlign\",!0)||v.getShallow(\"baseline\",!0)||u.textVerticalAlign,textFill:\"function\"==typeof y?y(\"category\"===i.type?b:\"value\"===i.type?l+\"\":l,h):y}),p&&(_.eventData=Ms(t),_.eventData.targetType=\"axisLabel\",_.eventData.value=b),e._dumbGroup.add(_),_.updateTransform(),d.push(_),e.group.add(_),_.decomposeTransform()}}),d}}(this,e,t),n)},axisName:function(){var e=this.opt,t=this.axisModel,n=T(e.axisName,t.get(\"name\"));if(n){var i,r,a=t.get(\"nameLocation\"),s=e.nameDirection,l=t.getModel(\"nameTextStyle\"),u=t.get(\"nameGap\")||0,c=this.axisModel.axis.getExtent(),d=c[0]>c[1]?-1:1,h=[\"start\"===a?c[0]-d*u:\"end\"===a?c[1]+d*u:(c[0]+c[1])/2,Is(a)?e.labelOffset+s*u:0],f=t.get(\"nameRotate\");null!=f&&(f=f*cw/180),Is(a)?i=fw(e.rotation,null!=f?f:e.rotation,s):(i=function(e,t,n,i){var r,o,a=Xi(n-e.rotation),s=i[0]>i[1],l=\"start\"===t&&!s||\"start\"!==t&&s;return $i(a-cw/2)?(o=l?\"bottom\":\"top\",r=\"center\"):$i(a-1.5*cw)?(o=l?\"top\":\"bottom\",r=\"center\"):(o=\"middle\",r=a<1.5*cw&&a>cw/2?l?\"left\":\"right\":l?\"right\":\"left\"),{rotation:a,textAlign:r,textVerticalAlign:o}}(e,a,f||0,c),null!=(r=e.axisNameAvailableWidth)&&(r=Math.abs(r/Math.sin(i.rotation)),!isFinite(r)&&(r=null)));var p=l.getFont(),g=t.get(\"nameTruncate\",!0)||{},m=g.ellipsis,v=T(e.nameTruncateMaxWidth,g.maxWidth,r),y=null!=m&&null!=v?qy(n,v,p,m,{minChar:2,placeholder:g.placeholder}):n,x=t.get(\"tooltip\",!0),b=t.mainType,_={componentType:b,name:n,$vars:[\"name\"]};_[b+\"Index\"]=t.componentIndex;var w=new oy({anid:\"name\",__fullText:n,__truncatedText:y,position:h,rotation:i.rotation,silent:Ts(t),z2:1,tooltip:x&&x.show?o({content:n,formatter:function(){return n},formatterParams:_},x):null});wi(w.style,l,{text:y,textFont:p,textFill:l.getTextColor()||t.get(\"axisLine.lineStyle.color\"),textAlign:i.textAlign,textVerticalAlign:i.textVerticalAlign}),t.get(\"triggerEvent\")&&(w.eventData=Ms(t),w.eventData.targetType=\"axisName\",w.eventData.name=n),this._dumbGroup.add(w),w.updateTransform(),this.group.add(w),w.decomposeTransform()}}},fw=dw.innerTextLayout=function(e,t,n){var i,r,o=Xi(t-e);return $i(o)?(r=n>0?\"top\":\"bottom\",i=\"center\"):$i(o-cw)?(r=n>0?\"bottom\":\"top\",i=\"center\"):(r=\"middle\",i=o>0&&o<cw?n>0?\"right\":\"left\":n>0?\"left\":\"right\"),{rotation:o,textAlign:i,textVerticalAlign:r}},pw=dw.ifIgnoreOnTick=function(e,t,n,i,r,o){if(0===t&&r||t===i-1&&o)return!1;var a,s=e.scale;return\"ordinal\"===s.type&&(\"function\"==typeof n?!n(a=s.getTicks()[t],s.getLabel(a)):t%(n+1))},gw=dw.getInterval=function(e,t){var n=e.get(\"interval\");return null!=n&&\"auto\"!=n||(n=t),n},mw=h,vw=v,yw=ia({type:\"axis\",_axisPointer:null,axisPointerClass:null,render:function(e,t,n,i){this.axisPointerClass&&Ps(e),yw.superApply(this,\"render\",arguments),Os(this,e,0,n,0,!0)},updateAxisPointer:function(e,t,n,i,r){Os(this,e,0,n,0,!1)},remove:function(e,t){var n=this._axisPointer;n&&n.remove(t),yw.superApply(this,\"remove\",arguments)},dispose:function(e,t){Bs(this,t),yw.superApply(this,\"dispose\",arguments)}}),xw=[];yw.registerAxisPointerClass=function(e,t){xw[e]=t},yw.getAxisPointerClass=function(e){return e&&xw[e]};var bw=dw.ifIgnoreOnTick,_w=dw.getInterval,ww=[\"axisLine\",\"axisTickLabel\",\"axisName\"],Sw=[\"splitArea\",\"splitLine\"],Cw=yw.extend({type:\"cartesianAxis\",axisPointerClass:\"CartesianAxisPointer\",render:function(e,t,n,i){this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new Qg,this.group.add(this._axisGroup),e.get(\"show\")){var o=e.getCoordSysModel(),a=zs(o,e),s=new dw(e,a);h(ww,s.add,s),this._axisGroup.add(s.getGroup()),h(Sw,function(t){e.get(t+\".show\")&&this[\"_\"+t](e,o,a.labelInterval)},this),Ei(r,this._axisGroup,e),Cw.superCall(this,\"render\",e,t,n,i)}},_splitLine:function(e,t,n){var i=e.axis;if(!i.scale.isBlank()){var r=e.getModel(\"splitLine\"),o=r.getModel(\"lineStyle\"),s=o.get(\"color\"),l=_w(r,n);s=y(s)?s:[s];for(var u=t.coordinateSystem.getRect(),c=i.isHorizontal(),d=0,h=i.getTicksCoords(),f=i.scale.getTicks(),p=e.get(\"axisLabel.showMinLabel\"),g=e.get(\"axisLabel.showMaxLabel\"),m=[],v=[],x=o.getLineStyle(),b=0;b<h.length;b++)if(!bw(i,b,l,h.length,p,g)){var _=i.toGlobalCoord(h[b]);c?(m[0]=_,m[1]=u.y,v[0]=_,v[1]=u.y+u.height):(m[0]=u.x,m[1]=_,v[0]=u.x+u.width,v[1]=_);var w=d++%s.length;this._axisGroup.add(new my(oi({anid:\"line_\"+f[b],shape:{x1:m[0],y1:m[1],x2:v[0],y2:v[1]},style:a({stroke:s[w]},x),silent:!0})))}}},_splitArea:function(e,t,n){var i=e.axis;if(!i.scale.isBlank()){var r=e.getModel(\"splitArea\"),o=r.getModel(\"areaStyle\"),s=o.get(\"color\"),l=t.coordinateSystem.getRect(),u=i.getTicksCoords(),c=i.scale.getTicks(),d=i.toGlobalCoord(u[0]),h=i.toGlobalCoord(u[0]),f=0,p=_w(r,n),g=o.getAreaStyle();s=y(s)?s:[s];for(var m=e.get(\"axisLabel.showMinLabel\"),v=e.get(\"axisLabel.showMaxLabel\"),x=1;x<u.length;x++)if(!bw(i,x,p,u.length,m,v)){var b,_,w,S,C=i.toGlobalCoord(u[x]);i.isHorizontal()?(_=l.y,w=C-(b=d),S=l.height):(b=l.x,w=l.width,S=C-(_=h));var M=f++%s.length;this._axisGroup.add(new gy({anid:\"area_\"+c[x],shape:{x:b,y:_,width:w,height:S},style:a({fill:s[M]},g),silent:!0})),d=b+w,h=_+S}}}});Cw.extend({type:\"xAxis\"}),Cw.extend({type:\"yAxis\"}),ia({type:\"grid\",render:function(e,t){this.group.removeAll(),e.get(\"show\")&&this.group.add(new gy({shape:e.coordinateSystem.getRect(),style:a({fill:e.get(\"backgroundColor\")},e.getItemStyle()),silent:!0,z2:-1}))}}),Yo(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}),Qo(Z_(\"line\",\"circle\",\"line\")),Jo(Y_(\"line\")),Xo(mb.PROCESSOR.STATISTIC,{seriesType:\"line\",reset:function(e,t,n){var i=e.getData(),r=e.get(\"sampling\"),o=e.coordinateSystem;if(\"cartesian2d\"===o.type&&r){var a,s=o.getBaseAxis(),l=o.getOtherAxis(s),u=s.getExtent(),c=u[1]-u[0],d=Math.round(i.count()/c);d>1&&(\"string\"==typeof r?a=X_[r]:\"function\"==typeof r&&(a=r),a&&e.setData(i.downSample(l.dim,1/d,a,$_)))}}});var Mw=Fx.extend({type:\"series.__base_bar__\",getInitialData:function(e,t){return wa(this.getSource(),this)},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(t.clampData(e)),i=this.getData(),r=i.getLayout(\"offset\"),o=i.getLayout(\"size\");return n[t.getBaseAxis().isHorizontal()?0:1]+=r+o/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{},emphasis:{}}});Mw.extend({type:\"series.bar\",dependencies:[\"grid\",\"polar\"],brushSelector:\"rect\"});var Tw=Qm([[\"fill\",\"color\"],[\"stroke\",\"borderColor\"],[\"lineWidth\",\"borderWidth\"],[\"stroke\",\"barBorderColor\"],[\"lineWidth\",\"barBorderWidth\"],[\"opacity\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"]]),kw=[\"itemStyle\",\"barBorderWidth\"];o(Bi.prototype,{getBarItemStyle:function(e){var t=Tw(this,e);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(t.lineDash=n)}return t}}),oa({type:\"bar\",render:function(e,t,n){var i=e.get(\"coordinateSystem\");return\"cartesian2d\"!==i&&\"polar\"!==i||this._render(e,t,n),this.group},dispose:z,_render:function(e,t,n){var i,r=this.group,o=e.getData(),a=this._data,s=e.coordinateSystem,l=s.getBaseAxis();\"cartesian2d\"===s.type?i=l.isHorizontal():\"polar\"===s.type&&(i=\"angle\"===l.dim);var u=e.isAnimationEnabled()?e:null;o.diff(a).add(function(t){if(o.hasValue(t)){var n=o.getItemModel(t),a=Iw[s.type](o,t,n),l=Aw[s.type](o,t,n,a,i,u);o.setItemGraphicEl(t,l),r.add(l),Gs(l,o,t,n,0,e,0,\"polar\"===s.type)}}).update(function(t,n){var l=a.getItemGraphicEl(n);if(o.hasValue(t)){var c=o.getItemModel(t),d=Iw[s.type](o,t,c);l?Ii(l,{shape:d},u,t):l=Aw[s.type](o,t,c,d,i,u,!0),o.setItemGraphicEl(t,l),r.add(l),Gs(l,o,t,c,0,e,0,\"polar\"===s.type)}else r.remove(l)}).remove(function(e){var t=a.getItemGraphicEl(e);\"cartesian2d\"===s.type?t&&Hs(e,u,t):t&&Ws(e,u,t)}).execute(),this._data=o},remove:function(e,t){var n=this.group,i=this._data;e.get(\"animation\")?i&&i.eachItemGraphicEl(function(t){\"sector\"===t.type?Ws(t.dataIndex,e,t):Hs(t.dataIndex,e,t)}):n.removeAll()}});var Aw={cartesian2d:function(e,t,n,i,r,a,s){var l=new gy({shape:o({},i)});if(a){var u=r?\"height\":\"width\",c={};l.shape[u]=0,c[u]=i[u],Dy[s?\"updateProps\":\"initProps\"](l,{shape:c},a,t)}return l},polar:function(e,t,n,i,r,a,s){var l=new uy({shape:o({},i)});if(a){var u=r?\"r\":\"endAngle\",c={};l.shape[u]=r?0:i.startAngle,c[u]=i[u],Dy[s?\"updateProps\":\"initProps\"](l,{shape:c},a,t)}return l}},Iw={cartesian2d:function(e,t,n){var i=e.getItemLayout(t),r=function(e,t){var n=e.get(kw)||0;return Math.min(n,Math.abs(t.width),Math.abs(t.height))}(n,i),o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(e,t,n){var i=e.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}};Jo(v(Ea,\"bar\")),Qo(function(e){e.eachSeriesByType(\"bar\",function(e){e.getData().setVisual(\"legendSymbol\",\"roundRect\")})});var Dw=function(e,t,n){t=y(t)&&{coordDimensions:t}||o({},t);var i=e.getSource(),r=Yb(i,t),a=new jb(r,e);return a.initData(i,n),a},Nw={updateSelectedMap:function(e){if(y(e))this._targetList=e.slice();else for(var t=e,n=t.mapDimension(\"value\"),i=(e=this._targetList=[],0),r=t.count();i<r;i++)e.push({name:t.getName(i),value:t.get(n,i),selected:Xr(t,i,\"selected\")});this._selectTargetMap=p(e||[],function(e,t){return e.set(t.name,t),e},O())},select:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);\"single\"===this.get(\"selectedMode\")&&this._selectTargetMap.each(function(e){e.selected=!1}),n&&(n.selected=!0)},unSelect:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);n&&(n.selected=!1)},toggleSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=n)return this[n.selected?\"unSelect\":\"select\"](e,t),n.selected},isSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return n&&n.selected}},Pw=ra({type:\"series.pie\",init:function(e){Pw.superApply(this,\"init\",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this.getRawData()),this._defaultLabelLine(e)},mergeOption:function(e){Pw.superCall(this,\"mergeOption\",e),this.updateSelectedMap(this.getRawData())},getInitialData:function(e,t){return Dw(this,[\"value\"])},getDataParams:function(e){var t=this.getData(),n=Pw.superCall(this,\"getDataParams\",e),i=[];return t.each(t.mapDimension(\"value\"),function(e){i.push(e)}),n.percent=Yi(i,e,t.hostModel.get(\"percentPrecision\")),n.$vars.push(\"percent\"),n},_defaultLabelLine:function(e){on(e,\"labelLine\",[\"show\"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:[\"50%\",\"50%\"],radius:[0,\"75%\"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:\"outer\"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:\"solid\"}},itemStyle:{borderWidth:1},animationType:\"expansion\",animationEasing:\"cubicOut\"}});c(Pw,Nw);var Lw=qs.prototype;Lw.updateData=function(e,t,n){function i(){s.stopAnimation(!0),s.animateTo({shape:{r:c.r+l.get(\"hoverOffset\")}},300,\"elasticOut\")}function r(){s.stopAnimation(!0),s.animateTo({shape:{r:c.r}},300,\"elasticOut\")}var s=this.childAt(0),l=e.hostModel,u=e.getItemModel(t),c=e.getItemLayout(t),d=o({},c);d.label=null,n?(s.setShape(d),\"scale\"===l.getShallow(\"animationType\")?(s.shape.r=c.r0,Di(s,{shape:{r:c.r}},l,t)):(s.shape.endAngle=c.startAngle,Ii(s,{shape:{endAngle:c.endAngle}},l,t))):Ii(s,{shape:d},l,t);var h=e.getItemVisual(t,\"color\");s.useStyle(a({lineJoin:\"bevel\",fill:h},u.getModel(\"itemStyle\").getItemStyle())),s.hoverStyle=u.getModel(\"emphasis.itemStyle\").getItemStyle();var f=u.getShallow(\"cursor\");f&&s.attr(\"cursor\",f),js(this,e.getItemLayout(t),l.isSelected(null,t),l.get(\"selectedOffset\"),l.get(\"animation\")),s.off(\"mouseover\").off(\"mouseout\").off(\"emphasis\").off(\"normal\"),u.get(\"hoverAnimation\")&&l.isAnimationEnabled()&&s.on(\"mouseover\",i).on(\"mouseout\",r).on(\"emphasis\",i).on(\"normal\",r),this._updateLabel(e,t),bi(this)},Lw._updateLabel=function(e,t){var n=this.childAt(1),i=this.childAt(2),r=e.hostModel,o=e.getItemModel(t),a=e.getItemLayout(t).label,s=e.getItemVisual(t,\"color\");Ii(n,{shape:{points:a.linePoints||[[a.x,a.y],[a.x,a.y],[a.x,a.y]]}},r,t),Ii(i,{style:{x:a.x,y:a.y}},r,t),i.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var l=o.getModel(\"label\"),u=o.getModel(\"emphasis.label\"),c=o.getModel(\"labelLine\"),d=o.getModel(\"emphasis.labelLine\");s=e.getItemVisual(t,\"color\"),_i(i.style,i.hoverStyle={},l,u,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:s,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign,opacity:e.getItemVisual(t,\"opacity\")}),i.ignore=i.normalIgnore=!l.get(\"show\"),i.hoverIgnore=!u.get(\"show\"),n.ignore=n.normalIgnore=!c.get(\"show\"),n.hoverIgnore=!d.get(\"show\"),n.setStyle({stroke:s,opacity:e.getItemVisual(t,\"opacity\")}),n.setStyle(c.getModel(\"lineStyle\").getLineStyle()),n.hoverStyle=d.getModel(\"lineStyle\").getLineStyle();var h=c.get(\"smooth\");h&&!0===h&&(h=.4),n.setShape({smooth:h})},u(qs,Qg),oo.extend({type:\"pie\",init:function(){var e=new Qg;this._sectorGroup=e},render:function(e,t,n,i){if(!i||i.from!==this.uid){var r=e.getData(),o=this._data,a=this.group,s=t.get(\"animation\"),l=!o,u=e.get(\"animationType\"),c=v(Us,this.uid,e,s,n),d=e.get(\"selectedMode\");if(r.diff(o).add(function(e){var t=new qs(r,e);l&&\"scale\"!==u&&t.eachChild(function(e){e.stopAnimation(!0)}),d&&t.on(\"click\",c),r.setItemGraphicEl(e,t),a.add(t)}).update(function(e,t){var n=o.getItemGraphicEl(t);n.updateData(r,e),n.off(\"click\"),d&&n.on(\"click\",c),a.add(n),r.setItemGraphicEl(e,n)}).remove(function(e){var t=o.getItemGraphicEl(e);a.remove(t)}).execute(),s&&l&&r.count()>0&&\"scale\"!==u){var h=r.getItemLayout(0),f=Math.max(n.getWidth(),n.getHeight())/2,p=m(a.removeClipPath,a);a.setClipPath(this._createClipPath(h.cx,h.cy,f,h.startAngle,h.clockwise,p,e))}this._data=r}},dispose:function(){},_createClipPath:function(e,t,n,i,r,o,a){var s=new uy({shape:{cx:e,cy:t,r0:0,r:n,startAngle:i,endAngle:i,clockwise:r}});return Di(s,{shape:{endAngle:i+(r?1:-1)*Math.PI*2}},a,o),s},containPoint:function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,r=e[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}}});var Ew=function(e,t){h(t,function(t){t.update=\"updateView\",$o(t,function(n,i){var r={};return i.eachComponent({mainType:\"series\",subType:e,query:n},function(e){e[t.method]&&e[t.method](n.name,n.dataIndex);var i=e.getData();i.each(function(t){var n=i.getName(t);r[n]=e.isSelected(n)||!1})}),{name:n.name,selected:r}})})},Rw=function(e){return{getTargetSeries:function(t){var n={},i=O();return t.eachSeriesByType(e,function(e){e.__paletteScope=n,i.set(e.uid,e)}),i},reset:function(e,t){var n=e.getRawData(),i={},r=e.getData();r.each(function(e){var t=r.getRawIndex(e);i[t]=e}),n.each(function(t){var o=i[t],a=null!=o&&r.getItemVisual(o,\"color\",!0);if(a)n.setItemVisual(t,\"color\",a);else{var s=n.getItemModel(t).get(\"itemStyle.color\")||e.getColorFromPalette(n.getName(t),e.__paletteScope,n.count());n.setItemVisual(t,\"color\",s),null!=o&&r.setItemVisual(o,\"color\",s)}})}}},Ow=2*Math.PI,Bw=Math.PI/180,zw=function(e){return{seriesType:e,reset:function(e,t){var n=t.findComponents({mainType:\"legend\"});if(n&&n.length){var i=e.getData();i.filterSelf(function(e){for(var t=i.getName(e),r=0;r<n.length;r++)if(!n[r].isSelected(t))return!1;return!0},this)}}}};Ew(\"pie\",[{type:\"pieToggleSelect\",event:\"pieselectchanged\",method:\"toggleSelected\"},{type:\"pieSelect\",event:\"pieselected\",method:\"select\"},{type:\"pieUnSelect\",event:\"pieunselected\",method:\"unSelect\"}]),Qo(Rw(\"pie\")),Jo(v(function(e,t,n,i){t.eachSeriesByType(e,function(e){var t=e.getData(),i=t.mapDimension(\"value\"),r=e.get(\"center\"),o=e.get(\"radius\");y(o)||(o=[0,o]),y(r)||(r=[r,r]);var a=n.getWidth(),s=n.getHeight(),l=Math.min(a,s),u=Wi(r[0],a),c=Wi(r[1],s),d=Wi(o[0],l/2),h=Wi(o[1],l/2),f=-e.get(\"startAngle\")*Bw,p=e.get(\"minAngle\")*Bw,g=0;t.each(i,function(e){!isNaN(e)&&g++});var m=t.getSum(i),v=Math.PI/(m||g)*2,x=e.get(\"clockwise\"),b=e.get(\"roseType\"),_=e.get(\"stillShowZeroSum\"),w=t.getDataExtent(i);w[0]=0;var S=Ow,C=0,M=f,T=x?1:-1;if(t.each(i,function(e,n){var i;if(isNaN(e))t.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:u,cy:c,r0:d,r:b?NaN:h});else{(i=\"area\"!==b?0===m&&_?v:e*v:Ow/g)<p?(i=p,S-=p):C+=e;var r=M+T*i;t.setItemLayout(n,{angle:i,startAngle:M,endAngle:r,clockwise:x,cx:u,cy:c,r0:d,r:b?Hi(e,w,[d,h]):h}),M=r}},!0),S<Ow&&g)if(S<=.001){var k=Ow/g;t.each(i,function(e,n){if(!isNaN(e)){var i=t.getItemLayout(n);i.angle=k,i.startAngle=f+T*n*k,i.endAngle=f+T*(n+1)*k}})}else v=S/C,M=f,t.each(i,function(e,n){if(!isNaN(e)){var i=t.getItemLayout(n),r=i.angle===p?p:e*v;i.startAngle=M,i.endAngle=M+T*r,M+=T*r}});!function(e,t,n,i){var r,o,a=e.getData(),s=[],l=!1;a.each(function(n){var i,u,c,d,h=a.getItemLayout(n),f=a.getItemModel(n),p=f.getModel(\"label\"),g=p.get(\"position\")||f.get(\"emphasis.label.position\"),m=f.getModel(\"labelLine\"),v=m.get(\"length\"),y=m.get(\"length2\"),x=(h.startAngle+h.endAngle)/2,b=Math.cos(x),_=Math.sin(x);r=h.cx,o=h.cy;var w=\"inside\"===g||\"inner\"===g;if(\"center\"===g)i=h.cx,u=h.cy,d=\"center\";else{var S=(w?(h.r+h.r0)/2*b:h.r*b)+r,C=(w?(h.r+h.r0)/2*_:h.r*_)+o;if(i=S+3*b,u=C+3*_,!w){var M=S+b*(v+t-h.r),T=C+_*(v+t-h.r),k=M+(b<0?-1:1)*y;i=k+(b<0?-5:5),u=T,c=[[S,C],[M,T],[k,T]]}d=w?\"center\":b>0?\"left\":\"right\"}var A=p.getFont(),I=p.get(\"rotate\")?b<0?-x+Math.PI:-x:0,D=ct(e.getFormattedLabel(n,\"normal\")||a.getName(n),A,d,\"top\");l=!!I,h.label={x:i,y:u,position:g,height:D.height,len:v,len2:y,linePoints:c,textAlign:d,verticalAlign:\"middle\",rotation:I,inside:w},w||s.push(h.label)}),!l&&e.get(\"avoidLabelOverlap\")&&function(e,t,n,i,r,o){for(var a=[],s=[],l=0;l<e.length;l++)e[l].x<t?a.push(e[l]):s.push(e[l]);for(Zs(s,t,n,i,1,0,o),Zs(a,t,n,i,-1,0,o),l=0;l<e.length;l++){var u=e[l].linePoints;if(u){var c=u[1][0]-u[2][0];u[2][0]=e[l].x<t?e[l].x+3:e[l].x-3,u[1][1]=u[2][1]=e[l].y,u[1][0]=u[2][0]+c}}}(s,r,o,t,0,i)}(e,h,0,s)})},\"pie\")),Xo(zw(\"pie\")),Fx.extend({type:\"series.scatter\",dependencies:[\"grid\",\"polar\",\"geo\",\"singleAxis\",\"calendar\"],getInitialData:function(e,t){return wa(this.getSource(),this)},brushSelector:\"point\",getProgressive:function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get(\"progressive\"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get(\"progressiveThreshold\"):e},defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},progressive:null}});var Fw=ei({shape:{points:null},symbolProxy:null,buildPath:function(e,t){var n=t.points,i=t.size,r=this.symbolProxy,o=r.shape;if(!((e.getContext?e.getContext():e)&&i[0]<4))for(var a=0;a<n.length;){var s=n[a++],l=n[a++];isNaN(s)||isNaN(l)||(o.x=s-i[0]/2,o.y=l-i[1]/2,o.width=i[0],o.height=i[1],r.buildPath(e,o,!0))}},afterBrush:function(e){var t=this.shape,n=t.points,i=t.size;if(i[0]<4){this.setTransform(e);for(var r=0;r<n.length;){var o=n[r++],a=n[r++];isNaN(o)||isNaN(a)||e.fillRect(o-i[0]/2,a-i[1]/2,i[0],i[1])}this.restoreTransform(e)}},findDataIndex:function(e,t){for(var n=this.shape,i=n.points,r=n.size,o=Math.max(r[0],4),a=Math.max(r[1],4),s=i.length/2-1;s>=0;s--){var l=2*s,u=i[l]-o/2,c=i[l+1]-a/2;if(e>=u&&t>=c&&e<=u+o&&t<=c+a)return s}return-1}}),Vw=Ys.prototype;Vw.isPersistent=function(){return!this._incremental},Vw.updateData=function(e){this.group.removeAll();var t=new Fw({rectHover:!0,cursor:\"default\"});t.setShape({points:e.getLayout(\"symbolPoints\")}),this._setCommon(t,e),this.group.add(t),this._incremental=null},Vw.updateLayout=function(e){if(!this._incremental){var t=e.getLayout(\"symbolPoints\");this.group.eachChild(function(e){null!=e.startIndex&&(t=new Float32Array(t.buffer,4*e.startIndex*2,2*(e.endIndex-e.startIndex))),e.setShape(\"points\",t)})}},Vw.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>2e6?(this._incremental||(this._incremental=new Qn({silent:!0})),this.group.add(this._incremental)):this._incremental=null},Vw.incrementalUpdate=function(e,t){var n;this._incremental?(n=new Fw,this._incremental.addDisplayable(n,!0)):((n=new Fw({rectHover:!0,cursor:\"default\",startIndex:e.start,endIndex:e.end})).incremental=!0,this.group.add(n)),n.setShape({points:t.getLayout(\"symbolPoints\")}),this._setCommon(n,t,!!this._incremental)},Vw._setCommon=function(e,t,n){var i=t.hostModel,r=t.getVisual(\"symbolSize\");e.setShape(\"size\",r instanceof Array?r:[r,r]),e.symbolProxy=Ua(t.getVisual(\"symbol\"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var o=e.shape.size[0]<4;e.useStyle(i.getModel(\"itemStyle\").getItemStyle(o?[\"color\",\"shadowBlur\",\"shadowColor\"]:[\"color\"]));var a=t.getVisual(\"color\");a&&e.setColor(a),n||(e.seriesIndex=i.seriesIndex,e.on(\"mousemove\",function(t){e.dataIndex=null;var n=e.findDataIndex(t.offsetX,t.offsetY);n>=0&&(e.dataIndex=n+(e.startIndex||0))}))},Vw.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Vw._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()},oa({type:\"scatter\",render:function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).updateData(i),this._finished=!0},incrementalPrepareRender:function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).incrementalPrepareUpdate(i),this._finished=!1},incrementalRender:function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,n){var i=e.getData();if(this.group.dirty(),!this._finished||i.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var r=Y_().reset(e);r.progress&&r.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_updateSymbolDraw:function(e,t){var n=this._symbolDraw,i=t.pipelineContext.large;return n&&i===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=i?new Ys:new es,this._isLargeDraw=i,this.group.removeAll()),this.group.add(n.group),n},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),Qo(Z_(\"scatter\",\"circle\")),Jo(Y_(\"scatter\")),u(Xs,I_),$s.prototype.getIndicatorAxes=function(){return this._indicatorAxes},$s.prototype.dataToPoint=function(e,t){return this.coordToPoint(this._indicatorAxes[t].dataToCoord(e),t)},$s.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(n),this.cy-e*Math.sin(n)]},$s.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=Math.sqrt(t*t+n*n);t/=i,n/=i;for(var r,o=Math.atan2(-n,t),a=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],c=Math.abs(o-u.angle);c<a&&(r=u,s=l,a=c)}return[s,+(r&&r.coodToData(i))]},$s.prototype.resize=function(e,t){var n=e.get(\"center\"),i=t.getWidth(),r=t.getHeight(),o=Math.min(i,r)/2;this.cx=Wi(n[0],i),this.cy=Wi(n[1],r),this.startAngle=e.get(\"startAngle\")*Math.PI/180,this.r=Wi(e.get(\"radius\"),o),h(this._indicatorAxes,function(e,t){e.setExtent(0,this.r);var n=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),e.angle=n},this)},$s.prototype.update=function(e,t){function n(e){var t=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),n=e/t;return 2===n?n=5:n*=2,n*t}var i=this._indicatorAxes,r=this._model;h(i,function(e){e.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType(\"radar\",function(t,n){if(\"radar\"===t.get(\"coordinateSystem\")&&e.getComponent(\"radar\",t.get(\"radarIndex\"))===r){var o=t.getData();h(i,function(e){e.scale.unionExtentFromData(o,o.mapDimension(e.dim))})}},this);var o=r.get(\"splitNumber\");h(i,function(e,t){var i=Oa(e.scale,e.model);za(e.scale,e.model);var r=e.model,a=e.scale,s=r.getMin(),l=r.getMax(),u=a.getInterval();if(null!=s&&null!=l)a.setExtent(+s,+l),a.setInterval((l-s)/o);else if(null!=s){var c;do{a.setExtent(+s,c=s+u*o),a.setInterval(u),u=n(u)}while(c<i[1]&&isFinite(c)&&isFinite(i[1]))}else if(null!=l){var d;do{a.setExtent(d=l-u*o,+l),a.setInterval(u),u=n(u)}while(d>i[0]&&isFinite(d)&&isFinite(i[0]))}else{a.getTicks().length-1>o&&(u=n(u));var h=Math.round((i[0]+i[1])/2/u)*u,f=Math.round(o/2);a.setExtent(Gi(h-f*u),Gi(h+(o-f)*u)),a.setInterval(u)}})},$s.dimensions=[],$s.create=function(e,t){var n=[];return e.eachComponent(\"radar\",function(i){var r=new $s(i,e,t);n.push(r),i.coordinateSystem=r}),e.eachSeriesByType(\"radar\",function(e){\"radar\"===e.get(\"coordinateSystem\")&&(e.coordinateSystem=n[e.get(\"radarIndex\")||0])}),n},Ir.register(\"radar\",$s);var Hw=ew.valueAxis,Ww=(na({type:\"radar\",optionUpdated:function(){var e=this.get(\"boundaryGap\"),t=this.get(\"splitNumber\"),r=this.get(\"scale\"),s=this.get(\"axisLine\"),l=this.get(\"axisTick\"),u=this.get(\"axisLabel\"),c=this.get(\"name\"),d=this.get(\"name.show\"),h=this.get(\"name.formatter\"),p=this.get(\"nameGap\"),g=this.get(\"triggerEvent\"),m=f(this.get(\"indicator\")||[],function(f){null!=f.max&&f.max>0&&!f.min?f.min=0:null!=f.min&&f.min<0&&!f.max&&(f.max=0);var m=c;if(null!=f.color&&(m=a({color:f.color},c)),f=i(n(f),{boundaryGap:e,splitNumber:t,scale:r,axisLine:s,axisTick:l,axisLabel:u,name:f.text,nameLocation:\"end\",nameGap:p,nameTextStyle:m,triggerEvent:g},!1),d||(f.name=\"\"),\"string\"==typeof h){var v=f.name;f.name=h.replace(\"{value}\",null!=v?v:\"\")}else\"function\"==typeof h&&(f.name=h(f.name,f));var y=o(new Bi(f,null,this.ecModel),m_);return y.mainType=\"radar\",y.componentIndex=this.componentIndex,y},this);this.getIndicatorModels=function(){return m}},defaultOption:{zlevel:0,z:0,center:[\"50%\",\"50%\"],radius:\"75%\",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:\"polygon\",axisLine:i({lineStyle:{color:\"#bbb\"}},Hw.axisLine),axisLabel:Ks(Hw.axisLabel,!1),axisTick:Ks(Hw.axisTick,!1),splitLine:Ks(Hw.splitLine,!0),splitArea:Ks(Hw.splitArea,!0),indicator:[]}}),[\"axisLine\",\"axisTickLabel\",\"axisName\"]);ia({type:\"radar\",render:function(e,t,n){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},_buildAxes:function(e){var t=e.coordinateSystem;h(f(t.getIndicatorAxes(),function(e){return new dw(e.model,{position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(e){h(Ww,e.add,e),this.group.add(e.getGroup())},this)},_buildSplitLineAndArea:function(e){function t(e,t,n){var i=n%t.length;return e[i]=e[i]||[],i}var n=e.coordinateSystem,i=n.getIndicatorAxes();if(i.length){var r=e.get(\"shape\"),o=e.getModel(\"splitLine\"),s=e.getModel(\"splitArea\"),l=o.getModel(\"lineStyle\"),u=s.getModel(\"areaStyle\"),c=o.get(\"show\"),d=s.get(\"show\"),p=l.get(\"color\"),g=u.get(\"color\");p=y(p)?p:[p],g=y(g)?g:[g];var m=[],v=[];if(\"circle\"===r)for(var x=i[0].getTicksCoords(),b=n.cx,_=n.cy,w=0;w<x.length;w++)c&&m[A=t(m,p,w)].push(new ay({shape:{cx:b,cy:_,r:x[w]}})),d&&w<x.length-1&&v[A=t(v,g,w)].push(new cy({shape:{cx:b,cy:_,r0:x[w],r:x[w+1]}}));else{var S,C=f(i,function(e,t){var i=e.getTicksCoords();return S=null==S?i.length-1:Math.min(i.length-1,S),f(i,function(e){return n.coordToPoint(e,t)})}),M=[];for(w=0;w<=S;w++){for(var T=[],k=0;k<i.length;k++)T.push(C[k][w]);if(T[0]&&T.push(T[0].slice()),c&&m[A=t(m,p,w)].push(new py({shape:{points:T}})),d&&M){var A=t(v,g,w-1);v[A].push(new fy({shape:{points:T.concat(M)}}))}M=T.slice().reverse()}}var I=l.getLineStyle(),D=u.getAreaStyle();h(v,function(e,t){this.group.add(Iy(e,{style:a({stroke:\"none\",fill:g[t%g.length]},D),silent:!0}))},this),h(m,function(e,t){this.group.add(Iy(e,{style:a({fill:\"none\",stroke:p[t%p.length]},I),silent:!0}))},this)}}});var Gw=Fx.extend({type:\"series.radar\",dependencies:[\"radar\"],init:function(e){Gw.superApply(this,\"init\",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(e,t){return Dw(this,{extraPrefix:\"indicator_\",extraFromZero:!0})},formatTooltip:function(e){var t=this.getData(),n=this.coordinateSystem.getIndicatorAxes(),i=this.getData().getName(e);return or(\"\"===i?this.name:i)+\"<br/>\"+f(n,function(n,i){var r=t.get(t.mapDimension(n.dim),e);return or(n.name+\" : \"+r)}).join(\"<br />\")},defaultOption:{zlevel:0,z:2,coordinateSystem:\"radar\",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:\"solid\"},label:{position:\"top\"},symbol:\"emptyCircle\",symbolSize:4}});oa({type:\"radar\",render:function(e,t,i){function r(e,t){var n=e.getItemVisual(t,\"symbol\")||\"circle\",i=e.getItemVisual(t,\"color\");if(\"none\"!==n){var r=function(e){return y(e)||(e=[+e,+e]),e}(e.getItemVisual(t,\"symbolSize\")),o=Ua(n,-1,-1,2,2,i);return o.attr({style:{strokeNoScale:!0},z2:100,scale:[r[0]/2,r[1]/2]}),o}}function o(t,n,i,o,a,s){i.removeAll();for(var l=0;l<n.length-1;l++){var u=r(o,a);u&&(u.__dimIdx=l,t[l]?(u.attr(\"position\",t[l]),Dy[s?\"initProps\":\"updateProps\"](u,{position:n[l]},e,a)):u.attr(\"position\",n[l]),i.add(u))}}function s(e){return f(e,function(e){return[l.cx,l.cy]})}var l=e.coordinateSystem,u=this.group,c=e.getData(),d=this._data;c.diff(d).add(function(t){var n=c.getItemLayout(t);if(n){var i=new fy,r=new py,a={shape:{points:n}};i.shape.points=s(n),r.shape.points=s(n),Di(i,a,e,t),Di(r,a,e,t);var l=new Qg,u=new Qg;l.add(r),l.add(i),l.add(u),o(r.shape.points,n,u,c,t,!0),c.setItemGraphicEl(t,l)}}).update(function(t,n){var i=d.getItemGraphicEl(n),r=i.childAt(0),a=i.childAt(1),s=i.childAt(2),l={shape:{points:c.getItemLayout(t)}};l.shape.points&&(o(r.shape.points,l.shape.points,s,c,t,!1),Ii(r,l,e),Ii(a,l,e),c.setItemGraphicEl(t,i))}).remove(function(e){u.remove(d.getItemGraphicEl(e))}).execute(),c.eachItemGraphicEl(function(e,t){function i(){l.attr(\"ignore\",m)}function r(){l.attr(\"ignore\",g)}var o=c.getItemModel(t),s=e.childAt(0),l=e.childAt(1),d=e.childAt(2),h=c.getItemVisual(t,\"color\");u.add(e),s.useStyle(a(o.getModel(\"lineStyle\").getLineStyle(),{fill:\"none\",stroke:h})),s.hoverStyle=o.getModel(\"emphasis.lineStyle\").getLineStyle();var f=o.getModel(\"areaStyle\"),p=o.getModel(\"emphasis.areaStyle\"),g=f.isEmpty()&&f.parentModel.isEmpty(),m=p.isEmpty()&&p.parentModel.isEmpty();m=m&&g,l.ignore=g,l.useStyle(a(f.getAreaStyle(),{fill:h,opacity:.7})),l.hoverStyle=p.getAreaStyle();var v=o.getModel(\"itemStyle\").getItemStyle([\"color\"]),y=o.getModel(\"emphasis.itemStyle\").getItemStyle(),x=o.getModel(\"label\"),b=o.getModel(\"emphasis.label\");d.eachChild(function(e){e.setStyle(v),e.hoverStyle=n(y),_i(e.style,e.hoverStyle,x,b,{labelFetcher:c.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:c.get(c.dimensions[e.__dimIdx],t),autoColor:h,isRectText:!0})}),e.off(\"mouseover\").off(\"mouseout\").off(\"normal\").off(\"emphasis\"),e.on(\"emphasis\",i).on(\"mouseover\",i).on(\"normal\",r).on(\"mouseout\",r),bi(e)}),this._data=c},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),Qo(Rw(\"radar\")),Qo(Z_(\"radar\",\"circle\")),Jo(function(e){e.eachSeriesByType(\"radar\",function(e){var t=e.getData(),n=[],i=e.coordinateSystem;if(i){for(var r=i.getIndicatorAxes(),o=0;o<i.getIndicatorAxes().length;o++)t.each(t.mapDimension(r[o].dim),function(e,t){n[t]=n[t]||[],n[t][o]=i.dataToPoint(e,o)});t.each(function(e){n[e][0]&&n[e].push(n[e][0].slice()),t.setItemLayout(e,n[e])})}})}),Xo(zw(\"radar\")),Yo(function(e){var t=e.polar;if(t){y(t)||(t=[t]);var n=[];h(t,function(t,i){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],y(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):n.push(t)}),e.polar=n}h(e.series,function(e){e&&\"radar\"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)})});var Uw=Fx.extend({type:\"series.map\",dependencies:[\"geo\"],layoutMode:\"box\",needsDrawMap:!1,seriesGroup:[],init:function(e){this._fillOption(e,this.getMapType()),Uw.superApply(this,\"init\",arguments),this.updateSelectedMap(this.getRawData())},getInitialData:function(e){return Dw(this,[\"value\"])},mergeOption:function(e){this._fillOption(e,this.getMapType()),Uw.superApply(this,\"mergeOption\",arguments),this.updateSelectedMap(this.getRawData())},getHostGeoModel:function(){var e=this.option.geoIndex;return null!=e?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(e,t){},getRawValue:function(e){var t=this.getData();return t.get(t.mapDimension(\"value\"),e)},getRegionModel:function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},formatTooltip:function(e){for(var t=this.getData(),n=ir(this.getRawValue(e)),i=t.getName(e),r=this.seriesGroup,o=[],a=0;a<r.length;a++){var s=r[a].originalData.indexOfName(i),l=t.mapDimension(\"value\");isNaN(r[a].originalData.get(l,s))||o.push(or(r[a].name))}return o.join(\", \")+\"<br />\"+or(i+\" : \"+n)},getTooltipPosition:function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,i=n.getRegion(t);return i&&n.dataToPoint(i.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:\"geo\",map:\"\",left:\"center\",top:\"center\",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:\"#000\"},itemStyle:{borderWidth:.5,borderColor:\"#444\",areaColor:\"#eee\"},emphasis:{label:{show:!0,color:\"rgb(100,0,0)\"},itemStyle:{areaColor:\"rgba(255,215,0,0.8)\"}}}});c(Uw,Nw);var jw=\"\\0_ec_interaction_mutex\";$o({type:\"takeGlobalCursor\",event:\"globalCursorTaken\",update:\"update\"},function(){}),c(el,Sg);var qw={axisPointer:1,tooltip:1,brush:1};pl.prototype={constructor:pl,draw:function(e,t,n,i,r){var o=\"geo\"===e.mainType,a=e.getData&&e.getData();o&&t.eachComponent({mainType:\"series\",subType:\"map\"},function(t){a||t.getHostGeoModel()!==e||(a=t.getData())});var s=e.coordinateSystem,l=this.group,u=s.scale,c={position:s.position,scale:u};!l.childAt(0)||r?l.attr(c):Ii(l,c,e),l.removeAll();var d=[\"itemStyle\"],f=[\"emphasis\",\"itemStyle\"],p=[\"label\"],g=[\"emphasis\",\"label\"],m=O();h(s.regions,function(t){var n=m.get(t.name)||m.set(t.name,new Qg),i=new by({shape:{paths:[]}});n.add(i);var r,s=(I=e.getRegionModel(t.name)||e).getModel(d),c=I.getModel(f),v=dl(s),y=dl(c),x=I.getModel(p),b=I.getModel(g);if(a){r=a.indexOfName(t.name);var _=a.getItemVisual(r,\"color\",!0);_&&(v.fill=_)}h(t.geometries,function(e){if(\"polygon\"===e.type){i.shape.paths.push(new fy({shape:{points:e.exterior}}));for(var t=0;t<(e.interiors?e.interiors.length:0);t++)i.shape.paths.push(new fy({shape:{points:e.interiors[t]}}))}}),i.setStyle(v),i.style.strokeNoScale=!0,i.culling=!0;var w=x.get(\"show\"),S=b.get(\"show\"),C=a&&isNaN(a.get(a.mapDimension(\"value\"),r)),M=a&&a.getItemLayout(r);if(o||C&&(w||S)||M&&M.showLabel){var T,k=o?t.name:r;(!a||r>=0)&&(T=e);var A=new oy({position:t.center.slice(),scale:[1/u[0],1/u[1]],z2:10,silent:!0});_i(A.style,A.hoverStyle={},x,b,{labelFetcher:T,labelDataIndex:k,defaultText:t.name,useInsideStyle:!1},{textAlign:\"center\",textVerticalAlign:\"middle\"}),n.add(A)}if(a)a.setItemGraphicEl(r,n);else{var I=e.getRegionModel(t.name);i.eventData={componentType:\"geo\",geoIndex:e.componentIndex,name:t.name,region:I&&I.option||{}}}(n.__regions||(n.__regions=[])).push(t),bi(n,y,{hoverSilentOnTouch:!!e.get(\"selectedMode\")}),l.add(n)}),this._updateController(e,t,n),hl(this,e,l,n,i),fl(e,l)},remove:function(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={}},_updateController:function(e,t,n){function i(){var t={type:\"geoRoam\",componentType:l};return t[l+\"Id\"]=e.id,t}var r=e.coordinateSystem,a=this._controller,s=this._controllerHost;s.zoomLimit=e.get(\"scaleLimit\"),s.zoom=r.getZoom(),a.enable(e.get(\"roam\")||!1);var l=e.mainType;a.off(\"pan\").on(\"pan\",function(e,t){this._mouseDownFlag=!1,ll(s,e,t),n.dispatchAction(o(i(),{dx:e,dy:t}))},this),a.off(\"zoom\").on(\"zoom\",function(e,t,r){if(this._mouseDownFlag=!1,ul(s,e,t,r),n.dispatchAction(o(i(),{zoom:e,originX:t,originY:r})),this._updateGroup){var a=this.group,l=a.scale;a.traverse(function(e){\"text\"===e.type&&e.attr(\"scale\",[1/l[0],1/l[1]])})}},this),a.setPointerChecker(function(t,i,o){return r.getViewRectAfterRoam().contain(i,o)&&!cl(t,n,e)})}},oa({type:\"map\",render:function(e,t,n,i){if(!i||\"mapToggleSelect\"!==i.type||i.from!==this.uid){var r=this.group;if(r.removeAll(),!e.getHostGeoModel()){if(i&&\"geoRoam\"===i.type&&\"series\"===i.componentType&&i.seriesId===e.id)(o=this._mapDraw)&&r.add(o.group);else if(e.needsDrawMap){var o=this._mapDraw||new pl(n,!0);r.add(o.group),o.draw(e,t,n,this,i),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get(\"showLegendSymbol\")&&t.getComponent(\"legend\")&&this._renderSymbols(e,t,n)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(e,t,n){var i=e.originalData,r=this.group;i.each(i.mapDimension(\"value\"),function(t,n){if(!isNaN(t)){var o=i.getItemLayout(n);if(o&&o.point){var a=o.point,s=o.offset,l=new ay({style:{fill:e.getData().getVisual(\"color\")},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:s?8:10});if(!s){var u=e.mainSeries.getData(),c=i.getName(n),d=u.indexOfName(c),h=i.getItemModel(n),f=h.getModel(\"label\"),p=h.getModel(\"emphasis.label\"),g=u.getItemGraphicEl(d),m=k(e.getFormattedLabel(n,\"normal\"),c),v=k(e.getFormattedLabel(n,\"emphasis\"),m),y=function(){var e=wi({},p,{text:p.get(\"show\")?v:null},{isRectText:!0,useInsideStyle:!1},!0);l.style.extendFrom(e),l.__mapOriginalZ2=l.z2,l.z2+=1},x=function(){wi(l.style,f,{text:f.get(\"show\")?m:null,textPosition:f.getShallow(\"position\")||\"bottom\"},{isRectText:!0,useInsideStyle:!1}),null!=l.__mapOriginalZ2&&(l.z2=l.__mapOriginalZ2,l.__mapOriginalZ2=null)};g.on(\"mouseover\",y).on(\"mouseout\",x).on(\"emphasis\",y).on(\"normal\",x),x()}r.add(l)}}})}}),$o({type:\"geoRoam\",event:\"geoRoam\",update:\"updateTransform\"},function(e,t){var n=e.componentType||\"series\";t.eachComponent({mainType:n,query:e},function(t){var i=t.coordinateSystem;if(\"geo\"===i.type){var r=gl(i,e,t.get(\"scaleLimit\"));t.setCenter&&t.setCenter(r.center),t.setZoom&&t.setZoom(r.zoom),\"series\"===n&&h(t.seriesGroup,function(e){e.setCenter(r.center),e.setZoom(r.zoom)})}})});var Zw=Q;c(ml,Ng),vl.prototype={constructor:vl,type:\"view\",dimensions:[\"x\",\"y\"],setBoundingRect:function(e,t,n,i){return this._rect=new Ze(e,t,n,i),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,t,n,i){this.transformTo(e,t,n,i),this._viewRect=new Ze(e,t,n,i)},transformTo:function(e,t,n,i){var r=this.getBoundingRect(),o=this._rawTransformable;o.transform=r.calculateTransform(new Ze(e,t,n,i)),o.decomposeTransform(),this._updateTransform()},setCenter:function(e){e&&(this._center=e,this._updateCenterAndZoom())},setZoom:function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},getDefaultCenter:function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),r=this.getZoom();i=Q([],i,e),n=Q([],n,e),t.origin=i,t.position=[n[0]-i[0],n[1]-i[1]],t.scale=[r,r],this._updateTransform()},_updateTransform:function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),le(this.transform||(this.transform=[]),t.transform||ae()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],fe(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},dataToPoint:function(e,t,n){var i=t?this._rawTransform:this.transform;return n=n||[],i?Zw(n,e,i):V(n,e)},pointToData:function(e){var t=this.invTransform;return t?Zw([],e,t):[e[0],e[1]]},convertToPixel:v(yl,\"dataToPoint\"),convertFromPixel:v(yl,\"pointToData\"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}},c(vl,Ng);for(var Yw=[126,25],Xw=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],$w=0;$w<Xw.length;$w++)for(var Kw=0;Kw<Xw[$w].length;Kw++)Xw[$w][Kw][0]/=10.5,Xw[$w][Kw][1]/=-14,Xw[$w][Kw][0]+=Yw[0],Xw[$w][Kw][1]+=Yw[1];var Jw={\"南海诸岛\":[32,80],\"广东\":[0,-10],\"香港\":[10,5],\"澳门\":[-10,10],\"天津\":[5,5]},Qw={Russia:[100,60],\"United States\":[-99,38],\"United States of America\":[-99,38]},eS=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],tS=[function(e){\"china\"===e.map&&e.regions.push(new Za(\"南海诸岛\",f(Xw,function(e){return{type:\"polygon\",exterior:e}}),Yw))},function(e){h(e.regions,function(e){var t=Jw[e.name];if(t){var n=e.center;n[0]+=t[0]/10.5,n[1]+=-t[1]/14}})},function(e){h(e.regions,function(e){var t=Qw[e.name];if(t){var n=e.center;n[0]=t[0],n[1]=t[1]}})},function(e){if(\"china\"===e.map)for(var t=0,n=e.regions.length;t<n;++t)\"台湾\"===e.regions[t].name&&e.regions[t].geometries.push({type:\"polygon\",exterior:eS[0]})}];xl.prototype={constructor:xl,type:\"geo\",dimensions:[\"lng\",\"lat\"],containCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return!0;return!1},loadGeoJson:function(e,t,n){try{this.regions=e?T_(e):[]}catch(e){throw\"Invalid geoJson format\\n\"+e.message}t=t||{},n=n||{};for(var i=this.regions,r=O(),o=0;o<i.length;o++){var a=i[o].name;a=n.hasOwnProperty(a)?n[a]:a,i[o].name=a,r.set(a,i[o]),this.addGeoCoord(a,i[o].center);var s=t[a];s&&i[o].transformTo(s.left,s.top,s.width,s.height)}this._regionsMap=r,this._rect=null,h(tS,function(e){e(this)},this)},transformTo:function(e,t,n,i){var r=this.getBoundingRect();(r=r.clone()).y=-r.y-r.height;var o=this._rawTransformable;o.transform=r.calculateTransform(new Ze(e,t,n,i)),o.decomposeTransform();var a=o.scale;a[1]=-a[1],o.updateTransform(),this._updateTransform()},getRegion:function(e){return this._regionsMap.get(e)},getRegionByCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return t[n]},addGeoCoord:function(e,t){this._nameCoordMap.set(e,t)},getGeoCoord:function(e){return this._nameCoordMap.get(e)},getBoundingRect:function(){if(this._rect)return this._rect;for(var e,t=this.regions,n=0;n<t.length;n++){var i=t[n].getBoundingRect();(e=e||i.clone()).union(i)}return this._rect=e||new Ze(0,0,0,0)},dataToPoint:function(e,t,n){if(\"string\"==typeof e&&(e=this.getGeoCoord(e)),e)return vl.prototype.dataToPoint.call(this,e,t,n)},convertToPixel:v(bl,\"dataToPoint\"),convertFromPixel:v(bl,\"pointToData\")},c(xl,vl);var nS={dimensions:xl.prototype.dimensions,create:function(e,t){var n=[];e.eachComponent(\"geo\",function(e,i){var r=e.get(\"map\"),o=aa(r),a=new xl(r+i,r,o&&o.geoJson,o&&o.specialAreas,e.get(\"nameMap\"));a.zoomLimit=e.get(\"scaleLimit\"),n.push(a),wl(a,e),e.coordinateSystem=a,a.model=e,a.resize=_l,a.resize(e,t)}),e.eachSeries(function(e){if(\"geo\"===e.get(\"coordinateSystem\")){var t=e.get(\"geoIndex\")||0;e.coordinateSystem=n[t]}});var i={};return e.eachSeriesByType(\"map\",function(e){if(!e.getHostGeoModel()){var t=e.getMapType();i[t]=i[t]||[],i[t].push(e)}}),h(i,function(e,i){var o=aa(i),a=f(e,function(e){return e.get(\"nameMap\")}),s=new xl(i,i,o&&o.geoJson,o&&o.specialAreas,r(a));s.zoomLimit=T.apply(null,f(e,function(e){return e.get(\"scaleLimit\")})),n.push(s),s.resize=_l,s.resize(e[0],t),h(e,function(e){e.coordinateSystem=s,wl(s,e)})}),n},getFilledRegions:function(e,t,n){var i=(e||[]).slice();n=n||{};var r=aa(t),o=r&&r.geoJson;if(!o)return e;for(var a=O(),s=o.features,l=0;l<i.length;l++)a.set(i[l].name,i[l]);for(l=0;l<s.length;l++){var u=s[l].properties.name;a.get(u)||(n.hasOwnProperty(u)&&(u=n[u]),i.push({name:u}))}return i}};Ko(\"geo\",nS),Jo(function(e){var t={};e.eachSeriesByType(\"map\",function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!t[i]){var r={};h(n.seriesGroup,function(t){var n=t.coordinateSystem,i=t.originalData;t.get(\"showLegendSymbol\")&&e.getComponent(\"legend\")&&i.each(i.mapDimension(\"value\"),function(e,t){var o=i.getName(t),a=n.getRegion(o);if(a&&!isNaN(e)){var s=r[o]||0,l=n.dataToPoint(a.center);r[o]=s+1,i.setItemLayout(t,{point:l,offset:s})}})});var o=n.getData();o.each(function(e){var t=o.getName(e),n=o.getItemLayout(e)||{};n.showLabel=!r[t],o.setItemLayout(e,n)}),t[i]=!0}})}),Qo(function(e){e.eachSeriesByType(\"map\",function(e){var t=e.get(\"color\"),n=e.getModel(\"itemStyle\"),i=n.get(\"areaColor\"),r=n.get(\"color\")||t[e.seriesIndex%t.length];e.getData().setVisual({areaColor:i,color:r})})}),Xo(mb.PROCESSOR.STATISTIC,function(e){var t={};e.eachSeriesByType(\"map\",function(e){var n=e.getHostGeoModel(),i=n?\"o\"+n.id:\"i\"+e.getMapType();(t[i]=t[i]||[]).push(e)}),h(t,function(e,t){for(var n=function(e,t){var n={};return h(e,function(e){e.each(e.mapDimension(\"value\"),function(t,i){var r=\"ec-\"+e.getName(i);n[r]=n[r]||[],isNaN(t)||n[r].push(t)})}),e[0].map(e[0].mapDimension(\"value\"),function(i,r){for(var o=\"ec-\"+e[0].getName(r),a=0,s=1/0,l=-1/0,u=n[o].length,c=0;c<u;c++)s=Math.min(s,n[o][c]),l=Math.max(l,n[o][c]),a+=n[o][c];return 0===u?NaN:\"min\"===t?s:\"max\"===t?l:\"average\"===t?a/u:a})}(f(e,function(e){return e.getData()}),e[0].get(\"mapValueCalculation\")),i=0;i<e.length;i++)e[i].originalData=e[i].getData();for(i=0;i<e.length;i++)e[i].seriesGroup=e,e[i].needsDrawMap=0===i&&!e[i].getHostGeoModel(),e[i].setData(n.cloneShallow()),e[i].mainSeries=e[0]})}),Yo(function(e){var t=[];h(e.series,function(e){e&&\"map\"===e.type&&(t.push(e),e.map=e.map||e.mapType,a(e,e.mapLocation))})}),Ew(\"map\",[{type:\"mapToggleSelect\",event:\"mapselectchanged\",method:\"toggleSelected\"},{type:\"mapSelect\",event:\"mapselected\",method:\"select\"},{type:\"mapUnSelect\",event:\"mapunselected\",method:\"unSelect\"}]);var iS=h,rS=\"\\0__link_datas\",oS=\"\\0__link_mainData\",aS=function(e,t){this.name=e||\"\",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=t};aS.prototype={constructor:aS,isRemoved:function(){return this.dataIndex<0},eachNode:function(e,t,n){\"function\"==typeof e&&(n=t,t=e,e=null),b(e=e||{})&&(e={order:e});var i,r=e.order||\"preorder\",o=this[e.attr||\"children\"];\"preorder\"===r&&(i=t.call(n,this));for(var a=0;!i&&a<o.length;a++)o[a].eachNode(e,t,n);\"postorder\"===r&&t.call(n,this)},updateDepthAndHeight:function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},getNodeById:function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,i=n.length;t<i;t++){var r=n[t].getNodeById(e);if(r)return r}},contains:function(e){if(e===this)return!0;for(var t=0,n=this.children,i=n.length;t<i;t++){var r=n[t].contains(e);if(r)return r}},getAncestors:function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},getValue:function(e){var t=this.hostTree.data;return t.get(t.getDimension(e||\"value\"),this.dataIndex)},setLayout:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(e){if(!(this.dataIndex<0)){var t,n=this.hostTree,i=n.data.getItemModel(this.dataIndex),r=this.getLevelModel();return r||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(t=this.getLeavesModel()),i.getModel(e,(r||t||n.hostModel).getModel(e))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},getVisual:function(e,t){return this.hostTree.data.getItemVisual(this.dataIndex,e,t)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},isDescendantOf:function(e){return e!==this&&e.isAncestorOf(this)}},Dl.prototype={constructor:Dl,type:\"tree\",eachNode:function(e,t,n){this.root.eachNode(e,t,n)},getNodeByDataIndex:function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},getNodeByName:function(e){return this.root.getNodeByName(e)},update:function(){for(var e=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(n=0,i=e.count();n<i;n++)t[e.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},Dl.createTree=function(e,t,n){var i=new Dl(t,n.levels,n.leaves),r=[],o=1;(function e(t,n){var a=t.value;o=Math.max(o,y(a)?a.length:1),r.push(t);var s=new aS(t.name,i);n?function(e,t){e.parentNode!==t&&(t.children.push(e),e.parentNode=t)}(s,n):i.root=s,i._nodes.push(s);var l=t.children;if(l)for(var u=0;u<l.length;u++)e(l[u],s)})(e),i.root.updateDepthAndHeight(0);var a=Yb(r,{coordDimensions:[\"value\"],dimensionsCount:o}),s=new jb(a,t);return s.initData(r),Sl({mainData:s,struct:i,structAttr:\"tree\"}),i.update(),i},Fx.extend({type:\"series.tree\",layoutInfo:null,layoutMode:\"box\",getInitialData:function(e){var t={name:e.name,children:e.data},n={};n.leaves=e.leaves||{};var i=Dl.createTree(t,this,n),r=0;i.eachNode(\"preorder\",function(e){e.depth>r&&(r=e.depth)});var o=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:r;return i.root.eachNode(\"preorder\",function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=o}),i.data},formatTooltip:function(e){for(var t=this.getData().tree,n=t.root.children[0],i=t.getNodeByDataIndex(e),r=i.getValue(),o=i.name;i&&i!==n;)o=i.parentNode.name+\".\"+o,i=i.parentNode;return or(o+(isNaN(r)||null==r?\"\":\" : \"+r))},defaultOption:{zlevel:0,z:2,left:\"12%\",top:\"12%\",right:\"12%\",bottom:\"12%\",layout:\"orthogonal\",orient:\"horizontal\",symbol:\"emptyCircle\",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:\"#ccc\",width:1.5,curveness:.5},itemStyle:{color:\"lightsteelblue\",borderColor:\"#c23531\",borderWidth:1.5},label:{show:!0,color:\"#555\"},leaves:{label:{show:!0}},animationEasing:\"linear\",animationDuration:700,animationDurationUpdate:1e3}}),oa({type:\"tree\",init:function(e,t){this._mainGroup=new Qg,this.group.add(this._mainGroup)},render:function(e,t,n,i){var r=e.getData(),o=e.layoutInfo,a=this._mainGroup,s=e.get(\"layout\");a.attr(\"position\",\"radial\"===s?[o.x+o.width/2,o.y+o.height/2]:[o.x,o.y]);var l=this._data,u={expandAndCollapse:e.get(\"expandAndCollapse\"),layout:s,orient:e.get(\"orient\"),curvature:e.get(\"lineStyle.curveness\"),symbolRotate:e.get(\"symbolRotate\"),symbolOffset:e.get(\"symbolOffset\"),hoverAnimation:e.get(\"hoverAnimation\"),useNameLabel:!0,fadeIn:!0};r.diff(l).add(function(t){Vl(r,t)&&Wl(r,t,null,a,e,u)}).update(function(t,n){var i=l.getItemGraphicEl(n);Vl(r,t)?Wl(r,t,i,a,e,u):i&&Gl(r,t,i,a,e,u)}).remove(function(t){var n=l.getItemGraphicEl(t);Gl(r,t,n,a,e,u)}).execute(),!0===u.expandAndCollapse&&r.eachItemGraphicEl(function(t,i){t.off(\"click\").on(\"click\",function(){n.dispatchAction({type:\"treeExpandAndCollapse\",seriesId:e.id,dataIndex:i})})}),this._data=r},dispose:function(){},remove:function(){this._mainGroup.removeAll(),this._data=null}}),$o({type:\"treeExpandAndCollapse\",event:\"treeExpandAndCollapse\",update:\"update\"},function(e,t){t.eachComponent({mainType:\"series\",subType:\"tree\",query:e},function(t){var n=e.dataIndex,i=t.getData().tree.getNodeByDataIndex(n);i.isExpand=!i.isExpand})});var sS=function(e,t){var n=function(e,t){return hr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=n;var i=e.get(\"layout\"),r=0,o=0,a=null;\"radial\"===i?(r=2*Math.PI,o=Math.min(n.height,n.width)/2,a=Ll(function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth})):(r=n.width,o=n.height,a=Ll());var s=e.getData().tree.root,l=s.children[0];(function(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t,n,i=[e];t=i.pop();)if(n=t.children,t.isExpand&&n.length)for(var r=n.length-1;r>=0;r--){var o=n[r];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:r,thread:null},i.push(o)}})(s),function(e,t,n){for(var i,r=[e],o=[];i=r.pop();)if(o.push(i),i.isExpand){var a=i.children;if(a.length)for(var s=0;s<a.length;s++)r.push(a[s])}for(;i=o.pop();)t(i,n)}(l,Nl,a),s.hierNode.modifier=-l.hierNode.prelim,jl(l,Pl);var u=l,c=l,d=l;jl(l,function(e){var t=e.getLayout().x;t<u.getLayout().x&&(u=e),t>c.getLayout().x&&(c=e),e.depth>d.depth&&(d=e)});var h=u===c?1:a(u,c)/2,f=h-u.getLayout().x,p=0,g=0,m=0,v=0;\"radial\"===i?(p=r/(c.getLayout().x+h+f),g=o/(d.depth-1||1),jl(l,function(e){var t=El(m=(e.getLayout().x+f)*p,v=(e.depth-1)*g);e.setLayout({x:t.x,y:t.y,rawX:m,rawY:v},!0)})):\"horizontal\"===e.get(\"orient\")?(g=o/(c.getLayout().x+h+f),p=r/(d.depth-1||1),jl(l,function(e){v=(e.getLayout().x+f)*g,e.setLayout({x:m=(e.depth-1)*p,y:v},!0)})):(p=r/(c.getLayout().x+h+f),g=o/(d.depth-1||1),jl(l,function(e){m=(e.getLayout().x+f)*p,e.setLayout({x:m,y:v=(e.depth-1)*g},!0)}))};Qo(Z_(\"tree\",\"circle\")),Jo(function(e,t){e.eachSeriesByType(\"tree\",function(e){sS(e,t)})}),Jo(function(e,t){e.eachSeriesByType(\"tree\",function(e){sS(e,t)})}),Fx.extend({type:\"series.treemap\",layoutMode:\"box\",dependencies:[\"grid\",\"polar\"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:\"center\",top:\"middle\",right:null,bottom:null,width:\"80%\",height:\"80%\",sort:!0,clipWindow:\"origin\",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:\"▶\",zoomToNodeRatio:.1024,roam:!0,nodeClick:\"zoomToNode\",animation:!0,animationDurationUpdate:900,animationEasing:\"quinticInOut\",breadcrumb:{show:!0,height:22,left:\"center\",top:\"bottom\",emptyItemWidth:25,itemStyle:{color:\"rgba(0,0,0,0.7)\",borderColor:\"rgba(255,255,255,0.7)\",borderWidth:1,shadowColor:\"rgba(150,150,150,1)\",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:\"#fff\"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:\"inside\",color:\"#fff\",ellipsis:!0},upperLabel:{show:!1,position:[0,\"50%\"],height:20,color:\"#fff\",ellipsis:!0,verticalAlign:\"middle\"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:\"#fff\",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,\"50%\"],color:\"#fff\",ellipsis:!0,verticalAlign:\"middle\"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:\"index\",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,t){var n={name:e.name,children:e.data};$l(n);var i=e.levels||[];i=e.levels=function(e,t){var n,i=t.get(\"color\");if(i)return h(e=e||[],function(e){var t=new Bi(e),i=t.get(\"color\");(t.get(\"itemStyle.color\")||i&&\"none\"!==i)&&(n=!0)}),n||((e[0]||(e[0]={})).color=i.slice()),e}(i,t);var r={};return r.levels=i,Dl.createTree(n,this,r).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var t=this.getData(),n=this.getRawValue(e),i=ir(y(n)?n[0]:n);return or(t.getName(e)+\": \"+i)},getDataParams:function(e){var t=Fx.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=Xl(n,this),t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},o(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=O(),this._idIndexMapCount=0);var n=t.get(e);return null==n&&t.set(e,n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});var lS=5;Kl.prototype={constructor:Kl,render:function(e,t,n,i){var r=e.getModel(\"breadcrumb\"),o=this.group;if(o.removeAll(),r.get(\"show\")&&n){var a=r.getModel(\"itemStyle\"),s=a.getModel(\"textStyle\"),l={pos:{left:r.get(\"left\"),right:r.get(\"right\"),top:r.get(\"top\"),bottom:r.get(\"bottom\")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:r.get(\"emptyItemWidth\"),totalWidth:0,renderList:[]};this._prepare(n,l,s),this._renderContent(e,l,a,s,i),fr(o,l.pos,l.box)}},_prepare:function(e,t,n){for(var i=e;i;i=i.parentNode){var r=i.getModel().get(\"name\"),o=n.getTextRect(r),a=Math.max(o.width+16,t.emptyItemWidth);t.totalWidth+=a+8,t.renderList.push({node:i,text:r,width:a})}},_renderContent:function(e,t,n,i,r){for(var o=0,s=t.emptyItemWidth,l=e.get(\"breadcrumb.height\"),u=function(e,t,n){var i=t.width,r=t.height,o=Wi(e.x,i),a=Wi(e.y,r),s=Wi(e.x2,i),l=Wi(e.y2,r);return(isNaN(o)||isNaN(parseFloat(e.x)))&&(o=0),(isNaN(s)||isNaN(parseFloat(e.x2)))&&(s=i),(isNaN(a)||isNaN(parseFloat(e.y)))&&(a=0),(isNaN(l)||isNaN(parseFloat(e.y2)))&&(l=r),n=Wy(n||0),{width:Math.max(s-o-n[1]-n[3],0),height:Math.max(l-a-n[0]-n[2],0)}}(t.pos,t.box),c=t.totalWidth,d=t.renderList,h=d.length-1;h>=0;h--){var f=d[h],p=f.node,g=f.width,m=f.text;c>u.width&&(c-=g-s,g=s,m=null);var y=new fy({shape:{points:Jl(o,0,g,l,h===d.length-1,0===h)},style:a(n.getItemStyle(),{lineJoin:\"bevel\",text:m,textFill:i.getTextColor(),textFont:i.getFont()}),z:10,onclick:v(r,p)});this.group.add(y),Ql(y,e,p),o+=g+8}},remove:function(){this.group.removeAll()}};var uS=m,cS=Qg,dS=gy,hS=h,fS=[\"label\"],pS=[\"emphasis\",\"label\"],gS=[\"upperLabel\"],mS=[\"emphasis\",\"upperLabel\"],vS=10,yS=1,xS=2,bS=Qm([[\"fill\",\"color\"],[\"stroke\",\"strokeColor\"],[\"lineWidth\",\"strokeWidth\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"]]),_S=function(e){var t=bS(e);return t.stroke=t.fill=t.lineWidth=null,t};oa({type:\"treemap\",init:function(e,t){this._storage={nodeGroup:[],background:[],content:[]},this._state=\"ready\"},render:function(e,t,n,i){if(!(l(t.findComponents({mainType:\"series\",subType:\"treemap\",query:i}),e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var r=ql(i,[\"treemapZoomToNode\",\"treemapRootToNode\"],e),o=i&&i.type,a=e.layoutInfo,s=!this._oldTree,u=this._storage,c=\"treemapRootToNode\"===o&&r&&u?{rootNodeGroup:u.nodeGroup[r.node.getRawIndex()],direction:i.direction}:null,d=this._giveContainerGroup(a),h=this._doRender(d,e,c);s||o&&\"treemapZoomToNode\"!==o&&\"treemapRootToNode\"!==o?h.renderFinally():this._doAnimation(d,h,e,c),this._resetController(n),this._renderBreadcrumb(e,n,r)}},_giveContainerGroup:function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new cS,this._initEvents(t),this.group.add(t)),t.attr(\"position\",[e.x,e.y]),t},_doRender:function(e,t,n){var i=t.getData().tree,r=this._oldTree,o={nodeGroup:[],background:[],content:[]},a={nodeGroup:[],background:[],content:[]},s=this._storage,l=[],u=v(eu,t,a,s,n,o,l);!function e(t,n,i,r,o){function a(e){return e.getId()}function s(a,s){var l=null!=a?t[a]:null,c=null!=s?n[s]:null,d=u(l,c,i,o);d&&e(l&&l.viewChildren||[],c&&c.viewChildren||[],d,r,o+1)}r?(n=t,hS(t,function(e,t){!e.isRemoved()&&s(t,t)})):new la(n,t,a,a).add(s).update(s).remove(v(s,null)).execute()}(i.root?[i.root]:[],r&&r.root?[r.root]:[],e,i===r||!r,0);var c=function(e){var t={nodeGroup:[],background:[],content:[]};return e&&hS(e,function(e,n){var i=t[n];hS(e,function(e){e&&(i.push(e),e.__tmWillDelete=1)})}),t}(s);return this._oldTree=i,this._storage=a,{lastsForAnimation:o,willDeleteEls:c,renderFinally:function(){hS(c,function(e){hS(e,function(e){e.parent&&e.parent.remove(e)})}),hS(l,function(e){e.invisible=!0,e.dirty()})}}},_doAnimation:function(e,t,n,i){if(n.get(\"animation\")){var r=n.get(\"animationDurationUpdate\"),a=n.get(\"animationEasing\"),s=function(){var e,t=[],n={};return{add:function(e,i,r,o,a){return b(o)&&(a=o,o=0),!n[e.id]&&(n[e.id]=1,t.push({el:e,target:i,time:r,delay:o,easing:a}),!0)},done:function(t){return e=t,this},start:function(){for(var i=t.length,r=0,o=t.length;r<o;r++){var a=t[r];a.el.animateTo(a.target,a.time,a.delay,a.easing,function(){--i||(t.length=0,n={},e&&e())})}return this}}}();hS(t.willDeleteEls,function(e,t){hS(e,function(e,n){if(!e.invisible){var o,l=e.parent;if(i&&\"drillDown\"===i.direction)o=l===i.rootNodeGroup?{shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var u=0,c=0;l.__tmWillDelete||(u=l.__tmNodeWidth/2,c=l.__tmNodeHeight/2),o=\"nodeGroup\"===t?{position:[u,c],style:{opacity:0}}:{shape:{x:u,y:c,width:0,height:0},style:{opacity:0}}}o&&s.add(e,o,r,a)}})}),hS(this._storage,function(e,n){hS(e,function(e,i){var l=t.lastsForAnimation[n][i],u={};l&&(\"nodeGroup\"===n?l.old&&(u.position=e.position.slice(),e.attr(\"position\",l.old)):(l.old&&(u.shape=o({},e.shape),e.setShape(l.old)),l.fadein?(e.setStyle(\"opacity\",0),u.style={opacity:1}):1!==e.style.opacity&&(u.style={opacity:1})),s.add(e,u,r,a))})},this),this._state=\"animating\",s.done(uS(function(){this._state=\"ready\",t.renderFinally()},this)).start()}},_resetController:function(e){var t=this._controller;t||((t=this._controller=new el(e.getZr())).enable(this.seriesModel.get(\"roam\")),t.on(\"pan\",uS(this._onPan,this)),t.on(\"zoom\",uS(this._onZoom,this)));var n=new Ze(0,0,e.getWidth(),e.getHeight());t.setPointerChecker(function(e,t,i){return n.contain(t,i)})},_clearController:function(){var e=this._controller;e&&(e.dispose(),e=null)},_onPan:function(e,t){if(\"animating\"!==this._state&&(Math.abs(e)>3||Math.abs(t)>3)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:\"treemapMove\",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e,y:i.y+t,width:i.width,height:i.height}})}},_onZoom:function(e,t,n){if(\"animating\"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;var o=new Ze(r.x,r.y,r.width,r.height),a=this.seriesModel.layoutInfo;t-=a.x,n-=a.y;var s=ae();ce(s,s,[-t,-n]),he(s,s,[e,e]),ce(s,s,[t,n]),o.applyTransform(s),this.api.dispatchAction({type:\"treemapRender\",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},_initEvents:function(e){e.on(\"click\",function(e){if(\"ready\"===this._state){var t=this.seriesModel.get(\"nodeClick\",!0);if(t){var n=this.findTarget(e.offsetX,e.offsetY);if(n){var i=n.node;if(i.getLayout().isLeafRoot)this._rootToNode(n);else if(\"zoomToNode\"===t)this._zoomToNode(n);else if(\"link\"===t){var r=i.hostTree.data.getItemModel(i.dataIndex),o=r.get(\"link\",!0),a=r.get(\"target\",!0)||\"blank\";o&&window.open(o,a)}}}}},this)},_renderBreadcrumb:function(e,t,n){n||(n=null!=e.get(\"leafDepth\",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(n={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new Kl(this.group))).render(e,t,n.node,uS(function(t){\"animating\"!==this._state&&(Yl(e.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state=\"ready\",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:\"treemapZoomToNode\",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:\"treemapRootToNode\",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:\"viewChildren\",order:\"preorder\"},function(i){var r=this._storage.background[i.getRawIndex()];if(r){var o=r.transformCoordToLocal(e,t),a=r.shape;if(!(a.x<=o[0]&&o[0]<=a.x+a.width&&a.y<=o[1]&&o[1]<=a.y+a.height))return!1;n={node:i,offsetX:o[0],offsetY:o[1]}}},this),n}});for(var wS=[\"treemapZoomToNode\",\"treemapRender\",\"treemapMove\"],SS=0;SS<wS.length;SS++)$o({type:wS[SS],update:\"updateView\"},function(){});$o({type:\"treemapRootToNode\",update:\"updateView\"},function(e,t){t.eachComponent({mainType:\"series\",subType:\"treemap\",query:e},function(t,n){var i=ql(e,[\"treemapZoomToNode\",\"treemapRootToNode\"],t);if(i){var r=t.getViewRoot();r&&(e.direction=Yl(r,i.node)?\"rollUp\":\"drillDown\"),t.resetViewRoot(i.node)}})});var CS=h,MS=_,TS=-1,kS=function(e){var t=e.mappingMethod,i=e.type,r=this.option=n(e);this.type=i,this.mappingMethod=t,this._normalizeData=IS[t];var o=AS[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._doMap=o._doMap[t],\"piecewise\"===t?(nu(r),function(e){var t=e.pieceList;e.hasSpecialVisual=!1,h(t,function(t,n){t.originIndex=n,null!=t.visual&&(e.hasSpecialVisual=!0)})}(r)):\"category\"===t?r.categories?function(e){var t=e.categories,n=e.visual,i=e.categoryMap={};if(CS(t,function(e,t){i[e]=t}),!y(n)){var r=[];_(n)?CS(n,function(e,t){var n=i[t];r[null!=n?n:TS]=e}):r[TS]=n,n=cu(e,r)}for(var o=t.length-1;o>=0;o--)null==n[o]&&(delete i[t[o]],t.pop())}(r):nu(r,!0):(N(\"linear\"!==t||r.dataExtent),nu(r))};kS.prototype={constructor:kS,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return m(this._normalizeData,this)}};var AS=kS.visualHandlers={color:{applyVisual:ou(\"color\"),getColorMapper:function(){var e=this.option;return m(\"category\"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),au.call(this,e)}:function(t,n,i){var r=!!i;return!n&&(t=this._normalizeData(t)),i=De(t,e.parsedVisual,i),r?i:Ee(i,\"rgba\")},this)},_doMap:{linear:function(e){return Ee(De(e,this.option.parsedVisual),\"rgba\")},category:au,piecewise:function(e,t){var n=uu.call(this,t);return null==n&&(n=Ee(De(e,this.option.parsedVisual),\"rgba\")),n},fixed:su}},colorHue:iu(function(e,t){return Pe(e,t)}),colorSaturation:iu(function(e,t){return Pe(e,null,t)}),colorLightness:iu(function(e,t){return Pe(e,null,null,t)}),colorAlpha:iu(function(e,t){return Le(e,t)}),opacity:{applyVisual:ou(\"opacity\"),_doMap:lu([0,1])},symbol:{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);if(b(i))n(\"symbol\",i);else if(MS(i))for(var r in i)i.hasOwnProperty(r)&&n(r,i[r])},_doMap:{linear:ru,category:au,piecewise:function(e,t){var n=uu.call(this,t);return null==n&&(n=ru.call(this,e)),n},fixed:su}},symbolSize:{applyVisual:ou(\"symbolSize\"),_doMap:lu([0,1])}},IS={linear:function(e){return Hi(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=kS.findPieceIndex(e,t,!0);if(null!=n)return Hi(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?TS:t},fixed:z};kS.listVisualTypes=function(){var e=[];return h(AS,function(t,n){e.push(n)}),e},kS.addVisualHandler=function(e,t){AS[e]=t},kS.isValidType=function(e){return AS.hasOwnProperty(e)},kS.eachVisual=function(e,t,n){_(e)?h(e,t,n):t.call(n,e)},kS.mapVisual=function(e,t,n){var i,r=y(e)?[]:_(e)?{}:(i=!0,null);return kS.eachVisual(e,function(e,o){var a=t.call(n,e,o);i?r=a:r[o]=a}),r},kS.retrieveVisuals=function(e){var t,n={};return e&&CS(AS,function(i,r){e.hasOwnProperty(r)&&(n[r]=e[r],t=!0)}),t?n:null},kS.prepareVisualTypes=function(e){if(MS(e)){var t=[];CS(e,function(e,n){t.push(n)}),e=t}else{if(!y(e))return[];e=e.slice()}return e.sort(function(e,t){return\"color\"===t&&\"color\"!==e&&0===e.indexOf(\"color\")?1:-1}),e},kS.dependsOn=function(e,t){return\"color\"===t?!(!e||0!==e.indexOf(t)):e===t},kS.findPieceIndex=function(e,t,n){function i(t,n){var i=Math.abs(t-e);i<o&&(o=i,r=n)}for(var r,o=1/0,a=0,s=t.length;a<s;a++){var l=t[a].value;if(null!=l){if(l===e||\"string\"==typeof l&&l===e+\"\")return a;n&&i(l,a)}}for(a=0,s=t.length;a<s;a++){var u=t[a],c=u.interval,d=u.close;if(c){if(c[0]===-1/0){if(du(d[1],e,c[1]))return a}else if(c[1]===1/0){if(du(d[0],c[0],e))return a}else if(du(d[0],c[0],e)&&du(d[1],e,c[1]))return a;n&&i(c[0],a),n&&i(c[1],a)}}if(n)return e===1/0?t.length-1:e===-1/0?0:r};var DS=y,NS=\"itemStyle\",PS=Math.max,LS=Math.min,ES=T,RS=h,OS=[\"itemStyle\",\"borderWidth\"],BS=[\"itemStyle\",\"gapWidth\"],zS=[\"upperLabel\",\"show\"],FS=[\"upperLabel\",\"height\"],VS={seriesType:\"treemap\",reset:function(e,t,n,i){var r=n.getWidth(),a=n.getHeight(),s=e.option,l=hr(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),u=s.size||[],c=Wi(ES(l.width,u[0]),r),d=Wi(ES(l.height,u[1]),a),h=i&&i.type,f=ql(i,[\"treemapZoomToNode\",\"treemapRootToNode\"],e),p=\"treemapRender\"===h||\"treemapMove\"===h?i.rootRect:null,g=e.getViewRoot(),m=Zl(g);if(\"treemapMove\"!==h){var v=\"treemapZoomToNode\"===h?function(e,t,n,i,r){var o=(t||{}).node,a=[i,r];if(!o||o===n)return a;for(var s,l=i*r,u=l*e.option.zoomToNodeRatio;s=o.parentNode;){for(var c=0,d=s.children,h=0,f=d.length;h<f;h++)c+=d[h].getValue();var p=o.getValue();if(0===p)return a;u*=c/p;var g=s.getModel(),m=g.get(OS);(u+=4*m*m+(3*m+Math.max(m,Su(g)))*Math.pow(u,.5))>Fy&&(u=Fy),o=s}u<l&&(u=l);var v=Math.pow(u/l,.5);return[i*v,r*v]}(e,f,g,c,d):p?[p.width,p.height]:[c,d],y=s.sort;y&&\"asc\"!==y&&\"desc\"!==y&&(y=\"desc\");var x={squareRatio:s.squareRatio,sort:y,leafDepth:s.leafDepth};g.hostTree.clearLayouts(),g.setLayout({x:0,y:0,width:v[0],height:v[1],area:v[0]*v[1]}),yu(g,x,!1,0);var b=g.getLayout();RS(m,function(e,t){var n=(m[t+1]||g).getValue();e.setLayout(o({dataExtent:[n,n],borderWidth:0,upperHeight:0},b))})}var _=e.getData().tree.root;_.setLayout(function(e,t,n){if(t)return{x:t.x,y:t.y};var i={x:0,y:0};if(!n)return i;var r=n.node,o=r.getLayout();if(!o)return i;for(var a=[o.width/2,o.height/2],s=r;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:e.width/2-a[0],y:e.height/2-a[1]}}(l,p,f),!0),e.setLayoutInfo(l),wu(_,new Ze(-l.x,-l.y,r,a),m,g,0)}};Qo({seriesType:\"treemap\",reset:function(e,t,n,i){var r=e.getData().tree,o=r.root,a=e.getModel(NS);o.isRemoved()||hu(o,{},f(r.levelModels,function(e){return e?e.get(NS):null}),a,e.getViewRoot().getAncestors(),e)}}),Jo(VS);var HS=function(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={}},WS=HS.prototype;WS.type=\"graph\",WS.isDirected=function(){return this._directed},WS.addNode=function(e,t){var n=this._nodesMap;if(!n[Cu(e=e||\"\"+t)]){var i=new Mu(e,t);return i.hostGraph=this,this.nodes.push(i),n[Cu(e)]=i,i}},WS.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},WS.getNodeById=function(e){return this._nodesMap[Cu(e)]},WS.addEdge=function(e,t,n){var i=this._nodesMap,r=this._edgesMap;if(\"number\"==typeof e&&(e=this.nodes[e]),\"number\"==typeof t&&(t=this.nodes[t]),Mu.isInstance(e)||(e=i[Cu(e)]),Mu.isInstance(t)||(t=i[Cu(t)]),e&&t){var o=e.id+\"-\"+t.id;if(!r[o]){var a=new Tu(e,t,n);return a.hostGraph=this,this._directed&&(e.outEdges.push(a),t.inEdges.push(a)),e.edges.push(a),e!==t&&t.edges.push(a),this.edges.push(a),r[o]=a,a}}},WS.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},WS.getEdge=function(e,t){Mu.isInstance(e)&&(e=e.id),Mu.isInstance(t)&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+\"-\"+t]:n[e+\"-\"+t]||n[t+\"-\"+e]},WS.eachNode=function(e,t){for(var n=this.nodes,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&e.call(t,n[r],r)},WS.eachEdge=function(e,t){for(var n=this.edges,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&n[r].node1.dataIndex>=0&&n[r].node2.dataIndex>=0&&e.call(t,n[r],r)},WS.breadthFirstTraverse=function(e,t,n,i){if(Mu.isInstance(t)||(t=this._nodesMap[Cu(t)]),t){for(var r=\"out\"===n?\"outEdges\":\"in\"===n?\"inEdges\":\"edges\",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!e.call(i,t,null))for(var a=[t];a.length;){var s=a.shift(),l=s[r];for(o=0;o<l.length;o++){var u=l[o],c=u.node1===s?u.node2:u.node1;if(!c.__visited){if(e.call(i,c,s))return;a.push(c),c.__visited=!0}}}}},WS.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,i=this.edges,r=0,o=n.length;r<o;r++)n[r].dataIndex=-1;for(r=0,o=e.count();r<o;r++)n[e.getRawIndex(r)].dataIndex=r;for(t.filterSelf(function(e){var n=i[t.getRawIndex(e)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}),r=0,o=i.length;r<o;r++)i[r].dataIndex=-1;for(r=0,o=t.count();r<o;r++)i[t.getRawIndex(r)].dataIndex=r},WS.clone=function(){for(var e=new HS(this._directed),t=this.nodes,n=this.edges,i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(i=0;i<n.length;i++){var r=n[i];e.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return e},Mu.prototype={constructor:Mu,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)}},Tu.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)};var GS=function(e,t){return{getValue:function(n){var i=this[e][t];return i.get(i.getDimension(n||\"value\"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,i)},getVisual:function(n,i){return this[e][t].getItemVisual(this.dataIndex,n,i)},setLayout:function(n,i){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}};c(Mu,GS(\"hostGraph\",\"data\")),c(Tu,GS(\"hostGraph\",\"edgeData\")),HS.Node=Mu,HS.Edge=Tu,vn(Mu),vn(Tu);var US=function(e,t,n,i,r){for(var o=new HS(i),a=0;a<e.length;a++)o.addNode(T(e[a].id,e[a].name,a),a);var s=[],l=[],u=0;for(a=0;a<t.length;a++){var c=t[a],d=c.source,h=c.target;o.addEdge(d,h,u)&&(l.push(c),s.push(T(c.id,d+\" > \"+h)),u++)}var f,p=n.get(\"coordinateSystem\");if(\"cartesian2d\"===p||\"polar\"===p)f=wa(e,n);else{var g=Ir.get(p),m=Yb(e,{coordDimensions:(g&&\"view\"!==g.type&&g.dimensions||[]).concat([\"value\"])});(f=new jb(m,n)).initData(e)}var v=new jb([\"value\"],n);return v.initData(l,s),r&&r(f,v),Sl({mainData:f,struct:o,structAttr:\"graph\",datas:{node:f,edge:v},datasAttr:{node:\"data\",edge:\"edgeData\"}}),o.update(),o},jS=ra({type:\"series.graph\",init:function(e){jS.superApply(this,\"init\",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeOption:function(e){jS.superApply(this,\"mergeOption\",arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(e){jS.superApply(this,\"mergeDefaultAndTheme\",arguments),on(e,[\"edgeLabel\"],[\"show\"])},getInitialData:function(e,t){var n=e.edges||e.links||[],i=e.data||e.nodes||[],r=this;if(i&&n)return US(i,n,this,!0,function(e,n){function i(e){return(e=this.parsePath(e))&&\"label\"===e[0]?a:this.parentModel}e.wrapMethod(\"getItemModel\",function(e){var t=r._categoriesModels[e.getShallow(\"category\")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e});var o=r.getModel(\"edgeLabel\"),a=new Bi({label:o.option},o.parentModel,t);n.wrapMethod(\"getItemModel\",function(e){return e.customizeGetParent(i),e})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,n){if(\"edge\"===n){var i=this.getData(),r=this.getDataParams(e,n),o=i.graph.getEdgeByIndex(e),a=i.getName(o.node1.dataIndex),s=i.getName(o.node2.dataIndex),l=[];return null!=a&&l.push(a),null!=s&&l.push(s),l=or(l.join(\" > \")),r.value&&(l+=\" : \"+or(r.value)),l}return jS.superApply(this,\"formatTooltip\",arguments)},_updateCategoriesData:function(){var e=f(this.option.categories||[],function(e){return null!=e.value?e:o({value:0},e)}),t=new jb([\"value\"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(e){return t.getItemModel(e,!0)})},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return jS.superCall(this,\"isAnimationEnabled\")&&!(\"force\"===this.get(\"layout\")&&this.get(\"force.layoutAnimation\"))},defaultOption:{zlevel:0,z:2,coordinateSystem:\"view\",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:\"center\",top:\"center\",symbol:\"circle\",symbolSize:10,edgeSymbol:[\"none\",\"none\"],edgeSymbolSize:10,edgeLabel:{position:\"middle\"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:\"{b}\"},itemStyle:{},lineStyle:{color:\"#aaa\",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),qS=my.prototype,ZS=yy.prototype,YS=ei({type:\"ec-line\",style:{stroke:\"#000\",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,t){(ku(t)?qS:ZS).buildPath(e,t)},pointAt:function(e){return ku(this.shape)?qS.pointAt.call(this,e):ZS.pointAt.call(this,e)},tangentAt:function(e){var t=this.shape,n=ku(t)?[t.x2-t.x1,t.y2-t.y1]:ZS.tangentAt.call(this,e);return X(n,n)}}),XS=[\"fromSymbol\",\"toSymbol\"],$S=Nu.prototype;$S.beforeUpdate=function(){var e=this,t=e.childOfName(\"fromSymbol\"),n=e.childOfName(\"toSymbol\"),i=e.childOfName(\"label\");if(t||n||!i.ignore){for(var r=1,o=this.parent;o;)o.scale&&(r/=o.scale[0]),o=o.parent;var a=e.childOfName(\"line\");if(this.__dirty||a.__dirty){var s=a.shape.percent,l=a.pointAt(0),u=a.pointAt(s),c=j([],u,l);if(X(c,c),t&&(t.attr(\"position\",l),d=a.tangentAt(0),t.attr(\"rotation\",Math.PI/2-Math.atan2(d[1],d[0])),t.attr(\"scale\",[r*s,r*s])),n){n.attr(\"position\",u);var d=a.tangentAt(1);n.attr(\"rotation\",-Math.PI/2-Math.atan2(d[1],d[0])),n.attr(\"scale\",[r*s,r*s])}if(!i.ignore){i.attr(\"position\",u);var h,f,p,g=5*r;if(\"end\"===i.__position)h=[c[0]*g+u[0],c[1]*g+u[1]],f=c[0]>.8?\"left\":c[0]<-.8?\"right\":\"center\",p=c[1]>.8?\"top\":c[1]<-.8?\"bottom\":\"middle\";else if(\"middle\"===i.__position){var m=s/2,v=[(d=a.tangentAt(m))[1],-d[0]],y=a.pointAt(m);v[1]>0&&(v[0]=-v[0],v[1]=-v[1]),h=[y[0]+v[0]*g,y[1]+v[1]*g],f=\"center\",p=\"bottom\";var x=-Math.atan2(d[1],d[0]);u[0]<l[0]&&(x=Math.PI+x),i.attr(\"rotation\",x)}else h=[-c[0]*g+l[0],-c[1]*g+l[1]],f=c[0]>.8?\"right\":c[0]<-.8?\"left\":\"center\",p=c[1]>.8?\"bottom\":c[1]<-.8?\"top\":\"middle\";i.attr({style:{textVerticalAlign:i.__verticalAlign||p,textAlign:i.__textAlign||f},position:h,scale:[r,r]})}}}},$S._createLine=function(e,t,n){var i=e.hostModel,r=function(e){var t=new YS({name:\"line\"});return Du(t.shape,e),t}(e.getItemLayout(t));r.shape.percent=0,Di(r,{shape:{percent:1}},i,t),this.add(r);var o=new oy({name:\"label\"});this.add(o),h(XS,function(n){var i=Iu(n,e,t);this.add(i),this[Au(n)]=e.getItemVisual(t,n)},this),this._updateCommonStl(e,t,n)},$S.updateData=function(e,t,n){var i=e.hostModel,r=this.childOfName(\"line\"),o=e.getItemLayout(t),a={shape:{}};Du(a.shape,o),Ii(r,a,i,t),h(XS,function(n){var i=e.getItemVisual(t,n),r=Au(n);if(this[r]!==i){this.remove(this.childOfName(n));var o=Iu(n,e,t);this.add(o)}this[r]=i},this),this._updateCommonStl(e,t,n)},$S._updateCommonStl=function(e,t,n){var i=e.hostModel,r=this.childOfName(\"line\"),o=n&&n.lineStyle,s=n&&n.hoverLineStyle,l=n&&n.labelModel,u=n&&n.hoverLabelModel;if(!n||e.hasItemOption){var c=e.getItemModel(t);o=c.getModel(\"lineStyle\").getLineStyle(),s=c.getModel(\"emphasis.lineStyle\").getLineStyle(),l=c.getModel(\"label\"),u=c.getModel(\"emphasis.label\")}var d=e.getItemVisual(t,\"color\"),f=A(e.getItemVisual(t,\"opacity\"),o.opacity,1);r.useStyle(a({strokeNoScale:!0,fill:\"none\",stroke:d,opacity:f},o)),r.hoverStyle=s,h(XS,function(e){var t=this.childOfName(e);t&&(t.setColor(d),t.setStyle({opacity:f}))},this);var p,g,m,v=l.getShallow(\"show\"),y=u.getShallow(\"show\"),x=this.childOfName(\"label\");if(v||y){if(p=d||\"#000\",null==(g=i.getFormattedLabel(t,\"normal\",e.dataType))){var b=i.getRawValue(t);g=null==b?e.getName(t):isFinite(b)?Gi(b):b}m=k(i.getFormattedLabel(t,\"emphasis\",e.dataType),g)}if(v){var _=wi(x.style,l,{text:g},{autoColor:p});x.__textAlign=_.textAlign,x.__verticalAlign=_.textVerticalAlign,x.__position=l.get(\"position\")||\"middle\"}else x.setStyle(\"text\",null);x.hoverStyle=y?{text:m,textFill:u.getTextColor(!0),fontStyle:u.getShallow(\"fontStyle\"),fontWeight:u.getShallow(\"fontWeight\"),fontSize:u.getShallow(\"fontSize\"),fontFamily:u.getShallow(\"fontFamily\")}:{text:null},x.ignore=!v&&!y,bi(this)},$S.highlight=function(){this.trigger(\"emphasis\")},$S.downplay=function(){this.trigger(\"normal\")},$S.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},$S.setLinePoints=function(e){var t=this.childOfName(\"line\");Du(t.shape,e),t.dirty()},u(Nu,Qg);var KS=Pu.prototype;KS.isPersistent=function(){return!0},KS.updateData=function(e){var t=this,n=t.group,i=t._lineData;t._lineData=e,i||n.removeAll();var r=Lu(e);e.diff(i).add(function(n){!function(e,t,n,i){if(Ru(t.getItemLayout(n))){var r=new e._ctor(t,n,i);t.setItemGraphicEl(n,r),e.group.add(r)}}(t,e,n,r)}).update(function(n,o){!function(e,t,n,i,r,o){var a=t.getItemGraphicEl(i);Ru(n.getItemLayout(r))?(a?a.updateData(n,r,o):a=new e._ctor(n,r,o),n.setItemGraphicEl(r,a),e.group.add(a)):e.group.remove(a)}(t,i,e,o,n,r)}).remove(function(e){n.remove(i.getItemGraphicEl(e))}).execute()},KS.updateLayout=function(){var e=this._lineData;e.eachItemGraphicEl(function(t,n){t.updateLayout(e,n)},this)},KS.incrementalPrepareUpdate=function(e){this._seriesScope=Lu(e),this._lineData=null,this.group.removeAll()},KS.incrementalUpdate=function(e,t){for(var n=e.start;n<e.end;n++)if(Ru(t.getItemLayout(n))){var i=new this._ctor(t,n,this._seriesScope);i.traverse(function(e){e.isGroup||(e.incremental=e.useHoverLayer=!0)}),this.group.add(i)}},KS.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},KS._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var JS=[],QS=[],eC=[],tC=kn,nC=bg,iC=Math.abs,rC=function(e,t){function n(e){var t=e.getVisual(\"symbolSize\");return t instanceof Array&&(t=(t[0]+t[1])/2),t}var i=[],r=Dn,o=[[],[],[]],a=[[],[]],s=[];t/=2,e.eachEdge(function(e,l){var u=e.getLayout(),c=e.getVisual(\"fromSymbol\"),d=e.getVisual(\"toSymbol\");u.__original||(u.__original=[H(u[0]),H(u[1])],u[2]&&u.__original.push(H(u[2])));var h=u.__original;if(null!=u[2]){if(V(o[0],h[0]),V(o[1],h[2]),V(o[2],h[1]),c&&\"none\"!=c){var f=n(e.node1),p=Ou(o,h[0],f*t);r(o[0][0],o[1][0],o[2][0],p,i),o[0][0]=i[3],o[1][0]=i[4],r(o[0][1],o[1][1],o[2][1],p,i),o[0][1]=i[3],o[1][1]=i[4]}d&&\"none\"!=d&&(f=n(e.node2),p=Ou(o,h[1],f*t),r(o[0][0],o[1][0],o[2][0],p,i),o[1][0]=i[1],o[2][0]=i[2],r(o[0][1],o[1][1],o[2][1],p,i),o[1][1]=i[1],o[2][1]=i[2]),V(u[0],o[0]),V(u[1],o[2]),V(u[2],o[1])}else V(a[0],h[0]),V(a[1],h[1]),j(s,a[1],a[0]),X(s,s),c&&\"none\"!=c&&(f=n(e.node1),U(a[0],a[0],s,f*t)),d&&\"none\"!=d&&(f=n(e.node2),U(a[1],a[1],s,-f*t)),V(u[0],a[0]),V(u[1],a[1])})},oC=[\"itemStyle\",\"opacity\"],aC=[\"lineStyle\",\"opacity\"];oa({type:\"graph\",init:function(e,t){var n=new es,i=new Pu,r=this.group;this._controller=new el(t.getZr()),this._controllerHost={target:r},r.add(n.group),r.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},render:function(e,t,n){var i=e.coordinateSystem;this._model=e,this._nodeScaleRatio=e.get(\"nodeScaleRatio\");var r=this._symbolDraw,o=this._lineDraw,a=this.group;if(\"view\"===i.type){var s={position:i.position,scale:i.scale};this._firstRender?a.attr(s):Ii(a,s,e)}rC(e.getGraph(),this._getNodeGlobalScale(e));var l=e.getData();r.updateData(l);var u=e.getEdgeData();o.updateData(u),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var c=e.forceLayout,d=e.get(\"force.layoutAnimation\");c&&this._startForceLayoutIteration(c,d),l.eachItemGraphicEl(function(t,i){var r=l.getItemModel(i);t.off(\"drag\").off(\"dragend\");var o=l.getItemModel(i).get(\"draggable\");o&&t.on(\"drag\",function(){c&&(c.warmUp(),!this._layouting&&this._startForceLayoutIteration(c,d),c.setFixed(i),l.setItemLayout(i,t.position))},this).on(\"dragend\",function(){c&&c.setUnfixed(i)},this),t.setDraggable(o&&c),t.off(\"mouseover\",t.__focusNodeAdjacency),t.off(\"mouseout\",t.__unfocusNodeAdjacency),r.get(\"focusNodeAdjacency\")&&(t.on(\"mouseover\",t.__focusNodeAdjacency=function(){n.dispatchAction({type:\"focusNodeAdjacency\",seriesId:e.id,dataIndex:t.dataIndex})}),t.on(\"mouseout\",t.__unfocusNodeAdjacency=function(){n.dispatchAction({type:\"unfocusNodeAdjacency\",seriesId:e.id})}))},this),l.graph.eachEdge(function(t){var i=t.getGraphicEl();i.off(\"mouseover\",i.__focusNodeAdjacency),i.off(\"mouseout\",i.__unfocusNodeAdjacency),t.getModel().get(\"focusNodeAdjacency\")&&(i.on(\"mouseover\",i.__focusNodeAdjacency=function(){n.dispatchAction({type:\"focusNodeAdjacency\",seriesId:e.id,edgeDataIndex:t.dataIndex})}),i.on(\"mouseout\",i.__unfocusNodeAdjacency=function(){n.dispatchAction({type:\"unfocusNodeAdjacency\",seriesId:e.id})}))});var h=\"circular\"===e.get(\"layout\")&&e.get(\"circular.rotateLabel\"),f=l.getLayout(\"cx\"),p=l.getLayout(\"cy\");l.eachItemGraphicEl(function(e,t){var n=e.getSymbolPath();if(h){var i=l.getItemLayout(t),r=Math.atan2(i[1]-p,i[0]-f);r<0&&(r=2*Math.PI+r);var o=i[0]<f;o&&(r-=Math.PI);var a=o?\"left\":\"right\";n.setStyle({textRotation:-r,textPosition:a,textOrigin:\"center\"}),n.hoverStyle&&(n.hoverStyle.textPosition=a)}else n.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(e,t,n,i){var r=this._model.getData().graph,o=i.edgeDataIndex,a=r.getNodeByIndex(i.dataIndex),s=r.getEdgeByIndex(o);(a||s)&&(r.eachNode(function(e){zu(e,oC,.1)}),r.eachEdge(function(e){zu(e,aC,.1)}),a&&(Fu(a,oC),h(a.edges,function(e){e.dataIndex<0||(Fu(e,aC),Fu(e.node1,oC),Fu(e.node2,oC))})),s&&(Fu(s,aC),Fu(s.node1,oC),Fu(s.node2,oC)))},unfocusNodeAdjacency:function(e,t,n,i){var r=this._model.getData().graph;r.eachNode(function(e){zu(e,oC)}),r.eachEdge(function(e){zu(e,aC)})},_startForceLayoutIteration:function(e,t){var n=this;!function i(){e.step(function(e){n.updateLayout(n._model),(n._layouting=!e)&&(t?n._layoutTimeout=setTimeout(i,16):i())})}()},_updateController:function(e,t,n){var i=this._controller,r=this._controllerHost,o=this.group;i.setPointerChecker(function(t,i,r){var a=o.getBoundingRect();return a.applyTransform(o.transform),a.contain(i,r)&&!cl(t,n,e)}),\"view\"===e.coordinateSystem.type?(i.enable(e.get(\"roam\")),r.zoomLimit=e.get(\"scaleLimit\"),r.zoom=e.coordinateSystem.getZoom(),i.off(\"pan\").off(\"zoom\").on(\"pan\",function(t,i){ll(r,t,i),n.dispatchAction({seriesId:e.id,type:\"graphRoam\",dx:t,dy:i})}).on(\"zoom\",function(t,i,o){ul(r,t,i,o),n.dispatchAction({seriesId:e.id,type:\"graphRoam\",zoom:t,originX:i,originY:o}),this._updateNodeAndLinkScale(),rC(e.getGraph(),this._getNodeGlobalScale(e)),this._lineDraw.updateLayout()},this)):i.disable()},_updateNodeAndLinkScale:function(){var e=this._model,t=e.getData(),n=this._getNodeGlobalScale(e),i=[n,n];t.eachItemGraphicEl(function(e,t){e.attr(\"scale\",i)})},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if(\"view\"!==t.type)return 1;var n=this._nodeScaleRatio,i=t.scale,r=i&&i[0]||1;return((t.getZoom()-1)*n+1)/r},updateLayout:function(e){rC(e.getGraph(),this._getNodeGlobalScale(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}}),$o({type:\"graphRoam\",event:\"graphRoam\",update:\"none\"},function(e,t){t.eachComponent({mainType:\"series\",query:e},function(t){var n=gl(t.coordinateSystem,e);t.setCenter&&t.setCenter(n.center),t.setZoom&&t.setZoom(n.zoom)})}),$o({type:\"focusNodeAdjacency\",event:\"focusNodeAdjacency\",update:\"series.graph:focusNodeAdjacency\"},function(){}),$o({type:\"unfocusNodeAdjacency\",event:\"unfocusNodeAdjacency\",update:\"series.graph:unfocusNodeAdjacency\"},function(){});var sC=U;Xo(function(e){var t=e.findComponents({mainType:\"legend\"});t&&t.length&&e.eachSeriesByType(\"graph\",function(e){var n=e.getCategoriesData(),i=e.getGraph().data,r=n.mapArray(n.getName);i.filterSelf(function(e){var n=i.getItemModel(e).getShallow(\"category\");if(null!=n){\"number\"==typeof n&&(n=r[n]);for(var o=0;o<t.length;o++)if(!t[o].isSelected(n))return!1}return!0})},this)}),Qo(Z_(\"graph\",\"circle\",null)),Qo(function(e){var t={};e.eachSeriesByType(\"graph\",function(e){var n=e.getCategoriesData(),i=e.getData(),r={};n.each(function(i){var o=n.getName(i);r[\"ec-\"+o]=i;var a=n.getItemModel(i).get(\"itemStyle.color\")||e.getColorFromPalette(o,t);n.setItemVisual(i,\"color\",a)}),n.count()&&i.each(function(e){var t=i.getItemModel(e).getShallow(\"category\");null!=t&&(\"string\"==typeof t&&(t=r[\"ec-\"+t]),i.getItemVisual(e,\"color\",!0)||i.setItemVisual(e,\"color\",n.getItemVisual(t,\"color\")))})})}),Qo(function(e){e.eachSeriesByType(\"graph\",function(e){var t=e.getGraph(),n=e.getEdgeData(),i=Vu(e.get(\"edgeSymbol\")),r=Vu(e.get(\"edgeSymbolSize\")),o=\"lineStyle.color\".split(\".\"),a=\"lineStyle.opacity\".split(\".\");n.setVisual(\"fromSymbol\",i&&i[0]),n.setVisual(\"toSymbol\",i&&i[1]),n.setVisual(\"fromSymbolSize\",r&&r[0]),n.setVisual(\"toSymbolSize\",r&&r[1]),n.setVisual(\"color\",e.get(o)),n.setVisual(\"opacity\",e.get(a)),n.each(function(e){var i=n.getItemModel(e),r=t.getEdgeByIndex(e),s=Vu(i.getShallow(\"symbol\",!0)),l=Vu(i.getShallow(\"symbolSize\",!0)),u=i.get(o),c=i.get(a);switch(u){case\"source\":u=r.node1.getVisual(\"color\");break;case\"target\":u=r.node2.getVisual(\"color\")}s[0]&&r.setVisual(\"fromSymbol\",s[0]),s[1]&&r.setVisual(\"toSymbol\",s[1]),l[0]&&r.setVisual(\"fromSymbolSize\",l[0]),l[1]&&r.setVisual(\"toSymbolSize\",l[1]),r.setVisual(\"color\",u),r.setVisual(\"opacity\",c)})})}),Jo(function(e,t){e.eachSeriesByType(\"graph\",function(e){var t=e.get(\"layout\"),n=e.coordinateSystem;if(n&&\"view\"!==n.type){var i=e.getData(),r=[];h(n.dimensions,function(e){r=r.concat(i.mapDimension(e,!0))});for(var o=0;o<i.count();o++){for(var a=[],s=!1,l=0;l<r.length;l++){var u=i.get(r[l],o);isNaN(u)||(s=!0),a.push(u)}i.setItemLayout(o,s?n.dataToPoint(a):[NaN,NaN])}Wu(i.graph)}else t&&\"none\"!==t||Hu(e)})}),Jo(function(e){e.eachSeriesByType(\"graph\",function(e){\"circular\"===e.get(\"layout\")&&Gu(e)})}),Jo(function(e){e.eachSeriesByType(\"graph\",function(e){var t=e.coordinateSystem;if(!t||\"view\"===t.type)if(\"force\"===e.get(\"layout\")){var n=e.preservedPoints||{},i=e.getGraph(),r=i.data,o=i.edgeData,a=e.getModel(\"force\"),s=a.get(\"initLayout\");e.preservedPoints?r.each(function(e){var t=r.getId(e);r.setItemLayout(e,n[t]||[NaN,NaN])}):s&&\"none\"!==s?\"circular\"===s&&Gu(e):Hu(e);var l=r.getDataExtent(\"value\"),u=o.getDataExtent(\"value\"),c=a.get(\"repulsion\"),d=a.get(\"edgeLength\");y(c)||(c=[c,c]),y(d)||(d=[d,d]),d=[d[1],d[0]];var h=r.mapArray(\"value\",function(e,t){var n=r.getItemLayout(t),i=Hi(e,l,c);return isNaN(i)&&(i=(c[0]+c[1])/2),{w:i,rep:i,fixed:r.getItemModel(t).get(\"fixed\"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}}),f=o.mapArray(\"value\",function(e,t){var n=i.getEdgeByIndex(t),r=Hi(e,u,d);return isNaN(r)&&(r=(d[0]+d[1])/2),{n1:h[n.node1.dataIndex],n2:h[n.node2.dataIndex],d:r,curveness:n.getModel().get(\"lineStyle.curveness\")||0}}),p=(t=e.coordinateSystem).getBoundingRect(),g=function(e,t,n){for(var i=n.rect,r=i.width,o=i.height,a=[i.x+r/2,i.y+o/2],s=null==n.gravity?.1:n.gravity,l=0;l<e.length;l++){var u=e[l];u.p||(u.p=F(r*(Math.random()-.5)+a[0],o*(Math.random()-.5)+a[1])),u.pp=H(u.p),u.edges=null}var c=.6;return{warmUp:function(){c=.5},setFixed:function(t){e[t].fixed=!0},setUnfixed:function(t){e[t].fixed=!1},step:function(n){for(var i=[],r=e.length,o=0;o<t.length;o++){var l=t[o];j(i,(p=l.n2).p,(h=l.n1).p);var u=q(i)-l.d,d=p.w/(h.w+p.w);isNaN(d)&&(d=0),X(i,i),!h.fixed&&sC(h.p,h.p,i,d*u*c),!p.fixed&&sC(p.p,p.p,i,-(1-d)*u*c)}for(o=0;o<r;o++)(v=e[o]).fixed||(j(i,a,v.p),sC(v.p,v.p,i,s*c));for(o=0;o<r;o++)for(var h=e[o],f=o+1;f<r;f++){var p=e[f];j(i,p.p,h.p),0===(u=q(i))&&(W(i,Math.random()-.5,Math.random()-.5),u=1);var g=(h.rep+p.rep)/u/u;!h.fixed&&sC(h.pp,h.pp,i,g),!p.fixed&&sC(p.pp,p.pp,i,-g)}var m=[];for(o=0;o<r;o++){var v=e[o];v.fixed||(j(m,v.p,v.pp),sC(v.p,v.p,m,c),V(v.pp,v.p))}c*=.992,n&&n(e,t,c<.01)}}}(h,f,{rect:p,gravity:a.get(\"gravity\")}),m=g.step;g.step=function(e){for(var t=0,o=h.length;t<o;t++)h[t].fixed&&V(h[t].p,i.getNodeByIndex(t).getLayout());m(function(t,o,a){for(var s=0,l=t.length;s<l;s++)t[s].fixed||i.getNodeByIndex(s).setLayout(t[s].p),n[r.getId(s)]=t[s].p;for(s=0,l=o.length;s<l;s++){var u=o[s],c=i.getEdgeByIndex(s),d=u.n1.p,h=u.n2.p,f=c.getLayout();(f=f?f.slice():[])[0]=f[0]||[],f[1]=f[1]||[],V(f[0],d),V(f[1],h),+u.curveness&&(f[2]=[(d[0]+h[0])/2-(d[1]-h[1])*u.curveness,(d[1]+h[1])/2-(h[0]-d[0])*u.curveness]),c.setLayout(f)}e&&e(a)})},e.forceLayout=g,e.preservedPoints=n,g.step()}else e.forceLayout=null})}),Ko(\"graphView\",{create:function(e,t){var n=[];return e.eachSeriesByType(\"graph\",function(e){var i=e.get(\"coordinateSystem\");if(!i||\"view\"===i){var r=e.getData(),o=[],a=[];Nn(r.mapArray(function(e){var t=r.getItemModel(e);return[+t.get(\"x\"),+t.get(\"y\")]}),o,a),a[0]-o[0]==0&&(a[0]+=1,o[0]-=1),a[1]-o[1]==0&&(a[1]+=1,o[1]-=1);var s=(a[0]-o[0])/(a[1]-o[1]),l=function(e,t,n){var i=e.getBoxLayoutParams();return i.aspect=n,hr(i,{width:t.getWidth(),height:t.getHeight()})}(e,t,s);isNaN(s)&&(o=[l.x,l.y],a=[l.x+l.width,l.y+l.height]);var u=a[0]-o[0],c=a[1]-o[1],d=l.width,h=l.height,f=e.coordinateSystem=new vl;f.zoomLimit=e.get(\"scaleLimit\"),f.setBoundingRect(o[0],o[1],u,c),f.setViewRect(l.x,l.y,d,h),f.setCenter(e.get(\"center\")),f.setZoom(e.get(\"zoom\")),n.push(f)}}),n}}),Fx.extend({type:\"series.gauge\",getInitialData:function(e,t){var n=e.data||[];return y(n)||(n=[n]),e.data=n,Dw(this,[\"value\"])},defaultOption:{zlevel:0,z:2,center:[\"50%\",\"50%\"],legendHoverLink:!0,radius:\"75%\",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,\"#91c7ae\"],[.8,\"#63869e\"],[1,\"#c23531\"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:\"#eee\",width:2,type:\"solid\"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:\"#eee\",width:1,type:\"solid\"}},axisLabel:{show:!0,distance:5,color:\"auto\"},pointer:{show:!0,length:\"80%\",width:8},itemStyle:{color:\"auto\"},title:{show:!0,offsetCenter:[0,\"-40%\"],color:\"#333\",fontSize:15},detail:{show:!0,backgroundColor:\"rgba(0,0,0,0)\",borderWidth:0,borderColor:\"#ccc\",width:100,height:null,padding:[5,10],offsetCenter:[0,\"40%\"],color:\"auto\",fontSize:30}}});var lC=Zn.extend({type:\"echartsGaugePointer\",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,t){var n=Math.cos,i=Math.sin,r=t.r,o=t.width,a=t.angle,s=t.x-n(a)*o*(o>=r/3?1:2),l=t.y-i(a)*o*(o>=r/3?1:2);a=t.angle-Math.PI/2,e.moveTo(s,l),e.lineTo(t.x+n(a)*o,t.y+i(a)*o),e.lineTo(t.x+n(t.angle)*r,t.y+i(t.angle)*r),e.lineTo(t.x-n(a)*o,t.y-i(a)*o),e.lineTo(s,l)}}),uC=2*Math.PI,cC=(oo.extend({type:\"gauge\",render:function(e,t,n){this.group.removeAll();var i=e.get(\"axisLine.lineStyle.color\"),r=function(e,t){var n=e.get(\"center\"),i=t.getWidth(),r=t.getHeight(),o=Math.min(i,r);return{cx:Wi(n[0],t.getWidth()),cy:Wi(n[1],t.getHeight()),r:Wi(e.get(\"radius\"),o/2)}}(e,n);this._renderMain(e,t,n,i,r)},dispose:function(){},_renderMain:function(e,t,n,i,r){for(var o=this.group,a=e.getModel(\"axisLine\").getModel(\"lineStyle\"),s=e.get(\"clockwise\"),l=-e.get(\"startAngle\")/180*Math.PI,u=-e.get(\"endAngle\")/180*Math.PI,c=(u-l)%uC,d=l,h=a.get(\"width\"),f=0;f<i.length;f++){var p=Math.min(Math.max(i[f][0],0),1),g=new uy({shape:{startAngle:d,endAngle:u=l+c*p,cx:r.cx,cy:r.cy,clockwise:s,r0:r.r-h,r:r.r},silent:!0});g.setStyle({fill:i[f][1]}),g.setStyle(a.getLineStyle([\"color\",\"borderWidth\",\"borderColor\"])),o.add(g),d=u}var m=function(e){if(e<=0)return i[0][1];for(var t=0;t<i.length;t++)if(i[t][0]>=e&&(0===t?0:i[t-1][0])<e)return i[t][1];return i[t-1][1]};if(!s){var v=l;l=u,u=v}this._renderTicks(e,t,n,m,r,l,u,s),this._renderPointer(e,t,n,m,r,l,u,s),this._renderTitle(e,t,n,m,r),this._renderDetail(e,t,n,m,r)},_renderTicks:function(e,t,n,i,r,o,a,s){for(var l=this.group,u=r.cx,c=r.cy,d=r.r,h=+e.get(\"min\"),f=+e.get(\"max\"),p=e.getModel(\"splitLine\"),g=e.getModel(\"axisTick\"),m=e.getModel(\"axisLabel\"),v=e.get(\"splitNumber\"),y=g.get(\"splitNumber\"),x=Wi(p.get(\"length\"),d),b=Wi(g.get(\"length\"),d),_=o,w=(a-o)/v,S=w/y,C=p.getModel(\"lineStyle\").getLineStyle(),M=g.getModel(\"lineStyle\").getLineStyle(),T=0;T<=v;T++){var k=Math.cos(_),A=Math.sin(_);if(p.get(\"show\")){var I=new my({shape:{x1:k*d+u,y1:A*d+c,x2:k*(d-x)+u,y2:A*(d-x)+c},style:C,silent:!0});\"auto\"===C.stroke&&I.setStyle({stroke:i(T/v)}),l.add(I)}if(m.get(\"show\")){var D=Uu(Gi(T/v*(f-h)+h),m.get(\"formatter\")),N=m.get(\"distance\"),P=i(T/v);l.add(new oy({style:wi({},m,{text:D,x:k*(d-x-N)+u,y:A*(d-x-N)+c,textVerticalAlign:A<-.4?\"top\":A>.4?\"bottom\":\"middle\",textAlign:k<-.4?\"left\":k>.4?\"right\":\"center\"},{autoColor:P}),silent:!0}))}if(g.get(\"show\")&&T!==v){for(var L=0;L<=y;L++){k=Math.cos(_),A=Math.sin(_);var E=new my({shape:{x1:k*d+u,y1:A*d+c,x2:k*(d-b)+u,y2:A*(d-b)+c},silent:!0,style:M});\"auto\"===M.stroke&&E.setStyle({stroke:i((T+L/y)/v)}),l.add(E),_+=S}_-=S}else _+=w}},_renderPointer:function(e,t,n,i,r,o,a,s){var l=this.group,u=this._data;if(e.get(\"pointer.show\")){var c=[+e.get(\"min\"),+e.get(\"max\")],d=[o,a],h=e.getData(),f=h.mapDimension(\"value\");h.diff(u).add(function(t){var n=new lC({shape:{angle:o}});Di(n,{shape:{angle:Hi(h.get(f,t),c,d,!0)}},e),l.add(n),h.setItemGraphicEl(t,n)}).update(function(t,n){var i=u.getItemGraphicEl(n);Ii(i,{shape:{angle:Hi(h.get(f,t),c,d,!0)}},e),l.add(i),h.setItemGraphicEl(t,i)}).remove(function(e){var t=u.getItemGraphicEl(e);l.remove(t)}).execute(),h.eachItemGraphicEl(function(e,t){var n=h.getItemModel(t),o=n.getModel(\"pointer\");e.setShape({x:r.cx,y:r.cy,width:Wi(o.get(\"width\"),r.r),r:Wi(o.get(\"length\"),r.r)}),e.useStyle(n.getModel(\"itemStyle\").getItemStyle()),\"auto\"===e.style.fill&&e.setStyle(\"fill\",i(Hi(h.get(f,t),c,[0,1],!0))),bi(e,n.getModel(\"emphasis.itemStyle\").getItemStyle())}),this._data=h}else u&&u.eachItemGraphicEl(function(e){l.remove(e)})},_renderTitle:function(e,t,n,i,r){var o=e.getData(),a=o.mapDimension(\"value\"),s=e.getModel(\"title\");if(s.get(\"show\")){var l=s.get(\"offsetCenter\"),u=r.cx+Wi(l[0],r.r),c=r.cy+Wi(l[1],r.r),d=+e.get(\"min\"),h=+e.get(\"max\"),f=i(Hi(e.getData().get(a,0),[d,h],[0,1],!0));this.group.add(new oy({silent:!0,style:wi({},s,{x:u,y:c,text:o.getName(0),textAlign:\"center\",textVerticalAlign:\"middle\"},{autoColor:f,forceRich:!0})}))}},_renderDetail:function(e,t,n,i,r){var o=e.getModel(\"detail\"),a=+e.get(\"min\"),s=+e.get(\"max\");if(o.get(\"show\")){var l=o.get(\"offsetCenter\"),u=r.cx+Wi(l[0],r.r),c=r.cy+Wi(l[1],r.r),d=Wi(o.get(\"width\"),r.r),h=Wi(o.get(\"height\"),r.r),f=e.getData(),p=f.get(f.mapDimension(\"value\"),0),g=i(Hi(p,[a,s],[0,1],!0));this.group.add(new oy({silent:!0,style:wi({},o,{x:u,y:c,text:Uu(p,o.get(\"formatter\")),textWidth:isNaN(d)?null:d,textHeight:isNaN(h)?null:h,textAlign:\"center\",textVerticalAlign:\"middle\"},{autoColor:g,forceRich:!0})}))}}}),ra({type:\"series.funnel\",init:function(e){cC.superApply(this,\"init\",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(e)},getInitialData:function(e,t){return Dw(this,[\"value\"])},_defaultLabelLine:function(e){on(e,\"labelLine\",[\"show\"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},getDataParams:function(e){var t=this.getData(),n=cC.superCall(this,\"getDataParams\",e),i=t.mapDimension(\"value\"),r=t.getSum(i);return n.percent=r?+(t.get(i,e)/r*100).toFixed(2):0,n.$vars.push(\"percent\"),n},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:\"0%\",maxSize:\"100%\",sort:\"descending\",gap:0,funnelAlign:\"center\",label:{show:!0,position:\"outer\"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:\"solid\"}},itemStyle:{borderColor:\"#fff\",borderWidth:1},emphasis:{label:{show:!0}}}})),dC=ju.prototype,hC=[\"itemStyle\",\"opacity\"];dC.updateData=function(e,t,n){var i=this.childAt(0),r=e.hostModel,o=e.getItemModel(t),s=e.getItemLayout(t),l=e.getItemModel(t).get(hC);l=null==l?1:l,i.useStyle({}),n?(i.setShape({points:s.points}),i.setStyle({opacity:0}),Di(i,{style:{opacity:l}},r,t)):Ii(i,{style:{opacity:l},shape:{points:s.points}},r,t);var u=o.getModel(\"itemStyle\"),c=e.getItemVisual(t,\"color\");i.setStyle(a({lineJoin:\"round\",fill:c},u.getItemStyle([\"opacity\"]))),i.hoverStyle=u.getModel(\"emphasis\").getItemStyle(),this._updateLabel(e,t),bi(this)},dC._updateLabel=function(e,t){var n=this.childAt(1),i=this.childAt(2),r=e.hostModel,o=e.getItemModel(t),a=e.getItemLayout(t).label,s=e.getItemVisual(t,\"color\");Ii(n,{shape:{points:a.linePoints||a.linePoints}},r,t),Ii(i,{style:{x:a.x,y:a.y}},r,t),i.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var l=o.getModel(\"label\"),u=o.getModel(\"emphasis.label\"),c=o.getModel(\"labelLine\"),d=o.getModel(\"emphasis.labelLine\");s=e.getItemVisual(t,\"color\"),_i(i.style,i.hoverStyle={},l,u,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:s,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign}),i.ignore=i.normalIgnore=!l.get(\"show\"),i.hoverIgnore=!u.get(\"show\"),n.ignore=n.normalIgnore=!c.get(\"show\"),n.hoverIgnore=!d.get(\"show\"),n.setStyle({stroke:s}),n.setStyle(c.getModel(\"lineStyle\").getLineStyle()),n.hoverStyle=d.getModel(\"lineStyle\").getLineStyle()},u(ju,Qg),oo.extend({type:\"funnel\",render:function(e,t,n){var i=e.getData(),r=this._data,o=this.group;i.diff(r).add(function(e){var t=new ju(i,e);i.setItemGraphicEl(e,t),o.add(t)}).update(function(e,t){var n=r.getItemGraphicEl(t);n.updateData(i,e),o.add(n),i.setItemGraphicEl(e,n)}).remove(function(e){var t=r.getItemGraphicEl(e);o.remove(t)}).execute(),this._data=i},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),Qo(Rw(\"funnel\")),Jo(function(e,t,n){e.eachSeriesByType(\"funnel\",function(e){var n=e.getData(),i=n.mapDimension(\"value\"),r=e.get(\"sort\"),o=function(e,t){return hr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),a=function(e,t){for(var n=e.mapDimension(\"value\"),i=e.mapArray(n,function(e){return e}),r=[],o=\"ascending\"===t,a=0,s=e.count();a<s;a++)r[a]=a;return\"function\"==typeof t?r.sort(t):\"none\"!==t&&r.sort(function(e,t){return o?i[e]-i[t]:i[t]-i[e]}),r}(n,r),s=[Wi(e.get(\"minSize\"),o.width),Wi(e.get(\"maxSize\"),o.width)],l=n.getDataExtent(i),u=e.get(\"min\"),c=e.get(\"max\");null==u&&(u=Math.min(l[0],0)),null==c&&(c=l[1]);var d=e.get(\"funnelAlign\"),h=e.get(\"gap\"),f=(o.height-h*(n.count()-1))/n.count(),p=o.y,g=function(e,t){var r,a=Hi(n.get(i,e)||0,[u,c],s,!0);switch(d){case\"left\":r=o.x;break;case\"center\":r=o.x+(o.width-a)/2;break;case\"right\":r=o.x+o.width-a}return[[r,t],[r+a,t]]};\"ascending\"===r&&(f=-f,h=-h,p+=o.height,a=a.reverse());for(var m=0;m<a.length;m++){var v=a[m],y=a[m+1],x=n.getItemModel(v).get(\"itemStyle.height\");null==x?x=f:(x=Wi(x,o.height),\"ascending\"===r&&(x=-x));var b=g(v,p),_=g(y,p+x);p+=x+h,n.setItemLayout(v,{points:b.concat(_.slice().reverse())})}!function(e){e.each(function(t){var n,i,r,o,a=e.getItemModel(t),s=a.getModel(\"label\").get(\"position\"),l=a.getModel(\"labelLine\"),u=e.getItemLayout(t),c=u.points,d=\"inner\"===s||\"inside\"===s||\"center\"===s;if(d)n=\"center\",o=[[i=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,r=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4],[i,r]];else{var h,f,p,g=l.get(\"length\");\"left\"===s?(f=(c[3][1]+c[0][1])/2,i=(p=(h=(c[3][0]+c[0][0])/2)-g)-5,n=\"right\"):(f=(c[1][1]+c[2][1])/2,i=(p=(h=(c[1][0]+c[2][0])/2)+g)+5,n=\"left\"),o=[[h,f],[p,f]],r=f}u.label={linePoints:o,x:i,y:r,verticalAlign:\"middle\",textAlign:n,inside:d}})}(n)})}),Xo(zw(\"funnel\"));var fC=function(e,t,n,i,r){I_.call(this,e,t,n),this.type=i||\"value\",this.axisIndex=r};fC.prototype={constructor:fC,model:null,isHorizontal:function(){return\"horizontal\"!==this.coordinateSystem.getModel().get(\"layout\")}},u(fC,I_);var pC=function(e,t,n,i,r,o){t[0]=Zu(t[0],n),t[1]=Zu(t[1],n),e=e||0,null!=r&&(r=Zu(r,[0,n[1]-n[0]])),null!=o&&(o=Math.max(o,null!=r?r:0)),\"all\"===i&&(r=o=Math.abs(t[1]-t[0]),i=0);var a=qu(t,i);t[i]+=e;var s=r||0,l=n.slice();a.sign<0?l[0]+=s:l[1]-=s,t[i]=Zu(t[i],l),u=qu(t,i),null!=r&&(u.sign!==a.sign||u.span<r)&&(t[1-i]=t[i]+a.sign*r);var u=qu(t,i);return null!=o&&u.span>o&&(t[1-i]=t[i]+u.sign*o),t},gC=h,mC=Math.min,vC=Math.max,yC=Math.floor,xC=Math.ceil,bC=Gi,_C=Math.PI;Yu.prototype={type:\"parallel\",constructor:Yu,_init:function(e,t,n){var i=e.parallelAxisIndex;gC(e.dimensions,function(e,n){var r=i[n],o=t.getComponent(\"parallelAxis\",r),a=this._axesMap.set(e,new fC(e,Fa(o),[0,0],o.get(\"type\"),r));a.onBand=\"category\"===a.type&&o.get(\"boundaryGap\"),a.inverse=o.get(\"inverse\"),o.axis=a,a.model=o,a.coordinateSystem=o.coordinateSystem=this},this)},update:function(e,t){this._updateAxesFromSeries(this._model,e)},containPoint:function(e){var t=this._makeLayoutInfo(),n=t.axisBase,i=t.layoutBase,r=t.pixelDimIndex,o=e[1-r],a=e[r];return o>=n&&o<=n+t.axisLength&&a>=i&&a<=i+t.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(e,t){t.eachSeries(function(n){if(e.contains(n,t)){var i=n.getData();gC(this.dimensions,function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(i,i.mapDimension(e)),za(t.scale,t.model)},this)}},this)},resize:function(e,t){this._rect=hr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var e,t=this._model,n=this._rect,i=[\"x\",\"y\"],r=[\"width\",\"height\"],o=t.get(\"layout\"),a=\"horizontal\"===o?0:1,s=n[r[a]],l=[0,s],u=this.dimensions.length,c=Xu(t.get(\"axisExpandWidth\"),l),d=Xu(t.get(\"axisExpandCount\")||0,[0,u]),h=t.get(\"axisExpandable\")&&u>3&&u>d&&d>1&&c>0&&s>0,f=t.get(\"axisExpandWindow\");f?(e=Xu(f[1]-f[0],l),f[1]=f[0]+e):(e=Xu(c*(d-1),l),(f=[c*(t.get(\"axisExpandCenter\")||yC(u/2))-e/2])[1]=f[0]+e);var p=(s-e)/(u-d);p<3&&(p=0);var g=[yC(bC(f[0]/c,1))+1,xC(bC(f[1]/c,1))-1];return{layout:o,pixelDimIndex:a,layoutBase:n[i[a]],layoutLength:s,axisBase:n[i[1-a]],axisLength:n[r[1-a]],axisExpandable:h,axisExpandWidth:c,axisCollapseWidth:p,axisExpandWindow:f,axisCount:u,winInnerIndices:g,axisExpandWindow0Pos:p/c*f[0]}},_layoutAxes:function(){var e=this._rect,t=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),r=i.layout;t.each(function(e){var t=[0,i.axisLength],n=e.inverse?1:0;e.setExtent(t[n],t[1-n])}),gC(n,function(n,o){var a=(i.axisExpandable?Ku:$u)(o,i),s={horizontal:{x:a.position,y:i.axisLength},vertical:{x:0,y:a.position}},l=[s[r].x+e.x,s[r].y+e.y],u={horizontal:_C/2,vertical:0}[r],c=ae();de(c,c,u),ce(c,c,l),this._axesLayout[n]={position:l,rotation:u,transform:c,axisNameAvailableWidth:a.axisNameAvailableWidth,axisLabelShow:a.axisLabelShow,nameTruncateMaxWidth:a.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:t.get(n).getLabelInterval()}},this)},getAxis:function(e){return this._axesMap.get(e)},dataToPoint:function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},eachActiveState:function(e,t,n){for(var i=this.dimensions,r=f(i,function(t){return e.mapDimension(t)}),o=this._axesMap,a=this.hasAxisBrushed(),s=0,l=e.count();s<l;s++){var u,c=e.getValues(r,s);if(a){u=\"active\";for(var d=0,h=i.length;d<h;d++)if(\"inactive\"===o.get(i[d]).model.getActiveState(c[d],d)){u=\"inactive\";break}}else u=\"normal\";t.call(n,u,s)}},hasAxisBrushed:function(){for(var e=this.dimensions,t=this._axesMap,n=!1,i=0,r=e.length;i<r;i++)\"normal\"!==t.get(e[i]).model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(e,t){return Pi([e,0],this._axesLayout[t].transform)},getAxisLayout:function(e){return n(this._axesLayout[e])},getSlidedAxisExpandWindow:function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,i=t.axisExpandWindow.slice(),r=i[1]-i[0],o=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:\"none\",axisExpandWindow:i};var a,s=e[n]-t.layoutBase-t.axisExpandWindow0Pos,l=\"slide\",u=t.axisCollapseWidth,c=this._model.get(\"axisExpandSlideTriggerArea\"),d=null!=c[0];return u?(d&&u&&s<r*c[0]?(l=\"jump\",a=s-r*c[2]):d&&u&&s>r*(1-c[0])?(l=\"jump\",a=s-r*(1-c[2])):(a=s-r*c[1])>=0&&(a=s-r*(1-c[1]))<=0&&(a=0),(a*=t.axisExpandWidth/u)?pC(a,i,o,\"all\"):l=\"none\"):((i=[vC(0,o[1]*s/(r=i[1]-i[0])-r/2)])[1]=mC(o[1],i[0]+r),i[0]=i[1]-r),{axisExpandWindow:i,behavior:l}}},Ir.register(\"parallel\",{create:function(e,t){var n=[];return e.eachComponent(\"parallel\",function(i,r){var o=new Yu(i,e,t);o.name=\"parallel_\"+r,o.resize(i,t),i.coordinateSystem=o,o.model=i,n.push(o)}),e.eachSeries(function(t){if(\"parallel\"===t.get(\"coordinateSystem\")){var n=e.queryComponents({mainType:\"parallel\",index:t.get(\"parallelIndex\"),id:t.get(\"parallelId\")})[0];t.coordinateSystem=n.coordinateSystem}}),n}});var wC=ex.extend({type:\"baseParallelAxis\",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return Qm([[\"fill\",\"color\"],[\"lineWidth\",\"borderWidth\"],[\"stroke\",\"borderColor\"],[\"width\",\"width\"],[\"opacity\",\"opacity\"]])(this.getModel(\"areaSelectStyle\"))},setActiveIntervals:function(e){var t=this.activeIntervals=n(e);if(t)for(var i=t.length-1;i>=0;i--)Ui(t[i])},getActiveState:function(e){var t=this.activeIntervals;if(!t.length)return\"normal\";if(null==e)return\"inactive\";for(var n=0,i=t.length;n<i;n++)if(t[n][0]<=e&&e<=t[n][1])return\"active\";return\"inactive\"}});i(wC.prototype,m_),nw(\"parallel\",wC,function(e,t){return t.type||(t.data?\"category\":\"value\")},{type:\"value\",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:\"rgba(160,197,232)\",color:\"rgba(160,197,232)\",opacity:.3},realtime:!0,z:10}),ex.extend({type:\"parallel\",dependencies:[\"parallelAxis\"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:\"box\",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:\"horizontal\",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:\"click\",parallelAxisDefault:null},init:function(){ex.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(e){e&&i(this.option,e,!0),this._initDimensions()},contains:function(e,t){var n=e.get(\"parallelIndex\");return null!=n&&t.getComponent(\"parallel\",n)===this},setAxisExpand:function(e){h([\"axisExpandable\",\"axisExpandCenter\",\"axisExpandCount\",\"axisExpandWidth\",\"axisExpandWindow\"],function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])},this)},_initDimensions:function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[];h(g(this.dependentModels.parallelAxis,function(e){return(e.get(\"parallelIndex\")||0)===this.componentIndex},this),function(n){e.push(\"dim\"+n.get(\"dim\")),t.push(n.componentIndex)})}}),$o({type:\"axisAreaSelect\",event:\"axisAreaSelected\"},function(e,t){t.eachComponent({mainType:\"parallelAxis\",query:e},function(t){t.axis.model.setActiveIntervals(e.intervals)})}),$o(\"parallelAxisExpand\",function(e,t){t.eachComponent({mainType:\"parallel\",query:e},function(t){t.setAxisExpand(e)})});var SC=v,CC=h,MC=f,TC=Math.min,kC=Math.max,AC=Math.pow,IC=1e4,DC=6,NC=6,PC=\"globalPan\",LC={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},EC={w:\"ew\",e:\"ew\",n:\"ns\",s:\"ns\",ne:\"nesw\",sw:\"nesw\",nw:\"nwse\",se:\"nwse\"},RC={brushStyle:{lineWidth:2,stroke:\"rgba(0,0,0,0.3)\",fill:\"rgba(0,0,0,0.1)\"},transformable:!0,brushMode:\"single\",removeOnClick:!1},OC=0;Ju.prototype={constructor:Ju,enableBrush:function(e){return this._brushType&&function(e){var t=e._zr;(function(e,t,n){var i=Qs(e);i[t]===n&&(i[t]=null)})(t,PC,e._uid),CC(e._handlers,function(e,n){t.off(n,e)}),e._brushType=e._brushOption=null}(this),e.brushType&&function(e,t){var r=e._zr;e._enableGlobalPan||function(e,t,n){Qs(e).globalPan=n}(r,0,e._uid),CC(e._handlers,function(e,t){r.on(t,e)}),e._brushType=t.brushType,e._brushOption=i(n(RC),t,!0)}(this,e),this},setPanels:function(e){if(e&&e.length){var t=this._panels={};h(e,function(e){t[e.panelId]=n(e)})}else this._panels=null;return this},mount:function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({position:e.position||[0,0],rotation:e.rotation||0,scale:e.scale||[1,1]}),this._transform=t.getLocalTransform(),this},eachCover:function(e,t){CC(this._covers,e,t)},updateCovers:function(e){function t(e,t){return(null!=e.id?e.id:o+t)+\"-\"+e.brushType}function r(t,n){var i=e[t];if(null!=n&&a[n]===u)s[t]=a[n];else{var r=s[t]=null!=n?(a[n].__brushOption=i,a[n]):ec(l,Qu(l,i));ic(l,r)}}e=f(e,function(e){return i(n(RC),e,!0)});var o=\"\\0-brush-index-\",a=this._covers,s=this._covers=[],l=this,u=this._creatingCover;return new la(a,e,function(e,n){return t(e.__brushOption,n)},t).add(r).update(r).remove(function(e){a[e]!==u&&l.group.remove(a[e])}).execute(),this},unmount:function(){return this.enableBrush(!1),sc(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},c(Ju,Sg);var BC={mousedown:function(e){if(this._dragging)Mc.call(this,e);else if(!e.target||!e.target.draggable){_c(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=oc(this,e,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);if(function(e,t,n){if(e._brushType){var i=e._zr,r=e._covers,o=oc(e,t,n);if(!e._dragging)for(var a=0;a<r.length;a++){var s=r[a].__brushOption;if(o&&(!0===o||s.panelId===o.panelId)&&zC[s.brushType].contain(r[a],n[0],n[1]))return}o&&i.setCursorStyle(\"crosshair\")}}(this,e,t),this._dragging){_c(e);var n=Sc(this,e,t,!1);n&&lc(this,n)}},mouseup:Mc},zC={lineX:Tc(0),lineY:Tc(1),rect:{createCover:function(e,t){return cc(SC(vc,function(e){return e},function(e){return e}),e,t,[\"w\",\"e\",\"n\",\"s\",\"se\",\"sw\",\"ne\",\"nw\"])},getCreatingRange:function(e){var t=uc(e);return gc(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,i){dc(e,t,n,i)},updateCommon:hc,contain:wc},polygon:{createCover:function(e,t){var n=new Qg;return n.add(new py({name:\"main\",style:pc(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new fy({name:\"main\",draggable:!0,drift:SC(yc,e,t),ondragend:SC(lc,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,i){t.childAt(0).setShape({points:bc(e,t,n)})},updateCommon:hc,contain:wc}},FC=[\"axisLine\",\"axisTickLabel\",\"axisName\"],VC=ia({type:\"parallelAxis\",init:function(e,t){VC.superApply(this,\"init\",arguments),(this._brushController=new Ju(t.getZr())).on(\"brush\",m(this._onBrush,this))},render:function(e,t,n,i){if(!function(e,t,n){return n&&\"axisAreaSelect\"===n.type&&t.findComponents({mainType:\"parallelAxis\",query:n})[0]===e}(e,t,i)){this.axisModel=e,this.api=n,this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new Qg,this.group.add(this._axisGroup),e.get(\"show\")){var a=function(e,t){return t.getComponent(\"parallel\",e.get(\"parallelIndex\"))}(e,t),s=a.coordinateSystem,l=e.getAreaSelectStyle(),u=l.width,c=o({strokeContainThreshold:u},s.getAxisLayout(e.axis.dim)),d=new dw(e,c);h(FC,d.add,d),this._axisGroup.add(d.getGroup()),this._refreshBrushController(c,l,e,a,u,n),Ei(r,this._axisGroup,i&&!1===i.animation?null:e)}}},_refreshBrushController:function(e,t,n,i,r,o){var a=n.axis.getExtent(),s=a[1]-a[0],l=Math.min(30,.1*Math.abs(s)),u=Ze.create({x:a[0],y:-r/2,width:s,height:r});u.x-=l,u.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,position:e.position}).setPanels([{panelId:\"pl\",clipPath:kc(u),isTargetByCursor:Ic(u,o,i),getLinearBrushOtherExtent:Ac(u,0)}]).enableBrush({brushType:\"lineX\",brushStyle:t,removeOnClick:!0}).updateCovers(function(e){var t=e.axis;return f(e.activeIntervals,function(e){return{brushType:\"lineX\",panelId:\"pl\",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}})}(n))},_onBrush:function(e,t){var n=this.axisModel,i=n.axis,r=f(e,function(e){return[i.coordToData(e.range[0],!0),i.coordToData(e.range[1],!0)]});(!n.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:\"axisAreaSelect\",parallelAxisId:n.id,intervals:r})},dispose:function(){this._brushController.dispose()}});ia({type:\"parallel\",render:function(e,t,n){this._model=e,this._api=n,this._handlers||(this._handlers={},h(HC,function(e,t){n.getZr().on(t,this._handlers[t]=m(e,this))},this)),fo(this,\"_throttledDispatchExpand\",e.get(\"axisExpandRate\"),\"fixRate\")},dispose:function(e,t){h(this._handlers,function(e,n){t.getZr().off(n,e)}),this._handlers=null},_throttledDispatchExpand:function(e){this._dispatchExpand(e)},_dispatchExpand:function(e){e&&this._api.dispatchAction(o({type:\"parallelAxisExpand\"},e))}});var HC={mousedown:function(e){Nc(this,\"click\")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(Nc(this,\"click\")&&t){var n=[e.offsetX,e.offsetY];if(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);\"none\"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&Nc(this,\"mousemove\")){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),i=n.behavior;\"jump\"===i&&this._throttledDispatchExpand.debounceNextCall(t.get(\"axisExpandDebounce\")),this._throttledDispatchExpand(\"none\"===i?null:{axisExpandWindow:n.axisExpandWindow,animation:\"jump\"===i&&null})}}};Yo(function(e){(function(e){if(!e.parallel){var t=!1;h(e.series,function(e){e&&\"parallel\"===e.type&&(t=!0)}),t&&(e.parallel=[{}])}})(e),function(e){h(rn(e.parallelAxis),function(t){if(_(t)){var n=t.parallelIndex||0,r=rn(e.parallel)[n];r&&r.parallelAxisDefault&&i(t,r.parallelAxisDefault,!1)}})}(e)}),Fx.extend({type:\"series.parallel\",dependencies:[\"parallel\"],visualColorAccessPath:\"lineStyle.color\",getInitialData:function(e,t){this.option.progressive&&(this.option.animation=!1);var n=this.getSource();return function(e,t){if(!e.encodeDefine){var n=t.ecModel.getComponent(\"parallel\",t.get(\"parallelIndex\"));if(n){var i=e.encodeDefine=O();h(n.dimensions,function(e){var t=function(e){return+e.replace(\"dim\",\"\")}(e);i.set(e,t)})}}}(n,this),wa(n,this)},getRawIndicesByActiveState:function(e){var t=this.coordinateSystem,n=this.getData(),i=[];return t.eachActiveState(n,function(t,r){e===t&&i.push(n.getRawIndex(r))}),i},defaultOption:{zlevel:0,z:2,coordinateSystem:\"parallel\",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:\"solid\"},emphasis:{label:{show:!1}},progressive:!1,smooth:!1,animationEasing:\"linear\"}}),oo.extend({type:\"parallel\",init:function(){this._dataGroup=new Qg,this.group.add(this._dataGroup)},render:function(e,t,n,i){this._renderForNormal(e,i)},dispose:function(){},_renderForNormal:function(e,t){var n=this._dataGroup,i=e.getData(),r=this._data,o=e.coordinateSystem,a=o.dimensions,s=e.option.smooth?.3:null;if(i.diff(r).add(function(e){!function(e,t,n,i,r){var o=Pc(e,n,i,r),a=new py({shape:{points:o},silent:!0,z2:10});t.add(a),e.setItemGraphicEl(n,a)}(i,n,e,a,o)}).update(function(n,s){var l=r.getItemGraphicEl(s),u=Pc(i,n,a,o);i.setItemGraphicEl(n,l),Ii(l,{shape:{points:u}},t&&!1===t.animation?null:e,n)}).remove(function(e){var t=r.getItemGraphicEl(e);n.remove(t)}).execute(),Lc(i,s),!this._data){var l=function(e,t,n){var i=e.model,r=e.getRect(),o=new gy({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),a=\"horizontal\"===i.get(\"layout\")?\"width\":\"height\";return o.setShape(a,0),Di(o,{shape:{width:r.width,height:r.height}},t,n),o}(o,e,function(){setTimeout(function(){n.removeClipPath()})});n.setClipPath(l)}this._data=i},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});var WC=[\"lineStyle\",\"normal\",\"opacity\"];Qo(function(e){e.eachSeriesByType(\"parallel\",function(t){var n=t.getModel(\"itemStyle\"),i=t.getModel(\"lineStyle\"),r=e.get(\"color\"),o=i.get(\"color\")||n.get(\"color\")||r[t.seriesIndex%r.length],a=t.get(\"inactiveOpacity\"),s=t.get(\"activeOpacity\"),l=t.getModel(\"lineStyle\").getLineStyle(),u=t.coordinateSystem,c=t.getData(),d={normal:l.opacity,active:s,inactive:a};u.eachActiveState(c,function(e,t){var n=c.getItemModel(t),i=d[e];if(\"normal\"===e){var r=n.get(WC,!0);null!=r&&(i=r)}c.setItemVisual(t,\"opacity\",i)}),c.setVisual(\"color\",o)})});var GC=Fx.extend({type:\"series.sankey\",layoutInfo:null,getInitialData:function(e){var t=e.edges||e.links,n=e.data||e.nodes;if(n&&t)return US(n,t,this,!0).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,t,n){if(\"edge\"===n){var i=this.getDataParams(e,n),r=i.data,o=r.source+\" -- \"+r.target;return i.value&&(o+=\" : \"+i.value),or(o)}return GC.superCall(this,\"formatTooltip\",e,t)},defaultOption:{zlevel:0,z:2,coordinateSystem:\"view\",layout:null,left:\"5%\",top:\"5%\",right:\"20%\",bottom:\"5%\",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{show:!0,position:\"right\",color:\"#000\",fontSize:12},itemStyle:{borderWidth:1,borderColor:\"#333\"},lineStyle:{color:\"#314656\",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:\"linear\",animationDuration:1e3}}),UC=ei({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(e,t){var n=t.extent/2;e.moveTo(t.x1,t.y1-n),e.bezierCurveTo(t.cpx1,t.cpy1-n,t.cpx2,t.cpy2-n,t.x2,t.y2-n),e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n),e.closePath()}});oa({type:\"sankey\",_model:null,render:function(e,t,n){var i=e.getGraph(),r=this.group,o=e.layoutInfo,a=e.getData(),s=e.getData(\"edge\");this._model=e,r.removeAll(),r.attr(\"position\",[o.x,o.y]),i.eachEdge(function(t){var n=new UC;n.dataIndex=t.dataIndex,n.seriesIndex=e.seriesIndex,n.dataType=\"edge\";var i=t.getModel(\"lineStyle\"),o=i.get(\"curveness\"),a=t.node1.getLayout(),l=t.node2.getLayout(),u=t.getLayout();n.shape.extent=Math.max(1,u.dy);var c=a.x+a.dx,d=a.y+u.sy+u.dy/2,h=l.x,f=l.y+u.ty+u.dy/2;switch(n.setShape({x1:c,y1:d,x2:h,y2:f,cpx1:c*(1-o)+h*o,cpy1:d,cpx2:c*o+h*(1-o),cpy2:f}),n.setStyle(i.getItemStyle()),n.style.fill){case\"source\":n.style.fill=t.node1.getVisual(\"color\");break;case\"target\":n.style.fill=t.node2.getVisual(\"color\")}bi(n,t.getModel(\"emphasis.lineStyle\").getItemStyle()),r.add(n),s.setItemGraphicEl(t.dataIndex,n)}),i.eachNode(function(t){var n=t.getLayout(),i=t.getModel(),o=i.getModel(\"label\"),s=i.getModel(\"emphasis.label\"),l=new gy({shape:{x:n.x,y:n.y,width:t.getLayout().dx,height:t.getLayout().dy},style:i.getModel(\"itemStyle\").getItemStyle()}),u=t.getModel(\"emphasis.itemStyle\").getItemStyle();_i(l.style,u,o,s,{labelFetcher:e,labelDataIndex:t.dataIndex,defaultText:t.id,isRectText:!0}),l.setStyle(\"fill\",t.getVisual(\"color\")),bi(l,u),r.add(l),a.setItemGraphicEl(t.dataIndex,l),l.dataType=\"node\"}),!this._data&&e.get(\"animation\")&&r.setClipPath(function(e,t,n){var i=new gy({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Di(i,{shape:{width:e.width+20,height:e.height+20}},t,function(){r.removeClipPath()}),i}(r.getBoundingRect(),e)),this._data=e.getData()},dispose:function(){}}),Jo(function(e,t,n){e.eachSeriesByType(\"sankey\",function(e){var n=e.get(\"nodeWidth\"),i=e.get(\"nodeGap\"),r=function(e,t){return hr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=r;var o=r.width,a=r.height,s=e.getGraph(),l=s.nodes,u=s.edges;(function(e){h(e,function(e){var t=Gc(e.outEdges,Zc),n=Gc(e.inEdges,Zc),i=Math.max(t,n);e.setLayout({value:i},!0)})})(l),function(e,t,n,i,r,o,a){(function(e,t,n){for(var i=e,r=null,o=0;i.length;){r=[];for(var a=0,s=i.length;a<s;a++){var l=i[a];l.setLayout({x:o},!0),l.setLayout({dx:t},!0);for(var u=0,c=l.outEdges.length;u<c;u++)r.push(l.outEdges[u].node2)}i=r,++o}(function(e,t){h(e,function(e){e.outEdges.length||e.setLayout({x:t-1},!0)})})(e,o),function(e,t){h(e,function(e){var n=e.getLayout().x*t;e.setLayout({x:n},!0)})}(e,(n-t)/(o-1))})(e,n,r),function(e,t,n,i,r){var o=Rc().key(function(e){return e.getLayout().x}).sortKeys(qc).entries(e).map(function(e){return e.values});(function(e,t,n,i,r){var o=[];h(t,function(e){var t=e.length,n=0;h(e,function(e){n+=e.getLayout().value}),o.push((i-(t-1)*r)/n)}),o.sort(function(e,t){return e-t});var a=o[0];h(t,function(e){h(e,function(e,t){e.setLayout({y:t},!0);var n=e.getLayout().value*a;e.setLayout({dy:n},!0)})}),h(n,function(e){var t=+e.getValue()*a;e.setLayout({dy:t},!0)})})(0,o,t,n,i),Oc(o,i,n);for(var a=1;r>0;r--)Bc(o,a*=.99),Oc(o,i,n),Fc(o,a),Oc(o,i,n)}(e,t,o,i,a),function(e){h(e,function(e){e.outEdges.sort(Hc),e.inEdges.sort(Wc)}),h(e,function(e){var t=0,n=0;h(e.outEdges,function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy}),h(e.inEdges,function(e){e.setLayout({ty:n},!0),n+=e.getLayout().dy})})}(e)}(l,u,n,i,o,a,0!==g(l,function(e){return 0===e.getLayout().value}).length?0:e.get(\"layoutIterations\"))})}),Qo(function(e,t){e.eachSeriesByType(\"sankey\",function(e){var t=e.getGraph().nodes;t.sort(function(e,t){return e.getLayout().value-t.getLayout().value});var n=t[0].getLayout().value,i=t[t.length-1].getLayout().value;h(t,function(t){var r=new kS({type:\"color\",mappingMethod:\"linear\",dataExtent:[n,i],visual:e.get(\"color\")}).mapValueToVisual(t.getLayout().value);t.setVisual(\"color\",r);var o=t.getModel().get(\"itemStyle.color\");null!=o&&t.setVisual(\"color\",o)})})});var jC=Zn.extend({type:\"whiskerInBox\",shape:{},buildPath:function(e,t){for(var n in t)if(t.hasOwnProperty(n)&&0===n.indexOf(\"ends\")){var i=t[n];e.moveTo(i[0][0],i[0][1]),e.lineTo(i[1][0],i[1][1])}}}),qC=Yc.prototype;qC._createContent=function(e,t,n){var i=e.getItemLayout(t),r=\"horizontal\"===i.chartLayout?1:0,o=0;this.add(new fy({shape:{points:n?Xc(i.bodyEnds,r,i):i.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=o++;var a=f(i.whiskerEnds,function(e){return n?Xc(e,r,i):e});this.add(new jC({shape:$c(a),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=o++},qC.updateData=function(e,t,n){var i=this._seriesModel=e.hostModel,r=e.getItemLayout(t),o=Dy[n?\"initProps\":\"updateProps\"];o(this.childAt(this.bodyIndex),{shape:{points:r.bodyEnds}},i,t),o(this.childAt(this.whiskerIndex),{shape:$c(r.whiskerEnds)},i,t),this.styleUpdater.call(null,this,e,t)},u(Yc,Qg);var ZC=Kc.prototype;ZC.updateData=function(e){var t=this.group,n=this._data,i=this.styleUpdater;e.diff(n).add(function(n){if(e.hasValue(n)){var r=new Yc(e,n,i,!0);e.setItemGraphicEl(n,r),t.add(r)}}).update(function(r,o){var a=n.getItemGraphicEl(o);e.hasValue(r)?(a?a.updateData(e,r):a=new Yc(e,r,i),t.add(a),e.setItemGraphicEl(r,a)):t.remove(a)}).remove(function(e){var i=n.getItemGraphicEl(e);i&&t.remove(i)}).execute(),this._data=e},ZC.remove=function(){var e=this.group,t=this._data;this._data=null,t&&t.eachItemGraphicEl(function(t){t&&e.remove(t)})};var YC={_baseAxisDim:null,getInitialData:function(e,t){var n,i,r=t.getComponent(\"xAxis\",this.get(\"xAxisIndex\")),o=t.getComponent(\"yAxis\",this.get(\"yAxisIndex\")),a=r.get(\"type\"),s=o.get(\"type\");\"category\"===a?(e.layout=\"horizontal\",n=r.getOrdinalMeta(),i=!0):\"category\"===s?(e.layout=\"vertical\",n=o.getOrdinalMeta(),i=!0):e.layout=e.layout||\"horizontal\";var l=[\"x\",\"y\"],u=\"horizontal\"===e.layout?0:1,c=this._baseAxisDim=l[u],d=l[1-u],f=[r,o],p=f[u].get(\"type\"),g=f[1-u].get(\"type\"),m=e.data;if(m&&i){var v=[];h(m,function(e,t){var n;e.value&&y(e.value)?(n=e.value.slice(),e.value.unshift(t)):y(e)?(n=e.slice(),e.unshift(t)):n=e,v.push(n)}),e.data=v}var x=this.defaultValueDimensions;return Dw(this,{coordDimensions:[{name:c,type:ca(p),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:[\"base\"]},{name:d,type:ca(g),dimsDef:x.slice()}],dimensionsCount:x.length+1})},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+\"Axis\",this.get(e+\"AxisIndex\")).axis}},XC={init:function(){var e=this._whiskerBoxDraw=new Kc(this.getStyleUpdater());this.group.add(e.group)},render:function(e,t,n){this._whiskerBoxDraw.updateData(e.getData())},remove:function(e){this._whiskerBoxDraw.remove()}};c(Fx.extend({type:\"series.boxplot\",dependencies:[\"xAxis\",\"yAxis\",\"grid\"],defaultValueDimensions:[\"min\",\"Q1\",\"median\",\"Q3\",\"max\"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:\"#fff\",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:\"rgba(0,0,0,0.4)\"}},animationEasing:\"elasticOut\",animationDuration:800}}),YC,!0),c(oo.extend({type:\"boxplot\",getStyleUpdater:function(){return Jc},dispose:z}),XC,!0);var $C=[\"itemStyle\"],KC=[\"emphasis\",\"itemStyle\"],JC=[\"itemStyle\",\"borderColor\"],QC=h;Qo(function(e,t){var n=e.get(\"color\");e.eachRawSeriesByType(\"boxplot\",function(t){var i=n[t.seriesIndex%n.length],r=t.getData();r.setVisual({legendSymbol:\"roundRect\",color:t.get(JC)||i}),e.isSeriesFiltered(t)||r.each(function(e){var t=r.getItemModel(e);r.setItemVisual(e,{color:t.get(JC,!0)})})})}),Jo(function(e){var t=function(e){var t=[],n=[];return e.eachSeriesByType(\"boxplot\",function(e){var i=e.getBaseAxis(),r=l(n,i);r<0&&(n[r=n.length]=i,t[r]={axis:i,seriesModels:[]}),t[r].seriesModels.push(e)}),t}(e);QC(t,function(e){var t=e.seriesModels;t.length&&(function(e){var t,n,i=e.axis,r=e.seriesModels,o=r.length,a=e.boxWidthList=[],s=e.boxOffsetList=[],l=[];if(\"category\"===i.type)n=i.getBandWidth();else{var u=0;QC(r,function(e){u=Math.max(u,e.getData().count())}),t=i.getExtent(),Math.abs(t[1]-t[0])}QC(r,function(e){var t=e.get(\"boxWidth\");y(t)||(t=[t,t]),l.push([Wi(t[0],n)||0,Wi(t[1],n)||0])});var c=.8*n-2,d=c/o*.3,h=(c-d*(o-1))/o,f=h/2-c/2;QC(r,function(e,t){s.push(f),f+=d+h,a.push(Math.min(Math.max(h,l[t][0]),l[t][1]))})}(e),QC(t,function(t,n){!function(e,t,n){var i,r=e.coordinateSystem,o=e.getData(),a=n/2,s=e.get(\"layout\"),l=\"horizontal\"===s?0:1,u=1-l,c=[\"x\",\"y\"],d=[];h(o.dimensions,function(e){var t=o.getDimensionInfo(e).coordDim;t===c[u]?d.push(e):t===c[l]&&(i=e)}),null==i||d.length<5||o.each([i].concat(d),function(){function e(e){var n,i=[];return i[l]=h,i[u]=e,isNaN(h)||isNaN(e)?n=[NaN,NaN]:(n=r.dataToPoint(i))[l]+=t,n}function n(e,t){var n=e.slice(),i=e.slice();n[l]+=a,i[l]-=a,t?y.push(n,i):y.push(i,n)}function i(e){var t=[e.slice(),e.slice()];t[0][l]-=a,t[1][l]+=a,v.push(t)}var c=arguments,h=c[0],f=c[d.length+1],p=e(c[3]),g=e(c[1]),m=e(c[5]),v=[[g,e(c[2])],[m,e(c[4])]];i(g),i(m),i(p);var y=[];n(v[0][1],0),n(v[1][1],1),o.setItemLayout(f,{chartLayout:s,initBaseline:p[u],median:p,bodyEnds:y,whiskerEnds:v})})}(t,e.boxOffsetList[n],e.boxWidthList[n])}))})}),c(Fx.extend({type:\"series.candlestick\",dependencies:[\"xAxis\",\"yAxis\",\"grid\"],defaultValueDimensions:[\"open\",\"close\",\"lowest\",\"highest\"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:\"#c23531\",color0:\"#314656\",borderWidth:1,borderColor:\"#c23531\",borderColor0:\"#314656\"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:\"linear\",animationDuration:300},getShadowDim:function(){return\"open\"},brushSelector:function(e,t,n){var i=t.getItemLayout(e);return n.rect(i.brushRect)}}),YC,!0),c(oo.extend({type:\"candlestick\",getStyleUpdater:function(){return Qc},dispose:z}),XC,!0);var eM=[\"itemStyle\"],tM=[\"emphasis\",\"itemStyle\"],nM=[\"itemStyle\",\"borderColor\"],iM=[\"itemStyle\",\"borderColor0\"],rM=[\"itemStyle\",\"color\"],oM=[\"itemStyle\",\"color0\"],aM=k;Yo(function(e){e&&y(e.series)&&h(e.series,function(e){_(e)&&\"k\"===e.type&&(e.type=\"candlestick\")})}),Qo(function(e,t){e.eachRawSeriesByType(\"candlestick\",function(t){var n=t.getData();n.setVisual({legendSymbol:\"roundRect\"}),e.isSeriesFiltered(t)||n.each(function(e){var t=n.getItemModel(e),i=n.getItemLayout(e).sign;n.setItemVisual(e,{color:t.get(i>0?rM:oM),borderColor:t.get(i>0?nM:iM)})})})}),Jo(function(e){e.eachSeriesByType(\"candlestick\",function(e){var t,n=e.coordinateSystem,i=e.getData(),r=function(e,t){var n,i=e.getBaseAxis(),r=\"category\"===i.type?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/t.count()),o=Wi(aM(e.get(\"barMaxWidth\"),r),r),a=Wi(aM(e.get(\"barMinWidth\"),1),r),s=e.get(\"barWidth\");return null!=s?Wi(s,r):Math.max(Math.min(r/2,o),a)}(e,i),o=e.get(\"layout\"),a=\"horizontal\"===o?0:1,s=1-a,l=[\"x\",\"y\"],u=[];if(h(i.dimensions,function(e){var n=i.getDimensionInfo(e).coordDim;n===l[s]?u.push(e):n===l[a]&&(t=e)}),!(null==t||u.length<4)){var c=0;i.each([t].concat(u),function(){function e(e){var t=[];return t[a]=f,t[s]=e,isNaN(f)||isNaN(e)?[NaN,NaN]:n.dataToPoint(t)}function t(e,t){var n=e.slice(),i=e.slice();n[a]=si(n[a]+r/2,1,!1),i[a]=si(i[a]-r/2,1,!0),t?M.push(n,i):M.push(i,n)}function l(e){return e[a]=si(e[a],1),e}var d,h=arguments,f=h[0],p=h[u.length+1],g=h[1],m=h[2],v=h[3],y=h[4],x=Math.min(g,m),b=Math.max(g,m),_=e(x),w=e(b),S=e(v),C=[[l(e(y)),l(w)],[l(S),l(_)]],M=[];t(w,0),t(_,1),d=g>m?-1:g<m?1:c>0?i.getItemModel(c-1).get()[2]<=m?1:-1:1,i.setItemLayout(p,{chartLayout:o,sign:d,initBaseline:g>m?w[s]:_[s],bodyEnds:M,whiskerEnds:C,brushRect:function(){var t=e(Math.min(g,m,v,y)),n=e(Math.max(g,m,v,y));return t[a]-=r/2,n[a]-=r/2,{x:t[0],y:t[1],width:s?r:n[0]-t[0],height:s?n[1]-t[1]:r}}()}),++c},!0)}})}),Fx.extend({type:\"series.effectScatter\",dependencies:[\"grid\",\"polar\"],getInitialData:function(e,t){return wa(this.getSource(),this)},brushSelector:\"point\",defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:0,z:2,legendHoverLink:!0,effectType:\"ripple\",progressive:0,showEffectOn:\"render\",rippleEffect:{period:4,scale:2.5,brushType:\"fill\"},symbolSize:10}});var sM=td.prototype;sM.stopEffectAnimation=function(){this.childAt(1).removeAll()},sM.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,i=this.childAt(1),r=0;r<3;r++){var o=Ua(t,-1,-1,2,2,n);o.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var a=-r/3*e.period+e.effectOffset;o.animate(\"\",!0).when(e.period,{scale:[e.rippleScale/2,e.rippleScale/2]}).delay(a).start(),o.animateStyle(!0).when(e.period,{opacity:0}).delay(a).start(),i.add(o)}ed(i,e)},sM.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),i=[\"symbolType\",\"period\",\"rippleScale\"],r=0;r<i.length;r++){var o=i[r];if(t[o]!==e[o])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}ed(n,e)},sM.highlight=function(){this.trigger(\"emphasis\")},sM.downplay=function(){this.trigger(\"normal\")},sM.updateData=function(e,t){var n=e.hostModel;this.childAt(0).updateData(e,t);var i=this.childAt(1),r=e.getItemModel(t),o=e.getItemVisual(t,\"symbol\"),a=function(e){return y(e)||(e=[+e,+e]),e}(e.getItemVisual(t,\"symbolSize\")),s=e.getItemVisual(t,\"color\");i.attr(\"scale\",a),i.traverse(function(e){e.attr({fill:s})});var l=r.getShallow(\"symbolOffset\");if(l){var u=i.position;u[0]=Wi(l[0],a[0]),u[1]=Wi(l[1],a[1])}i.rotation=(r.getShallow(\"symbolRotate\")||0)*Math.PI/180||0;var c={};if(c.showEffectOn=n.get(\"showEffectOn\"),c.rippleScale=r.get(\"rippleEffect.scale\"),c.brushType=r.get(\"rippleEffect.brushType\"),c.period=1e3*r.get(\"rippleEffect.period\"),c.effectOffset=t/e.count(),c.z=r.getShallow(\"z\")||0,c.zlevel=r.getShallow(\"zlevel\")||0,c.symbolType=o,c.color=s,this.off(\"mouseover\").off(\"mouseout\").off(\"emphasis\").off(\"normal\"),\"render\"===c.showEffectOn)this._effectCfg?this.updateEffectAnimation(c):this.startEffectAnimation(c),this._effectCfg=c;else{this._effectCfg=null,this.stopEffectAnimation();var d=this.childAt(0),h=function(){d.highlight(),\"render\"!==c.showEffectOn&&this.startEffectAnimation(c)},f=function(){d.downplay(),\"render\"!==c.showEffectOn&&this.stopEffectAnimation()};this.on(\"mouseover\",h,this).on(\"mouseout\",f,this).on(\"emphasis\",h,this).on(\"normal\",f,this)}this._effectCfg=c},sM.fadeOut=function(e){this.off(\"mouseover\").off(\"mouseout\").off(\"emphasis\").off(\"normal\"),e&&e()},u(td,Qg),oa({type:\"effectScatter\",init:function(){this._symbolDraw=new es(td)},render:function(e,t,n){var i=e.getData(),r=this._symbolDraw;r.updateData(i),this.group.add(r.group)},updateTransform:function(e,t,n){var i=e.getData();this.group.dirty();var r=Y_().reset(e);r.progress&&r.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_updateGroupTransform:function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=pe(t.getRoamTransform()),this.group.decomposeTransform())},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}}),Qo(Z_(\"effectScatter\",\"circle\")),Jo(Y_(\"effectScatter\"));var lM=\"undefined\"==typeof window?global:window,uM=lM.Uint32Array||Array,cM=lM.Float64Array||Array,dM=Fx.extend({type:\"series.lines\",dependencies:[\"grid\",\"polar\"],visualColorAccessPath:\"lineStyle.color\",init:function(e){nd(e);var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),dM.superApply(this,\"init\",arguments)},mergeOption:function(e){if(nd(e),e.data){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count))}dM.superApply(this,\"mergeOption\",arguments)},appendData:function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=B(this._flatCoords,t.flatCoords),this._flatCoordsOffset=B(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow(\"coords\")},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],i=this._flatCoordsOffset[2*e+1],r=0;r<i;r++)t[r]=t[r]||[],t[r][0]=this._flatCoords[n+2*r],t[r][1]=this._flatCoords[n+2*r+1];return i}var o=this._getCoordsFromItemModel(e);for(r=0;r<o.length;r++)t[r]=t[r]||[],t[r][0]=o[r][0],t[r][1]=o[r][1];return o.length},_processFlatCoordsArray:function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),\"number\"==typeof e[0]){for(var n=e.length,i=new uM(n),r=new cM(n),o=0,a=0,s=0,l=0;l<n;){s++;var u=e[l++];i[a++]=o+t,i[a++]=u;for(var c=0;c<u;c++){var d=e[l++],h=e[l++];r[o++]=d,r[o++]=h}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,a),flatCoords:r,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},getInitialData:function(e,t){var n=new jb([\"value\"],this);return n.hasItemOption=!1,n.initData(e.data,[],function(e,t,i,r){if(e instanceof Array)return NaN;n.hasItemOption=!0;var o=e.value;return null!=o?o instanceof Array?o[r]:o:void 0}),n},formatTooltip:function(e){var t=this.getData().getItemModel(e),n=t.get(\"name\");if(n)return n;var i=t.get(\"fromName\"),r=t.get(\"toName\"),o=[];return null!=i&&o.push(i),null!=r&&o.push(r),or(o.join(\" > \"))},preventIncremental:function(){return!!this.get(\"effect.show\")},getProgressive:function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get(\"progressive\"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get(\"progressiveThreshold\"):e},defaultOption:{coordinateSystem:\"geo\",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:[\"none\",\"none\"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:\"circle\",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,incremental:!1,incrementalThreshold:3e3,polyline:!1,label:{show:!1,position:\"end\"},lineStyle:{opacity:.5}}}),hM=id.prototype;hM.createLine=function(e,t,n){return new Nu(e,t,n)},hM._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel(\"effect\"),i=n.get(\"symbolSize\"),r=n.get(\"symbol\");y(i)||(i=[i,i]);var o=n.get(\"color\")||e.getItemVisual(t,\"color\"),a=this.childAt(1);this._symbolType!==r&&(this.remove(a),(a=Ua(r,-.5,-.5,1,1,o)).z2=100,a.culling=!0,this.add(a)),a&&(a.setStyle(\"shadowColor\",o),a.setStyle(n.getItemStyle([\"color\"])),a.attr(\"scale\",i),a.setColor(o),a.attr(\"scale\",i),this._symbolType=r,this._updateEffectAnimation(e,n,t))},hM._updateEffectAnimation=function(e,t,n){var i=this.childAt(1);if(i){var r=this,o=e.getItemLayout(n),a=1e3*t.get(\"period\"),s=t.get(\"loop\"),l=t.get(\"constantSpeed\"),u=T(t.get(\"delay\"),function(t){return t/e.count()*a/3}),c=\"function\"==typeof u;if(i.ignore=!0,this.updateAnimationPoints(i,o),l>0&&(a=this.getLineLength(i)/l*1e3),a!==this._period||s!==this._loop){i.stopAnimation();var d=u;c&&(d=u(n)),i.__t>0&&(d=-a*i.__t),i.__t=0;var h=i.animate(\"\",s).when(a,{__t:1}).delay(d).during(function(){r.updateSymbolPosition(i)});s||h.done(function(){r.remove(i)}),h.start()}this._period=a,this._loop=s}},hM.getLineLength=function(e){return xg(e.__p1,e.__cp1)+xg(e.__cp1,e.__p2)},hM.updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},hM.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},hM.updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,i=e.__cp1,r=e.__t,o=e.position,a=kn,s=An;o[0]=a(t[0],i[0],n[0],r),o[1]=a(t[1],i[1],n[1],r);var l=s(t[0],i[0],n[0],r),u=s(t[1],i[1],n[1],r);e.rotation=-Math.atan2(u,l)-Math.PI/2,e.ignore=!1},hM.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel(\"effect\");this._updateEffectAnimation(e,n,t)},u(id,Qg);var fM=rd.prototype;fM._createPolyline=function(e,t,n){var i=e.getItemLayout(t),r=new py({shape:{points:i}});this.add(r),this._updateCommonStl(e,t,n)},fM.updateData=function(e,t,n){var i=e.hostModel;Ii(this.childAt(0),{shape:{points:e.getItemLayout(t)}},i,t),this._updateCommonStl(e,t,n)},fM._updateCommonStl=function(e,t,n){var i=this.childAt(0),r=e.getItemModel(t),o=e.getItemVisual(t,\"color\"),s=n&&n.lineStyle,l=n&&n.hoverLineStyle;n&&!e.hasItemOption||(s=r.getModel(\"lineStyle\").getLineStyle(),l=r.getModel(\"emphasis.lineStyle\").getLineStyle()),i.useStyle(a({strokeNoScale:!0,fill:\"none\",stroke:o},s)),i.hoverStyle=l,bi(this)},fM.updateLayout=function(e,t){this.childAt(0).setShape(\"points\",e.getItemLayout(t))},u(rd,Qg);var pM=od.prototype;pM.createLine=function(e,t,n){return new rd(e,t,n)},pM.updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],i=0,r=1;r<t.length;r++)i+=xg(t[r-1],t[r]),n.push(i);if(0!==i){for(r=0;r<n.length;r++)n[r]/=i;this._offsets=n,this._length=i}},pM.getLineLength=function(e){return this._length},pM.updateSymbolPosition=function(e){var t=e.__t,n=this._points,i=this._offsets,r=n.length;if(i){var o=this._lastFrame;if(t<this._lastFramePercent){for(a=Math.min(o+1,r-1);a>=0&&!(i[a]<=t);a--);a=Math.min(a,r-2)}else{for(var a=o;a<r&&!(i[a]>t);a++);a=Math.min(a-1,r-2)}J(e.position,n[a],n[a+1],(t-i[a])/(i[a+1]-i[a])),e.rotation=-Math.atan2(n[a+1][1]-n[a][1],n[a+1][0]-n[a][0])-Math.PI/2,this._lastFrame=a,this._lastFramePercent=t,e.ignore=!1}},u(od,id);var gM=ei({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(e,t){var n=t.segs,i=t.curveness;if(t.polyline)for(a=0;a<n.length;){var r=n[a++];if(r>0){e.moveTo(n[a++],n[a++]);for(var o=1;o<r;o++)e.lineTo(n[a++],n[a++])}}else for(var a=0;a<n.length;){var s=n[a++],l=n[a++],u=n[a++],c=n[a++];e.moveTo(s,l),i>0?e.quadraticCurveTo((s+u)/2-(l-c)*i,(l+c)/2-(u-s)*i,u,c):e.lineTo(u,c)}},findDataIndex:function(e,t){var n=this.shape,i=n.segs,r=n.curveness;if(n.polyline)for(var o=0,a=0;a<i.length;){var s=i[a++];if(s>0)for(var l=i[a++],u=i[a++],c=1;c<s;c++)if(On(l,u,d=i[a++],h=i[a++]))return o;o++}else for(o=0,a=0;a<i.length;){l=i[a++],u=i[a++];var d=i[a++],h=i[a++];if(r>0){if(zn(l,u,(l+d)/2-(u-h)*r,(u+h)/2-(d-l)*r,d,h))return o}else if(On(l,u,d,h))return o;o++}return-1}}),mM=ad.prototype;mM.isPersistent=function(){return!this._incremental},mM.updateData=function(e){this.group.removeAll();var t=new gM({rectHover:!0,cursor:\"default\"});t.setShape({segs:e.getLayout(\"linesPoints\")}),this._setCommon(t,e),this.group.add(t),this._incremental=null},mM.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>5e5?(this._incremental||(this._incremental=new Qn({silent:!0})),this.group.add(this._incremental)):this._incremental=null},mM.incrementalUpdate=function(e,t){var n=new gM;n.setShape({segs:t.getLayout(\"linesPoints\")}),this._setCommon(n,t,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor=\"default\",n.__startIndex=e.start,this.group.add(n))},mM.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},mM._setCommon=function(e,t,n){var i=t.hostModel;e.setShape({polyline:i.get(\"polyline\"),curveness:i.get(\"lineStyle.curveness\")}),e.useStyle(i.getModel(\"lineStyle\").getLineStyle()),e.style.strokeNoScale=!0;var r=t.getVisual(\"color\");r&&e.setStyle(\"stroke\",r),e.setStyle(\"fill\"),n||(e.seriesIndex=i.seriesIndex,e.on(\"mousemove\",function(t){e.dataIndex=null;var n=e.findDataIndex(t.offsetX,t.offsetY);n>0&&(e.dataIndex=n+e.__startIndex)}))},mM._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var vM={seriesType:\"lines\",plan:Wx(),reset:function(e){var t=e.coordinateSystem,n=e.get(\"polyline\"),i=e.pipelineContext.large;return{progress:function(r,o){var a=[];if(i){var s,l=r.end-r.start;if(n){for(var u=0,c=r.start;c<r.end;c++)u+=e.getLineCoordsCount(c);s=new Float32Array(l+2*u)}else s=new Float32Array(2*l);var d=0,h=[];for(c=r.start;c<r.end;c++){g=e.getLineCoords(c,a),n&&(s[d++]=g);for(var f=0;f<g;f++)h=t.dataToPoint(a[f],!1,h),s[d++]=h[0],s[d++]=h[1]}o.setLayout(\"linesPoints\",s)}else for(c=r.start;c<r.end;c++){var p=o.getItemModel(c),g=e.getLineCoords(c,a),m=[];if(n)for(var v=0;v<g;v++)m.push(t.dataToPoint(a[v]));else{m[0]=t.dataToPoint(a[0]),m[1]=t.dataToPoint(a[1]);var y=p.get(\"lineStyle.curveness\");+y&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*y,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*y])}o.setItemLayout(c,m)}}}}};oa({type:\"lines\",init:function(){},render:function(e,t,n){var i=e.getData(),r=this._updateLineDraw(i,e),o=e.get(\"zlevel\"),a=e.get(\"effect.trailLength\"),s=n.getZr(),l=\"svg\"===s.painter.getType();l||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&a&&(l||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),r.updateData(i),this._lastZlevel=o,this._finished=!0},incrementalPrepareRender:function(e,t,n){var i=e.getData();this._updateLineDraw(i,e).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},incrementalRender:function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,n){var i=e.getData();if(!this._finished||e.pipelineContext.large)return{update:!0};var r=vM.reset(e);r.progress&&r.progress({start:0,end:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},_updateLineDraw:function(e,t){var n=this._lineDraw,i=this._showEffect(t),r=!!t.get(\"polyline\"),o=t.pipelineContext.large;return n&&i===this._hasEffet&&r===this._isPolyline&&o===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=o?new ad:new Pu(r?i?od:rd:i?id:Nu),this._hasEffet=i,this._isPolyline=r,this._isLargeDraw=o,this.group.removeAll()),this.group.add(n.group),n},_showEffect:function(e){return!!e.get(\"effect.show\")},_clearLayer:function(e){var t=e.getZr();\"svg\"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},dispose:function(){}});var yM=\"lineStyle.opacity\".split(\".\"),xM={seriesType:\"lines\",reset:function(e,t,n){var i=sd(e.get(\"symbol\")),r=sd(e.get(\"symbolSize\")),o=e.getData();return o.setVisual(\"fromSymbol\",i&&i[0]),o.setVisual(\"toSymbol\",i&&i[1]),o.setVisual(\"fromSymbolSize\",r&&r[0]),o.setVisual(\"toSymbolSize\",r&&r[1]),o.setVisual(\"opacity\",e.get(yM)),{dataEach:o.hasItemOption?function(e,t){var n=e.getItemModel(t),i=sd(n.getShallow(\"symbol\",!0)),r=sd(n.getShallow(\"symbolSize\",!0)),o=n.get(yM);i[0]&&e.setItemVisual(t,\"fromSymbol\",i[0]),i[1]&&e.setItemVisual(t,\"toSymbol\",i[1]),r[0]&&e.setItemVisual(t,\"fromSymbolSize\",r[0]),r[1]&&e.setItemVisual(t,\"toSymbolSize\",r[1]),e.setItemVisual(t,\"opacity\",o)}:null}}};Jo(vM),Qo(xM),Fx.extend({type:\"series.heatmap\",getInitialData:function(e,t){return wa(this.getSource(),this)},preventIncremental:function(){var e=Ir.get(this.get(\"coordinateSystem\"));if(e&&e.dimensions)return\"lng\"===e.dimensions[0]&&\"lat\"===e.dimensions[1]},defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}}),ld.prototype={update:function(e,t,n,i,r,o){var a=this._getBrush(),s=this._getGradient(e,r,\"inRange\"),l=this._getGradient(e,r,\"outOfRange\"),u=this.pointSize+this.blurSize,c=this.canvas,d=c.getContext(\"2d\"),h=e.length;c.width=t,c.height=n;for(var f=0;f<h;++f){var p=e[f],g=p[0],m=p[1],v=i(p[2]);d.globalAlpha=v,d.drawImage(a,g-u,m-u)}if(!c.width||!c.height)return c;for(var y=d.getImageData(0,0,c.width,c.height),x=y.data,b=0,_=x.length,w=this.minOpacity,S=this.maxOpacity-w;b<_;){v=x[b+3]/256;var C=4*Math.floor(255*v);if(v>0){var M=o(v)?s:l;v>0&&(v=v*S+w),x[b++]=M[C],x[b++]=M[C+1],x[b++]=M[C+2],x[b++]=M[C+3]*v*256}else b+=4}return d.putImageData(y,0,0),c},_getBrush:function(){var e=this._brushCanvas||(this._brushCanvas=pg()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var i=e.getContext(\"2d\");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor=\"#000\",i.beginPath(),i.arc(-t,t,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),e},_getGradient:function(e,t,n){for(var i=this._gradientPixels,r=i[n]||(i[n]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,s=0;s<256;s++)t[n](s/255,!0,o),r[a++]=o[0],r[a++]=o[1],r[a++]=o[2],r[a++]=o[3];return r}},oa({type:\"heatmap\",render:function(e,t,n){var i;t.eachComponent(\"visualMap\",function(t){t.eachTargetSeries(function(n){n===e&&(i=t)})}),this.group.removeAll(),this._incrementalDisplayable=null;var r=e.coordinateSystem;\"cartesian2d\"===r.type||\"calendar\"===r.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):function(e){var t=e.dimensions;return\"lng\"===t[0]&&\"lat\"===t[1]}(r)&&this._renderOnGeo(r,e,i,n)},incrementalPrepareRender:function(e,t,n){this.group.removeAll()},incrementalRender:function(e,t,n,i){t.coordinateSystem&&this._renderOnCartesianAndCalendar(t,i,e.start,e.end,!0)},_renderOnCartesianAndCalendar:function(e,t,n,i,r){var a,s,l=e.coordinateSystem;if(\"cartesian2d\"===l.type){var u=l.getAxis(\"x\"),c=l.getAxis(\"y\");a=u.getBandWidth(),s=c.getBandWidth()}for(var d=this.group,h=e.getData(),f=e.getModel(\"itemStyle\").getItemStyle([\"color\"]),p=e.getModel(\"emphasis.itemStyle\").getItemStyle(),g=e.getModel(\"label\"),m=e.getModel(\"emphasis.label\"),v=l.type,y=\"cartesian2d\"===v?[h.mapDimension(\"x\"),h.mapDimension(\"y\"),h.mapDimension(\"value\")]:[h.mapDimension(\"time\"),h.mapDimension(\"value\")],x=n;x<i;x++){var b;if(\"cartesian2d\"===v){if(isNaN(h.get(y[2],x)))continue;var _=l.dataToPoint([h.get(y[0],x),h.get(y[1],x)]);b=new gy({shape:{x:_[0]-a/2,y:_[1]-s/2,width:a,height:s},style:{fill:h.getItemVisual(x,\"color\"),opacity:h.getItemVisual(x,\"opacity\")}})}else{if(isNaN(h.get(y[1],x)))continue;b=new gy({z2:1,shape:l.dataToRect([h.get(y[0],x)]).contentShape,style:{fill:h.getItemVisual(x,\"color\"),opacity:h.getItemVisual(x,\"opacity\")}})}var w=h.getItemModel(x);h.hasItemOption&&(f=w.getModel(\"itemStyle\").getItemStyle([\"color\"]),p=w.getModel(\"emphasis.itemStyle\").getItemStyle(),g=w.getModel(\"label\"),m=w.getModel(\"emphasis.label\"));var S=e.getRawValue(x),C=\"-\";S&&null!=S[2]&&(C=S[2]),_i(f,p,g,m,{labelFetcher:e,labelDataIndex:x,defaultText:C,isRectText:!0}),b.setStyle(f),bi(b,h.hasItemOption?p:o({},p)),b.incremental=r,r&&(b.useHoverLayer=!0),d.add(b),h.setItemGraphicEl(x,b)}},_renderOnGeo:function(e,t,n,i){var r=n.targetVisuals.inRange,o=n.targetVisuals.outOfRange,a=t.getData(),s=this._hmLayer||this._hmLayer||new ld;s.blurSize=t.get(\"blurSize\"),s.pointSize=t.get(\"pointSize\"),s.minOpacity=t.get(\"minOpacity\"),s.maxOpacity=t.get(\"maxOpacity\");var l=e.getViewRect().clone(),u=e.getRoamTransform();l.applyTransform(u);var c=Math.max(l.x,0),d=Math.max(l.y,0),h=Math.min(l.width+l.x,i.getWidth()),f=Math.min(l.height+l.y,i.getHeight()),p=h-c,g=f-d,m=[a.mapDimension(\"lng\"),a.mapDimension(\"lat\"),a.mapDimension(\"value\")],v=a.mapArray(m,function(t,n,i){var r=e.dataToPoint([t,n]);return r[0]-=c,r[1]-=d,r.push(i),r}),y=n.getExtent(),x=\"visualMap.continuous\"===n.type?function(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(e){return e>=t[0]&&e<=t[1]}}(y,n.option.range):ud(y,n.getPieceList(),n.option.selected);s.update(v,p,g,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:o.color.getColorMapper()},x);var b=new Ht({style:{width:p,height:g,x:c,y:d,image:s.canvas},silent:!0});this.group.add(b)},dispose:function(){}});var bM=Mw.extend({type:\"series.pictorialBar\",dependencies:[\"grid\"],defaultOption:{symbol:\"circle\",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:\"end\",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:\"-100%\",progressive:0,hoverAnimation:!1},getInitialData:function(e){return e.stack=null,bM.superApply(this,\"getInitialData\",arguments)}}),_M=[\"itemStyle\",\"borderWidth\"],wM=[{xy:\"x\",wh:\"width\",index:0,posDesc:[\"left\",\"right\"]},{xy:\"y\",wh:\"height\",index:1,posDesc:[\"top\",\"bottom\"]}],SM=new ay;oa({type:\"pictorialBar\",render:function(e,t,n){var i=this.group,r=e.getData(),o=this._data,a=e.coordinateSystem,s=!!a.getBaseAxis().isHorizontal(),l=a.grid.getRect(),u={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:a,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:wM[+s],categoryDim:wM[1-s]};return r.diff(o).add(function(e){if(r.hasValue(e)){var t=yd(r,e),n=cd(r,e,t,u),o=wd(r,u,n);r.setItemGraphicEl(e,o),i.add(o),kd(o,u,n)}}).update(function(e,t){var n=o.getItemGraphicEl(t);if(r.hasValue(e)){var a=yd(r,e),s=cd(r,e,a,u),l=Cd(r,s);n&&l!==n.__pictorialShapeStr&&(i.remove(n),r.setItemGraphicEl(e,null),n=null),n?function(e,t,n){var i=n.animationModel,r=n.dataIndex;Ii(e.__pictorialBundle,{position:n.bundlePosition.slice()},i,r),n.symbolRepeat?pd(e,t,n,!0):gd(e,0,n,!0),md(e,n,!0),vd(e,t,n,!0)}(n,u,s):n=wd(r,u,s,!0),r.setItemGraphicEl(e,n),n.__pictorialSymbolMeta=s,i.add(n),kd(n,u,s)}else i.remove(n)}).remove(function(e){var t=o.getItemGraphicEl(e);t&&Sd(o,e,t.__pictorialSymbolMeta.animationModel,t)}).execute(),this._data=r,this.group},dispose:z,remove:function(e,t){var n=this.group,i=this._data;e.get(\"animation\")?i&&i.eachItemGraphicEl(function(t){Sd(i,t.dataIndex,e,t)}):n.removeAll()}}),Jo(v(Ea,\"pictorialBar\")),Qo(Z_(\"pictorialBar\",\"roundRect\"));var CM=function(e,t,n,i,r){I_.call(this,e,t,n),this.type=i||\"value\",this.position=r||\"bottom\",this.orient=null,this._labelInterval=null};CM.prototype={constructor:CM,model:null,isHorizontal:function(){var e=this.position;return\"top\"===e||\"bottom\"===e},pointToData:function(e,t){return this.coordinateSystem.pointToData(e,t)[0]},toGlobalCoord:null,toLocalCoord:null},u(CM,I_),Ir.register(\"single\",{create:function(e,t){var n=[];return e.eachComponent(\"singleAxis\",function(i,r){var o=new Id(i,e,t);o.name=\"single_\"+r,o.resize(i,t),i.coordinateSystem=o,n.push(o)}),e.eachSeries(function(t){if(\"singleAxis\"===t.get(\"coordinateSystem\")){var n=e.queryComponents({mainType:\"singleAxis\",index:t.get(\"singleAxisIndex\"),id:t.get(\"singleAxisId\")})[0];t.coordinateSystem=n&&n.coordinateSystem}}),n},dimensions:(Id.prototype={type:\"singleAxis\",axisPointerEnabled:!0,constructor:Id,_init:function(e,t,n){var i=new CM(this.dimension,Fa(e),[0,0],e.get(\"type\"),e.get(\"position\"));i.onBand=\"category\"===i.type&&e.get(\"boundaryGap\"),i.inverse=e.get(\"inverse\"),i.orient=e.get(\"orient\"),e.axis=i,i.model=e,i.coordinateSystem=this,this._axis=i},update:function(e,t){e.eachSeries(function(e){if(e.coordinateSystem===this){var t=e.getData();h(t.mapDimension(this.dimension,!0),function(e){this._axis.scale.unionExtentFromData(t,e)},this),za(this._axis.scale,this._axis.model)}},this)},resize:function(e,t){this._rect=hr({left:e.get(\"left\"),top:e.get(\"top\"),right:e.get(\"right\"),bottom:e.get(\"bottom\"),width:e.get(\"width\"),height:e.get(\"height\")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),i=n?[0,e.width]:[0,e.height],r=t.reverse?1:0;t.setExtent(i[r],i[1-r]),this._updateAxisTransform(t,n?e.x:e.y)},_updateAxisTransform:function(e,t){var n=e.getExtent(),i=n[0]+n[1],r=e.isHorizontal();e.toGlobalCoord=r?function(e){return e+t}:function(e){return i-e+t},e.toLocalCoord=r?function(e){return e-t}:function(e){return i-e+t}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(e){var t=this.getRect(),n=this.getAxis();return\"horizontal\"===n.orient?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},pointToData:function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e[\"horizontal\"===t.orient?0:1]))]},dataToPoint:function(e){var t=this.getAxis(),n=this.getRect(),i=[],r=\"horizontal\"===t.orient?0:1;return e instanceof Array&&(e=e[0]),i[r]=t.toGlobalCoord(t.dataToCoord(+e)),i[1-r]=0===r?n.y+n.height/2:n.x+n.width/2,i}}).dimensions});var MM=dw.getInterval,TM=dw.ifIgnoreOnTick,kM=[\"axisLine\",\"axisTickLabel\",\"axisName\"],AM=yw.extend({type:\"singleAxis\",axisPointerClass:\"SingleAxisPointer\",render:function(e,t,n,i){var r=this.group;r.removeAll();var o=Dd(e),a=new dw(e,o);h(kM,a.add,a),r.add(a.getGroup()),e.get(\"splitLine.show\")&&this._splitLine(e,o.labelInterval),AM.superCall(this,\"render\",e,t,n,i)},_splitLine:function(e,t){var n=e.axis;if(!n.scale.isBlank()){var i=e.getModel(\"splitLine\"),r=i.getModel(\"lineStyle\"),o=r.get(\"width\"),a=r.get(\"color\"),s=MM(i,t);a=a instanceof Array?a:[a];for(var l=e.coordinateSystem.getRect(),u=n.isHorizontal(),c=[],d=0,h=n.getTicksCoords(),f=[],p=[],g=e.get(\"axisLabel.showMinLabel\"),m=e.get(\"axisLabel.showMaxLabel\"),v=0;v<h.length;++v)if(!TM(n,v,s,h.length,g,m)){var y=n.toGlobalCoord(h[v]);u?(f[0]=y,f[1]=l.y,p[0]=y,p[1]=l.y+l.height):(f[0]=l.x,f[1]=y,p[0]=l.x+l.width,p[1]=y);var x=d++%a.length;c[x]=c[x]||[],c[x].push(new my(oi({shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},style:{lineWidth:o},silent:!0})))}for(v=0;v<c.length;++v)this.group.add(Iy(c[v],{style:{stroke:a[v%a.length],lineDash:r.getLineDash(o),lineWidth:o},silent:!0}))}}}),IM=ex.extend({type:\"singleAxis\",layoutMode:\"box\",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});i(IM.prototype,m_),nw(\"single\",IM,function(e,t){return t.type||(t.data?\"category\":\"value\")},{left:\"5%\",top:\"5%\",right:\"5%\",bottom:\"5%\",type:\"value\",position:\"bottom\",orient:\"horizontal\",axisLine:{show:!0,lineStyle:{width:2,type:\"solid\"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:\"auto\"},splitLine:{show:!0,lineStyle:{type:\"dashed\",opacity:.2}}});var DM=function(e,t){var n,i=[],r=e.seriesIndex;if(null==r||!(n=t.getSeriesByIndex(r)))return{point:[]};var o=n.getData(),a=cn(o,e);if(null==a||a<0||y(a))return{point:[]};var s=o.getItemGraphicEl(a),l=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)i=l.dataToPoint(o.getValues(f(l.dimensions,function(e){return o.mapDimension(e)}),a,!0))||[];else if(s){var u=s.getBoundingRect().clone();u.applyTransform(s.transform),i=[u.x+u.width/2,u.y+u.height/2]}return{point:i,el:s}},NM=h,PM=v,LM=dn(),EM=(na({type:\"axisPointer\",coordSysAxesInfo:null,defaultOption:{show:\"auto\",triggerOn:null,zlevel:0,z:50,type:\"line\",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:\"#aaa\",width:1,type:\"solid\"},shadowStyle:{color:\"rgba(150,150,150,0.3)\"},label:{show:!0,formatter:null,precision:\"auto\",margin:3,color:\"#fff\",padding:[5,7,5,7],backgroundColor:\"auto\",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:\"#aaa\"},handle:{show:!1,icon:\"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z\",size:45,margin:50,color:\"#333\",shadowBlur:3,shadowColor:\"#aaa\",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),dn()),RM=h,OM=ia({type:\"axisPointer\",render:function(e,t,n){var i=t.getComponent(\"tooltip\"),r=e.get(\"triggerOn\")||i&&i.get(\"triggerOn\")||\"mousemove|click\";Bd(\"axisPointer\",n,function(e,t,n){\"none\"!==r&&(\"leave\"===e||r.indexOf(e)>=0)&&n({type:\"updateAxisPointer\",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})})},remove:function(e,t){Vd(t.getZr(),\"axisPointer\"),OM.superApply(this._model,\"remove\",arguments)},dispose:function(e,t){Vd(\"axisPointer\",t),OM.superApply(this._model,\"dispose\",arguments)}}),BM=dn(),zM=n,FM=m;(Hd.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,n,i){var r=t.get(\"value\"),o=t.get(\"status\");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,i||this._lastValue!==r||this._lastStatus!==o){this._lastValue=r,this._lastStatus=o;var a=this._group,s=this._handle;if(!o||\"hide\"===o)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var l={};this.makeElOption(l,r,e,t,n);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var c=this._moveAnimation=this.determineAnimation(e,t);if(a){var d=v(Wd,t,c);this.updatePointerEl(a,l,d,t),this.updateLabelEl(a,l,d,t)}else a=this._group=new Qg,this.createPointerEl(a,l,e,t),this.createLabelEl(a,l,e,t),n.getZr().add(a);qd(a,t,!0),this._renderHandle(r)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var n=t.get(\"animation\"),i=e.axis,r=\"category\"===i.type,o=t.get(\"snap\");if(!o&&!r)return!1;if(\"auto\"===n||null==n){var a=this.animationThreshold;if(r&&i.getBandWidth()>a)return!0;if(o){var s=Ls(e).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/s>a}return!1}return!0===n},makeElOption:function(e,t,n,i,r){},createPointerEl:function(e,t,n,i){var r=t.pointer;if(r){var o=BM(e).pointerEl=new Dy[r.type](zM(t.pointer));e.add(o)}},createLabelEl:function(e,t,n,i){if(t.label){var r=BM(e).labelEl=new gy(zM(t.label));e.add(r),Ud(r,i)}},updatePointerEl:function(e,t,n){var i=BM(e).pointerEl;i&&(i.setStyle(t.pointer.style),n(i,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,n,i){var r=BM(e).labelEl;r&&(r.setStyle(t.label.style),n(r,{shape:t.label.shape,position:t.label.position}),Ud(r,i))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t,n=this._axisPointerModel,i=this._api.getZr(),r=this._handle,o=n.getModel(\"handle\"),a=n.get(\"status\");if(!o.get(\"show\")||!a||\"hide\"===a)return r&&i.remove(r),void(this._handle=null);this._handle||(t=!0,r=this._handle=Oi(o.get(\"icon\"),{cursor:\"move\",draggable:!0,onmousemove:function(e){Im(e.event)},onmousedown:FM(this._onHandleDragMove,this,0,0),drift:FM(this._onHandleDragMove,this),ondragend:FM(this._onHandleDragEnd,this)}),i.add(r)),qd(r,n,!1),r.setStyle(o.getItemStyle(null,[\"color\",\"borderColor\",\"borderWidth\",\"opacity\",\"shadowColor\",\"shadowBlur\",\"shadowOffsetX\",\"shadowOffsetY\"]));var s=o.get(\"size\");y(s)||(s=[s,s]),r.attr(\"scale\",[s[0]/2,s[1]/2]),fo(this,\"_doDispatchAxisPointer\",o.get(\"throttle\")||0,\"fixRate\"),this._moveHandleToValue(e,t)}},_moveHandleToValue:function(e,t){Wd(this._axisPointerModel,!t&&this._moveAnimation,this._handle,jd(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(jd(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(jd(i)),BM(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:\"updateAxisPointer\",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},_onHandleDragEnd:function(e){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get(\"value\");this._moveHandleToValue(t),this._api.dispatchAction({type:\"hideTip\"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,i=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}}).constructor=Hd,mn(Hd);var VM=Hd.extend({makeElOption:function(e,t,n,i,r){var o=n.axis,a=o.grid,s=i.get(\"type\"),l=th(a,o).getOtherAxis(o).getGlobalExtent(),u=o.toGlobalCoord(o.dataToCoord(t,!0));if(s&&\"none\"!==s){var c=Zd(i),d=HM[s](o,u,l,c);d.style=c,e.graphicKey=d.type,e.pointer=d}Kd(t,e,zs(a.model,n),n,i,r)},getHandleTransform:function(e,t,n){var i=zs(t.axis.grid.model,t,{labelInside:!1});return i.labelMargin=n.get(\"handle.margin\"),{position:$d(t.axis,e,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,i){var r=n.axis,o=r.grid,a=r.getGlobalExtent(!0),s=th(o,r).getOtherAxis(r).getGlobalExtent(),l=\"x\"===r.dim?0:1,u=e.position;u[l]+=t[l],u[l]=Math.min(a[1],u[l]),u[l]=Math.max(a[0],u[l]);var c=(s[1]+s[0])/2,d=[c,c];return d[l]=u[l],{position:u,rotation:e.rotation,cursorPoint:d,tooltipOption:[{verticalAlign:\"middle\"},{align:\"center\"}][l]}}}),HM={line:function(e,t,n,i){var r=Jd([t,n[0]],[t,n[1]],nh(e));return oi({shape:r,style:i}),{type:\"Line\",shape:r}},shadow:function(e,t,n,i){var r=e.getBandWidth();return{type:\"Rect\",shape:Qd([t-r/2,n[0]],[r,n[1]-n[0]],nh(e))}}};yw.registerAxisPointerClass(\"CartesianAxisPointer\",VM),Yo(function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!y(t)&&(e.axisPointer.link=[t])}}),Xo(mb.PROCESSOR.STATISTIC,function(e,t){e.getComponent(\"axisPointer\").coordSysAxesInfo=function(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(e,t,n){var i=t.getComponent(\"tooltip\"),r=t.getComponent(\"axisPointer\"),o=r.get(\"link\",!0)||[],a=[];mw(n.getCoordinateSystems(),function(n){function s(i,s,l){var d=l.model.getModel(\"axisPointer\",r),h=d.get(\"show\");if(h&&(\"auto\"!==h||i||Es(d))){null==s&&(s=d.get(\"triggerTooltip\"));var f=(d=i?Ds(l,c,r,t,i,s):d).get(\"snap\"),p=Rs(l.model),g=s||f||\"category\"===l.type,m=e.axesInfo[p]={key:p,axis:l,coordSys:n,axisPointerModel:d,triggerTooltip:s,involveSeries:g,snap:f,useHandle:Es(d),seriesModels:[]};u[p]=m,e.seriesInvolved|=g;var v=function(e,t){for(var n=t.model,i=t.dim,r=0;r<e.length;r++){var o=e[r]||{};if(Ns(o[i+\"AxisId\"],n.id)||Ns(o[i+\"AxisIndex\"],n.componentIndex)||Ns(o[i+\"AxisName\"],n.name))return r}}(o,l);if(null!=v){var y=a[v]||(a[v]={axesInfo:{}});y.axesInfo[p]=m,y.mapper=o[v].mapper,m.linkGroup=y}}}if(n.axisPointerEnabled){var l=Rs(n.model),u=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=n;var c=n.model.getModel(\"tooltip\",i);if(mw(n.getAxes(),vw(s,!1,null)),n.getTooltipAxes&&i&&c.get(\"show\")){var d=\"axis\"===c.get(\"trigger\"),h=\"cross\"===c.get(\"axisPointer.type\"),f=n.getTooltipAxes(c.get(\"axisPointer.axis\"));(d||h)&&mw(f.baseAxes,vw(s,!h||\"cross\",d)),h&&mw(f.otherAxes,vw(s,\"cross\",!1))}}})}(n,e,t),n.seriesInvolved&&function(e,t){t.eachSeries(function(t){var n=t.coordinateSystem,i=t.get(\"tooltip.trigger\",!0),r=t.get(\"tooltip.show\",!0);n&&\"none\"!==i&&!1!==i&&\"item\"!==i&&!1!==r&&!1!==t.get(\"axisPointer.show\",!0)&&mw(e.coordSysAxesInfo[Rs(n.model)],function(e){var i=e.axis;n.getAxis(i.dim)===i&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())})},this)}(n,e),n}(e,t)}),$o({type:\"updateAxisPointer\",event:\"updateAxisPointer\",update:\":updateAxisPointer\"},function(e,t,n){var i=e.currTrigger,r=[e.x,e.y],o=e,a=e.dispatchAction||m(n.dispatchAction,n),s=t.getComponent(\"axisPointer\").coordSysAxesInfo;if(s){Od(r)&&(r=DM({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var l=Od(r),u=o.axesInfo,c=s.axesInfo,d=\"leave\"===i||Od(r),h={},f={},p={list:[],map:{}},g={showPointer:PM(Pd,f),showTooltip:PM(Ld,p)};NM(s.coordSysMap,function(e,t){var n=l||e.containPoint(r);NM(s.coordSysAxesInfo[t],function(e,t){var i=e.axis,o=function(e,t){for(var n=0;n<(e||[]).length;n++){var i=e[n];if(t.axis.dim===i.axisDim&&t.axis.model.componentIndex===i.axisIndex)return i}}(u,e);if(!d&&n&&(!u||o)){var a=o&&o.value;null!=a||l||(a=i.pointToData(r)),null!=a&&Nd(e,a,g,!1,h)}})});var v={};return NM(c,function(e,t){var n=e.linkGroup;n&&!f[t]&&NM(n.axesInfo,function(t,i){var r=f[i];if(t!==e&&r){var o=r.value;n.mapper&&(o=e.axis.scale.parse(n.mapper(o,Rd(t),Rd(e)))),v[e.key]=o}})}),NM(v,function(e,t){Nd(c[t],e,g,!0,h)}),function(e,t,n){var i=n.axesInfo=[];NM(t,function(t,n){var r=t.axisPointerModel.option,o=e[n];o?(!t.useHandle&&(r.status=\"show\"),r.value=o.value,r.seriesDataIndices=(o.payloadBatch||[]).slice()):!t.useHandle&&(r.status=\"hide\"),\"show\"===r.status&&i.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:r.value})})}(f,c,h),function(e,t,n,i){if(!Od(t)&&e.list.length){var r=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:\"showTip\",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:e.list})}else i({type:\"hideTip\"})}(p,r,e,a),Ed(c,0,n),h}});var WM=[\"x\",\"y\"],GM=[\"width\",\"height\"],UM=Hd.extend({makeElOption:function(e,t,n,i,r){var o=n.axis,a=o.coordinateSystem,s=rh(a,1-ih(o)),l=a.dataToPoint(t)[0],u=i.get(\"type\");if(u&&\"none\"!==u){var c=Zd(i),d=jM[u](o,l,s,c);d.style=c,e.graphicKey=d.type,e.pointer=d}Kd(t,e,Dd(n),n,i,r)},getHandleTransform:function(e,t,n){var i=Dd(t,{labelInside:!1});return i.labelMargin=n.get(\"handle.margin\"),{position:$d(t.axis,e,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,i){var r=n.axis,o=r.coordinateSystem,a=ih(r),s=rh(o,a),l=e.position;l[a]+=t[a],l[a]=Math.min(s[1],l[a]),l[a]=Math.max(s[0],l[a]);var u=rh(o,1-a),c=(u[1]+u[0])/2,d=[c,c];return d[a]=l[a],{position:l,rotation:e.rotation,cursorPoint:d,tooltipOption:{verticalAlign:\"middle\"}}}}),jM={line:function(e,t,n,i){var r=Jd([t,n[0]],[t,n[1]],ih(e));return oi({shape:r,style:i}),{type:\"Line\",shape:r}},shadow:function(e,t,n,i){var r=e.getBandWidth();return{type:\"Rect\",shape:Qd([t-r/2,n[0]],[r,n[1]-n[0]],ih(e))}}};yw.registerAxisPointerClass(\"SingleAxisPointer\",UM),ia({type:\"single\"});var qM=Fx.extend({type:\"series.themeRiver\",dependencies:[\"singleAxis\"],nameMap:null,init:function(e){qM.superApply(this,\"init\",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(e){for(var t=e.length,n=f(Rc().key(function(e){return e[2]}).entries(e),function(e){return{name:e.key,dataList:e.values}}),i=n.length,r=-1,o=-1,a=0;a<i;++a){var s=n[a].dataList.length;s>r&&(r=s,o=a)}for(var l=0;l<i;++l)if(l!==o)for(var u=n[l].name,c=0;c<r;++c){for(var d=n[o].dataList[c][0],h=n[l].dataList.length,p=-1,g=0;g<h;++g)if(n[l].dataList[g][0]===d){p=g;break}-1===p&&(e[t]=[],e[t][0]=d,e[t][1]=0,e[t][2]=u,t++)}return e},getInitialData:function(e,t){for(var n=t.queryComponents({mainType:\"singleAxis\",index:this.get(\"singleAxisIndex\"),id:this.get(\"singleAxisId\")})[0].get(\"type\"),i=g(e.data,function(e){return void 0!==e[2]}),r=this.fixData(i||[]),o=[],a=this.nameMap=O(),s=0,l=0;l<r.length;++l)o.push(r[l][2]),a.get(r[l][2])||(a.set(r[l][2],s),s++);var u=Yb(r,{coordDimensions:[\"single\"],dimensionsDefine:[{name:\"time\",type:ca(n)},{name:\"value\",type:\"float\"},{name:\"name\",type:\"ordinal\"}],encodeDefine:{single:0,value:1,itemName:2}}),c=new jb(u,this);return c.initData(r),c},getLayerSeries:function(){for(var e=this.getData(),t=e.count(),n=[],i=0;i<t;++i)n[i]=i;for(var r=f(Rc().key(function(t){return e.get(\"name\",t)}).entries(n),function(e){return{name:e.key,indices:e.values}}),o=e.mapDimension(\"single\"),a=0;a<r.length;++a)r[a].indices.sort(function(t,n){return e.get(o,t)-e.get(o,n)});return r},getAxisTooltipData:function(e,t,n){y(e)||(e=e?[e]:[]);for(var i,r=this.getData(),o=this.getLayerSeries(),a=[],s=o.length,l=0;l<s;++l){for(var u=Number.MAX_VALUE,c=-1,d=o[l].indices.length,h=0;h<d;++h){var f=r.get(e[0],o[l].indices[h]),p=Math.abs(f-t);p<=u&&(i=f,u=p,c=o[l].indices[h])}a.push(c)}return{dataIndices:a,nestestValue:i}},formatTooltip:function(e){var t=this.getData(),n=t.getName(e),i=t.get(t.mapDimension(\"value\"),e);return(isNaN(i)||null==i)&&(i=\"-\"),or(n+\" : \"+i)},defaultOption:{zlevel:0,z:2,coordinateSystem:\"singleAxis\",boundaryGap:[\"10%\",\"10%\"],singleAxisIndex:0,animationEasing:\"linear\",label:{margin:4,textAlign:\"right\",show:!0,position:\"left\",color:\"#000\",fontSize:11},emphasis:{label:{show:!0}}}});oa({type:\"themeRiver\",init:function(){this._layers=[]},render:function(e,t,n){function i(e){return e.name}function r(t,n,i){var r=this._layers;if(\"remove\"!==t){for(var u,d=[],h=[],f=l[n].indices,p=0;p<f.length;p++){var g=a.getItemLayout(f[p]),m=g.x,v=g.y0,y=g.y;d.push([m,v]),h.push([m,v+y]),u=a.getItemVisual(f[p],\"color\")}var x,b,_=a.getItemLayout(f[0]),w=a.getItemModel(f[p-1]),S=w.getModel(\"label\"),C=S.get(\"margin\");if(\"add\"===t)M=c[n]=new Qg,x=new q_({shape:{points:d,stackedOnPoints:h,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),b=new oy({style:{x:_.x-C,y:_.y0+_.y/2}}),M.add(x),M.add(b),s.add(M),x.setClipPath(function(e,t,n){var i=new gy({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Di(i,{shape:{width:e.width+20,height:e.height+20}},t,function(){x.removeClipPath()}),i}(x.getBoundingRect(),e));else{var M=r[i];x=M.childAt(0),b=M.childAt(1),s.add(M),c[n]=M,Ii(x,{shape:{points:d,stackedOnPoints:h}},e),Ii(b,{style:{x:_.x-C,y:_.y0+_.y/2}},e)}var T=w.getModel(\"emphasis.itemStyle\"),k=w.getModel(\"itemStyle\");wi(b.style,S,{text:S.get(\"show\")?e.getFormattedLabel(f[p-1],\"normal\")||a.getName(f[p-1]):null,textVerticalAlign:\"middle\"}),x.setStyle(o({fill:u},k.getItemStyle([\"color\"]))),bi(x,T.getItemStyle())}else s.remove(r[n])}var a=e.getData(),s=this.group,l=e.getLayerSeries(),u=a.getLayout(\"layoutInfo\");s.attr(\"position\",[0,u.rect.y+u.boundaryGap[0]]);var c={};new la(this._layersSeries||[],l,i,i).add(m(r,this,\"add\")).update(m(r,this,\"update\")).remove(m(r,this,\"remove\")).execute(),this._layersSeries=l,this._layers=c},dispose:function(){}}),Jo(function(e,t){e.eachSeriesByType(\"themeRiver\",function(e){var t=e.getData(),n=e.coordinateSystem,i={},r=n.getRect();i.rect=r;var o=e.get(\"boundaryGap\"),a=n.getAxis();i.boundaryGap=o,\"horizontal\"===a.orient?(o[0]=Wi(o[0],r.height),o[1]=Wi(o[1],r.height),oh(t,e,r.height-o[0]-o[1])):(o[0]=Wi(o[0],r.width),o[1]=Wi(o[1],r.width),oh(t,e,r.width-o[0]-o[1])),t.setLayout(\"layoutInfo\",i)})}),Qo(function(e){e.eachSeriesByType(\"themeRiver\",function(e){var t=e.getData(),n=e.getRawData(),i=e.get(\"color\"),r=O();t.each(function(e){r.set(t.getRawIndex(e),e)}),n.each(function(o){var a=n.getName(o),s=i[(e.nameMap.get(a)-1)%i.length];n.setItemVisual(o,\"color\",s);var l=r.get(o);null!=l&&t.setItemVisual(l,\"color\",s)})})}),Xo(zw(\"themeRiver\")),Fx.extend({type:\"series.sunburst\",_viewRoot:null,getInitialData:function(e,t){var n={name:e.name,children:e.data};ah(n);var i={};return i.levels=e.levels||[],Dl.createTree(n,this,i).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(e){var t=Fx.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=Xl(n,this),t},defaultOption:{zlevel:0,z:2,center:[\"50%\",\"50%\"],radius:[0,\"75%\"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:\"descendant\",nodeClick:\"rootToNode\",renderLabelForZeroData:!1,label:{rotate:\"radial\",show:!0,opacity:1,align:\"center\",position:\"inside\",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:\"white\",opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:\"expansion\",animationDuration:1e3,animationDurationUpdate:500,animationEasing:\"cubicOut\",data:[],levels:[],sort:\"desc\"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});var ZM=\"none\",YM=2,XM=4,$M=sh.prototype;$M.updateData=function(e,t,n,r,s){this.node=t,t.piece=this,r=r||this._seriesModel,s=s||this._ecModel;var l=this.childAt(0);l.dataIndex=t.dataIndex;var u=t.getModel(),c=t.getLayout(),d=o({},c);d.label=null;var h,f=lh(t,0,s),p=u.getModel(\"itemStyle\").getItemStyle();h=a({lineJoin:\"bevel\",fill:(h=\"normal\"===n?p:i(u.getModel(n+\".itemStyle\").getItemStyle(),p)).fill||f},h),e?(l.setShape(d),l.shape.r=c.r0,Ii(l,{shape:{r:c.r}},r,t.dataIndex),l.useStyle(h)):Ii(l,{shape:d,style:h},r),\"normal\"===n&&(l.hoverStyle=u.getModel(\"emphasis.itemStyle\").getItemStyle(),bi(this)),this._updateLabel(r,s,f);var g=u.getShallow(\"cursor\");if(g&&l.attr(\"cursor\",g),e){var m=r.getShallow(\"highlightPolicy\");this._initEvents(l,t,r,m)}this._seriesModel=r||this._seriesModel,this._ecModel=s||this._ecModel},$M.onEmphasis=function(e){var t=this;this.node.hostTree.root.eachNode(function(n){n.piece&&(t.node===n?n.piece.updateData(!1,n,\"emphasis\"):function(e,t,n){return n!==ZM&&(\"self\"===n?e===t:\"ancestor\"===n?e===t||e.isAncestorOf(t):e===t||e.isDescendantOf(t))}(n,t.node,e)?n.piece.childAt(0).trigger(\"highlight\"):e!==ZM&&n.piece.childAt(0).trigger(\"downplay\"))})},$M.onNormal=function(){this.node.hostTree.root.eachNode(function(e){e.piece&&e.piece.updateData(!1,e,\"normal\")})},$M.onHighlight=function(){this.updateData(!1,this.node,\"highlight\")},$M.onDownplay=function(){this.updateData(!1,this.node,\"downplay\")},$M._updateLabel=function(e,t,n){var i=this.node.getModel(),r=i.getModel(\"label\"),o=i.getModel(\"label.emphasis\"),a=T(e.getFormattedLabel(this.node.dataIndex,\"normal\",null,null,\"label\"),this.node.name);r.get(\"show\")||(a=\"\");var s=this.childAt(1);_i(s.style,s.hoverStyle={},r,o,{defaultText:r.getShallow(\"show\")?a:null,autoColor:n,useInsideStyle:!0});var l,u=this.node.getLayout(),c=(u.startAngle+u.endAngle)/2,d=Math.cos(c),h=Math.sin(c),f=r.get(\"position\"),p=r.get(\"distance\")||0,g=r.get(\"align\");\"outside\"===f?(l=u.r+p,g=c>Math.PI/2?\"right\":\"left\"):g&&\"center\"!==g?\"left\"===g?(l=u.r0+p,c>Math.PI/2&&(g=\"right\")):\"right\"===g&&(l=u.r-p,c>Math.PI/2&&(g=\"left\")):(l=(u.r+u.r0)/2,g=\"center\"),s.attr(\"style\",{text:a,textAlign:g,textVerticalAlign:r.get(\"verticalAlign\")||\"middle\",opacity:r.get(\"opacity\")}),s.attr(\"position\",[l*d+u.cx,l*h+u.cy]);var m=r.getShallow(\"rotate\"),v=0;\"radial\"===m?(v=-c)<-Math.PI/2&&(v+=Math.PI):\"tangential\"===m?(v=Math.PI/2-c)>Math.PI/2?v-=Math.PI:v<-Math.PI/2&&(v+=Math.PI):\"number\"==typeof m&&(v=m*Math.PI/180),s.attr(\"rotation\",v)},$M._initEvents=function(e,t,n,i){e.off(\"mouseover\").off(\"mouseout\").off(\"emphasis\").off(\"normal\");var r=this,o=function(){r.onEmphasis(i)},a=function(){r.onNormal()};n.isAnimationEnabled()&&e.on(\"mouseover\",o).on(\"mouseout\",a).on(\"emphasis\",o).on(\"normal\",a).on(\"downplay\",function(){r.onDownplay()}).on(\"highlight\",function(){r.onHighlight()})},u(sh,Qg),oo.extend({type:\"sunburst\",init:function(){},render:function(e,t,n,i){function r(n,i){if(u||!n||n.getValue()||(n=null),n!==a&&i!==a)if(i&&i.piece)n?i.piece.updateData(!1,n,\"normal\",e,t):function(e){e&&e.piece&&(l.remove(e.piece),e.piece=null)}(i);else if(n){var r=new sh(n,e,t);l.add(r)}}var o=this;this.seriesModel=e,this.api=n,this.ecModel=t;var a=e.getData().tree.root,s=e.getViewRoot(),l=this.group,u=e.get(\"renderLabelForZeroData\"),c=[];if(s.eachNode(function(e){c.push(e)}),function(e,t){function n(e){return e.getId()}function i(n,i){r(null==n?null:e[n],null==i?null:t[i])}0===e.length&&0===t.length||new la(t,e,n,n).add(i).update(i).remove(v(i,null)).execute()}(c,this._oldChildren||[]),function(n,i){if(i.depth>0){n.piece?n.piece.updateData(!1,n,\"normal\",e,t):(n.piece=new sh(n,e,t),l.add(n.piece)),i.piece._onclickEvent&&i.piece.off(\"click\",i.piece._onclickEvent);var r=function(e){o._rootToNode(i.parentNode)};i.piece._onclickEvent=r,n.piece.on(\"click\",r)}else n.piece&&(l.remove(n.piece),n.piece=null)}(a,s),i&&i.highlight&&i.highlight.piece){var d=e.getShallow(\"highlightPolicy\");i.highlight.piece.onEmphasis(d)}else if(i&&i.unhighlight){var h=a.piece;!h&&a.children.length&&(h=a.children[0].piece),h&&h.onNormal()}this._initEvents(),this._oldChildren=c},dispose:function(){},_initEvents:function(){var e=this,t=function(t){var n=e.seriesModel.get(\"nodeClick\",!0);if(n){var i=!1;e.seriesModel.getViewRoot().eachNode(function(r){if(!i&&r.piece&&r.piece.childAt(0)===t.target){if(\"rootToNode\"===n)e._rootToNode(r);else if(\"link\"===n){var o=r.getModel(),a=o.get(\"link\",!0);if(a){var s=o.get(\"target\",!0)||\"_blank\";a&&window.open(a,s)}}i=!0}})}};this.group._onclickEvent&&this.group.off(\"click\",this.group._onclickEvent),this.group.on(\"click\",t),this.group._onclickEvent=t},_rootToNode:function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:\"sunburstRootToNode\",from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},containPoint:function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,r=e[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}}});var KM=\"sunburstRootToNode\";$o({type:KM,update:\"updateView\"},function(e,t){t.eachComponent({mainType:\"series\",subType:\"sunburst\",query:e},function(t,n){var i=ql(e,[KM],t);if(i){var r=t.getViewRoot();r&&(e.direction=Yl(r,i.node)?\"rollUp\":\"drillDown\"),t.resetViewRoot(i.node)}})});var JM=\"sunburstHighlight\";$o({type:JM,update:\"updateView\"},function(e,t){t.eachComponent({mainType:\"series\",subType:\"sunburst\",query:e},function(t,n){var i=ql(e,[JM],t);i&&(e.highlight=i.node)})}),$o({type:\"sunburstUnhighlight\",update:\"updateView\"},function(e,t){t.eachComponent({mainType:\"series\",subType:\"sunburst\",query:e},function(t,n){e.unhighlight=!0})});var QM=Math.PI/180;Qo(v(Rw,\"sunburst\")),Jo(v(function(e,t,n,i){t.eachSeriesByType(e,function(e){var t=e.get(\"center\"),i=e.get(\"radius\");y(i)||(i=[0,i]),y(t)||(t=[t,t]);var r=n.getWidth(),o=n.getHeight(),a=Math.min(r,o),s=Wi(t[0],r),l=Wi(t[1],o),u=Wi(i[0],a/2),c=Wi(i[1],a/2),d=-e.get(\"startAngle\")*QM,f=e.get(\"minAngle\")*QM,p=e.getData().tree.root,g=e.getViewRoot(),m=g.depth,v=e.get(\"sort\");null!=v&&uh(g,v);var x=0;h(g.children,function(e){!isNaN(e.getValue())&&x++});var b=g.getValue(),_=Math.PI/(b||x)*2,w=g.depth>0,S=(c-u)/(g.height-(w?-1:1)||1),C=e.get(\"clockwise\"),M=e.get(\"stillShowZeroSum\"),T=C?1:-1,k=function(e,t){if(e){var n=t;if(e!==p){var i=e.getValue(),r=0===b&&M?_:i*_;r<f&&(r=f),n=t+T*r;var o=e.depth-m-(w?-1:1),c=u+S*o,d=u+S*(o+1),g=e.getModel();null!=g.get(\"r0\")&&(c=Wi(g.get(\"r0\"),a/2)),null!=g.get(\"r\")&&(d=Wi(g.get(\"r\"),a/2)),e.setLayout({angle:r,startAngle:t,endAngle:n,clockwise:C,cx:s,cy:l,r0:c,r:d})}if(e.children&&e.children.length){var v=0;h(e.children,function(e){v+=k(e,t+v)})}return n-t}};if(w){var A=2*Math.PI;p.setLayout({angle:A,startAngle:d,endAngle:d+A,clockwise:C,cx:s,cy:l,r0:u,r:u+S})}k(g,d)})},\"sunburst\")),Xo(v(zw,\"sunburst\"));var eT=[\"itemStyle\"],tT=[\"emphasis\",\"itemStyle\"],nT=[\"label\"],iT=[\"emphasis\",\"label\"],rT=\"e\\0\\0\",oT={cartesian2d:function(e){var t=e.grid.getRect();return{coordSys:{type:\"cartesian2d\",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:m(ch,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:\"geo\",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t,n){return e.dataToPoint(t,n)},size:m(dh,e)}}},singleAxis:function(e){var t=e.getRect();return{coordSys:{type:\"singleAxis\",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:m(hh,e)}}},polar:function(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),i=t.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:\"polar\",cx:e.cx,cy:e.cy,r:i[1],r0:i[0]},api:{coord:m(function(i){var r=t.dataToRadius(i[0]),o=n.dataToAngle(i[1]),a=e.coordToPoint([r,o]);return a.push(r,o*Math.PI/180),a}),size:m(fh,e)}}},calendar:function(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:\"calendar\",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(t,n){return e.dataToPoint(t,n)}}}}};ra({type:\"series.custom\",dependencies:[\"grid\",\"polar\",\"geo\",\"singleAxis\",\"calendar\"],defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(e,t){return wa(this.getSource(),this)}}),oa({type:\"custom\",_data:null,render:function(e,t,n){var i=this._data,r=e.getData(),o=this.group,a=mh(e,r,t,n);this.group.removeAll(),r.diff(i).add(function(t){r.hasValue(t)&&yh(null,t,a(t),e,o,r)}).update(function(t,n){var s=i.getItemGraphicEl(n);r.hasValue(t)?yh(s,t,a(t),e,o,r):s&&o.remove(s)}).remove(function(e){var t=i.getItemGraphicEl(e);t&&o.remove(t)}).execute(),this._data=r},incrementalPrepareRender:function(e,t,n){this.group.removeAll(),this._data=null},incrementalRender:function(e,t,n,i){for(var r=t.getData(),o=mh(t,r,n,i),a=e.start;a<e.end;a++)yh(null,a,o(a),t,this.group,r).traverse(function(e){e.isGroup||(e.incremental=!0,e.useHoverLayer=!0)})},dispose:z}),Yo(function(e){var t=e.graphic;y(t)?e.graphic=t[0]&&t[0].elements?[e.graphic[0]]:[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])});var aT=na({type:\"graphic\",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(e){var t=this.option.elements;this.option.elements=null,aT.superApply(this,\"mergeOption\",arguments),this.option.elements=t},optionUpdated:function(e,t){var n=this.option,i=(t?n:e).elements,r=n.elements=t?[]:n.elements,o=[];this._flatten(i,o);var a=sn(r,o);ln(a);var s=this._elOptionsToUpdate=[];h(a,function(e,t){var n=e.option;n&&(s.push(n),function(e,t){var n=e.exist;if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),null==t.parentId){var i=t.parentOption;i?t.parentId=i.id:n&&(t.parentId=n.parentId)}t.parentOption=null}(e,n),kh(r,t,n),function(e,t){e&&(e.hv=t.hv=[Th(t,[\"left\",\"right\"]),Th(t,[\"top\",\"bottom\"])],\"group\"===e.type&&(null==e.width&&(e.width=t.width=0),null==e.height&&(e.height=t.height=0)))}(r[t],n))},this);for(var l=r.length-1;l>=0;l--)null==r[l]?r.splice(l,1):delete r[l].$action},_flatten:function(e,t,n){h(e,function(e){if(e){n&&(e.parentOption=n),t.push(e);var i=e.children;\"group\"===e.type&&i&&this._flatten(i,t,e),delete e.children}},this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e}});ia({type:\"graphic\",init:function(e,t){this._elMap=O()},render:function(e,t,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e,n),this._relocate(e,n)},_updateElements:function(e,t){var n=e.useElOptionsToUpdate();if(n){var i=this._elMap,r=this.group;h(n,function(e){var t=e.$action,n=e.id,o=i.get(n),a=e.parentId,s=null!=a?i.get(a):r;if(\"text\"===e.type){var l=e.style;e.hv&&e.hv[1]&&(l.textVerticalAlign=l.textBaseline=null),!l.hasOwnProperty(\"textFill\")&&l.fill&&(l.textFill=l.fill),!l.hasOwnProperty(\"textStroke\")&&l.stroke&&(l.textStroke=l.stroke)}var u=Mh(e);t&&\"merge\"!==t?\"replace\"===t?(Ch(o,i),Sh(n,s,u,i)):\"remove\"===t&&Ch(o,i):o?o.attr(u):Sh(n,s,u,i);var c=i.get(n);c&&(c.__ecGraphicWidth=e.width,c.__ecGraphicHeight=e.height)})}},_relocate:function(e,t){for(var n=e.option.elements,i=this.group,r=this._elMap,o=n.length-1;o>=0;o--){var a=n[o],s=r.get(a.id);if(s){var l=s.parent;fr(s,a,l===i?{width:t.getWidth(),height:t.getHeight()}:{width:l.__ecGraphicWidth||0,height:l.__ecGraphicHeight||0},null,{hv:a.hv,boundingMode:a.bounding})}}},_clear:function(){var e=this._elMap;e.each(function(t){Ch(t,e)}),this._elMap=O()},dispose:function(){this._clear()}});var sT=na({type:\"legend.plain\",dependencies:[\"series\"],layoutMode:{type:\"box\",ignoreSize:!0},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{}},mergeOption:function(e){sT.superCall(this,\"mergeOption\",e)},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&\"single\"===this.get(\"selectedMode\")){for(var t=!1,n=0;n<e.length;n++){var i=e[n].get(\"name\");if(this.isSelected(i)){this.select(i),t=!0;break}}!t&&this.select(e[0].get(\"name\"))}},_updateData:function(e){var t=[],n=[];e.eachRawSeries(function(i){var r,o=i.name;if(n.push(o),i.legendDataProvider){var a=i.legendDataProvider(),s=a.mapArray(a.getName);e.isSeriesFiltered(i)||(n=n.concat(s)),s.length?t=t.concat(s):r=o}else r=o;r&&r!==Zm&&t.push(r)}),this._availableNames=n;var i=f(this.get(\"data\")||t,function(e){return\"string\"!=typeof e&&\"number\"!=typeof e||(e={name:e}),new Bi(e,this,this.ecModel)},this);this._data=i},getData:function(){return this._data},select:function(e){var t=this.option.selected;\"single\"===this.get(\"selectedMode\")&&h(this._data,function(e){t[e.get(\"name\")]=!1}),t[e]=!0},unSelect:function(e){\"single\"!==this.get(\"selectedMode\")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?\"unSelect\":\"select\"](e)},isSelected:function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&l(this._availableNames,e)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:\"horizontal\",left:\"center\",top:0,align:\"auto\",backgroundColor:\"rgba(0,0,0,0)\",borderColor:\"#ccc\",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:\"#ccc\",textStyle:{color:\"#333\"},selectedMode:!0,tooltip:{show:!1}}});$o(\"legendToggleSelect\",\"legendselectchanged\",v(Ah,\"toggleSelected\")),$o(\"legendSelect\",\"legendselected\",v(Ah,\"select\")),$o(\"legendUnSelect\",\"legendunselected\",v(Ah,\"unSelect\"));var lT=v,uT=h,cT=Qg,dT=ia({type:\"legend.plain\",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new cT)},getContentGroup:function(){return this._contentGroup},render:function(e,t,n){if(this.resetInner(),e.get(\"show\",!0)){var i=e.get(\"align\");i&&\"auto\"!==i||(i=\"right\"===e.get(\"left\")&&\"vertical\"===e.get(\"orient\")?\"right\":\"left\"),this.renderInner(i,e,t,n);var r=e.getBoxLayoutParams(),o={width:n.getWidth(),height:n.getHeight()},s=e.get(\"padding\"),l=hr(r,o,s),u=this.layoutInner(e,i,l),c=hr(a({width:u.width,height:u.height},r),o,s);this.group.attr(\"position\",[c.x-u.x,c.y-u.y]),this.group.add(this._backgroundEl=Ih(u,e))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(e,t,n,i){var r=this.getContentGroup(),o=O(),a=t.get(\"selectedMode\");uT(t.getData(),function(s,l){var u=s.get(\"name\");if(this.newlineDisabled||\"\"!==u&&\"\\n\"!==u){var c=n.getSeriesByName(u)[0];if(!o.get(u))if(c){var d=c.getData(),h=d.getVisual(\"color\");\"function\"==typeof h&&(h=h(c.getDataParams(0)));var f=d.getVisual(\"legendSymbol\")||\"roundRect\",p=d.getVisual(\"symbol\");this._createItem(u,l,s,t,f,p,e,h,a).on(\"click\",lT(Dh,u,i)).on(\"mouseover\",lT(Nh,c,null,i)).on(\"mouseout\",lT(Ph,c,null,i)),o.set(u,!0)}else n.eachRawSeries(function(n){if(!o.get(u)&&n.legendDataProvider){var r=n.legendDataProvider(),c=r.indexOfName(u);if(c<0)return;var d=r.getItemVisual(c,\"color\");this._createItem(u,l,s,t,\"roundRect\",null,e,d,a).on(\"click\",lT(Dh,u,i)).on(\"mouseover\",lT(Nh,n,u,i)).on(\"mouseout\",lT(Ph,n,u,i)),o.set(u,!0)}},this)}else r.add(new cT({newline:!0}))},this)},_createItem:function(e,t,n,i,r,a,s,l,u){var c=i.get(\"itemWidth\"),d=i.get(\"itemHeight\"),h=i.get(\"inactiveColor\"),f=i.isSelected(e),p=new cT,g=n.getModel(\"textStyle\"),m=n.get(\"icon\"),v=n.getModel(\"tooltip\"),y=v.parentModel;if(p.add(Ua(r=m||r,0,0,c,d,f?l:h,!0)),!m&&a&&(a!==r||\"none\"==a)){var x=.8*d;\"none\"===a&&(a=\"circle\"),p.add(Ua(a,(c-x)/2,(d-x)/2,x,x,f?l:h))}var b=\"left\"===s?c+5:-5,_=s,w=i.get(\"formatter\"),S=e;\"string\"==typeof w&&w?S=w.replace(\"{name}\",null!=e?e:\"\"):\"function\"==typeof w&&(S=w(e)),p.add(new oy({style:wi({},g,{text:S,x:b,y:d/2,textFill:f?g.getTextColor():h,textAlign:_,textVerticalAlign:\"middle\"})}));var C=new gy({shape:p.getBoundingRect(),invisible:!0,tooltip:v.get(\"show\")?o({content:e,formatter:y.get(\"formatter\",!0)||function(){return e},formatterParams:{componentType:\"legend\",legendIndex:i.componentIndex,name:e,$vars:[\"name\"]}},v.option):null});return p.add(C),p.eachChild(function(e){e.silent=!0}),C.silent=!u,this.getContentGroup().add(p),bi(p),p.__legendDataIndex=t,p},layoutInner:function(e,t,n){var i=this.getContentGroup();Ky(e.get(\"orient\"),i,e.get(\"itemGap\"),n.width,n.height);var r=i.getBoundingRect();return i.attr(\"position\",[-r.x,-r.y]),this.group.getBoundingRect()}});Xo(function(e){var t=e.findComponents({mainType:\"legend\"});t&&t.length&&e.filterSeries(function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0})}),ex.registerSubTypeDefaulter(\"legend\",function(){return\"plain\"});var hT=sT.extend({type:\"legend.scroll\",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:\"end\",pageFormatter:\"{current}/{total}\",pageIcons:{horizontal:[\"M0,0L12,-10L12,10z\",\"M0,0L-12,-10L-12,10z\"],vertical:[\"M0,0L20,0L10,-20z\",\"M0,0L20,0L10,20z\"]},pageIconColor:\"#2f4554\",pageIconInactiveColor:\"#aaa\",pageIconSize:15,pageTextStyle:{color:\"#333\"},animationDurationUpdate:800},init:function(e,t,n,i){var r=gr(e);hT.superCall(this,\"init\",e,t,n,i),Lh(this,e,r)},mergeOption:function(e,t){hT.superCall(this,\"mergeOption\",e,t),Lh(this,this.option,e)},getOrient:function(){return\"vertical\"===this.get(\"orient\")?{index:1,name:\"vertical\"}:{index:0,name:\"horizontal\"}}}),fT=Qg,pT=[\"width\",\"height\"],gT=[\"x\",\"y\"],mT=dT.extend({type:\"legend.scroll\",newlineDisabled:!0,init:function(){mT.superCall(this,\"init\"),this._currentIndex=0,this.group.add(this._containerGroup=new fT),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new fT)},resetInner:function(){mT.superCall(this,\"resetInner\"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(e,t,n,i){function r(e,n){var r=e+\"DataIndex\",l=Oi(t.get(\"pageIcons\",!0)[t.getOrient().name][n],{onclick:m(o._pageGo,o,r,t,i)},{x:-s[0]/2,y:-s[1]/2,width:s[0],height:s[1]});l.name=e,a.add(l)}var o=this;mT.superCall(this,\"renderInner\",e,t,n,i);var a=this._controllerGroup,s=t.get(\"pageIconSize\",!0);y(s)||(s=[s,s]),r(\"pagePrev\",0);var l=t.getModel(\"pageTextStyle\");a.add(new oy({name:\"pageText\",style:{textFill:l.getTextColor(),font:l.getFont(),textVerticalAlign:\"middle\",textAlign:\"center\"},silent:!0})),r(\"pageNext\",1)},layoutInner:function(e,t,n){var i=this.getContentGroup(),r=this._containerGroup,o=this._controllerGroup,a=e.getOrient().index,s=pT[a],l=pT[1-a],u=gT[1-a];Ky(e.get(\"orient\"),i,e.get(\"itemGap\"),a?n.width:null,a?null:n.height),Ky(\"horizontal\",o,e.get(\"pageButtonItemGap\",!0));var c=i.getBoundingRect(),d=o.getBoundingRect(),h=this._showController=c[s]>n[s],f=[-c.x,-c.y];f[a]=i.position[a];var p=[0,0],g=[-d.x,-d.y],m=k(e.get(\"pageButtonGap\",!0),e.get(\"itemGap\",!0));h&&(\"end\"===e.get(\"pageButtonPosition\",!0)?g[a]+=n[s]-d[s]:p[a]+=d[s]+m),g[1-a]+=c[l]/2-d[l]/2,i.attr(\"position\",f),r.attr(\"position\",p),o.attr(\"position\",g);var v=this.group.getBoundingRect();if((v={x:0,y:0})[s]=h?n[s]:c[s],v[l]=Math.max(c[l],d[l]),v[u]=Math.min(0,d[u]+g[1-a]),r.__rectSize=n[s],h){var y={x:0,y:0};y[s]=Math.max(n[s]-d[s]-m,0),y[l]=v[l],r.setClipPath(new gy({shape:y})),r.__rectSize=y[s]}else o.eachChild(function(e){e.attr({invisible:!0,silent:!0})});var x=this._getPageInfo(e);return null!=x.pageIndex&&Ii(i,{position:x.contentPosition},!!h&&e),this._updatePageInfoView(e,x),v},_pageGo:function(e,t,n){var i=this._getPageInfo(t)[e];null!=i&&n.dispatchAction({type:\"legendScroll\",scrollDataIndex:i,legendId:t.id})},_updatePageInfoView:function(e,t){var n=this._controllerGroup;h([\"pagePrev\",\"pageNext\"],function(i){var r=null!=t[i+\"DataIndex\"],o=n.childOfName(i);o&&(o.setStyle(\"fill\",e.get(r?\"pageIconColor\":\"pageIconInactiveColor\",!0)),o.cursor=r?\"pointer\":\"default\")});var i=n.childOfName(\"pageText\"),r=e.get(\"pageFormatter\"),o=t.pageIndex,a=null!=o?o+1:0,s=t.pageCount;i&&r&&i.setStyle(\"text\",b(r)?r.replace(\"{current}\",a).replace(\"{total}\",s):r({current:a,total:s}))},_getPageInfo:function(e){function t(e){var t=e.getBoundingRect().clone();return t[f]+=e.position[c],t}var n,i,r,o,a=e.get(\"scrollDataIndex\",!0),s=this.getContentGroup(),l=s.getBoundingRect(),u=this._containerGroup.__rectSize,c=e.getOrient().index,d=pT[c],h=pT[1-c],f=gT[c],p=s.position.slice();this._showController?s.eachChild(function(e){e.__legendDataIndex===a&&(o=e)}):o=s.childAt(0);var g=u?Math.ceil(l[d]/u):0;if(o){var m=o.getBoundingRect(),v=o.position[c]+m[f];p[c]=-v-l[f],n=Math.floor(g*(v+m[f]+u/2)/l[d]),n=l[d]&&g?Math.max(0,Math.min(g-1,n)):-1;var y={x:0,y:0};y[d]=u,y[h]=l[h],y[f]=-p[c]-l[f];var x,b=s.children();if(s.eachChild(function(e,n){var i=t(e);i.intersect(y)&&(null==x&&(x=n),r=e.__legendDataIndex),n===b.length-1&&i[f]+i[d]<=y[f]+y[d]&&(r=null)}),null!=x){var _=t(b[x]);if(y[f]=_[f]+_[d]-y[d],x<=0&&_[f]>=y[f])i=null;else{for(;x>0&&t(b[x-1]).intersect(y);)x--;i=b[x].__legendDataIndex}}}return{contentPosition:p,pageIndex:n,pageCount:g,pagePrevDataIndex:i,pageNextDataIndex:r}}});$o(\"legendScroll\",\"legendscroll\",function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:\"legend\",subType:\"scroll\",query:e},function(e){e.setScrollDataIndex(n)})}),na({type:\"tooltip\",dependencies:[\"axisPointer\"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:\"item\",triggerOn:\"mousemove|click\",alwaysShowContent:!1,displayMode:\"single\",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:\"rgba(50,50,50,0.7)\",borderColor:\"#333\",borderRadius:4,borderWidth:0,padding:5,extraCssText:\"\",axisPointer:{type:\"line\",axis:\"auto\",animation:\"auto\",animationDurationUpdate:200,animationEasingUpdate:\"exponentialOut\",crossStyle:{color:\"#999\",width:1,type:\"dashed\",textStyle:{}}},textStyle:{color:\"#fff\",fontSize:14}}});var vT=h,yT=rr,xT=[\"\",\"-webkit-\",\"-moz-\",\"-o-\"];Eh.prototype={constructor:Eh,_enterable:!0,update:function(){var e=this._container,t=e.currentStyle||document.defaultView.getComputedStyle(e),n=e.style;\"absolute\"!==n.position&&\"absolute\"!==t.position&&(n.position=\"relative\")},show:function(e){clearTimeout(this._hideTimeout);var t=this.el;t.style.cssText=\"position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;\"+function(e){var t=[],n=e.get(\"transitionDuration\"),i=e.get(\"backgroundColor\"),r=e.getModel(\"textStyle\"),o=e.get(\"padding\");return n&&t.push(function(e){var t=\"left \"+e+\"s cubic-bezier(0.23, 1, 0.32, 1),top \"+e+\"s cubic-bezier(0.23, 1, 0.32, 1)\";return f(xT,function(e){return e+\"transition:\"+t}).join(\";\")}(n)),i&&(ig.canvasSupported?t.push(\"background-Color:\"+i):(t.push(\"background-Color:#\"+Ie(i)),t.push(\"filter:alpha(opacity=70)\"))),vT([\"width\",\"color\",\"radius\"],function(n){var i=\"border-\"+n,r=yT(i),o=e.get(r);null!=o&&t.push(i+\":\"+o+(\"color\"===n?\"\":\"px\"))}),t.push(function(e){var t=[],n=e.get(\"fontSize\"),i=e.getTextColor();return i&&t.push(\"color:\"+i),t.push(\"font:\"+e.getFont()),n&&t.push(\"line-height:\"+Math.round(3*n/2)+\"px\"),vT([\"decoration\",\"align\"],function(n){var i=e.get(n);i&&t.push(\"text-\"+n+\":\"+i)}),t.join(\";\")}(r)),null!=o&&t.push(\"padding:\"+Wy(o).join(\"px \")+\"px\"),t.join(\";\")+\";\"}(e)+\";left:\"+this._x+\"px;top:\"+this._y+\"px;\"+(e.get(\"extraCssText\")||\"\"),t.style.display=t.innerHTML?\"block\":\"none\",this._show=!0},setContent:function(e){this.el.innerHTML=null==e?\"\":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var n,i=this._zr;i&&i.painter&&(n=i.painter.getViewportRootOffset())&&(e+=n.offsetLeft,t+=n.offsetTop);var r=this.el.style;r.left=e+\"px\",r.top=t+\"px\",this._x=e,this._y=t},hide:function(){this.el.style.display=\"none\",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(m(this.hide,this),e)):this.hide())},isShow:function(){return this._show}};var bT=m,_T=h,wT=Wi,ST=new gy({shape:{x:-1,y:-1,width:2,height:2}});ia({type:\"tooltip\",init:function(e,t){if(!ig.node){var n=new Eh(t.getDom(),t);this._tooltipContent=n}},render:function(e,t,n){if(!ig.node&&!ig.wxa){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=e.get(\"alwaysShowContent\");var i=this._tooltipContent;i.update(),i.setEnterable(e.get(\"enterable\")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel.get(\"triggerOn\");Bd(\"itemTooltip\",this._api,bT(function(t,n,i){\"none\"!==e&&(e.indexOf(t)>=0?this._tryShow(n,i):\"leave\"===t&&this._hide(i))},this))},_keepShow:function(){var e=this._tooltipModel,t=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&\"none\"!==e.get(\"triggerOn\")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){i.manuallyShowTip(e,t,n,{x:i._lastX,y:i._lastY})})}},manuallyShowTip:function(e,t,n,i){if(i.from!==this.uid&&!ig.node){var r=Oh(i,n);this._ticket=\"\";var o=i.dataByCoordSys;if(i.tooltip&&null!=i.x&&null!=i.y){var a=ST;a.position=[i.x,i.y],a.update(),a.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:a},r)}else if(o)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,event:{},dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},r);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(e,t,n,i))return;var s=DM(i,t),l=s.point[0],u=s.point[1];null!=l&&null!=u&&this._tryShow({offsetX:l,offsetY:u,position:i.position,target:s.el,event:{}},r)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:\"updateAxisPointer\",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target,event:{}},r))}},manuallyHideTip:function(e,t,n,i){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get(\"hideDelay\")),this._lastX=this._lastY=null,i.from!==this.uid&&this._hide(Oh(i,n))},_manuallyAxisShowTip:function(e,t,n,i){var r=i.seriesIndex,o=i.dataIndex,a=t.getComponent(\"axisPointer\").coordSysAxesInfo;if(null!=r&&null!=o&&null!=a){var s=t.getSeriesByIndex(r);if(s&&\"axis\"===(e=Rh([s.getData().getItemModel(o),s,(s.coordinateSystem||{}).model,e])).get(\"trigger\"))return n.dispatchAction({type:\"updateAxisPointer\",seriesIndex:r,dataIndex:o,position:i.position}),!0}},_tryShow:function(e,t){var n=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var i=e.dataByCoordSys;i&&i.length?this._showAxisTooltip(i,e):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,n,t)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,n,t)):(this._lastDataByCoordSys=null,this._hide(t))}},_showOrMove:function(e,t){var n=e.get(\"showDelay\");t=m(t,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(t,n):t()},_showAxisTooltip:function(e,t){var n=this._ecModel,i=[t.offsetX,t.offsetY],r=[],o=[],a=Rh([t.tooltipOption,this._tooltipModel]);_T(e,function(e){_T(e.dataByAxis,function(e){var t=n.getComponent(e.axisDim+\"Axis\",e.axisIndex),i=e.value,a=[];if(t&&null!=i){var s=Xd(i,t.axis,n,e.seriesDataIndices,e.valueLabelOpt);h(e.seriesDataIndices,function(r){var l=n.getSeriesByIndex(r.seriesIndex),u=r.dataIndexInside,c=l&&l.getDataParams(u);c.axisDim=e.axisDim,c.axisIndex=e.axisIndex,c.axisType=e.axisType,c.axisId=e.axisId,c.axisValue=Wa(t.axis,i),c.axisValueLabel=s,c&&(o.push(c),a.push(l.formatTooltip(u,!0)))}),r.push((s?or(s)+\"<br />\":\"\")+a.join(\"<br />\"))}})},this),r.reverse(),r=r.join(\"<br /><br />\");var s=t.position;this._showOrMove(a,function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(a,s,i[0],i[1],this._tooltipContent,o):this._showTooltipContent(a,r,o,Math.random(),i[0],i[1],s)})},_showSeriesItemTooltip:function(e,t,n){var i=t.seriesIndex,r=this._ecModel.getSeriesByIndex(i),o=t.dataModel||r,a=t.dataIndex,s=t.dataType,l=o.getData(),u=Rh([l.getItemModel(a),o,r&&(r.coordinateSystem||{}).model,this._tooltipModel]),c=u.get(\"trigger\");if(null==c||\"item\"===c){var d=o.getDataParams(a,s),h=o.formatTooltip(a,!1,s),f=\"item_\"+o.name+\"_\"+a;this._showOrMove(u,function(){this._showTooltipContent(u,h,d,f,e.offsetX,e.offsetY,e.position,e.target)}),n({type:\"showTip\",dataIndexInside:a,dataIndex:l.getRawIndex(a),seriesIndex:i,from:this.uid})}},_showComponentItemTooltip:function(e,t,n){var i=t.tooltip;\"string\"==typeof i&&(i={content:i,formatter:i});var r=new Bi(i,this._tooltipModel,this._ecModel),o=r.get(\"content\"),a=Math.random();this._showOrMove(r,function(){this._showTooltipContent(r,o,r.get(\"formatterParams\")||{},a,e.offsetX,e.offsetY,e.position,t)}),n({type:\"showTip\",from:this.uid})},_showTooltipContent:function(e,t,n,i,r,o,a,s){if(this._ticket=\"\",e.get(\"showContent\")&&e.get(\"show\")){var l=this._tooltipContent,u=e.get(\"formatter\");a=a||e.get(\"position\");var c=t;if(u&&\"string\"==typeof u)c=ar(u,n,!0);else if(\"function\"==typeof u){var d=bT(function(t,i){t===this._ticket&&(l.setContent(i),this._updatePosition(e,a,r,o,l,n,s))},this);this._ticket=i,c=u(n,i,d)}l.setContent(c),l.show(e),this._updatePosition(e,a,r,o,l,n,s)}},_updatePosition:function(e,t,n,i,r,o,a){var s=this._api.getWidth(),l=this._api.getHeight();t=t||e.get(\"position\");var u=r.getSize(),c=e.get(\"align\"),d=e.get(\"verticalAlign\"),h=a&&a.getBoundingRect().clone();if(a&&h.applyTransform(a.transform),\"function\"==typeof t&&(t=t([n,i],o,r.el,h,{viewSize:[s,l],contentSize:u.slice()})),y(t))n=wT(t[0],s),i=wT(t[1],l);else if(_(t)){t.width=u[0],t.height=u[1];var f=hr(t,{width:s,height:l});n=f.x,i=f.y,c=null,d=null}else\"string\"==typeof t&&a?(n=(p=function(e,t,n){var i=n[0],r=n[1],o=0,a=0,s=t.width,l=t.height;switch(e){case\"inside\":o=t.x+s/2-i/2,a=t.y+l/2-r/2;break;case\"top\":o=t.x+s/2-i/2,a=t.y-r-5;break;case\"bottom\":o=t.x+s/2-i/2,a=t.y+l+5;break;case\"left\":o=t.x-i-5,a=t.y+l/2-r/2;break;case\"right\":o=t.x+s+5,a=t.y+l/2-r/2}return[o,a]}(t,h,u))[0],i=p[1]):(n=(p=function(e,t,n,i,r,o,a){var s=Bh(n),l=s.width,u=s.height;return null!=o&&(e+l+o>i?e-=l+o:e+=o),null!=a&&(t+u+a>r?t-=u+a:t+=a),[e,t]}(n,i,r.el,s,l,c?null:20,d?null:20))[0],i=p[1]);if(c&&(n-=zh(c)?u[0]/2:\"right\"===c?u[0]:0),d&&(i-=zh(d)?u[1]/2:\"bottom\"===d?u[1]:0),e.get(\"confine\")){var p=function(e,t,n,i,r){var o=Bh(n),a=o.width,s=o.height;return e=Math.min(e+a,i)-a,t=Math.min(t+s,r)-s,[e=Math.max(e,0),t=Math.max(t,0)]}(n,i,r.el,s,l);n=p[0],i=p[1]}r.moveTo(n,i)},_updateContentNotChangedOnAxis:function(e){var t=this._lastDataByCoordSys,n=!!t&&t.length===e.length;return n&&_T(t,function(t,i){var r=t.dataByAxis||{},o=(e[i]||{}).dataByAxis||[];(n&=r.length===o.length)&&_T(r,function(e,t){var i=o[t]||{},r=e.seriesDataIndices||[],a=i.seriesDataIndices||[];(n&=e.value===i.value&&e.axisType===i.axisType&&e.axisId===i.axisId&&r.length===a.length)&&_T(r,function(e,t){var i=a[t];n&=e.seriesIndex===i.seriesIndex&&e.dataIndex===i.dataIndex})})}),this._lastDataByCoordSys=e,!!n},_hide:function(e){this._lastDataByCoordSys=null,e({type:\"hideTip\",from:this.uid})},dispose:function(e,t){ig.node||(this._tooltipContent.hide(),Vd(\"itemTooltip\",t))}}),$o({type:\"showTip\",event:\"showTip\",update:\"tooltip:manuallyShowTip\"},function(){}),$o({type:\"hideTip\",event:\"hideTip\",update:\"tooltip:manuallyHideTip\"},function(){}),Hh.prototype={constructor:Hh,pointToData:function(e,t){return this.polar.pointToData(e,t)[\"radius\"===this.dim?0:1]},dataToRadius:I_.prototype.dataToCoord,radiusToData:I_.prototype.coordToData},u(Hh,I_),Wh.prototype={constructor:Wh,pointToData:function(e,t){return this.polar.pointToData(e,t)[\"radius\"===this.dim?0:1]},dataToAngle:I_.prototype.dataToCoord,angleToData:I_.prototype.coordToData},u(Wh,I_);var CT=function(e){this.name=e||\"\",this.cx=0,this.cy=0,this._radiusAxis=new Hh,this._angleAxis=new Wh,this._radiusAxis.polar=this._angleAxis.polar=this};CT.prototype={type:\"polar\",axisPointerEnabled:!0,constructor:CT,dimensions:[\"radius\",\"angle\"],model:null,containPoint:function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},getAxis:function(e){return this[\"_\"+e+\"Axis\"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var t=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&t.push(n),i.scale.type===e&&t.push(i),t},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},getBaseAxis:function(){return this.getAxesByScale(\"ordinal\")[0]||this.getAxesByScale(\"time\")[0]||this.getAngleAxis()},getTooltipAxes:function(e){var t=null!=e&&\"auto\"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},dataToPoint:function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},pointToData:function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},pointToCoord:function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=this.getAngleAxis(),r=i.getExtent(),o=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);i.inverse?o=a-360:a=o+360;var s=Math.sqrt(t*t+n*n);t/=s,n/=s;for(var l=Math.atan2(-n,t)/Math.PI*180,u=l<o?1:-1;l<o||l>a;)l+=360*u;return[s,l]},coordToPoint:function(e){var t=e[0],n=e[1]/180*Math.PI;return[Math.cos(n)*t+this.cx,-Math.sin(n)*t+this.cy]}};var MT=ex.extend({type:\"polarAxis\",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:\"polar\",index:this.option.polarIndex,id:this.option.polarId})[0]}});i(MT.prototype,m_),nw(\"angle\",MT,Gh,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),nw(\"radius\",MT,Gh,{splitNumber:5}),na({type:\"polar\",dependencies:[\"polarAxis\",\"angleAxis\"],coordinateSystem:null,findAxisModel:function(e){var t;return this.ecModel.eachComponent(e,function(e){e.getCoordSysModel()===this&&(t=e)},this),t},defaultOption:{zlevel:0,z:0,center:[\"50%\",\"50%\"],radius:\"80%\"}}),Ir.register(\"polar\",{dimensions:CT.prototype.dimensions,create:function(e,t){var n=[];return e.eachComponent(\"polar\",function(e,i){var r=new CT(i);r.update=Uh;var o=r.getRadiusAxis(),a=r.getAngleAxis(),s=e.findAxisModel(\"radiusAxis\"),l=e.findAxisModel(\"angleAxis\");jh(o,s),jh(a,l),function(e,t,n){var i=t.get(\"center\"),r=n.getWidth(),o=n.getHeight();e.cx=Wi(i[0],r),e.cy=Wi(i[1],o);var a=e.getRadiusAxis(),s=Math.min(r,o)/2,l=Wi(t.get(\"radius\"),s);a.inverse?a.setExtent(l,0):a.setExtent(0,l)}(r,e,t),n.push(r),e.coordinateSystem=r,r.model=e}),e.eachSeries(function(t){if(\"polar\"===t.get(\"coordinateSystem\")){var n=e.queryComponents({mainType:\"polar\",index:t.get(\"polarIndex\"),id:t.get(\"polarId\")})[0];t.coordinateSystem=n.coordinateSystem}}),n}});var TT=[\"axisLine\",\"axisLabel\",\"axisTick\",\"splitLine\",\"splitArea\"];yw.extend({type:\"angleAxis\",axisPointerClass:\"PolarAxisPointer\",render:function(e,t){if(this.group.removeAll(),e.get(\"show\")){var n=e.axis,i=n.polar,r=i.getRadiusAxis().getExtent(),o=n.getTicksCoords();\"category\"!==n.type&&o.pop(),h(TT,function(t){!e.get(t+\".show\")||n.scale.isBlank()&&\"axisLine\"!==t||this[\"_\"+t](e,i,o,r)},this)}},_axisLine:function(e,t,n,i){var r=e.getModel(\"axisLine.lineStyle\"),o=new ay({shape:{cx:t.cx,cy:t.cy,r:i[Zh(t)]},style:r.getLineStyle(),z2:1,silent:!0});o.style.fill=null,this.group.add(o)},_axisTick:function(e,t,n,i){var r=e.getModel(\"axisTick\"),o=(r.get(\"inside\")?-1:1)*r.get(\"length\"),s=i[Zh(t)],l=f(n,function(e){return new my({shape:qh(t,[s,s+o],e)})});this.group.add(Iy(l,{style:a(r.getModel(\"lineStyle\").getLineStyle(),{stroke:e.get(\"axisLine.lineStyle.color\")})}))},_axisLabel:function(e,t,n,i){for(var r=e.axis,o=e.getCategories(),a=e.getModel(\"axisLabel\"),s=e.getFormattedLabels(),l=a.get(\"margin\"),u=r.getLabelsCoords(),c=0;c<n.length;c++){var d=i[Zh(t)],h=t.coordToPoint([d+l,u[c]]),f=t.cx,p=t.cy,g=Math.abs(h[0]-f)/d<.3?\"center\":h[0]>f?\"left\":\"right\",m=Math.abs(h[1]-p)/d<.3?\"middle\":h[1]>p?\"top\":\"bottom\";o&&o[c]&&o[c].textStyle&&(a=new Bi(o[c].textStyle,a,a.ecModel));var v=new oy({silent:!0});this.group.add(v),wi(v.style,a,{x:h[0],y:h[1],textFill:a.getTextColor()||e.get(\"axisLine.lineStyle.color\"),text:s[c],textAlign:g,textVerticalAlign:m})}},_splitLine:function(e,t,n,i){var r=e.getModel(\"splitLine\").getModel(\"lineStyle\"),o=r.get(\"color\"),s=0;o=o instanceof Array?o:[o];for(var l=[],u=0;u<n.length;u++){var c=s++%o.length;l[c]=l[c]||[],l[c].push(new my({shape:qh(t,i,n[u])}))}for(u=0;u<l.length;u++)this.group.add(Iy(l[u],{style:a({stroke:o[u%o.length]},r.getLineStyle()),silent:!0,z:e.get(\"z\")}))},_splitArea:function(e,t,n,i){var r=e.getModel(\"splitArea\").getModel(\"areaStyle\"),o=r.get(\"color\"),s=0;o=o instanceof Array?o:[o];for(var l=[],u=Math.PI/180,c=-n[0]*u,d=Math.min(i[0],i[1]),h=Math.max(i[0],i[1]),f=e.get(\"clockwise\"),p=1;p<n.length;p++){var g=s++%o.length;l[g]=l[g]||[],l[g].push(new uy({shape:{cx:t.cx,cy:t.cy,r0:d,r:h,startAngle:c,endAngle:-n[p]*u,clockwise:f},silent:!0})),c=-n[p]*u}for(p=0;p<l.length;p++)this.group.add(Iy(l[p],{style:a({fill:o[p%o.length]},r.getAreaStyle()),silent:!0}))}});var kT=[\"axisLine\",\"axisTickLabel\",\"axisName\"],AT=[\"splitLine\",\"splitArea\"];yw.extend({type:\"radiusAxis\",axisPointerClass:\"PolarAxisPointer\",render:function(e,t){if(this.group.removeAll(),e.get(\"show\")){var n=e.axis,i=n.polar,r=i.getAngleAxis(),o=n.getTicksCoords(),a=r.getExtent()[0],s=n.getExtent(),l=function(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel(\"axisLabel\").get(\"rotate\"),z2:1}}(i,e,a),u=new dw(e,l);h(kT,u.add,u),this.group.add(u.getGroup()),h(AT,function(t){e.get(t+\".show\")&&!n.scale.isBlank()&&this[\"_\"+t](e,i,a,s,o)},this)}},_splitLine:function(e,t,n,i,r){var o=e.getModel(\"splitLine\").getModel(\"lineStyle\"),s=o.get(\"color\"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=0;c<r.length;c++){var d=l++%s.length;u[d]=u[d]||[],u[d].push(new ay({shape:{cx:t.cx,cy:t.cy,r:r[c]},silent:!0}))}for(c=0;c<u.length;c++)this.group.add(Iy(u[c],{style:a({stroke:s[c%s.length],fill:null},o.getLineStyle()),silent:!0}))},_splitArea:function(e,t,n,i,r){var o=e.getModel(\"splitArea\").getModel(\"areaStyle\"),s=o.get(\"color\"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=r[0],d=1;d<r.length;d++){var h=l++%s.length;u[h]=u[h]||[],u[h].push(new uy({shape:{cx:t.cx,cy:t.cy,r0:c,r:r[d],startAngle:0,endAngle:2*Math.PI},silent:!0})),c=r[d]}for(d=0;d<u.length;d++)this.group.add(Iy(u[d],{style:a({fill:s[d%s.length]},o.getAreaStyle()),silent:!0}))}});var IT=Hd.extend({makeElOption:function(e,t,n,i,r){var o=n.axis;\"angle\"===o.dim&&(this.animationThreshold=Math.PI/18);var a,s=o.polar,l=s.getOtherAxis(o).getExtent();a=o[\"dataTo\"+cr(o.dim)](t);var u=i.get(\"type\");if(u&&\"none\"!==u){var c=Zd(i),d=DT[u](o,s,a,l,c);d.style=c,e.graphicKey=d.type,e.pointer=d}Yd(e,n,i,r,function(e,t,n,i,r){var o=t.axis,a=o.dataToCoord(e),s=i.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,u,c,d=i.getRadiusAxis().getExtent();if(\"radius\"===o.dim){var h=ae();de(h,h,s),ce(h,h,[i.cx,i.cy]),l=Pi([a,-r],h);var f=t.getModel(\"axisLabel\").get(\"rotate\")||0,p=dw.innerTextLayout(s,f*Math.PI/180,-1);u=p.textAlign,c=p.textVerticalAlign}else{var g=d[1];l=i.coordToPoint([g+r,a]);var m=i.cx,v=i.cy;u=Math.abs(l[0]-m)/g<.3?\"center\":l[0]>m?\"left\":\"right\",c=Math.abs(l[1]-v)/g<.3?\"middle\":l[1]>v?\"top\":\"bottom\"}return{position:l,align:u,verticalAlign:c}}(t,n,0,s,i.get(\"label.margin\")))}}),DT={line:function(e,t,n,i,r){return\"angle\"===e.dim?{type:\"Line\",shape:Jd(t.coordToPoint([i[0],n]),t.coordToPoint([i[1],n]))}:{type:\"Circle\",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,i,r){var o=e.getBandWidth(),a=Math.PI/180;return\"angle\"===e.dim?{type:\"Sector\",shape:eh(t.cx,t.cy,i[0],i[1],(-n-o/2)*a,(o/2-n)*a)}:{type:\"Sector\",shape:eh(t.cx,t.cy,n-o/2,n+o/2,0,2*Math.PI)}}};yw.registerAxisPointerClass(\"PolarAxisPointer\",IT),Jo(v(function(e,t,n){var i=n.getWidth(),r=n.getHeight(),o={},a={},s=function(e,t){var n={};h(e,function(e,t){var i=e.getData(),r=e.coordinateSystem.getBaseAxis(),o=r.getExtent(),a=\"category\"===r.type?r.getBandWidth():Math.abs(o[1]-o[0])/i.count(),s=n[Vh(r)]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:\"20%\",gap:\"30%\",stacks:{}},l=s.stacks;n[Vh(r)]=s;var u=Fh(e);l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=Wi(e.get(\"barWidth\"),a),d=Wi(e.get(\"barMaxWidth\"),a),h=e.get(\"barGap\"),f=e.get(\"barCategoryGap\");c&&!l[u].width&&(c=Math.min(s.remainedWidth,c),l[u].width=c,s.remainedWidth-=c),d&&(l[u].maxWidth=d),null!=h&&(s.gap=h),null!=f&&(s.categoryGap=f)});var i={};return h(n,function(e,t){i[t]={};var n=e.stacks,r=Wi(e.categoryGap,e.bandWidth),o=Wi(e.gap,1),a=e.remainedWidth,s=e.autoWidthCount,l=(a-r)/(s+(s-1)*o);l=Math.max(l,0),h(n,function(e,t){var n=e.maxWidth;n&&n<l&&(n=Math.min(n,a),e.width&&(n=Math.min(n,e.width)),a-=n,e.width=n,s--)}),l=(a-r)/(s+(s-1)*o),l=Math.max(l,0);var u,c=0;h(n,function(e,t){e.width||(e.width=l),u=e,c+=e.width*(1+o)}),u&&(c-=u.width*o);var d=-c/2;h(n,function(e,n){i[t][n]=i[t][n]||{offset:d,width:e.width},d+=e.width*(1+o)})}),i}(g(t.getSeriesByType(e),function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&\"polar\"===e.coordinateSystem.type}));t.eachSeriesByType(e,function(e){if(\"polar\"===e.coordinateSystem.type){var t=e.getData(),n=e.coordinateSystem,l=n.getAngleAxis(),u=n.getBaseAxis(),c=Fh(e),d=s[Vh(u)][c],h=d.offset,f=d.width,p=n.getOtherAxis(u),g=e.get(\"center\")||[\"50%\",\"50%\"],m=Wi(g[0],i),v=Wi(g[1],r),y=e.get(\"barMinHeight\")||0,x=e.get(\"barMinAngle\")||0,b=p.getExtent()[0],_=p.model.get(\"max\"),w=p.model.get(\"min\"),S=[t.mapDimension(\"radius\"),t.mapDimension(\"angle\")],C=t.mapArray(S,function(e,t){return n.dataToPoint([e,t])},!0);o[c]=o[c]||[],a[c]=a[c]||[],t.each(t.mapDimension(p.dim),function(e,i){if(!isNaN(e)){o[c][i]||(o[c][i]={p:b,n:b},a[c][i]={p:b,n:b});var r,s,u,d,g=e>=0?\"p\":\"n\",S=n.pointToCoord(C[i]),M=a[c][i][g];if(\"radius\"===p.dim)r=M,s=S[0],d=(u=(-S[1]+h)*Math.PI/180)+f*Math.PI/180,Math.abs(s)<y&&(s=r+(s<0?-1:1)*y),a[c][i][g]=s;else{s=(r=S[0]+h)+f,null!=_&&(e=Math.min(e,_)),null!=w&&(e=Math.max(e,w));var T=l.dataToAngle(e);Math.abs(T-M)<x&&(T=M-(e<0?-1:1)*x),u=-M*Math.PI/180,d=-T*Math.PI/180;var k=l.getExtent(),A=T;A===k[0]&&e>0?A=k[1]:A===k[1]&&e<0&&(A=k[0]),a[c][i][g]=A}t.setItemLayout(i,{cx:m,cy:v,r0:r,r:s,startAngle:u,endAngle:d})}},!0)}},this)},\"bar\")),ia({type:\"polar\"}),c(ex.extend({type:\"geo\",coordinateSystem:null,layoutMode:\"box\",init:function(e){ex.prototype.init.apply(this,arguments),on(e,\"label\",[\"show\"])},optionUpdated:function(){var e=this.option,t=this;e.regions=nS.getFilledRegions(e.regions,e.map,e.nameMap),this._optionModelMap=p(e.regions||[],function(e,n){return n.name&&e.set(n.name,new Bi(n,t)),e},O()),this.updateSelectedMap(e.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:\"center\",top:\"center\",aspectScale:.75,silent:!1,map:\"\",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:\"#000\"},itemStyle:{borderWidth:.5,borderColor:\"#444\",color:\"#eee\"},emphasis:{label:{show:!0,color:\"rgb(100,0,0)\"},itemStyle:{color:\"rgba(255,215,0,0.8)\"}},regions:[]},getRegionModel:function(e){return this._optionModelMap.get(e)||new Bi(null,this,this.ecModel)},getFormattedLabel:function(e,t){var n=this.getRegionModel(e).get(\"label.\"+t+\".formatter\"),i={name:e};return\"function\"==typeof n?(i.status=t,n(i)):\"string\"==typeof n?n.replace(\"{a}\",null!=e?e:\"\"):void 0},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}}),Nw),ia({type:\"geo\",init:function(e,t){var n=new pl(t,!0);this._mapDraw=n,this.group.add(n.group)},render:function(e,t,n,i){if(!i||\"geoToggleSelect\"!==i.type||i.from!==this.uid){var r=this._mapDraw;e.get(\"show\")?r.draw(e,t,n,this,i):this._mapDraw.group.removeAll(),this.group.silent=e.get(\"silent\")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),Yh(\"toggleSelected\",{type:\"geoToggleSelect\",event:\"geoselectchanged\"}),Yh(\"select\",{type:\"geoSelect\",event:\"geoselected\"}),Yh(\"unSelect\",{type:\"geoUnSelect\",event:\"geounselected\"});var NT=[\"rect\",\"polygon\",\"keep\",\"clear\"],PT=h,LT={lineX:Jh(0),lineY:Jh(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&qa(n.range,e[0],e[1])},rect:function(e,t,n){var i=n.range;if(!e||i.length<=1)return!1;var r=e.x,o=e.y,a=e.width,s=e.height,l=i[0];return!!(qa(i,r,o)||qa(i,r+a,o)||qa(i,r,o+s)||qa(i,r+a,o+s)||Ze.create(e).contain(l[0],l[1])||ef(r,o,r+a,o,i)||ef(r,o,r,o+s,i)||ef(r+a,o,r+a,o+s,i)||ef(r,o+s,r+a,o+s,i))||void 0}}},ET=h,RT=l,OT=v,BT=[\"dataToPoint\",\"pointToData\"],zT=[\"grid\",\"xAxis\",\"yAxis\",\"geo\",\"graph\",\"polar\",\"radiusAxis\",\"angleAxis\",\"bmap\"],FT=rf.prototype;FT.setOutputRanges=function(e,t){this.matchOutputRanges(e,t,function(e,t,n){if((e.coordRanges||(e.coordRanges=[])).push(t),!e.coordRange){e.coordRange=t;var i=GT[e.brushType](0,n,t);e.__rangeOffset={offset:UT[e.brushType](i.values,e.range,[1,1]),xyMinMax:i.xyMinMax}}})},FT.matchOutputRanges=function(e,t,n){ET(e,function(e){var i=this.findTargetInfo(e,t);i&&!0!==i&&h(i.coordSyses,function(i){var r=GT[e.brushType](1,i,e.range);n(e,r.values,i,t)})},this)},FT.setInputRanges=function(e,t){ET(e,function(e){var n=this.findTargetInfo(e,t);if(e.range=e.range||[],n&&!0!==n){e.panelId=n.panelId;var i=GT[e.brushType](0,n.coordSys,e.coordRange),r=e.__rangeOffset;e.range=r?UT[e.brushType](i.values,r.offset,function(e,t){var n=uf(e),i=uf(t),r=[n[0]/i[0],n[1]/i[1]];return isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r}(i.xyMinMax,r.xyMinMax)):i.values}},this)},FT.makePanelOpts=function(e,t){return f(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t&&t(n),clipPath:kc(i),isTargetByCursor:Ic(i,e,n.coordSysModel),getLinearBrushOtherExtent:Ac(i)}})},FT.controlSeries=function(e,t,n){var i=this.findTargetInfo(e,n);return!0===i||i&&RT(i.coordSyses,t.coordinateSystem)>=0},FT.findTargetInfo=function(e,t){for(var n=this._targetInfoList,i=af(t,e),r=0;r<n.length;r++){var o=n[r],a=e.panelId;if(a){if(o.panelId===a)return o}else for(r=0;r<HT.length;r++)if(HT[r](i,o))return o}return!0};var VT={grid:function(e,t){var n=e.xAxisModels,i=e.yAxisModels,r=e.gridModels,o=O(),a={},s={};(n||i||r)&&(ET(n,function(e){var t=e.axis.grid.model;o.set(t.id,t),a[t.id]=!0}),ET(i,function(e){var t=e.axis.grid.model;o.set(t.id,t),s[t.id]=!0}),ET(r,function(e){o.set(e.id,e),a[e.id]=!0,s[e.id]=!0}),o.each(function(e){var r=[];ET(e.coordinateSystem.getCartesians(),function(e,t){(RT(n,e.getAxis(\"x\").model)>=0||RT(i,e.getAxis(\"y\").model)>=0)&&r.push(e)}),t.push({panelId:\"grid--\"+e.id,gridModel:e,coordSysModel:e,coordSys:r[0],coordSyses:r,getPanelRect:WT.grid,xAxisDeclared:a[e.id],yAxisDeclared:s[e.id]})}))},geo:function(e,t){ET(e.geoModels,function(e){var n=e.coordinateSystem;t.push({panelId:\"geo--\"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:WT.geo})})}},HT=[function(e,t){var n=e.xAxisModel,i=e.yAxisModel,r=e.gridModel;return!r&&n&&(r=n.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],WT={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(Ni(e)),t}},GT={lineX:OT(sf,0),lineY:OT(sf,1),rect:function(e,t,n){var i=t[BT[e]]([n[0][0],n[1][0]]),r=t[BT[e]]([n[0][1],n[1][1]]),o=[of([i[0],r[0]]),of([i[1],r[1]])];return{values:o,xyMinMax:o}},polygon:function(e,t,n){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:f(n,function(n){var r=t[BT[e]](n);return i[0][0]=Math.min(i[0][0],r[0]),i[1][0]=Math.min(i[1][0],r[1]),i[0][1]=Math.max(i[0][1],r[0]),i[1][1]=Math.max(i[1][1],r[1]),r}),xyMinMax:i}}},UT={lineX:OT(lf,0),lineY:OT(lf,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return f(e,function(e,i){return[e[0]-n[0]*t[i][0],e[1]-n[1]*t[i][1]]})}},jT=[\"inBrush\",\"outOfBrush\"],qT=\"__ecBrushSelect\",ZT=\"__ecInBrushSelectEvent\",YT=mb.VISUAL.BRUSH;Jo(YT,function(e,t,n){e.eachComponent({mainType:\"brush\"},function(t){n&&\"takeGlobalCursor\"===n.type&&t.setBrushOption(\"brush\"===n.key?n.brushOption:{brushType:!1}),(t.brushTargetManager=new rf(t.option,e)).setInputRanges(t.areas,e)})}),Qo(YT,function(e,t,i){var r,o,s=[];e.eachComponent({mainType:\"brush\"},function(t,i){function l(e){return\"all\"===g||m[e]}function u(e){return!!e.length}function c(n,i,r){var o=hf(n);if(o&&!ff(t,i)&&(h(_,function(i){o[i.brushType]&&t.brushTargetManager.controlSeries(i,n,e)&&r.push(i),b|=u(r)}),l(i)&&u(r))){var a=n.getData();a.each(function(e){df(o,r,a,e)&&(v[e]=1)})}}var d={brushId:t.id,brushIndex:i,brushName:t.name,areas:n(t.areas),selected:[]};s.push(d);var p=t.option,g=p.brushLink,m=[],v=[],x=[],b=0;i||(r=p.throttleType,o=p.throttleDelay);var _=f(t.areas,function(e){return function(e){var t=e.selectors={};return h(LT[e.brushType],function(n,i){t[i]=function(i){return n(i,t,e)}}),e}(a({boundingRect:XT[e.brushType](e)},e))}),w=$h(t.option,jT,function(e){e.mappingMethod=\"fixed\"});y(g)&&h(g,function(e){m[e]=1}),e.eachSeries(function(e,t){var n=x[t]=[];\"parallel\"===e.subType?function(e,t){var n=e.coordinateSystem;b|=n.hasAxisBrushed(),l(t)&&n.eachActiveState(e.getData(),function(e,t){\"active\"===e&&(v[t]=1)})}(e,t):c(e,t,n)}),e.eachSeries(function(e,t){var n={seriesId:e.id,seriesIndex:t,seriesName:e.name,dataIndex:[]};d.selected.push(n);var i=hf(e),r=x[t],o=e.getData(),a=l(t)?function(e){return v[e]?(n.dataIndex.push(o.getRawIndex(e)),\"inBrush\"):\"outOfBrush\"}:function(e){return df(i,r,o,e)?(n.dataIndex.push(o.getRawIndex(e)),\"inBrush\"):\"outOfBrush\"};(l(t)?b:u(r))&&function(e,t,n,i,r,o){function a(e){return n.getItemVisual(l,e)}function s(e,t){n.setItemVisual(l,e,t)}var l,u={};h(e,function(e){var n=kS.prepareVisualTypes(t[e]);u[e]=n}),n.each(function(e,r){var o=n.getRawDataItem(l=e);if(!o||!1!==o.visualMap)for(var c=i.call(void 0,e),d=t[c],h=u[c],f=0,p=h.length;f<p;f++){var g=h[f];d[g]&&d[g].applyVisual(e,a,s)}},!0)}(jT,w,o,a)})}),function(e,t,n,i,r){if(r){var o=e.getZr();o[ZT]||(o[qT]||(o[qT]=cf),fo(o,qT,n,t)(e,i))}}(t,r,o,s,i)});var XT={lineX:z,lineY:z,rect:function(e){return pf(e.range)},polygon:function(e){for(var t,n=e.range,i=0,r=n.length;i<r;i++){var o=n[i];o[0]<(t=t||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(t[0][0]=o[0]),o[0]>t[0][1]&&(t[0][1]=o[0]),o[1]<t[1][0]&&(t[1][0]=o[1]),o[1]>t[1][1]&&(t[1][1]=o[1])}return t&&pf(t)}},$T=[\"#ddd\"];na({type:\"brush\",dependencies:[\"geo\",\"grid\",\"xAxis\",\"yAxis\",\"parallel\",\"series\"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:\"all\",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:\"rect\",brushMode:\"single\",transformable:!0,brushStyle:{borderWidth:1,color:\"rgba(120,140,180,0.3)\",borderColor:\"rgba(120,140,180,0.8)\"},throttleType:\"fixRate\",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(e,t){var n=this.option;!t&&Kh(n,e,[\"inBrush\",\"outOfBrush\"]),n.inBrush=n.inBrush||{},n.outOfBrush=n.outOfBrush||{color:$T}},setAreas:function(e){e&&(this.areas=f(e,function(e){return gf(this.option,e)},this))},setBrushOption:function(e){this.brushOption=gf(this.option,e),this.brushType=this.brushOption.brushType}}),ia({type:\"brush\",init:function(e,t){this.ecModel=e,this.api=t,(this._brushController=new Ju(t.getZr())).on(\"brush\",m(this._onBrush,this)).mount()},render:function(e){return this.model=e,mf.apply(this,arguments)},updateView:mf,dispose:function(){this._brushController.dispose()},_onBrush:function(e,t){var i=this.model.id;this.model.brushTargetManager.setOutputRanges(e,this.ecModel),(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:\"brush\",brushId:i,areas:n(e),$from:i})}}),$o({type:\"brush\",event:\"brush\"},function(e,t){t.eachComponent({mainType:\"brush\",query:e},function(t){t.setAreas(e.areas)})}),$o({type:\"brushSelect\",event:\"brushSelected\",update:\"none\"},function(){});var KT={};xf.defaultOption={show:!0,type:[\"rect\",\"polygon\",\"lineX\",\"lineY\",\"keep\",\"clear\"],icon:{rect:\"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13\",polygon:\"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2\",lineX:\"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4\",lineY:\"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4\",keep:\"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z\",clear:\"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2\"},title:n($x.toolbox.brush.title)};var JT=xf.prototype;JT.render=JT.updateView=function(e,t,n){var i,r,o;t.eachComponent({mainType:\"brush\"},function(e){i=e.brushType,r=e.brushOption.brushMode||\"single\",o|=e.areas.length}),this._brushType=i,this._brushMode=r,h(e.get(\"type\",!0),function(t){e.setIconStatus(t,(\"keep\"===t?\"multiple\"===r:\"clear\"===t?o:t===i)?\"emphasis\":\"normal\")})},JT.getIcons=function(){var e=this.model,t=e.get(\"icon\",!0),n={};return h(e.get(\"type\",!0),function(e){t[e]&&(n[e]=t[e])}),n},JT.onclick=function(e,t,n){var i=this._brushType,r=this._brushMode;\"clear\"===n?(t.dispatchAction({type:\"axisAreaSelect\",intervals:[]}),t.dispatchAction({type:\"brush\",command:\"clear\",areas:[]})):t.dispatchAction({type:\"takeGlobalCursor\",key:\"brush\",brushOption:{brushType:\"keep\"===n?i:i!==n&&n,brushMode:\"keep\"===n?\"multiple\"===r?\"single\":\"multiple\":r}})},vf(\"brush\",xf),Yo(function(e,t){var n=e&&e.brush;if(y(n)||(n=n?[n]:[]),n.length){var i=[];h(n,function(e){var t=e.hasOwnProperty(\"toolbox\")?e.toolbox:[];t instanceof Array&&(i=i.concat(t))});var r=e&&e.toolbox;y(r)&&(r=r[0]),r||(e.toolbox=[r={feature:{}}]);var o=r.feature||(r.feature={}),a=o.brush||(o.brush={}),s=a.type||(a.type=[]);s.push.apply(s,i),function(e){var t={};h(e,function(e){t[e]=1}),e.length=0,h(t,function(t,n){e.push(n)})}(s),t&&!s.length&&s.push.apply(s,NT)}}),bf.prototype={constructor:bf,type:\"calendar\",dimensions:[\"time\",\"value\"],getDimensionsInfo:function(){return[{name:\"time\",type:\"time\"}]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(e){var t=(e=Ki(e)).getFullYear(),n=e.getMonth()+1;n=n<10?\"0\"+n:n;var i=e.getDate();i=i<10?\"0\"+i:i;var r=e.getDay();return{y:t,m:n,d:i,day:r=Math.abs((r+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+\"-\"+n+\"-\"+i,date:e}},getNextNDay:function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},update:function(e,t){function n(e,t){return null!=e[t]&&\"auto\"!==e[t]}this._firstDayOfWeek=+this._model.getModel(\"dayLabel\").get(\"firstDay\"),this._orient=this._model.get(\"orient\"),this._lineWidth=this._model.getModel(\"itemStyle\").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=[\"width\",\"height\"],o=this._model.get(\"cellSize\").slice(),a=this._model.getBoxLayoutParams(),s=\"horizontal\"===this._orient?[i,7]:[7,i];h([0,1],function(e){n(o,e)&&(a[r[e]]=o[e]*s[e])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=hr(a,l);h([0,1],function(e){n(o,e)||(o[e]=u[r[e]]/s[e])}),this._sw=o[0],this._sh=o[1]},dataToPoint:function(e,t){y(e)&&(e=e[0]),null==t&&(t=!0);var n=this.getDateInfo(e),i=this._rangeInfo;if(t&&!(n.time>=i.start.time&&n.time<=i.end.time))return[NaN,NaN];var r=n.day,o=this._getRangeInfo([i.start.time,n.formatedDate]).nthWeek;return\"vertical\"===this._orient?[this._rect.x+r*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]:[this._rect.x+o*this._sw+this._sw/2,this._rect.y+r*this._sh+this._sh/2]},pointToData:function(e){var t=this.pointToDate(e);return t&&t.time},dataToRect:function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},pointToDate:function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return\"vertical\"===this._orient?this._getDateByWeeksAndDay(n,t-1,i):this._getDateByWeeksAndDay(t,n-1,i)},convertToPixel:v(_f,\"dataToPoint\"),convertFromPixel:v(_f,\"pointToData\"),_initRangeOption:function(){var e=this._model.get(\"range\"),t=e;if(y(t)&&1===t.length&&(t=t[0]),/^\\d{4}$/.test(t)&&(e=[t+\"-01-01\",t+\"-12-31\"]),/^\\d{4}[\\/|-]\\d{1,2}$/.test(t)){var n=this.getDateInfo(t),i=n.date;i.setMonth(i.getMonth()+1);var r=this.getNextNDay(i,-1);e=[n.formatedDate,r.formatedDate]}/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}$/.test(t)&&(e=[t,t]);var o=this._getRangeInfo(e);return o.start.time>o.end.time&&e.reverse(),e},_getRangeInfo:function(e){var t;(e=[this.getDateInfo(e[0]),this.getDateInfo(e[1])])[0].time>e[1].time&&(t=!0,e.reverse());var n=Math.floor(e[1].time/864e5)-Math.floor(e[0].time/864e5)+1,i=new Date(e[0].time),r=i.getDate(),o=e[1].date.getDate();if(i.setDate(r+n-1),i.getDate()!==o)for(var a=i.getTime()-e[1].time>0?1:-1;i.getDate()!==o&&(i.getTime()-e[1].time)*a>0;)i.setDate(r+(n-=a)-1);var s=Math.floor((n+e[0].day+6)/7),l=t?1-s:s-1;return t&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:n,weeks:s,nthWeek:l,fweek:e[0].day,lweek:e[1].day}},_getDateByWeeksAndDay:function(e,t,n){var i=this._getRangeInfo(n);if(e>i.weeks||0===e&&t<i.fweek||e===i.weeks&&t>i.lweek)return!1;var r=7*(e-1)-i.fweek+t,o=new Date(i.start.time);return o.setDate(i.start.d+r),this.getDateInfo(o)}},bf.dimensions=bf.prototype.dimensions,bf.getDimensionsInfo=bf.prototype.getDimensionsInfo,bf.create=function(e,t){var n=[];return e.eachComponent(\"calendar\",function(i){var r=new bf(i,e,t);n.push(r),i.coordinateSystem=r}),e.eachSeries(function(e){\"calendar\"===e.get(\"coordinateSystem\")&&(e.coordinateSystem=n[e.get(\"calendarIndex\")||0])}),n},Ir.register(\"calendar\",bf);var QT=ex.extend({type:\"calendar\",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:\"horizontal\",splitLine:{show:!0,lineStyle:{color:\"#000\",width:1,type:\"solid\"}},itemStyle:{color:\"#fff\",borderWidth:1,borderColor:\"#ccc\"},dayLabel:{show:!0,firstDay:0,position:\"start\",margin:\"50%\",nameMap:\"en\",color:\"#000\"},monthLabel:{show:!0,position:\"start\",margin:5,align:\"center\",nameMap:\"en\",formatter:null,color:\"#000\"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:\"#ccc\",fontFamily:\"sans-serif\",fontWeight:\"bolder\",fontSize:20}},init:function(e,t,n,i){var r=gr(e);QT.superApply(this,\"init\",arguments),wf(e,r)},mergeOption:function(e,t){QT.superApply(this,\"mergeOption\",arguments),wf(this.option,e)}}),ek={EN:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],CN:[\"一月\",\"二月\",\"三月\",\"四月\",\"五月\",\"六月\",\"七月\",\"八月\",\"九月\",\"十月\",\"十一月\",\"十二月\"]},tk={EN:[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],CN:[\"日\",\"一\",\"二\",\"三\",\"四\",\"五\",\"六\"]};ia({type:\"calendar\",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(e,t,n){var i=this.group;i.removeAll();var r=e.coordinateSystem,o=r.getRangeInfo(),a=r.getOrient();this._renderDayRect(e,o,i),this._renderLines(e,o,a,i),this._renderYearText(e,o,a,i),this._renderMonthText(e,a,i),this._renderWeekText(e,o,a,i)},_renderDayRect:function(e,t,n){for(var i=e.coordinateSystem,r=e.getModel(\"itemStyle\").getItemStyle(),o=i.getCellWidth(),a=i.getCellHeight(),s=t.start.time;s<=t.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToRect([s],!1).tl,u=new gy({shape:{x:l[0],y:l[1],width:o,height:a},cursor:\"default\",style:r});n.add(u)}},_renderLines:function(e,t,n,i){function r(t){o._firstDayOfMonth.push(a.getDateInfo(t)),o._firstDayPoints.push(a.dataToRect([t],!1).tl);var r=o._getLinePointsOfOneWeek(e,t,n);o._tlpoints.push(r[0]),o._blpoints.push(r[r.length-1]),l&&o._drawSplitline(r,s,i)}var o=this,a=e.coordinateSystem,s=e.getModel(\"splitLine.lineStyle\").getLineStyle(),l=e.get(\"splitLine.show\"),u=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=t.start,d=0;c.time<=t.end.time;d++){r(c.formatedDate),0===d&&(c=a.getDateInfo(t.start.y+\"-\"+t.start.m));var h=c.date;h.setMonth(h.getMonth()+1),c=a.getDateInfo(h)}r(a.getNextNDay(t.end.time,1).formatedDate),l&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,u,n),s,i),l&&this._drawSplitline(o._getEdgesPoints(o._blpoints,u,n),s,i)},_getEdgesPoints:function(e,t,n){var i=[e[0].slice(),e[e.length-1].slice()],r=\"horizontal\"===n?0:1;return i[0][r]=i[0][r]-t/2,i[1][r]=i[1][r]+t/2,i},_drawSplitline:function(e,t,n){var i=new py({z2:20,shape:{points:e},style:t});n.add(i)},_getLinePointsOfOneWeek:function(e,t,n){var i=e.coordinateSystem;t=i.getDateInfo(t);for(var r=[],o=0;o<7;o++){var a=i.getNextNDay(t.time,o),s=i.dataToRect([a.time],!1);r[2*a.day]=s.tl,r[2*a.day+1]=s[\"horizontal\"===n?\"bl\":\"tr\"]}return r},_formatterLabel:function(e,t){return\"string\"==typeof e&&e?sr(e,t):\"function\"==typeof e?e(t):t.nameMap},_yearTextPositionControl:function(e,t,n,i,r){t=t.slice();var o=[\"center\",\"bottom\"];\"bottom\"===i?(t[1]+=r,o=[\"center\",\"top\"]):\"left\"===i?t[0]-=r:\"right\"===i?(t[0]+=r,o=[\"center\",\"top\"]):t[1]-=r;var a=0;return\"left\"!==i&&\"right\"!==i||(a=Math.PI/2),{rotation:a,position:t,style:{textAlign:o[0],textVerticalAlign:o[1]}}},_renderYearText:function(e,t,n,i){var r=e.getModel(\"yearLabel\");if(r.get(\"show\")){var o=r.get(\"margin\"),a=r.get(\"position\");a||(a=\"horizontal\"!==n?\"top\":\"left\");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,u=(s[0][1]+s[1][1])/2,c=\"horizontal\"===n?0:1,d={top:[l,s[c][1]],bottom:[l,s[1-c][1]],left:[s[1-c][0],u],right:[s[c][0],u]},h=t.start.y;+t.end.y>+t.start.y&&(h=h+\"-\"+t.end.y);var f=r.get(\"formatter\"),p=this._formatterLabel(f,{start:t.start.y,end:t.end.y,nameMap:h}),g=new oy({z2:30});wi(g.style,r,{text:p}),g.attr(this._yearTextPositionControl(g,d[a],n,a,o)),i.add(g)}},_monthTextPositionControl:function(e,t,n,i,r){var o=\"left\",a=\"top\",s=e[0],l=e[1];return\"horizontal\"===n?(l+=r,t&&(o=\"center\"),\"start\"===i&&(a=\"bottom\")):(s+=r,t&&(a=\"middle\"),\"start\"===i&&(o=\"right\")),{x:s,y:l,textAlign:o,textVerticalAlign:a}},_renderMonthText:function(e,t,n){var i=e.getModel(\"monthLabel\");if(i.get(\"show\")){var r=i.get(\"nameMap\"),a=i.get(\"margin\"),s=i.get(\"position\"),l=i.get(\"align\"),u=[this._tlpoints,this._blpoints];b(r)&&(r=ek[r.toUpperCase()]||[]);var c=\"start\"===s?0:1,d=\"horizontal\"===t?0:1;a=\"start\"===s?-a:a;for(var h=\"center\"===l,f=0;f<u[c].length-1;f++){var p=u[c][f].slice(),g=this._firstDayOfMonth[f];h&&(p[d]=(this._firstDayPoints[f][d]+u[0][f+1][d])/2);var m=i.get(\"formatter\"),v=r[+g.m-1],y={yyyy:g.y,yy:(g.y+\"\").slice(2),MM:g.m,M:+g.m,nameMap:v},x=this._formatterLabel(m,y),_=new oy({z2:30});o(wi(_.style,i,{text:x}),this._monthTextPositionControl(p,h,t,s,a)),n.add(_)}}},_weekTextPositionControl:function(e,t,n,i,r){var o=\"center\",a=\"middle\",s=e[0],l=e[1],u=\"start\"===n;return\"horizontal\"===t?(s=s+i+(u?1:-1)*r[0]/2,o=u?\"right\":\"left\"):(l=l+i+(u?1:-1)*r[1]/2,a=u?\"bottom\":\"top\"),{x:s,y:l,textAlign:o,textVerticalAlign:a}},_renderWeekText:function(e,t,n,i){var r=e.getModel(\"dayLabel\");if(r.get(\"show\")){var a=e.coordinateSystem,s=r.get(\"position\"),l=r.get(\"nameMap\"),u=r.get(\"margin\"),c=a.getFirstDayOfWeek();b(l)&&(l=tk[l.toUpperCase()]||[]);var d=a.getNextNDay(t.end.time,7-t.lweek).time,h=[a.getCellWidth(),a.getCellHeight()];u=Wi(u,h[\"horizontal\"===n?0:1]),\"start\"===s&&(d=a.getNextNDay(t.start.time,-(7+t.fweek)).time,u=-u);for(var f=0;f<7;f++){var p,g=a.getNextNDay(d,f),m=a.dataToRect([g.time],!1).center;p=Math.abs((f+c)%7);var v=new oy({z2:30});o(wi(v.style,r,{text:l[p]}),this._weekTextPositionControl(m,n,s,u,h)),i.add(v)}}}}),na({type:\"title\",layoutMode:{type:\"box\",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:\"\",target:\"blank\",subtext:\"\",subtarget:\"blank\",left:0,top:0,backgroundColor:\"rgba(0,0,0,0)\",borderColor:\"#ccc\",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:\"bolder\",color:\"#333\"},subtextStyle:{color:\"#aaa\"}}}),ia({type:\"title\",render:function(e,t,n){if(this.group.removeAll(),e.get(\"show\")){var i=this.group,r=e.getModel(\"textStyle\"),o=e.getModel(\"subtextStyle\"),a=e.get(\"textAlign\"),s=e.get(\"textBaseline\"),l=new oy({style:wi({},r,{text:e.get(\"text\"),textFill:r.getTextColor()},{disableBox:!0}),z2:10}),u=l.getBoundingRect(),c=e.get(\"subtext\"),d=new oy({style:wi({},o,{text:c,textFill:o.getTextColor(),y:u.height+e.get(\"itemGap\"),textVerticalAlign:\"top\"},{disableBox:!0}),z2:10}),h=e.get(\"link\"),f=e.get(\"sublink\");l.silent=!h,d.silent=!f,h&&l.on(\"click\",function(){window.open(h,\"_\"+e.get(\"target\"))}),f&&d.on(\"click\",function(){window.open(f,\"_\"+e.get(\"subtarget\"))}),i.add(l),c&&i.add(d);var p=i.getBoundingRect(),g=e.getBoxLayoutParams();g.width=p.width,g.height=p.height;var m=hr(g,{width:n.getWidth(),height:n.getHeight()},e.get(\"padding\"));a||(\"middle\"===(a=e.get(\"left\")||e.get(\"right\"))&&(a=\"center\"),\"right\"===a?m.x+=m.width:\"center\"===a&&(m.x+=m.width/2)),s||(\"center\"===(s=e.get(\"top\")||e.get(\"bottom\"))&&(s=\"middle\"),\"bottom\"===s?m.y+=m.height:\"middle\"===s&&(m.y+=m.height/2),s=s||\"top\"),i.attr(\"position\",[m.x,m.y]);var v={textAlign:a,textVerticalAlign:s};l.setStyle(v),d.setStyle(v),p=i.getBoundingRect();var y=m.margin,x=e.getItemStyle([\"color\",\"opacity\"]);x.fill=e.get(\"backgroundColor\");var b=new gy({shape:{x:p.x-y[3],y:p.y-y[0],width:p.width+y[1]+y[3],height:p.height+y[0]+y[2],r:e.get(\"borderRadius\")},style:x,silent:!0});ai(b),i.add(b)}}}),ex.registerSubTypeDefaulter(\"dataZoom\",function(){return\"slider\"});var nk=[\"cartesian2d\",\"polar\",\"singleAxis\"],ik=function(e,t){var n=f(e=e.slice(),cr),i=f(t=(t||[]).slice(),cr);return function(r,o){h(e,function(e,a){for(var s={name:e,capital:n[a]},l=0;l<t.length;l++)s[t[l]]=e+i[l];r.call(o,s)})}}([\"x\",\"y\",\"z\",\"radius\",\"angle\",\"single\"],[\"axisIndex\",\"axis\",\"index\",\"id\"]),rk=h,ok=Ui,ak=function(e,t,n,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=n};ak.prototype={constructor:ak,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var e=[],t=this.ecModel;return t.eachSeries(function(n){if(function(e){return l(nk,e)>=0}(n.get(\"coordinateSystem\"))){var i=this._dimName,r=t.queryComponents({mainType:i+\"Axis\",index:n.get(i+\"AxisIndex\"),id:n.get(i+\"AxisId\")})[0];this._axisIndex===(r&&r.componentIndex)&&e.push(n)}},this),e},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+\"Axis\",this._axisIndex)},getOtherAxisModel:function(){var e,t,n,i=this._dimName,r=this.ecModel,o=this.getAxisModel();return\"x\"===i||\"y\"===i?(t=\"gridIndex\",e=\"x\"===i?\"y\":\"x\"):(t=\"polarIndex\",e=\"angle\"===i?\"radius\":\"angle\"),r.eachComponent(e+\"Axis\",function(e){(e.get(t)||0)===(o.get(t)||0)&&(n=e)}),n},getMinMaxSpan:function(){return n(this._minMaxSpan)},calculateDataWindow:function(e){var t=this._dataExtent,n=this.getAxisModel().axis.scale,i=this._dataZoomModel.getRangePropMode(),r=[0,100],o=[e.start,e.end],a=[];return rk([\"startValue\",\"endValue\"],function(t){a.push(null!=e[t]?n.parse(e[t]):null)}),rk([0,1],function(e){var s=a[e],l=o[e];\"percent\"===i[e]?(null==l&&(l=r[e]),s=n.parse(Hi(l,r,t,!0))):l=Hi(s,t,r,!0),a[e]=s,o[e]=l}),{valueWindow:ok(a),percentWindow:ok(o)}},reset:function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function(e,t,n){var i=[1/0,-1/0];return rk(n,function(e){var n=e.getData();n&&rk(n.mapDimension(t,!0),function(e){var t=n.getApproximateExtent(e);t[0]<i[0]&&(i[0]=t[0]),t[1]>i[1]&&(i[1]=t[1])})}),i[1]<i[0]&&(i=[NaN,NaN]),function(e,t){var n=e.getAxisModel(),i=n.getMin(!0),r=\"category\"===n.get(\"type\"),o=r&&n.getCategories().length;null!=i&&\"dataMin\"!==i&&\"function\"!=typeof i?t[0]=i:r&&(t[0]=o>0?0:NaN);var a=n.getMax(!0);null!=a&&\"dataMax\"!==a&&\"function\"!=typeof a?t[1]=a:r&&(t[1]=o>0?o-1:NaN),n.get(\"scale\",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0))}(e,i),i}(this,this._dimName,t),this.hasSeriesStacked=!1,rk(t,function(e){var t=e.getData(),n=t.mapDimension(this._dimName);t.isStacked(n)&&(this.hasSeriesStacked=!0)},this);var n=this.calculateDataWindow(e.option);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,function(e){var t=e._minMaxSpan={},n=e._dataZoomModel;rk([\"min\",\"max\"],function(i){t[i+\"Span\"]=n.get(i+\"Span\");var r=n.get(i+\"ValueSpan\");if(null!=r&&(t[i+\"ValueSpan\"]=r,null!=(r=e.getAxisModel().axis.scale.parse(r)))){var o=e._dataExtent;t[i+\"Span\"]=Hi(o[0]+r,o,[0,100],!0)}})}(this),Sf(this)}},restore:function(e){e===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,Sf(this,!0))},filterData:function(e,t){if(e===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),r=e.get(\"filterMode\"),o=this._valueWindow;if(\"none\"!==r){var a=this.getOtherAxisModel();e.get(\"$fromToolbox\")&&a&&a.hasSeriesStacked&&(r=\"empty\"),rk(i,function(e){var t=e.getData(),i=t.mapDimension(n,!0);\"weakFilter\"===r?t.filterSelf(function(e){for(var n,r,a,s=0;s<i.length;s++){var l=t.get(i[s],e),u=!isNaN(l),c=l<o[0],d=l>o[1];if(u&&!c&&!d)return!0;u&&(a=!0),c&&(n=!0),d&&(r=!0)}return a&&n&&r}):rk(i,function(n){if(\"empty\"===r)e.setData(t.map(n,function(e){return function(e){return e>=o[0]&&e<=o[1]}(e)?e:NaN}));else{var i={};i[n]=o,t.selectRange(i)}}),rk(i,function(e){t.setApproximateExtent(o,e)})})}}}};var sk=h,lk=ik,uk=na({type:\"dataZoom\",dependencies:[\"xAxis\",\"yAxis\",\"zAxis\",\"radiusAxis\",\"angleAxis\",\"singleAxis\",\"series\"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:\"filter\",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(e,t,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this._autoThrottle=!0,this._rangePropMode=[\"percent\",\"percent\"];var i=Cf(e);this.mergeDefaultAndTheme(e,n),this.doInit(i)},mergeOption:function(e){var t=Cf(e);i(this.option,e,!0),this.doInit(t)},doInit:function(e){var t=this.option;ig.canvasSupported||(t.realtime=!1),this._setDefaultThrottle(e),Mf(this,e),sk([[\"start\",\"startValue\"],[\"end\",\"endValue\"]],function(e,n){\"value\"===this._rangePropMode[n]&&(t[e[0]]=null)},this),this.textStyleModel=this.getModel(\"textStyle\"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(t,n,i,r){var o=this.dependentModels[t.axis][n],a=o.__dzAxisProxy||(o.__dzAxisProxy=new ak(t.name,n,this,r));e[t.name+\"_\"+n]=a},this)},_resetTarget:function(){var e=this.option,t=this._judgeAutoMode();lk(function(t){var n=t.axisIndex;e[n]=rn(e[n])},this),\"axisIndex\"===t?this._autoSetAxisIndex():\"orient\"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,t=!1;lk(function(n){null!=e[n.axisIndex]&&(t=!0)},this);var n=e.orient;return null==n&&t?\"orient\":t?void 0:(null==n&&(e.orient=\"horizontal\"),\"axisIndex\")},_autoSetAxisIndex:function(){var e=!0,t=this.get(\"orient\",!0),n=this.option,i=this.dependentModels;if(e){var r=\"vertical\"===t?\"y\":\"x\";i[r+\"Axis\"].length?(n[r+\"AxisIndex\"]=[0],e=!1):sk(i.singleAxis,function(i){e&&i.get(\"orient\",!0)===t&&(n.singleAxisIndex=[i.componentIndex],e=!1)})}e&&lk(function(t){if(e){var i=[],r=this.dependentModels[t.axis];if(r.length&&!i.length)for(var o=0,a=r.length;o<a;o++)\"category\"===r[o].get(\"type\")&&i.push(o);n[t.axisIndex]=i,i.length&&(e=!1)}},this),e&&this.ecModel.eachSeries(function(e){this._isSeriesHasAllAxesTypeOf(e,\"value\")&&lk(function(t){var i=n[t.axisIndex],r=e.get(t.axisIndex),o=e.get(t.axisId);l(i,r=e.ecModel.queryComponents({mainType:t.axis,index:r,id:o})[0].componentIndex)<0&&i.push(r)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){!e&&(e=t.name)},this),this.option.orient=\"y\"===e?\"vertical\":\"horizontal\"},_isSeriesHasAllAxesTypeOf:function(e,t){var n=!0;return lk(function(i){var r=e.get(i.axisIndex),o=this.dependentModels[i.axis][r];o&&o.get(\"type\")===t||(n=!1)},this),n},_setDefaultThrottle:function(e){if(e.hasOwnProperty(\"throttle\")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var e;return lk(function(t){if(null==e){var n=this.get(t.axisIndex);n.length&&(e=this.dependentModels[t.axis][n[0]])}},this),e},eachTargetAxis:function(e,t){var n=this.ecModel;lk(function(i){sk(this.get(i.axisIndex),function(r){e.call(t,i,r,this,n)},this)},this)},getAxisProxy:function(e,t){return this._axisProxies[e+\"_\"+t]},getAxisModel:function(e,t){var n=this.getAxisProxy(e,t);return n&&n.getAxisModel()},setRawRange:function(e,t){var n=this.option;sk([[\"start\",\"startValue\"],[\"end\",\"endValue\"]],function(t){null==e[t[0]]&&null==e[t[1]]||(n[t[0]]=e[t[0]],n[t[1]]=e[t[1]])},this),!t&&Mf(this,e)},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},getValueRange:function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(e){if(e)return e.__dzAxisProxy;var t=this._axisProxies;for(var n in t)if(t.hasOwnProperty(n)&&t[n].hostedBy(this))return t[n];for(var n in t)if(t.hasOwnProperty(n)&&!t[n].hostedBy(this))return t[n]},getRangePropMode:function(){return this._rangePropMode.slice()}}),ck=Vx.extend({type:\"dataZoom\",render:function(e,t,n,i){this.dataZoomModel=e,this.ecModel=t,this.api=n},getTargetCoordInfo:function(){var e=this.ecModel,t={};return this.dataZoomModel.eachTargetAxis(function(n,i){var r=e.getComponent(n.axis,i);if(r){var o=r.getCoordSysModel();o&&function(e,t,n,i){for(var r,o=0;o<n.length;o++)if(n[o].model===e){r=n[o];break}r||n.push(r={model:e,axisModels:[],coordIndex:i}),r.axisModels.push(t)}(o,r,t[o.mainType]||(t[o.mainType]=[]),o.componentIndex)}},this),t}}),dk=(uk.extend({type:\"dataZoom.slider\",layoutMode:\"box\",defaultOption:{show:!0,right:\"ph\",top:\"ph\",width:\"ph\",height:\"ph\",left:null,bottom:null,backgroundColor:\"rgba(47,69,84,0)\",dataBackground:{lineStyle:{color:\"#2f4554\",width:.5,opacity:.3},areaStyle:{color:\"rgba(47,69,84,0.3)\",opacity:.3}},borderColor:\"#ddd\",fillerColor:\"rgba(167,183,204,0.4)\",handleIcon:\"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z\",handleSize:\"100%\",handleStyle:{color:\"#a7b7cc\"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:\"auto\",realtime:!0,zoomLock:!1,textStyle:{color:\"#333\"}}}),gy),hk=Hi,fk=Ui,pk=m,gk=h,mk=\"horizontal\",vk=[\"line\",\"bar\",\"candlestick\",\"scatter\"],yk=ck.extend({type:\"dataZoom.slider\",init:function(e,t){this._displayables={},this.api=t},render:function(e,t,n,i){yk.superApply(this,\"render\",arguments),fo(this,\"_dispatchZoomAction\",this.dataZoomModel.get(\"throttle\"),\"fixRate\"),this._orient=e.get(\"orient\"),!1!==this.dataZoomModel.get(\"show\")?(i&&\"dataZoom\"===i.type&&i.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){yk.superApply(this,\"remove\",arguments),po(this,\"_dispatchZoomAction\")},dispose:function(){yk.superApply(this,\"dispose\",arguments),po(this,\"_dispatchZoomAction\")},_buildView:function(){var e=this.group;e.removeAll(),this._resetLocation(),this._resetInterval();var t=this._displayables.barGroup=new Qg;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},_resetLocation:function(){var e=this.dataZoomModel,t=this.api,n=this._findCoordRect(),i={width:t.getWidth(),height:t.getHeight()},r=this._orient===mk?{right:i.width-n.x-n.width,top:i.height-30-7,width:n.width,height:30}:{right:7,top:n.y,width:30,height:n.height},o=gr(e.option);h([\"right\",\"top\",\"width\",\"height\"],function(e){\"ph\"===o[e]&&(o[e]=r[e])});var a=hr(o,i,e.padding);this._location={x:a.x,y:a.y},this._size=[a.width,a.height],\"vertical\"===this._orient&&this._size.reverse()},_positionGroup:function(){var e=this.group,t=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),r=i&&i.get(\"inverse\"),o=this._displayables.barGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n!==mk||r?n===mk&&r?{scale:a?[-1,1]:[-1,-1]}:\"vertical\"!==n||r?{scale:a?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:a?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:a?[1,1]:[1,-1]});var s=e.getBoundingRect([o]);e.attr(\"position\",[t.x-s.x,t.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var e=this._size,t=this._displayables.barGroup;t.add(new dk({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:this.dataZoomModel.get(\"backgroundColor\")},z2:-40})),t.add(new dk({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:\"transparent\"},z2:0,onclick:m(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(e){var t=this._size,n=e.series,i=n.getRawData(),r=n.getShadowDim?n.getShadowDim():e.otherDim;if(null!=r){var o=i.getDataExtent(r),s=.3*(o[1]-o[0]);o=[o[0]-s,o[1]+s];var l,u=[0,t[1]],c=[[t[0],0],[0,0]],d=[],h=t[0]/(i.count()-1),f=0,p=Math.round(i.count()/t[0]);i.each([r],function(e,t){if(p>0&&t%p)f+=h;else{var n=null==e||isNaN(e)||\"\"===e,i=n?0:hk(e,o,u,!0);n&&!l&&t?(c.push([c[c.length-1][0],0]),d.push([d[d.length-1][0],0])):!n&&l&&(c.push([f,0]),d.push([f,0])),c.push([f,i]),d.push([f,i]),f+=h,l=n}});var g=this.dataZoomModel;this._displayables.barGroup.add(new fy({shape:{points:c},style:a({fill:g.get(\"dataBackgroundColor\")},g.getModel(\"dataBackground.areaStyle\").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new py({shape:{points:d},style:g.getModel(\"dataBackground.lineStyle\").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var e=this.dataZoomModel,t=e.get(\"showDataShadow\");if(!1!==t){var n,i=this.ecModel;return e.eachTargetAxis(function(r,o){h(e.getAxisProxy(r.name,o).getTargetSeriesModels(),function(e){if(!(n||!0!==t&&l(vk,e.get(\"type\"))<0)){var a,s=i.getComponent(r.axis,o).axis,u=function(e){return{x:\"y\",y:\"x\",radius:\"angle\",angle:\"radius\"}[e]}(r.name),c=e.coordinateSystem;null!=u&&c.getOtherAxis&&(a=c.getOtherAxis(s).inverse),u=e.getData().mapDimension(u),n={thisAxis:s,series:e,thisDim:r.name,otherDim:u,otherAxisInverse:a}}},this)},this),n}},_renderHandle:function(){var e=this._displayables,t=e.handles=[],n=e.handleLabels=[],i=this._displayables.barGroup,r=this._size,o=this.dataZoomModel;i.add(e.filler=new dk({draggable:!0,cursor:Tf(this._orient),drift:pk(this._onDragMove,this,\"all\"),onmousemove:function(e){Im(e.event)},ondragstart:pk(this._showDataInfo,this,!0),ondragend:pk(this._onDragEnd,this),onmouseover:pk(this._showDataInfo,this,!0),onmouseout:pk(this._showDataInfo,this,!1),style:{fill:o.get(\"fillerColor\"),textPosition:\"inside\"}})),i.add(new dk(ai({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{stroke:o.get(\"dataBackgroundColor\")||o.get(\"borderColor\"),lineWidth:1,fill:\"rgba(0,0,0,0)\"}}))),gk([0,1],function(e){var r=Oi(o.get(\"handleIcon\"),{cursor:Tf(this._orient),draggable:!0,drift:pk(this._onDragMove,this,e),onmousemove:function(e){Im(e.event)},ondragend:pk(this._onDragEnd,this),onmouseover:pk(this._showDataInfo,this,!0),onmouseout:pk(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),a=r.getBoundingRect();this._handleHeight=Wi(o.get(\"handleSize\"),this._size[1]),this._handleWidth=a.width/a.height*this._handleHeight,r.setStyle(o.getModel(\"handleStyle\").getItemStyle());var s=o.get(\"handleColor\");null!=s&&(r.style.fill=s),i.add(t[e]=r);var l=o.textStyleModel;this.group.add(n[e]=new oy({silent:!0,invisible:!0,style:{x:0,y:0,text:\"\",textVerticalAlign:\"middle\",textAlign:\"center\",textFill:l.getTextColor(),textFont:l.getFont()},z2:10}))},this)},_resetInterval:function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[hk(e[0],[0,100],t,!0),hk(e[1],[0,100],t,!0)]},_updateInterval:function(e,t){var n=this.dataZoomModel,i=this._handleEnds,r=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];pC(t,i,r,n.get(\"zoomLock\")?\"all\":e,null!=o.minSpan?hk(o.minSpan,a,r,!0):null,null!=o.maxSpan?hk(o.maxSpan,a,r,!0):null),this._range=fk([hk(i[0],r,a,!0),hk(i[1],r,a,!0)])},_updateView:function(e){var t=this._displayables,n=this._handleEnds,i=fk(n.slice()),r=this._size;gk([0,1],function(e){var i=this._handleHeight;t.handles[e].attr({scale:[i/2,i/2],position:[n[e],r[1]/2-i/2]})},this),t.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:r[1]}),this._updateDataInfo(e)},_updateDataInfo:function(e){function t(e){var t=Ni(i.handles[e].parent,this.group),n=Li(0===e?\"right\":\"left\",t),s=this._handleWidth/2+5,l=Pi([d[e]+(0===e?-s:s),this._size[1]/2],t);r[e].setStyle({x:l[0],y:l[1],textVerticalAlign:o===mk?\"middle\":n,textAlign:o===mk?n:\"center\",text:a[e]})}var n=this.dataZoomModel,i=this._displayables,r=i.handleLabels,o=this._orient,a=[\"\",\"\"];if(n.get(\"showDetail\")){var s=n.findRepresentativeAxisProxy();if(s){var l=s.getAxisModel().axis,u=this._range,c=e?s.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:s.getDataValueWindow();a=[this._formatLabel(c[0],l),this._formatLabel(c[1],l)]}}var d=fk(this._handleEnds.slice());t.call(this,0),t.call(this,1)},_formatLabel:function(e,t){var n=this.dataZoomModel,i=n.get(\"labelFormatter\"),r=n.get(\"labelPrecision\");null!=r&&\"auto\"!==r||(r=t.getPixelPrecision());var o=null==e||isNaN(e)?\"\":\"category\"===t.type||\"time\"===t.type?t.scale.getLabel(Math.round(e)):e.toFixed(Math.min(r,20));return x(i)?i(e,o):b(i)?i.replace(\"{value}\",o):o},_showDataInfo:function(e){var t=this._displayables.handleLabels;t[0].attr(\"invisible\",!(e=this._dragging||e)),t[1].attr(\"invisible\",!e)},_onDragMove:function(e,t,n){this._dragging=!0;var i=Pi([t,n],this._displayables.barGroup.getLocalTransform(),!0);this._updateInterval(e,i[0]);var r=this.dataZoomModel.get(\"realtime\");this._updateView(!r),r&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get(\"realtime\")&&this._dispatchZoomAction()},_onClickPanelClick:function(e){var t=this._size,n=this._displayables.barGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>t[0]||n[1]<0||n[1]>t[1])){var i=this._handleEnds;this._updateInterval(\"all\",n[0]-(i[0]+i[1])/2),this._updateView(),this._dispatchZoomAction()}},_dispatchZoomAction:function(){var e=this._range;this.api.dispatchAction({type:\"dataZoom\",from:this.uid,dataZoomId:this.dataZoomModel.id,start:e[0],end:e[1]})},_findCoordRect:function(){var e;if(gk(this.getTargetCoordInfo(),function(t){if(!e&&t.length){var n=t[0].model.coordinateSystem;e=n.getRect&&n.getRect()}}),!e){var t=this.api.getWidth(),n=this.api.getHeight();e={x:.2*t,y:.2*n,width:.6*t,height:.6*n}}return e}});uk.extend({type:\"dataZoom.inside\",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});var xk=v,bk=\"\\0_ec_dataZoom_roams\",_k=m,wk=ck.extend({type:\"dataZoom.inside\",init:function(e,t){},render:function(e,t,n,i){wk.superApply(this,\"render\",arguments),If(i,e.id)&&(this._range=e.getPercentRange()),h(this.getTargetCoordInfo(),function(t,i){var r=f(t,function(e){return Df(e.model)});h(t,function(t){var o=t.model,a=e.option;kf(n,{coordId:Df(o),allCoordIds:r,containsPoint:function(e,t,n){return o.coordinateSystem.containPoint([t,n])},dataZoomId:e.id,throttleRate:e.get(\"throttle\",!0),panGetRange:_k(this._onPan,this,t,i),zoomGetRange:_k(this._onZoom,this,t,i),zoomLock:a.zoomLock,disabled:a.disabled,roamControllerOpt:{zoomOnMouseWheel:a.zoomOnMouseWheel,moveOnMouseMove:a.moveOnMouseMove,preventDefaultMouseMove:a.preventDefaultMouseMove}})},this)},this)},dispose:function(){Af(this.api,this.dataZoomModel.id),wk.superApply(this,\"dispose\",arguments),this._range=null},_onPan:function(e,t,n,i,r,o,a,s,l){var u=this._range.slice(),c=e.axisModels[0];if(c){var d=Sk[t]([o,a],[s,l],c,n,e);return pC(d.signal*(u[1]-u[0])*d.pixel/d.pixelLength,u,[0,100],\"all\"),this._range=u}},_onZoom:function(e,t,n,i,r,o){var a=this._range.slice(),s=e.axisModels[0];if(s){var l=Sk[t](null,[r,o],s,n,e),u=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(a[1]-a[0])+a[0];i=Math.max(1/i,0),a[0]=(a[0]-u)*i+u,a[1]=(a[1]-u)*i+u;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return pC(0,a,[0,100],0,c.minSpan,c.maxSpan),this._range=a}}}),Sk={grid:function(e,t,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem.getRect();return e=e||[0,0],\"x\"===o.dim?(a.pixel=t[0]-e[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(e,t,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],t=s.pointToCoord(t),\"radiusAxis\"===n.mainType?(a.pixel=t[0]-e[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?-1:1),a},singleAxis:function(e,t,n,i,r){var o=n.axis,a=r.model.coordinateSystem.getRect(),s={};return e=e||[0,0],\"horizontal\"===o.orient?(s.pixel=t[0]-e[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}};Xo({getTargetSeries:function(e){var t=O();return e.eachComponent(\"dataZoom\",function(e){e.eachTargetAxis(function(e,n,i){h(i.getAxisProxy(e.name,n).getTargetSeriesModels(),function(e){t.set(e.uid,e)})})}),t},isOverallFilter:!0,overallReset:function(e,t){e.eachComponent(\"dataZoom\",function(e){e.eachTargetAxis(function(e,n,i){i.getAxisProxy(e.name,n).reset(i,t)}),e.eachTargetAxis(function(e,n,i){i.getAxisProxy(e.name,n).filterData(i,t)})}),e.eachComponent(\"dataZoom\",function(e){var t=e.findRepresentativeAxisProxy(),n=t.getDataPercentWindow(),i=t.getDataValueWindow();e.setRawRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]},!0)})}}),$o(\"dataZoom\",function(e,t){var n=function(e,t,n){function i(e,t){return l(t.nodes,e)>=0}function r(e,i){var r=!1;return t(function(t){h(n(e,t)||[],function(e){i.records[t.name][e]&&(r=!0)})}),r}function o(e,i){i.nodes.push(e),t(function(t){h(n(e,t)||[],function(e){i.records[t.name][e]=!0})})}return function(n){var a,s={nodes:[],records:{}};if(t(function(e){s.records[e.name]={}}),!n)return s;o(n,s);do{a=!1,e(function(e){!i(e,s)&&r(e,s)&&(o(e,s),a=!0)})}while(a);return s}}(m(t.eachComponent,t,\"dataZoom\"),ik,function(e,t){return e.get(t.axisIndex)}),i=[];t.eachComponent({mainType:\"dataZoom\",query:e},function(e,t){i.push.apply(i,n(e).nodes)}),h(i,function(t,n){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})});var Ck=h,Mk=function(e){var t=e&&e.visualMap;y(t)||(t=t?[t]:[]),Ck(t,function(e){if(e){zf(e,\"splitList\")&&!zf(e,\"pieces\")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&y(t)&&Ck(t,function(e){_(e)&&(zf(e,\"start\")&&!zf(e,\"min\")&&(e.min=e.start),zf(e,\"end\")&&!zf(e,\"max\")&&(e.max=e.end))})}})};ex.registerSubTypeDefaulter(\"visualMap\",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?\"piecewise\":\"continuous\"});var Tk=mb.VISUAL.COMPONENT;Qo(Tk,{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent(\"visualMap\",function(t){t.isTargetSeries(e)&&n.push(function(e,t,n,i){var r={};return h(e,function(e){var n=kS.prepareVisualTypes(t[e]);r[e]=n}),{progress:function(e,o){null!=i&&(i=o.getDimension(i));for(var a=e.start;a<e.end;a++){var s=o.getRawDataItem(a);if(s&&!1===s.visualMap)return;for(var l=null!=i?o.get(i,a,!0):a,u=n(l),c=t[u],d=r[u],h=0,f=d.length;h<f;h++){var p=d[h];c[p]&&c[p].applyVisual(l,function(e){return o.getItemVisual(a,e)},function(e,t){o.setItemVisual(a,e,t)})}}}}}(t.stateList,t.targetVisuals,m(t.getValueState,t),t.getDataDimension(e.getData())))}),n}}),Qo(Tk,{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),i=[];t.eachComponent(\"visualMap\",function(t){if(t.isTargetSeries(e)){var r=t.getVisualMeta(m(Ff,null,e,t))||{stops:[],outerColors:[]},o=t.getDataDimension(n),a=n.getDimensionInfo(o);null!=a&&(r.dimension=a.index,i.push(r))}}),e.getData().setVisual(\"visualMeta\",i)}});var kk=function(e,t,i){var r=n((Ak[e]||{})[t]);return i&&y(r)?r[r.length-1]:r},Ak={color:{active:[\"#006edd\",\"#e0ffff\"],inactive:[\"rgba(0,0,0,0)\"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:[\"circle\",\"roundRect\",\"diamond\"],inactive:[\"none\"]},symbolSize:{active:[10,50],inactive:[0,0]}},Ik=kS.mapVisual,Dk=kS.eachVisual,Nk=y,Pk=h,Lk=Ui,Ek=Hi,Rk=na({type:\"visualMap\",dependencies:[\"series\"],stateList:[\"inRange\",\"outOfRange\"],replacableOptionKeys:[\"inRange\",\"outOfRange\",\"target\",\"controller\",\"color\"],dataBound:[-1/0,1/0],layoutMode:{type:\"box\",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:\"all\",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:\"vertical\",backgroundColor:\"rgba(0,0,0,0)\",borderColor:\"#ccc\",contentColor:\"#5793f3\",inactiveColor:\"#aaa\",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:\"#333\"}},init:function(e,t,n){this.targetVisuals={},this.controllerVisuals={},this.mergeDefaultAndTheme(e,n)},optionUpdated:function(e,t){var n=this.option;ig.canvasSupported||(n.realtime=!1),!t&&Kh(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel(\"textStyle\"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=m(e,this),this.controllerVisuals=$h(this.option.controller,t,e),this.targetVisuals=$h(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||\"all\"===e?this.ecModel.eachSeries(function(e,n){t.push(n)}):t=rn(e),t},eachTargetSeries:function(e,t){h(this.getTargetSeriesIndices(),function(n){e.call(t,this.ecModel.getSeriesByIndex(n))},this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries(function(n){n===e&&(t=!0)}),t},formatValueText:function(e,t,n){function i(e){return e===l[0]?\"min\":e===l[1]?\"max\":(+e).toFixed(Math.min(s,20))}var r,o,a=this.option,s=a.precision,l=this.dataBound,u=a.formatter;return n=n||[\"<\",\">\"],y(e)&&(e=e.slice(),r=!0),o=t?e:r?[i(e[0]),i(e[1])]:i(e),b(u)?u.replace(\"{value}\",r?o[0]:o).replace(\"{value2}\",r?o[1]:o):x(u)?r?u(e[0],e[1]):u(e):r?e[0]===l[0]?n[0]+\" \"+o[1]:e[1]===l[1]?n[1]+\" \"+o[0]:o[0]+\" - \"+o[1]:o},resetExtent:function(){var e=this.option,t=Lk([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension,n=e.dimensions;if(null!=t||n.length)return e.getDimension(null!=t?t:n.length-1)},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function e(e){Nk(r.color)&&!e.inRange&&(e.inRange={color:r.color.slice().reverse()}),e.inRange=e.inRange||{color:t.get(\"gradientColor\")},Pk(this.stateList,function(t){var n=e[t];if(b(n)){var i=kk(n,\"active\",l);i?(e[t]={},e[t][n]=i):delete e[t]}},this)}var t=this.ecModel,r=this.option,o={inRange:r.inRange,outOfRange:r.outOfRange},a=r.target||(r.target={}),s=r.controller||(r.controller={});i(a,o),i(s,o);var l=this.isCategory();e.call(this,a),e.call(this,s),(function(e,t,n){var i=e[t],r=e[n];i&&!r&&(r=e[n]={},Pk(i,function(e,t){if(kS.isValidType(t)){var n=kk(t,\"inactive\",l);null!=n&&(r[t]=n,\"color\"!==t||r.hasOwnProperty(\"opacity\")||r.hasOwnProperty(\"colorAlpha\")||(r.opacity=[0,0]))}}))}).call(this,a,\"inRange\",\"outOfRange\"),(function(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,i=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,r=this.get(\"inactiveColor\");Pk(this.stateList,function(o){var a=this.itemSize,s=e[o];s||(s=e[o]={color:l?r:[r]}),null==s.symbol&&(s.symbol=t&&n(t)||(l?\"roundRect\":[\"roundRect\"])),null==s.symbolSize&&(s.symbolSize=i&&n(i)||(l?a[0]:[a[0],a[0]])),s.symbol=Ik(s.symbol,function(e){return\"none\"===e||\"square\"===e?\"roundRect\":e});var u=s.symbolSize;if(null!=u){var c=-1/0;Dk(u,function(e){e>c&&(c=e)}),s.symbolSize=Ik(u,function(e){return Ek(e,[0,c],[0,a[0]],!0)})}},this)}).call(this,s)},resetItemSize:function(){this.itemSize=[parseFloat(this.get(\"itemWidth\")),parseFloat(this.get(\"itemHeight\"))]},isCategory:function(){return!!this.option.categories},setSelected:z,getValueState:z,getVisualMeta:z}),Ok=[20,140],Bk=Rk.extend({type:\"visualMap.continuous\",defaultOption:{align:\"auto\",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,t){Bk.superApply(this,\"optionUpdated\",arguments),this.resetExtent(),this.resetVisual(function(e){e.mappingMethod=\"linear\",e.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){Bk.superApply(this,\"resetItemSize\",arguments);var e=this.itemSize;\"horizontal\"===this._orient&&e.reverse(),(null==e[0]||isNaN(e[0]))&&(e[0]=Ok[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=Ok[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):y(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){Rk.prototype.completeVisualOption.apply(this,arguments),h(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=Ui((this.get(\"range\")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?\"inRange\":\"outOfRange\"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var i=[],r=n.getData();r.each(this.getDataDimension(r),function(t,n){e[0]<=t&&t<=e[1]&&i.push(n)},!0,this),t.push({seriesId:n.id,dataIndex:i})},this),t},getVisualMeta:function(e){function t(t,n){r.push({value:t,color:e(t,n)})}for(var n=Vf(0,0,this.getExtent()),i=Vf(0,0,this.option.range.slice()),r=[],o=0,a=0,s=i.length,l=n.length;a<l&&(!i.length||n[a]<=i[0]);a++)n[a]<i[o]&&t(n[a],\"outOfRange\");for(u=1;o<s;o++,u=0)u&&r.length&&t(i[o],\"outOfRange\"),t(i[o],\"inRange\");for(var u=1;a<l;a++)(!i.length||i[i.length-1]<n[a])&&(u&&(r.length&&t(r[r.length-1].value,\"outOfRange\"),u=0),t(n[a],\"outOfRange\"));var c=r.length;return{stops:r,outerColors:[c?r[0].color:\"transparent\",c?r[c-1].color:\"transparent\"]}}}),zk=ia({type:\"visualMap\",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t},render:function(e,t,n,i){this.visualMapModel=e,!1!==e.get(\"show\")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(e){var t=this.visualMapModel,n=Wy(t.get(\"padding\")||0),i=e.getBoundingRect();e.add(new gy({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:t.get(\"backgroundColor\"),stroke:t.get(\"borderColor\"),lineWidth:t.get(\"borderWidth\")}}))},getControllerVisual:function(e,t,n){function i(e){return s[e]}function r(e,t){s[e]=t}var o=(n=n||{}).forceState,a=this.visualMapModel,s={};if(\"symbol\"===t&&(s.symbol=a.get(\"itemSymbol\")),\"color\"===t){var l=a.get(\"contentColor\");s.color=l}var u=a.controllerVisuals[o||a.getValueState(e)];return h(kS.prepareVisualTypes(u),function(o){var a=u[o];n.convertOpacityToAlpha&&\"opacity\"===o&&(o=\"colorAlpha\",a=u.__alphaForOpacity),kS.dependsOn(o,t)&&a&&a.applyVisual(e,i,r)}),s[t]},positionGroup:function(e){var t=this.api;fr(e,this.visualMapModel.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})},doRender:z}),Fk=Hi,Vk=h,Hk=Math.min,Wk=Math.max,Gk=zk.extend({type:\"visualMap.continuous\",init:function(){Gk.superApply(this,\"init\",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._hoverLinkDataIndices=[]},doRender:function(e,t,n,i){i&&\"selectDataRange\"===i.type&&i.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get(\"orient\"),this._useHandle=e.get(\"calculable\"),this._resetInterval(),this._renderBar(t);var n=e.get(\"text\");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,n){if(t){var i=t[1-n];i=null!=i?i+\"\":\"\";var r=this.visualMapModel,o=r.get(\"textGap\"),a=r.itemSize,s=this._shapes.barGroup,l=this._applyTransform([a[0]/2,0===n?-o:a[1]+o],s),u=this._applyTransform(0===n?\"bottom\":\"top\",s),c=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new oy({style:{x:l[0],y:l[1],textVerticalAlign:\"horizontal\"===c?\"middle\":u,textAlign:\"horizontal\"===c?u:\"center\",text:i,textFont:d.getFont(),textFill:d.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,n=this._shapes,i=t.itemSize,r=this._orient,o=this._useHandle,a=Hf(t,this.api,i),s=n.barGroup=this._createBarGroup(a);s.add(n.outOfRange=Gf()),s.add(n.inRange=Gf(null,o?jf(this._orient):null,m(this._dragHandle,this,\"all\",!1),m(this._dragHandle,this,\"all\",!0)));var l=t.textStyleModel.getTextRect(\"国\"),u=Wk(l.width,l.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(s,0,i,u,r,a),this._createHandle(s,1,i,u,r,a)),this._createIndicator(s,i,u,r),e.add(s)},_createHandle:function(e,t,n,i,r){var o=m(this._dragHandle,this,t,!1),a=m(this._dragHandle,this,t,!0),s=Gf(function(e,t){return 0===e?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}(t,i),jf(this._orient),o,a);s.position[0]=n[0],e.add(s);var l=this.visualMapModel.textStyleModel,u=new oy({draggable:!0,drift:o,onmousemove:function(e){Im(e.event)},ondragend:a,style:{x:0,y:0,text:\"\",textFont:l.getFont(),textFill:l.getTextColor()}});this.group.add(u);var c=[\"horizontal\"===r?i/2:1.5*i,\"horizontal\"===r?0===t?-1.5*i:1.5*i:0===t?-i/2:i/2],d=this._shapes;d.handleThumbs[t]=s,d.handleLabelPoints[t]=c,d.handleLabels[t]=u},_createIndicator:function(e,t,n,i){var r=Gf([[0,0]],\"move\");r.position[0]=t[0],r.attr({invisible:!0,silent:!0}),e.add(r);var o=this.visualMapModel.textStyleModel,a=new oy({silent:!0,invisible:!0,style:{x:0,y:0,text:\"\",textFont:o.getFont(),textFill:o.getTextColor()}});this.group.add(a);var s=[\"horizontal\"===i?n/2:9,0],l=this._shapes;l.indicator=r,l.indicatorLabel=a,l.indicatorLabelPoint=s},_dragHandle:function(e,t,n,i){if(this._useHandle){if(this._dragging=!t,!t){var r=this._applyTransform([n,i],this._shapes.barGroup,!0);this._updateInterval(e,r[1]),this._updateView()}t===!this.visualMapModel.get(\"realtime\")&&this.api.dispatchAction({type:\"selectDataRange\",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():Uf(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),i=[0,e.itemSize[1]];this._handleEnds=[Fk(t[0],n,i,!0),Fk(t[1],n,i,!0)]},_updateInterval:function(e,t){var n=this.visualMapModel,i=this._handleEnds,r=[0,n.itemSize[1]];pC(t=t||0,i,r,e,0);var o=n.getExtent();this._dataInterval=[Fk(i[0],r,o,!0),Fk(i[1],r,o,!0)]},_updateView:function(e){var t=this.visualMapModel,n=t.getExtent(),i=this._shapes,r=[0,t.itemSize[1]],o=e?r:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,o,\"inRange\"),s=this._createBarVisual(n,n,r,\"outOfRange\");i.inRange.setStyle({fill:a.barColor,opacity:a.opacity}).setShape(\"points\",a.barPoints),i.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape(\"points\",s.barPoints),this._updateHandle(o,a)},_createBarVisual:function(e,t,n,i){var r={forceState:i,convertOpacityToAlpha:!0},o=this._makeColorGradient(e,r),a=[this.getControllerVisual(e[0],\"symbolSize\",r),this.getControllerVisual(e[1],\"symbolSize\",r)],s=this._createBarPoints(n,a);return{barColor:new wy(0,0,0,1,o),barPoints:s,handlesColor:[o[0].color,o[o.length-1].color]}},_makeColorGradient:function(e,t){var n=[],i=(e[1]-e[0])/100;n.push({color:this.getControllerVisual(e[0],\"color\",t),offset:0});for(var r=1;r<100;r++){var o=e[0]+i*r;if(o>e[1])break;n.push({color:this.getControllerVisual(o,\"color\",t),offset:r/100})}return n.push({color:this.getControllerVisual(e[1],\"color\",t),offset:1}),n},_createBarPoints:function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,n=this.visualMapModel.get(\"inverse\");return new Qg(\"horizontal\"!==t||n?\"horizontal\"===t&&n?{scale:\"bottom\"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:\"vertical\"!==t||n?{scale:\"left\"===e?[1,1]:[-1,1]}:{scale:\"left\"===e?[1,-1]:[-1,-1]}:{scale:\"bottom\"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,r=n.handleThumbs,o=n.handleLabels;Vk([0,1],function(a){var s=r[a];s.setStyle(\"fill\",t.handlesColor[a]),s.position[1]=e[a];var l=Pi(n.handleLabelPoints[a],Ni(s,this.group));o[a].setStyle({x:l[0],y:l[1],text:i.formatValueText(this._dataInterval[a]),textVerticalAlign:\"middle\",textAlign:this._applyTransform(\"horizontal\"===this._orient?0===a?\"bottom\":\"top\":\"left\",n.barGroup)})},this)}},_showIndicator:function(e,t,n,i){var r=this.visualMapModel,o=r.getExtent(),a=r.itemSize,s=Fk(e,o,[0,a[1]],!0),l=this._shapes,u=l.indicator;if(u){u.position[1]=s,u.attr(\"invisible\",!1),u.setShape(\"points\",function(e,t,n,i){return e?[[0,-Hk(t,Wk(n,0))],[6,0],[0,Hk(t,Wk(i-n,0))]]:[[0,0],[5,-5],[5,5]]}(!!n,i,s,a[1]));var c=this.getControllerVisual(e,\"color\",{convertOpacityToAlpha:!0});u.setStyle(\"fill\",c);var d=Pi(l.indicatorLabelPoint,Ni(u,this.group)),h=l.indicatorLabel;h.attr(\"invisible\",!1);var f=this._applyTransform(\"left\",l.barGroup),p=this._orient;h.setStyle({text:(n||\"\")+r.formatValueText(t),textVerticalAlign:\"horizontal\"===p?f:\"middle\",textAlign:\"horizontal\"===p?\"center\":f,x:d[0],y:d[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on(\"mousemove\",function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,i=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);i[1]=Hk(Wk(0,i[1]),n[1]),e._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}}).on(\"mouseout\",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on(\"mouseover\",this._hoverLinkFromSeriesMouseOver,this),e.on(\"mouseout\",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var n=this.visualMapModel;if(n.option.hoverLink){var i=[0,n.itemSize[1]],r=n.getExtent();e=Hk(Wk(i[0],e),i[1]);var o=function(e,t,n){var i=6,r=e.get(\"hoverLinkDataSize\");return r&&(i=Fk(r,t,n,!0)/2),i}(n,r,i),a=[e-o,e+o],s=Fk(e,i,r,!0),l=[Fk(a[0],i,r,!0),Fk(a[1],i,r,!0)];a[0]<i[0]&&(l[0]=-1/0),a[1]>i[1]&&(l[1]=1/0),t&&(l[0]===-1/0?this._showIndicator(s,l[1],\"< \",o):l[1]===1/0?this._showIndicator(s,l[0],\"> \",o):this._showIndicator(s,s,\"≈ \",o));var u=this._hoverLinkDataIndices,c=[];(t||Uf(n))&&(c=this._hoverLinkDataIndices=n.findTargetDataIndices(l));var d=function(e,t){function n(e,t,n){for(var i=0,r=e.length;i<r;i++)for(var o=e[i].seriesId,a=rn(e[i].dataIndex),s=n&&n[o],l=0,u=a.length;l<u;l++){var c=a[l];s&&s[c]?s[c]=null:(t[o]||(t[o]={}))[c]=1}}function i(e,t){var n=[];for(var r in e)if(e.hasOwnProperty(r)&&null!=e[r])if(t)n.push(+r);else{var o=i(e[r],!0);o.length&&n.push({seriesId:r,dataIndex:o})}return n}var r={},o={};return n(e||[],r),n(t||[],o,r),[i(r),i(o)]}(u,c);this._dispatchHighDown(\"downplay\",Wf(d[0])),this._dispatchHighDown(\"highlight\",Wf(d[1]))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,n=this.visualMapModel;if(t&&null!=t.dataIndex){var i=this.ecModel.getSeriesByIndex(t.seriesIndex);if(n.isTargetSeries(i)){var r=i.getData(t.dataType),o=r.get(n.getDataDimension(r),t.dataIndex,!0);isNaN(o)||this._showIndicator(o,o)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr(\"invisible\",!0),e.indicatorLabel&&e.indicatorLabel.attr(\"invisible\",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown(\"downplay\",Wf(e)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off(\"mouseover\",this._hoverLinkFromSeriesMouseOver),e.off(\"mouseout\",this._hideIndicator)},_applyTransform:function(e,t,n,i){var r=Ni(t,i?null:this.group);return Dy[y(e)?\"applyTransform\":\"transformDirection\"](e,r,n)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});$o({type:\"selectDataRange\",event:\"dataRangeSelected\",update:\"update\"},function(e,t){t.eachComponent({mainType:\"visualMap\",query:e},function(t){t.setSelected(e.selected)})}),Yo(Mk);var Uk=Rk.extend({type:\"visualMap.piecewise\",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:\"auto\",itemWidth:20,itemHeight:14,itemSymbol:\"roundRect\",pieceList:null,categories:null,splitNumber:5,selectedMode:\"multiple\",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){Uk.superApply(this,\"optionUpdated\",arguments),this._pieceList=[],this.resetExtent();var i=this._mode=this._determineMode();jk[this._mode].call(this),this._resetSelected(e,t);var r=this.option.categories;this.resetVisual(function(e,t){\"categories\"===i?(e.mappingMethod=\"category\",e.categories=n(r)):(e.dataExtent=this.getExtent(),e.mappingMethod=\"piecewise\",e.pieceList=f(this._pieceList,function(e){return e=n(e),\"inRange\"!==t&&(e.visual=null),e}))})},completeVisualOption:function(){function e(e,t,n){return e&&e[t]&&(_(e[t])?e[t].hasOwnProperty(n):e[t]===n)}var t=this.option,n={},i=kS.listVisualTypes(),r=this.isCategory();h(t.pieces,function(e){h(i,function(t){e.hasOwnProperty(t)&&(n[t]=1)})}),h(n,function(n,i){var o=0;h(this.stateList,function(n){o|=e(t,n,i)||e(t.target,n,i)},this),!o&&h(this.stateList,function(e){(t[e]||(t[e]={}))[i]=kk(i,\"inRange\"===e?\"active\":\"inactive\",r)})},this),Rk.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var n=this.option,i=this._pieceList,r=(t?n:e).selected||{};if(n.selected=r,h(i,function(e,t){var n=this.getSelectedMapKey(e);r.hasOwnProperty(n)||(r[n]=!0)},this),\"single\"===n.selectedMode){var o=!1;h(i,function(e,t){var n=this.getSelectedMapKey(e);r[n]&&(o?r[n]=!1:o=!0)},this)}},getSelectedMapKey:function(e){return\"categories\"===this._mode?e.value+\"\":e.index+\"\"},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?\"pieces\":this.option.categories?\"categories\":\"splitNumber\"},setSelected:function(e){this.option.selected=n(e)},getValueState:function(e){var t=kS.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?\"inRange\":\"outOfRange\"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var i=[],r=n.getData();r.each(this.getDataDimension(r),function(t,n){kS.findPieceIndex(t,this._pieceList)===e&&i.push(n)},!0,this),t.push({seriesId:n.id,dataIndex:i})},this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},getVisualMeta:function(e){function t(t,o){var a=r.getRepresentValue({interval:t});o||(o=r.getValueState(a));var s=e(a,o);t[0]===-1/0?i[0]=s:t[1]===1/0?i[1]=s:n.push({value:t[0],color:s},{value:t[1],color:s})}if(!this.isCategory()){var n=[],i=[],r=this,o=this._pieceList.slice();if(o.length){var a=o[0].interval[0];a!==-1/0&&o.unshift({interval:[-1/0,a]}),(a=o[o.length-1].interval[1])!==1/0&&o.push({interval:[a,1/0]})}else o.push({interval:[-1/0,1/0]});var s=-1/0;return h(o,function(e){var n=e.interval;n&&(n[0]>s&&t([s,n[0]],\"outOfRange\"),t(n.slice()),s=n[1])},this),{stops:n,outerColors:i}}}}),jk={splitNumber:function(){var e=this.option,t=this._pieceList,n=Math.min(e.precision,20),i=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(n)!==o&&n<5;)n++;e.precision=n,o=+o.toFixed(n);var a=0;e.minOpen&&t.push({index:a++,interval:[-1/0,i[0]],close:[0,0]});for(var s=i[0],l=a+r;a<l;s+=o){var u=a===r-1?i[1]:s+o;t.push({index:a++,interval:[s,u],close:[1,1]})}e.maxOpen&&t.push({index:a++,interval:[i[1],1/0],close:[0,0]}),tr(t),h(t,function(e){e.text=this.formatValueText(e.interval)},this)},categories:function(){var e=this.option;h(e.categories,function(e){this._pieceList.push({text:this.formatValueText(e,!0),value:e})},this),qf(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;h(e.pieces,function(e,n){_(e)||(e={value:e});var i={text:\"\",index:n};if(null!=e.label&&(i.text=e.label),e.hasOwnProperty(\"value\")){var r=i.value=e.value;i.interval=[r,r],i.close=[1,1]}else{for(var o=i.interval=[],a=i.close=[0,0],s=[1,0,1],l=[-1/0,1/0],u=[],c=0;c<2;c++){for(var d=[[\"gte\",\"gt\",\"min\"],[\"lte\",\"lt\",\"max\"]][c],h=0;h<3&&null==o[c];h++)o[c]=e[d[h]],a[c]=s[h],u[c]=2===h;null==o[c]&&(o[c]=l[c])}u[0]&&o[1]===1/0&&(a[0]=0),u[1]&&o[0]===-1/0&&(a[1]=0),o[0]===o[1]&&a[0]&&a[1]&&(i.value=o[0])}i.visual=kS.retrieveVisuals(e),t.push(i)},this),qf(e,t),tr(t),h(t,function(e){var t=e.close;e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,[[\"<\",\"≤\"][t[1]],[\">\",\"≥\"][t[0]]])},this)}};zk.extend({type:\"visualMap.piecewise\",doRender:function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get(\"textGap\"),i=t.textStyleModel,r=i.getFont(),o=i.getTextColor(),a=this._getItemAlign(),s=t.itemSize,l=this._getViewData(),u=l.endsText,c=T(t.get(\"showLabel\",!0),!u);u&&this._renderEndsText(e,u[0],s,c,a),h(l.viewPieceList,function(i){var l=i.piece,u=new Qg;u.onclick=m(this._onItemClick,this,l),this._enableHoverLink(u,i.indexInModelPieceList);var d=t.getRepresentValue(l);if(this._createItemSymbol(u,d,[0,0,s[0],s[1]]),c){var h=this.visualMapModel.getValueState(d);u.add(new oy({style:{x:\"right\"===a?-n:s[0]+n,y:s[1]/2,text:l.text,textVerticalAlign:\"middle\",textAlign:a,textFont:r,textFill:o,opacity:\"outOfRange\"===h?.5:1}}))}e.add(u)},this),u&&this._renderEndsText(e,u[1],s,c,a),Ky(t.get(\"orient\"),e,t.get(\"itemGap\")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(e,t){function n(e){var n=this.visualMapModel;n.option.hoverLink&&this.api.dispatchAction({type:e,batch:Wf(n.findTargetDataIndices(t))})}e.on(\"mouseover\",m(n,this,\"highlight\")).on(\"mouseout\",m(n,this,\"downplay\"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if(\"vertical\"===t.orient)return Hf(e,this.api,e.itemSize);var n=t.align;return n&&\"auto\"!==n||(n=\"left\"),n},_renderEndsText:function(e,t,n,i,r){if(t){var o=new Qg,a=this.visualMapModel.textStyleModel;o.add(new oy({style:{x:i?\"right\"===r?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:\"middle\",textAlign:i?r:\"center\",text:t,textFont:a.getFont(),textFill:a.getTextColor()}})),e.add(o)}},_getViewData:function(){var e=this.visualMapModel,t=f(e.getPieceList(),function(e,t){return{piece:e,indexInModelPieceList:t}}),n=e.get(\"text\"),i=e.get(\"orient\"),r=e.get(\"inverse\");return(\"horizontal\"===i?r:!r)?t.reverse():n&&(n=n.slice().reverse()),{viewPieceList:t,endsText:n}},_createItemSymbol:function(e,t,n){e.add(Ua(this.getControllerVisual(t,\"symbol\"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,\"color\")))},_onItemClick:function(e){var t=this.visualMapModel,i=t.option,r=n(i.selected),o=t.getSelectedMapKey(e);\"single\"===i.selectedMode?(r[o]=!0,h(r,function(e,t){r[t]=t===o})):r[o]=!r[o],this.api.dispatchAction({type:\"selectDataRange\",from:this.uid,visualMapId:this.visualMapModel.id,selected:r})}}),Yo(Mk);var qk=ir,Zk=or,Yk=na({type:\"marker\",dependencies:[\"series\",\"grid\",\"polar\",\"geo\"],init:function(e,t,n,i){this.mergeDefaultAndTheme(e,n),this.mergeOption(e,n,i.createdBySelf,!0)},isAnimationEnabled:function(){if(ig.node)return!1;var e=this.__hostSeries;return this.getShallow(\"animation\")&&e&&e.isAnimationEnabled()},mergeOption:function(e,t,n,i){var r=this.constructor,a=this.mainType+\"Model\";n||t.eachSeries(function(e){var n=e.get(this.mainType),s=e[a];n&&n.data?(s?s.mergeOption(n,t,!0):(i&&Zf(n),h(n.data,function(e){e instanceof Array?(Zf(e[0]),Zf(e[1])):Zf(e)}),o(s=new r(n,this,t),{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0}),s.__hostSeries=e),e[a]=s):e[a]=null},this)},formatTooltip:function(e){var t=this.getData(),n=this.getRawValue(e),i=y(n)?f(n,qk).join(\", \"):qk(n),r=t.getName(e),o=Zk(this.name);return(null!=n||r)&&(o+=\"<br />\"),r&&(o+=Zk(r),null!=n&&(o+=\" : \")),null!=n&&(o+=Zk(i)),o},getData:function(){return this._data},setData:function(e){this._data=e}});c(Yk,Ox),Yk.extend({type:\"markPoint\",defaultOption:{zlevel:0,z:5,symbol:\"pin\",symbolSize:50,tooltip:{trigger:\"item\"},label:{show:!0,position:\"inside\"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var Xk=l,$k=v,Kk={min:$k(Yf,\"min\"),max:$k(Yf,\"max\"),average:$k(Yf,\"average\")},Jk=ia({type:\"marker\",init:function(){this.markerGroupMap=O()},render:function(e,t,n){var i=this.markerGroupMap;i.each(function(e){e.__keep=!1});var r=this.type+\"Model\";t.eachSeries(function(e){var i=e[r];i&&this.renderSeries(e,i,t,n)},this),i.each(function(e){!e.__keep&&this.group.remove(e.group)},this)},renderSeries:function(){}});Jk.extend({type:\"markPoint\",updateTransform:function(e,t,n){t.eachSeries(function(e){var t=e.markPointModel;t&&(ep(t.getData(),e,n),this.markerGroupMap.get(e.id).updateLayout(t))},this)},renderSeries:function(e,t,n,i){var r=e.coordinateSystem,o=e.id,a=e.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,new es),u=tp(r,e,t);t.setData(u),ep(t.getData(),e,i),u.each(function(e){var n=u.getItemModel(e),i=n.getShallow(\"symbolSize\");\"function\"==typeof i&&(i=i(t.getRawValue(e),t.getDataParams(e))),u.setItemVisual(e,{symbolSize:i,color:n.get(\"itemStyle.color\")||a.getVisual(\"color\"),symbol:n.getShallow(\"symbol\")})}),l.updateData(u),this.group.add(l.group),u.eachItemGraphicEl(function(e){e.traverse(function(e){e.dataModel=t})}),l.__keep=!0,l.group.silent=t.get(\"silent\")||e.get(\"silent\")}}),Yo(function(e){e.markPoint=e.markPoint||{}}),Yk.extend({type:\"markLine\",defaultOption:{zlevel:0,z:5,symbol:[\"circle\",\"arrow\"],symbolSize:[8,16],precision:2,tooltip:{trigger:\"item\"},label:{show:!0,position:\"end\"},lineStyle:{type:\"dashed\"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:\"linear\"}});var Qk=function(e,t,r,a){var s=e.getData(),l=a.type;if(!y(a)&&(\"min\"===l||\"max\"===l||\"average\"===l||null!=a.xAxis||null!=a.yAxis)){var u,c;null!=a.yAxis||null!=a.xAxis?(t.getAxis(u=null!=a.yAxis?\"y\":\"x\"),c=T(a.yAxis,a.xAxis)):c=Qf(s,u=$f(a,s,t,e).valueDataDim,l);var d=\"x\"===u?0:1,h=1-d,f=n(a),p={};f.type=null,f.coord=[],p.coord=[],f.coord[h]=-1/0,p.coord[h]=1/0;var g=r.get(\"precision\");g>=0&&\"number\"==typeof c&&(c=+c.toFixed(Math.min(g,20))),f.coord[d]=p.coord[d]=c,a=[f,p,{type:l,valueIndex:a.valueIndex,value:c}]}return(a=[Xf(e,a[0]),Xf(e,a[1]),o({},a[2])])[2].type=a[2].type||\"\",i(a[2],a[0]),i(a[2],a[1]),a};Jk.extend({type:\"markLine\",updateTransform:function(e,t,n){t.eachSeries(function(e){var t=e.markLineModel;if(t){var i=t.getData(),r=t.__from,o=t.__to;r.each(function(t){op(r,t,!0,e,n),op(o,t,!1,e,n)}),i.each(function(e){i.setItemLayout(e,[r.getItemLayout(e),o.getItemLayout(e)])}),this.markerGroupMap.get(e.id).updateLayout()}},this)},renderSeries:function(e,t,n,i){function r(t,n,r){var o=t.getItemModel(n);op(t,n,r,e,i),t.setItemVisual(n,{symbolSize:o.get(\"symbolSize\")||g[r?0:1],symbol:o.get(\"symbol\",!0)||p[r?0:1],color:o.get(\"itemStyle.color\")||s.getVisual(\"color\")})}var o=e.coordinateSystem,a=e.id,s=e.getData(),l=this.markerGroupMap,u=l.get(a)||l.set(a,new Pu);this.group.add(u.group);var c=ap(o,e,t),d=c.from,h=c.to,f=c.line;t.__from=d,t.__to=h,t.setData(f);var p=t.get(\"symbol\"),g=t.get(\"symbolSize\");y(p)||(p=[p,p]),\"number\"==typeof g&&(g=[g,g]),c.from.each(function(e){r(d,e,!0),r(h,e,!1)}),f.each(function(e){var t=f.getItemModel(e).get(\"lineStyle.color\");f.setItemVisual(e,{color:t||d.getItemVisual(e,\"color\")}),f.setItemLayout(e,[d.getItemLayout(e),h.getItemLayout(e)]),f.setItemVisual(e,{fromSymbolSize:d.getItemVisual(e,\"symbolSize\"),fromSymbol:d.getItemVisual(e,\"symbol\"),toSymbolSize:h.getItemVisual(e,\"symbolSize\"),toSymbol:h.getItemVisual(e,\"symbol\")})}),u.updateData(f),c.line.eachItemGraphicEl(function(e,n){e.traverse(function(e){e.dataModel=t})}),u.__keep=!0,u.group.silent=t.get(\"silent\")||e.get(\"silent\")}}),Yo(function(e){e.markLine=e.markLine||{}}),Yk.extend({type:\"markArea\",defaultOption:{zlevel:0,z:1,tooltip:{trigger:\"item\"},animation:!1,label:{show:!0,position:\"top\"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:\"top\"}}}});var eA=function(e,t,n,i){var o=Xf(e,i[0]),a=Xf(e,i[1]),s=T,l=o.coord,u=a.coord;l[0]=s(l[0],-1/0),l[1]=s(l[1],-1/0),u[0]=s(u[0],1/0),u[1]=s(u[1],1/0);var c=r([{},o,a]);return c.coord=[o.coord,a.coord],c.x0=o.x,c.y0=o.y,c.x1=a.x,c.y1=a.y,c},tA=[[\"x0\",\"y0\"],[\"x1\",\"y0\"],[\"x1\",\"y1\"],[\"x0\",\"y1\"]];Jk.extend({type:\"markArea\",updateTransform:function(e,t,n){t.eachSeries(function(e){var t=e.markAreaModel;if(t){var i=t.getData();i.each(function(t){var r=f(tA,function(r){return cp(i,t,r,e,n)});i.setItemLayout(t,r),i.getItemGraphicEl(t).setShape(\"points\",r)})}},this)},renderSeries:function(e,t,n,i){var r=e.coordinateSystem,o=e.name,s=e.getData(),l=this.markerGroupMap,u=l.get(o)||l.set(o,{group:new Qg});this.group.add(u.group),u.__keep=!0;var c=function(e,t,n){var i,r;e?(i=f(e&&e.dimensions,function(e){var n=t.getData();return a({name:e},n.getDimensionInfo(n.mapDimension(e))||{})}),r=new jb(f([\"x0\",\"y0\",\"x1\",\"y1\"],function(e,t){return{name:e,type:i[t%2].type}}),n)):r=new jb(i=[{name:\"value\",type:\"float\"}],n);var o=f(n.get(\"data\"),v(eA,t,e,n));return e&&(o=g(o,v(up,e))),r.initData(o,null,e?function(e,t,n,i){return e.coord[Math.floor(i/2)][i%2]}:function(e){return e.value}),r.hasItemOption=!0,r}(r,e,t);t.setData(c),c.each(function(t){c.setItemLayout(t,f(tA,function(n){return cp(c,t,n,e,i)})),c.setItemVisual(t,{color:s.getVisual(\"color\")})}),c.diff(u.__data).add(function(e){var t=new fy({shape:{points:c.getItemLayout(e)}});c.setItemGraphicEl(e,t),u.group.add(t)}).update(function(e,n){var i=u.__data.getItemGraphicEl(n);Ii(i,{shape:{points:c.getItemLayout(e)}},t,e),u.group.add(i),c.setItemGraphicEl(e,i)}).remove(function(e){var t=u.__data.getItemGraphicEl(e);u.group.remove(t)}).execute(),c.eachItemGraphicEl(function(e,n){var i=c.getItemModel(n),r=i.getModel(\"label\"),o=i.getModel(\"emphasis.label\"),s=c.getItemVisual(n,\"color\");e.useStyle(a(i.getModel(\"itemStyle\").getItemStyle(),{fill:Le(s,.4),stroke:s})),e.hoverStyle=i.getModel(\"emphasis.itemStyle\").getItemStyle(),_i(e.style,e.hoverStyle,r,o,{labelFetcher:t,labelDataIndex:n,defaultText:c.getName(n)||\"\",isRectText:!0,autoColor:s}),bi(e,{}),e.dataModel=t}),u.__data=c,u.group.silent=t.get(\"silent\")||e.get(\"silent\")}}),Yo(function(e){e.markArea=e.markArea||{}}),ex.registerSubTypeDefaulter(\"timeline\",function(){return\"slider\"}),$o({type:\"timelineChange\",event:\"timelineChanged\",update:\"prepareAndUpdate\"},function(e,t){var n=t.getComponent(\"timeline\");return n&&null!=e.currentIndex&&(n.setCurrentIndex(e.currentIndex),!n.get(\"loop\",!0)&&n.isIndexMax()&&n.setPlayState(!1)),t.resetOption(\"timeline\"),a({currentIndex:n.option.currentIndex},e)}),$o({type:\"timelinePlayChange\",event:\"timelinePlayChanged\",update:\"update\"},function(e,t){var n=t.getComponent(\"timeline\");n&&null!=e.playState&&n.setPlayState(e.playState)});var nA=ex.extend({type:\"timeline\",layoutMode:\"box\",defaultOption:{zlevel:0,z:4,show:!0,axisType:\"time\",realtime:!0,left:\"20%\",top:null,right:\"20%\",bottom:0,width:null,height:40,padding:5,controlPosition:\"left\",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:\"#000\"},data:[]},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),this._initData()},mergeOption:function(e){nA.superApply(this,\"mergeOption\",arguments),this._initData()},setCurrentIndex:function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e>=t&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(e){this.option.autoPlay=!!e},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var e=this.option,t=e.data||[],i=e.axisType,r=this._names=[];if(\"category\"===i){var o=[];h(t,function(e,t){var i,a=an(e);_(e)?(i=n(e)).value=t:i=t,o.push(i),b(a)||null!=a&&!isNaN(a)||(a=\"\"),r.push(a+\"\")}),t=o}(this._data=new jb([{name:\"value\",type:{category:\"ordinal\",time:\"time\"}[i]||\"number\"}],this)).initData(t,r)},getData:function(){return this._data},getCategories:function(){if(\"category\"===this.get(\"axisType\"))return this._names.slice()}});c(nA.extend({type:\"timeline.slider\",defaultOption:{backgroundColor:\"rgba(0,0,0,0)\",borderColor:\"#ccc\",borderWidth:0,orient:\"horizontal\",inverse:!1,tooltip:{trigger:\"item\"},symbol:\"emptyCircle\",symbolSize:10,lineStyle:{show:!0,width:2,color:\"#304654\"},label:{position:\"auto\",show:!0,interval:\"auto\",rotate:0,color:\"#304654\"},itemStyle:{color:\"#304654\",borderWidth:1},checkpointStyle:{symbol:\"circle\",symbolSize:13,color:\"#c23531\",borderWidth:5,borderColor:\"rgba(194,53,49, 0.5)\",animation:!0,animationDuration:300,animationEasing:\"quinticInOut\"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:\"left\",playIcon:\"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z\",stopIcon:\"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z\",nextIcon:\"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z\",prevIcon:\"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z\",color:\"#304654\",borderColor:\"#304654\",borderWidth:1},emphasis:{label:{show:!0,color:\"#c23531\"},itemStyle:{color:\"#c23531\"},controlStyle:{color:\"#c23531\",borderColor:\"#c23531\",borderWidth:2}},data:[]}}),Ox);var iA=Vx.extend({type:\"timeline\"}),rA=function(e,t,n,i){I_.call(this,e,t,n),this.type=i||\"value\",this.model=null};rA.prototype={constructor:rA,getLabelInterval:function(){var e=this.model,t=e.getModel(\"label\"),n=t.get(\"interval\");return null!=n&&\"auto\"!=n||(n=this._autoLabelInterval)||(n=this._autoLabelInterval=Va(f(this.scale.getTicks(),this.dataToCoord,this),Ha(this,t.get(\"formatter\")),t.getFont(),\"horizontal\"===e.get(\"orient\")?0:90,t.get(\"rotate\"))),n},isLabelIgnored:function(e){if(\"category\"===this.type){var t=this.getLabelInterval();return\"function\"==typeof t&&!t(e,this.scale.getLabel(e))||e%(t+1)}}},u(rA,I_);var oA=m,aA=h,sA=Math.PI;iA.extend({type:\"timeline.slider\",init:function(e,t){this.api=t},render:function(e,t,n,i){if(this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get(\"show\",!0)){var r=this._layout(e,n),o=this._createGroup(\"mainGroup\"),a=this._createGroup(\"labelGroup\"),s=this._axis=this._createAxis(r,e);e.formatTooltip=function(e){return or(s.scale.getLabel(e))},aA([\"AxisLine\",\"AxisTick\",\"Control\",\"CurrentPointer\"],function(t){this[\"_render\"+t](r,o,s,e)},this),this._renderAxisLabel(r,a,s,e),this._position(r,e)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(e,t){var n=e.get(\"label.position\"),i=e.get(\"orient\"),r=function(e,t){return hr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get(\"padding\"))}(e,t);null==n||\"auto\"===n?n=\"horizontal\"===i?r.y+r.height/2<t.getHeight()/2?\"-\":\"+\":r.x+r.width/2<t.getWidth()/2?\"+\":\"-\":isNaN(n)&&(n={horizontal:{top:\"-\",bottom:\"+\"},vertical:{left:\"-\",right:\"+\"}}[i][n]);var o={horizontal:\"center\",vertical:n>=0||\"+\"===n?\"left\":\"right\"},a={horizontal:n>=0||\"+\"===n?\"top\":\"bottom\",vertical:\"middle\"},s={horizontal:0,vertical:sA/2},l=\"vertical\"===i?r.height:r.width,u=e.getModel(\"controlStyle\"),c=u.get(\"show\",!0),d=c?u.get(\"itemSize\"):0,h=c?u.get(\"itemGap\"):0,f=d+h,p=e.get(\"label.rotate\")||0;p=p*sA/180;var g,m,v,y,x=u.get(\"position\",!0),b=c&&u.get(\"showPlayBtn\",!0),_=c&&u.get(\"showPrevBtn\",!0),w=c&&u.get(\"showNextBtn\",!0),S=0,C=l;return\"left\"===x||\"bottom\"===x?(b&&(g=[0,0],S+=f),_&&(m=[S,0],S+=f),w&&(v=[C-d,0],C-=f)):(b&&(g=[C-d,0],C-=f),_&&(m=[0,0],S+=f),w&&(v=[C-d,0],C-=f)),y=[S,C],e.get(\"inverse\")&&y.reverse(),{viewRect:r,mainLength:l,orient:i,rotation:s[i],labelRotation:p,labelPosOpt:n,labelAlign:e.get(\"label.align\")||o[i],labelBaseline:e.get(\"label.verticalAlign\")||e.get(\"label.baseline\")||a[i],playPosition:g,prevBtnPosition:m,nextBtnPosition:v,axisExtent:y,controlSize:d,controlGap:h}},_position:function(e,t){function n(e){var t=e.position;e.origin=[d[0][0]-t[0],d[1][0]-t[1]]}function i(e){return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function r(e,t,n,i,r){e[i]+=n[i][r]-t[i][r]}var o=this._mainGroup,a=this._labelGroup,s=e.viewRect;if(\"vertical\"===e.orient){var l=ae(),u=s.x,c=s.y+s.height;ce(l,l,[-u,-c]),de(l,l,-sA/2),ce(l,l,[u,c]),(s=s.clone()).applyTransform(l)}var d=i(s),h=i(o.getBoundingRect()),f=i(a.getBoundingRect()),p=o.position,g=a.position;g[0]=p[0]=d[0][0];var m=e.labelPosOpt;if(isNaN(m))r(p,h,d,1,v=\"+\"===m?0:1),r(g,f,d,1,1-v);else{var v=m>=0?0:1;r(p,h,d,1,v),g[1]=p[1]+m}o.attr(\"position\",p),a.attr(\"position\",g),o.rotation=a.rotation=e.rotation,n(o),n(a)},_createAxis:function(e,t){var n=t.getData(),i=t.get(\"axisType\"),r=Fa(t,i),o=n.getDataExtent(\"value\");r.setExtent(o[0],o[1]),this._customizeScale(r,n),r.niceTicks();var a=new rA(\"value\",r,e.axisExtent,i);return a.model=t,a},_customizeScale:function(e,t){e.getTicks=function(){return t.mapArray([\"value\"],function(e){return e})},e.getTicksLabels=function(){return f(this.getTicks(),e.getLabel,e)}},_createGroup:function(e){var t=this[\"_\"+e]=new Qg;return this.group.add(t),t},_renderAxisLine:function(e,t,n,i){var r=n.getExtent();i.get(\"lineStyle.show\")&&t.add(new my({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:o({lineCap:\"round\"},i.getModel(\"lineStyle\").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(e,t,n,i){var r=i.getData(),o=n.scale.getTicks();aA(o,function(e,o){var a=n.dataToCoord(e),s=r.getItemModel(o),l=s.getModel(\"itemStyle\"),u=s.getModel(\"emphasis.itemStyle\"),c={position:[a,0],onclick:oA(this._changeTimeline,this,o)},d=pp(s,l,t,c);bi(d,u.getItemStyle()),s.get(\"tooltip\")?(d.dataIndex=o,d.dataModel=i):d.dataIndex=d.dataModel=null},this)},_renderAxisLabel:function(e,t,n,i){var r=i.getModel(\"label\");if(r.get(\"show\")){var o=i.getData(),a=n.scale.getTicks(),s=Ha(n,r.get(\"formatter\")),l=n.getLabelInterval();aA(a,function(i,r){if(!n.isLabelIgnored(r,l)){var a=o.getItemModel(r),u=a.getModel(\"label\"),c=a.getModel(\"emphasis.label\"),d=n.dataToCoord(i),h=new oy({position:[d,0],rotation:e.labelRotation-e.rotation,onclick:oA(this._changeTimeline,this,r),silent:!1});wi(h.style,u,{text:s[r],textAlign:e.labelAlign,textVerticalAlign:e.labelBaseline}),t.add(h),bi(h,wi({},c))}},this)}},_renderControl:function(e,t,n,i){function r(e,n,r,c){if(e){var d=fp(i,n,u,{position:e,origin:[o/2,0],rotation:c?-a:0,rectHover:!0,style:s,onclick:r});t.add(d),bi(d,l)}}var o=e.controlSize,a=e.rotation,s=i.getModel(\"controlStyle\").getItemStyle(),l=i.getModel(\"emphasis.controlStyle\").getItemStyle(),u=[0,-o/2,o,o],c=i.getPlayState(),d=i.get(\"inverse\",!0);r(e.nextBtnPosition,\"controlStyle.nextIcon\",oA(this._changeTimeline,this,d?\"-\":\"+\")),r(e.prevBtnPosition,\"controlStyle.prevIcon\",oA(this._changeTimeline,this,d?\"+\":\"-\")),r(e.playPosition,\"controlStyle.\"+(c?\"stopIcon\":\"playIcon\"),oA(this._handlePlayClick,this,!c),!0)},_renderCurrentPointer:function(e,t,n,i){var r=i.getData(),o=i.getCurrentIndex(),a=r.getItemModel(o).getModel(\"checkpointStyle\"),s=this;this._currentPointer=pp(a,a,this._mainGroup,{},this._currentPointer,{onCreate:function(e){e.draggable=!0,e.drift=oA(s._handlePointerDrag,s),e.ondragend=oA(s._handlePointerDragend,s),gp(e,o,n,i,!0)},onUpdate:function(e){gp(e,o,n,i)}})},_handlePlayClick:function(e){this._clearTimer(),this.api.dispatchAction({type:\"timelinePlayChange\",playState:e,from:this.uid})},_handlePointerDrag:function(e,t,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},_pointerChangeTimeline:function(e,t){var n=this._toAxisCoord(e)[0],i=Ui(this._axis.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var r=this._findNearestTick(n),o=this.model;(t||r!==o.getCurrentIndex()&&o.get(\"realtime\"))&&this._changeTimeline(r)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(oA(function(){var e=this.model;this._changeTimeline(e.getCurrentIndex()+(e.get(\"rewind\",!0)?-1:1))},this),this.model.get(\"playInterval\")))},_toAxisCoord:function(e){return Pi(e,this._mainGroup.getLocalTransform(),!0)},_findNearestTick:function(e){var t,n=this.model.getData(),i=1/0,r=this._axis;return n.each([\"value\"],function(n,o){var a=r.dataToCoord(n),s=Math.abs(a-e);s<i&&(i=s,t=o)}),t},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(e){var t=this.model.getCurrentIndex();\"+\"===e?e=t+1:\"-\"===e&&(e=t-1),this.api.dispatchAction({type:\"timelineChange\",currentIndex:e,from:this.uid})}}),Yo(function(e){var t=e&&e.timeline;y(t)||(t=t?[t]:[]),h(t,function(e){e&&function(e){var t=e.type,n={number:\"value\",time:\"time\"};if(n[t]&&(e.axisType=n[t],delete e.type),dp(e),hp(e,\"controlPosition\")){var i=e.controlStyle||(e.controlStyle={});hp(i,\"position\")||(i.position=e.controlPosition),\"none\"!==i.position||hp(i,\"show\")||(i.show=!1,delete i.position),delete e.controlPosition}h(e.data||[],function(e){_(e)&&!y(e)&&(!hp(e,\"value\")&&hp(e,\"name\")&&(e.value=e.name),dp(e))})}(e)})});var lA=na({type:\"toolbox\",layoutMode:{type:\"box\",ignoreSize:!0},mergeDefaultAndTheme:function(e){lA.superApply(this,\"mergeDefaultAndTheme\",arguments),h(this.option.feature,function(e,t){var n=yf(t);n&&i(e,n.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:\"horizontal\",left:\"right\",top:\"top\",backgroundColor:\"transparent\",borderColor:\"#ccc\",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:\"#666\",color:\"none\"},emphasis:{iconStyle:{borderColor:\"#3E98C5\"}}}});ia({type:\"toolbox\",render:function(e,t,n,i){function r(r,a){var s,d=c[r],h=c[a],f=new Bi(l[d],e,e.ecModel);if(d&&!h){if(function(e){return 0===e.indexOf(\"my\")}(d))s={model:f,onclick:f.option.onclick,featureName:d};else{var p=yf(d);if(!p)return;s=new p(f,t,n)}u[d]=s}else{if(!(s=u[h]))return;s.model=f,s.ecModel=t,s.api=n}d||!h?f.get(\"show\")&&!s.unusable?(o(f,s,d),f.setIconStatus=function(e,t){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[e]=t,i[e]&&i[e].trigger(t)},s.render&&s.render(f,t,n,i)):s.remove&&s.remove(t,n):s.dispose&&s.dispose(t,n)}function o(i,r,o){var l=i.getModel(\"iconStyle\"),u=i.getModel(\"emphasis.iconStyle\"),c=r.getIcons?r.getIcons():i.get(\"icon\"),d=i.get(\"title\")||{};if(\"string\"==typeof c){var f=c,p=d;d={},(c={})[o]=f,d[o]=p}var g=i.iconPaths={};h(c,function(o,c){var h=Oi(o,{},{x:-s/2,y:-s/2,width:s,height:s});h.setStyle(l.getItemStyle()),h.hoverStyle=u.getItemStyle(),bi(h),e.get(\"showTitle\")&&(h.__title=d[c],h.on(\"mouseover\",function(){var e=u.getItemStyle();h.setStyle({text:d[c],textPosition:e.textPosition||\"bottom\",textFill:e.fill||e.stroke||\"#000\",textAlign:e.textAlign||\"center\"})}).on(\"mouseout\",function(){h.setStyle({textFill:null})})),h.trigger(i.get(\"iconStatus.\"+c)||\"normal\"),a.add(h),h.on(\"click\",m(r.onclick,r,t,n,c)),g[c]=h})}var a=this.group;if(a.removeAll(),e.get(\"show\")){var s=+e.get(\"itemSize\"),l=e.get(\"feature\")||{},u=this._features||(this._features={}),c=[];h(l,function(e,t){c.push(t)}),new la(this._featureNames||[],c).add(r).update(r).remove(v(r,null)).execute(),this._featureNames=c,function(e,t,n){var i=t.getBoxLayoutParams(),r=t.get(\"padding\"),o={width:n.getWidth(),height:n.getHeight()},a=hr(i,o,r);Ky(t.get(\"orient\"),e,t.get(\"itemGap\"),a.width,a.height),fr(e,i,o,r)}(a,e,n),a.add(Ih(a.getBoundingRect(),e)),a.eachChild(function(e){var t=e.__title,i=e.hoverStyle;if(i&&t){var r=ct(t,St(i)),o=e.position[0]+a.position[0],l=!1;e.position[1]+a.position[1]+s+r.height>n.getHeight()&&(i.textPosition=\"top\",l=!0);var u=l?-5-r.height:s+8;o+r.width/2>n.getWidth()?(i.textPosition=[\"100%\",u],i.textAlign=\"right\"):o-r.width/2<0&&(i.textPosition=[0,u],i.textAlign=\"left\")}})}},updateView:function(e,t,n,i){h(this._features,function(e){e.updateView&&e.updateView(e.model,t,n,i)})},remove:function(e,t){h(this._features,function(n){n.remove&&n.remove(e,t)}),this.group.removeAll()},dispose:function(e,t){h(this._features,function(n){n.dispose&&n.dispose(e,t)})}});var uA=$x.toolbox.saveAsImage;mp.defaultOption={show:!0,icon:\"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0\",title:uA.title,type:\"png\",name:\"\",excludeComponents:[\"toolbox\"],pixelRatio:1,lang:uA.lang.slice()},mp.prototype.unusable=!ig.canvasSupported,mp.prototype.onclick=function(e,t){var n=this.model,i=n.get(\"name\")||e.get(\"title.0.text\")||\"echarts\",r=document.createElement(\"a\"),o=n.get(\"type\",!0)||\"png\";r.download=i+\".\"+o,r.target=\"_blank\";var a=t.getConnectedDataURL({type:o,backgroundColor:n.get(\"backgroundColor\",!0)||e.get(\"backgroundColor\")||\"#fff\",excludeComponents:n.get(\"excludeComponents\"),pixelRatio:n.get(\"pixelRatio\")});if(r.href=a,\"function\"!=typeof MouseEvent||ig.browser.ie||ig.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(a.split(\",\")[1]),l=s.length,u=new Uint8Array(l);l--;)u[l]=s.charCodeAt(l);var c=new Blob([u]);window.navigator.msSaveOrOpenBlob(c,i+\".\"+o)}else{var d=n.get(\"lang\"),h='<body style=\"margin:0;\"><img src=\"'+a+'\" style=\"max-width:100%;\" title=\"'+(d&&d[0]||\"\")+'\" /></body>';window.open().document.write(h)}else{var f=new MouseEvent(\"click\",{view:window,bubbles:!0,cancelable:!1});r.dispatchEvent(f)}},vf(\"saveAsImage\",mp),vp.defaultOption={show:!0,type:[],icon:{line:\"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4\",bar:\"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7\",stack:\"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z\",tiled:\"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z\"},title:n($x.toolbox.magicType.title),option:{},seriesIndex:{}};var cA=vp.prototype;cA.getIcons=function(){var e=this.model,t=e.get(\"icon\"),n={};return h(e.get(\"type\"),function(e){t[e]&&(n[e]=t[e])}),n};var dA={line:function(e,t,n,r){if(\"bar\"===e)return i({id:t,type:\"line\",data:n.get(\"data\"),stack:n.get(\"stack\"),markPoint:n.get(\"markPoint\"),markLine:n.get(\"markLine\")},r.get(\"option.line\")||{},!0)},bar:function(e,t,n,r){if(\"line\"===e)return i({id:t,type:\"bar\",data:n.get(\"data\"),stack:n.get(\"stack\"),markPoint:n.get(\"markPoint\"),markLine:n.get(\"markLine\")},r.get(\"option.bar\")||{},!0)},stack:function(e,t,n,r){if(\"line\"===e||\"bar\"===e)return i({id:t,stack:\"__ec_magicType_stack__\"},r.get(\"option.stack\")||{},!0)},tiled:function(e,t,n,r){if(\"line\"===e||\"bar\"===e)return i({id:t,stack:\"\"},r.get(\"option.tiled\")||{},!0)}},hA=[[\"line\",\"bar\"],[\"stack\",\"tiled\"]];cA.onclick=function(e,t,n){var i=this.model,r=i.get(\"seriesIndex.\"+n);if(dA[n]){var o={series:[]};h(hA,function(e){l(e,n)>=0&&h(e,function(e){i.setIconStatus(e,\"normal\")})}),i.setIconStatus(n,\"emphasis\"),e.eachComponent({mainType:\"series\",query:null==r?null:{seriesIndex:r}},function(t){var r=dA[n](t.subType,t.id,t,i);r&&(a(r,t.option),o.series.push(r));var s=t.coordinateSystem;if(s&&\"cartesian2d\"===s.type&&(\"line\"===n||\"bar\"===n)){var l=s.getAxesByScale(\"ordinal\")[0];if(l){var u=l.dim+\"Axis\",c=e.queryComponents({mainType:u,index:t.get(name+\"Index\"),id:t.get(name+\"Id\")})[0].componentIndex;o[u]=o[u]||[];for(var d=0;d<=c;d++)o[u][c]=o[u][c]||{};o[u][c].boundaryGap=\"bar\"===n}}}),t.dispatchAction({type:\"changeMagicType\",currentType:n,newOption:o})}},$o({type:\"changeMagicType\",event:\"magicTypeChanged\",update:\"prepareAndUpdate\"},function(e,t){t.mergeOption(e.newOption)}),vf(\"magicType\",vp);var fA=$x.toolbox.dataView,pA=new Array(60).join(\"-\"),gA=\"\\t\",mA=new RegExp(\"[\"+gA+\"]+\",\"g\");Sp.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:\"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28\",title:n(fA.title),lang:n(fA.lang),backgroundColor:\"#fff\",textColor:\"#000\",textareaColor:\"#fff\",textareaBorderColor:\"#333\",buttonColor:\"#c23531\",buttonTextColor:\"#fff\"},Sp.prototype.onclick=function(e,t){function n(){i.removeChild(o),x._dom=null}var i=t.getDom(),r=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement(\"div\");o.style.cssText=\"position:absolute;left:5px;top:5px;bottom:5px;right:5px;\",o.style.backgroundColor=r.get(\"backgroundColor\")||\"#fff\";var a=document.createElement(\"h4\"),s=r.get(\"lang\")||[];a.innerHTML=s[0]||r.get(\"title\"),a.style.cssText=\"margin: 10px 20px;\",a.style.color=r.get(\"textColor\");var l=document.createElement(\"div\"),u=document.createElement(\"textarea\");l.style.cssText=\"display:block;width:100%;overflow:auto;\";var c=r.get(\"optionToContent\"),d=r.get(\"contentToOption\"),h=bp(e);if(\"function\"==typeof c){var f=c(t.getOption());\"string\"==typeof f?l.innerHTML=f:C(f)&&l.appendChild(f)}else l.appendChild(u),u.readOnly=r.get(\"readOnly\"),u.style.cssText=\"width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;\",u.style.color=r.get(\"textColor\"),u.style.borderColor=r.get(\"textareaBorderColor\"),u.style.backgroundColor=r.get(\"textareaColor\"),u.value=h.value;var p=h.meta,g=document.createElement(\"div\");g.style.cssText=\"position:absolute;bottom:0;left:0;right:0;\";var m=\"float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px\",v=document.createElement(\"div\"),y=document.createElement(\"div\");m+=\";background-color:\"+r.get(\"buttonColor\"),m+=\";color:\"+r.get(\"buttonTextColor\");var x=this;qt(v,\"click\",n),qt(y,\"click\",function(){var e;try{e=\"function\"==typeof d?d(l,t.getOption()):wp(u.value,p)}catch(e){throw n(),new Error(\"Data view format error \"+e)}e&&t.dispatchAction({type:\"changeDataView\",newOption:e}),n()}),v.innerHTML=s[1],y.innerHTML=s[2],y.style.cssText=m,v.style.cssText=m,!r.get(\"readOnly\")&&g.appendChild(y),g.appendChild(v),qt(u,\"keydown\",function(e){if(9===(e.keyCode||e.which)){var t=this.value,n=this.selectionStart,i=this.selectionEnd;this.value=t.substring(0,n)+gA+t.substring(i),this.selectionStart=this.selectionEnd=n+1,Im(e)}}),o.appendChild(a),o.appendChild(l),o.appendChild(g),l.style.height=i.clientHeight-80+\"px\",i.appendChild(o),this._dom=o},Sp.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},Sp.prototype.dispose=function(e,t){this.remove(e,t)},vf(\"dataView\",Sp),$o({type:\"changeDataView\",event:\"dataViewChanged\",update:\"prepareAndUpdate\"},function(e,t){var n=[];h(e.newOption.series,function(e){var i=t.getSeriesByName(e.name)[0];if(i){var r=i.get(\"data\");n.push({name:e.name,data:Cp(e.data,r)})}else n.push(o({type:\"scatter\"},e))}),t.mergeOption(a({series:n},e.newOption))});var vA=h,yA=\"\\0_ec_hist_store\";uk.extend({type:\"dataZoom.select\"}),ck.extend({type:\"dataZoom.select\"});var xA=h;Tp.defaultOption={show:!0,icon:{zoom:\"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1\",back:\"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26\"},title:n($x.toolbox.dataZoom.title)};var bA=Tp.prototype;bA.render=function(e,t,n,i){this.model=e,this.ecModel=t,this.api=n,function(e,t,n,i,r){var o=n._isZoomActive;i&&\"takeGlobalCursor\"===i.type&&(o=\"dataZoomSelect\"===i.key&&i.dataZoomSelectActive),n._isZoomActive=o,e.setIconStatus(\"zoom\",o?\"emphasis\":\"normal\");var a=new rf(kp(e.option),t,{include:[\"grid\"]});n._brushController.setPanels(a.makePanelOpts(r,function(e){return e.xAxisDeclared&&!e.yAxisDeclared?\"lineX\":!e.xAxisDeclared&&e.yAxisDeclared?\"lineY\":\"rect\"})).enableBrush(!!o&&{brushType:\"auto\",brushStyle:{lineWidth:0,fill:\"rgba(0,0,0,0.2)\"}})}(e,t,this,i,n),function(e,t){e.setIconStatus(\"back\",function(e){return Mp(e).length}(t)>1?\"emphasis\":\"normal\")}(e,t)},bA.onclick=function(e,t,n){_A[n].call(this)},bA.remove=function(e,t){this._brushController.unmount()},bA.dispose=function(e,t){this._brushController.dispose()};var _A={zoom:function(){this.api.dispatchAction({type:\"takeGlobalCursor\",key:\"dataZoomSelect\",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(e){var t=Mp(e),n=t[t.length-1];t.length>1&&t.pop();var i={};return vA(n,function(e,n){for(var r=t.length-1;r>=0;r--)if(e=t[r][n]){i[n]=e;break}}),i}(this.ecModel))}};bA._onBrush=function(e,t){function n(e,t,n){var o=t.getAxis(e),a=o.model,s=function(e,t,n){var i;return n.eachComponent({mainType:\"dataZoom\",subType:\"select\"},function(n){n.getAxisModel(e,t.componentIndex)&&(i=n)}),i}(e,a,r),l=s.findRepresentativeAxisProxy(a).getMinMaxSpan();null==l.minValueSpan&&null==l.maxValueSpan||(n=pC(0,n.slice(),o.scale.getExtent(),0,l.minValueSpan,l.maxValueSpan)),s&&(i[s.id]={dataZoomId:s.id,startValue:n[0],endValue:n[1]})}if(t.isEnd&&e.length){var i={},r=this.ecModel;this._brushController.updateCovers([]),new rf(kp(this.model.option),r,{include:[\"grid\"]}).matchOutputRanges(e,r,function(e,t,i){if(\"cartesian2d\"===i.type){var r=e.brushType;\"rect\"===r?(n(\"x\",i,t[0]),n(\"y\",i,t[1])):n({lineX:\"x\",lineY:\"y\"}[r],i,t)}}),function(e,t){var n=Mp(e);vA(t,function(t,i){for(var r=n.length-1;r>=0&&!n[r][i];r--);if(r<0){var o=e.queryComponents({mainType:\"dataZoom\",subType:\"select\",id:i})[0];if(o){var a=o.getPercentRange();n[0][i]={dataZoomId:i,start:a[0],end:a[1]}}}}),n.push(t)}(r,i),this._dispatchZoomAction(i)}},bA._dispatchZoomAction=function(e){var t=[];xA(e,function(e,i){t.push(n(e))}),t.length&&this.api.dispatchAction({type:\"dataZoom\",from:this.uid,batch:t})},vf(\"dataZoom\",Tp),Yo(function(e){function t(e,t){if(t){var r=e+\"Index\",o=t[r];null==o||\"all\"==o||y(o)||(o=!1===o||\"none\"===o?[]:[o]),n(e,function(t,n){if(null==o||\"all\"==o||-1!==l(o,n)){var a={type:\"select\",$fromToolbox:!0,id:\"\\0_ec_\\0toolbox-dataZoom_\"+e+n};a[r]=n,i.push(a)}})}}function n(t,n){var i=e[t];y(i)||(i=i?[i]:[]),xA(i,n)}if(e){var i=e.dataZoom||(e.dataZoom=[]);y(i)||(e.dataZoom=i=[i]);var r=e.toolbox;if(r&&(y(r)&&(r=r[0]),r&&r.feature)){var o=r.feature.dataZoom;t(\"xAxis\",o),t(\"yAxis\",o)}}}),Ap.defaultOption={show:!0,icon:\"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5\",title:$x.toolbox.restore.title},Ap.prototype.onclick=function(e,t,n){(function(e){e[yA]=null})(e),t.dispatchAction({type:\"restore\",from:this.uid})},vf(\"restore\",Ap),$o({type:\"restore\",event:\"restore\",update:\"prepareAndUpdate\"},function(e,t){t.resetOption(\"recreate\")});var wA,SA=\"urn:schemas-microsoft-com:vml\",CA=\"undefined\"==typeof window?null:window,MA=!1,TA=CA&&CA.document;if(TA&&!ig.canvasSupported)try{!TA.namespaces.zrvml&&TA.namespaces.add(\"zrvml\",SA),wA=function(e){return TA.createElement(\"<zrvml:\"+e+' class=\"zrvml\">')}}catch(e){wA=function(e){return TA.createElement(\"<\"+e+' xmlns=\"'+SA+'\" class=\"zrvml\">')}}var kA=Rv.CMD,AA=Math.round,IA=Math.sqrt,DA=Math.abs,NA=Math.cos,PA=Math.sin,LA=Math.max;if(!ig.canvasSupported){var EA=21600,RA=EA/2,OA=function(e){e.style.cssText=\"position:absolute;left:0;top:0;width:1px;height:1px;\",e.coordsize=EA+\",\"+EA,e.coordorigin=\"0,0\"},BA=function(e){return String(e).replace(/&/g,\"&amp;\").replace(/\"/g,\"&quot;\")},zA=function(e,t,n){return\"rgb(\"+[e,t,n].join(\",\")+\")\"},FA=function(e,t){t&&e&&t.parentNode!==e&&e.appendChild(t)},VA=function(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)},HA=function(e,t,n){return 1e5*(parseFloat(e)||0)+1e3*(parseFloat(t)||0)+n},WA=function(e,t){return\"string\"==typeof e?e.lastIndexOf(\"%\")>=0?parseFloat(e)/100*t:parseFloat(e):e},GA=function(e,t,n){var i=Te(t);n=+n,isNaN(n)&&(n=1),i&&(e.color=zA(i[0],i[1],i[2]),e.opacity=n*i[3])},UA=function(e){var t=Te(e);return[zA(t[0],t[1],t[2]),t[3]]},jA=function(e,t,n,i){var r=\"fill\"==t,o=e.getElementsByTagName(t)[0];null!=n[t]&&\"none\"!==n[t]&&(r||!r&&n.lineWidth)?(e[r?\"filled\":\"stroked\"]=\"true\",n[t]instanceof _y&&VA(e,o),o||(o=Ip(t)),r?function(e,t,n){var i=t.fill;if(null!=i)if(i instanceof _y){var r,o=0,a=[0,0],s=0,l=1,u=n.getBoundingRect(),c=u.width,d=u.height;if(\"linear\"===i.type){r=\"gradient\";var h=[i.x*c,i.y*d],f=[i.x2*c,i.y2*d];(p=n.transform)&&(Q(h,h,p),Q(f,f,p)),(o=180*Math.atan2(f[0]-h[0],f[1]-h[1])/Math.PI)<0&&(o+=360),o<1e-6&&(o=0)}else{r=\"gradientradial\";var p,g=n.scale,m=c,v=d;a=[((h=[i.x*c,i.y*d])[0]-u.x)/m,(h[1]-u.y)/v],(p=n.transform)&&Q(h,h,p);var y=LA(m/=g[0]*EA,v/=g[1]*EA);l=2*i.r/y-(s=0/y)}var x=i.colorStops.slice();x.sort(function(e,t){return e.offset-t.offset});for(var b=x.length,_=[],w=[],S=0;S<b;S++){var C=x[S],M=UA(C.color);w.push(C.offset*l+s+\" \"+M[0]),0!==S&&S!==b-1||_.push(M)}if(b>=2){var T=_[0][0],k=_[1][0],A=_[0][1]*t.opacity,I=_[1][1]*t.opacity;e.type=r,e.method=\"none\",e.focus=\"100%\",e.angle=o,e.color=T,e.color2=k,e.colors=w.join(\",\"),e.opacity=I,e.opacity2=A}\"radial\"===r&&(e.focusposition=a.join(\",\"))}else GA(e,i,t.opacity)}(o,n,i):function(e,t){null!=t.lineDash&&(e.dashstyle=t.lineDash.join(\" \")),null==t.stroke||t.stroke instanceof _y||GA(e,t.stroke,t.opacity)}(o,n),FA(e,o)):(e[r?\"filled\":\"stroked\"]=\"false\",VA(e,o))},qA=[[],[],[]];Zn.prototype.brushVML=function(e){var t=this.style,n=this._vmlEl;n||(n=Ip(\"shape\"),OA(n),this._vmlEl=n),jA(n,\"fill\",t,this),jA(n,\"stroke\",t,this);var i=this.transform,r=null!=i,o=n.getElementsByTagName(\"stroke\")[0];if(o){var a=t.lineWidth;r&&!t.strokeNoScale&&(a*=IA(DA(i[0]*i[3]-i[1]*i[2]))),o.weight=a+\"px\"}var s=this.path||(this.path=new Rv);this.__dirtyPath&&(s.beginPath(),this.buildPath(s,this.shape),s.toStatic(),this.__dirtyPath=!1),n.path=function(e,t){var n,i,r,o,a,s,l=kA.M,u=kA.C,c=kA.L,d=kA.A,h=kA.Q,f=[],p=e.data,g=e.len();for(o=0;o<g;){switch(i=\"\",n=0,r=p[o++]){case l:i=\" m \",n=1,a=p[o++],s=p[o++],qA[0][0]=a,qA[0][1]=s;break;case c:i=\" l \",n=1,a=p[o++],s=p[o++],qA[0][0]=a,qA[0][1]=s;break;case h:case u:i=\" c \",n=3;var m,v,y=p[o++],x=p[o++],b=p[o++],_=p[o++];r===h?(m=b,v=_,b=(b+2*y)/3,_=(_+2*x)/3,y=(a+2*y)/3,x=(s+2*x)/3):(m=p[o++],v=p[o++]),qA[0][0]=y,qA[0][1]=x,qA[1][0]=b,qA[1][1]=_,qA[2][0]=m,qA[2][1]=v,a=m,s=v;break;case d:var w=0,S=0,C=1,M=1,T=0;t&&(w=t[4],S=t[5],C=IA(t[0]*t[0]+t[1]*t[1]),M=IA(t[2]*t[2]+t[3]*t[3]),T=Math.atan2(-t[1]/M,t[0]/C));var k=p[o++],A=p[o++],I=p[o++],D=p[o++],N=p[o++]+T,P=p[o++]+N+T;o++;var L=p[o++],E=k+NA(N)*I,R=A+PA(N)*D,O=(y=k+NA(P)*I,x=A+PA(P)*D,L?\" wa \":\" at \");Math.abs(E-y)<1e-4&&(Math.abs(P-N)>.01?L&&(E+=.0125):Math.abs(R-A)<1e-4?L&&E<k||!L&&E>k?x-=.0125:x+=.0125:L&&R<A||!L&&R>A?y+=.0125:y-=.0125),f.push(O,AA(((k-I)*C+w)*EA-RA),\",\",AA(((A-D)*M+S)*EA-RA),\",\",AA(((k+I)*C+w)*EA-RA),\",\",AA(((A+D)*M+S)*EA-RA),\",\",AA((E*C+w)*EA-RA),\",\",AA((R*M+S)*EA-RA),\",\",AA((y*C+w)*EA-RA),\",\",AA((x*M+S)*EA-RA)),a=y,s=x;break;case kA.R:var B=qA[0],z=qA[1];B[0]=p[o++],B[1]=p[o++],z[0]=B[0]+p[o++],z[1]=B[1]+p[o++],t&&(Q(B,B,t),Q(z,z,t)),B[0]=AA(B[0]*EA-RA),z[0]=AA(z[0]*EA-RA),B[1]=AA(B[1]*EA-RA),z[1]=AA(z[1]*EA-RA),f.push(\" m \",B[0],\",\",B[1],\" l \",z[0],\",\",B[1],\" l \",z[0],\",\",z[1],\" l \",B[0],\",\",z[1]);break;case kA.Z:f.push(\" x \")}if(n>0){f.push(i);for(var F=0;F<n;F++){var V=qA[F];t&&Q(V,V,t),f.push(AA(V[0]*EA-RA),\",\",AA(V[1]*EA-RA),F<n-1?\",\":\"\")}}}return f.join(\"\")}(s,this.transform),n.style.zIndex=HA(this.zlevel,this.z,this.z2),FA(e,n),null!=t.text?this.drawRectText(e,this.getBoundingRect()):this.removeRectText(e)},Zn.prototype.onRemove=function(e){VA(e,this._vmlEl),this.removeRectText(e)},Zn.prototype.onAdd=function(e){FA(e,this._vmlEl),this.appendRectText(e)},Ht.prototype.brushVML=function(e){var t,n,i=this.style,r=i.image;if(function(e){return\"object\"==typeof e&&e.tagName&&\"IMG\"===e.tagName.toUpperCase()}(r)){var o=r.src;if(o===this._imageSrc)t=this._imageWidth,n=this._imageHeight;else{var a=r.runtimeStyle,s=a.width,l=a.height;a.width=\"auto\",a.height=\"auto\",t=r.width,n=r.height,a.width=s,a.height=l,this._imageSrc=o,this._imageWidth=t,this._imageHeight=n}r=o}else r===this._imageSrc&&(t=this._imageWidth,n=this._imageHeight);if(r){var u=i.x||0,c=i.y||0,d=i.width,h=i.height,f=i.sWidth,p=i.sHeight,g=i.sx||0,m=i.sy||0,v=f&&p,y=this._vmlEl;y||(y=TA.createElement(\"div\"),OA(y),this._vmlEl=y);var x,b=y.style,_=!1,w=1,S=1;if(this.transform&&(w=IA((x=this.transform)[0]*x[0]+x[1]*x[1]),S=IA(x[2]*x[2]+x[3]*x[3]),_=x[1]||x[2]),_){var C=[u,c],M=[u+d,c],T=[u,c+h],k=[u+d,c+h];Q(C,C,x),Q(M,M,x),Q(T,T,x),Q(k,k,x);var A=LA(C[0],M[0],T[0],k[0]),I=LA(C[1],M[1],T[1],k[1]),D=[];D.push(\"M11=\",x[0]/w,\",\",\"M12=\",x[2]/S,\",\",\"M21=\",x[1]/w,\",\",\"M22=\",x[3]/S,\",\",\"Dx=\",AA(u*w+x[4]),\",\",\"Dy=\",AA(c*S+x[5])),b.padding=\"0 \"+AA(A)+\"px \"+AA(I)+\"px 0\",b.filter=\"progid:DXImageTransform.Microsoft.Matrix(\"+D.join(\"\")+\", SizingMethod=clip)\"}else x&&(u=u*w+x[4],c=c*S+x[5]),b.filter=\"\",b.left=AA(u)+\"px\",b.top=AA(c)+\"px\";var N=this._imageEl,P=this._cropEl;N||(N=TA.createElement(\"div\"),this._imageEl=N);var L=N.style;if(v){if(t&&n)L.width=AA(w*t*d/f)+\"px\",L.height=AA(S*n*h/p)+\"px\";else{var E=new Image,R=this;E.onload=function(){E.onload=null,n=E.height,L.width=AA(w*(t=E.width)*d/f)+\"px\",L.height=AA(S*n*h/p)+\"px\",R._imageWidth=t,R._imageHeight=n,R._imageSrc=r},E.src=r}P||((P=TA.createElement(\"div\")).style.overflow=\"hidden\",this._cropEl=P);var O=P.style;O.width=AA((d+g*d/f)*w),O.height=AA((h+m*h/p)*S),O.filter=\"progid:DXImageTransform.Microsoft.Matrix(Dx=\"+-g*d/f*w+\",Dy=\"+-m*h/p*S+\")\",P.parentNode||y.appendChild(P),N.parentNode!=P&&P.appendChild(N)}else L.width=AA(w*d)+\"px\",L.height=AA(S*h)+\"px\",y.appendChild(N),P&&P.parentNode&&(y.removeChild(P),this._cropEl=null);var B=\"\",z=i.opacity;z<1&&(B+=\".Alpha(opacity=\"+AA(100*z)+\") \"),L.filter=B+=\"progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\"+r+\", SizingMethod=scale)\",y.style.zIndex=HA(this.zlevel,this.z,this.z2),FA(e,y),null!=i.text&&this.drawRectText(e,this.getBoundingRect())}},Ht.prototype.onRemove=function(e){VA(e,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(e)},Ht.prototype.onAdd=function(e){FA(e,this._vmlEl),this.appendRectText(e)};var ZA,YA={},XA=0,$A=document.createElement(\"div\"),KA=function(e){var t=YA[e];if(!t){XA>100&&(XA=0,YA={});var n,i=$A.style;try{i.font=e,n=i.fontFamily.split(\",\")[0]}catch(e){}t={style:i.fontStyle||\"normal\",variant:i.fontVariant||\"normal\",weight:i.fontWeight||\"normal\",size:0|parseFloat(i.fontSize||12),family:n||\"Microsoft YaHei\"},YA[e]=t,XA++}return t};xm.measureText=function(e,t){var n=TA;ZA||((ZA=n.createElement(\"div\")).style.cssText=\"position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;\",TA.body.appendChild(ZA));try{ZA.style.font=t}catch(e){}return ZA.innerHTML=\"\",ZA.appendChild(n.createTextNode(e)),{width:ZA.offsetWidth}};for(var JA=new Ze,QA=[Sm,Vt,Ht,Zn,oy],eI=0;eI<QA.length;eI++){var tI=QA[eI].prototype;tI.drawRectText=function(e,t,n,i){var r=this.style;this.__dirty&&Mt(r);var o=r.text;if(null!=o&&(o+=\"\"),o){if(r.rich){var a=_t(o,r);o=[];for(var s=0;s<a.lines.length;s++){for(var l=a.lines[s].tokens,u=[],c=0;c<l.length;c++)u.push(l[c].text);o.push(u.join(\"\"))}o=o.join(\"\\n\")}var d,h,f=r.textAlign,p=r.textVerticalAlign,g=KA(r.font),m=g.style+\" \"+g.variant+\" \"+g.weight+\" \"+g.size+'px \"'+g.family+'\"';n=n||ct(o,m,f,p);var v=this.transform;if(v&&!i&&(JA.copy(t),JA.applyTransform(v),t=JA),i)d=t.x,h=t.y;else{var y=r.textPosition,x=r.textDistance;if(y instanceof Array)d=t.x+WA(y[0],t.width),h=t.y+WA(y[1],t.height),f=f||\"left\";else{var b=ft(y,t,x);d=b.x,h=b.y,f=f||b.textAlign,p=p||b.textVerticalAlign}}d=dt(d,n.width,f),h=ht(h,n.height,p),h+=n.height/2;var _,w,S,C=Ip,M=this._textVmlEl;M?w=(_=(S=M.firstChild).nextSibling).nextSibling:(M=C(\"line\"),_=C(\"path\"),w=C(\"textpath\"),S=C(\"skew\"),w.style[\"v-text-align\"]=\"left\",OA(M),_.textpathok=!0,w.on=!0,M.from=\"0 0\",M.to=\"1000 0.05\",FA(M,S),FA(M,_),FA(M,w),this._textVmlEl=M);var T=[d,h],k=M.style;v&&i?(Q(T,T,v),S.on=!0,S.matrix=v[0].toFixed(3)+\",\"+v[2].toFixed(3)+\",\"+v[1].toFixed(3)+\",\"+v[3].toFixed(3)+\",0,0\",S.offset=(AA(T[0])||0)+\",\"+(AA(T[1])||0),S.origin=\"0 0\",k.left=\"0px\",k.top=\"0px\"):(S.on=!1,k.left=AA(d)+\"px\",k.top=AA(h)+\"px\"),w.string=BA(o);try{w.style.font=m}catch(e){}jA(M,\"fill\",{fill:r.textFill,opacity:r.opacity},this),jA(M,\"stroke\",{stroke:r.textStroke,opacity:r.opacity,lineDash:r.lineDash},this),M.style.zIndex=HA(this.zlevel,this.z,this.z2),FA(e,M)}},tI.removeRectText=function(e){VA(e,this._textVmlEl),this._textVmlEl=null},tI.appendRectText=function(e){FA(e,this._textVmlEl)}}oy.prototype.brushVML=function(e){var t=this.style;null!=t.text?this.drawRectText(e,{x:t.x||0,y:t.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(e)},oy.prototype.onRemove=function(e){this.removeRectText(e)},oy.prototype.onAdd=function(e){this.appendRectText(e)}}Np.prototype={constructor:Np,getType:function(){return\"vml\"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0,!0);this._paintList(e)},_paintList:function(e){for(var t=this._vmlRoot,n=0;n<e.length;n++){var i=e[n];i.invisible||i.ignore?(i.__alreadyNotVisible||i.onRemove(t),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(t),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,t),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(t),this._firstPaint=!1)},resize:function(e,t){if(e=null==e?this._getWidth():e,t=null==t?this._getHeight():t,this._width!=e||this._height!=t){this._width=e,this._height=t;var n=this._vmlViewport.style;n.width=e+\"px\",n.height=t+\"px\"}},dispose:function(){this.root.innerHTML=\"\",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var e=this.root,t=e.currentStyle;return(e.clientWidth||Dp(t.width))-Dp(t.paddingLeft)-Dp(t.paddingRight)|0},_getHeight:function(){var e=this.root,t=e.currentStyle;return(e.clientHeight||Dp(t.height))-Dp(t.paddingTop)-Dp(t.paddingBottom)|0}},h([\"getLayer\",\"insertLayer\",\"eachLayer\",\"eachBuiltinLayer\",\"eachOtherLayer\",\"getLayers\",\"modLayer\",\"delLayer\",\"clearLayer\",\"toDataURL\",\"pathToImage\"],function(e){Np.prototype[e]=function(){}}),nn(\"vml\",Np);var nI=\"http://www.w3.org/2000/svg\",iI=Rv.CMD,rI=Array.prototype.join,oI=\"none\",aI=Math.round,sI=Math.sin,lI=Math.cos,uI=Math.PI,cI=2*Math.PI,dI=180/uI,hI=1e-4,fI={brush:function(e){var t=e.style,n=e.__svgEl;n||(n=Pp(\"path\"),e.__svgEl=n),e.path||e.createPathProxy();var i=e.path;if(e.__dirtyPath){i.beginPath(),e.buildPath(i,e.shape),e.__dirtyPath=!1;var r=function(e){for(var t=[],n=e.data,i=e.len(),r=0;r<i;){var o=\"\",a=0;switch(n[r++]){case iI.M:o=\"M\",a=2;break;case iI.L:o=\"L\",a=2;break;case iI.Q:o=\"Q\",a=4;break;case iI.C:o=\"C\",a=6;break;case iI.A:var s=n[r++],l=n[r++],u=n[r++],c=n[r++],d=n[r++],h=n[r++],f=n[r++],p=n[r++],g=Math.abs(h),m=Ep(g-cI)&&!Ep(g),v=!1;v=g>=cI||!Ep(g)&&(h>-uI&&h<0||h>uI)==!!p;var y=Lp(s+u*lI(d)),x=Lp(l+c*sI(d));m&&(h=p?cI-1e-4:1e-4-cI,v=!0,9===r&&t.push(\"M\",y,x));var b=Lp(s+u*lI(d+h)),_=Lp(l+c*sI(d+h));t.push(\"A\",Lp(u),Lp(c),aI(f*dI),+v,+p,b,_);break;case iI.Z:o=\"Z\";break;case iI.R:b=Lp(n[r++]),_=Lp(n[r++]);var w=Lp(n[r++]),S=Lp(n[r++]);t.push(\"M\",b,_,\"L\",b+w,_,\"L\",b+w,_+S,\"L\",b,_+S,\"L\",b,_)}o&&t.push(o);for(var C=0;C<a;C++)t.push(Lp(n[r++]))}return t.join(\" \")}(i);r.indexOf(\"NaN\")<0&&Op(n,\"d\",r)}Bp(n,t),Rp(n,e.transform),null!=t.text&&vI(e,e.getBoundingRect())}},pI={brush:function(e){var t=e.style,n=t.image;if(n instanceof HTMLImageElement&&(n=n.src),n){var i=t.x||0,r=t.y||0,o=t.width,a=t.height,s=e.__svgEl;s||(s=Pp(\"image\"),e.__svgEl=s),n!==e.__imageSrc&&(function(e,t,n){e.setAttributeNS(\"http://www.w3.org/1999/xlink\",\"href\",n)}(s,0,n),e.__imageSrc=n),Op(s,\"width\",o),Op(s,\"height\",a),Op(s,\"x\",i),Op(s,\"y\",r),Rp(s,e.transform),null!=t.text&&vI(e,e.getBoundingRect())}}},gI={},mI=new Ze,vI=function(e,t,n){var i=e.style;e.__dirty&&Mt(i);var r=i.text;if(null!=r){r+=\"\";var o=e.__textSvgEl;if(o||(o=Pp(\"text\"),e.__textSvgEl=o),Bp(o,i,!0),e instanceof oy||e.style.transformText)Rp(o,e.transform);else if(e.transform)mI.copy(t),mI.applyTransform(e.transform),t=mI;else{var a=e.transformCoordToGlobal(t.x,t.y);t.x=a[0],t.y=a[1]}var s,l,u=i.textPosition,c=i.textDistance,d=i.textAlign||\"left\";\"number\"==typeof i.fontSize&&(i.fontSize+=\"px\");var h=i.font||[i.fontStyle||\"\",i.fontWeight||\"\",i.fontSize||\"\",i.fontFamily||\"\"].join(\" \")||ym,f=zp(i.textVerticalAlign),p=(n=ct(r,h,d,f)).lineHeight;if(u instanceof Array)s=t.x+u[0],l=t.y+u[1];else{var g=ft(u,t,c);s=g.x,l=g.y,f=zp(g.textVerticalAlign),d=g.textAlign}Op(o,\"alignment-baseline\",f),h&&(o.style.font=h);var m=i.textPadding;Op(o,\"x\",s),Op(o,\"y\",l);var v=r.split(\"\\n\"),y=v.length,x=d;\"left\"===x?(x=\"start\",m&&(s+=m[3])):\"right\"===x?(x=\"end\",m&&(s-=m[1])):\"center\"===x&&(x=\"middle\",m&&(s+=(m[3]-m[1])/2));var b=0;if(\"baseline\"===f?(b=-n.height+p,m&&(b-=m[2])):\"middle\"===f?(b=(-n.height+p)/2,m&&(l+=(m[0]-m[2])/2)):m&&(b+=m[0]),e.__text!==r||e.__textFont!==h){var _=e.__tspanList||[];for(e.__tspanList=_,S=0;S<y;S++)(C=_[S])?C.innerHTML=\"\":(C=_[S]=Pp(\"tspan\"),o.appendChild(C),Op(C,\"alignment-baseline\",f),Op(C,\"text-anchor\",x)),Op(C,\"x\",s),Op(C,\"y\",l+S*p+b),C.appendChild(document.createTextNode(v[S]));for(;S<_.length;S++)o.removeChild(_[S]);_.length=y,e.__text=r,e.__textFont=h}else if(e.__tspanList.length)for(var w=e.__tspanList.length,S=0;S<w;++S){var C=e.__tspanList[S];C&&(Op(C,\"x\",s),Op(C,\"y\",l+S*p+b))}}};gI.drawRectText=vI,gI.brush=function(e){var t=e.style;null!=t.text&&(t.textPosition=[0,0],vI(e,{x:t.x||0,y:t.y||0,width:0,height:0},e.getBoundingRect()))},Fp.prototype={diff:function(e,t,n){n||(n=function(e,t){return e===t}),this.equals=n;var i=this;e=e.slice();var r=(t=t.slice()).length,o=e.length,a=1,s=r+o,l=[{newPos:-1,components:[]}],u=this.extractCommon(l[0],t,e,0);if(l[0].newPos+1>=r&&u+1>=o){for(var c=[],d=0;d<t.length;d++)c.push(d);return[{indices:c,count:t.length}]}for(;a<=s;){var h=function(){for(var n=-1*a;n<=a;n+=2){var s,u=l[n-1],c=l[n+1],d=(c?c.newPos:0)-n;u&&(l[n-1]=void 0);var h=u&&u.newPos+1<r,f=c&&0<=d&&d<o;if(h||f){if(!h||f&&u.newPos<c.newPos?(s=Hp(c),i.pushComponent(s.components,void 0,!0)):((s=u).newPos++,i.pushComponent(s.components,!0,void 0)),d=i.extractCommon(s,t,e,n),s.newPos+1>=r&&d+1>=o)return Vp(0,s.components);l[n]=s}else l[n]=void 0}a++}();if(h)return h}},pushComponent:function(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,i){for(var r=t.length,o=n.length,a=e.newPos,s=a-i,l=0;a+1<r&&s+1<o&&this.equals(t[a+1],n[s+1]);)a++,s++,l++;return l&&e.components.push({count:l}),e.newPos=a,s},tokenize:function(e){return e.slice()},join:function(e){return e.slice()}};var yI=new Fp;Wp.prototype.createElement=Pp,Wp.prototype.getDefs=function(e){var t=this._svgRoot,n=this._svgRoot.getElementsByTagName(\"defs\");return 0===n.length?e?((n=t.insertBefore(this.createElement(\"defs\"),t.firstChild)).contains||(n.contains=function(e){var t=n.children;if(!t)return!1;for(var i=t.length-1;i>=0;--i)if(t[i]===e)return!0;return!1}),n):null:n[0]},Wp.prototype.update=function(e,t){if(e){var n=this.getDefs(!1);if(e[this._domName]&&n.contains(e[this._domName]))\"function\"==typeof t&&t(e);else{var i=this.add(e);i&&(e[this._domName]=i)}}},Wp.prototype.addDom=function(e){this.getDefs(!0).appendChild(e)},Wp.prototype.removeDom=function(e){var t=this.getDefs(!1);t&&e[this._domName]&&(t.removeChild(e[this._domName]),e[this._domName]=null)},Wp.prototype.getDoms=function(){var e=this.getDefs(!1);if(!e)return[];var t=[];return h(this._tagNames,function(n){var i=e.getElementsByTagName(n);t=t.concat([].slice.call(i))}),t},Wp.prototype.markAllUnused=function(){var e=this;h(this.getDoms(),function(t){t[e._markLabel]=\"0\"})},Wp.prototype.markUsed=function(e){e&&(e[this._markLabel]=\"1\")},Wp.prototype.removeUnused=function(){var e=this.getDefs(!1);if(e){var t=this;h(this.getDoms(),function(n){\"1\"!==n[t._markLabel]&&e.removeChild(n)})}},Wp.prototype.getSvgProxy=function(e){return e instanceof Zn?fI:e instanceof Ht?pI:e instanceof oy?gI:fI},Wp.prototype.getTextSvgElement=function(e){return e.__textSvgEl},Wp.prototype.getSvgElement=function(e){return e.__svgEl},u(Gp,Wp),Gp.prototype.addWithoutUpdate=function(e,t){if(t&&t.style){var n=this;h([\"fill\",\"stroke\"],function(i){if(t.style[i]&&(\"linear\"===t.style[i].type||\"radial\"===t.style[i].type)){var r,o=t.style[i],a=n.getDefs(!0);o._dom?(r=o._dom,a.contains(o._dom)||n.addDom(r)):r=n.add(o),n.markUsed(t);var s=r.getAttribute(\"id\");e.setAttribute(i,\"url(#\"+s+\")\")}})}},Gp.prototype.add=function(e){var t;if(\"linear\"===e.type)t=this.createElement(\"linearGradient\");else{if(\"radial\"!==e.type)return null;t=this.createElement(\"radialGradient\")}return e.id=e.id||this.nextId++,t.setAttribute(\"id\",\"zr\"+this._zrId+\"-gradient-\"+e.id),this.updateDom(e,t),this.addDom(t),t},Gp.prototype.update=function(e){var t=this;Wp.prototype.update.call(this,e,function(){var n=e.type,i=e._dom.tagName;\"linear\"===n&&\"linearGradient\"===i||\"radial\"===n&&\"radialGradient\"===i?t.updateDom(e,e._dom):(t.removeDom(e),t.add(e))})},Gp.prototype.updateDom=function(e,t){if(\"linear\"===e.type)t.setAttribute(\"x1\",e.x),t.setAttribute(\"y1\",e.y),t.setAttribute(\"x2\",e.x2),t.setAttribute(\"y2\",e.y2);else{if(\"radial\"!==e.type)return;t.setAttribute(\"cx\",e.x),t.setAttribute(\"cy\",e.y),t.setAttribute(\"r\",e.r)}t.setAttribute(\"gradientUnits\",e.global?\"userSpaceOnUse\":\"objectBoundingBox\"),t.innerHTML=\"\";for(var n=e.colorStops,i=0,r=n.length;i<r;++i){var o=this.createElement(\"stop\");o.setAttribute(\"offset\",100*n[i].offset+\"%\"),o.setAttribute(\"stop-color\",n[i].color),t.appendChild(o)}e._dom=t},Gp.prototype.markUsed=function(e){if(e.style){var t=e.style.fill;t&&t._dom&&Wp.prototype.markUsed.call(this,t._dom),(t=e.style.stroke)&&t._dom&&Wp.prototype.markUsed.call(this,t._dom)}},u(Up,Wp),Up.prototype.update=function(e){var t=this.getSvgElement(e);t&&this.updateDom(t,e.__clipPaths,!1);var n=this.getTextSvgElement(e);n&&this.updateDom(n,e.__clipPaths,!0),this.markUsed(e)},Up.prototype.updateDom=function(e,t,n){if(t&&t.length>0){var i,r,o=this.getDefs(!0),a=t[0],s=n?\"_textDom\":\"_dom\";a[s]?(r=a[s].getAttribute(\"id\"),o.contains(i=a[s])||o.appendChild(i)):(r=\"zr\"+this._zrId+\"-clip-\"+this.nextId,++this.nextId,(i=this.createElement(\"clipPath\")).setAttribute(\"id\",r),o.appendChild(i),a[s]=i);var l=this.getSvgProxy(a);if(a.transform&&a.parent.invTransform&&!n){var u=Array.prototype.slice.call(a.transform);ue(a.transform,a.parent.invTransform,a.transform),l.brush(a),a.transform=u}else l.brush(a);var c=this.getSvgElement(a);i.innerHTML=\"\",i.appendChild(c.cloneNode()),e.setAttribute(\"clip-path\",\"url(#\"+r+\")\"),t.length>1&&this.updateDom(i,t.slice(1),n)}else e&&e.setAttribute(\"clip-path\",\"none\")},Up.prototype.markUsed=function(e){var t=this;e.__clipPaths&&e.__clipPaths.length>0&&h(e.__clipPaths,function(e){e._dom&&Wp.prototype.markUsed.call(t,e._dom),e._textDom&&Wp.prototype.markUsed.call(t,e._textDom)})},u(jp,Wp),jp.prototype.addWithoutUpdate=function(e,t){if(t&&qp(t.style)){var n,i=t.style;i._shadowDom?(n=i._shadowDom,this.getDefs(!0).contains(i._shadowDom)||this.addDom(n)):n=this.add(t),this.markUsed(t);var r=n.getAttribute(\"id\");e.style.filter=\"url(#\"+r+\")\"}},jp.prototype.add=function(e){var t=this.createElement(\"filter\"),n=e.style;return n._shadowDomId=n._shadowDomId||this.nextId++,t.setAttribute(\"id\",\"zr\"+this._zrId+\"-shadow-\"+n._shadowDomId),this.updateDom(e,t),this.addDom(t),t},jp.prototype.update=function(e,t){var n=t.style;if(qp(n)){var i=this;Wp.prototype.update.call(this,t,function(e){i.updateDom(t,e._shadowDom)})}else this.remove(e,n)},jp.prototype.remove=function(e,t){null!=t._shadowDomId&&(this.removeDom(t),e.style.filter=\"\")},jp.prototype.updateDom=function(e,t){var n=t.getElementsByTagName(\"feDropShadow\");n=0===n.length?this.createElement(\"feDropShadow\"):n[0];var i,r,o,a,s=e.style,l=e.scale&&e.scale[0]||1,u=e.scale&&e.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)i=s.shadowOffsetX||0,r=s.shadowOffsetY||0,o=s.shadowBlur,a=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(t,s);i=s.textShadowOffsetX||0,r=s.textShadowOffsetY||0,o=s.textShadowBlur,a=s.textShadowColor}n.setAttribute(\"dx\",i/l),n.setAttribute(\"dy\",r/u),n.setAttribute(\"flood-color\",a),n.setAttribute(\"stdDeviation\",o/2/l+\" \"+o/2/u),t.setAttribute(\"x\",\"-100%\"),t.setAttribute(\"y\",\"-100%\"),t.setAttribute(\"width\",Math.ceil(o/2*200)+\"%\"),t.setAttribute(\"height\",Math.ceil(o/2*200)+\"%\"),t.appendChild(n),s._shadowDom=t},jp.prototype.markUsed=function(e){var t=e.style;t&&t._shadowDom&&Wp.prototype.markUsed.call(this,t._shadowDom)};var xI=function(e,t,n,i){this.root=e,this.storage=t,this._opts=n=o({},n||{});var r=Pp(\"svg\");r.setAttribute(\"xmlns\",\"http://www.w3.org/2000/svg\"),r.setAttribute(\"version\",\"1.1\"),r.setAttribute(\"baseProfile\",\"full\"),r.style.cssText=\"user-select:none;position:absolute;left:0;top:0;\",this.gradientManager=new Gp(i,r),this.clipPathManager=new Up(i,r),this.shadowManager=new jp(i,r);var a=document.createElement(\"div\");a.style.cssText=\"overflow:hidden;position:relative\",this._svgRoot=r,this._viewport=a,e.appendChild(a),a.appendChild(r),this.resize(n.width,n.height),this._visibleList=[]};xI.prototype={constructor:xI,getType:function(){return\"svg\"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0);this._paintList(e)},_paintList:function(e){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var t,n=this._svgRoot,i=this._visibleList,r=e.length,o=[];for(t=0;t<r;t++){var a=Yp(f=e[t]),s=eg(f)||Qp(f);f.invisible||(f.__dirty&&(a&&a.brush(f),this.clipPathManager.update(f),f.style&&(this.gradientManager.update(f.style.fill),this.gradientManager.update(f.style.stroke),this.shadowManager.update(s,f)),f.__dirty=!1),o.push(f))}var l,u=function(e,t,n){return yI.diff(e,t,void 0)}(i,o);for(t=0;t<u.length;t++)if((d=u[t]).removed)for(h=0;h<d.count;h++){s=eg(f=i[d.indices[h]]);var c=Qp(f);Jp(n,s),Jp(n,c)}for(t=0;t<u.length;t++){var d=u[t];if(d.added)for(h=0;h<d.count;h++)s=eg(f=o[d.indices[h]]),c=Qp(f),l?$p(n,s,l):Kp(n,s),s?$p(n,c,s):l?$p(n,c,l):Kp(n,c),$p(n,c,s),l=c||s||l,this.gradientManager.addWithoutUpdate(s,f),this.shadowManager.addWithoutUpdate(l,f),this.clipPathManager.markUsed(f);else if(!d.removed)for(var h=0;h<d.count;h++){var f=o[d.indices[h]];l=s=Qp(f)||eg(f)||l,this.gradientManager.markUsed(f),this.gradientManager.addWithoutUpdate(s,f),this.shadowManager.markUsed(f),this.shadowManager.addWithoutUpdate(s,f),this.clipPathManager.markUsed(f)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=o},_getDefs:function(e){var t=this._svgRoot,n=this._svgRoot.getElementsByTagName(\"defs\");return 0===n.length?e?((n=t.insertBefore(Pp(\"defs\"),t.firstChild)).contains||(n.contains=function(e){var t=n.children;if(!t)return!1;for(var i=t.length-1;i>=0;--i)if(t[i]===e)return!0;return!1}),n):null:n[0]},resize:function(e,t){var n=this._viewport;n.style.display=\"none\";var i=this._opts;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display=\"\",this._width!==e||this._height!==t){this._width=e,this._height=t;var r=n.style;r.width=e+\"px\",r.height=t+\"px\";var o=this._svgRoot;o.setAttribute(\"width\",e),o.setAttribute(\"height\",t)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=[\"width\",\"height\"][e],i=[\"clientWidth\",\"clientHeight\"][e],r=[\"paddingLeft\",\"paddingTop\"][e],o=[\"paddingRight\",\"paddingBottom\"][e];if(null!=t[n]&&\"auto\"!==t[n])return parseFloat(t[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[i]||Zp(s[n])||Zp(a.style[n]))-(Zp(s[r])||0)-(Zp(s[o])||0)|0},dispose:function(){this.root.innerHTML=\"\",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToSvg:function(){return this.refresh(),\"data:img/svg+xml;utf-8,\"+unescape(this._svgRoot.outerHTML)}},h([\"getLayer\",\"insertLayer\",\"eachLayer\",\"eachBuiltinLayer\",\"eachOtherLayer\",\"getLayers\",\"modLayer\",\"delLayer\",\"clearLayer\",\"toDataURL\",\"pathToImage\"],function(e){xI.prototype[e]=function(){}}),nn(\"svg\",xI),e.version=\"4.0.2\",e.dependencies={zrender:\"4.0.1\"},e.PRIORITY=mb,e.init=function(e,t,n){var i=qo(e);if(i)return i;var r=new Do(e,t,n);return r.id=\"ec_\"+Lb++,Nb[r.id]=r,pn(e,Rb,r.id),function(e){function t(e,t){for(var i=0;i<e.length;i++)e[i][n]=t}var n=\"__connectUpdateStatus\";ub(Cb,function(i,r){e._messageCenter.on(r,function(i){if(Pb[e.group]&&0!==e[n]){if(i&&i.escapeConnect)return;var r=e.makeActionFromEvent(i),o=[];ub(Nb,function(t){t!==e&&t.group===e.group&&o.push(t)}),t(o,0),ub(o,function(e){1!==e[n]&&e.dispatchAction(r)}),t(o,2)}})})}(r),r},e.connect=function(e){if(y(e)){var t=e;e=null,ub(t,function(t){null!=t.group&&(e=t.group)}),e=e||\"g_\"+Eb++,ub(t,function(t){t.group=e})}return Pb[e]=!0,e},e.disConnect=jo,e.disconnect=Bb,e.dispose=function(e){\"string\"==typeof e?e=Nb[e]:e instanceof Do||(e=qo(e)),e instanceof Do&&!e.isDisposed()&&e.dispose()},e.getInstanceByDom=qo,e.getInstanceById=function(e){return Nb[e]},e.registerTheme=Zo,e.registerPreprocessor=Yo,e.registerProcessor=Xo,e.registerPostUpdate=function(e){kb.push(e)},e.registerAction=$o,e.registerCoordinateSystem=Ko,e.getCoordinateSystemDimensions=function(e){var t=Ir.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},e.registerLayout=Jo,e.registerVisual=Qo,e.registerLoading=ta,e.extendComponentModel=na,e.extendComponentView=ia,e.extendSeriesModel=ra,e.extendChartView=oa,e.setCanvasCreator=function(e){t(\"createCanvas\",e)},e.registerMap=function(e,t,n){t.geoJson&&!t.features&&(n=t.specialAreas,t=t.geoJson),\"string\"==typeof t&&(t=\"undefined\"!=typeof JSON&&JSON.parse?JSON.parse(t):new Function(\"return (\"+t+\");\")()),Ob[e]={geoJson:t,specialAreas:n}},e.getMap=aa,e.dataTool={},e.zrender=Gm,e.graphic=Dy,e.number=Hy,e.format=Zy,e.throttle=ho,e.helper=C_,e.matrix=Ag,e.vector=_g,e.color=Gg,e.parseGeoJSON=T_,e.parseGeoJson=D_,e.util=N_,e.List=jb,e.Model=Bi,e.Axis=I_,e.env=ig}),function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports,require(\"echarts\")):\"function\"==typeof define&&define.amd?define([\"exports\",\"echarts\"],t):t(e.bmap={},e.echarts)}(this,function(e,t){\"use strict\";function n(e,t){this._bmap=e,this.dimensions=[\"lng\",\"lat\"],this._mapOffset=[0,0],this._api=t,this._projection=new BMap.MercatorProjection}function i(e,n){return n=n||[0,0],t.util.map([0,1],function(t){var i=n[t],r=e[t]/2,o=[],a=[];return o[t]=i-r,a[t]=i+r,o[1-t]=a[1-t]=n[1-t],Math.abs(this.dataToPoint(o)[t]-this.dataToPoint(a)[t])},this)}var r;n.prototype.dimensions=[\"lng\",\"lat\"],n.prototype.setZoom=function(e){this._zoom=e},n.prototype.setCenter=function(e){this._center=this._projection.lngLatToPoint(new BMap.Point(e[0],e[1]))},n.prototype.setMapOffset=function(e){this._mapOffset=e},n.prototype.getBMap=function(){return this._bmap},n.prototype.dataToPoint=function(e){var t=new BMap.Point(e[0],e[1]),n=this._bmap.pointToOverlayPixel(t),i=this._mapOffset;return[n.x-i[0],n.y-i[1]]},n.prototype.pointToData=function(e){var t=this._mapOffset;return[(e=this._bmap.overlayPixelToPoint({x:e[0]+t[0],y:e[1]+t[1]})).lng,e.lat]},n.prototype.getViewRect=function(){var e=this._api;return new t.graphic.BoundingRect(0,0,e.getWidth(),e.getHeight())},n.prototype.getRoamTransform=function(){return t.matrix.create()},n.prototype.prepareCustoms=function(e){var n=this.getViewRect();return{coordSys:{type:\"bmap\",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:t.util.bind(this.dataToPoint,this),size:t.util.bind(i,this)}}},n.dimensions=n.prototype.dimensions,n.create=function(e,t){var i,o=t.getDom();e.eachComponent(\"bmap\",function(e){var a=t.getZr().painter,s=a.getViewportRoot();if(\"undefined\"==typeof BMap)throw new Error(\"BMap api is not loaded\");if(r=r||function(){function e(e){this._root=e}return(e.prototype=new BMap.Overlay).initialize=function(e){return e.getPanes().labelPane.appendChild(this._root),this._root},e.prototype.draw=function(){},e}(),i)throw new Error(\"Only one bmap component can exist\");if(!e.__bmap){var l=o.querySelector(\".ec-extension-bmap\");l&&(s.style.left=\"0px\",s.style.top=\"0px\",o.removeChild(l)),(l=document.createElement(\"div\")).style.cssText=\"width:100%;height:100%\",l.classList.add(\"ec-extension-bmap\"),o.appendChild(l);var u=e.__bmap=new BMap.Map(l),c=new r(s);u.addOverlay(c),a.getViewportRootOffset=function(){return{offsetLeft:0,offsetTop:0}}}u=e.__bmap;var d=e.get(\"center\"),h=e.get(\"zoom\");if(d&&h){var f=new BMap.Point(d[0],d[1]);u.centerAndZoom(f,h)}(i=new n(u,t)).setMapOffset(e.__mapOffset||[0,0]),i.setZoom(h),i.setCenter(d),e.coordinateSystem=i}),e.eachSeries(function(e){\"bmap\"===e.get(\"coordinateSystem\")&&(e.coordinateSystem=i)})},t.extendComponentModel({type:\"bmap\",getBMap:function(){return this.__bmap},setCenterAndZoom:function(e,t){this.option.center=e,this.option.zoom=t},centerOrZoomChanged:function(e,t){var n=this.option;return!(function(e,t){return e&&t&&e[0]===t[0]&&e[1]===t[1]}(e,n.center)&&t===n.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},roam:!1}}),t.extendComponentView({type:\"bmap\",render:function(e,t,n){function i(){r||n.dispatchAction({type:\"bmapRoam\"})}var r=!0,o=e.getBMap(),a=n.getZr().painter.getViewportRoot(),s=e.coordinateSystem,l=function(t,i){if(!r){var o=a.parentNode.parentNode.parentNode,l=[-parseInt(o.style.left,10)||0,-parseInt(o.style.top,10)||0];a.style.left=l[0]+\"px\",a.style.top=l[1]+\"px\",s.setMapOffset(l),e.__mapOffset=l,n.dispatchAction({type:\"bmapRoam\"})}};o.removeEventListener(\"moving\",this._oldMoveHandler),o.removeEventListener(\"zoomend\",this._oldZoomEndHandler),o.addEventListener(\"moving\",l),o.addEventListener(\"zoomend\",i),this._oldMoveHandler=l,this._oldZoomEndHandler=i;var u=e.get(\"roam\");u&&\"scale\"!==u?o.enableDragging():o.disableDragging(),u&&\"move\"!==u?(o.enableScrollWheelZoom(),o.enableDoubleClickZoom(),o.enablePinchToZoom()):(o.disableScrollWheelZoom(),o.disableDoubleClickZoom(),o.disablePinchToZoom());var c=e.__mapStyle,d=e.get(\"mapStyle\")||{},h=JSON.stringify(d);JSON.stringify(c)!==h&&(Object.keys(d).length&&o.setMapStyle(d),e.__mapStyle=JSON.parse(h)),r=!1}}),t.registerCoordinateSystem(\"bmap\",n),t.registerAction({type:\"bmapRoam\",event:\"bmapRoam\",update:\"updateLayout\"},function(e,t){t.eachComponent(\"bmap\",function(e){var t=e.getBMap(),n=t.getCenter();e.setCenterAndZoom([n.lng,n.lat],t.getZoom())})}),e.version=\"1.0.0\"}),function(e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).Chart=e()}(function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l=\"function\"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error(\"Cannot find module '\"+a+\"'\");throw u.code=\"MODULE_NOT_FOUND\",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){return r(t[a][1][e]||e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var o=\"function\"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){},{}],2:[function(e,t,n){function i(e){if(e){var t=[0,0,0],n=1,i=e.match(/^#([a-fA-F0-9]{3})$/i);if(i)for(i=i[1],r=0;r<t.length;r++)t[r]=parseInt(i[r]+i[r],16);else if(i=e.match(/^#([a-fA-F0-9]{6})$/i))for(i=i[1],r=0;r<t.length;r++)t[r]=parseInt(i.slice(2*r,2*r+2),16);else if(i=e.match(/^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/i)){for(r=0;r<t.length;r++)t[r]=parseInt(i[r+1]);n=parseFloat(i[4])}else if(i=e.match(/^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/i)){for(r=0;r<t.length;r++)t[r]=Math.round(2.55*parseFloat(i[r+1]));n=parseFloat(i[4])}else if(i=e.match(/(\\w+)/)){if(\"transparent\"==i[1])return[0,0,0,0];if(!(t=d[i[1]]))return}for(var r=0;r<t.length;r++)t[r]=u(t[r],0,255);return n=n||0==n?u(n,0,1):1,t[3]=n,t}}function r(e){if(e){var t=e.match(/^hsla?\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/);if(t){var n=parseFloat(t[4]);return[u(parseInt(t[1]),0,360),u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(n)?1:n,0,1)]}}}function o(e){if(e){var t=e.match(/^hwb\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/);if(t){var n=parseFloat(t[4]);return[u(parseInt(t[1]),0,360),u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(n)?1:n,0,1)]}}}function a(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),\"rgba(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+t+\")\"}function s(e,t){return\"rgba(\"+Math.round(e[0]/255*100)+\"%, \"+Math.round(e[1]/255*100)+\"%, \"+Math.round(e[2]/255*100)+\"%, \"+(t||e[3]||1)+\")\"}function l(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),\"hsla(\"+e[0]+\", \"+e[1]+\"%, \"+e[2]+\"%, \"+t+\")\"}function u(e,t,n){return Math.min(Math.max(t,e),n)}function c(e){var t=e.toString(16).toUpperCase();return t.length<2?\"0\"+t:t}var d=e(6);t.exports={getRgba:i,getHsla:r,getRgb:function(e){var t=i(e);return t&&t.slice(0,3)},getHsl:function(e){var t=r(e);return t&&t.slice(0,3)},getHwb:o,getAlpha:function(e){var t=i(e);return t||(t=r(e))||(t=o(e))?t[3]:void 0},hexString:function(e){return\"#\"+c(e[0])+c(e[1])+c(e[2])},rgbString:function(e,t){return t<1||e[3]&&e[3]<1?a(e,t):\"rgb(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\")\"},rgbaString:a,percentString:function(e,t){return t<1||e[3]&&e[3]<1?s(e,t):\"rgb(\"+Math.round(e[0]/255*100)+\"%, \"+Math.round(e[1]/255*100)+\"%, \"+Math.round(e[2]/255*100)+\"%)\"},percentaString:s,hslString:function(e,t){return t<1||e[3]&&e[3]<1?l(e,t):\"hsl(\"+e[0]+\", \"+e[1]+\"%, \"+e[2]+\"%)\"},hslaString:l,hwbString:function(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),\"hwb(\"+e[0]+\", \"+e[1]+\"%, \"+e[2]+\"%\"+(void 0!==t&&1!==t?\", \"+t:\"\")+\")\"},keyword:function(e){return h[e.slice(0,3)]}};var h={};for(var f in d)h[d[f]]=f},{6:6}],3:[function(e,t,n){var i=e(5),r=e(2),o=function(e){return e instanceof o?e:this instanceof o?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void(\"string\"==typeof e?(t=r.getRgba(e))?this.setValues(\"rgb\",t):(t=r.getHsla(e))?this.setValues(\"hsl\",t):(t=r.getHwb(e))&&this.setValues(\"hwb\",t):\"object\"==typeof e&&(void 0!==(t=e).r||void 0!==t.red?this.setValues(\"rgb\",t):void 0!==t.l||void 0!==t.lightness?this.setValues(\"hsl\",t):void 0!==t.v||void 0!==t.value?this.setValues(\"hsv\",t):void 0!==t.w||void 0!==t.whiteness?this.setValues(\"hwb\",t):void 0===t.c&&void 0===t.cyan||this.setValues(\"cmyk\",t)))):new o(e);var t};o.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace(\"rgb\",arguments)},hsl:function(){return this.setSpace(\"hsl\",arguments)},hsv:function(){return this.setSpace(\"hsv\",arguments)},hwb:function(){return this.setSpace(\"hwb\",arguments)},cmyk:function(){return this.setSpace(\"cmyk\",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues(\"alpha\",e),this)},red:function(e){return this.setChannel(\"rgb\",0,e)},green:function(e){return this.setChannel(\"rgb\",1,e)},blue:function(e){return this.setChannel(\"rgb\",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel(\"hsl\",0,e)},saturation:function(e){return this.setChannel(\"hsl\",1,e)},lightness:function(e){return this.setChannel(\"hsl\",2,e)},saturationv:function(e){return this.setChannel(\"hsv\",1,e)},whiteness:function(e){return this.setChannel(\"hwb\",1,e)},blackness:function(e){return this.setChannel(\"hwb\",2,e)},value:function(e){return this.setChannel(\"hsv\",2,e)},cyan:function(e){return this.setChannel(\"cmyk\",0,e)},magenta:function(e){return this.setChannel(\"cmyk\",1,e)},yellow:function(e){return this.setChannel(\"cmyk\",2,e)},black:function(e){return this.setChannel(\"cmyk\",3,e)},hexString:function(){return r.hexString(this.values.rgb)},rgbString:function(){return r.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return r.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return r.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return r.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return r.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return r.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return r.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var i=e[n]/255;t[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?\"AAA\":t>=4.5?\"AA\":\"\"},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues(\"rgb\",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues(\"hsl\",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues(\"hsl\",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues(\"hsl\",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues(\"hsl\",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues(\"hwb\",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues(\"hwb\",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues(\"rgb\",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues(\"alpha\",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues(\"alpha\",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues(\"hsl\",t),this},mix:function(e,t){var n=this,i=e,r=void 0===t?.5:t,o=2*r-1,a=n.alpha()-i.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,l=1-s;return this.rgb(s*n.red()+l*i.red(),s*n.green()+l*i.green(),s*n.blue()+l*i.blue()).alpha(n.alpha()*r+i.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new o,i=this.values,r=n.values;for(var a in i)i.hasOwnProperty(a)&&(\"[object Array]\"===(t={}.toString.call(e=i[a]))?r[a]=e.slice(0):\"[object Number]\"===t?r[a]=e:console.error(\"unexpected color value:\",e));return n}},o.prototype.spaces={rgb:[\"red\",\"green\",\"blue\"],hsl:[\"hue\",\"saturation\",\"lightness\"],hsv:[\"hue\",\"saturation\",\"value\"],hwb:[\"hue\",\"whiteness\",\"blackness\"],cmyk:[\"cyan\",\"magenta\",\"yellow\",\"black\"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(e){for(var t=this.values,n={},i=0;i<e.length;i++)n[e.charAt(i)]=t[e][i];return 1!==t.alpha&&(n.a=t.alpha),n},o.prototype.setValues=function(e,t){var n,r,o=this.values,a=this.spaces,s=this.maxes,l=1;if(this.valid=!0,\"alpha\"===e)l=t;else if(t.length)o[e]=t.slice(0,e.length),l=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)o[e][n]=t[e.charAt(n)];l=t.a}else if(void 0!==t[a[e][0]]){var u=a[e];for(n=0;n<e.length;n++)o[e][n]=t[u[n]];l=t.alpha}if(o.alpha=Math.max(0,Math.min(1,void 0===l?o.alpha:l)),\"alpha\"===e)return!1;for(n=0;n<e.length;n++)r=Math.max(0,Math.min(s[e][n],o[e][n])),o[e][n]=Math.round(r);for(var c in a)c!==e&&(o[c]=i[e][c](o[e]));return!0},o.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):(\"number\"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},o.prototype.setChannel=function(e,t,n){var i=this.values[e];return void 0===n?i[t]:(n===i[t]||(i[t]=n,this.setValues(e,i)),this)},\"undefined\"!=typeof window&&(window.Color=o),t.exports=o},{2:2,5:5}],4:[function(e,t,n){function i(e){var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a;return s==a?t=0:i==s?t=(r-o)/l:r==s?t=2+(o-i)/l:o==s&&(t=4+(i-r)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s==a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]}function o(e){var t,n,i=e[0],r=e[1],o=e[2],a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a;return n=0==s?0:l/s*1e3/10,s==a?t=0:i==s?t=(r-o)/l:r==s?t=2+(o-i)/l:o==s&&(t=4+(i-r)/l),(t=Math.min(60*t,360))<0&&(t+=360),[t,n,s/255*1e3/10]}function a(e){var t=e[0],n=e[1],r=e[2];return[i(e)[0],1/255*Math.min(t,Math.min(n,r))*100,100*(r=1-1/255*Math.max(t,Math.max(n,r)))]}function s(e){var t,n=e[0]/255,i=e[1]/255,r=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-i,1-r)))/(1-t)||0),100*((1-i-t)/(1-t)||0),100*((1-r-t)/(1-t)||0),100*t]}function l(e){return M[JSON.stringify(e)]}function u(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*t+.7152*n+.0722*i),100*(.0193*t+.1192*n+.9505*i)]}function c(e){var t=u(e),n=t[0],i=t[1],r=t[2];return i/=100,r/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function d(e){var t,n,i,r,o,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return[o=255*l,o,o];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var u=0;u<3;u++)(i=a+1/3*-(u-1))<0&&i++,i>1&&i--,r[u]=255*(o=6*i<1?t+6*(n-t)*i:2*i<1?n:3*i<2?t+(n-t)*(2/3-i)*6:t);return r}function h(e){var t=e[0]/60,n=e[1]/100,i=e[2]/100,r=Math.floor(t)%6,o=t-Math.floor(t),a=255*i*(1-n),s=255*i*(1-n*o),l=255*i*(1-n*(1-o));switch(i*=255,r){case 0:return[i,l,a];case 1:return[s,i,a];case 2:return[a,i,l];case 3:return[a,s,i];case 4:return[l,a,i];case 5:return[i,a,s]}}function f(e){var t,n,i,o,a=e[0]/360,s=e[1]/100,l=e[2]/100,u=s+l;switch(u>1&&(s/=u,l/=u),i=6*a-(t=Math.floor(6*a)),0!=(1&t)&&(i=1-i),o=s+i*((n=1-l)-s),t){default:case 6:case 0:r=n,g=o,b=s;break;case 1:r=o,g=n,b=s;break;case 2:r=s,g=n,b=o;break;case 3:r=s,g=o,b=n;break;case 4:r=o,g=s,b=n;break;case 5:r=n,g=s,b=o}return[255*r,255*g,255*b]}function p(e){var t=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,e[0]/100*(1-i)+i)),255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]}function m(e){var t,n,i,r=e[0]/100,o=e[1]/100,a=e[2]/100;return n=-.9689*r+1.8758*o+.0415*a,i=.0557*r+-.204*o+1.057*a,t=(t=3.2406*r+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]}function v(e){var t=e[0],n=e[1],i=e[2];return n/=100,i/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]}function y(e){var t,n,i,r,o=e[0],a=e[1],s=e[2];return o<=8?r=(n=100*o/903.3)/100*7.787+16/116:(n=100*Math.pow((o+16)/116,3),r=Math.pow(n/100,1/3)),[t=t/95.047<=.008856?t=95.047*(a/500+r-16/116)/7.787:95.047*Math.pow(a/500+r,3),n,i=i/108.883<=.008859?i=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3)]}function x(e){var t,n=e[0],i=e[1],r=e[2];return(t=360*Math.atan2(r,i)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(i*i+r*r),t]}function _(e){return m(y(e))}function w(e){var t,n=e[1];return t=e[2]/360*2*Math.PI,[e[0],n*Math.cos(t),n*Math.sin(t)]}function S(e){return C[e]}t.exports={rgb2hsl:i,rgb2hsv:o,rgb2hwb:a,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:u,rgb2lab:c,rgb2lch:function(e){return x(c(e))},hsl2rgb:d,hsl2hsv:function(e){var t=e[1]/100,n=e[2]/100;return 0===n?[0,0,0]:[e[0],2*(t*=(n*=2)<=1?n:2-n)/(n+t)*100,(n+t)/2*100]},hsl2hwb:function(e){return a(d(e))},hsl2cmyk:function(e){return s(d(e))},hsl2keyword:function(e){return l(d(e))},hsv2rgb:h,hsv2hsl:function(e){var t,n,i=e[1]/100,r=e[2]/100;return t=i*r,[e[0],100*(t=(t/=(n=(2-i)*r)<=1?n:2-n)||0),100*(n/=2)]},hsv2hwb:function(e){return a(h(e))},hsv2cmyk:function(e){return s(h(e))},hsv2keyword:function(e){return l(h(e))},hwb2rgb:f,hwb2hsl:function(e){return i(f(e))},hwb2hsv:function(e){return o(f(e))},hwb2cmyk:function(e){return s(f(e))},hwb2keyword:function(e){return l(f(e))},cmyk2rgb:p,cmyk2hsl:function(e){return i(p(e))},cmyk2hsv:function(e){return o(p(e))},cmyk2hwb:function(e){return a(p(e))},cmyk2keyword:function(e){return l(p(e))},keyword2rgb:S,keyword2hsl:function(e){return i(S(e))},keyword2hsv:function(e){return o(S(e))},keyword2hwb:function(e){return a(S(e))},keyword2cmyk:function(e){return s(S(e))},keyword2lab:function(e){return c(S(e))},keyword2xyz:function(e){return u(S(e))},xyz2rgb:m,xyz2lab:v,xyz2lch:function(e){return x(v(e))},lab2xyz:y,lab2rgb:_,lab2lch:x,lch2lab:w,lch2xyz:function(e){return y(w(e))},lch2rgb:function(e){return _(w(e))}};var C={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},M={};for(var T in C)M[JSON.stringify(C[T])]=T},{}],5:[function(e,t,n){var i=e(4),r=function(){return new u};for(var o in i){r[o+\"Raw\"]=function(e){return function(t){return\"number\"==typeof t&&(t=Array.prototype.slice.call(arguments)),i[e](t)}}(o);var a=/(\\w+)2(\\w+)/.exec(o),s=a[1],l=a[2];(r[s]=r[s]||{})[l]=r[o]=function(e){return function(t){\"number\"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=i[e](t);if(\"string\"==typeof n||void 0===n)return n;for(var r=0;r<n.length;r++)n[r]=Math.round(n[r]);return n}}(o)}var u=function(){this.convs={}};u.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):(\"number\"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},u.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},u.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space;t=r[n][e](this.convs[n]),this.convs[e]=t}return t},[\"rgb\",\"hsl\",\"hsv\",\"cmyk\",\"keyword\"].forEach(function(e){u.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),t.exports=r},{4:4}],6:[function(e,t,n){\"use strict\";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(e,t,n){var i=e(29)();i.helpers=e(45),e(27)(i),i.defaults=e(25),i.Element=e(26),i.elements=e(40),i.Interaction=e(28),i.platform=e(48),e(31)(i),e(22)(i),e(23)(i),e(24)(i),e(30)(i),e(33)(i),e(32)(i),e(35)(i),e(54)(i),e(52)(i),e(53)(i),e(55)(i),e(56)(i),e(57)(i),e(15)(i),e(16)(i),e(17)(i),e(18)(i),e(19)(i),e(20)(i),e(21)(i),e(8)(i),e(9)(i),e(10)(i),e(11)(i),e(12)(i),e(13)(i),e(14)(i);var r=[];r.push(e(49)(i),e(50)(i),e(51)(i)),i.plugins.register(r),i.platform.initialize(),t.exports=i,\"undefined\"!=typeof window&&(window.Chart=i),i.canvasHelpers=i.helpers.canvas},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,35:35,40:40,45:45,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,8:8,9:9}],8:[function(e,t,n){\"use strict\";t.exports=function(e){e.Bar=function(t,n){return n.type=\"bar\",new e(t,n)}}},{}],9:[function(e,t,n){\"use strict\";t.exports=function(e){e.Bubble=function(t,n){return n.type=\"bubble\",new e(t,n)}}},{}],10:[function(e,t,n){\"use strict\";t.exports=function(e){e.Doughnut=function(t,n){return n.type=\"doughnut\",new e(t,n)}}},{}],11:[function(e,t,n){\"use strict\";t.exports=function(e){e.Line=function(t,n){return n.type=\"line\",new e(t,n)}}},{}],12:[function(e,t,n){\"use strict\";t.exports=function(e){e.PolarArea=function(t,n){return n.type=\"polarArea\",new e(t,n)}}},{}],13:[function(e,t,n){\"use strict\";t.exports=function(e){e.Radar=function(t,n){return n.type=\"radar\",new e(t,n)}}},{}],14:[function(e,t,n){\"use strict\";t.exports=function(e){e.Scatter=function(t,n){return n.type=\"scatter\",new e(t,n)}}},{}],15:[function(e,t,n){\"use strict\";var i=e(25),r=e(40),o=e(45);i._set(\"bar\",{hover:{mode:\"label\"},scales:{xAxes:[{type:\"category\",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:\"linear\"}]}}),i._set(\"horizontalBar\",{hover:{mode:\"index\",axis:\"y\"},scales:{xAxes:[{type:\"linear\",position:\"bottom\"}],yAxes:[{position:\"left\",type:\"category\",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:\"left\"}},tooltips:{callbacks:{title:function(e,t){var n=\"\";return e.length>0&&(e[0].yLabel?n=e[0].yLabel:t.labels.length>0&&e[0].index<t.labels.length&&(n=t.labels[e[0].index])),n},label:function(e,t){return(t.datasets[e.datasetIndex].label||\"\")+\": \"+e.xLabel}},mode:\"index\",axis:\"y\"}}),t.exports=function(e){e.controllers.bar=e.DatasetController.extend({dataElementType:r.Rectangle,initialize:function(){var t,n=this;e.DatasetController.prototype.initialize.apply(n,arguments),(t=n.getMeta()).stack=n.getDataset().stack,t.bar=!0},update:function(e){var t,n,i=this,r=i.getMeta().data;for(i._ruler=i.getRuler(),t=0,n=r.length;t<n;++t)i.updateElement(r[t],t,e)},updateElement:function(e,t,n){var i=this,r=i.chart,a=i.getMeta(),s=i.getDataset(),l=e.custom||{},u=r.options.elements.rectangle;e._xScale=i.getScaleForId(a.xAxisID),e._yScale=i.getScaleForId(a.yAxisID),e._datasetIndex=i.index,e._index=t,e._model={datasetLabel:s.label,label:r.data.labels[t],borderSkipped:l.borderSkipped?l.borderSkipped:u.borderSkipped,backgroundColor:l.backgroundColor?l.backgroundColor:o.valueAtIndexOrDefault(s.backgroundColor,t,u.backgroundColor),borderColor:l.borderColor?l.borderColor:o.valueAtIndexOrDefault(s.borderColor,t,u.borderColor),borderWidth:l.borderWidth?l.borderWidth:o.valueAtIndexOrDefault(s.borderWidth,t,u.borderWidth)},i.updateElementGeometry(e,t,n),e.pivot()},updateElementGeometry:function(e,t,n){var i=this,r=e._model,o=i.getValueScale(),a=o.getBasePixel(),s=o.isHorizontal(),l=i._ruler||i.getRuler(),u=i.calculateBarValuePixels(i.index,t),c=i.calculateBarIndexPixels(i.index,t,l);r.horizontal=s,r.base=n?a:u.base,r.x=s?n?a:u.head:c.center,r.y=s?c.center:n?a:u.head,r.height=s?c.size:void 0,r.width=s?void 0:c.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(e){var t,n,i=this.chart,r=this.getIndexScale().options.stacked,o=void 0===e?i.data.datasets.length:e+1,a=[];for(t=0;t<o;++t)(n=i.getDatasetMeta(t)).bar&&i.isDatasetVisible(t)&&(!1===r||!0===r&&-1===a.indexOf(n.stack)||void 0===r&&(void 0===n.stack||-1===a.indexOf(n.stack)))&&a.push(n.stack);return a.length},getStackIndex:function(e){return this.getStackCount(e)-1},getRuler:function(){var e,t,n=this,i=n.getIndexScale(),r=n.getStackCount(),o=n.index,a=[],s=i.isHorizontal(),l=s?i.left:i.top,u=l+(s?i.width:i.height);for(e=0,t=n.getMeta().data.length;e<t;++e)a.push(i.getPixelForValue(null,e,o));return{pixels:a,start:l,end:u,stackCount:r,scale:i}},calculateBarValuePixels:function(e,t){var n,i,r,o,a,s,l=this,u=l.chart,c=l.getMeta(),d=l.getValueScale(),h=u.data.datasets,f=d.getRightValue(h[e].data[t]),p=d.options.stacked,g=c.stack,m=0;if(p||void 0===p&&void 0!==g)for(n=0;n<e;++n)(i=u.getDatasetMeta(n)).bar&&i.stack===g&&i.controller.getValueScaleId()===d.id&&u.isDatasetVisible(n)&&(r=d.getRightValue(h[n].data[t]),(f<0&&r<0||f>=0&&r>0)&&(m+=r));return o=d.getPixelForValue(m),{size:s=((a=d.getPixelForValue(m+f))-o)/2,base:o,head:a,center:a+s/2}},calculateBarIndexPixels:function(e,t,n){var i,r,a,s,l,u=n.scale.options,c=this.getStackIndex(e),d=n.pixels,h=d[t],f=d.length,p=n.start,g=n.end;return 1===f?(i=h>p?h-p:g-h,r=h<g?g-h:h-p):(t>0&&(i=(h-d[t-1])/2,t===f-1&&(r=i)),t<f-1&&(r=(d[t+1]-h)/2,0===t&&(i=r))),l=(s=((a=i*u.categoryPercentage)+r*u.categoryPercentage)/n.stackCount)*u.barPercentage,h-=a,h+=s*c,{size:l=Math.min(o.valueOrDefault(u.barThickness,l),o.valueOrDefault(u.maxBarThickness,1/0)),base:h+=(s-l)/2,head:h+l,center:h+l/2}},draw:function(){var e=this,t=e.chart,n=e.getValueScale(),i=e.getMeta().data,r=e.getDataset(),a=i.length,s=0;for(o.canvas.clipArea(t.ctx,t.chartArea);s<a;++s)isNaN(n.getRightValue(r.data[s]))||i[s].draw();o.canvas.unclipArea(t.ctx)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,i=e.custom||{},r=e._model;r.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:o.valueAtIndexOrDefault(t.hoverBackgroundColor,n,o.getHoverColor(r.backgroundColor)),r.borderColor=i.hoverBorderColor?i.hoverBorderColor:o.valueAtIndexOrDefault(t.hoverBorderColor,n,o.getHoverColor(r.borderColor)),r.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:o.valueAtIndexOrDefault(t.hoverBorderWidth,n,r.borderWidth)},removeHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,i=e.custom||{},r=e._model,a=this.chart.options.elements.rectangle;r.backgroundColor=i.backgroundColor?i.backgroundColor:o.valueAtIndexOrDefault(t.backgroundColor,n,a.backgroundColor),r.borderColor=i.borderColor?i.borderColor:o.valueAtIndexOrDefault(t.borderColor,n,a.borderColor),r.borderWidth=i.borderWidth?i.borderWidth:o.valueAtIndexOrDefault(t.borderWidth,n,a.borderWidth)}}),e.controllers.horizontalBar=e.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{25:25,40:40,45:45}],16:[function(e,t,n){\"use strict\";var i=e(25),r=e(40),o=e(45);i._set(\"bubble\",{hover:{mode:\"single\"},scales:{xAxes:[{type:\"linear\",position:\"bottom\",id:\"x-axis-0\"}],yAxes:[{type:\"linear\",position:\"left\",id:\"y-axis-0\"}]},tooltips:{callbacks:{title:function(){return\"\"},label:function(e,t){return(t.datasets[e.datasetIndex].label||\"\")+\": (\"+e.xLabel+\", \"+e.yLabel+\", \"+t.datasets[e.datasetIndex].data[e.index].r+\")\"}}}}),t.exports=function(e){e.controllers.bubble=e.DatasetController.extend({dataElementType:r.Point,update:function(e){var t=this,n=t.getMeta().data;o.each(n,function(n,i){t.updateElement(n,i,e)})},updateElement:function(e,t,n){var i=this,r=i.getMeta(),o=e.custom||{},a=i.getScaleForId(r.xAxisID),s=i.getScaleForId(r.yAxisID),l=i._resolveElementOptions(e,t),u=i.getDataset().data[t],c=i.index,d=n?a.getPixelForDecimal(.5):a.getPixelForValue(\"object\"==typeof u?u:NaN,t,c),h=n?s.getBasePixel():s.getPixelForValue(u,t,c);e._xScale=a,e._yScale=s,e._options=l,e._datasetIndex=c,e._index=t,e._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,radius:n?0:l.radius,skip:o.skip||isNaN(d)||isNaN(h),x:d,y:h},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options;t.backgroundColor=o.valueOrDefault(n.hoverBackgroundColor,o.getHoverColor(n.backgroundColor)),t.borderColor=o.valueOrDefault(n.hoverBorderColor,o.getHoverColor(n.borderColor)),t.borderWidth=o.valueOrDefault(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},removeHoverStyle:function(e){var t=e._model,n=e._options;t.backgroundColor=n.backgroundColor,t.borderColor=n.borderColor,t.borderWidth=n.borderWidth,t.radius=n.radius},_resolveElementOptions:function(e,t){var n,i,r,a=this,s=a.chart,l=s.data.datasets[a.index],u=e.custom||{},c=s.options.elements.point,d=o.options.resolve,h=l.data[t],f={},p={chart:s,dataIndex:t,dataset:l,datasetIndex:a.index},g=[\"backgroundColor\",\"borderColor\",\"borderWidth\",\"hoverBackgroundColor\",\"hoverBorderColor\",\"hoverBorderWidth\",\"hoverRadius\",\"hitRadius\",\"pointStyle\"];for(n=0,i=g.length;n<i;++n)f[r=g[n]]=d([u[r],l[r],c[r]],p,t);return f.radius=d([u.radius,h?h.r:void 0,l.radius,c.radius],p,t),f}})}},{25:25,40:40,45:45}],17:[function(e,t,n){\"use strict\";var i=e(25),r=e(40),o=e(45);i._set(\"doughnut\",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:\"single\"},legendCallback:function(e){var t=[];t.push('<ul class=\"'+e.id+'-legend\">');var n=e.data,i=n.datasets,r=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)t.push('<li><span style=\"background-color:'+i[0].backgroundColor[o]+'\"></span>'),r[o]&&t.push(r[o]),t.push(\"</li>\");return t.push(\"</ul>\"),t.join(\"\")},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(n,i){var r=e.getDatasetMeta(0),a=t.datasets[0],s=r.data[i],l=s&&s.custom||{},u=o.valueAtIndexOrDefault,c=e.options.elements.arc;return{text:n,fillStyle:l.backgroundColor?l.backgroundColor:u(a.backgroundColor,i,c.backgroundColor),strokeStyle:l.borderColor?l.borderColor:u(a.borderColor,i,c.borderColor),lineWidth:l.borderWidth?l.borderWidth:u(a.borderWidth,i,c.borderWidth),hidden:isNaN(a.data[i])||r.data[i].hidden,index:i}}):[]}},onClick:function(e,t){var n,i,r,o=t.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)(r=a.getDatasetMeta(n)).data[o]&&(r.data[o].hidden=!r.data[o].hidden);a.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return\"\"},label:function(e,t){var n=t.labels[e.index],i=\": \"+t.datasets[e.datasetIndex].data[e.index];return o.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}}),i._set(\"pie\",o.clone(i.doughnut)),i._set(\"pie\",{cutoutPercentage:0}),t.exports=function(e){e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:r.Arc,linkScales:o.noop,getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var t=this,n=t.chart,i=n.chartArea,r=n.options,a=r.elements.arc,s=i.right-i.left-a.borderWidth,l=i.bottom-i.top-a.borderWidth,u=Math.min(s,l),c={x:0,y:0},d=t.getMeta(),h=r.cutoutPercentage,f=r.circumference;if(f<2*Math.PI){var p=r.rotation%(2*Math.PI),g=(p+=2*Math.PI*(p>=Math.PI?-1:p<-Math.PI?1:0))+f,m={x:Math.cos(p),y:Math.sin(p)},v={x:Math.cos(g),y:Math.sin(g)},y=p<=0&&g>=0||p<=2*Math.PI&&2*Math.PI<=g,x=p<=.5*Math.PI&&.5*Math.PI<=g||p<=2.5*Math.PI&&2.5*Math.PI<=g,b=p<=-Math.PI&&-Math.PI<=g||p<=Math.PI&&Math.PI<=g,_=p<=.5*-Math.PI&&.5*-Math.PI<=g||p<=1.5*Math.PI&&1.5*Math.PI<=g,w=h/100,S={x:b?-1:Math.min(m.x*(m.x<0?1:w),v.x*(v.x<0?1:w)),y:_?-1:Math.min(m.y*(m.y<0?1:w),v.y*(v.y<0?1:w))},C={x:y?1:Math.max(m.x*(m.x>0?1:w),v.x*(v.x>0?1:w)),y:x?1:Math.max(m.y*(m.y>0?1:w),v.y*(v.y>0?1:w))},M={width:.5*(C.x-S.x),height:.5*(C.y-S.y)};u=Math.min(s/M.width,l/M.height),c={x:-.5*(C.x+S.x),y:-.5*(C.y+S.y)}}n.borderWidth=t.getMaxBorderWidth(d.data),n.outerRadius=Math.max((u-n.borderWidth)/2,0),n.innerRadius=Math.max(h?n.outerRadius/100*h:0,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),n.offsetX=c.x*n.outerRadius,n.offsetY=c.y*n.outerRadius,d.total=t.calculateTotal(),t.outerRadius=n.outerRadius-n.radiusLength*t.getRingIndex(t.index),t.innerRadius=Math.max(t.outerRadius-n.radiusLength,0),o.each(d.data,function(n,i){t.updateElement(n,i,e)})},updateElement:function(e,t,n){var i=this,r=i.chart,a=r.chartArea,s=r.options,l=s.animation,u=(a.left+a.right)/2,c=(a.top+a.bottom)/2,d=s.rotation,h=s.rotation,f=i.getDataset(),p=n&&l.animateRotate||e.hidden?0:i.calculateCircumference(f.data[t])*(s.circumference/(2*Math.PI));o.extend(e,{_datasetIndex:i.index,_index:t,_model:{x:u+r.offsetX,y:c+r.offsetY,startAngle:d,endAngle:h,circumference:p,outerRadius:n&&l.animateScale?0:i.outerRadius,innerRadius:n&&l.animateScale?0:i.innerRadius,label:(0,o.valueAtIndexOrDefault)(f.label,t,r.data.labels[t])}});var g=e._model;this.removeHoverStyle(e),n&&l.animateRotate||(g.startAngle=0===t?s.rotation:i.getMeta().data[t-1]._model.endAngle,g.endAngle=g.startAngle+g.circumference),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},calculateTotal:function(){var e,t=this.getDataset(),n=this.getMeta(),i=0;return o.each(n.data,function(n,r){e=t.data[r],isNaN(e)||n.hidden||(i+=Math.abs(e))}),i},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?2*Math.PI*(e/t):0},getMaxBorderWidth:function(e){for(var t,n,i=0,r=this.index,o=e.length,a=0;a<o;a++)i=(n=e[a]._chart?e[a]._chart.config.data.datasets[r].hoverBorderWidth:0)>(i=(t=e[a]._model?e[a]._model.borderWidth:0)>i?t:i)?n:i;return i}})}},{25:25,40:40,45:45}],18:[function(e,t,n){\"use strict\";var i=e(25),r=e(40),o=e(45);i._set(\"line\",{showLines:!0,spanGaps:!1,hover:{mode:\"label\"},scales:{xAxes:[{type:\"category\",id:\"x-axis-0\"}],yAxes:[{type:\"linear\",id:\"y-axis-0\"}]}}),t.exports=function(e){function t(e,t){return o.valueOrDefault(e.showLine,t.showLines)}e.controllers.line=e.DatasetController.extend({datasetElementType:r.Line,dataElementType:r.Point,update:function(e){var n,i,r,a=this,s=a.getMeta(),l=s.dataset,u=s.data||[],c=a.chart.options,d=c.elements.line,h=a.getScaleForId(s.yAxisID),f=a.getDataset(),p=t(f,c);for(p&&(r=l.custom||{},void 0!==f.tension&&void 0===f.lineTension&&(f.lineTension=f.tension),l._scale=h,l._datasetIndex=a.index,l._children=u,l._model={spanGaps:f.spanGaps?f.spanGaps:c.spanGaps,tension:r.tension?r.tension:o.valueOrDefault(f.lineTension,d.tension),backgroundColor:r.backgroundColor?r.backgroundColor:f.backgroundColor||d.backgroundColor,borderWidth:r.borderWidth?r.borderWidth:f.borderWidth||d.borderWidth,borderColor:r.borderColor?r.borderColor:f.borderColor||d.borderColor,borderCapStyle:r.borderCapStyle?r.borderCapStyle:f.borderCapStyle||d.borderCapStyle,borderDash:r.borderDash?r.borderDash:f.borderDash||d.borderDash,borderDashOffset:r.borderDashOffset?r.borderDashOffset:f.borderDashOffset||d.borderDashOffset,borderJoinStyle:r.borderJoinStyle?r.borderJoinStyle:f.borderJoinStyle||d.borderJoinStyle,fill:r.fill?r.fill:void 0!==f.fill?f.fill:d.fill,steppedLine:r.steppedLine?r.steppedLine:o.valueOrDefault(f.steppedLine,d.stepped),cubicInterpolationMode:r.cubicInterpolationMode?r.cubicInterpolationMode:o.valueOrDefault(f.cubicInterpolationMode,d.cubicInterpolationMode)},l.pivot()),n=0,i=u.length;n<i;++n)a.updateElement(u[n],n,e);for(p&&0!==l._model.tension&&a.updateBezierControlPoints(),n=0,i=u.length;n<i;++n)u[n].pivot()},getPointBackgroundColor:function(e,t){var n=this.chart.options.elements.point.backgroundColor,i=this.getDataset(),r=e.custom||{};return r.backgroundColor?n=r.backgroundColor:i.pointBackgroundColor?n=o.valueAtIndexOrDefault(i.pointBackgroundColor,t,n):i.backgroundColor&&(n=i.backgroundColor),n},getPointBorderColor:function(e,t){var n=this.chart.options.elements.point.borderColor,i=this.getDataset(),r=e.custom||{};return r.borderColor?n=r.borderColor:i.pointBorderColor?n=o.valueAtIndexOrDefault(i.pointBorderColor,t,n):i.borderColor&&(n=i.borderColor),n},getPointBorderWidth:function(e,t){var n=this.chart.options.elements.point.borderWidth,i=this.getDataset(),r=e.custom||{};return isNaN(r.borderWidth)?!isNaN(i.pointBorderWidth)||o.isArray(i.pointBorderWidth)?n=o.valueAtIndexOrDefault(i.pointBorderWidth,t,n):isNaN(i.borderWidth)||(n=i.borderWidth):n=r.borderWidth,n},updateElement:function(e,t,n){var i,r,a=this,s=a.getMeta(),l=e.custom||{},u=a.getDataset(),c=a.index,d=u.data[t],h=a.getScaleForId(s.yAxisID),f=a.getScaleForId(s.xAxisID),p=a.chart.options.elements.point;void 0!==u.radius&&void 0===u.pointRadius&&(u.pointRadius=u.radius),void 0!==u.hitRadius&&void 0===u.pointHitRadius&&(u.pointHitRadius=u.hitRadius),i=f.getPixelForValue(\"object\"==typeof d?d:NaN,t,c),r=n?h.getBasePixel():a.calculatePointY(d,t,c),e._xScale=f,e._yScale=h,e._datasetIndex=c,e._index=t,e._model={x:i,y:r,skip:l.skip||isNaN(i)||isNaN(r),radius:l.radius||o.valueAtIndexOrDefault(u.pointRadius,t,p.radius),pointStyle:l.pointStyle||o.valueAtIndexOrDefault(u.pointStyle,t,p.pointStyle),backgroundColor:a.getPointBackgroundColor(e,t),borderColor:a.getPointBorderColor(e,t),borderWidth:a.getPointBorderWidth(e,t),tension:s.dataset._model?s.dataset._model.tension:0,steppedLine:!!s.dataset._model&&s.dataset._model.steppedLine,hitRadius:l.hitRadius||o.valueAtIndexOrDefault(u.pointHitRadius,t,p.hitRadius)}},calculatePointY:function(e,t,n){var i,r,o,a=this,s=a.chart,l=a.getMeta(),u=a.getScaleForId(l.yAxisID),c=0,d=0;if(u.options.stacked){for(i=0;i<n;i++)if(r=s.data.datasets[i],\"line\"===(o=s.getDatasetMeta(i)).type&&o.yAxisID===u.id&&s.isDatasetVisible(i)){var h=Number(u.getRightValue(r.data[t]));h<0?d+=h||0:c+=h||0}var f=Number(u.getRightValue(e));return u.getPixelForValue(f<0?d+f:c+f)}return u.getPixelForValue(e)},updateBezierControlPoints:function(){function e(e,t,n){return Math.max(Math.min(e,n),t)}var t,n,i,r,a=this,s=a.getMeta(),l=a.chart.chartArea,u=s.data||[];if(s.dataset._model.spanGaps&&(u=u.filter(function(e){return!e._model.skip})),\"monotone\"===s.dataset._model.cubicInterpolationMode)o.splineCurveMonotone(u);else for(t=0,n=u.length;t<n;++t)i=u[t]._model,r=o.splineCurve(o.previousItem(u,t)._model,i,o.nextItem(u,t)._model,s.dataset._model.tension),i.controlPointPreviousX=r.previous.x,i.controlPointPreviousY=r.previous.y,i.controlPointNextX=r.next.x,i.controlPointNextY=r.next.y;if(a.chart.options.elements.line.capBezierPoints)for(t=0,n=u.length;t<n;++t)(i=u[t]._model).controlPointPreviousX=e(i.controlPointPreviousX,l.left,l.right),i.controlPointPreviousY=e(i.controlPointPreviousY,l.top,l.bottom),i.controlPointNextX=e(i.controlPointNextX,l.left,l.right),i.controlPointNextY=e(i.controlPointNextY,l.top,l.bottom)},draw:function(){var e=this,n=e.chart,i=e.getMeta(),r=i.data||[],a=n.chartArea,s=r.length,l=0;for(o.canvas.clipArea(n.ctx,a),t(e.getDataset(),n.options)&&i.dataset.draw(),o.canvas.unclipArea(n.ctx);l<s;++l)r[l].draw(a)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,i=e.custom||{},r=e._model;r.radius=i.hoverRadius||o.valueAtIndexOrDefault(t.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),r.backgroundColor=i.hoverBackgroundColor||o.valueAtIndexOrDefault(t.pointHoverBackgroundColor,n,o.getHoverColor(r.backgroundColor)),r.borderColor=i.hoverBorderColor||o.valueAtIndexOrDefault(t.pointHoverBorderColor,n,o.getHoverColor(r.borderColor)),r.borderWidth=i.hoverBorderWidth||o.valueAtIndexOrDefault(t.pointHoverBorderWidth,n,r.borderWidth)},removeHoverStyle:function(e){var t=this,n=t.chart.data.datasets[e._datasetIndex],i=e._index,r=e.custom||{},a=e._model;void 0!==n.radius&&void 0===n.pointRadius&&(n.pointRadius=n.radius),a.radius=r.radius||o.valueAtIndexOrDefault(n.pointRadius,i,t.chart.options.elements.point.radius),a.backgroundColor=t.getPointBackgroundColor(e,i),a.borderColor=t.getPointBorderColor(e,i),a.borderWidth=t.getPointBorderWidth(e,i)}})}},{25:25,40:40,45:45}],19:[function(e,t,n){\"use strict\";var i=e(25),r=e(40),o=e(45);i._set(\"polarArea\",{scale:{type:\"radialLinear\",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t=[];t.push('<ul class=\"'+e.id+'-legend\">');var n=e.data,i=n.datasets,r=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)t.push('<li><span style=\"background-color:'+i[0].backgroundColor[o]+'\"></span>'),r[o]&&t.push(r[o]),t.push(\"</li>\");return t.push(\"</ul>\"),t.join(\"\")},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(n,i){var r=e.getDatasetMeta(0),a=t.datasets[0],s=r.data[i].custom||{},l=o.valueAtIndexOrDefault,u=e.options.elements.arc;return{text:n,fillStyle:s.backgroundColor?s.backgroundColor:l(a.backgroundColor,i,u.backgroundColor),strokeStyle:s.borderColor?s.borderColor:l(a.borderColor,i,u.borderColor),lineWidth:s.borderWidth?s.borderWidth:l(a.borderWidth,i,u.borderWidth),hidden:isNaN(a.data[i])||r.data[i].hidden,index:i}}):[]}},onClick:function(e,t){var n,i,r,o=t.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)(r=a.getDatasetMeta(n)).data[o].hidden=!r.data[o].hidden;a.update()}},tooltips:{callbacks:{title:function(){return\"\"},label:function(e,t){return t.labels[e.index]+\": \"+e.yLabel}}}}),t.exports=function(e){e.controllers.polarArea=e.DatasetController.extend({dataElementType:r.Arc,linkScales:o.noop,update:function(e){var t=this,n=t.chart,i=n.chartArea,r=t.getMeta(),a=n.options,s=a.elements.arc,l=Math.min(i.right-i.left,i.bottom-i.top);n.outerRadius=Math.max((l-s.borderWidth/2)/2,0),n.innerRadius=Math.max(a.cutoutPercentage?n.outerRadius/100*a.cutoutPercentage:1,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),t.outerRadius=n.outerRadius-n.radiusLength*t.index,t.innerRadius=t.outerRadius-n.radiusLength,r.count=t.countVisibleElements(),o.each(r.data,function(n,i){t.updateElement(n,i,e)})},updateElement:function(e,t,n){for(var i=this,r=i.chart,a=i.getDataset(),s=r.options,l=s.animation,u=r.scale,c=r.data.labels,d=i.calculateCircumference(a.data[t]),h=u.xCenter,f=u.yCenter,p=0,g=i.getMeta(),m=0;m<t;++m)isNaN(a.data[m])||g.data[m].hidden||++p;var v=s.startAngle,y=e.hidden?0:u.getDistanceFromCenterForValue(a.data[t]),x=v+d*p,b=x+(e.hidden?0:d),_=l.animateScale?0:u.getDistanceFromCenterForValue(a.data[t]);o.extend(e,{_datasetIndex:i.index,_index:t,_scale:u,_model:{x:h,y:f,innerRadius:0,outerRadius:n?_:y,startAngle:n&&l.animateRotate?v:x,endAngle:n&&l.animateRotate?v:b,label:o.valueAtIndexOrDefault(c,t,c[t])}}),i.removeHoverStyle(e),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),n=0;return o.each(t.data,function(t,i){isNaN(e.data[i])||t.hidden||n++}),n},calculateCircumference:function(e){var t=this.getMeta().count;return t>0&&!isNaN(e)?2*Math.PI/t:0}})}},{25:25,40:40,45:45}],20:[function(e,t,n){\"use strict\";var i=e(25),r=e(40),o=e(45);i._set(\"radar\",{scale:{type:\"radialLinear\"},elements:{line:{tension:0}}}),t.exports=function(e){e.controllers.radar=e.DatasetController.extend({datasetElementType:r.Line,dataElementType:r.Point,linkScales:o.noop,update:function(e){var t=this,n=t.getMeta(),i=n.data,r=n.dataset.custom||{},a=t.getDataset(),s=t.chart.options.elements.line,l=t.chart.scale;void 0!==a.tension&&void 0===a.lineTension&&(a.lineTension=a.tension),o.extend(n.dataset,{_datasetIndex:t.index,_scale:l,_children:i,_loop:!0,_model:{tension:r.tension?r.tension:o.valueOrDefault(a.lineTension,s.tension),backgroundColor:r.backgroundColor?r.backgroundColor:a.backgroundColor||s.backgroundColor,borderWidth:r.borderWidth?r.borderWidth:a.borderWidth||s.borderWidth,borderColor:r.borderColor?r.borderColor:a.borderColor||s.borderColor,fill:r.fill?r.fill:void 0!==a.fill?a.fill:s.fill,borderCapStyle:r.borderCapStyle?r.borderCapStyle:a.borderCapStyle||s.borderCapStyle,borderDash:r.borderDash?r.borderDash:a.borderDash||s.borderDash,borderDashOffset:r.borderDashOffset?r.borderDashOffset:a.borderDashOffset||s.borderDashOffset,borderJoinStyle:r.borderJoinStyle?r.borderJoinStyle:a.borderJoinStyle||s.borderJoinStyle}}),n.dataset.pivot(),o.each(i,function(n,i){t.updateElement(n,i,e)},t),t.updateBezierControlPoints()},updateElement:function(e,t,n){var i=this,r=e.custom||{},a=i.getDataset(),s=i.chart.scale,l=i.chart.options.elements.point,u=s.getPointPositionForValue(t,a.data[t]);void 0!==a.radius&&void 0===a.pointRadius&&(a.pointRadius=a.radius),void 0!==a.hitRadius&&void 0===a.pointHitRadius&&(a.pointHitRadius=a.hitRadius),o.extend(e,{_datasetIndex:i.index,_index:t,_scale:s,_model:{x:n?s.xCenter:u.x,y:n?s.yCenter:u.y,tension:r.tension?r.tension:o.valueOrDefault(a.lineTension,i.chart.options.elements.line.tension),radius:r.radius?r.radius:o.valueAtIndexOrDefault(a.pointRadius,t,l.radius),backgroundColor:r.backgroundColor?r.backgroundColor:o.valueAtIndexOrDefault(a.pointBackgroundColor,t,l.backgroundColor),borderColor:r.borderColor?r.borderColor:o.valueAtIndexOrDefault(a.pointBorderColor,t,l.borderColor),borderWidth:r.borderWidth?r.borderWidth:o.valueAtIndexOrDefault(a.pointBorderWidth,t,l.borderWidth),pointStyle:r.pointStyle?r.pointStyle:o.valueAtIndexOrDefault(a.pointStyle,t,l.pointStyle),hitRadius:r.hitRadius?r.hitRadius:o.valueAtIndexOrDefault(a.pointHitRadius,t,l.hitRadius)}}),e._model.skip=r.skip?r.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){var e=this.chart.chartArea,t=this.getMeta();o.each(t.data,function(n,i){var r=n._model,a=o.splineCurve(o.previousItem(t.data,i,!0)._model,r,o.nextItem(t.data,i,!0)._model,r.tension);r.controlPointPreviousX=Math.max(Math.min(a.previous.x,e.right),e.left),r.controlPointPreviousY=Math.max(Math.min(a.previous.y,e.bottom),e.top),r.controlPointNextX=Math.max(Math.min(a.next.x,e.right),e.left),r.controlPointNextY=Math.max(Math.min(a.next.y,e.bottom),e.top),n.pivot()})},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e.custom||{},i=e._index,r=e._model;r.radius=n.hoverRadius?n.hoverRadius:o.valueAtIndexOrDefault(t.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),r.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:o.valueAtIndexOrDefault(t.pointHoverBackgroundColor,i,o.getHoverColor(r.backgroundColor)),r.borderColor=n.hoverBorderColor?n.hoverBorderColor:o.valueAtIndexOrDefault(t.pointHoverBorderColor,i,o.getHoverColor(r.borderColor)),r.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:o.valueAtIndexOrDefault(t.pointHoverBorderWidth,i,r.borderWidth)},removeHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e.custom||{},i=e._index,r=e._model,a=this.chart.options.elements.point;r.radius=n.radius?n.radius:o.valueAtIndexOrDefault(t.pointRadius,i,a.radius),r.backgroundColor=n.backgroundColor?n.backgroundColor:o.valueAtIndexOrDefault(t.pointBackgroundColor,i,a.backgroundColor),r.borderColor=n.borderColor?n.borderColor:o.valueAtIndexOrDefault(t.pointBorderColor,i,a.borderColor),r.borderWidth=n.borderWidth?n.borderWidth:o.valueAtIndexOrDefault(t.pointBorderWidth,i,a.borderWidth)}})}},{25:25,40:40,45:45}],21:[function(e,t,n){\"use strict\";e(25)._set(\"scatter\",{hover:{mode:\"single\"},scales:{xAxes:[{id:\"x-axis-1\",type:\"linear\",position:\"bottom\"}],yAxes:[{id:\"y-axis-1\",type:\"linear\",position:\"left\"}]},showLines:!1,tooltips:{callbacks:{title:function(){return\"\"},label:function(e){return\"(\"+e.xLabel+\", \"+e.yLabel+\")\"}}}}),t.exports=function(e){e.controllers.scatter=e.controllers.line}},{25:25}],22:[function(e,t,n){\"use strict\";var i=e(25),r=e(26),o=e(45);i._set(\"global\",{animation:{duration:1e3,easing:\"easeOutQuart\",onProgress:o.noop,onComplete:o.noop}}),t.exports=function(e){e.Animation=r.extend({chart:null,currentStep:0,numSteps:60,easing:\"\",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(e,t,n,i){var r,o,a=this.animations;for(t.chart=e,i||(e.animating=!0),r=0,o=a.length;r<o;++r)if(a[r].chart===e)return void(a[r]=t);a.push(t),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=o.findIndex(this.animations,function(t){return t.chart===e});-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=o.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=this,t=Date.now(),n=0;e.dropFrames>1&&(n=Math.floor(e.dropFrames),e.dropFrames=e.dropFrames%1),e.advance(1+n);var i=Date.now();e.dropFrames+=(i-t)/e.frameDuration,e.animations.length>0&&e.requestAnimationFrame()},advance:function(e){for(var t,n,i=this.animations,r=0;r<i.length;)n=(t=i[r]).chart,t.currentStep=(t.currentStep||0)+e,t.currentStep=Math.min(t.currentStep,t.numSteps),o.callback(t.render,[n,t],n),o.callback(t.onAnimationProgress,[t],n),t.currentStep>=t.numSteps?(o.callback(t.onAnimationComplete,[t],n),n.animating=!1,i.splice(r,1)):++r}},Object.defineProperty(e.Animation.prototype,\"animationObject\",{get:function(){return this}}),Object.defineProperty(e.Animation.prototype,\"chartInstance\",{get:function(){return this.chart},set:function(e){this.chart=e}})}},{25:25,26:26,45:45}],23:[function(e,t,n){\"use strict\";var i=e(25),r=e(45),o=e(28),a=e(48);t.exports=function(e){function t(e){var t=(e=e||{}).data=e.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],e.options=r.configMerge(i.global,i[e.type],e.options||{}),e}function n(e){var t=e.options;t.scale?e.scale.options=t.scale:t.scales&&t.scales.xAxes.concat(t.scales.yAxes).forEach(function(t){e.scales[t.id].options=t}),e.tooltip._options=t.tooltips}function s(e){return\"top\"===e||\"bottom\"===e}var l=e.plugins;e.types={},e.instances={},e.controllers={},r.extend(e.prototype,{construct:function(n,i){var o=this;i=t(i);var s=a.acquireContext(n,i),l=s&&s.canvas,u=l&&l.height,c=l&&l.width;o.id=r.uid(),o.ctx=s,o.canvas=l,o.config=i,o.width=c,o.height=u,o.aspectRatio=u?c/u:null,o.options=i.options,o._bufferedRender=!1,o.chart=o,o.controller=o,e.instances[o.id]=o,Object.defineProperty(o,\"data\",{get:function(){return o.config.data},set:function(e){o.config.data=e}}),s&&l?(o.initialize(),o.update()):console.error(\"Failed to create chart: can't acquire context from the given item\")},initialize:function(){var e=this;return l.notify(e,\"beforeInit\"),r.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.ensureScalesHaveIDs(),e.buildScales(),e.initToolTip(),l.notify(e,\"afterInit\"),e},clear:function(){return r.canvas.clear(this),this},stop:function(){return e.animationService.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,i=t.canvas,o=n.maintainAspectRatio&&t.aspectRatio||null,a=Math.max(0,Math.floor(r.getMaximumWidth(i))),s=Math.max(0,Math.floor(o?a/o:r.getMaximumHeight(i)));if((t.width!==a||t.height!==s)&&(i.width=t.width=a,i.height=t.height=s,i.style.width=a+\"px\",i.style.height=s+\"px\",r.retinaScale(t,n.devicePixelRatio),!e)){var u={width:a,height:s};l.notify(t,\"resize\",[u]),t.options.onResize&&t.options.onResize(t,u),t.stop(),t.update(t.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;r.each(t.xAxes,function(e,t){e.id=e.id||\"x-axis-\"+t}),r.each(t.yAxes,function(e,t){e.id=e.id||\"y-axis-\"+t}),n&&(n.id=n.id||\"scale\")},buildScales:function(){var t=this,n=t.options,i=t.scales={},o=[];n.scales&&(o=o.concat((n.scales.xAxes||[]).map(function(e){return{options:e,dtype:\"category\",dposition:\"bottom\"}}),(n.scales.yAxes||[]).map(function(e){return{options:e,dtype:\"linear\",dposition:\"left\"}}))),n.scale&&o.push({options:n.scale,dtype:\"radialLinear\",isDefault:!0,dposition:\"chartArea\"}),r.each(o,function(n){var o=n.options,a=r.valueOrDefault(o.type,n.dtype),l=e.scaleService.getScaleConstructor(a);if(l){s(o.position)!==s(n.dposition)&&(o.position=n.dposition);var u=new l({id:o.id,options:o,ctx:t.ctx,chart:t});i[u.id]=u,u.mergeTicksOptions(),n.isDefault&&(t.scale=u)}}),e.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t=this,n=[],i=[];return r.each(t.data.datasets,function(r,o){var a=t.getDatasetMeta(o),s=r.type||t.config.type;if(a.type&&a.type!==s&&(t.destroyDatasetMeta(o),a=t.getDatasetMeta(o)),a.type=s,n.push(a.type),a.controller)a.controller.updateIndex(o);else{var l=e.controllers[a.type];if(void 0===l)throw new Error('\"'+a.type+'\" is not a chart type.');a.controller=new l(t,o),i.push(a.controller)}},t),i},resetElements:function(){var e=this;r.each(e.data.datasets,function(t,n){e.getDatasetMeta(n).controller.reset()},e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var t=this;if(e&&\"object\"==typeof e||(e={duration:e,lazy:arguments[1]}),n(t),!1!==l.notify(t,\"beforeUpdate\")){t.tooltip._data=t.data;var i=t.buildOrUpdateControllers();r.each(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.buildOrUpdateElements()},t),t.updateLayout(),r.each(i,function(e){e.reset()}),t.updateDatasets(),t.tooltip.initialize(),t.lastActive=[],l.notify(t,\"afterUpdate\"),t._bufferedRender?t._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:t.render(e)}},updateLayout:function(){var t=this;!1!==l.notify(t,\"beforeLayout\")&&(e.layoutService.update(this,this.width,this.height),l.notify(t,\"afterScaleUpdate\"),l.notify(t,\"afterLayout\"))},updateDatasets:function(){var e=this;if(!1!==l.notify(e,\"beforeDatasetsUpdate\")){for(var t=0,n=e.data.datasets.length;t<n;++t)e.updateDataset(t);l.notify(e,\"afterDatasetsUpdate\")}},updateDataset:function(e){var t=this,n=t.getDatasetMeta(e),i={meta:n,index:e};!1!==l.notify(t,\"beforeDatasetUpdate\",[i])&&(n.controller.update(),l.notify(t,\"afterDatasetUpdate\",[i]))},render:function(t){var n=this;t&&\"object\"==typeof t||(t={duration:t,lazy:arguments[1]});var i=t.duration,o=t.lazy;if(!1!==l.notify(n,\"beforeRender\")){var a=n.options.animation,s=function(e){l.notify(n,\"afterRender\"),r.callback(a&&a.onComplete,[e],n)};if(a&&(void 0!==i&&0!==i||void 0===i&&0!==a.duration)){var u=new e.Animation({numSteps:(i||a.duration)/16.66,easing:t.easing||a.easing,render:function(e,t){var n=t.currentStep,i=n/t.numSteps;e.draw((0,r.easing.effects[t.easing])(i),i,n)},onAnimationProgress:a.onProgress,onAnimationComplete:s});e.animationService.addAnimation(n,u,i,o)}else n.draw(),s(new e.Animation({numSteps:0,chart:n}));return n}},draw:function(e){var t=this;t.clear(),r.isNullOrUndef(e)&&(e=1),t.transition(e),!1!==l.notify(t,\"beforeDraw\",[e])&&(r.each(t.boxes,function(e){e.draw(t.chartArea)},t),t.scale&&t.scale.draw(),t.drawDatasets(e),t._drawTooltip(e),l.notify(t,\"afterDraw\",[e]))},transition:function(e){for(var t=this,n=0,i=(t.data.datasets||[]).length;n<i;++n)t.isDatasetVisible(n)&&t.getDatasetMeta(n).controller.transition(e);t.tooltip.transition(e)},drawDatasets:function(e){var t=this;if(!1!==l.notify(t,\"beforeDatasetsDraw\",[e])){for(var n=(t.data.datasets||[]).length-1;n>=0;--n)t.isDatasetVisible(n)&&t.drawDataset(n,e);l.notify(t,\"afterDatasetsDraw\",[e])}},drawDataset:function(e,t){var n=this,i=n.getDatasetMeta(e),r={meta:i,index:e,easingValue:t};!1!==l.notify(n,\"beforeDatasetDraw\",[r])&&(i.controller.draw(t),l.notify(n,\"afterDatasetDraw\",[r]))},_drawTooltip:function(e){var t=this,n=t.tooltip,i={tooltip:n,easingValue:e};!1!==l.notify(t,\"beforeTooltipDraw\",[i])&&(n.draw(),l.notify(t,\"afterTooltipDraw\",[i]))},getElementAtEvent:function(e){return o.modes.single(this,e)},getElementsAtEvent:function(e){return o.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return o.modes[\"x-axis\"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var i=o.modes[t];return\"function\"==typeof i?i(this,e,n):[]},getDatasetAtEvent:function(e){return o.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this,n=t.data.datasets[e];n._meta||(n._meta={});var i=n._meta[t.id];return i||(i=n._meta[t.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return\"boolean\"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],i=n._meta&&n._meta[t];i&&(i.controller.destroy(),delete n._meta[t])},destroy:function(){var t,n,i=this,o=i.canvas;for(i.stop(),t=0,n=i.data.datasets.length;t<n;++t)i.destroyDatasetMeta(t);o&&(i.unbindEvents(),r.canvas.clear(i),a.releaseContext(i.ctx),i.canvas=null,i.ctx=null),l.notify(i,\"destroy\"),delete e.instances[i.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new e.Tooltip({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};r.each(e.options.events,function(i){a.addEventListener(e,i,n),t[i]=n}),e.options.responsive&&(n=function(){e.resize()},a.addEventListener(e,\"resize\",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,r.each(t,function(t,n){a.removeEventListener(e,n,t)}))},updateHoverStyle:function(e,t,n){var i,r,o,a=n?\"setHoverStyle\":\"removeHoverStyle\";for(r=0,o=e.length;r<o;++r)(i=e[r])&&this.getDatasetMeta(i._datasetIndex).controller[a](i)},eventHandler:function(e){var t=this,n=t.tooltip;if(!1!==l.notify(t,\"beforeEvent\",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var i=t.handleEvent(e);i|=n&&n.handleEvent(e),l.notify(t,\"afterEvent\",[e]);var r=t._bufferedRequest;return r?t.render(r):i&&!t.animating&&(t.stop(),t.render(t.options.hover.animationDuration,!0)),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t,n=this,i=n.options||{},o=i.hover;return n.lastActive=n.lastActive||[],n.active=\"mouseout\"===e.type?[]:n.getElementsAtEventForMode(e,o.mode,o),r.callback(i.onHover||i.hover.onHover,[e.native,n.active],n),\"mouseup\"!==e.type&&\"click\"!==e.type||i.onClick&&i.onClick.call(n,e.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,o.mode,!1),n.active.length&&o.mode&&n.updateHoverStyle(n.active,o.mode,!0),t=!r.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,t}}),e.Controller=e}},{25:25,28:28,45:45,48:48}],24:[function(e,t,n){\"use strict\";var i=e(45);t.exports=function(e){function t(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,\"_chartjs\",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),r.forEach(function(t){var n=\"onData\"+t.charAt(0).toUpperCase()+t.slice(1),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),o=r.apply(this,t);return i.each(e._chartjs.listeners,function(e){\"function\"==typeof e[n]&&e[n].apply(e,t)}),o}})}))}function n(e,t){var n=e._chartjs;if(n){var i=n.listeners,o=i.indexOf(t);-1!==o&&i.splice(o,1),i.length>0||(r.forEach(function(t){delete e[t]}),delete e._chartjs)}}var r=[\"push\",\"pop\",\"shift\",\"splice\",\"unshift\"];e.DatasetController=function(e,t){this.initialize(e,t)},i.extend(e.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,t=e.getMeta(),n=e.getDataset();null===t.xAxisID&&(t.xAxisID=n.xAxisID||e.chart.options.scales.xAxes[0].id),null===t.yAxisID&&(t.yAxisID=n.yAxisID||e.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var e=this,t=e.datasetElementType;return t&&new t({_chart:e.chart,_datasetIndex:e.index})},createMetaData:function(e){var t=this,n=t.dataElementType;return n&&new n({_chart:t.chart,_datasetIndex:t.index,_index:e})},addElements:function(){var e,t,n=this,i=n.getMeta(),r=n.getDataset().data||[],o=i.data;for(e=0,t=r.length;e<t;++e)o[e]=o[e]||n.createMetaData(e);i.dataset=i.dataset||n.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e=this,i=e.getDataset(),r=i.data||(i.data=[]);e._data!==r&&(e._data&&n(e._data,e),t(r,e),e._data=r),e.resyncElements()},update:i.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],i=n.length,r=0;r<i;++r)n[r].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,i=0;for(e.dataset&&e.dataset.draw();i<n;++i)t[i].draw()},removeHoverStyle:function(e,t){var n=this.chart.data.datasets[e._datasetIndex],r=e._index,o=e.custom||{},a=i.valueAtIndexOrDefault,s=e._model;s.backgroundColor=o.backgroundColor?o.backgroundColor:a(n.backgroundColor,r,t.backgroundColor),s.borderColor=o.borderColor?o.borderColor:a(n.borderColor,r,t.borderColor),s.borderWidth=o.borderWidth?o.borderWidth:a(n.borderWidth,r,t.borderWidth)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},o=i.valueAtIndexOrDefault,a=i.getHoverColor,s=e._model;s.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:o(t.hoverBackgroundColor,n,a(s.backgroundColor)),s.borderColor=r.hoverBorderColor?r.hoverBorderColor:o(t.hoverBorderColor,n,a(s.borderColor)),s.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:o(t.hoverBorderWidth,n,s.borderWidth)},resyncElements:function(){var e=this,t=e.getMeta(),n=e.getDataset().data,i=t.data.length,r=n.length;r<i?t.data.splice(r,i-r):r>i&&e.insertElements(i,r-i)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),e.DatasetController.extend=i.inherits}},{45:45}],25:[function(e,t,n){\"use strict\";var i=e(45);t.exports={_set:function(e,t){return i.merge(this[e]||(this[e]={}),t)}}},{45:45}],26:[function(e,t,n){\"use strict\";function i(e,t,n,i){var o,a,s,l,u,c,d,h,f,p=Object.keys(n);for(o=0,a=p.length;o<a;++o)if(c=n[s=p[o]],t.hasOwnProperty(s)||(t[s]=c),(l=t[s])!==c&&\"_\"!==s[0]){if(e.hasOwnProperty(s)||(e[s]=l),(d=typeof c)==typeof(u=e[s]))if(\"string\"===d){if((h=r(u)).valid&&(f=r(c)).valid){t[s]=f.mix(h,i).rgbString();continue}}else if(\"number\"===d&&isFinite(u)&&isFinite(c)){t[s]=u+(c-u)*i;continue}t[s]=c}}var r=e(3),o=e(45),a=function(e){o.extend(this,e),this.initialize.apply(this,arguments)};o.extend(a.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=o.clone(e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,r=t._start,o=t._view;return n&&1!==e?(o||(o=t._view={}),r||(r=t._start={}),i(r,o,n,e),t):(t._view=n,t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return o.isNumber(this._model.x)&&o.isNumber(this._model.y)}}),a.extend=o.inherits,t.exports=a},{3:3,45:45}],27:[function(e,t,n){\"use strict\";var i=e(3),r=e(25),o=e(45);t.exports=function(e){function t(e,t,n){var i;return\"string\"==typeof e?(i=parseInt(e,10),-1!==e.indexOf(\"%\")&&(i=i/100*t.parentNode[n])):i=e,i}function n(e){return null!=e&&\"none\"!==e}function a(e,i,r){var o=document.defaultView,a=e.parentNode,s=o.getComputedStyle(e)[i],l=o.getComputedStyle(a)[i],u=n(s),c=n(l),d=Number.POSITIVE_INFINITY;return u||c?Math.min(u?t(s,e,r):d,c?t(l,a,r):d):\"none\"}o.configMerge=function(){return o.merge(o.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,n,i,r){var a=n[t]||{},s=i[t];\"scales\"===t?n[t]=o.scaleMerge(a,s):\"scale\"===t?n[t]=o.merge(a,[e.scaleService.getScaleDefaults(s.type),s]):o._merger(t,n,i,r)}})},o.scaleMerge=function(){return o.merge(o.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,n,i,r){if(\"xAxes\"===t||\"yAxes\"===t){var a,s,l,u=i[t].length;for(n[t]||(n[t]=[]),a=0;a<u;++a)s=o.valueOrDefault((l=i[t][a]).type,\"xAxes\"===t?\"category\":\"linear\"),a>=n[t].length&&n[t].push({}),o.merge(n[t][a],!n[t][a].type||l.type&&l.type!==n[t][a].type?[e.scaleService.getScaleDefaults(s),l]:l)}else o._merger(t,n,i,r)}})},o.where=function(e,t){if(o.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return o.each(e,function(e){t(e)&&n.push(e)}),n},o.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var i=0,r=e.length;i<r;++i)if(t.call(n,e[i],i,e))return i;return-1},o.findNextWhere=function(e,t,n){o.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<e.length;i++){var r=e[i];if(t(r))return r}},o.findPreviousWhere=function(e,t,n){o.isNullOrUndef(n)&&(n=e.length);for(var i=n-1;i>=0;i--){var r=e[i];if(t(r))return r}},o.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},o.almostEquals=function(e,t,n){return Math.abs(e-t)<n},o.almostWhole=function(e,t){var n=Math.round(e);return n-t<e&&n+t>e},o.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},o.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},o.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0==(e=+e)||isNaN(e)?e:e>0?1:-1},o.log10=Math.log10?function(e){return Math.log10(e)}:function(e){return Math.log(e)/Math.LN10},o.toRadians=function(e){return e*(Math.PI/180)},o.toDegrees=function(e){return e*(180/Math.PI)},o.getAngleFromPoint=function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:r}},o.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},o.aliasPixel=function(e){return e%2==0?0:.5},o.splineCurve=function(e,t,n,i){var r=e.skip?t:e,o=t,a=n.skip?t:n,s=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),l=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),u=s/(s+l),c=l/(s+l),d=i*(u=isNaN(u)?0:u),h=i*(c=isNaN(c)?0:c);return{previous:{x:o.x-d*(a.x-r.x),y:o.y-d*(a.y-r.y)},next:{x:o.x+h*(a.x-r.x),y:o.y+h*(a.y-r.y)}}},o.EPSILON=Number.EPSILON||1e-14,o.splineCurveMonotone=function(e){var t,n,i,r,a,s,l,u,c,d=(e||[]).map(function(e){return{model:e._model,deltaK:0,mK:0}}),h=d.length;for(t=0;t<h;++t)if(!(i=d[t]).model.skip){if(n=t>0?d[t-1]:null,(r=t<h-1?d[t+1]:null)&&!r.model.skip){var f=r.model.x-i.model.x;i.deltaK=0!==f?(r.model.y-i.model.y)/f:0}i.mK=!n||n.model.skip?i.deltaK:!r||r.model.skip?n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?0:(n.deltaK+i.deltaK)/2}for(t=0;t<h-1;++t)r=d[t+1],(i=d[t]).model.skip||r.model.skip||(o.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=r.mK=0:(a=i.mK/i.deltaK,s=r.mK/i.deltaK,(u=Math.pow(a,2)+Math.pow(s,2))<=9||(l=3/Math.sqrt(u),i.mK=a*l*i.deltaK,r.mK=s*l*i.deltaK)));for(t=0;t<h;++t)(i=d[t]).model.skip||(r=t<h-1?d[t+1]:null,(n=t>0?d[t-1]:null)&&!n.model.skip&&(i.model.controlPointPreviousX=i.model.x-(c=(i.model.x-n.model.x)/3),i.model.controlPointPreviousY=i.model.y-c*i.mK),r&&!r.model.skip&&(i.model.controlPointNextX=i.model.x+(c=(r.model.x-i.model.x)/3),i.model.controlPointNextY=i.model.y+c*i.mK))},o.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},o.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},o.niceNum=function(e,t){var n=Math.floor(o.log10(e)),i=e/Math.pow(10,n);return(t?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},o.requestAnimFrame=\"undefined\"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},o.getRelativePosition=function(e,t){var n,i,r=e.originalEvent||e,a=e.currentTarget||e.srcElement,s=a.getBoundingClientRect(),l=r.touches;l&&l.length>0?(n=l[0].clientX,i=l[0].clientY):(n=r.clientX,i=r.clientY);var u=parseFloat(o.getStyle(a,\"padding-left\")),c=parseFloat(o.getStyle(a,\"padding-top\")),d=parseFloat(o.getStyle(a,\"padding-right\")),h=parseFloat(o.getStyle(a,\"padding-bottom\")),f=s.bottom-s.top-c-h;return{x:n=Math.round((n-s.left-u)/(s.right-s.left-u-d)*a.width/t.currentDevicePixelRatio),y:i=Math.round((i-s.top-c)/f*a.height/t.currentDevicePixelRatio)}},o.getConstraintWidth=function(e){return a(e,\"max-width\",\"clientWidth\")},o.getConstraintHeight=function(e){return a(e,\"max-height\",\"clientHeight\")},o.getMaximumWidth=function(e){var t=e.parentNode;if(!t)return e.clientWidth;var n=parseInt(o.getStyle(t,\"padding-left\"),10),i=parseInt(o.getStyle(t,\"padding-right\"),10),r=t.clientWidth-n-i,a=o.getConstraintWidth(e);return isNaN(a)?r:Math.min(r,a)},o.getMaximumHeight=function(e){var t=e.parentNode;if(!t)return e.clientHeight;var n=parseInt(o.getStyle(t,\"padding-top\"),10),i=parseInt(o.getStyle(t,\"padding-bottom\"),10),r=t.clientHeight-n-i,a=o.getConstraintHeight(e);return isNaN(a)?r:Math.min(r,a)},o.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},o.retinaScale=function(e,t){var n=e.currentDevicePixelRatio=t||window.devicePixelRatio||1;if(1!==n){var i=e.canvas,r=e.height,o=e.width;i.height=r*n,i.width=o*n,e.ctx.scale(n,n),i.style.height=r+\"px\",i.style.width=o+\"px\"}},o.fontString=function(e,t,n){return t+\" \"+e+\"px \"+n},o.longestText=function(e,t,n,i){var r=(i=i||{}).data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},a=i.garbageCollect=[],i.font=t),e.font=t;var s=0;o.each(n,function(t){null!=t&&!0!==o.isArray(t)?s=o.measureText(e,r,a,s,t):o.isArray(t)&&o.each(t,function(t){null==t||o.isArray(t)||(s=o.measureText(e,r,a,s,t))})});var l=a.length/2;if(l>n.length){for(var u=0;u<l;u++)delete r[a[u]];a.splice(0,l)}return s},o.measureText=function(e,t,n,i,r){var o=t[r];return o||(o=t[r]=e.measureText(r).width,n.push(r)),o>i&&(i=o),i},o.numberOfLabelLines=function(e){var t=1;return o.each(e,function(e){o.isArray(e)&&e.length>t&&(t=e.length)}),t},o.color=i?function(e){return e instanceof CanvasGradient&&(e=r.global.defaultColor),i(e)}:function(e){return console.error(\"Color.js not found!\"),e},o.getHoverColor=function(e){return e instanceof CanvasPattern?e:o.color(e).saturate(.5).darken(.1).rgbString()}}},{25:25,3:3,45:45}],28:[function(e,t,n){\"use strict\";function i(e,t){return e.native?{x:e.x,y:e.y}:u.getRelativePosition(e,t)}function r(e,t){var n,i,r,o,a;for(i=0,o=e.data.datasets.length;i<o;++i)if(e.isDatasetVisible(i))for(r=0,a=(n=e.getDatasetMeta(i)).data.length;r<a;++r){var s=n.data[r];s._view.skip||t(s)}}function o(e,t){var n=[];return r(e,function(e){e.inRange(t.x,t.y)&&n.push(e)}),n}function a(e,t,n,i){var o=Number.POSITIVE_INFINITY,a=[];return r(e,function(e){if(!n||e.inRange(t.x,t.y)){var r=e.getCenterPoint(),s=i(t,r);s<o?(a=[e],o=s):s===o&&a.push(e)}}),a}function s(e){var t=-1!==e.indexOf(\"x\"),n=-1!==e.indexOf(\"y\");return function(e,i){var r=t?Math.abs(e.x-i.x):0,o=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function l(e,t,n){var r=i(t,e);n.axis=n.axis||\"x\";var l=s(n.axis),u=n.intersect?o(e,r):a(e,r,!1,l),c=[];return u.length?(e.data.datasets.forEach(function(t,n){if(e.isDatasetVisible(n)){var i=e.getDatasetMeta(n).data[u[0]._index];i&&!i._view.skip&&c.push(i)}}),c):[]}var u=e(45);t.exports={modes:{single:function(e,t){var n=i(t,e),o=[];return r(e,function(e){if(e.inRange(n.x,n.y))return o.push(e),o}),o.slice(0,1)},label:l,index:l,dataset:function(e,t,n){var r=i(t,e);n.axis=n.axis||\"xy\";var l=s(n.axis),u=n.intersect?o(e,r):a(e,r,!1,l);return u.length>0&&(u=e.getDatasetMeta(u[0]._datasetIndex).data),u},\"x-axis\":function(e,t){return l(e,t,{intersect:!1})},point:function(e,t){return o(e,i(t,e))},nearest:function(e,t,n){var r=i(t,e);n.axis=n.axis||\"xy\";var o=s(n.axis),l=a(e,r,n.intersect,o);return l.length>1&&l.sort(function(e,t){var n=e.getArea()-t.getArea();return 0===n&&(n=e._datasetIndex-t._datasetIndex),n}),l.slice(0,1)},x:function(e,t,n){var o=i(t,e),a=[],s=!1;return r(e,function(e){e.inXRange(o.x)&&a.push(e),e.inRange(o.x,o.y)&&(s=!0)}),n.intersect&&!s&&(a=[]),a},y:function(e,t,n){var o=i(t,e),a=[],s=!1;return r(e,function(e){e.inYRange(o.y)&&a.push(e),e.inRange(o.x,o.y)&&(s=!0)}),n.intersect&&!s&&(a=[]),a}}}},{45:45}],29:[function(e,t,n){\"use strict\";e(25)._set(\"global\",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:[\"mousemove\",\"mouseout\",\"click\",\"touchstart\",\"touchmove\"],hover:{onHover:null,mode:\"nearest\",intersect:!0,animationDuration:400},onClick:null,defaultColor:\"rgba(0,0,0,0.1)\",defaultFontColor:\"#666\",defaultFontFamily:\"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",defaultFontSize:12,defaultFontStyle:\"normal\",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),t.exports=function(){var e=function(e,t){return this.construct(e,t),this};return e.Chart=e,e}},{25:25}],30:[function(e,t,n){\"use strict\";var i=e(45);t.exports=function(e){function t(e,t){return i.where(e,function(e){return e.position===t})}function n(e,t){e.forEach(function(e,t){return e._tmpIndex_=t,e}),e.sort(function(e,n){var i=t?n:e,r=t?e:n;return i.weight===r.weight?i._tmpIndex_-r._tmpIndex_:i.weight-r.weight}),e.forEach(function(e){delete e._tmpIndex_})}e.layoutService={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||\"top\",t.weight=t.weight||0,e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var i,r=[\"fullWidth\",\"position\",\"weight\"],o=r.length,a=0;a<o;++a)n.hasOwnProperty(i=r[a])&&(t[i]=n[i])},update:function(e,r,o){function a(e){var t=i.findNextWhere(M,function(t){return t.box===e});if(t)if(e.isHorizontal()){var n={left:Math.max(D,T),right:Math.max(N,k),top:0,bottom:0};e.update(e.fullWidth?y:S,x/2,n)}else e.update(t.minSize.width,C)}function s(e){e.isHorizontal()?(e.left=e.fullWidth?u:D,e.right=e.fullWidth?r-c:D+S,e.top=F,e.bottom=F+e.height,F=e.bottom):(e.left=z,e.right=z+e.width,e.top=P,e.bottom=P+C,z=e.right)}if(e){var l=i.options.toPadding((e.options.layout||{}).padding),u=l.left,c=l.right,d=l.top,h=l.bottom,f=t(e.boxes,\"left\"),p=t(e.boxes,\"right\"),g=t(e.boxes,\"top\"),m=t(e.boxes,\"bottom\"),v=t(e.boxes,\"chartArea\");n(f,!0),n(p,!1),n(g,!0),n(m,!1);var y=r-u-c,x=o-d-h,b=x/2,_=(r-y/2)/(f.length+p.length),w=(o-b)/(g.length+m.length),S=y,C=x,M=[];i.each(f.concat(p,g,m),function(e){var t,n=e.isHorizontal();n?(t=e.update(e.fullWidth?y:S,w),C-=t.height):(t=e.update(_,b),S-=t.width),M.push({horizontal:n,minSize:t,box:e})});var T=0,k=0,A=0,I=0;i.each(g.concat(m),function(e){if(e.getPadding){var t=e.getPadding();T=Math.max(T,t.left),k=Math.max(k,t.right)}}),i.each(f.concat(p),function(e){if(e.getPadding){var t=e.getPadding();A=Math.max(A,t.top),I=Math.max(I,t.bottom)}});var D=u,N=c,P=d,L=h;i.each(f.concat(p),a),i.each(f,function(e){D+=e.width}),i.each(p,function(e){N+=e.width}),i.each(g.concat(m),a),i.each(g,function(e){P+=e.height}),i.each(m,function(e){L+=e.height}),i.each(f.concat(p),function(e){var t=i.findNextWhere(M,function(t){return t.box===e});t&&e.update(t.minSize.width,C,{left:0,right:0,top:P,bottom:L})}),D=u,N=c,P=d,L=h,i.each(f,function(e){D+=e.width}),i.each(p,function(e){N+=e.width}),i.each(g,function(e){P+=e.height}),i.each(m,function(e){L+=e.height});var E=Math.max(T-D,0);D+=E,N+=Math.max(k-N,0);var R=Math.max(A-P,0);P+=R,L+=Math.max(I-L,0);var O=o-P-L,B=r-D-N;B===S&&O===C||(i.each(f,function(e){e.height=O}),i.each(p,function(e){e.height=O}),i.each(g,function(e){e.fullWidth||(e.width=B)}),i.each(m,function(e){e.fullWidth||(e.width=B)}),C=O,S=B);var z=u+E,F=d+R;i.each(f.concat(g),s),z+=S,F+=C,i.each(p,s),i.each(m,s),e.chartArea={left:D,top:P,right:D+S,bottom:P+C},i.each(v,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(S,C)})}}}}},{45:45}],31:[function(e,t,n){\"use strict\";var i=e(25),r=e(26),o=e(45);i._set(\"global\",{plugins:{}}),t.exports=function(e){e.plugins={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach(function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var i,r,o,a,s,l=this.descriptors(e),u=l.length;for(i=0;i<u;++i)if(\"function\"==typeof(s=(o=(r=l[i]).plugin)[t])&&((a=[e].concat(n||[])).push(r.options),!1===s.apply(o,a)))return!1;return!0},descriptors:function(e){var t=e._plugins||(e._plugins={});if(t.id===this._cacheId)return t.descriptors;var n=[],r=[],a=e&&e.config||{},s=a.options&&a.options.plugins||{};return this._plugins.concat(a.plugins||[]).forEach(function(e){if(-1===n.indexOf(e)){var t=e.id,a=s[t];!1!==a&&(!0===a&&(a=o.clone(i.global.plugins[t])),n.push(e),r.push({plugin:e,options:a||{}}))}}),t.descriptors=r,t.id=this._cacheId,r}},e.pluginService=e.plugins,e.PluginBase=r.extend({})}},{25:25,26:26,45:45}],32:[function(e,t,n){\"use strict\";function i(e){var t,n,i=[];for(t=0,n=e.length;t<n;++t)i.push(e[t].label);return i}function r(e,t,n){var i=e.getPixelForTick(t);return n&&(i-=0===t?(e.getPixelForTick(1)-i)/2:(i-e.getPixelForTick(t-1))/2),i}var o=e(25),a=e(26),s=e(45),l=e(34);o._set(\"scale\",{display:!0,position:\"left\",offset:!1,gridLines:{display:!0,color:\"rgba(0, 0, 0, 0.1)\",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:\"rgba(0,0,0,0.25)\",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:\"\",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:l.formatters.values,minor:{},major:{}}}),t.exports=function(e){function t(e,t,n){return s.isArray(t)?s.longestText(e,n,t):e.measureText(t).width}function n(e){var t=s.valueOrDefault,n=o.global,i=t(e.fontSize,n.defaultFontSize),r=t(e.fontStyle,n.defaultFontStyle),a=t(e.fontFamily,n.defaultFontFamily);return{size:i,style:r,family:a,font:s.fontString(i,r,a)}}function l(e){return s.options.toLineHeight(s.valueOrDefault(e.lineHeight,1.2),s.valueOrDefault(e.fontSize,o.global.defaultFontSize))}e.Scale=a.extend({getPadding:function(){var e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var e=this.options.ticks;for(var t in!1===e.minor&&(e.minor={display:!1}),!1===e.major&&(e.major={display:!1}),e)\"major\"!==t&&\"minor\"!==t&&(void 0===e.minor[t]&&(e.minor[t]=e[t]),void 0===e.major[t]&&(e.major[t]=e[t]))},beforeUpdate:function(){s.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var i,r,o,a,l,u,c=this;for(c.beforeUpdate(),c.maxWidth=e,c.maxHeight=t,c.margins=s.extend({left:0,right:0,top:0,bottom:0},n),c.longestTextCache=c.longestTextCache||{},c.beforeSetDimensions(),c.setDimensions(),c.afterSetDimensions(),c.beforeDataLimits(),c.determineDataLimits(),c.afterDataLimits(),c.beforeBuildTicks(),l=c.buildTicks()||[],c.afterBuildTicks(),c.beforeTickToLabelConversion(),o=c.convertTicksToLabels(l)||c.ticks,c.afterTickToLabelConversion(),c.ticks=o,i=0,r=o.length;i<r;++i)a=o[i],(u=l[i])?u.label=a:l.push(u={label:a,major:!1});return c._ticks=l,c.beforeCalculateTickRotation(),c.calculateTickRotation(),c.afterCalculateTickRotation(),c.beforeFit(),c.fit(),c.afterFit(),c.afterUpdate(),c.minSize},afterUpdate:function(){s.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){s.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){s.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){s.callback(this.options.beforeDataLimits,[this])},determineDataLimits:s.noop,afterDataLimits:function(){s.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){s.callback(this.options.beforeBuildTicks,[this])},buildTicks:s.noop,afterBuildTicks:function(){s.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){s.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this,t=e.options.ticks;e.ticks=e.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){s.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){s.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e=this,t=e.ctx,r=e.options.ticks,o=i(e._ticks),a=n(r);t.font=a.font;var l=r.minRotation||0;if(o.length&&e.options.display&&e.isHorizontal())for(var u,c=s.longestText(t,a.font,o,e.longestTextCache),d=c,h=e.getPixelForTick(1)-e.getPixelForTick(0)-6;d>h&&l<r.maxRotation;){var f=s.toRadians(l);if(u=Math.cos(f),Math.sin(f)*c>e.maxHeight){l--;break}l++,d=u*c}e.labelRotation=l},afterCalculateTickRotation:function(){s.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){s.callback(this.options.beforeFit,[this])},fit:function(){var e=this,r=e.minSize={width:0,height:0},o=i(e._ticks),a=e.options,u=a.ticks,c=a.scaleLabel,d=a.gridLines,h=a.display,f=e.isHorizontal(),p=n(u),g=a.gridLines.tickMarkLength;if(r.width=f?e.isFullWidth()?e.maxWidth-e.margins.left-e.margins.right:e.maxWidth:h&&d.drawTicks?g:0,r.height=f?h&&d.drawTicks?g:0:e.maxHeight,c.display&&h){var m=l(c)+s.options.toPadding(c.padding).height;f?r.height+=m:r.width+=m}if(u.display&&h){var v=s.longestText(e.ctx,p.font,o,e.longestTextCache),y=s.numberOfLabelLines(o),x=.5*p.size,b=e.options.ticks.padding;if(f){e.longestLabelWidth=v;var _=s.toRadians(e.labelRotation),w=Math.cos(_),S=Math.sin(_)*v+p.size*y+x*(y-1)+x;r.height=Math.min(e.maxHeight,r.height+S+b),e.ctx.font=p.font;var C=t(e.ctx,o[0],p.font),M=t(e.ctx,o[o.length-1],p.font);0!==e.labelRotation?(e.paddingLeft=\"bottom\"===a.position?w*C+3:w*x+3,e.paddingRight=\"bottom\"===a.position?w*x+3:w*M+3):(e.paddingLeft=C/2+3,e.paddingRight=M/2+3)}else u.mirror?v=0:v+=b+x,r.width=Math.min(e.maxWidth,r.width+v),e.paddingTop=p.size/2,e.paddingBottom=p.size/2}e.handleMargins(),e.width=r.width,e.height=r.height},handleMargins:function(){var e=this;e.margins&&(e.paddingLeft=Math.max(e.paddingLeft-e.margins.left,0),e.paddingTop=Math.max(e.paddingTop-e.margins.top,0),e.paddingRight=Math.max(e.paddingRight-e.margins.right,0),e.paddingBottom=Math.max(e.paddingBottom-e.margins.bottom,0))},afterFit:function(){s.callback(this.options.afterFit,[this])},isHorizontal:function(){return\"top\"===this.options.position||\"bottom\"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(s.isNullOrUndef(e))return NaN;if(\"number\"==typeof e&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},getLabelForIndex:s.noop,getPixelForValue:s.noop,getValueForPixel:s.noop,getPixelForTick:function(e){var t=this,n=t.options.offset;if(t.isHorizontal()){var i=(t.width-(t.paddingLeft+t.paddingRight))/Math.max(t._ticks.length-(n?0:1),1),r=i*e+t.paddingLeft;return n&&(r+=i/2),t.left+Math.round(r)+(t.isFullWidth()?t.margins.left:0)}return t.top+e*((t.height-(t.paddingTop+t.paddingBottom))/(t._ticks.length-1))},getPixelForDecimal:function(e){var t=this;return t.isHorizontal()?t.left+Math.round((t.width-(t.paddingLeft+t.paddingRight))*e+t.paddingLeft)+(t.isFullWidth()?t.margins.left:0):t.top+e*t.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this,t=e.min,n=e.max;return e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0},_autoSkip:function(e){var t,n,i,r,o=this,a=o.isHorizontal(),l=o.options.ticks.minor,u=e.length,c=s.toRadians(o.labelRotation),d=Math.cos(c),h=o.longestLabelWidth*d,f=[];for(l.maxTicksLimit&&(r=l.maxTicksLimit),a&&(t=!1,(h+l.autoSkipPadding)*u>o.width-(o.paddingLeft+o.paddingRight)&&(t=1+Math.floor((h+l.autoSkipPadding)*u/(o.width-(o.paddingLeft+o.paddingRight)))),r&&u>r&&(t=Math.max(t,Math.floor(u/r)))),n=0;n<u;n++)i=e[n],(t>1&&n%t>0||n%t==0&&n+t>=u)&&n!==u-1&&delete i.label,f.push(i);return f},draw:function(e){var t=this,i=t.options;if(i.display){var a=t.ctx,u=o.global,c=i.ticks.minor,d=i.ticks.major||c,h=i.gridLines,f=i.scaleLabel,p=0!==t.labelRotation,g=t.isHorizontal(),m=c.autoSkip?t._autoSkip(t.getTicks()):t.getTicks(),v=s.valueOrDefault(c.fontColor,u.defaultFontColor),y=n(c),x=s.valueOrDefault(d.fontColor,u.defaultFontColor),b=n(d),_=h.drawTicks?h.tickMarkLength:0,w=s.valueOrDefault(f.fontColor,u.defaultFontColor),S=n(f),C=s.options.toPadding(f.padding),M=s.toRadians(t.labelRotation),T=[],k=\"right\"===i.position?t.left:t.right-_,A=\"right\"===i.position?t.left+_:t.right,I=\"bottom\"===i.position?t.top:t.bottom-_,D=\"bottom\"===i.position?t.top+_:t.bottom;if(s.each(m,function(n,o){if(!s.isNullOrUndef(n.label)){var a,l,d,f,v=n.label;o===t.zeroLineIndex&&i.offset===h.offsetGridLines?(a=h.zeroLineWidth,l=h.zeroLineColor,d=h.zeroLineBorderDash,f=h.zeroLineBorderDashOffset):(a=s.valueAtIndexOrDefault(h.lineWidth,o),l=s.valueAtIndexOrDefault(h.color,o),d=s.valueOrDefault(h.borderDash,u.borderDash),f=s.valueOrDefault(h.borderDashOffset,u.borderDashOffset));var y,x,b,w,S,C,N,P,L,E,R=\"middle\",O=\"middle\",B=c.padding;if(g){var z=_+B;\"bottom\"===i.position?(O=p?\"middle\":\"top\",R=p?\"right\":\"center\",E=t.top+z):(O=p?\"middle\":\"bottom\",R=p?\"left\":\"center\",E=t.bottom-z);var F=r(t,o,h.offsetGridLines&&m.length>1);F<t.left&&(l=\"rgba(0,0,0,0)\"),F+=s.aliasPixel(a),L=t.getPixelForTick(o)+c.labelOffset,y=b=S=N=F,x=I,w=D,C=e.top,P=e.bottom}else{var V,H=\"left\"===i.position;c.mirror?(R=H?\"left\":\"right\",V=B):(R=H?\"right\":\"left\",V=_+B),L=H?t.right-V:t.left+V;var W=r(t,o,h.offsetGridLines&&m.length>1);W<t.top&&(l=\"rgba(0,0,0,0)\"),W+=s.aliasPixel(a),E=t.getPixelForTick(o)+c.labelOffset,y=k,b=A,S=e.left,N=e.right,x=w=C=P=W}T.push({tx1:y,ty1:x,tx2:b,ty2:w,x1:S,y1:C,x2:N,y2:P,labelX:L,labelY:E,glWidth:a,glColor:l,glBorderDash:d,glBorderDashOffset:f,rotation:-1*M,label:v,major:n.major,textBaseline:O,textAlign:R})}}),s.each(T,function(e){if(h.display&&(a.save(),a.lineWidth=e.glWidth,a.strokeStyle=e.glColor,a.setLineDash&&(a.setLineDash(e.glBorderDash),a.lineDashOffset=e.glBorderDashOffset),a.beginPath(),h.drawTicks&&(a.moveTo(e.tx1,e.ty1),a.lineTo(e.tx2,e.ty2)),h.drawOnChartArea&&(a.moveTo(e.x1,e.y1),a.lineTo(e.x2,e.y2)),a.stroke(),a.restore()),c.display){a.save(),a.translate(e.labelX,e.labelY),a.rotate(e.rotation),a.font=e.major?b.font:y.font,a.fillStyle=e.major?x:v,a.textBaseline=e.textBaseline,a.textAlign=e.textAlign;var t=e.label;if(s.isArray(t))for(var n=0,i=0;n<t.length;++n)a.fillText(\"\"+t[n],0,i),i+=1.5*y.size;else a.fillText(t,0,0);a.restore()}}),f.display){var N,P,L=0,E=l(f)/2;if(g)N=t.left+(t.right-t.left)/2,P=\"bottom\"===i.position?t.bottom-E-C.bottom:t.top+E+C.top;else{var R=\"left\"===i.position;N=R?t.left+E+C.top:t.right-E-C.top,P=t.top+(t.bottom-t.top)/2,L=R?-.5*Math.PI:.5*Math.PI}a.save(),a.translate(N,P),a.rotate(L),a.textAlign=\"center\",a.textBaseline=\"middle\",a.fillStyle=w,a.font=S.font,a.fillText(f.labelString,0,0),a.restore()}if(h.drawBorder){a.lineWidth=s.valueAtIndexOrDefault(h.lineWidth,0),a.strokeStyle=s.valueAtIndexOrDefault(h.color,0);var O=t.left,B=t.right,z=t.top,F=t.bottom,V=s.aliasPixel(a.lineWidth);g?(z=F=\"top\"===i.position?t.bottom:t.top,z+=V,F+=V):(O=B=\"left\"===i.position?t.right:t.left,O+=V,B+=V),a.beginPath(),a.moveTo(O,z),a.lineTo(B,F),a.stroke()}}}})}},{25:25,26:26,34:34,45:45}],33:[function(e,t,n){\"use strict\";var i=e(25),r=e(45);t.exports=function(e){e.scaleService={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=r.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?r.merge({},[i.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){var n=this;n.defaults.hasOwnProperty(e)&&(n.defaults[e]=r.extend(n.defaults[e],t))},addScalesToLayout:function(t){r.each(t.scales,function(n){n.fullWidth=n.options.fullWidth,n.position=n.options.position,n.weight=n.options.weight,e.layoutService.addBox(t,n)})}}}},{25:25,45:45}],34:[function(e,t,n){\"use strict\";var i=e(45);t.exports={generators:{linear:function(e,t){var n,r=[];if(e.stepSize&&e.stepSize>0)n=e.stepSize;else{var o=i.niceNum(t.max-t.min,!1);n=i.niceNum(o/(e.maxTicks-1),!0)}var a=Math.floor(t.min/n)*n,s=Math.ceil(t.max/n)*n;e.min&&e.max&&e.stepSize&&i.almostWhole((e.max-e.min)/e.stepSize,n/1e3)&&(a=e.min,s=e.max);var l=(s-a)/n;l=i.almostEquals(l,Math.round(l),n/1e3)?Math.round(l):Math.ceil(l),r.push(void 0!==e.min?e.min:a);for(var u=1;u<l;++u)r.push(a+u*n);return r.push(void 0!==e.max?e.max:s),r},logarithmic:function(e,t){var n,r,o=[],a=i.valueOrDefault,s=a(e.min,Math.pow(10,Math.floor(i.log10(t.min)))),l=Math.floor(i.log10(t.max)),u=Math.ceil(t.max/Math.pow(10,l));0===s?(n=Math.floor(i.log10(t.minNotZero)),r=Math.floor(t.minNotZero/Math.pow(10,n)),o.push(s),s=r*Math.pow(10,n)):(n=Math.floor(i.log10(s)),r=Math.floor(s/Math.pow(10,n)));do{o.push(s),10==++r&&(r=1,++n),s=r*Math.pow(10,n)}while(n<l||n===l&&r<u);var c=a(e.max,s);return o.push(c),o}},formatters:{values:function(e){return i.isArray(e)?e:\"\"+e},linear:function(e,t,n){var r=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(r)>1&&e!==Math.floor(e)&&(r=e-Math.floor(e));var o=i.log10(Math.abs(r)),a=\"\";if(0!==e){var s=-1*Math.floor(o);s=Math.max(Math.min(s,20),0),a=e.toFixed(s)}else a=\"0\";return a},logarithmic:function(e,t,n){var r=e/Math.pow(10,Math.floor(i.log10(e)));return 0===e?\"0\":1===r||2===r||5===r||0===t||t===n.length-1?e.toExponential():\"\"}}}},{45:45}],35:[function(e,t,n){\"use strict\";var i=e(25),r=e(26),o=e(45);i._set(\"global\",{tooltips:{enabled:!0,custom:null,mode:\"nearest\",position:\"average\",intersect:!0,backgroundColor:\"rgba(0,0,0,0.8)\",titleFontStyle:\"bold\",titleSpacing:2,titleMarginBottom:6,titleFontColor:\"#fff\",titleAlign:\"left\",bodySpacing:2,bodyFontColor:\"#fff\",bodyAlign:\"left\",footerFontStyle:\"bold\",footerSpacing:2,footerMarginTop:6,footerFontColor:\"#fff\",footerAlign:\"left\",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:\"#fff\",displayColors:!0,borderColor:\"rgba(0,0,0,0)\",borderWidth:0,callbacks:{beforeTitle:o.noop,title:function(e,t){var n=\"\",i=t.labels,r=i?i.length:0;if(e.length>0){var o=e[0];o.xLabel?n=o.xLabel:r>0&&o.index<r&&(n=i[o.index])}return n},afterTitle:o.noop,beforeBody:o.noop,beforeLabel:o.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||\"\";return n&&(n+=\": \"),n+e.yLabel},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:o.noop,afterBody:o.noop,beforeFooter:o.noop,footer:o.noop,afterFooter:o.noop}}}),t.exports=function(e){function t(e,t){var n=o.color(e);return n.alpha(t*n.alpha()).rgbaString()}function n(e,t){return t&&(o.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function a(e){var t=e._xScale,n=e._yScale||e._scale,i=e._index,r=e._datasetIndex;return{xLabel:t?t.getLabelForIndex(i,r):\"\",yLabel:n?n.getLabelForIndex(i,r):\"\",index:i,datasetIndex:r,x:e._model.x,y:e._model.y}}function s(e){var t=i.global,n=o.valueOrDefault;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,bodyFontColor:e.bodyFontColor,_bodyFontFamily:n(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:n(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:n(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:n(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:n(e.titleFontStyle,t.defaultFontStyle),titleFontSize:n(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:n(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:n(e.footerFontStyle,t.defaultFontStyle),footerFontSize:n(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}e.Tooltip=r.extend({initialize:function(){this._model=s(this._options),this._lastActive=[]},getTitle:function(){var e=this,t=e._options.callbacks,i=t.beforeTitle.apply(e,arguments),r=t.title.apply(e,arguments),o=t.afterTitle.apply(e,arguments),a=[];return a=n(a,i),a=n(a,r),n(a,o)},getBeforeBody:function(){var e=this._options.callbacks.beforeBody.apply(this,arguments);return o.isArray(e)?e:void 0!==e?[e]:[]},getBody:function(e,t){var i=this,r=i._options.callbacks,a=[];return o.each(e,function(e){var o={before:[],lines:[],after:[]};n(o.before,r.beforeLabel.call(i,e,t)),n(o.lines,r.label.call(i,e,t)),n(o.after,r.afterLabel.call(i,e,t)),a.push(o)}),a},getAfterBody:function(){var e=this._options.callbacks.afterBody.apply(this,arguments);return o.isArray(e)?e:void 0!==e?[e]:[]},getFooter:function(){var e=this,t=e._options.callbacks,i=t.beforeFooter.apply(e,arguments),r=t.footer.apply(e,arguments),o=t.afterFooter.apply(e,arguments),a=[];return a=n(a,i),a=n(a,r),n(a,o)},update:function(t){var n,i,r=this,l=r._options,u=r._model,c=r._model=s(l),d=r._active,h=r._data,f={xAlign:u.xAlign,yAlign:u.yAlign},p={x:u.x,y:u.y},g={width:u.width,height:u.height},m={x:u.caretX,y:u.caretY};if(d.length){c.opacity=1;var v=[],y=[];m=e.Tooltip.positioners[l.position].call(r,d,r._eventPosition);var x=[];for(n=0,i=d.length;n<i;++n)x.push(a(d[n]));l.filter&&(x=x.filter(function(e){return l.filter(e,h)})),l.itemSort&&(x=x.sort(function(e,t){return l.itemSort(e,t,h)})),o.each(x,function(e){v.push(l.callbacks.labelColor.call(r,e,r._chart)),y.push(l.callbacks.labelTextColor.call(r,e,r._chart))}),c.title=r.getTitle(x,h),c.beforeBody=r.getBeforeBody(x,h),c.body=r.getBody(x,h),c.afterBody=r.getAfterBody(x,h),c.footer=r.getFooter(x,h),c.x=Math.round(m.x),c.y=Math.round(m.y),c.caretPadding=l.caretPadding,c.labelColors=v,c.labelTextColors=y,c.dataPoints=x,p=function(e,t,n){var i=e.x,r=e.y,o=e.caretPadding,a=n.xAlign,s=n.yAlign,l=e.caretSize+o,u=e.cornerRadius+o;return\"right\"===a?i-=t.width:\"center\"===a&&(i-=t.width/2),\"top\"===s?r+=l:r-=\"bottom\"===s?t.height+l:t.height/2,\"center\"===s?\"left\"===a?i+=l:\"right\"===a&&(i-=l):\"left\"===a?i-=u:\"right\"===a&&(i+=u),{x:i,y:r}}(c,g=function(e,t){var n=e._chart.ctx,i=2*t.yPadding,r=0,a=t.body,s=a.reduce(function(e,t){return e+t.before.length+t.lines.length+t.after.length},0),l=t.title.length,u=t.footer.length,c=t.titleFontSize,d=t.bodyFontSize,h=t.footerFontSize;i+=l*c,i+=l?(l-1)*t.titleSpacing:0,i+=l?t.titleMarginBottom:0,i+=(s+=t.beforeBody.length+t.afterBody.length)*d,i+=s?(s-1)*t.bodySpacing:0,i+=u?t.footerMarginTop:0,i+=u*h,i+=u?(u-1)*t.footerSpacing:0;var f=0,p=function(e){r=Math.max(r,n.measureText(e).width+f)};return n.font=o.fontString(c,t._titleFontStyle,t._titleFontFamily),o.each(t.title,p),n.font=o.fontString(d,t._bodyFontStyle,t._bodyFontFamily),o.each(t.beforeBody.concat(t.afterBody),p),f=t.displayColors?d+2:0,o.each(a,function(e){o.each(e.before,p),o.each(e.lines,p),o.each(e.after,p)}),f=0,n.font=o.fontString(h,t._footerFontStyle,t._footerFontFamily),o.each(t.footer,p),{width:r+=2*t.xPadding,height:i}}(this,c),f=function(e,t){var n=e._model,i=e._chart,r=e._chart.chartArea,o=\"center\",a=\"center\";n.y<t.height?a=\"top\":n.y>i.height-t.height&&(a=\"bottom\");var s,l,u,c,d,h=(r.left+r.right)/2,f=(r.top+r.bottom)/2;\"center\"===a?(s=function(e){return e<=h},l=function(e){return e>h}):(s=function(e){return e<=t.width/2},l=function(e){return e>=i.width-t.width/2}),u=function(e){return e+t.width>i.width},c=function(e){return e-t.width<0},d=function(e){return e<=f?\"top\":\"bottom\"},s(n.x)?(o=\"left\",u(n.x)&&(o=\"center\",a=d(n.y))):l(n.x)&&(o=\"right\",c(n.x)&&(o=\"center\",a=d(n.y)));var p=e._options;return{xAlign:p.xAlign?p.xAlign:o,yAlign:p.yAlign?p.yAlign:a}}(this,g))}else c.opacity=0;return c.xAlign=f.xAlign,c.yAlign=f.yAlign,c.x=p.x,c.y=p.y,c.width=g.width,c.height=g.height,c.caretX=m.x,c.caretY=m.y,r._model=c,t&&l.custom&&l.custom.call(r,c),r},drawCaret:function(e,t){var n=this._chart.ctx,i=this.getCaretPosition(e,t,this._view);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)},getCaretPosition:function(e,t,n){var i,r,o,a,s,l,u=n.caretSize,c=n.cornerRadius,d=n.xAlign,h=n.yAlign,f=e.x,p=e.y,g=t.width,m=t.height;if(\"center\"===h)s=p+m/2,\"left\"===d?(r=(i=f)-u,o=i,a=s+u,l=s-u):(r=(i=f+g)+u,o=i,a=s-u,l=s+u);else if(\"left\"===d?(i=(r=f+c+u)-u,o=r+u):\"right\"===d?(i=(r=f+g-c-u)-u,o=r+u):(i=(r=f+g/2)-u,o=r+u),\"top\"===h)s=(a=p)-u,l=a;else{s=(a=p+m)+u,l=a;var v=o;o=i,i=v}return{x1:i,x2:r,x3:o,y1:a,y2:s,y3:l}},drawTitle:function(e,n,i,r){var a=n.title;if(a.length){i.textAlign=n._titleAlign,i.textBaseline=\"top\";var s,l,u=n.titleFontSize,c=n.titleSpacing;for(i.fillStyle=t(n.titleFontColor,r),i.font=o.fontString(u,n._titleFontStyle,n._titleFontFamily),s=0,l=a.length;s<l;++s)i.fillText(a[s],e.x,e.y),e.y+=u+c,s+1===a.length&&(e.y+=n.titleMarginBottom-c)}},drawBody:function(e,n,i,r){var a=n.bodyFontSize,s=n.bodySpacing,l=n.body;i.textAlign=n._bodyAlign,i.textBaseline=\"top\",i.font=o.fontString(a,n._bodyFontStyle,n._bodyFontFamily);var u=0,c=function(t){i.fillText(t,e.x+u,e.y),e.y+=a+s};i.fillStyle=t(n.bodyFontColor,r),o.each(n.beforeBody,c);var d=n.displayColors;u=d?a+2:0,o.each(l,function(s,l){var u=t(n.labelTextColors[l],r);i.fillStyle=u,o.each(s.before,c),o.each(s.lines,function(o){d&&(i.fillStyle=t(n.legendColorBackground,r),i.fillRect(e.x,e.y,a,a),i.lineWidth=1,i.strokeStyle=t(n.labelColors[l].borderColor,r),i.strokeRect(e.x,e.y,a,a),i.fillStyle=t(n.labelColors[l].backgroundColor,r),i.fillRect(e.x+1,e.y+1,a-2,a-2),i.fillStyle=u),c(o)}),o.each(s.after,c)}),u=0,o.each(n.afterBody,c),e.y-=s},drawFooter:function(e,n,i,r){var a=n.footer;a.length&&(e.y+=n.footerMarginTop,i.textAlign=n._footerAlign,i.textBaseline=\"top\",i.fillStyle=t(n.footerFontColor,r),i.font=o.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),o.each(a,function(t){i.fillText(t,e.x,e.y),e.y+=n.footerFontSize+n.footerSpacing}))},drawBackground:function(e,n,i,r,o){i.fillStyle=t(n.backgroundColor,o),i.strokeStyle=t(n.borderColor,o),i.lineWidth=n.borderWidth;var a=n.xAlign,s=n.yAlign,l=e.x,u=e.y,c=r.width,d=r.height,h=n.cornerRadius;i.beginPath(),i.moveTo(l+h,u),\"top\"===s&&this.drawCaret(e,r),i.lineTo(l+c-h,u),i.quadraticCurveTo(l+c,u,l+c,u+h),\"center\"===s&&\"right\"===a&&this.drawCaret(e,r),i.lineTo(l+c,u+d-h),i.quadraticCurveTo(l+c,u+d,l+c-h,u+d),\"bottom\"===s&&this.drawCaret(e,r),i.lineTo(l+h,u+d),i.quadraticCurveTo(l,u+d,l,u+d-h),\"center\"===s&&\"left\"===a&&this.drawCaret(e,r),i.lineTo(l,u+h),i.quadraticCurveTo(l,u,l+h,u),i.closePath(),i.fill(),n.borderWidth>0&&i.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},i={x:t.x,y:t.y},r=Math.abs(t.opacity<.001)?0:t.opacity;this._options.enabled&&(t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length)&&(this.drawBackground(i,t,e,n,r),i.x+=t.xPadding,i.y+=t.yPadding,this.drawTitle(i,t,e,r),this.drawBody(i,t,e,r),this.drawFooter(i,t,e,r))}},handleEvent:function(e){var t=this,n=t._options,i=!1;if(t._lastActive=t._lastActive||[],t._active=\"mouseout\"===e.type?[]:t._chart.getElementsAtEventForMode(e,n.mode,n),!(i=!o.arrayEquals(t._active,t._lastActive)))return!1;if(t._lastActive=t._active,n.enabled||n.custom){t._eventPosition={x:e.x,y:e.y};var r=t._model;t.update(!0),t.pivot(),i|=r.x!==t._model.x||r.y!==t._model.y}return i}}),e.Tooltip.positioners={average:function(e){if(!e.length)return!1;var t,n,i=0,r=0,o=0;for(t=0,n=e.length;t<n;++t){var a=e[t];if(a&&a.hasValue()){var s=a.tooltipPosition();i+=s.x,r+=s.y,++o}}return{x:Math.round(i/o),y:Math.round(r/o)}},nearest:function(e,t){var n,i,r,a=t.x,s=t.y,l=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){var u=e[n];if(u&&u.hasValue()){var c=u.getCenterPoint(),d=o.distanceBetweenPoints(t,c);d<l&&(l=d,r=u)}}if(r){var h=r.tooltipPosition();a=h.x,s=h.y}return{x:a,y:s}}}}},{25:25,26:26,45:45}],36:[function(e,t,n){\"use strict\";var i=e(25),r=e(26),o=e(45);i._set(\"global\",{elements:{arc:{backgroundColor:i.global.defaultColor,borderColor:\"#fff\",borderWidth:2}}}),t.exports=r.extend({inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var i=o.getAngleFromPoint(n,{x:e,y:t}),r=i.angle,a=i.distance,s=n.startAngle,l=n.endAngle;l<s;)l+=2*Math.PI;for(;r>l;)r-=2*Math.PI;for(;r<s;)r+=2*Math.PI;return r>=s&&r<=l&&a>=n.innerRadius&&a<=n.outerRadius}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e=this._chart.ctx,t=this._view,n=t.startAngle,i=t.endAngle;e.beginPath(),e.arc(t.x,t.y,t.outerRadius,n,i),e.arc(t.x,t.y,t.innerRadius,i,n,!0),e.closePath(),e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.fillStyle=t.backgroundColor,e.fill(),e.lineJoin=\"bevel\",t.borderWidth&&e.stroke()}})},{25:25,26:26,45:45}],37:[function(e,t,n){\"use strict\";var i=e(25),r=e(26),o=e(45),a=i.global;i._set(\"global\",{elements:{line:{tension:.4,backgroundColor:a.defaultColor,borderWidth:3,borderColor:a.defaultColor,borderCapStyle:\"butt\",borderDash:[],borderDashOffset:0,borderJoinStyle:\"miter\",capBezierPoints:!0,fill:!0}}}),t.exports=r.extend({draw:function(){var e,t,n,i,r=this,s=r._view,l=r._chart.ctx,u=s.spanGaps,c=r._children.slice(),d=a.elements.line,h=-1;for(r._loop&&c.length&&c.push(c[0]),l.save(),l.lineCap=s.borderCapStyle||d.borderCapStyle,l.setLineDash&&l.setLineDash(s.borderDash||d.borderDash),l.lineDashOffset=s.borderDashOffset||d.borderDashOffset,l.lineJoin=s.borderJoinStyle||d.borderJoinStyle,l.lineWidth=s.borderWidth||d.borderWidth,l.strokeStyle=s.borderColor||a.defaultColor,l.beginPath(),h=-1,e=0;e<c.length;++e)t=c[e],n=o.previousItem(c,e),i=t._view,0===e?i.skip||(l.moveTo(i.x,i.y),h=e):(n=-1===h?n:c[h],i.skip||(h!==e-1&&!u||-1===h?l.moveTo(i.x,i.y):o.canvas.lineTo(l,n._view,t._view),h=e));l.stroke(),l.restore()}})},{25:25,26:26,45:45}],38:[function(e,t,n){\"use strict\";function i(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hitRadius,2)}var r=e(25),o=e(26),a=e(45),s=r.global.defaultColor;r._set(\"global\",{elements:{point:{radius:3,pointStyle:\"circle\",backgroundColor:s,borderColor:s,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),t.exports=o.extend({inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:i,inXRange:i,inYRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.y,2)<Math.pow(t.radius+t.hitRadius,2)},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._model,i=this._chart.ctx,o=t.pointStyle,l=t.radius,u=t.x,c=t.y,d=a.color,h=0;t.skip||(i.strokeStyle=t.borderColor||s,i.lineWidth=a.valueOrDefault(t.borderWidth,r.global.elements.point.borderWidth),i.fillStyle=t.backgroundColor||s,void 0!==e&&(n.x<e.left||1.01*e.right<n.x||n.y<e.top||1.01*e.bottom<n.y)&&(n.x<e.left?h=(u-n.x)/(e.left-n.x):1.01*e.right<n.x?h=(n.x-u)/(n.x-e.right):n.y<e.top?h=(c-n.y)/(e.top-n.y):1.01*e.bottom<n.y&&(h=(n.y-c)/(n.y-e.bottom)),h=Math.round(100*h)/100,i.strokeStyle=d(i.strokeStyle).alpha(h).rgbString(),i.fillStyle=d(i.fillStyle).alpha(h).rgbString()),a.canvas.drawPoint(i,o,l,u,c))}})},{25:25,26:26,45:45}],39:[function(e,t,n){\"use strict\";function i(e){return void 0!==e._view.width}function r(e){var t,n,r,o,a=e._view;if(i(e)){var s=a.width/2;t=a.x-s,n=a.x+s,r=Math.min(a.y,a.base),o=Math.max(a.y,a.base)}else{var l=a.height/2;t=Math.min(a.x,a.base),n=Math.max(a.x,a.base),r=a.y-l,o=a.y+l}return{left:t,top:r,right:n,bottom:o}}var o=e(25),a=e(26);o._set(\"global\",{elements:{rectangle:{backgroundColor:o.global.defaultColor,borderColor:o.global.defaultColor,borderSkipped:\"bottom\",borderWidth:0}}}),t.exports=a.extend({draw:function(){function e(e){return v[(y+e)%4]}var t,n,i,r,o,a,s,l=this._chart.ctx,u=this._view,c=u.borderWidth;if(u.horizontal?(i=u.y-u.height/2,r=u.y+u.height/2,o=(n=u.x)>(t=u.base)?1:-1,a=1,s=u.borderSkipped||\"left\"):(t=u.x-u.width/2,n=u.x+u.width/2,o=1,a=(r=u.base)>(i=u.y)?1:-1,s=u.borderSkipped||\"bottom\"),c){var d=Math.min(Math.abs(t-n),Math.abs(i-r)),h=(c=c>d?d:c)/2,f=t+(\"left\"!==s?h*o:0),p=n+(\"right\"!==s?-h*o:0),g=i+(\"top\"!==s?h*a:0),m=r+(\"bottom\"!==s?-h*a:0);f!==p&&(i=g,r=m),g!==m&&(t=f,n=p)}l.beginPath(),l.fillStyle=u.backgroundColor,l.strokeStyle=u.borderColor,l.lineWidth=c;var v=[[t,r],[t,i],[n,i],[n,r]],y=[\"bottom\",\"left\",\"top\",\"right\"].indexOf(s,0);-1===y&&(y=0);var x=e(0);l.moveTo(x[0],x[1]);for(var b=1;b<4;b++)x=e(b),l.lineTo(x[0],x[1]);l.fill(),c&&l.stroke()},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){var n=!1;if(this._view){var i=r(this);n=e>=i.left&&e<=i.right&&t>=i.top&&t<=i.bottom}return n},inLabelRange:function(e,t){var n=this;if(!n._view)return!1;var o=r(n);return i(n)?e>=o.left&&e<=o.right:t>=o.top&&t<=o.bottom},inXRange:function(e){var t=r(this);return e>=t.left&&e<=t.right},inYRange:function(e){var t=r(this);return e>=t.top&&e<=t.bottom},getCenterPoint:function(){var e,t,n=this._view;return i(this)?(e=n.x,t=(n.y+n.base)/2):(e=(n.x+n.base)/2,t=n.y),{x:e,y:t}},getArea:function(){var e=this._view;return e.width*Math.abs(e.y-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}})},{25:25,26:26}],40:[function(e,t,n){\"use strict\";t.exports={},t.exports.Arc=e(36),t.exports.Line=e(37),t.exports.Point=e(38),t.exports.Rectangle=e(39)},{36:36,37:37,38:38,39:39}],41:[function(e,t,n){\"use strict\";var i=e(42);n=t.exports={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,i,r,o){if(o){var a=Math.min(o,i/2),s=Math.min(o,r/2);e.moveTo(t+a,n),e.lineTo(t+i-a,n),e.quadraticCurveTo(t+i,n,t+i,n+s),e.lineTo(t+i,n+r-s),e.quadraticCurveTo(t+i,n+r,t+i-a,n+r),e.lineTo(t+a,n+r),e.quadraticCurveTo(t,n+r,t,n+r-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+a,n)}else e.rect(t,n,i,r)},drawPoint:function(e,t,n,i,r){var o,a,s,l,u,c;if(!t||\"object\"!=typeof t||\"[object HTMLImageElement]\"!==(o=t.toString())&&\"[object HTMLCanvasElement]\"!==o){if(!(isNaN(n)||n<=0)){switch(t){default:e.beginPath(),e.arc(i,r,n,0,2*Math.PI),e.closePath(),e.fill();break;case\"triangle\":e.beginPath(),u=(a=3*n/Math.sqrt(3))*Math.sqrt(3)/2,e.moveTo(i-a/2,r+u/3),e.lineTo(i+a/2,r+u/3),e.lineTo(i,r-2*u/3),e.closePath(),e.fill();break;case\"rect\":c=1/Math.SQRT2*n,e.beginPath(),e.fillRect(i-c,r-c,2*c,2*c),e.strokeRect(i-c,r-c,2*c,2*c);break;case\"rectRounded\":var d=n/Math.SQRT2,h=i-d,f=r-d,p=Math.SQRT2*n;e.beginPath(),this.roundedRect(e,h,f,p,p,n/2),e.closePath(),e.fill();break;case\"rectRot\":c=1/Math.SQRT2*n,e.beginPath(),e.moveTo(i-c,r),e.lineTo(i,r+c),e.lineTo(i+c,r),e.lineTo(i,r-c),e.closePath(),e.fill();break;case\"cross\":e.beginPath(),e.moveTo(i,r+n),e.lineTo(i,r-n),e.moveTo(i-n,r),e.lineTo(i+n,r),e.closePath();break;case\"crossRot\":e.beginPath(),s=Math.cos(Math.PI/4)*n,l=Math.sin(Math.PI/4)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i-s,r+l),e.lineTo(i+s,r-l),e.closePath();break;case\"star\":e.beginPath(),e.moveTo(i,r+n),e.lineTo(i,r-n),e.moveTo(i-n,r),e.lineTo(i+n,r),s=Math.cos(Math.PI/4)*n,l=Math.sin(Math.PI/4)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i-s,r+l),e.lineTo(i+s,r-l),e.closePath();break;case\"line\":e.beginPath(),e.moveTo(i-n,r),e.lineTo(i+n,r),e.closePath();break;case\"dash\":e.beginPath(),e.moveTo(i,r),e.lineTo(i+n,r),e.closePath()}e.stroke()}}else e.drawImage(t,i-t.width/2,r-t.height/2,t.width,t.height)},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,i){if(n.steppedLine)return\"after\"===n.steppedLine&&!i||\"after\"!==n.steppedLine&&i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y),void e.lineTo(n.x,n.y);n.tension?e.bezierCurveTo(i?t.controlPointPreviousX:t.controlPointNextX,i?t.controlPointPreviousY:t.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):e.lineTo(n.x,n.y)}},i.clear=n.clear,i.drawRoundedRectangle=function(e){e.beginPath(),n.roundedRect.apply(n,arguments),e.closePath()}},{42:42}],42:[function(e,t,n){\"use strict\";var i={noop:function(){},uid:function(){var e=0;return function(){return e++}}(),isNullOrUndef:function(e){return null==e},isArray:Array.isArray?Array.isArray:function(e){return\"[object Array]\"===Object.prototype.toString.call(e)},isObject:function(e){return null!==e&&\"[object Object]\"===Object.prototype.toString.call(e)},valueOrDefault:function(e,t){return void 0===e?t:e},valueAtIndexOrDefault:function(e,t,n){return i.valueOrDefault(i.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&\"function\"==typeof e.call)return e.apply(n,t)},each:function(e,t,n,r){var o,a,s;if(i.isArray(e))if(a=e.length,r)for(o=a-1;o>=0;o--)t.call(n,e[o],o);else for(o=0;o<a;o++)t.call(n,e[o],o);else if(i.isObject(e))for(a=(s=Object.keys(e)).length,o=0;o<a;o++)t.call(n,e[s[o]],s[o])},arrayEquals:function(e,t){var n,r,o,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(a=t[n],(o=e[n])instanceof Array&&a instanceof Array){if(!i.arrayEquals(o,a))return!1}else if(o!==a)return!1;return!0},clone:function(e){if(i.isArray(e))return e.map(i.clone);if(i.isObject(e)){for(var t={},n=Object.keys(e),r=n.length,o=0;o<r;++o)t[n[o]]=i.clone(e[n[o]]);return t}return e},_merger:function(e,t,n,r){var o=t[e],a=n[e];i.isObject(o)&&i.isObject(a)?i.merge(o,a,r):t[e]=i.clone(a)},_mergerIf:function(e,t,n){var r=t[e],o=n[e];i.isObject(r)&&i.isObject(o)?i.mergeIf(r,o):t.hasOwnProperty(e)||(t[e]=i.clone(o))},merge:function(e,t,n){var r,o,a,s,l,u=i.isArray(t)?t:[t],c=u.length;if(!i.isObject(e))return e;for(r=(n=n||{}).merger||i._merger,o=0;o<c;++o)if(i.isObject(t=u[o]))for(l=0,s=(a=Object.keys(t)).length;l<s;++l)r(a[l],e,t,n);return e},mergeIf:function(e,t){return i.merge(e,t,{merger:i._mergerIf})},extend:function(e){for(var t=1,n=arguments.length;t<n;++t)i.each(arguments[t],function(t,n){e[n]=t});return e},inherits:function(e){var t=this,n=e&&e.hasOwnProperty(\"constructor\")?e.constructor:function(){return t.apply(this,arguments)},r=function(){this.constructor=n};return r.prototype=t.prototype,n.prototype=new r,n.extend=i.inherits,e&&i.extend(n.prototype,e),n.__super__=t.prototype,n}};t.exports=i,i.callCallback=i.callback,i.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},i.getValueOrDefault=i.valueOrDefault,i.getValueAtIndexOrDefault=i.valueAtIndexOrDefault},{}],43:[function(e,t,n){\"use strict\";var i=e(42),r={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1===e?1:(n||(n=.3),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1===e?1:(n||(n=.3),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.45),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-r.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*r.easeInBounce(2*e):.5*r.easeOutBounce(2*e-1)+.5}};t.exports={effects:r},i.easingEffects=r},{42:42}],44:[function(e,t,n){\"use strict\";var i=e(42);t.exports={toLineHeight:function(e,t){var n=(\"\"+e).match(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);if(!n||\"normal\"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case\"px\":return e;case\"%\":e/=100}return t*e},toPadding:function(e){var t,n,r,o;return i.isObject(e)?(t=+e.top||0,n=+e.right||0,r=+e.bottom||0,o=+e.left||0):t=n=r=o=+e||0,{top:t,right:n,bottom:r,left:o,height:t+r,width:o+n}},resolve:function(e,t,n){var r,o,a;for(r=0,o=e.length;r<o;++r)if(void 0!==(a=e[r])&&(void 0!==t&&\"function\"==typeof a&&(a=a(t)),void 0!==n&&i.isArray(a)&&(a=a[n]),void 0!==a))return a}}},{42:42}],45:[function(e,t,n){\"use strict\";t.exports=e(42),t.exports.easing=e(43),t.exports.canvas=e(41),t.exports.options=e(44)},{41:41,42:42,43:43,44:44}],46:[function(e,t,n){t.exports={acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext(\"2d\")||null}}},{}],47:[function(e,t,n){\"use strict\";function i(e,t){var n=s.getStyle(e,t),i=n&&n.match(/^(\\d+)(\\.\\d+)?px$/);return i?Number(i[1]):void 0}function r(e,t,n){e.addEventListener(t,n,p)}function o(e,t,n){e.removeEventListener(t,n,p)}function a(e,t,n,i,r){return{type:e,chart:t,native:r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}var s=e(45),l=\"$chartjs\",u=\"chartjs-\",c=u+\"render-monitor\",d=u+\"render-animation\",h=[\"animationstart\",\"webkitAnimationStart\"],f={touchstart:\"mousedown\",touchmove:\"mousemove\",touchend:\"mouseup\",pointerenter:\"mouseenter\",pointerdown:\"mousedown\",pointermove:\"mousemove\",pointerup:\"mouseup\",pointerleave:\"mouseout\",pointerout:\"mouseout\"},p=!!function(){var e=!1;try{var t=Object.defineProperty({},\"passive\",{get:function(){e=!0}});window.addEventListener(\"e\",null,t)}catch(e){}return e}()&&{passive:!0};t.exports={_enabled:\"undefined\"!=typeof window&&\"undefined\"!=typeof document,initialize:function(){var e=\"from{opacity:0.99}to{opacity:1}\";!function(e,t){var n=e._style||document.createElement(\"style\");e._style||(e._style=n,t=\"/* Chart.js */\\n\"+t,n.setAttribute(\"type\",\"text/css\"),document.getElementsByTagName(\"head\")[0].appendChild(n)),n.appendChild(document.createTextNode(t))}(this,\"@-webkit-keyframes \"+d+\"{\"+e+\"}@keyframes \"+d+\"{\"+e+\"}.\"+c+\"{-webkit-animation:\"+d+\" 0.001s;animation:\"+d+\" 0.001s;}\")},acquireContext:function(e,t){\"string\"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext(\"2d\");return n&&n.canvas===e?(function(e,t){var n=e.style,r=e.getAttribute(\"height\"),o=e.getAttribute(\"width\");if(e[l]={initial:{height:r,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||\"block\",null===o||\"\"===o){var a=i(e,\"width\");void 0!==a&&(e.width=a)}if(null===r||\"\"===r)if(\"\"===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var s=i(e,\"height\");void 0!==a&&(e.height=s)}}(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t[l]){var n=t[l].initial;[\"height\",\"width\"].forEach(function(e){var i=n[e];s.isNullOrUndef(i)?t.removeAttribute(e):t.setAttribute(e,i)}),s.each(n.style||{},function(e,n){t.style[n]=e}),t.width=t.width,delete t[l]}},addEventListener:function(e,t,n){var i=e.canvas;if(\"resize\"!==t){var o=n[l]||(n[l]={});r(i,t,(o.proxies||(o.proxies={}))[e.id+\"_\"+t]=function(t){n(function(e,t){var n=f[e.type]||e.type,i=s.getRelativePosition(e,t);return a(n,t,i.x,i.y,e)}(t,e))})}else!function(e,t,n){var i=e[l]||(e[l]={}),o=i.resizer=function(e){var t=document.createElement(\"div\"),n=u+\"size-monitor\",i=\"position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;\";t.style.cssText=i,t.className=n,t.innerHTML='<div class=\"'+n+'-expand\" style=\"'+i+'\"><div style=\"position:absolute;width:1000000px;height:1000000px;left:0;top:0\"></div></div><div class=\"'+n+'-shrink\" style=\"'+i+'\"><div style=\"position:absolute;width:200%;height:200%;left:0; top:0\"></div></div>';var o=t.childNodes[0],a=t.childNodes[1];t._reset=function(){o.scrollLeft=1e6,o.scrollTop=1e6,a.scrollLeft=1e6,a.scrollTop=1e6};var s=function(){t._reset(),e()};return r(o,\"scroll\",s.bind(o,\"expand\")),r(a,\"scroll\",s.bind(a,\"shrink\")),t}(function(e,t){var n=!1,i=[];return function(){i=Array.prototype.slice.call(arguments),t=t||this,n||(n=!0,s.requestAnimFrame.call(window,function(){n=!1,e.apply(t,i)}))}}(function(){if(i.resizer)return t(a(\"resize\",n))}));!function(e,t){var n=e[l]||(e[l]={}),i=n.renderProxy=function(e){e.animationName===d&&t()};s.each(h,function(t){r(e,t,i)}),n.reflow=!!e.offsetParent,e.classList.add(c)}(e,function(){if(i.resizer){var t=e.parentNode;t&&t!==o.parentNode&&t.insertBefore(o,t.firstChild),o._reset()}})}(i,n,e)},removeEventListener:function(e,t,n){var i=e.canvas;if(\"resize\"!==t){var r=((n[l]||{}).proxies||{})[e.id+\"_\"+t];r&&o(i,t,r)}else!function(e){var t=e[l]||{},n=t.resizer;delete t.resizer,function(e){var t=e[l]||{},n=t.renderProxy;n&&(s.each(h,function(t){o(e,t,n)}),delete t.renderProxy),e.classList.remove(c)}(e),n&&n.parentNode&&n.parentNode.removeChild(n)}(i)}},s.addEvent=r,s.removeEvent=o},{45:45}],48:[function(e,t,n){\"use strict\";var i=e(45),r=e(46),o=e(47);t.exports=i.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},o._enabled?o:r)},{45:45,46:46,47:47}],49:[function(e,t,n){\"use strict\";var i=e(25),r=e(40),o=e(45);i._set(\"global\",{plugins:{filler:{propagate:!0}}}),t.exports=function(){function e(e,t,n){var i,r=e._model||{},o=r.fill;if(void 0===o&&(o=!!r.backgroundColor),!1===o||null===o)return!1;if(!0===o)return\"origin\";if(i=parseFloat(o,10),isFinite(i)&&Math.floor(i)===i)return\"-\"!==o[0]&&\"+\"!==o[0]||(i=t+i),!(i===t||i<0||i>=n)&&i;switch(o){case\"bottom\":return\"start\";case\"top\":return\"end\";case\"zero\":return\"origin\";case\"origin\":case\"start\":case\"end\":return o;default:return!1}}function t(e){var t,n=e.el._model||{},i=e.el._scale||{},r=e.fill,o=null;if(isFinite(r))return null;if(\"start\"===r?o=void 0===n.scaleBottom?i.bottom:n.scaleBottom:\"end\"===r?o=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?o=n.scaleZero:i.getBasePosition?o=i.getBasePosition():i.getBasePixel&&(o=i.getBasePixel()),null!=o){if(void 0!==o.x&&void 0!==o.y)return o;if(\"number\"==typeof o&&isFinite(o))return{x:(t=i.isHorizontal())?o:null,y:t?null:o}}return null}function n(e,t,n){var i,r=e[t].fill,o=[t];if(!n)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!isFinite(r))return r;if(!(i=e[r]))return!1;if(i.visible)return r;o.push(r),r=i.fill}return!1}function a(e){var t=e.fill,n=\"dataset\";return!1===t?null:(isFinite(t)||(n=\"boundary\"),c[n](e))}function s(e){return e&&!e.skip}function l(e,t,n,i,r){var a;if(i&&r){for(e.moveTo(t[0].x,t[0].y),a=1;a<i;++a)o.canvas.lineTo(e,t[a-1],t[a]);for(e.lineTo(n[r-1].x,n[r-1].y),a=r-1;a>0;--a)o.canvas.lineTo(e,n[a],n[a-1],!0)}}function u(e,t,n,i,r,o){var a,u,c,d,h,f,p,g=t.length,m=i.spanGaps,v=[],y=[],x=0,b=0;for(e.beginPath(),a=0,u=g+!!o;a<u;++a)h=n(d=t[c=a%g]._view,c,i),f=s(d),p=s(h),f&&p?(x=v.push(d),b=y.push(h)):x&&b&&(m?(f&&v.push(d),p&&y.push(h)):(l(e,v,y,x,b),x=b=0,v=[],y=[]));l(e,v,y,x,b),e.closePath(),e.fillStyle=r,e.fill()}var c={dataset:function(e){var t=e.fill,n=e.chart,i=n.getDatasetMeta(t),r=i&&n.isDatasetVisible(t)&&i.dataset._children||[],o=r.length||0;return o?function(e,t){return t<o&&r[t]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,i=t?t.y:null;return function(e){return{x:null===n?e.x:n,y:null===i?e.y:i}}}};return{id:\"filler\",afterDatasetsUpdate:function(i,o){var s,l,u,c,d=(i.data.datasets||[]).length,h=o.propagate,f=[];for(l=0;l<d;++l)c=null,(u=(s=i.getDatasetMeta(l)).dataset)&&u._model&&u instanceof r.Line&&(c={visible:i.isDatasetVisible(l),fill:e(u,l,d),chart:i,el:u}),s.$filler=c,f.push(c);for(l=0;l<d;++l)(c=f[l])&&(c.fill=n(f,l,h),c.boundary=t(c),c.mapper=a(c))},beforeDatasetDraw:function(e,t){var n=t.meta.$filler;if(n){var r=e.ctx,a=n.el,s=a._view,l=a._children||[],c=n.mapper,d=s.backgroundColor||i.global.defaultColor;c&&d&&l.length&&(o.canvas.clipArea(r,e.chartArea),u(r,l,c,s,d,a._loop),o.canvas.unclipArea(r))}}}}},{25:25,40:40,45:45}],50:[function(e,t,n){\"use strict\";var i=e(25),r=e(26),o=e(45);i._set(\"global\",{legend:{display:!0,position:\"top\",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data;return o.isArray(t.datasets)?t.datasets.map(function(t,n){return{text:t.label,fillStyle:o.isArray(t.backgroundColor)?t.backgroundColor[0]:t.backgroundColor,hidden:!e.isDatasetVisible(n),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,datasetIndex:n}},this):[]}}},legendCallback:function(e){var t=[];t.push('<ul class=\"'+e.id+'-legend\">');for(var n=0;n<e.data.datasets.length;n++)t.push('<li><span style=\"background-color:'+e.data.datasets[n].backgroundColor+'\"></span>'),e.data.datasets[n].label&&t.push(e.data.datasets[n].label),t.push(\"</li>\");return t.push(\"</ul>\"),t.join(\"\")}}),t.exports=function(e){function t(e,t){return e.usePointStyle?t*Math.SQRT2:e.boxWidth}function n(t,n){var i=new e.Legend({ctx:t.ctx,options:n,chart:t});a.configure(t,i,n),a.addBox(t,i),t.legend=i}var a=e.layoutService,s=o.noop;return e.Legend=r.extend({initialize:function(e){o.extend(this,e),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:s,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:s,beforeSetDimensions:s,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:s,beforeBuildLabels:s,buildLabels:function(){var e=this,t=e.options.labels||{},n=o.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter(function(n){return t.filter(n,e.chart.data)})),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:s,beforeFit:s,fit:function(){var e=this,n=e.options,r=n.labels,a=n.display,s=e.ctx,l=i.global,u=o.valueOrDefault,c=u(r.fontSize,l.defaultFontSize),d=u(r.fontStyle,l.defaultFontStyle),h=u(r.fontFamily,l.defaultFontFamily),f=o.fontString(c,d,h),p=e.legendHitBoxes=[],g=e.minSize,m=e.isHorizontal();if(m?(g.width=e.maxWidth,g.height=a?10:0):(g.width=a?10:0,g.height=e.maxHeight),a)if(s.font=f,m){var v=e.lineWidths=[0],y=e.legendItems.length?c+r.padding:0;s.textAlign=\"left\",s.textBaseline=\"top\",o.each(e.legendItems,function(n,i){var o=t(r,c)+c/2+s.measureText(n.text).width;v[v.length-1]+o+r.padding>=e.width&&(y+=c+r.padding,v[v.length]=e.left),p[i]={left:0,top:0,width:o,height:c},v[v.length-1]+=o+r.padding}),g.height+=y}else{var x=r.padding,b=e.columnWidths=[],_=r.padding,w=0,S=0,C=c+x;o.each(e.legendItems,function(e,n){var i=t(r,c)+c/2+s.measureText(e.text).width;S+C>g.height&&(_+=w+r.padding,b.push(w),w=0,S=0),w=Math.max(w,i),S+=C,p[n]={left:0,top:0,width:i,height:c}}),_+=w,b.push(w),g.width+=_}e.width=g.width,e.height=g.height},afterFit:s,isHorizontal:function(){return\"top\"===this.options.position||\"bottom\"===this.options.position},draw:function(){var e=this,n=e.options,r=n.labels,a=i.global,s=a.elements.line,l=e.width,u=e.lineWidths;if(n.display){var c,d=e.ctx,h=o.valueOrDefault,f=h(r.fontColor,a.defaultFontColor),p=h(r.fontSize,a.defaultFontSize),g=h(r.fontStyle,a.defaultFontStyle),m=h(r.fontFamily,a.defaultFontFamily),v=o.fontString(p,g,m);d.textAlign=\"left\",d.textBaseline=\"middle\",d.lineWidth=.5,d.strokeStyle=f,d.fillStyle=f,d.font=v;var y=t(r,p),x=e.legendHitBoxes,b=function(e,t,i){if(!(isNaN(y)||y<=0)){d.save(),d.fillStyle=h(i.fillStyle,a.defaultColor),d.lineCap=h(i.lineCap,s.borderCapStyle),d.lineDashOffset=h(i.lineDashOffset,s.borderDashOffset),d.lineJoin=h(i.lineJoin,s.borderJoinStyle),d.lineWidth=h(i.lineWidth,s.borderWidth),d.strokeStyle=h(i.strokeStyle,a.defaultColor);var r=0===h(i.lineWidth,s.borderWidth);if(d.setLineDash&&d.setLineDash(h(i.lineDash,s.borderDash)),n.labels&&n.labels.usePointStyle){var l=p*Math.SQRT2/2,u=l/Math.SQRT2;o.canvas.drawPoint(d,i.pointStyle,l,e+u,t+u)}else r||d.strokeRect(e,t,y,p),d.fillRect(e,t,y,p);d.restore()}},_=e.isHorizontal();c=_?{x:e.left+(l-u[0])/2,y:e.top+r.padding,line:0}:{x:e.left+r.padding,y:e.top+r.padding,line:0};var w=p+r.padding;o.each(e.legendItems,function(t,n){var i=d.measureText(t.text).width,o=y+p/2+i,a=c.x,s=c.y;_?a+o>=l&&(s=c.y+=w,c.line++,a=c.x=e.left+(l-u[c.line])/2):s+w>e.bottom&&(a=c.x=a+e.columnWidths[c.line]+r.padding,s=c.y=e.top+r.padding,c.line++),b(a,s,t),x[n].left=a,x[n].top=s,function(e,t,n,i){var r=p/2,o=y+r+e,a=t+r;d.fillText(n.text,o,a),n.hidden&&(d.beginPath(),d.lineWidth=2,d.moveTo(o,a),d.lineTo(o+i,a),d.stroke())}(a,s,t,i),_?c.x+=o+r.padding:c.y+=w})}},handleEvent:function(e){var t=this,n=t.options,i=\"mouseup\"===e.type?\"click\":e.type,r=!1;if(\"mousemove\"===i){if(!n.onHover)return}else{if(\"click\"!==i)return;if(!n.onClick)return}var o=e.x,a=e.y;if(o>=t.left&&o<=t.right&&a>=t.top&&a<=t.bottom)for(var s=t.legendHitBoxes,l=0;l<s.length;++l){var u=s[l];if(o>=u.left&&o<=u.left+u.width&&a>=u.top&&a<=u.top+u.height){if(\"click\"===i){n.onClick.call(t,e.native,t.legendItems[l]),r=!0;break}if(\"mousemove\"===i){n.onHover.call(t,e.native,t.legendItems[l]),r=!0;break}}}return r}}),{id:\"legend\",beforeInit:function(e){var t=e.options.legend;t&&n(e,t)},beforeUpdate:function(e){var t=e.options.legend,r=e.legend;t?(o.mergeIf(t,i.global.legend),r?(a.configure(e,r,t),r.options=t):n(e,t)):r&&(a.removeBox(e,r),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}}}},{25:25,26:26,45:45}],51:[function(e,t,n){\"use strict\";var i=e(25),r=e(26),o=e(45);i._set(\"global\",{title:{display:!1,fontStyle:\"bold\",fullWidth:!0,lineHeight:1.2,padding:10,position:\"top\",text:\"\",weight:2e3}}),t.exports=function(e){function t(t,i){var r=new e.Title({ctx:t.ctx,options:i,chart:t});n.configure(t,r,i),n.addBox(t,r),t.titleBlock=r}var n=e.layoutService,a=o.noop;return e.Title=r.extend({initialize:function(e){o.extend(this,e),this.legendHitBoxes=[]},beforeUpdate:a,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:a,beforeSetDimensions:a,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:a,beforeBuildLabels:a,buildLabels:a,afterBuildLabels:a,beforeFit:a,fit:function(){var e=this,t=e.options,n=t.display,r=(0,o.valueOrDefault)(t.fontSize,i.global.defaultFontSize),a=e.minSize,s=o.isArray(t.text)?t.text.length:1,l=o.options.toLineHeight(t.lineHeight,r),u=n?s*l+2*t.padding:0;e.isHorizontal()?(a.width=e.maxWidth,a.height=u):(a.width=u,a.height=e.maxHeight),e.width=a.width,e.height=a.height},afterFit:a,isHorizontal:function(){var e=this.options.position;return\"top\"===e||\"bottom\"===e},draw:function(){var e=this,t=e.ctx,n=o.valueOrDefault,r=e.options,a=i.global;if(r.display){var s,l,u,c=n(r.fontSize,a.defaultFontSize),d=n(r.fontStyle,a.defaultFontStyle),h=n(r.fontFamily,a.defaultFontFamily),f=o.fontString(c,d,h),p=o.options.toLineHeight(r.lineHeight,c),g=p/2+r.padding,m=0,v=e.top,y=e.left,x=e.bottom,b=e.right;t.fillStyle=n(r.fontColor,a.defaultFontColor),t.font=f,e.isHorizontal()?(l=y+(b-y)/2,u=v+g,s=b-y):(l=\"left\"===r.position?y+g:b-g,u=v+(x-v)/2,s=x-v,m=Math.PI*(\"left\"===r.position?-.5:.5)),t.save(),t.translate(l,u),t.rotate(m),t.textAlign=\"center\",t.textBaseline=\"middle\";var _=r.text;if(o.isArray(_))for(var w=0,S=0;S<_.length;++S)t.fillText(_[S],0,w,s),w+=p;else t.fillText(_,0,0,s);t.restore()}}}),{id:\"title\",beforeInit:function(e){var n=e.options.title;n&&t(e,n)},beforeUpdate:function(r){var a=r.options.title,s=r.titleBlock;a?(o.mergeIf(a,i.global.title),s?(n.configure(r,s,a),s.options=a):t(r,a)):s&&(e.layoutService.removeBox(r,s),delete r.titleBlock)}}}},{25:25,26:26,45:45}],52:[function(e,t,n){\"use strict\";t.exports=function(e){var t=e.Scale.extend({getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels},determineDataLimits:function(){var e,t=this,n=t.getLabels();t.minIndex=0,t.maxIndex=n.length-1,void 0!==t.options.ticks.min&&(e=n.indexOf(t.options.ticks.min),t.minIndex=-1!==e?e:t.minIndex),void 0!==t.options.ticks.max&&(e=n.indexOf(t.options.ticks.max),t.maxIndex=-1!==e?e:t.maxIndex),t.min=n[t.minIndex],t.max=n[t.maxIndex]},buildTicks:function(){var e=this,t=e.getLabels();e.ticks=0===e.minIndex&&e.maxIndex===t.length-1?t:t.slice(e.minIndex,e.maxIndex+1)},getLabelForIndex:function(e,t){var n=this,i=n.chart.data,r=n.isHorizontal();return i.yLabels&&!r?n.getRightValue(i.datasets[t].data[e]):n.ticks[e-n.minIndex]},getPixelForValue:function(e,t){var n,i=this,r=i.options.offset,o=Math.max(i.maxIndex+1-i.minIndex-(r?0:1),1);if(null!=e&&(n=i.isHorizontal()?e.x:e.y),void 0!==n||void 0!==e&&isNaN(t)){var a=i.getLabels().indexOf(e=n||e);t=-1!==a?a:t}if(i.isHorizontal()){var s=i.width/o,l=s*(t-i.minIndex);return r&&(l+=s/2),i.left+Math.round(l)}var u=i.height/o,c=u*(t-i.minIndex);return r&&(c+=u/2),i.top+Math.round(c)},getPixelForTick:function(e){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null)},getValueForPixel:function(e){var t=this,n=t.options.offset,i=Math.max(t._ticks.length-(n?0:1),1),r=t.isHorizontal(),o=(r?t.width:t.height)/i;return e-=r?t.left:t.top,n&&(e-=o/2),(e<=0?0:Math.round(e/o))+t.minIndex},getBasePixel:function(){return this.bottom}});e.scaleService.registerScaleType(\"category\",t,{position:\"bottom\"})}},{}],53:[function(e,t,n){\"use strict\";var i=e(25),r=e(45),o=e(34);t.exports=function(e){var t={position:\"left\",ticks:{callback:o.formatters.linear}},n=e.LinearScaleBase.extend({determineDataLimits:function(){function e(e){return a?e.xAxisID===t.id:e.yAxisID===t.id}var t=this,n=t.options,i=t.chart,o=i.data.datasets,a=t.isHorizontal();t.min=null,t.max=null;var s=n.stacked;if(void 0===s&&r.each(o,function(t,n){if(!s){var r=i.getDatasetMeta(n);i.isDatasetVisible(n)&&e(r)&&void 0!==r.stack&&(s=!0)}}),n.stacked||s){var l={};r.each(o,function(o,a){var s=i.getDatasetMeta(a),u=[s.type,void 0===n.stacked&&void 0===s.stack?a:\"\",s.stack].join(\".\");void 0===l[u]&&(l[u]={positiveValues:[],negativeValues:[]});var c=l[u].positiveValues,d=l[u].negativeValues;i.isDatasetVisible(a)&&e(s)&&r.each(o.data,function(e,i){var r=+t.getRightValue(e);isNaN(r)||s.data[i].hidden||(c[i]=c[i]||0,d[i]=d[i]||0,n.relativePoints?c[i]=100:r<0?d[i]+=r:c[i]+=r)})}),r.each(l,function(e){var n=e.positiveValues.concat(e.negativeValues),i=r.min(n),o=r.max(n);t.min=null===t.min?i:Math.min(t.min,i),t.max=null===t.max?o:Math.max(t.max,o)})}else r.each(o,function(n,o){var a=i.getDatasetMeta(o);i.isDatasetVisible(o)&&e(a)&&r.each(n.data,function(e,n){var i=+t.getRightValue(e);isNaN(i)||a.data[n].hidden||((null===t.min||i<t.min)&&(t.min=i),(null===t.max||i>t.max)&&(t.max=i))})});t.min=isFinite(t.min)&&!isNaN(t.min)?t.min:0,t.max=isFinite(t.max)&&!isNaN(t.max)?t.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var e,t=this,n=t.options.ticks;if(t.isHorizontal())e=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(t.width/50));else{var o=r.valueOrDefault(n.fontSize,i.global.defaultFontSize);e=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(t.height/(2*o)))}return e},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t,n=this,i=n.start,r=+n.getRightValue(e),o=n.end-i;return n.isHorizontal()?(t=n.left+n.width/o*(r-i),Math.round(t)):(t=n.bottom-n.height/o*(r-i),Math.round(t))},getValueForPixel:function(e){var t=this,n=t.isHorizontal();return t.start+(n?e-t.left:t.bottom-e)/(n?t.width:t.height)*(t.end-t.start)},getPixelForTick:function(e){return this.getPixelForValue(this.ticksAsNumbers[e])}});e.scaleService.registerScaleType(\"linear\",n,t)}},{25:25,34:34,45:45}],54:[function(e,t,n){\"use strict\";var i=e(45),r=e(34);t.exports=function(e){var t=i.noop;e.LinearScaleBase=e.Scale.extend({getRightValue:function(t){return\"string\"==typeof t?+t:e.Scale.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;if(t.beginAtZero){var n=i.sign(e.min),r=i.sign(e.max);n<0&&r<0?e.max=0:n>0&&r>0&&(e.min=0)}var o=void 0!==t.min||void 0!==t.suggestedMin,a=void 0!==t.max||void 0!==t.suggestedMax;void 0!==t.min?e.min=t.min:void 0!==t.suggestedMin&&(e.min=null===e.min?t.suggestedMin:Math.min(e.min,t.suggestedMin)),void 0!==t.max?e.max=t.max:void 0!==t.suggestedMax&&(e.max=null===e.max?t.suggestedMax:Math.max(e.max,t.suggestedMax)),o!==a&&e.min>=e.max&&(o?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,t.beginAtZero||e.min--)},getTickLimit:t,handleDirectionalChanges:t,buildTicks:function(){var e=this,t=e.options.ticks,n=e.getTickLimit(),o={maxTicks:n=Math.max(2,n),min:t.min,max:t.max,stepSize:i.valueOrDefault(t.fixedStepSize,t.stepSize)},a=e.ticks=r.generators.linear(o,e);e.handleDirectionalChanges(),e.max=i.max(a),e.min=i.min(a),t.reverse?(a.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(t)}})}},{34:34,45:45}],55:[function(e,t,n){\"use strict\";var i=e(45),r=e(34);t.exports=function(e){var t={position:\"left\",ticks:{callback:r.formatters.logarithmic}},n=e.Scale.extend({determineDataLimits:function(){function e(e){return l?e.xAxisID===t.id:e.yAxisID===t.id}var t=this,n=t.options,r=n.ticks,o=t.chart,a=o.data.datasets,s=i.valueOrDefault,l=t.isHorizontal();t.min=null,t.max=null,t.minNotZero=null;var u=n.stacked;if(void 0===u&&i.each(a,function(t,n){if(!u){var i=o.getDatasetMeta(n);o.isDatasetVisible(n)&&e(i)&&void 0!==i.stack&&(u=!0)}}),n.stacked||u){var c={};i.each(a,function(r,a){var s=o.getDatasetMeta(a),l=[s.type,void 0===n.stacked&&void 0===s.stack?a:\"\",s.stack].join(\".\");o.isDatasetVisible(a)&&e(s)&&(void 0===c[l]&&(c[l]=[]),i.each(r.data,function(e,i){var r=c[l],o=+t.getRightValue(e);isNaN(o)||s.data[i].hidden||(r[i]=r[i]||0,n.relativePoints?r[i]=100:r[i]+=o)}))}),i.each(c,function(e){var n=i.min(e),r=i.max(e);t.min=null===t.min?n:Math.min(t.min,n),t.max=null===t.max?r:Math.max(t.max,r)})}else i.each(a,function(n,r){var a=o.getDatasetMeta(r);o.isDatasetVisible(r)&&e(a)&&i.each(n.data,function(e,n){var i=+t.getRightValue(e);isNaN(i)||a.data[n].hidden||((null===t.min||i<t.min)&&(t.min=i),(null===t.max||i>t.max)&&(t.max=i),0!==i&&(null===t.minNotZero||i<t.minNotZero)&&(t.minNotZero=i))})});t.min=s(r.min,t.min),t.max=s(r.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(i.log10(t.min))-1),t.max=Math.pow(10,Math.floor(i.log10(t.max))+1)):(t.min=1,t.max=10))},buildTicks:function(){var e=this,t=e.options.ticks,n=e.ticks=r.generators.logarithmic({min:t.min,max:t.max},e);e.isHorizontal()||n.reverse(),e.max=i.max(n),e.min=i.min(n),t.reverse?(n.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),e.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){return this.getPixelForValue(this.tickValues[e])},getPixelForValue:function(e){var t,n,r,o=this,a=o.start,s=+o.getRightValue(e),l=o.options.ticks;return o.isHorizontal()?(r=i.log10(o.end)-i.log10(a),n=0===s?o.left:o.left+(t=o.width)/r*(i.log10(s)-i.log10(a))):(t=o.height,0!==a||l.reverse?0===o.end&&l.reverse?(r=i.log10(o.start)-i.log10(o.minNotZero),n=s===o.end?o.top:s===o.minNotZero?o.top+.02*t:o.top+.02*t+.98*t/r*(i.log10(s)-i.log10(o.minNotZero))):0===s?n=l.reverse?o.top:o.bottom:(r=i.log10(o.end)-i.log10(a),n=o.bottom-(t=o.height)/r*(i.log10(s)-i.log10(a))):(r=i.log10(o.end)-i.log10(o.minNotZero),n=s===a?o.bottom:s===o.minNotZero?o.bottom-.02*t:o.bottom-.02*t-.98*t/r*(i.log10(s)-i.log10(o.minNotZero)))),n},getValueForPixel:function(e){var t,n,r=this,o=i.log10(r.end)-i.log10(r.start);return r.isHorizontal()?(n=r.width,t=r.start*Math.pow(10,(e-r.left)*o/n)):(n=r.height,t=Math.pow(10,(r.bottom-e)*o/n)/r.start),t}});e.scaleService.registerScaleType(\"logarithmic\",n,t)}},{34:34,45:45}],56:[function(e,t,n){\"use strict\";var i=e(25),r=e(45),o=e(34);t.exports=function(e){function t(e){var t=e.options;return t.angleLines.display||t.pointLabels.display?e.chart.data.labels.length:0}function n(e){var t=e.options.pointLabels,n=r.valueOrDefault(t.fontSize,p.defaultFontSize),i=r.valueOrDefault(t.fontStyle,p.defaultFontStyle),o=r.valueOrDefault(t.fontFamily,p.defaultFontFamily);return{size:n,style:i,family:o,font:r.fontString(n,i,o)}}function a(e,t,n){return r.isArray(n)?{w:r.longestText(e,e.font,n),h:n.length*t+1.5*(n.length-1)*t}:{w:e.measureText(n).width,h:t}}function s(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n-5,end:t}:{start:t,end:t+n+5}}function l(e){return 0===e||180===e?\"center\":e<180?\"left\":\"right\"}function u(e,t,n,i){if(r.isArray(t))for(var o=n.y,a=1.5*i,s=0;s<t.length;++s)e.fillText(t[s],n.x,o),o+=a;else e.fillText(t,n.x,n.y)}function c(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function d(e){var i=e.ctx,o=r.valueOrDefault,a=e.options,s=a.angleLines,d=a.pointLabels;i.lineWidth=s.lineWidth,i.strokeStyle=s.color;var h=e.getDistanceFromCenterForValue(a.ticks.reverse?e.min:e.max),f=n(e);i.textBaseline=\"top\";for(var g=t(e)-1;g>=0;g--){if(s.display){var m=e.getPointPosition(g,h);i.beginPath(),i.moveTo(e.xCenter,e.yCenter),i.lineTo(m.x,m.y),i.stroke(),i.closePath()}if(d.display){var v=e.getPointPosition(g,h+5),y=o(d.fontColor,p.defaultFontColor);i.font=f.font,i.fillStyle=y;var x=e.getIndexAngle(g),b=r.toDegrees(x);i.textAlign=l(b),c(b,e._pointLabelSizes[g],v),u(i,e.pointLabels[g]||\"\",v,f.size)}}}function h(e,n,i,o){var a=e.ctx;if(a.strokeStyle=r.valueAtIndexOrDefault(n.color,o-1),a.lineWidth=r.valueAtIndexOrDefault(n.lineWidth,o-1),e.options.gridLines.circular)a.beginPath(),a.arc(e.xCenter,e.yCenter,i,0,2*Math.PI),a.closePath(),a.stroke();else{var s=t(e);if(0===s)return;a.beginPath();var l=e.getPointPosition(0,i);a.moveTo(l.x,l.y);for(var u=1;u<s;u++)l=e.getPointPosition(u,i),a.lineTo(l.x,l.y);a.closePath(),a.stroke()}}function f(e){return r.isNumber(e)?e:0}var p=i.global,g={display:!0,animate:!0,position:\"chartArea\",angleLines:{display:!0,color:\"rgba(0, 0, 0, 0.1)\",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:\"rgba(255,255,255,0.75)\",backdropPaddingY:2,backdropPaddingX:2,callback:o.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}},m=e.LinearScaleBase.extend({setDimensions:function(){var e=this,t=e.options,n=t.ticks;e.width=e.maxWidth,e.height=e.maxHeight,e.xCenter=Math.round(e.width/2),e.yCenter=Math.round(e.height/2);var i=r.min([e.height,e.width]),o=r.valueOrDefault(n.fontSize,p.defaultFontSize);e.drawingArea=t.display?i/2-(o/2+n.backdropPaddingY):i/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;r.each(t.data.datasets,function(o,a){if(t.isDatasetVisible(a)){var s=t.getDatasetMeta(a);r.each(o.data,function(t,r){var o=+e.getRightValue(t);isNaN(o)||s.data[r].hidden||(n=Math.min(o,n),i=Math.max(o,i))})}}),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=i===Number.NEGATIVE_INFINITY?0:i,e.handleTickRangeOptions()},getTickLimit:function(){var e=this.options.ticks,t=r.valueOrDefault(e.fontSize,p.defaultFontSize);return Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*t)))},convertTicksToLabels:function(){var t=this;e.LinearScaleBase.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){this.options.pointLabels.display?function(e){var i,o,l,u=n(e),c=Math.min(e.height/2,e.width/2),d={r:e.width,l:0,t:e.height,b:0},h={};e.ctx.font=u.font,e._pointLabelSizes=[];var f=t(e);for(i=0;i<f;i++){l=e.getPointPosition(i,c),o=a(e.ctx,u.size,e.pointLabels[i]||\"\"),e._pointLabelSizes[i]=o;var p=e.getIndexAngle(i),g=r.toDegrees(p)%360,m=s(g,l.x,o.w,0,180),v=s(g,l.y,o.h,90,270);m.start<d.l&&(d.l=m.start,h.l=p),m.end>d.r&&(d.r=m.end,h.r=p),v.start<d.t&&(d.t=v.start,h.t=p),v.end>d.b&&(d.b=v.end,h.b=p)}e.setReductions(c,d,h)}(this):function(e){var t=Math.min(e.height/2,e.width/2);e.drawingArea=Math.round(t),e.setCenterPoint(0,0,0,0)}(this)},setReductions:function(e,t,n){var i=this,r=t.l/Math.sin(n.l),o=Math.max(t.r-i.width,0)/Math.sin(n.r),a=-t.t/Math.cos(n.t),s=-Math.max(t.b-i.height,0)/Math.cos(n.b);r=f(r),o=f(o),a=f(a),s=f(s),i.drawingArea=Math.min(Math.round(e-(r+o)/2),Math.round(e-(a+s)/2)),i.setCenterPoint(r,o,a,s)},setCenterPoint:function(e,t,n,i){var r=this,o=n+r.drawingArea,a=r.height-i-r.drawingArea;r.xCenter=Math.round((e+r.drawingArea+(r.width-t-r.drawingArea))/2+r.left),r.yCenter=Math.round((o+a)/2+r.top)},getIndexAngle:function(e){return e*(2*Math.PI/t(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(null===e)return 0;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this,i=n.getIndexAngle(e)-Math.PI/2;return{x:Math.round(Math.cos(i)*t)+n.xCenter,y:Math.round(Math.sin(i)*t)+n.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(){var e=this,t=e.min,n=e.max;return e.getPointPositionForValue(0,e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0)},draw:function(){var e=this,t=e.options,n=t.gridLines,i=t.ticks,o=r.valueOrDefault;if(t.display){var a=e.ctx,s=this.getIndexAngle(0),l=o(i.fontSize,p.defaultFontSize),u=o(i.fontStyle,p.defaultFontStyle),c=o(i.fontFamily,p.defaultFontFamily),f=r.fontString(l,u,c);r.each(e.ticks,function(t,r){if(r>0||i.reverse){var u=e.getDistanceFromCenterForValue(e.ticksAsNumbers[r]);if(n.display&&0!==r&&h(e,n,u,r),i.display){var c=o(i.fontColor,p.defaultFontColor);if(a.font=f,a.save(),a.translate(e.xCenter,e.yCenter),a.rotate(s),i.showLabelBackdrop){var d=a.measureText(t).width;a.fillStyle=i.backdropColor,a.fillRect(-d/2-i.backdropPaddingX,-u-l/2-i.backdropPaddingY,d+2*i.backdropPaddingX,l+2*i.backdropPaddingY)}a.textAlign=\"center\",a.textBaseline=\"middle\",a.fillStyle=c,a.fillText(t,0,-u),a.restore()}}}),(t.angleLines.display||t.pointLabels.display)&&d(e)}}});e.scaleService.registerScaleType(\"radialLinear\",m,g)}},{25:25,34:34,45:45}],57:[function(e,t,n){\"use strict\";function i(e,t){return e-t}function r(e){var t,n,i,r={},o=[];for(t=0,n=e.length;t<n;++t)r[i=e[t]]||(r[i]=!0,o.push(i));return o}function o(e,t,n,i){var r=function(e,t,n){for(var i,r,o,a=0,s=e.length-1;a>=0&&a<=s;){if(o=e[i=a+s>>1],!(r=e[i-1]||null))return{lo:null,hi:o};if(o[t]<n)a=i+1;else{if(!(r[t]>n))return{lo:r,hi:o};s=i-1}}return{lo:o,hi:null}}(e,t,n),o=r.lo?r.hi?r.lo:e[e.length-2]:e[0],a=r.lo?r.hi?r.hi:e[e.length-1]:e[1],s=a[t]-o[t];return o[i]+(a[i]-o[i])*(s?(n-o[t])/s:0)}function a(e,t){var n=t.parser,i=t.parser||t.format;return\"function\"==typeof n?n(e):\"string\"==typeof e&&\"string\"==typeof i?c(e,i):(e instanceof c||(e=c(e)),e.isValid()?e:\"function\"==typeof i?i(e):e)}function s(e,t){if(h.isNullOrUndef(e))return null;var n=t.options.time,i=a(t.getRightValue(e),n);return i.isValid()?(n.round&&i.startOf(n.round),i.valueOf()):null}function l(e){for(var t=m.indexOf(e)+1,n=m.length;t<n;++t)if(g[m[t]].common)return m[t]}function u(e,t,n,i,r){var a,s=0,l=0;return r.offset&&t.length&&(r.time.min||(a=t[0],s=(o(e,\"time\",t.length>1?t[1]:i,\"pos\")-o(e,\"time\",a,\"pos\"))/2),r.time.max||(a=t.length>1?t[t.length-2]:n,l=(o(e,\"time\",t[t.length-1],\"pos\")-o(e,\"time\",a,\"pos\"))/2)),{left:s,right:l}}var c=e(1);c=\"function\"==typeof c?c:window.moment;var d=e(25),h=e(45),f=Number.MIN_SAFE_INTEGER||-9007199254740991,p=Number.MAX_SAFE_INTEGER||9007199254740991,g={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},m=Object.keys(g);t.exports=function(e){var t=e.Scale.extend({initialize:function(){if(!c)throw new Error(\"Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com\");this.mergeTicksOptions(),e.Scale.prototype.initialize.call(this)},update:function(){var t=this,n=t.options;return n.time&&n.time.format&&console.warn(\"options.time.format is deprecated and replaced by options.time.parser.\"),e.Scale.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),e.Scale.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var e,t,n,o,a,l,u=this,d=u.chart,g=u.options.time,m=p,v=f,y=[],x=[],b=[];for(e=0,n=d.data.labels.length;e<n;++e)b.push(s(d.data.labels[e],u));for(e=0,n=(d.data.datasets||[]).length;e<n;++e)if(d.isDatasetVisible(e))if(h.isObject((a=d.data.datasets[e].data)[0]))for(x[e]=[],t=0,o=a.length;t<o;++t)l=s(a[t],u),y.push(l),x[e][t]=l;else y.push.apply(y,b),x[e]=b.slice(0);else x[e]=[];b.length&&(b=r(b).sort(i),m=Math.min(m,b[0]),v=Math.max(v,b[b.length-1])),y.length&&(y=r(y).sort(i),m=Math.min(m,y[0]),v=Math.max(v,y[y.length-1])),m=s(g.min,u)||m,v=s(g.max,u)||v,m=m===p?+c().startOf(\"day\"):m,v=v===f?+c().endOf(\"day\")+1:v,u.min=Math.min(m,v),u.max=Math.max(m+1,v),u._horizontal=u.isHorizontal(),u._table=[],u._timestamps={data:y,datasets:x,labels:b}},buildTicks:function(){var e,t,n,i=this,r=i.min,o=i.max,a=i.options,d=a.time,f=[],v=[];switch(a.ticks.source){case\"data\":f=i._timestamps.data;break;case\"labels\":f=i._timestamps.labels;break;case\"auto\":default:f=function(e,t,n,i){var r,o=i.time,a=o.unit||function(e,t,n,i){var r,o,a=m.length;for(r=m.indexOf(e);r<a-1;++r)if((o=g[m[r]]).common&&Math.ceil((n-t)/((o.steps?o.steps[o.steps.length-1]:p)*o.size))<=i)return m[r];return m[a-1]}(o.minUnit,e,t,n),s=l(a),u=h.valueOrDefault(o.stepSize,o.unitStepSize),d=\"week\"===a&&o.isoWeekday,f=i.ticks.major.enabled,v=g[a],y=c(e),x=c(t),b=[];for(u||(u=function(e,t,n,i){var r,o,a,s=t-e,l=g[n],u=l.size,c=l.steps;if(!c)return Math.ceil(s/((i||1)*u));for(r=0,o=c.length;r<o&&(a=c[r],!(Math.ceil(s/(u*a))<=i));++r);return a}(e,t,a,n)),d&&(y=y.isoWeekday(d),x=x.isoWeekday(d)),y=y.startOf(d?\"day\":a),(x=x.startOf(d?\"day\":a))<t&&x.add(1,a),r=c(y),f&&s&&!d&&!o.round&&(r.startOf(s),r.add(~~((y-r)/(v.size*u))*u,a));r<x;r.add(u,a))b.push(+r);return b.push(+r),b}(r,o,i.getLabelCapacity(r),a)}for(\"ticks\"===a.bounds&&f.length&&(r=f[0],o=f[f.length-1]),r=s(d.min,i)||r,o=s(d.max,i)||o,e=0,t=f.length;e<t;++e)(n=f[e])>=r&&n<=o&&v.push(n);return i.min=r,i.max=o,i._unit=d.unit||function(e,t,n,i){var r,o,a=c.duration(c(i).diff(c(n)));for(r=m.length-1;r>=m.indexOf(t);r--)if(g[o=m[r]].common&&a.as(o)>=e.length)return o;return m[t?m.indexOf(t):0]}(v,d.minUnit,i.min,i.max),i._majorUnit=l(i._unit),i._table=function(e,t,n,i){if(\"linear\"===i||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var r,o,a,s,l,u=[],c=[t];for(r=0,o=e.length;r<o;++r)(s=e[r])>t&&s<n&&c.push(s);for(c.push(n),r=0,o=c.length;r<o;++r)l=c[r+1],s=c[r],void 0!==(a=c[r-1])&&void 0!==l&&Math.round((l+a)/2)===s||u.push({time:s,pos:r/(o-1)});return u}(i._timestamps.data,r,o,a.distribution),i._offsets=u(i._table,v,r,o,a),function(e,t){var n,i,r,o,a=[];for(n=0,i=e.length;n<i;++n)r=e[n],o=!!t&&r===+c(r).startOf(t),a.push({value:r,major:o});return a}(v,i._majorUnit)},getLabelForIndex:function(e,t){var n=this,i=n.chart.data,r=n.options.time,o=i.labels&&e<i.labels.length?i.labels[e]:\"\",s=i.datasets[t].data[e];return h.isObject(s)&&(o=n.getRightValue(s)),r.tooltipFormat&&(o=a(o,r).format(r.tooltipFormat)),o},tickFormatFunction:function(e,t,n,i){var r=this,o=r.options,a=e.valueOf(),s=o.time.displayFormats,l=s[r._unit],u=r._majorUnit,c=s[u],d=e.clone().startOf(u).valueOf(),f=o.ticks.major,p=f.enabled&&u&&c&&a===d,g=e.format(i||(p?c:l)),m=p?f:o.ticks.minor,v=h.valueOrDefault(m.callback,m.userCallback);return v?v(g,t,n):g},convertTicksToLabels:function(e){var t,n,i=[];for(t=0,n=e.length;t<n;++t)i.push(this.tickFormatFunction(c(e[t].value),t,e));return i},getPixelForOffset:function(e){var t=this,n=t._horizontal?t.width:t.height,i=t._horizontal?t.left:t.top,r=o(t._table,\"time\",e,\"pos\");return i+n*(t._offsets.left+r)/(t._offsets.left+1+t._offsets.right)},getPixelForValue:function(e,t,n){var i=this,r=null;if(void 0!==t&&void 0!==n&&(r=i._timestamps.datasets[n][t]),null===r&&(r=s(e,i)),null!==r)return i.getPixelForOffset(r)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this,n=t._horizontal?t.width:t.height,i=o(t._table,\"pos\",(n?(e-(t._horizontal?t.left:t.top))/n:0)*(t._offsets.left+1+t._offsets.left)-t._offsets.right,\"time\");return c(i)},getLabelWidth:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,i=h.toRadians(t.maxRotation),r=Math.cos(i),o=Math.sin(i);return n*r+h.valueOrDefault(t.fontSize,d.global.defaultFontSize)*o},getLabelCapacity:function(e){var t=this,n=t.options.time.displayFormats.millisecond,i=t.tickFormatFunction(c(e),0,[],n),r=t.getLabelWidth(i),o=t.isHorizontal()?t.width:t.height;return Math.floor(o/r)}});e.scaleService.registerScaleType(\"time\",t,{position:\"bottom\",distribution:\"linear\",bounds:\"data\",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:\"millisecond\",displayFormats:{millisecond:\"h:mm:ss.SSS a\",second:\"h:mm:ss a\",minute:\"h:mm a\",hour:\"hA\",day:\"MMM D\",week:\"ll\",month:\"MMM YYYY\",quarter:\"[Q]Q - YYYY\",year:\"YYYY\"}},ticks:{autoSkip:!1,source:\"auto\",major:{enabled:!1}}})}},{1:1,25:25,45:45}]},{},[7])(7)});","name":"scripts.345179a7913dc9a35f8e.js","input":"/*! pace 1.0.2 */\n(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X=[].slice,Y={}.hasOwnProperty,Z=function(a,b){function c(){this.constructor=a}for(var d in b)Y.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},$=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};for(u={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:\"body\",elements:{checkInterval:100,selectors:[\"body\"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:[\"GET\"],trackWebSockets:!0,ignoreURLs:[]}},C=function(){var a;return null!=(a=\"undefined\"!=typeof performance&&null!==performance&&\"function\"==typeof performance.now?performance.now():void 0)?a:+new Date},E=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==E&&(E=function(a){return setTimeout(a,50)},t=function(a){return clearTimeout(a)}),G=function(a){var b,c;return b=C(),(c=function(){var d;return d=C()-b,d>=33?(b=C(),a(d,function(){return E(c)})):setTimeout(c,33-d)})()},F=function(){var a,b,c;return c=arguments[0],b=arguments[1],a=3<=arguments.length?X.call(arguments,2):[],\"function\"==typeof c[b]?c[b].apply(c,a):c[b]},v=function(){var a,b,c,d,e,f,g;for(b=arguments[0],d=2<=arguments.length?X.call(arguments,1):[],f=0,g=d.length;g>f;f++)if(c=d[f])for(a in c)Y.call(c,a)&&(e=c[a],null!=b[a]&&\"object\"==typeof b[a]&&null!=e&&\"object\"==typeof e?v(b[a],e):b[a]=e);return b},q=function(a){var b,c,d,e,f;for(c=b=0,e=0,f=a.length;f>e;e++)d=a[e],c+=Math.abs(d),b++;return c/b},x=function(a,b){var c,d,e;if(null==a&&(a=\"options\"),null==b&&(b=!0),e=document.querySelector(\"[data-pace-\"+a+\"]\")){if(c=e.getAttribute(\"data-pace-\"+a),!b)return c;try{return JSON.parse(c)}catch(f){return d=f,\"undefined\"!=typeof console&&null!==console?console.error(\"Error parsing inline pace options\",d):void 0}}},g=function(){function a(){}return a.prototype.on=function(a,b,c,d){var e;return null==d&&(d=!1),null==this.bindings&&(this.bindings={}),null==(e=this.bindings)[a]&&(e[a]=[]),this.bindings[a].push({handler:b,ctx:c,once:d})},a.prototype.once=function(a,b,c){return this.on(a,b,c,!0)},a.prototype.off=function(a,b){var c,d,e;if(null!=(null!=(d=this.bindings)?d[a]:void 0)){if(null==b)return delete this.bindings[a];for(c=0,e=[];c<this.bindings[a].length;)this.bindings[a][c].handler===b?e.push(this.bindings[a].splice(c,1)):e.push(c++);return e}},a.prototype.trigger=function(){var a,b,c,d,e,f,g,h,i;if(c=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],null!=(g=this.bindings)?g[c]:void 0){for(e=0,i=[];e<this.bindings[c].length;)h=this.bindings[c][e],d=h.handler,b=h.ctx,f=h.once,d.apply(null!=b?b:this,a),f?i.push(this.bindings[c].splice(e,1)):i.push(e++);return i}},a}(),j=window.Pace||{},window.Pace=j,v(j,g.prototype),D=j.options=v({},u,window.paceOptions,x()),U=[\"ajax\",\"document\",\"eventLag\",\"elements\"],Q=0,S=U.length;S>Q;Q++)K=U[Q],D[K]===!0&&(D[K]=u[K]);i=function(a){function b(){return V=b.__super__.constructor.apply(this,arguments)}return Z(b,a),b}(Error),b=function(){function a(){this.progress=0}return a.prototype.getElement=function(){var a;if(null==this.el){if(a=document.querySelector(D.target),!a)throw new i;this.el=document.createElement(\"div\"),this.el.className=\"pace pace-active\",document.body.className=document.body.className.replace(/pace-done/g,\"\"),document.body.className+=\" pace-running\",this.el.innerHTML='<div class=\"pace-progress\">\\n  <div class=\"pace-progress-inner\"></div>\\n</div>\\n<div class=\"pace-activity\"></div>',null!=a.firstChild?a.insertBefore(this.el,a.firstChild):a.appendChild(this.el)}return this.el},a.prototype.finish=function(){var a;return a=this.getElement(),a.className=a.className.replace(\"pace-active\",\"\"),a.className+=\" pace-inactive\",document.body.className=document.body.className.replace(\"pace-running\",\"\"),document.body.className+=\" pace-done\"},a.prototype.update=function(a){return this.progress=a,this.render()},a.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(a){i=a}return this.el=void 0},a.prototype.render=function(){var a,b,c,d,e,f,g;if(null==document.querySelector(D.target))return!1;for(a=this.getElement(),d=\"translate3d(\"+this.progress+\"%, 0, 0)\",g=[\"webkitTransform\",\"msTransform\",\"transform\"],e=0,f=g.length;f>e;e++)b=g[e],a.children[0].style[b]=d;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(a.children[0].setAttribute(\"data-progress-text\",\"\"+(0|this.progress)+\"%\"),this.progress>=100?c=\"99\":(c=this.progress<10?\"0\":\"\",c+=0|this.progress),a.children[0].setAttribute(\"data-progress\",\"\"+c)),this.lastRenderedProgress=this.progress},a.prototype.done=function(){return this.progress>=100},a}(),h=function(){function a(){this.bindings={}}return a.prototype.trigger=function(a,b){var c,d,e,f,g;if(null!=this.bindings[a]){for(f=this.bindings[a],g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(c.call(this,b));return g}},a.prototype.on=function(a,b){var c;return null==(c=this.bindings)[a]&&(c[a]=[]),this.bindings[a].push(b)},a}(),P=window.XMLHttpRequest,O=window.XDomainRequest,N=window.WebSocket,w=function(a,b){var c,d,e;e=[];for(d in b.prototype)try{null==a[d]&&\"function\"!=typeof b[d]?\"function\"==typeof Object.defineProperty?e.push(Object.defineProperty(a,d,{get:function(){return b.prototype[d]},configurable:!0,enumerable:!0})):e.push(a[d]=b.prototype[d]):e.push(void 0)}catch(f){c=f}return e},A=[],j.ignore=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],A.unshift(\"ignore\"),c=b.apply(null,a),A.shift(),c},j.track=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],A.unshift(\"track\"),c=b.apply(null,a),A.shift(),c},J=function(a){var b;if(null==a&&(a=\"GET\"),\"track\"===A[0])return\"force\";if(!A.length&&D.ajax){if(\"socket\"===a&&D.ajax.trackWebSockets)return!0;if(b=a.toUpperCase(),$.call(D.ajax.trackMethods,b)>=0)return!0}return!1},k=function(a){function b(){var a,c=this;b.__super__.constructor.apply(this,arguments),a=function(a){var b;return b=a.open,a.open=function(d,e,f){return J(d)&&c.trigger(\"request\",{type:d,url:e,request:a}),b.apply(a,arguments)}},window.XMLHttpRequest=function(b){var c;return c=new P(b),a(c),c};try{w(window.XMLHttpRequest,P)}catch(d){}if(null!=O){window.XDomainRequest=function(){var b;return b=new O,a(b),b};try{w(window.XDomainRequest,O)}catch(d){}}if(null!=N&&D.ajax.trackWebSockets){window.WebSocket=function(a,b){var d;return d=null!=b?new N(a,b):new N(a),J(\"socket\")&&c.trigger(\"request\",{type:\"socket\",url:a,protocols:b,request:d}),d};try{w(window.WebSocket,N)}catch(d){}}}return Z(b,a),b}(h),R=null,y=function(){return null==R&&(R=new k),R},I=function(a){var b,c,d,e;for(e=D.ajax.ignoreURLs,c=0,d=e.length;d>c;c++)if(b=e[c],\"string\"==typeof b){if(-1!==a.indexOf(b))return!0}else if(b.test(a))return!0;return!1},y().on(\"request\",function(b){var c,d,e,f,g;return f=b.type,e=b.request,g=b.url,I(g)?void 0:j.running||D.restartOnRequestAfter===!1&&\"force\"!==J(f)?void 0:(d=arguments,c=D.restartOnRequestAfter||0,\"boolean\"==typeof c&&(c=0),setTimeout(function(){var b,c,g,h,i,k;if(b=\"socket\"===f?e.readyState<2:0<(h=e.readyState)&&4>h){for(j.restart(),i=j.sources,k=[],c=0,g=i.length;g>c;c++){if(K=i[c],K instanceof a){K.watch.apply(K,d);break}k.push(void 0)}return k}},c))}),a=function(){function a(){var a=this;this.elements=[],y().on(\"request\",function(){return a.watch.apply(a,arguments)})}return a.prototype.watch=function(a){var b,c,d,e;return d=a.type,b=a.request,e=a.url,I(e)?void 0:(c=\"socket\"===d?new n(b):new o(b),this.elements.push(c))},a}(),o=function(){function a(a){var b,c,d,e,f,g,h=this;if(this.progress=0,null!=window.ProgressEvent)for(c=null,a.addEventListener(\"progress\",function(a){return a.lengthComputable?h.progress=100*a.loaded/a.total:h.progress=h.progress+(100-h.progress)/2},!1),g=[\"load\",\"abort\",\"timeout\",\"error\"],d=0,e=g.length;e>d;d++)b=g[d],a.addEventListener(b,function(){return h.progress=100},!1);else f=a.onreadystatechange,a.onreadystatechange=function(){var b;return 0===(b=a.readyState)||4===b?h.progress=100:3===a.readyState&&(h.progress=50),\"function\"==typeof f?f.apply(null,arguments):void 0}}return a}(),n=function(){function a(a){var b,c,d,e,f=this;for(this.progress=0,e=[\"error\",\"open\"],c=0,d=e.length;d>c;c++)b=e[c],a.addEventListener(b,function(){return f.progress=100},!1)}return a}(),d=function(){function a(a){var b,c,d,f;for(null==a&&(a={}),this.elements=[],null==a.selectors&&(a.selectors=[]),f=a.selectors,c=0,d=f.length;d>c;c++)b=f[c],this.elements.push(new e(b))}return a}(),e=function(){function a(a){this.selector=a,this.progress=0,this.check()}return a.prototype.check=function(){var a=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return a.check()},D.elements.checkInterval)},a.prototype.done=function(){return this.progress=100},a}(),c=function(){function a(){var a,b,c=this;this.progress=null!=(b=this.states[document.readyState])?b:100,a=document.onreadystatechange,document.onreadystatechange=function(){return null!=c.states[document.readyState]&&(c.progress=c.states[document.readyState]),\"function\"==typeof a?a.apply(null,arguments):void 0}}return a.prototype.states={loading:0,interactive:50,complete:100},a}(),f=function(){function a(){var a,b,c,d,e,f=this;this.progress=0,a=0,e=[],d=0,c=C(),b=setInterval(function(){var g;return g=C()-c-50,c=C(),e.push(g),e.length>D.eventLag.sampleCount&&e.shift(),a=q(e),++d>=D.eventLag.minSamples&&a<D.eventLag.lagThreshold?(f.progress=100,clearInterval(b)):f.progress=100*(3/(a+3))},50)}return a}(),m=function(){function a(a){this.source=a,this.last=this.sinceLastUpdate=0,this.rate=D.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=F(this.source,\"progress\"))}return a.prototype.tick=function(a,b){var c;return null==b&&(b=F(this.source,\"progress\")),b>=100&&(this.done=!0),b===this.last?this.sinceLastUpdate+=a:(this.sinceLastUpdate&&(this.rate=(b-this.last)/this.sinceLastUpdate),this.catchup=(b-this.progress)/D.catchupTime,this.sinceLastUpdate=0,this.last=b),b>this.progress&&(this.progress+=this.catchup*a),c=1-Math.pow(this.progress/100,D.easeFactor),this.progress+=c*this.rate*a,this.progress=Math.min(this.lastProgress+D.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},a}(),L=null,H=null,r=null,M=null,p=null,s=null,j.running=!1,z=function(){return D.restartOnPushState?j.restart():void 0},null!=window.history.pushState&&(T=window.history.pushState,window.history.pushState=function(){return z(),T.apply(window.history,arguments)}),null!=window.history.replaceState&&(W=window.history.replaceState,window.history.replaceState=function(){return z(),W.apply(window.history,arguments)}),l={ajax:a,elements:d,document:c,eventLag:f},(B=function(){var a,c,d,e,f,g,h,i;for(j.sources=L=[],g=[\"ajax\",\"elements\",\"document\",\"eventLag\"],c=0,e=g.length;e>c;c++)a=g[c],D[a]!==!1&&L.push(new l[a](D[a]));for(i=null!=(h=D.extraSources)?h:[],d=0,f=i.length;f>d;d++)K=i[d],L.push(new K(D));return j.bar=r=new b,H=[],M=new m})(),j.stop=function(){return j.trigger(\"stop\"),j.running=!1,r.destroy(),s=!0,null!=p&&(\"function\"==typeof t&&t(p),p=null),B()},j.restart=function(){return j.trigger(\"restart\"),j.stop(),j.start()},j.go=function(){var a;return j.running=!0,r.render(),a=C(),s=!1,p=G(function(b,c){var d,e,f,g,h,i,k,l,n,o,p,q,t,u,v,w;for(l=100-r.progress,e=p=0,f=!0,i=q=0,u=L.length;u>q;i=++q)for(K=L[i],o=null!=H[i]?H[i]:H[i]=[],h=null!=(w=K.elements)?w:[K],k=t=0,v=h.length;v>t;k=++t)g=h[k],n=null!=o[k]?o[k]:o[k]=new m(g),f&=n.done,n.done||(e++,p+=n.tick(b));return d=p/e,r.update(M.tick(b,d)),r.done()||f||s?(r.update(100),j.trigger(\"done\"),setTimeout(function(){return r.finish(),j.running=!1,j.trigger(\"hide\")},Math.max(D.ghostTime,Math.max(D.minTime-(C()-a),0)))):c()})},j.start=function(a){v(D,a),j.running=!0;try{r.render()}catch(b){i=b}return document.querySelector(\".pace\")?(j.trigger(\"start\"),j.go()):setTimeout(j.start,50)},\"function\"==typeof define&&define.amd?define([\"pace\"],function(){return j}):\"object\"==typeof exports?module.exports=j:D.startOnPageLoad&&j.start()}).call(this);\n;// 4.5.7 (2017-04-25)\n!function(e,t){\"use strict\";function n(e,t){for(var n,r=[],i=0;i<e.length;++i){if(n=s[e[i]]||o(e[i]),!n)throw\"module definition dependecy not found: \"+e[i];r.push(n)}t.apply(null,r)}function r(e,r,i){if(\"string\"!=typeof e)throw\"invalid module definition, module id must be defined and be a string\";if(r===t)throw\"invalid module definition, dependencies must be specified\";if(i===t)throw\"invalid module definition, definition function must be specified\";n(r,function(){s[e]=i.apply(null,arguments)})}function i(e){return!!s[e]}function o(t){for(var n=e,r=t.split(/[.\\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}function a(n){var r,i,o,a,l;for(r=0;r<n.length;r++){i=e,o=n[r],a=o.split(/[.\\/]/);for(var u=0;u<a.length-1;++u)i[a[u]]===t&&(i[a[u]]={}),i=i[a[u]];i[a[a.length-1]]=s[o]}if(e.AMDLC_TESTS){l=e.privateModules||{};for(o in s)l[o]=s[o];for(r=0;r<n.length;r++)delete l[n[r]];e.privateModules=l}}var s={},l=\"tinymce/geom/Rect\",u=\"tinymce/util/Promise\",c=\"tinymce/util/Delay\",d=\"tinymce/Env\",f=\"tinymce/dom/EventUtils\",p=\"tinymce/dom/Sizzle\",h=\"tinymce/util/Arr\",m=\"tinymce/util/Tools\",g=\"tinymce/dom/DomQuery\",v=\"tinymce/html/Styles\",y=\"tinymce/dom/TreeWalker\",b=\"tinymce/dom/Range\",C=\"tinymce/html/Entities\",x=\"tinymce/dom/StyleSheetLoader\",w=\"tinymce/dom/DOMUtils\",E=\"tinymce/dom/ScriptLoader\",N=\"tinymce/AddOnManager\",_=\"tinymce/dom/NodeType\",S=\"tinymce/text/Zwsp\",k=\"tinymce/caret/CaretContainer\",T=\"tinymce/dom/RangeUtils\",R=\"tinymce/NodeChange\",A=\"tinymce/html/Node\",B=\"tinymce/html/Schema\",D=\"tinymce/html/SaxParser\",L=\"tinymce/html/DomParser\",M=\"tinymce/html/Writer\",P=\"tinymce/html/Serializer\",O=\"tinymce/dom/Serializer\",H=\"tinymce/dom/TridentSelection\",I=\"tinymce/util/VK\",F=\"tinymce/dom/ControlSelection\",z=\"tinymce/util/Fun\",U=\"tinymce/caret/CaretCandidate\",W=\"tinymce/geom/ClientRect\",V=\"tinymce/text/ExtendingChar\",$=\"tinymce/caret/CaretPosition\",q=\"tinymce/caret/CaretBookmark\",j=\"tinymce/dom/BookmarkManager\",Y=\"tinymce/dom/Selection\",X=\"tinymce/dom/ElementUtils\",K=\"tinymce/fmt/Preview\",G=\"tinymce/fmt/Hooks\",J=\"tinymce/Formatter\",Q=\"tinymce/undo/Diff\",Z=\"tinymce/undo/Fragments\",ee=\"tinymce/undo/Levels\",te=\"tinymce/UndoManager\",ne=\"tinymce/EnterKey\",re=\"tinymce/ForceBlocks\",ie=\"tinymce/caret/CaretUtils\",oe=\"tinymce/caret/CaretWalker\",ae=\"tinymce/InsertList\",se=\"tinymce/InsertContent\",le=\"tinymce/EditorCommands\",ue=\"tinymce/util/URI\",ce=\"tinymce/util/Class\",de=\"tinymce/util/EventDispatcher\",fe=\"tinymce/data/Binding\",pe=\"tinymce/util/Observable\",he=\"tinymce/data/ObservableObject\",me=\"tinymce/ui/Selector\",ge=\"tinymce/ui/Collection\",ve=\"tinymce/ui/DomUtils\",ye=\"tinymce/ui/BoxUtils\",be=\"tinymce/ui/ClassList\",Ce=\"tinymce/ui/ReflowQueue\",xe=\"tinymce/ui/Control\",we=\"tinymce/ui/Factory\",Ee=\"tinymce/ui/KeyboardNavigation\",Ne=\"tinymce/ui/Container\",_e=\"tinymce/ui/DragHelper\",Se=\"tinymce/ui/Scrollable\",ke=\"tinymce/ui/Panel\",Te=\"tinymce/ui/Movable\",Re=\"tinymce/ui/Resizable\",Ae=\"tinymce/ui/FloatPanel\",Be=\"tinymce/ui/Window\",De=\"tinymce/ui/MessageBox\",Le=\"tinymce/WindowManager\",Me=\"tinymce/ui/Tooltip\",Pe=\"tinymce/ui/Widget\",Oe=\"tinymce/ui/Progress\",He=\"tinymce/ui/Notification\",Ie=\"tinymce/NotificationManager\",Fe=\"tinymce/dom/NodePath\",ze=\"tinymce/util/Quirks\",Ue=\"tinymce/EditorObservable\",We=\"tinymce/Mode\",Ve=\"tinymce/Shortcuts\",$e=\"tinymce/file/Uploader\",qe=\"tinymce/file/Conversions\",je=\"tinymce/file/ImageScanner\",Ye=\"tinymce/file/BlobCache\",Xe=\"tinymce/file/UploadStatus\",Ke=\"tinymce/ErrorReporter\",Ge=\"tinymce/EditorUpload\",Je=\"tinymce/caret/FakeCaret\",Qe=\"tinymce/dom/Dimensions\",Ze=\"tinymce/caret/LineWalker\",et=\"tinymce/caret/LineUtils\",tt=\"tinymce/dom/MousePosition\",nt=\"tinymce/DragDropOverrides\",rt=\"tinymce/SelectionOverrides\",it=\"tinymce/util/Uuid\",ot=\"tinymce/ui/Sidebar\",at=\"tinymce/Editor\",st=\"tinymce/util/I18n\",lt=\"tinymce/FocusManager\",ut=\"tinymce/EditorManager\",ct=\"tinymce/LegacyInput\",dt=\"tinymce/util/XHR\",ft=\"tinymce/util/JSON\",pt=\"tinymce/util/JSONRequest\",ht=\"tinymce/util/JSONP\",mt=\"tinymce/util/LocalStorage\",gt=\"tinymce/Compat\",vt=\"tinymce/ui/Layout\",yt=\"tinymce/ui/AbsoluteLayout\",bt=\"tinymce/ui/Button\",Ct=\"tinymce/ui/ButtonGroup\",xt=\"tinymce/ui/Checkbox\",wt=\"tinymce/ui/ComboBox\",Et=\"tinymce/ui/ColorBox\",Nt=\"tinymce/ui/PanelButton\",_t=\"tinymce/ui/ColorButton\",St=\"tinymce/util/Color\",kt=\"tinymce/ui/ColorPicker\",Tt=\"tinymce/ui/Path\",Rt=\"tinymce/ui/ElementPath\",At=\"tinymce/ui/FormItem\",Bt=\"tinymce/ui/Form\",Dt=\"tinymce/ui/FieldSet\",Lt=\"tinymce/content/LinkTargets\",Mt=\"tinymce/ui/FilePicker\",Pt=\"tinymce/ui/FitLayout\",Ot=\"tinymce/ui/FlexLayout\",Ht=\"tinymce/ui/FlowLayout\",It=\"tinymce/fmt/FontInfo\",Ft=\"tinymce/ui/FormatControls\",zt=\"tinymce/ui/GridLayout\",Ut=\"tinymce/ui/Iframe\",Wt=\"tinymce/ui/InfoBox\",Vt=\"tinymce/ui/Label\",$t=\"tinymce/ui/Toolbar\",qt=\"tinymce/ui/MenuBar\",jt=\"tinymce/ui/MenuButton\",Yt=\"tinymce/ui/MenuItem\",Xt=\"tinymce/ui/Throbber\",Kt=\"tinymce/ui/Menu\",Gt=\"tinymce/ui/ListBox\",Jt=\"tinymce/ui/Radio\",Qt=\"tinymce/ui/ResizeHandle\",Zt=\"tinymce/ui/SelectBox\",en=\"tinymce/ui/Slider\",tn=\"tinymce/ui/Spacer\",nn=\"tinymce/ui/SplitButton\",rn=\"tinymce/ui/StackLayout\",on=\"tinymce/ui/TabPanel\",an=\"tinymce/ui/TextBox\",sn=\"tinymce/Register\";r(l,[],function(){function e(e,t,n){var r,i,a,s,l,c;return r=t.x,i=t.y,a=e.w,s=e.h,l=t.w,c=t.h,n=(n||\"\").split(\"\"),\"b\"===n[0]&&(i+=c),\"r\"===n[1]&&(r+=l),\"c\"===n[0]&&(i+=u(c/2)),\"c\"===n[1]&&(r+=u(l/2)),\"b\"===n[3]&&(i-=s),\"r\"===n[4]&&(r-=a),\"c\"===n[3]&&(i-=u(s/2)),\"c\"===n[4]&&(r-=u(a/2)),o(r,i,a,s)}function t(t,n,r,i){var o,a;for(a=0;a<i.length;a++)if(o=e(t,n,i[a]),o.x>=r.x&&o.x+o.w<=r.w+r.x&&o.y>=r.y&&o.y+o.h<=r.h+r.y)return i[a];return null}function n(e,t,n){return o(e.x-t,e.y-n,e.w+2*t,e.h+2*n)}function r(e,t){var n,r,i,a;return n=l(e.x,t.x),r=l(e.y,t.y),i=s(e.x+e.w,t.x+t.w),a=s(e.y+e.h,t.y+t.h),i-n<0||a-r<0?null:o(n,r,i-n,a-r)}function i(e,t,n){var r,i,a,s,u,c,d,f,p,h;return u=e.x,c=e.y,d=e.x+e.w,f=e.y+e.h,p=t.x+t.w,h=t.y+t.h,r=l(0,t.x-u),i=l(0,t.y-c),a=l(0,d-p),s=l(0,f-h),u+=r,c+=i,n&&(d+=r,f+=i,u-=a,c-=s),d-=a,f-=s,o(u,c,d-u,f-c)}function o(e,t,n,r){return{x:e,y:t,w:n,h:r}}function a(e){return o(e.left,e.top,e.width,e.height)}var s=Math.min,l=Math.max,u=Math.round;return{inflate:n,relativePosition:e,findBestRelativePosition:t,intersect:r,clamp:i,create:o,fromClientRect:a}}),r(u,[],function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(t){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof t)throw new TypeError(\"not a function\");this._state=null,this._value=null,this._deferreds=[],s(t,e(r,this),e(i,this))}function n(e){var t=this;return null===this._state?void this._deferreds.push(e):void l(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(i){return void e.reject(i)}e.resolve(r)})}function r(t){try{if(t===this)throw new TypeError(\"A promise cannot be resolved with itself.\");if(t&&(\"object\"==typeof t||\"function\"==typeof t)){var n=t.then;if(\"function\"==typeof n)return void s(e(n,t),e(r,this),e(i,this))}this._state=!0,this._value=t,o.call(this)}catch(a){i.call(this,a)}}function i(e){this._state=!1,this._value=e,o.call(this)}function o(){for(var e=0,t=this._deferreds.length;e<t;e++)n.call(this,this._deferreds[e]);this._deferreds=null}function a(e,t,n,r){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof t?t:null,this.resolve=n,this.reject=r}function s(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(i){if(r)return;r=!0,n(i)}}if(window.Promise)return window.Promise;var l=t.immediateFn||\"function\"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},u=Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)};return t.prototype[\"catch\"]=function(e){return this.then(null,e)},t.prototype.then=function(e,r){var i=this;return new t(function(t,o){n.call(i,new a(e,r,t,o))})},t.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&u(arguments[0])?arguments[0]:arguments);return new t(function(t,n){function r(o,a){try{if(a&&(\"object\"==typeof a||\"function\"==typeof a)){var s=a.then;if(\"function\"==typeof s)return void s.call(a,function(e){r(o,e)},n)}e[o]=a,0===--i&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])})},t.resolve=function(e){return e&&\"object\"==typeof e&&e.constructor===t?e:new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},t}),r(c,[u],function(e){function t(e,t){function n(e){window.setTimeout(e,0)}var r,i=window.requestAnimationFrame,o=[\"ms\",\"moz\",\"webkit\"];for(r=0;r<o.length&&!i;r++)i=window[o[r]+\"RequestAnimationFrame\"];i||(i=n),i(e,t)}function n(e,t){return\"number\"!=typeof t&&(t=0),setTimeout(e,t)}function r(e,t){return\"number\"!=typeof t&&(t=1),setInterval(e,t)}function i(e){return clearTimeout(e)}function o(e){return clearInterval(e)}function a(e,t){var r,i;return i=function(){var i=arguments;clearTimeout(r),r=n(function(){e.apply(this,i)},t)},i.stop=function(){clearTimeout(r)},i}var s;return{requestAnimationFrame:function(n,r){return s?void s.then(n):void(s=new e(function(e){r||(r=document.body),t(e,r)}).then(n))},setTimeout:n,setInterval:r,setEditorTimeout:function(e,t,r){return n(function(){e.removed||t()},r)},setEditorInterval:function(e,t,n){var i;return i=r(function(){e.removed?clearInterval(i):t()},n)},debounce:a,throttle:a,clearInterval:o,clearTimeout:i}}),r(d,[],function(){function e(e){return\"matchMedia\"in window&&matchMedia(e).matches}var t=navigator,n=t.userAgent,r,i,o,a,s,l,u,c,d,f,p,h,m;r=window.opera&&window.opera.buildNumber,d=/Android/.test(n),i=/WebKit/.test(n),o=!i&&!r&&/MSIE/gi.test(n)&&/Explorer/gi.test(t.appName),o=o&&/MSIE (\\w+)\\./.exec(n)[1],a=n.indexOf(\"Trident/\")!=-1&&(n.indexOf(\"rv:\")!=-1||t.appName.indexOf(\"Netscape\")!=-1)&&11,s=n.indexOf(\"Edge/\")!=-1&&!o&&!a&&12,o=o||a||s,l=!i&&!a&&/Gecko/.test(n),u=n.indexOf(\"Mac\")!=-1,c=/(iPad|iPhone)/.test(n),f=\"FormData\"in window&&\"FileReader\"in window&&\"URL\"in window&&!!URL.createObjectURL,p=e(\"only screen and (max-device-width: 480px)\")&&(d||c),h=e(\"only screen and (min-width: 800px)\")&&(d||c),m=n.indexOf(\"Windows Phone\")!=-1,s&&(i=!1);var g=!c||f||n.match(/AppleWebKit\\/(\\d*)/)[1]>=534;return{opera:r,webkit:i,ie:o,gecko:l,mac:u,iOS:c,android:d,contentEditable:g,transparentSrc:\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",caretAfter:8!=o,range:window.getSelection&&\"Range\"in window,documentMode:o&&!s?document.documentMode||7:10,fileApi:f,ceFalse:o===!1||o>8,canHaveCSP:o===!1||o>11,desktop:!p&&!h,windowsPhone:m}}),r(f,[c,d],function(e,t){function n(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent(\"on\"+t,n)}function r(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent(\"on\"+t,n)}function i(e,t){var n,r=t;return n=e.path,n&&n.length>0&&(r=n[0]),e.deepPath&&(n=e.deepPath(),n&&n.length>0&&(r=n[0])),r}function o(e,n){function r(){return!1}function o(){return!0}var a,s=n||{},l;for(a in e)c[a]||(s[a]=e[a]);if(s.target||(s.target=s.srcElement||document),t.experimentalShadowDom&&(s.target=i(e,s.target)),e&&u.test(e.type)&&e.pageX===l&&e.clientX!==l){var d=s.target.ownerDocument||document,f=d.documentElement,p=d.body;s.pageX=e.clientX+(f&&f.scrollLeft||p&&p.scrollLeft||0)-(f&&f.clientLeft||p&&p.clientLeft||0),s.pageY=e.clientY+(f&&f.scrollTop||p&&p.scrollTop||0)-(f&&f.clientTop||p&&p.clientTop||0)}return s.preventDefault=function(){s.isDefaultPrevented=o,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},s.stopPropagation=function(){s.isPropagationStopped=o,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},s.stopImmediatePropagation=function(){s.isImmediatePropagationStopped=o,s.stopPropagation()},s.isDefaultPrevented||(s.isDefaultPrevented=r,s.isPropagationStopped=r,s.isImmediatePropagationStopped=r),\"undefined\"==typeof s.metaKey&&(s.metaKey=!1),s}function a(t,i,o){function a(){o.domLoaded||(o.domLoaded=!0,i(c))}function s(){(\"complete\"===u.readyState||\"interactive\"===u.readyState&&u.body)&&(r(u,\"readystatechange\",s),a())}function l(){try{u.documentElement.doScroll(\"left\")}catch(t){return void e.setTimeout(l)}a()}var u=t.document,c={type:\"ready\"};return o.domLoaded?void i(c):(u.addEventListener?\"complete\"===u.readyState?a():n(t,\"DOMContentLoaded\",a):(n(u,\"readystatechange\",s),u.documentElement.doScroll&&t.self===t.top&&l()),void n(t,\"load\",a))}function s(){function e(e,t){var n,r,o,a,s=i[t];if(n=s&&s[e.type])for(r=0,o=n.length;r<o;r++)if(a=n[r],a&&a.func.call(a.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return}var t=this,i={},s,u,c,d,f;u=l+(+new Date).toString(32),d=\"onmouseenter\"in document.documentElement,c=\"onfocusin\"in document.documentElement,f={mouseenter:\"mouseover\",mouseleave:\"mouseout\"},s=1,t.domLoaded=!1,t.events=i,t.bind=function(r,l,p,h){function m(t){e(o(t||E.event),g)}var g,v,y,b,C,x,w,E=window;if(r&&3!==r.nodeType&&8!==r.nodeType){for(r[u]?g=r[u]:(g=s++,r[u]=g,i[g]={}),h=h||r,l=l.split(\" \"),y=l.length;y--;)b=l[y],x=m,C=w=!1,\"DOMContentLoaded\"===b&&(b=\"ready\"),t.domLoaded&&\"ready\"===b&&\"complete\"==r.readyState?p.call(h,o({type:b})):(d||(C=f[b],C&&(x=function(t){var n,r;if(n=t.currentTarget,r=t.relatedTarget,r&&n.contains)r=n.contains(r);else for(;r&&r!==n;)r=r.parentNode;r||(t=o(t||E.event),t.type=\"mouseout\"===t.type?\"mouseleave\":\"mouseenter\",t.target=n,e(t,g))})),c||\"focusin\"!==b&&\"focusout\"!==b||(w=!0,C=\"focusin\"===b?\"focus\":\"blur\",x=function(t){t=o(t||E.event),t.type=\"focus\"===t.type?\"focusin\":\"focusout\",e(t,g)}),v=i[g][b],v?\"ready\"===b&&t.domLoaded?p({type:b}):v.push({func:p,scope:h}):(i[g][b]=v=[{func:p,scope:h}],v.fakeName=C,v.capture=w,v.nativeHandler=x,\"ready\"===b?a(r,x,t):n(r,C||b,x,w)));return r=v=0,p}},t.unbind=function(e,n,o){var a,s,l,c,d,f;if(!e||3===e.nodeType||8===e.nodeType)return t;if(a=e[u]){if(f=i[a],n){for(n=n.split(\" \"),l=n.length;l--;)if(d=n[l],s=f[d]){if(o)for(c=s.length;c--;)if(s[c].func===o){var p=s.nativeHandler,h=s.fakeName,m=s.capture;s=s.slice(0,c).concat(s.slice(c+1)),s.nativeHandler=p,s.fakeName=h,s.capture=m,f[d]=s}o&&0!==s.length||(delete f[d],r(e,s.fakeName||d,s.nativeHandler,s.capture))}}else{for(d in f)s=f[d],r(e,s.fakeName||d,s.nativeHandler,s.capture);f={}}for(d in f)return t;delete i[a];try{delete e[u]}catch(g){e[u]=null}}return t},t.fire=function(n,r,i){var a;if(!n||3===n.nodeType||8===n.nodeType)return t;i=o(null,i),i.type=r,i.target=n;do a=n[u],a&&e(i,a),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!i.isPropagationStopped());return t},t.clean=function(e){var n,r,i=t.unbind;if(!e||3===e.nodeType||8===e.nodeType)return t;if(e[u]&&i(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(i(e),r=e.getElementsByTagName(\"*\"),n=r.length;n--;)e=r[n],e[u]&&i(e);return t},t.destroy=function(){i={}},t.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var l=\"mce-data-\",u=/^(?:mouse|contextmenu)|click/,c={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return s.Event=new s,s.Event.bind(window,\"ready\",function(){}),s}),r(p,[],function(){function e(e,t,n,r){var i,o,a,s,l,u,d,p,h,m;if((t?t.ownerDocument||t:z)!==D&&B(t),t=t||D,n=n||[],!e||\"string\"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(M&&!r){if(i=ve.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&I(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&x.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(x.qsa&&(!P||!P.test(e))){if(p=d=F,h=t,m=9===s&&e,1===s&&\"object\"!==t.nodeName.toLowerCase()){for(u=_(e),(d=t.getAttribute(\"id\"))?p=d.replace(be,\"\\\\$&\"):t.setAttribute(\"id\",p),p=\"[id='\"+p+\"'] \",l=u.length;l--;)u[l]=p+f(u[l]);h=ye.test(e)&&c(t.parentNode)||t,m=u.join(\",\")}if(m)try{return Z.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute(\"id\")}}}return k(e.replace(se,\"$1\"),t,n,r)}function n(){function e(n,r){return t.push(n+\" \")>w.cacheLength&&delete e[t.shift()],e[n+\" \"]=r}var t=[];return e}function r(e){return e[F]=!0,e}function i(e){var t=D.createElement(\"div\");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split(\"|\"),r=e.length;r--;)w.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return\"input\"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return(\"input\"===n||\"button\"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&typeof e.getElementsByTagName!==Y&&e}function d(){}function f(e){for(var t=0,n=e.length,r=\"\";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&\"parentNode\"===r,o=W++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u=[U,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[F]||(t[F]={}),(s=l[r])&&s[0]===U&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function v(e,t,n,i,o,a){return i&&!i[F]&&(i=v(i)),o&&!o[F]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,d,f=[],p=[],h=a.length,v=r||m(t||\"*\",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,f,e,s,l),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,l),i)for(u=g(b,p),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[p[c]]=!(y[p[c]]=d));if(r){if(o||e){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?te.call(r,d):f[c])>-1&&(r[u]=!(a[u]=d))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,l):Z.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=w.relative[e[0].type],a=o||w.relative[\" \"],s=o?1:0,l=p(function(e){return e===t},a,!0),u=p(function(e){return te.call(t,e)>-1},a,!0),c=[function(e,n,r){return!o&&(r||n!==T)||((t=n).nodeType?l(e,n,r):u(e,n,r))}];s<i;s++)if(n=w.relative[e[s].type])c=[p(h(c),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),n[F]){for(r=++s;r<i&&!w.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:\" \"===e[s-2].type?\"*\":\"\"})).replace(se,\"$1\"),n,s<r&&y(e.slice(s,r)),r<i&&y(e=e.slice(r)),r<i&&f(e))}c.push(n)}return h(c)}function b(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,l,u){var c,d,f,p=0,h=\"0\",m=r&&[],v=[],y=T,b=r||o&&w.find.TAG(\"*\",u),C=U+=null==y?1:Math.random()||.1,x=b.length;for(u&&(T=a!==D&&a);h!==x&&null!=(c=b[h]);h++){if(o&&c){for(d=0;f=t[d++];)if(f(c,a,s)){l.push(c);break}u&&(U=C)}i&&((c=!f&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];)f(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=J.call(l));v=g(v)}Z.apply(l,v),u&&!r&&v.length>0&&p+n.length>1&&e.uniqueSort(l)}return u&&(U=C,T=y),m};return i?r(a):a}var C,x,w,E,N,_,S,k,T,R,A,B,D,L,M,P,O,H,I,F=\"sizzle\"+-new Date,z=window.document,U=0,W=0,V=n(),$=n(),q=n(),j=function(e,t){return e===t&&(A=!0),0},Y=typeof t,X=1<<31,K={}.hasOwnProperty,G=[],J=G.pop,Q=G.push,Z=G.push,ee=G.slice,te=G.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},ne=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",re=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",ie=\"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",oe=\"\\\\[\"+re+\"*(\"+ie+\")(?:\"+re+\"*([*^$|!~]?=)\"+re+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+ie+\"))|)\"+re+\"*\\\\]\",ae=\":(\"+ie+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+oe+\")*)|.*)\\\\)|)\",se=new RegExp(\"^\"+re+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+re+\"+$\",\"g\"),le=new RegExp(\"^\"+re+\"*,\"+re+\"*\"),ue=new RegExp(\"^\"+re+\"*([>+~]|\"+re+\")\"+re+\"*\"),ce=new RegExp(\"=\"+re+\"*([^\\\\]'\\\"]*?)\"+re+\"*\\\\]\",\"g\"),de=new RegExp(ae),fe=new RegExp(\"^\"+ie+\"$\"),pe={ID:new RegExp(\"^#(\"+ie+\")\"),CLASS:new RegExp(\"^\\\\.(\"+ie+\")\"),TAG:new RegExp(\"^(\"+ie+\"|[*])\"),ATTR:new RegExp(\"^\"+oe),PSEUDO:new RegExp(\"^\"+ae),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+re+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+re+\"*(?:([+-]|)\"+re+\"*(\\\\d+)|))\"+re+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+ne+\")$\",\"i\"),needsContext:new RegExp(\"^\"+re+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+re+\"*((?:-\\\\d)?\\\\d*)\"+re+\"*\\\\)|)(?=[^-]|$)\",\"i\")},he=/^(?:input|select|textarea|button)$/i,me=/^h\\d$/i,ge=/^[^{]+\\{\\s*\\[native \\w/,ve=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,ye=/[+~]/,be=/'|\\\\/g,Ce=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+re+\"?|(\"+re+\")|.)\",\"ig\"),xe=function(e,t,n){var r=\"0x\"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Z.apply(G=ee.call(z.childNodes),z.childNodes),G[z.childNodes.length].nodeType}catch(we){Z={apply:G.length?function(e,t){Q.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}x=e.support={},N=e.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&\"HTML\"!==t.nodeName},B=e.setDocument=function(e){function t(e){try{return e.top}catch(t){}return null}var n,r=e?e.ownerDocument||e:z,o=r.defaultView;return r!==D&&9===r.nodeType&&r.documentElement?(D=r,L=r.documentElement,M=!N(r),o&&o!==t(o)&&(o.addEventListener?o.addEventListener(\"unload\",function(){B()},!1):o.attachEvent&&o.attachEvent(\"onunload\",function(){B()})),x.attributes=i(function(e){return e.className=\"i\",!e.getAttribute(\"className\")}),x.getElementsByTagName=i(function(e){return e.appendChild(r.createComment(\"\")),!e.getElementsByTagName(\"*\").length}),x.getElementsByClassName=ge.test(r.getElementsByClassName),x.getById=i(function(e){return L.appendChild(e).id=F,!r.getElementsByName||!r.getElementsByName(F).length}),x.getById?(w.find.ID=function(e,t){if(typeof t.getElementById!==Y&&M){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(Ce,xe);return function(e){return e.getAttribute(\"id\")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(Ce,xe);return function(e){var n=typeof e.getAttributeNode!==Y&&e.getAttributeNode(\"id\");return n&&n.value===t}}),w.find.TAG=x.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Y)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if(\"*\"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=x.getElementsByClassName&&function(e,t){if(M)return t.getElementsByClassName(e)},O=[],P=[],(x.qsa=ge.test(r.querySelectorAll))&&(i(function(e){e.innerHTML=\"<select msallowcapture=''><option selected=''></option></select>\",e.querySelectorAll(\"[msallowcapture^='']\").length&&P.push(\"[*^$]=\"+re+\"*(?:''|\\\"\\\")\"),e.querySelectorAll(\"[selected]\").length||P.push(\"\\\\[\"+re+\"*(?:value|\"+ne+\")\"),e.querySelectorAll(\":checked\").length||P.push(\":checked\")}),i(function(e){var t=r.createElement(\"input\");t.setAttribute(\"type\",\"hidden\"),e.appendChild(t).setAttribute(\"name\",\"D\"),e.querySelectorAll(\"[name=d]\").length&&P.push(\"name\"+re+\"*[*^$|!~]?=\"),e.querySelectorAll(\":enabled\").length||P.push(\":enabled\",\":disabled\"),e.querySelectorAll(\"*,:x\"),P.push(\",.*:\")})),(x.matchesSelector=ge.test(H=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&i(function(e){x.disconnectedMatch=H.call(e,\"div\"),H.call(e,\"[s!='']:x\"),O.push(\"!=\",ae)}),P=P.length&&new RegExp(P.join(\"|\")),O=O.length&&new RegExp(O.join(\"|\")),n=ge.test(L.compareDocumentPosition),I=n||ge.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},j=n?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===z&&I(z,e)?-1:t===r||t.ownerDocument===z&&I(z,t)?1:R?te.call(R,e)-te.call(R,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:R?te.call(R,e)-te.call(R,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===z?-1:u[i]===z?1:0},r):D},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==D&&B(t),n=n.replace(ce,\"='$1']\"),x.matchesSelector&&M&&(!O||!O.test(n))&&(!P||!P.test(n)))try{var r=H.call(t,n);if(r||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,D,null,[t]).length>0},e.contains=function(e,t){return(e.ownerDocument||e)!==D&&B(e),I(e,t)},e.attr=function(e,n){(e.ownerDocument||e)!==D&&B(e);var r=w.attrHandle[n.toLowerCase()],i=r&&K.call(w.attrHandle,n.toLowerCase())?r(e,n,!M):t;return i!==t?i:x.attributes||!M?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},e.error=function(e){throw new Error(\"Syntax error, unrecognized expression: \"+e)},e.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!x.detectDuplicates,R=!x.sortStable&&e.slice(0),e.sort(j),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return R=null,e},E=e.getText=function(e){var t,n=\"\",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if(\"string\"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=E(t);return n},w=e.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ce,xe),e[3]=(e[3]||e[4]||e[5]||\"\").replace(Ce,xe),\"~=\"===e[2]&&(e[3]=\" \"+e[3]+\" \"),e.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),\"nth\"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*(\"even\"===t[3]||\"odd\"===t[3])),t[5]=+(t[7]+t[8]||\"odd\"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||\"\":n&&de.test(n)&&(t=_(n,!0))&&(t=n.indexOf(\")\",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ce,xe).toLowerCase();return\"*\"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+\" \"];return t||(t=new RegExp(\"(^|\"+re+\")\"+e+\"(\"+re+\"|$)\"))&&V(e,function(e){return t.test(\"string\"==typeof e.className&&e.className||typeof e.getAttribute!==Y&&e.getAttribute(\"class\")||\"\")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?\"!=\"===n:!n||(o+=\"\",\"=\"===n?o===r:\"!=\"===n?o!==r:\"^=\"===n?r&&0===o.indexOf(r):\"*=\"===n?r&&o.indexOf(r)>-1:\"$=\"===n?r&&o.slice(-r.length)===r:\"~=\"===n?(\" \"+o+\" \").indexOf(r)>-1:\"|=\"===n&&(o===r||o.slice(0,r.length+1)===r+\"-\"))}},CHILD:function(e,t,n,r,i){var o=\"nth\"!==e.slice(0,3),a=\"last\"!==e.slice(-4),s=\"of-type\"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,p,h,m=o!==a?\"nextSibling\":\"previousSibling\",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m=\"only\"===e&&!h&&\"nextSibling\"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[F]||(g[F]={}),u=c[e]||[],p=u[0]===U&&u[1],f=u[0]===U&&u[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[U,p,f];break}}else if(y&&(u=(t[F]||(t[F]={}))[e])&&u[0]===U)f=u[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[F]||(d[F]={}))[e]=[U,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(t,n){var i,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error(\"unsupported pseudo: \"+t);return o[F]?o(n):o.length>1?(i=[t,t,\"\",n],w.setFilters.hasOwnProperty(t.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=te.call(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=S(e.replace(se,\"$1\"));return i[F]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(e){return e=e.replace(Ce,xe),function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:r(function(t){return fe.test(t||\"\")||e.error(\"unsupported lang: \"+t),t=t.replace(Ce,xe).toLowerCase(),function(e){var n;do if(n=M?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+\"-\");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===L},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&!!e.checked||\"option\"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&\"button\"===e.type||\"button\"===t},text:function(e){var t;return\"input\"===e.nodeName.toLowerCase()&&\"text\"===e.type&&(null==(t=e.getAttribute(\"type\"))||\"text\"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},w.pseudos.nth=w.pseudos.eq;for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[C]=s(C);for(C in{submit:!0,reset:!0})w.pseudos[C]=l(C);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,_=e.tokenize=function(t,n){var r,i,o,a,s,l,u,c=$[t+\" \"];if(c)return n?0:c.slice(0);for(s=t,l=[],u=w.preFilter;s;){r&&!(i=le.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ue.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se,\" \")}),s=s.slice(r.length));for(a in w.filter)!(i=pe[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):$(t,l).slice(0)},S=e.compile=function(e,t){var n,r=[],i=[],o=q[e+\" \"];if(!o){for(t||(t=_(e)),n=t.length;n--;)o=y(t[n]),o[F]?r.push(o):i.push(o);o=q(e,b(i,r)),o.selector=e}return o},k=e.select=function(e,t,n,r){var i,o,a,s,l,u=\"function\"==typeof e&&e,d=!r&&_(e=u.selector||e);\nif(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&\"ID\"===(a=o[0]).type&&x.getById&&9===t.nodeType&&M&&w.relative[o[1].type]){if(t=(w.find.ID(a.matches[0].replace(Ce,xe),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=pe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((l=w.find[s])&&(r=l(a.matches[0].replace(Ce,xe),ye.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return Z.apply(n,r),n;break}}return(u||S(e,d))(r,t,!M,n,ye.test(e)&&c(t.parentNode)||t),n},x.sortStable=F.split(\"\").sort(j).join(\"\")===F,x.detectDuplicates=!!A,B(),x.sortDetached=i(function(e){return 1&e.compareDocumentPosition(D.createElement(\"div\"))}),i(function(e){return e.innerHTML=\"<a href='#'></a>\",\"#\"===e.firstChild.getAttribute(\"href\")})||o(\"type|href|height|width\",function(e,t,n){if(!n)return e.getAttribute(t,\"type\"===t.toLowerCase()?1:2)}),x.attributes&&i(function(e){return e.innerHTML=\"<input/>\",e.firstChild.setAttribute(\"value\",\"\"),\"\"===e.firstChild.getAttribute(\"value\")})||o(\"value\",function(e,t,n){if(!n&&\"input\"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute(\"disabled\")})||o(ne,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),e}),r(h,[],function(){function e(e){var t=e,n,r;if(!c(e))for(t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t}function n(e,n,r){var i,o;if(!e)return 0;if(r=r||e,e.length!==t){for(i=0,o=e.length;i<o;i++)if(n.call(r,e[i],i,e)===!1)return 0}else for(i in e)if(e.hasOwnProperty(i)&&n.call(r,e[i],i,e)===!1)return 0;return 1}function r(e,t){var r=[];return n(e,function(n,i){r.push(t(n,i,e))}),r}function i(e,t){var r=[];return n(e,function(n,i){t&&!t(n,i,e)||r.push(n)}),r}function o(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function a(e,t,n,r){var i=0;for(arguments.length<3&&(n=e[0]);i<e.length;i++)n=t.call(r,n,e[i],i);return n}function s(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return r;return-1}function l(e,n,r){var i=s(e,n,r);return i!==-1?e[i]:t}function u(e){return e[e.length-1]}var c=Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)};return{isArray:c,toArray:e,each:n,map:r,filter:i,indexOf:o,reduce:a,findIndex:s,find:l,last:u}}),r(m,[d,h],function(e,n){function r(e){return null===e||e===t?\"\":(\"\"+e).replace(h,\"\")}function i(e,r){return r?!(\"array\"!=r||!n.isArray(e))||typeof e==r:e!==t}function o(e,t,n){var r;for(e=e||[],t=t||\",\",\"string\"==typeof e&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t,n){var r=this,i,o,a,s,l,u=0;if(e=/^((static) )?([\\w.]+)(:([\\w.]+))?/.exec(e),a=e[3].match(/(^|\\.)(\\w+)$/i)[2],o=r.createNS(e[3].replace(/\\.\\w+$/,\"\"),n),!o[a]){if(\"static\"==e[2])return o[a]=t,void(this.onCreate&&this.onCreate(e[2],e[3],o[a]));t[a]||(t[a]=function(){},u=1),o[a]=t[a],r.extend(o[a].prototype,t),e[5]&&(i=r.resolve(e[5]).prototype,s=e[5].match(/\\.(\\w+)$/i)[1],l=o[a],u?o[a]=function(){return i[s].apply(this,arguments)}:o[a]=function(){return this.parent=i[s],l.apply(this,arguments)},o[a].prototype[a]=o[a],r.each(i,function(e,t){o[a].prototype[t]=i[t]}),r.each(t,function(e,t){i[t]?o[a].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=a&&(o[a].prototype[t]=e)})),r.each(t[\"static\"],function(e,t){o[a][t]=e})}}function l(e,n){var r,i,o,a=arguments,s;for(r=1,i=a.length;r<i;r++){n=a[r];for(o in n)n.hasOwnProperty(o)&&(s=n[o],s!==t&&(e[o]=s))}return e}function u(e,t,r,i){i=i||this,e&&(r&&(e=e[r]),n.each(e,function(e,n){return t.call(i,e,n,r)!==!1&&void u(e,t,r,i)}))}function c(e,t){var n,r;for(t=t||window,e=e.split(\".\"),n=0;n<e.length;n++)r=e[n],t[r]||(t[r]={}),t=t[r];return t}function d(e,t){var n,r;for(t=t||window,e=e.split(\".\"),n=0,r=e.length;n<r&&(t=t[e[n]],t);n++);return t}function f(e,t){return!e||i(e,\"array\")?e:n.map(e.split(t||\",\"),r)}function p(t){var n=e.cacheSuffix;return n&&(t+=(t.indexOf(\"?\")===-1?\"?\":\"&\")+n),t}var h=/^\\s*|\\s*$/g;return{trim:r,isArray:n.isArray,is:i,toArray:n.toArray,makeMap:o,each:n.each,map:n.map,grep:n.filter,inArray:n.indexOf,hasOwn:a,extend:l,create:s,walk:u,createNS:c,resolve:d,explode:f,_addCacheSuffix:p}}),r(g,[f,p,m,d],function(e,n,r,i){function o(e){return\"undefined\"!=typeof e}function a(e){return\"string\"==typeof e}function s(e){return e&&e==e.window}function l(e,t){var n,r,i;for(t=t||w,i=t.createElement(\"div\"),n=t.createDocumentFragment(),i.innerHTML=e;r=i.firstChild;)n.appendChild(r);return n}function u(e,t,n,r){var i;if(a(t))t=l(t,v(e[0]));else if(t.length&&!t.nodeType){if(t=f.makeArray(t),r)for(i=t.length-1;i>=0;i--)u(e,t[i],n,r);else for(i=0;i<t.length;i++)u(e,t[i],n,r);return e}if(t.nodeType)for(i=e.length;i--;)n.call(e[i],t);return e}function c(e,t){return e&&t&&(\" \"+e.className+\" \").indexOf(\" \"+t+\" \")!==-1}function d(e,t,n){var r,i;return t=f(t)[0],e.each(function(){var e=this;n&&r==e.parentNode?i.appendChild(e):(r=e.parentNode,i=t.cloneNode(!1),e.parentNode.insertBefore(i,e),i.appendChild(e))}),e}function f(e,t){return new f.fn.init(e,t)}function p(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1}function h(e){return null===e||e===k?\"\":(\"\"+e).replace(P,\"\")}function m(e,t){var n,r,i,o,a;if(e)if(n=e.length,n===o){for(r in e)if(e.hasOwnProperty(r)&&(a=e[r],t.call(a,r,a)===!1))break}else for(i=0;i<n&&(a=e[i],t.call(a,i,a)!==!1);i++);return e}function g(e,t){var n=[];return m(e,function(e,r){t(r,e)&&n.push(r)}),n}function v(e){return e?9==e.nodeType?e:e.ownerDocument:w}function y(e,n,r){var i=[],o=e[n];for(\"string\"!=typeof r&&r instanceof f&&(r=r[0]);o&&9!==o.nodeType;){if(r!==t){if(o===r)break;if(\"string\"==typeof r&&f(o).is(r))break}1===o.nodeType&&i.push(o),o=o[n]}return i}function b(e,n,r,i){var o=[];for(i instanceof f&&(i=i[0]);e;e=e[n])if(!r||e.nodeType===r){if(i!==t){if(e===i)break;if(\"string\"==typeof i&&f(e).is(i))break}o.push(e)}return o}function C(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null}function x(e,t,n){m(n,function(n,r){e[n]=e[n]||{},e[n][t]=r})}var w=document,E=Array.prototype.push,N=Array.prototype.slice,_=/^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/,S=e.Event,k,T=r.makeMap(\"children,contents,next,prev\"),R=r.makeMap(\"fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom\",\" \"),A=r.makeMap(\"checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected\",\" \"),B={\"for\":\"htmlFor\",\"class\":\"className\",readonly:\"readOnly\"},D={\"float\":\"cssFloat\"},L={},M={},P=/^\\s*|\\s*$/g;return f.fn=f.prototype={constructor:f,selector:\"\",context:null,length:0,init:function(e,t){var n=this,r,i;if(!e)return n;if(e.nodeType)return n.context=n[0]=e,n.length=1,n;if(t&&t.nodeType)n.context=t;else{if(t)return f(e).attr(t);n.context=t=document}if(a(e)){if(n.selector=e,r=\"<\"===e.charAt(0)&&\">\"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:_.exec(e),!r)return f(t).find(e);if(r[1])for(i=l(e,v(t)).firstChild;i;)E.call(n,i),i=i.nextSibling;else{if(i=v(t).getElementById(r[2]),!i)return n;if(i.id!==r[2])return n.find(e);n.length=1,n[0]=i}}else this.add(e,!1);return n},toArray:function(){return r.toArray(this)},add:function(e,t){var n=this,r,i;if(a(e))return n.add(f(e));if(t!==!1)for(r=f.unique(n.toArray().concat(f.makeArray(e))),n.length=r.length,i=0;i<r.length;i++)n[i]=r[i];else E.apply(n,f.makeArray(e));return n},attr:function(e,t){var n=this,r;if(\"object\"==typeof e)m(e,function(e,t){n.attr(e,t)});else{if(!o(t)){if(n[0]&&1===n[0].nodeType){if(r=L[e],r&&r.get)return r.get(n[0],e);if(A[e])return n.prop(e)?e:k;t=n[0].getAttribute(e,2),null===t&&(t=k)}return t}this.each(function(){var n;if(1===this.nodeType){if(n=L[e],n&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return n},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(e=B[e]||e,\"object\"==typeof e)m(e,function(e,t){n.prop(e,t)});else{if(!o(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1==this.nodeType&&(this[e]=t)})}return n},css:function(e,t){function n(e){return e.replace(/-(\\D)/g,function(e,t){return t.toUpperCase()})}function r(e){return e.replace(/[A-Z]/g,function(e){return\"-\"+e})}var i=this,a,s;if(\"object\"==typeof e)m(e,function(e,t){i.css(e,t)});else if(o(t))e=n(e),\"number\"!=typeof t||R[e]||(t+=\"px\"),i.each(function(){var n=this.style;if(s=M[e],s&&s.set)return void s.set(this,t);try{this.style[D[e]||e]=t}catch(i){}null!==t&&\"\"!==t||(n.removeProperty?n.removeProperty(r(e)):n.removeAttribute(e))});else{if(a=i[0],s=M[e],s&&s.get)return s.get(a);if(a.ownerDocument.defaultView)try{return a.ownerDocument.defaultView.getComputedStyle(a,null).getPropertyValue(r(e))}catch(l){return k}else if(a.currentStyle)return a.currentStyle[n(e)]}return i},remove:function(){for(var e=this,t,n=this.length;n--;)t=e[n],S.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var e=this,t,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(e){var t=this,n;if(o(e)){n=t.length;try{for(;n--;)t[n].innerHTML=e}catch(r){f(t[n]).empty().append(e)}return t}return t[0]?t[0].innerHTML:\"\"},text:function(e){var t=this,n;if(o(e)){for(n=t.length;n--;)\"innerText\"in t[n]?t[n].innerText=e:t[0].textContent=e;return t}return t[0]?t[0].innerText||t[0].textContent:\"\"},append:function(){return u(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return u(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?u(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?u(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return f(e).append(this),this},prependTo:function(e){return f(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return d(this,e)},wrapAll:function(e){return d(this,e,!0)},wrapInner:function(e){return this.each(function(){f(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){f(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),f(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return\"string\"!=typeof e?n:(e.indexOf(\" \")!==-1?m(e.split(\" \"),function(){n.toggleClass(this,t)}):n.each(function(n,r){var i,o;o=c(r,e),o!==t&&(i=r.className,o?r.className=h((\" \"+i+\" \").replace(\" \"+e+\" \",\" \")):r.className+=i?\" \"+e:e)}),n)},hasClass:function(e){return c(this[0],e)},each:function(e){return m(this,e)},on:function(e,t){return this.each(function(){S.bind(this,e,t)})},off:function(e,t){return this.each(function(){S.unbind(this,e,t)})},trigger:function(e){return this.each(function(){\"object\"==typeof e?S.fire(this,e.type,e):S.fire(this,e)})},show:function(){return this.css(\"display\",\"\")},hide:function(){return this.css(\"display\",\"none\")},slice:function(){return new f(N.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)f.find(e,this[t],r);return f(r)},filter:function(e){return f(\"function\"==typeof e?g(this.toArray(),function(t,n){return e(n,t)}):f.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof f&&(e=e[0]),this.each(function(n,r){for(;r;){if(\"string\"==typeof e&&f(r).is(e)){t.push(r);break}if(r==e){t.push(r);break}r=r.parentNode}}),f(t)},offset:function(e){var t,n,r,i=0,o=0,a;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(a=t.getBoundingClientRect(),i=a.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,o=a.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:o})},push:E,sort:[].sort,splice:[].splice},r.extend(f,{extend:r.extend,makeArray:function(e){return s(e)||e.nodeType?[e]:r.toArray(e)},inArray:p,isArray:r.isArray,each:m,trim:h,grep:g,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=\":not(\"+e+\")\");r--;)1!=t[r].nodeType&&t.splice(r,1);return t=1===t.length?f.find.matchesSelector(t[0],e)?[t[0]]:[]:f.find.matches(e,t)}}),m({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return y(e,\"parentNode\")},next:function(e){return C(e,\"nextSibling\",1)},prev:function(e){return C(e,\"previousSibling\",1)},children:function(e){return b(e.firstChild,\"nextSibling\",1)},contents:function(e){return r.toArray((\"iframe\"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){f.fn[e]=function(n){var r=this,i=[];return r.each(function(){var e=t.call(i,this,n,i);e&&(f.isArray(e)?i.push.apply(i,e):i.push(e))}),this.length>1&&(T[e]||(i=f.unique(i)),0===e.indexOf(\"parents\")&&(i=i.reverse())),i=f(i),n?i.filter(n):i}}),m({parentsUntil:function(e,t){return y(e,\"parentNode\",t)},nextUntil:function(e,t){return b(e,\"nextSibling\",1,t).slice(1)},prevUntil:function(e,t){return b(e,\"previousSibling\",1,t).slice(1)}},function(e,t){f.fn[e]=function(n,r){var i=this,o=[];return i.each(function(){var e=t.call(o,this,n,o);e&&(f.isArray(e)?o.push.apply(o,e):o.push(e))}),this.length>1&&(o=f.unique(o),0!==e.indexOf(\"parents\")&&\"prevUntil\"!==e||(o=o.reverse())),o=f(o),r?o.filter(r):o}}),f.fn.is=function(e){return!!e&&this.filter(e).length>0},f.fn.init.prototype=f.fn,f.overrideDefaults=function(e){function t(r,i){return n=n||e(),0===arguments.length&&(r=n.element),i||(i=n.context),new t.fn.init(r,i)}var n;return f.extend(t,this),t},i.ie&&i.ie<8&&(x(L,\"get\",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?k:t},size:function(e){var t=e.size;return 20===t?k:t},\"class\":function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?k:t}}),x(L,\"set\",{\"class\":function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),i.ie&&i.ie<9&&(D[\"float\"]=\"styleFloat\",x(M,\"set\",{opacity:function(e,t){var n=e.style;null===t||\"\"===t?n.removeAttribute(\"filter\"):(n.zoom=1,n.filter=\"alpha(opacity=\"+100*t+\")\")}})),f.attrHooks=L,f.cssHooks=M,f}),r(v,[],function(){return function(e,t){function n(e,t,n,r){function i(e){return e=parseInt(e,10).toString(16),e.length>1?e:\"0\"+e}return\"#\"+i(t)+i(n)+i(r)}var r=/rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi,i=/(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi,o=/\\s*([^:]+):\\s*([^;]+);?/g,a=/\\s+$/,s,l={},u,c,d,f=\"\\ufeff\";for(e=e||{},t&&(c=t.getValidStyles(),d=t.getInvalidStyles()),u=(\"\\\\\\\" \\\\' \\\\; \\\\: ; : \"+f).split(\" \"),s=0;s<u.length;s++)l[u[s]]=f+s,l[f+s]=u[s];return{toHex:function(e){return e.replace(r,n)},parse:function(t){function u(e,t,n){var r,i,o,a;if(r=y[e+\"-top\"+t],r&&(i=y[e+\"-right\"+t],i&&(o=y[e+\"-bottom\"+t],o&&(a=y[e+\"-left\"+t])))){var l=[r,i,o,a];for(s=l.length-1;s--&&l[s]===l[s+1];);s>-1&&n||(y[e+t]=s==-1?l[0]:l.join(\" \"),delete y[e+\"-top\"+t],delete y[e+\"-right\"+t],delete y[e+\"-bottom\"+t],delete y[e+\"-left\"+t])}}function c(e){var t=y[e],n;if(t){for(t=t.split(\" \"),n=t.length;n--;)if(t[n]!==t[0])return!1;return y[e]=t[0],!0}}function d(e,t,n,r){c(t)&&c(n)&&c(r)&&(y[e]=y[t]+\" \"+y[n]+\" \"+y[r],delete y[t],delete y[n],delete y[r])}function p(e){return w=!0,l[e]}function h(e,t){return w&&(e=e.replace(/\\uFEFF[0-9]/g,function(e){return l[e]})),t||(e=e.replace(/\\\\([\\'\\\";:])/g,\"$1\")),e}function m(e){return String.fromCharCode(parseInt(e.slice(1),16))}function g(e){return e.replace(/\\\\[0-9a-f]+/gi,m)}function v(t,n,r,i,o,a){if(o=o||a)return o=h(o),\"'\"+o.replace(/\\'/g,\"\\\\'\")+\"'\";if(n=h(n||r||i),!e.allow_script_urls){var s=n.replace(/[\\s\\r\\n]+/g,\"\");if(/(java|vb)script:/i.test(s))return\"\";if(!e.allow_svg_data_urls&&/^data:image\\/svg/i.test(s))return\"\"}return E&&(n=E.call(N,n,\"style\")),\"url('\"+n.replace(/\\'/g,\"\\\\'\")+\"')\"}var y={},b,C,x,w,E=e.url_converter,N=e.url_converter_scope||this;if(t){for(t=t.replace(/[\\u0000-\\u001F]/g,\"\"),t=t.replace(/\\\\[\\\"\\';:\\uFEFF]/g,p).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g,function(e){return e.replace(/[;:]/g,p)});b=o.exec(t);)if(o.lastIndex=b.index+b[0].length,C=b[1].replace(a,\"\").toLowerCase(),x=b[2].replace(a,\"\"),C&&x){if(C=g(C),x=g(x),C.indexOf(f)!==-1||C.indexOf('\"')!==-1)continue;if(!e.allow_script_urls&&(\"behavior\"==C||/expression\\s*\\(|\\/\\*|\\*\\//.test(x)))continue;\"font-weight\"===C&&\"700\"===x?x=\"bold\":\"color\"!==C&&\"background-color\"!==C||(x=x.toLowerCase()),x=x.replace(r,n),x=x.replace(i,v),y[C]=w?h(x,!0):x}u(\"border\",\"\",!0),u(\"border\",\"-width\"),u(\"border\",\"-color\"),u(\"border\",\"-style\"),u(\"padding\",\"\"),u(\"margin\",\"\"),d(\"border\",\"border-width\",\"border-style\",\"border-color\"),\"medium none\"===y.border&&delete y.border,\"none\"===y[\"border-image\"]&&delete y[\"border-image\"]}return y},serialize:function(e,t){function n(t){var n,r,o,a;if(n=c[t])for(r=0,o=n.length;r<o;r++)t=n[r],a=e[t],a&&(i+=(i.length>0?\" \":\"\")+t+\": \"+a+\";\")}function r(e,t){var n;return n=d[\"*\"],(!n||!n[e])&&(n=d[t],!n||!n[e])}var i=\"\",o,a;if(t&&c)n(\"*\"),n(t);else for(o in e)a=e[o],!a||d&&!r(o,t)||(i+=(i.length>0?\" \":\"\")+o+\": \"+a+\";\");return i}}}}),r(y,[],function(){return function(e,t){function n(e,n,r,i){var o,a;if(e){if(!i&&e[n])return e[n];if(e!=t){if(o=e[r])return o;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(o=a[r])return o}}}function r(e,n,r,i){var o,a,s;if(e){if(o=e[r],t&&o===t)return;if(o){if(!i)for(s=o[n];s;s=s[n])if(!s[n])return s;return o}if(a=e.parentNode,a&&a!==t)return a}}var i=e;this.current=function(){return i},this.next=function(e){return i=n(i,\"firstChild\",\"nextSibling\",e)},this.prev=function(e){return i=n(i,\"lastChild\",\"previousSibling\",e)},this.prev2=function(e){return i=r(i,\"lastChild\",\"previousSibling\",e)}}}),r(b,[m],function(e){function t(n){function r(){return P.createDocumentFragment()}function i(e,t){E(F,e,t)}function o(e,t){E(z,e,t)}function a(e){i(e.parentNode,j(e))}function s(e){i(e.parentNode,j(e)+1)}function l(e){o(e.parentNode,j(e))}function u(e){o(e.parentNode,j(e)+1)}function c(e){e?(M[V]=M[W],M[$]=M[U]):(M[W]=M[V],M[U]=M[$]),M.collapsed=F}function d(e){a(e),u(e)}function f(e){i(e,0),o(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function p(e,t){var n=M[W],r=M[U],i=M[V],o=M[$],a=t.startContainer,s=t.startOffset,l=t.endContainer,u=t.endOffset;return 0===e?w(n,r,a,s):1===e?w(i,o,a,s):2===e?w(i,o,l,u):3===e?w(n,r,l,u):void 0}function h(){N(I)}function m(){return N(O)}function g(){return N(H)}function v(e){var t=this[W],r=this[U],i,o;3!==t.nodeType&&4!==t.nodeType||!t.nodeValue?(t.childNodes.length>0&&(o=t.childNodes[r]),o?t.insertBefore(e,o):3==t.nodeType?n.insertAfter(e,t):t.appendChild(e)):r?r>=t.nodeValue.length?n.insertAfter(e,t):(i=t.splitText(r),t.parentNode.insertBefore(e,i)):t.parentNode.insertBefore(e,t)}function y(e){var t=M.extractContents();M.insertNode(e),e.appendChild(t),M.selectNode(e)}function b(){return q(new t(n),{startContainer:M[W],startOffset:M[U],endContainer:M[V],endOffset:M[$],collapsed:M.collapsed,commonAncestorContainer:M.commonAncestorContainer})}function C(e,t){var n;if(3==e.nodeType)return e;if(t<0)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n?n:e}function x(){return M[W]==M[V]&&M[U]==M[$]}function w(e,t,r,i){var o,a,s,l,u,c;if(e==r)return t==i?0:t<i?-1:1;for(o=r;o&&o.parentNode!=e;)o=o.parentNode;if(o){for(a=0,s=e.firstChild;s!=o&&a<t;)a++,s=s.nextSibling;return t<=a?-1:1}for(o=e;o&&o.parentNode!=r;)o=o.parentNode;if(o){for(a=0,s=r.firstChild;s!=o&&a<i;)a++,s=s.nextSibling;return a<i?-1:1}for(l=n.findCommonAncestor(e,r),u=e;u&&u.parentNode!=l;)u=u.parentNode;for(u||(u=l),c=r;c&&c.parentNode!=l;)c=c.parentNode;if(c||(c=l),u==c)return 0;for(s=l.firstChild;s;){if(s==u)return-1;if(s==c)return 1;s=s.nextSibling}}function E(e,t,r){var i,o;for(e?(M[W]=t,M[U]=r):(M[V]=t,M[$]=r),i=M[V];i.parentNode;)i=i.parentNode;for(o=M[W];o.parentNode;)o=o.parentNode;o==i?w(M[W],M[U],M[V],M[$])>0&&M.collapse(e):M.collapse(e),M.collapsed=x(),M.commonAncestorContainer=n.findCommonAncestor(M[W],M[V])}function N(e){var t,n=0,r=0,i,o,a,s,l,u;if(M[W]==M[V])return _(e);for(t=M[V],i=t.parentNode;i;t=i,i=i.parentNode){if(i==M[W])return S(t,e);++n}for(t=M[W],i=t.parentNode;i;t=i,i=i.parentNode){if(i==M[V])return k(t,e);++r}for(o=r-n,a=M[W];o>0;)a=a.parentNode,o--;for(s=M[V];o<0;)s=s.parentNode,o++;for(l=a.parentNode,u=s.parentNode;l!=u;l=l.parentNode,u=u.parentNode)a=l,s=u;return T(a,s,e)}function _(e){var t,n,i,o,a,s,l,u,c;if(e!=I&&(t=r()),M[U]==M[$])return t;if(3==M[W].nodeType){if(n=M[W].nodeValue,i=n.substring(M[U],M[$]),e!=H&&(o=M[W],u=M[U],c=M[$]-M[U],0===u&&c>=o.nodeValue.length-1?o.parentNode.removeChild(o):o.deleteData(u,c),M.collapse(F)),e==I)return;return i.length>0&&t.appendChild(P.createTextNode(i)),t}for(o=C(M[W],M[U]),a=M[$]-M[U];o&&a>0;)s=o.nextSibling,l=D(o,e),t&&t.appendChild(l),--a,o=s;return e!=H&&M.collapse(F),t}function S(e,t){var n,i,o,a,s,l;if(t!=I&&(n=r()),i=R(e,t),n&&n.appendChild(i),o=j(e),a=o-M[U],a<=0)return t!=H&&(M.setEndBefore(e),M.collapse(z)),n;for(i=e.previousSibling;a>0;)s=i.previousSibling,l=D(i,t),n&&n.insertBefore(l,n.firstChild),--a,i=s;return t!=H&&(M.setEndBefore(e),M.collapse(z)),n}function k(e,t){var n,i,o,a,s,l;for(t!=I&&(n=r()),o=A(e,t),n&&n.appendChild(o),i=j(e),++i,a=M[$]-i,o=e.nextSibling;o&&a>0;)s=o.nextSibling,l=D(o,t),n&&n.appendChild(l),--a,o=s;return t!=H&&(M.setStartAfter(e),M.collapse(F)),n}function T(e,t,n){var i,o,a,s,l,u,c;for(n!=I&&(o=r()),i=A(e,n),o&&o.appendChild(i),a=j(e),s=j(t),++a,l=s-a,u=e.nextSibling;l>0;)c=u.nextSibling,i=D(u,n),o&&o.appendChild(i),u=c,--l;return i=R(t,n),o&&o.appendChild(i),n!=H&&(M.setStartAfter(e),M.collapse(F)),o}function R(e,t){var n=C(M[V],M[$]-1),r,i,o,a,s,l=n!=M[V];if(n==e)return B(n,l,z,t);for(r=n.parentNode,i=B(r,z,z,t);r;){for(;n;)o=n.previousSibling,a=B(n,l,z,t),t!=I&&i.insertBefore(a,i.firstChild),l=F,n=o;if(r==e)return i;n=r.previousSibling,r=r.parentNode,s=B(r,z,z,t),t!=I&&s.appendChild(i),i=s}}function A(e,t){var n=C(M[W],M[U]),r=n!=M[W],i,o,a,s,l;if(n==e)return B(n,r,F,t);for(i=n.parentNode,o=B(i,z,F,t);i;){for(;n;)a=n.nextSibling,s=B(n,r,F,t),t!=I&&o.appendChild(s),r=F,n=a;if(i==e)return o;n=i.nextSibling,i=i.parentNode,l=B(i,z,F,t),t!=I&&l.appendChild(o),o=l}}function B(e,t,r,i){var o,a,s,l,u;if(t)return D(e,i);if(3==e.nodeType){if(o=e.nodeValue,r?(l=M[U],a=o.substring(l),s=o.substring(0,l)):(l=M[$],a=o.substring(0,l),s=o.substring(l)),i!=H&&(e.nodeValue=s),i==I)return;return u=n.clone(e,z),u.nodeValue=a,u}if(i!=I)return n.clone(e,z)}function D(e,t){return t!=I?t==H?n.clone(e,F):e:void e.parentNode.removeChild(e)}function L(){return n.create(\"body\",null,g()).outerText}var M=this,P=n.doc,O=0,H=1,I=2,F=!0,z=!1,U=\"startOffset\",W=\"startContainer\",V=\"endContainer\",$=\"endOffset\",q=e.extend,j=n.nodeIndex;return q(M,{startContainer:P,startOffset:0,endContainer:P,endOffset:0,collapsed:F,commonAncestorContainer:P,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:i,setEnd:o,setStartBefore:a,setStartAfter:s,setEndBefore:l,setEndAfter:u,collapse:c,selectNode:d,selectNodeContents:f,compareBoundaryPoints:p,deleteContents:h,extractContents:m,cloneContents:g,insertNode:v,surroundContents:y,cloneRange:b,toStringIE:L}),M}return t.prototype.toString=function(){return this.toStringIE()},t}),r(C,[m],function(e){function t(e){var t;return t=document.createElement(\"div\"),t.innerHTML=e,t.textContent||t.innerText||e}function n(e,t){var n,r,i,a={};if(e){for(e=e.split(\",\"),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),o[r]||(i=\"&\"+e[n+1]+\";\",a[r]=i,a[i]=r);return a}}var r=e.makeMap,i,o,a,s=/[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,l=/[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,u=/[<>&\\\"\\']/g,c=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,d={128:\"\\u20ac\",130:\"\\u201a\",131:\"\\u0192\",132:\"\\u201e\",133:\"\\u2026\",134:\"\\u2020\",135:\"\\u2021\",136:\"\\u02c6\",137:\"\\u2030\",138:\"\\u0160\",139:\"\\u2039\",140:\"\\u0152\",142:\"\\u017d\",145:\"\\u2018\",146:\"\\u2019\",147:\"\\u201c\",148:\"\\u201d\",149:\"\\u2022\",150:\"\\u2013\",151:\"\\u2014\",152:\"\\u02dc\",153:\"\\u2122\",154:\"\\u0161\",155:\"\\u203a\",156:\"\\u0153\",158:\"\\u017e\",159:\"\\u0178\"};o={'\"':\"&quot;\",\"'\":\"&#39;\",\"<\":\"&lt;\",\">\":\"&gt;\",\"&\":\"&amp;\",\"`\":\"&#96;\"},a={\"&lt;\":\"<\",\"&gt;\":\">\",\"&amp;\":\"&\",\"&quot;\":'\"',\"&apos;\":\"'\"},i=n(\"50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro\",32);var f={encodeRaw:function(e,t){return e.replace(t?s:l,function(e){return o[e]||e})},encodeAllRaw:function(e){return(\"\"+e).replace(u,function(e){return o[e]||e})},encodeNumeric:function(e,t){return e.replace(t?s:l,function(e){return e.length>1?\"&#\"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+\";\":o[e]||\"&#\"+e.charCodeAt(0)+\";\"})},encodeNamed:function(e,t,n){return n=n||i,e.replace(t?s:l,function(e){return o[e]||n[e]||e})},getEncodeFunc:function(e,t){function a(e,n){return e.replace(n?s:l,function(e){return o[e]||t[e]||\"&#\"+e.charCodeAt(0)+\";\"||e})}function u(e,n){return f.encodeNamed(e,n,t)}return t=n(t)||i,e=r(e.replace(/\\+/g,\",\")),e.named&&e.numeric?a:e.named?t?u:f.encodeNamed:e.numeric?f.encodeNumeric:f.encodeRaw},decode:function(e){return e.replace(c,function(e,n){return n?(n=\"x\"===n.charAt(0).toLowerCase()?parseInt(n.substr(1),16):parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):d[n]||String.fromCharCode(n)):a[e]||i[e]||t(e)})}};return f}),r(x,[m,c],function(e,t){return function(n,r){function i(e){n.getElementsByTagName(\"head\")[0].appendChild(e)}function o(r,o,u){function c(){for(var e=b.passed,t=e.length;t--;)e[t]();b.status=2,b.passed=[],b.failed=[]}function d(){for(var e=b.failed,t=e.length;t--;)e[t]();b.status=3,b.passed=[],b.failed=[]}function f(){var e=navigator.userAgent.match(/WebKit\\/(\\d*)/);return!!(e&&e[1]<536)}function p(e,n){e()||((new Date).getTime()-y<l?t.setTimeout(n):d())}function h(){p(function(){for(var e=n.styleSheets,t,r=e.length,i;r--;)if(t=e[r],i=t.ownerNode?t.ownerNode:t.owningElement,i&&i.id===g.id)return c(),!0},h)}function m(){p(function(){try{var e=v.sheet.cssRules;return c(),!!e}catch(t){}},m)}var g,v,y,b;if(r=e._addCacheSuffix(r),s[r]?b=s[r]:(b={passed:[],failed:[]},s[r]=b),o&&b.passed.push(o),u&&b.failed.push(u),1!=b.status){if(2==b.status)return void c();if(3==b.status)return void d();if(b.status=1,g=n.createElement(\"link\"),g.rel=\"stylesheet\",g.type=\"text/css\",g.id=\"u\"+a++,g.async=!1,g.defer=!1,y=(new Date).getTime(),\"onload\"in g&&!f())g.onload=h,g.onerror=d;else{if(navigator.userAgent.indexOf(\"Firefox\")>0)return v=n.createElement(\"style\"),v.textContent='@import \"'+r+'\"',m(),void i(v);h()}i(g),g.href=r}}var a=0,s={},l;r=r||{},l=r.maxLoadTime||5e3,this.load=o}}),r(w,[p,g,v,f,y,b,C,d,m,x],function(e,n,r,i,o,a,s,l,u,c){function d(e,t){var n={},r=t.keep_values,i;return i={set:function(n,r,i){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||e,r,i,n[0])),n.attr(\"data-mce-\"+i,r).attr(i,r)},get:function(e,t){return e.attr(\"data-mce-\"+t)||e.attr(t)}},n={style:{set:function(e,t){return null!==t&&\"object\"==typeof t?void e.css(t):(r&&e.attr(\"data-mce-style\",t),void e.attr(\"style\",t))},get:function(t){var n=t.attr(\"data-mce-style\")||t.attr(\"style\");return n=e.serializeStyle(e.parseStyle(n),t[0].nodeName)}}},r&&(n.href=n.src=i),n}function f(e,t){var n=t.attr(\"style\");n=e.serializeStyle(e.parseStyle(n),t[0].nodeName),n||(n=null),t.attr(\"data-mce-style\",n)}function p(e,t){var n=0,r,i;if(e)for(r=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!=i||i!=r&&e.nodeValue.length)&&(n++,r=i);return n}function h(e,t){var o=this,a;o.doc=e,o.win=window,o.files={},o.counter=0,o.stdMode=!b||e.documentMode>=8,o.boxModel=!b||\"CSS1Compat\"==e.compatMode||o.stdMode,o.styleSheetLoader=new c(e),o.boundEvents=[],o.settings=t=t||{},o.schema=t.schema,o.styles=new r({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),o.fixDoc(e),o.events=t.ownEvents?new i(t.proxy):i.Event,o.attrHooks=d(o,t),a=t.schema?t.schema.getBlockElements():{},o.$=n.overrideDefaults(function(){return{context:e,element:o.getRoot()}}),o.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!a[e.nodeName]):!!a[e]}}var m=u.each,g=u.is,v=u.grep,y=u.trim,b=l.ie,C=/^([a-z0-9],?)+$/i,x=/^[ \\t\\r\\n]*$/;return h.prototype={$$:function(e){return\"string\"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){var t=this.settings,n;if(b&&t.schema){\"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video\".replace(/\\w+/g,function(t){e.createElement(t)});for(n in t.schema.getCustomElements())e.createElement(n)}},clone:function(e,t){var n=this,r,i;return!b||1!==e.nodeType||t?e.cloneNode(t):(i=n.doc,t?r.firstChild:(r=i.createElement(e.nodeName),m(n.getAttribs(e),function(t){n.setAttrib(r,t.nodeName,n.getAttrib(e,t.nodeName))}),r))},getRoot:function(){var e=this;return e.settings.root_element||e.doc.body},getViewPort:function(e){var t,n;return e=e?e:this.win,t=e.document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t=this,n,r;return e=t.get(e),n=t.getPos(e),r=t.getSize(e),{x:n.x,y:n.y,w:r.w,h:r.h}},getSize:function(e){var t=this,n,r;return e=t.get(e),n=t.getStyle(e,\"width\"),r=t.getStyle(e,\"height\"),n.indexOf(\"px\")===-1&&(n=0),r.indexOf(\"px\")===-1&&(r=0),\n{w:parseInt(n,10)||e.offsetWidth||e.clientWidth,h:parseInt(r,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,n,r,i){var o=this,a,s=[];for(e=o.get(e),i=i===t,r=r||(\"BODY\"!=o.getRoot().nodeName?o.getRoot().parentNode:null),g(n,\"string\")&&(a=n,n=\"*\"===n?function(e){return 1==e.nodeType}:function(e){return o.is(e,a)});e&&e!=r&&e.nodeType&&9!==e.nodeType;){if(!n||n(e)){if(!i)return e;s.push(e)}e=e.parentNode}return i?s:null},get:function(e){var t;return e&&this.doc&&\"string\"==typeof e&&(t=e,e=this.doc.getElementById(e),e&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,\"nextSibling\")},getPrev:function(e,t){return this._findSib(e,t,\"previousSibling\")},select:function(t,n){var r=this;return e(t,r.get(n)||r.settings.root_element||r.doc,[])},is:function(n,r){var i;if(n.length===t){if(\"*\"===r)return 1==n.nodeType;if(C.test(r)){for(r=r.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),i=r.length-1;i>=0;i--)if(r[i]==n)return!0;return!1}}if(n.nodeType&&1!=n.nodeType)return!1;var o=n.nodeType?[n]:n;return e(r,o[0].ownerDocument||o[0],null,o).length>0},add:function(e,t,n,r,i){var o=this;return this.run(e,function(e){var a;return a=g(t,\"string\")?o.doc.createElement(t):t,o.setAttribs(a,n),r&&(r.nodeType?a.appendChild(r):o.setHTML(a,r)),i?a:e.appendChild(a)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var r=\"\",i;r+=\"<\"+e;for(i in t)t.hasOwnProperty(i)&&null!==t[i]&&\"undefined\"!=typeof t[i]&&(r+=\" \"+i+'=\"'+this.encode(t[i])+'\"');return\"undefined\"!=typeof n?r+\">\"+n+\"</\"+e+\">\":r+\" />\"},createFragment:function(e){var t,n,r=this.doc,i;for(i=r.createElement(\"div\"),t=r.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each(function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():e.remove(),e.length>1?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&f(this,e)},getStyle:function(e,n,r){return e=this.$$(e),r?e.css(n):(n=n.replace(/-(\\D)/g,function(e,t){return t.toUpperCase()}),\"float\"==n&&(n=l.ie&&l.ie<12?\"styleFloat\":\"cssFloat\"),e[0]&&e[0].style?e[0].style[n]:t)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&f(this,e)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var r=this,i,o,a=r.settings;\"\"===n&&(n=null),e=r.$$(e),i=e.attr(t),e.length&&(o=r.attrHooks[t],o&&o.set?o.set(e,n,t):e.attr(t,n),i!=n&&a.onSetAttrib&&a.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var n=this;n.$$(e).each(function(e,r){m(t,function(e,t){n.setAttrib(r,t,e)})})},getAttrib:function(e,t,n){var r=this,i,o;return e=r.$$(e),e.length&&(i=r.attrHooks[t],o=i&&i.get?i.get(e,t):e.attr(t)),\"undefined\"==typeof o&&(o=n||\"\"),o},getPos:function(e,t){var r=this,i=0,o=0,a,s=r.doc,l=s.body,u;if(e=r.get(e),t=t||l,e){if(t===l&&e.getBoundingClientRect&&\"static\"===n(l).css(\"position\"))return u=e.getBoundingClientRect(),t=r.boxModel?s.documentElement:l,i=u.left+(s.documentElement.scrollLeft||l.scrollLeft)-t.clientLeft,o=u.top+(s.documentElement.scrollTop||l.scrollTop)-t.clientTop,{x:i,y:o};for(a=e;a&&a!=t&&a.nodeType;)i+=a.offsetLeft||0,o+=a.offsetTop||0,a=a.offsetParent;for(a=e.parentNode;a&&a!=t&&a.nodeType;)i-=a.scrollLeft||0,o-=a.scrollTop||0,a=a.parentNode}return{x:i,y:o}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t=this,n=t.doc,r,i;if(t!==h.DOM&&n===document){var o=h.DOM.addedStyles;if(o=o||[],o[e])return;o[e]=!0,h.DOM.addedStyles=o}i=n.getElementById(\"mceDefaultStyles\"),i||(i=n.createElement(\"style\"),i.id=\"mceDefaultStyles\",i.type=\"text/css\",r=n.getElementsByTagName(\"head\")[0],r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=e:i.appendChild(n.createTextNode(e))},loadCSS:function(e){var t=this,n=t.doc,r;return t!==h.DOM&&n===document?void h.DOM.loadCSS(e):(e||(e=\"\"),r=n.getElementsByTagName(\"head\")[0],void m(e.split(\",\"),function(e){var i;e=u._addCacheSuffix(e),t.files[e]||(t.files[e]=!0,i=t.create(\"link\",{rel:\"stylesheet\",href:e}),b&&n.documentMode&&n.recalc&&(i.onload=function(){n.recalc&&n.recalc(),i.onload=null}),r.appendChild(i))}))},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,r){this.$$(e).toggleClass(t,r).each(function(){\"\"===this.className&&n(this).attr(\"class\",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return\"none\"==this.$$(e).css(\"display\")},uniqueId:function(e){return(e?e:\"mce_\")+this.counter++},setHTML:function(e,t){e=this.$$(e),b?e.each(function(e,r){if(r.canHaveHTML!==!1){for(;r.firstChild;)r.removeChild(r.firstChild);try{r.innerHTML=\"<br>\"+t,r.removeChild(r.firstChild)}catch(i){n(\"<div></div>\").html(\"<br>\"+t).contents().slice(1).appendTo(r)}return t}}):e.html(t)},getOuterHTML:function(e){return e=this.get(e),1==e.nodeType&&\"outerHTML\"in e?e.outerHTML:n(\"<div></div>\").append(n(e).clone()).html()},setOuterHTML:function(e,t){var r=this;r.$$(e).each(function(){try{if(\"outerHTML\"in this)return void(this.outerHTML=t)}catch(e){}r.remove(n(this).html(t),!0)})},decode:s.decode,encode:s.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,r;return n=t.parentNode,r=t.nextSibling,r?n.insertBefore(e,r):n.appendChild(e),e})},replace:function(e,t,n){var r=this;return r.run(t,function(t){return g(t,\"array\")&&(e=e.cloneNode(!0)),n&&m(v(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n=this,r;return e.nodeName!=t.toUpperCase()&&(r=n.create(t),m(n.getAttribs(e),function(t){n.setAttrib(r,t.nodeName,n.getAttrib(e,t.nodeName))}),n.replace(r,e,1)),r||e},findCommonAncestor:function(e,t){for(var n=e,r;n;){for(r=t;r&&n!=r;)r=r.parentNode;if(n==r)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n},toHex:function(e){return this.styles.toHex(u.trim(e))},run:function(e,t,n){var r=this,i;return\"string\"==typeof e&&(e=r.get(e)),!!e&&(n=n||this,e.nodeType||!e.length&&0!==e.length?t.call(n,e):(i=[],m(e,function(e,o){e&&(\"string\"==typeof e&&(e=r.get(e)),i.push(t.call(n,e,o)))}),i))},getAttribs:function(e){var t;if(e=this.get(e),!e)return[];if(b){if(t=[],\"OBJECT\"==e.nodeName)return e.attributes;\"OPTION\"===e.nodeName&&this.getAttrib(e,\"selected\")&&t.push({specified:1,nodeName:\"selected\"});var n=/<\\/?[\\w:\\-]+ ?|=[\\\"][^\\\"]+\\\"|=\\'[^\\']+\\'|=[\\w\\-]+|>/gi;return e.cloneNode(!1).outerHTML.replace(n,\"\").replace(/[\\w:\\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n=this,r,i,a,s,l,u,c=0;if(e=e.firstChild){l=new o(e,e.parentNode),t=t||(n.schema?n.schema.getNonEmptyElements():null),s=n.schema?n.schema.getWhiteSpaceElements():{};do{if(a=e.nodeType,1===a){var d=e.getAttribute(\"data-mce-bogus\");if(d){e=l.next(\"all\"===d);continue}if(u=e.nodeName.toLowerCase(),t&&t[u]){if(\"br\"===u){c++,e=l.next();continue}return!1}for(i=n.getAttribs(e),r=i.length;r--;)if(u=i[r].nodeName,\"name\"===u||\"data-mce-bookmark\"===u)return!1}if(8==a)return!1;if(3===a&&!x.test(e.nodeValue))return!1;if(3===a&&e.parentNode&&s[e.parentNode.nodeName]&&x.test(e.nodeValue))return!1;e=l.next()}while(e)}return c<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new a(this)},nodeIndex:p,split:function(e,t,n){function r(e){function t(e){var t=e.previousSibling&&\"SPAN\"==e.previousSibling.nodeName,n=e.nextSibling&&\"SPAN\"==e.nextSibling.nodeName;return t&&n}var n,o=e.childNodes,a=e.nodeType;if(1!=a||\"bookmark\"!=e.getAttribute(\"data-mce-type\")){for(n=o.length-1;n>=0;n--)r(o[n]);if(9!=a){if(3==a&&e.nodeValue.length>0){var s=y(e.nodeValue).length;if(!i.isBlock(e.parentNode)||s>0||0===s&&t(e))return}else if(1==a&&(o=e.childNodes,1==o.length&&o[0]&&1==o[0].nodeType&&\"bookmark\"==o[0].getAttribute(\"data-mce-type\")&&e.parentNode.insertBefore(o[0],e),o.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;i.remove(e)}return e}}var i=this,o=i.createRng(),a,s,l;if(e&&t)return o.setStart(e.parentNode,i.nodeIndex(e)),o.setEnd(t.parentNode,i.nodeIndex(t)),a=o.extractContents(),o=i.createRng(),o.setStart(t.parentNode,i.nodeIndex(t)+1),o.setEnd(e.parentNode,i.nodeIndex(e)+1),s=o.extractContents(),l=e.parentNode,l.insertBefore(r(a),e),n?l.insertBefore(n,e):l.insertBefore(t,e),l.insertBefore(r(s),e),i.remove(e),n||t},bind:function(e,t,n,r){var i=this;if(u.isArray(e)){for(var o=e.length;o--;)e[o]=i.bind(e[o],t,n,r);return e}return!i.settings.collect||e!==i.doc&&e!==i.win||i.boundEvents.push([e,t,n,r]),i.events.bind(e,t,n,r||i)},unbind:function(e,t,n){var r=this,i;if(u.isArray(e)){for(i=e.length;i--;)e[i]=r.unbind(e[i],t,n);return e}if(r.boundEvents&&(e===r.doc||e===r.win))for(i=r.boundEvents.length;i--;){var o=r.boundEvents[i];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute(\"data-mce-contenteditable\"),t&&\"inherit\"!==t?t:\"inherit\"!==e.contentEditable?e.contentEditable:null):null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&(n=this.getContentEditable(e),null===n);e=e.parentNode);return n},destroy:function(){var t=this;if(t.boundEvents){for(var n=t.boundEvents.length;n--;){var r=t.boundEvents[n];this.events.unbind(r[0],r[1],r[2])}t.boundEvents=null}e.setDocument&&e.setDocument(),t.win=t.doc=t.root=t.events=t.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return\"startContainer: \"+e.startContainer.nodeName+\", startOffset: \"+e.startOffset+\", endContainer: \"+e.endContainer.nodeName+\", endOffset: \"+e.endOffset},_findSib:function(e,t,n){var r=this,i=t;if(e)for(\"string\"==typeof i&&(i=function(e){return r.is(e,t)}),e=e[n];e;e=e[n])if(i(e))return e;return null}},h.DOM=new h(document),h.nodeIndex=p,h}),r(E,[w,m],function(e,t){function n(){function e(e,n,i){function o(){l.remove(c),u&&(u.onreadystatechange=u.onload=u=null),n()}function s(){a(i)?i():\"undefined\"!=typeof console&&console.log&&console.log(\"Failed to load script: \"+e)}var l=r,u,c;c=l.uniqueId(),u=document.createElement(\"script\"),u.id=c,u.type=\"text/javascript\",u.src=t._addCacheSuffix(e),\"onreadystatechange\"in u?u.onreadystatechange=function(){/loaded|complete/.test(u.readyState)&&o()}:u.onload=o,u.onerror=s,(document.getElementsByTagName(\"head\")[0]||document.body).appendChild(u)}var n=0,s=1,l=2,u=3,c={},d=[],f={},p=[],h=0,m;this.isDone=function(e){return c[e]==l},this.markDone=function(e){c[e]=l},this.add=this.load=function(e,t,r,i){var o=c[e];o==m&&(d.push(e),c[e]=n),t&&(f[e]||(f[e]=[]),f[e].push({success:t,failure:i,scope:r||this}))},this.remove=function(e){delete c[e],delete f[e]},this.loadQueue=function(e,t,n){this.loadScripts(d,e,t,n)},this.loadScripts=function(t,n,r,d){function g(e,t){i(f[t],function(t){a(t[e])&&t[e].call(t.scope)}),f[t]=m}var v,y=[];p.push({success:n,failure:d,scope:r||this}),(v=function(){var n=o(t);t.length=0,i(n,function(t){return c[t]===l?void g(\"success\",t):c[t]===u?void g(\"failure\",t):void(c[t]!==s&&(c[t]=s,h++,e(t,function(){c[t]=l,h--,g(\"success\",t),v()},function(){c[t]=u,h--,y.push(t),g(\"failure\",t),v()})))}),h||(i(p,function(e){0===y.length?a(e.success)&&e.success.call(e.scope):a(e.failure)&&e.failure.call(e.scope,y)}),p.length=0)})()}}var r=e.DOM,i=t.each,o=t.grep,a=function(e){return\"function\"==typeof e};return n.ScriptLoader=new n,n}),r(N,[E,m],function(e,n){function r(){var e=this;e.items=[],e.urls={},e.lookup={}}var i=n.each;return r.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:t},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t,n){var i=r.language;if(i&&r.languageLoad!==!1){if(n)if(n=\",\"+n+\",\",n.indexOf(\",\"+i.substr(0,2)+\",\")!=-1)i=i.substr(0,2);else if(n.indexOf(\",\"+i+\",\")==-1)return;e.ScriptLoader.add(this.urls[t]+\"/langs/\"+i+\".js\")}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},remove:function(e){delete this.urls[e],delete this.lookup[e]},createUrl:function(e,t){return\"object\"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var r=this.urls[t];i(n,function(t){e.ScriptLoader.add(r+\"/\"+t)})},load:function(n,o,a,s,l){function u(){var r=c.dependencies(n);i(r,function(e){var n=c.createUrl(o,e);c.load(n.resource,n,t,t)}),a&&(s?a.call(s):a.call(e))}var c=this,d=o;c.urls[n]||(\"object\"==typeof o&&(d=o.prefix+o.resource+o.suffix),0!==d.indexOf(\"/\")&&d.indexOf(\"://\")==-1&&(d=r.baseURL+\"/\"+d),c.urls[n]=d.substring(0,d.lastIndexOf(\"/\")),c.lookup[n]?u():e.ScriptLoader.add(d,u,s,l))}},r.PluginManager=new r,r.ThemeManager=new r,r}),r(_,[],function(){function e(e){return function(t){return!!t&&t.nodeType==e}}function t(e){return e=e.toLowerCase().split(\" \"),function(t){var n,r;if(t&&t.nodeType)for(r=t.nodeName.toLowerCase(),n=0;n<e.length;n++)if(r===e[n])return!0;return!1}}function n(e,t){return t=t.toLowerCase().split(\" \"),function(n){var r,i;if(s(n))for(r=0;r<t.length;r++)if(i=getComputedStyle(n,null).getPropertyValue(e),i===t[r])return!0;return!1}}function r(e,t){return function(n){return s(n)&&n[e]===t}}function i(e,t){return function(n){return s(n)&&n.getAttribute(e)===t}}function o(e){return s(e)&&e.hasAttribute(\"data-mce-bogus\")}function a(e){return function(t){if(s(t)){if(t.contentEditable===e)return!0;if(t.getAttribute(\"data-mce-contenteditable\")===e)return!0}return!1}}var s=e(1);return{isText:e(3),isElement:s,isComment:e(8),isBr:t(\"br\"),isContentEditableTrue:a(\"true\"),isContentEditableFalse:a(\"false\"),matchNodeNames:t,hasPropValue:r,hasAttributeValue:i,matchStyleValues:n,isBogus:o}}),r(S,[],function(){function e(e){return e==n}function t(e){return e.replace(new RegExp(n,\"g\"),\"\")}var n=\"\\ufeff\";return{isZwsp:e,ZWSP:n,trim:t}}),r(k,[_,S],function(e,t){function n(e){return y(e)&&(e=e.parentNode),v(e)&&e.hasAttribute(\"data-mce-caret\")}function r(e){return y(e)&&t.isZwsp(e.data)}function i(e){return n(e)||r(e)}function o(e){var t=e.parentNode;t&&t.removeChild(e)}function a(e){try{return e.nodeValue}catch(t){return\"\"}}function s(e,t){0===t.length?o(e):e.nodeValue=t}function l(e,n){var r,o,a,s;if(r=e.ownerDocument,a=r.createTextNode(t.ZWSP),s=e.parentNode,n){if(o=e.previousSibling,y(o)){if(i(o))return o;if(h(o))return o.splitText(o.data.length-1)}s.insertBefore(a,e)}else{if(o=e.nextSibling,y(o)){if(i(o))return o;if(p(o))return o.splitText(1),o}e.nextSibling?s.insertBefore(a,e.nextSibling):s.appendChild(a)}return a}function u(){var e=document.createElement(\"br\");return e.setAttribute(\"data-mce-bogus\",\"1\"),e}function c(e,t,n){var r,i,o;return r=t.ownerDocument,i=r.createElement(e),i.setAttribute(\"data-mce-caret\",n?\"before\":\"after\"),i.setAttribute(\"data-mce-bogus\",\"all\"),i.appendChild(u()),o=t.parentNode,n?o.insertBefore(i,t):t.nextSibling?o.insertBefore(i,t.nextSibling):o.appendChild(i),i}function d(t){return t.firstChild!==t.lastChild||!e.isBr(t.firstChild)}function f(e){if(v(e)&&i(e)&&(d(e)?e.removeAttribute(\"data-mce-caret\"):o(e)),y(e)){var n=t.trim(a(e));s(e,n)}}function p(e){return y(e)&&e.data[0]==t.ZWSP}function h(e){return y(e)&&e.data[e.data.length-1]==t.ZWSP}function m(t){var n=t.getElementsByTagName(\"br\"),r=n[n.length-1];e.isBogus(r)&&r.parentNode.removeChild(r)}function g(e){return e&&e.hasAttribute(\"data-mce-caret\")?(m(e),e.removeAttribute(\"data-mce-caret\"),e.removeAttribute(\"data-mce-bogus\"),e.removeAttribute(\"style\"),e.removeAttribute(\"_moz_abspos\"),e):null}var v=e.isElement,y=e.isText;return{isCaretContainer:i,isCaretContainerBlock:n,isCaretContainerInline:r,showCaretContainerBlock:g,insertInline:l,insertBlock:c,hasContent:d,remove:f,startsWithCaretContainer:p,endsWithCaretContainer:h}}),r(T,[m,y,_,b,k],function(e,t,n,r,i){function o(e){return m(e)||g(e)}function a(e,t){var n=e.childNodes;return t--,t>n.length-1?t=n.length-1:t<0&&(t=0),n[t]||e}function s(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}function l(e,t,n){return null!==s(e,t,n)}function u(e){return\"_mce_caret\"===e.id}function c(e,t){return v(e)&&l(e,t,u)===!1}function d(e){this.walk=function(t,n){function r(e){var t;return t=e[0],3===t.nodeType&&t===l&&u>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===d&&e.length>0&&t===c&&3===t.nodeType&&e.splice(e.length-1,1),e}function i(e,t,n){for(var r=[];e&&e!=n;e=e[t])r.push(e);return r}function o(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function s(e,t,o){var a=o?\"nextSibling\":\"previousSibling\";for(g=e,v=g.parentNode;g&&g!=t;g=v)v=g.parentNode,y=i(g==e?g:g[a],a),y.length&&(o||y.reverse(),n(r(y)))}var l=t.startContainer,u=t.startOffset,c=t.endContainer,d=t.endOffset,f,p,m,g,v,y,b;if(b=e.select(\"td[data-mce-selected],th[data-mce-selected]\"),b.length>0)return void h(b,function(e){n([e])});if(1==l.nodeType&&l.hasChildNodes()&&(l=l.childNodes[u]),1==c.nodeType&&c.hasChildNodes()&&(c=a(c,d)),l==c)return n(r([l]));for(f=e.findCommonAncestor(l,c),g=l;g;g=g.parentNode){if(g===c)return s(l,f,!0);if(g===f)break}for(g=c;g;g=g.parentNode){if(g===l)return s(c,f);if(g===f)break}p=o(l,f)||l,m=o(c,f)||c,s(l,p,!0),y=i(p==l?p:p.nextSibling,\"nextSibling\",m==c?m.nextSibling:m),y.length&&n(r(y)),s(c,m)},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset;return n==i&&3==n.nodeType?r>0&&r<n.nodeValue.length&&(i=t(n,r),n=i.previousSibling,o>r?(o-=r,n=i=t(i,o).previousSibling,o=i.nodeValue.length,r=0):o=0):(3==n.nodeType&&r>0&&r<n.nodeValue.length&&(n=t(n,r),r=0),3==i.nodeType&&o>0&&o<i.nodeValue.length&&(i=t(i,o).previousSibling,o=i.nodeValue.length)),{startContainer:n,startOffset:r,endContainer:i,endOffset:o}},this.normalize=function(n){function r(r){function a(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function s(n,r){for(var i=new t(n,e.getParent(n.parentNode,e.isBlock)||m);n=i[r?\"prev\":\"next\"]();)if(\"BR\"===n.nodeName)return!0}function l(e){for(;e&&e!=m;){if(g(e))return!0;e=e.parentNode}return!1}function u(e,t){return e.previousSibling&&e.previousSibling.nodeName==t}function d(n,r){var a,s,l;if(r=r||f,l=e.getParent(r.parentNode,e.isBlock)||m,n&&\"BR\"==r.nodeName&&x&&e.isEmpty(l))return f=r.parentNode,p=e.nodeIndex(r),void(i=!0);for(a=new t(r,l);y=a[n?\"prev\":\"next\"]();){if(\"false\"===e.getContentEditableParent(y)||c(y,e.getRoot()))return;if(3===y.nodeType&&y.nodeValue.length>0)return f=y,p=n?y.nodeValue.length:0,void(i=!0);if(e.isBlock(y)||b[y.nodeName.toLowerCase()])return;s=y}o&&s&&(f=s,i=!0,p=0)}var f,p,h,m=e.getRoot(),y,b,C,x;if(f=n[(r?\"start\":\"end\")+\"Container\"],p=n[(r?\"start\":\"end\")+\"Offset\"],x=1==f.nodeType&&p===f.childNodes.length,b=e.schema.getNonEmptyElements(),C=r,!v(f)){if(1==f.nodeType&&p>f.childNodes.length-1&&(C=!1),9===f.nodeType&&(f=e.getRoot(),p=0),f===m){if(C&&(y=f.childNodes[p>0?p-1:0])){if(v(y))return;if(b[y.nodeName]||\"TABLE\"==y.nodeName)return}if(f.hasChildNodes()){if(p=Math.min(!C&&p>0?p-1:p,f.childNodes.length-1),f=f.childNodes[p],p=0,!o&&f===m.lastChild&&\"TABLE\"===f.nodeName)return;if(l(f)||v(f))return;if(f.hasChildNodes()&&!/TABLE/.test(f.nodeName)){y=f,h=new t(f,m);do{if(g(y)||v(y)){i=!1;break}if(3===y.nodeType&&y.nodeValue.length>0){p=C?0:y.nodeValue.length,f=y,i=!0;break}if(b[y.nodeName.toLowerCase()]&&!a(y)){p=e.nodeIndex(y),f=y.parentNode,\"IMG\"!=y.nodeName||C||p++,i=!0;break}}while(y=C?h.next():h.prev())}}}o&&(3===f.nodeType&&0===p&&d(!0),1===f.nodeType&&(y=f.childNodes[p],y||(y=f.childNodes[p-1]),!y||\"BR\"!==y.nodeName||u(y,\"A\")||s(y)||s(y,!0)||d(!0,y))),C&&!o&&3===f.nodeType&&p===f.nodeValue.length&&d(!1),i&&n[\"set\"+(r?\"Start\":\"End\")](f,p)}}var i,o;return o=n.collapsed,r(!0),o||r(),i&&o&&n.collapse(!0),i}}function f(t,n,r){var i,o,a;if(i=r.elementFromPoint(t,n),o=r.body.createTextRange(),i&&\"HTML\"!=i.tagName||(i=r.body),o.moveToElementText(i),a=e.toArray(o.getClientRects()),a=a.sort(function(e,t){return e=Math.abs(Math.max(e.top-n,e.bottom-n)),t=Math.abs(Math.max(t.top-n,t.bottom-n)),e-t}),a.length>0){n=(a[0].bottom+a[0].top)/2;try{return o.moveToPoint(t,n),o.collapse(!0),o}catch(s){}}return null}function p(e,t){var n=e&&e.parentElement?e.parentElement():null;return g(s(n,t,o))?null:e}var h=e.each,m=n.isContentEditableTrue,g=n.isContentEditableFalse,v=i.isCaretContainer;return d.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},d.getCaretRangeFromPoint=function(e,t,n){var r,i;if(n.caretPositionFromPoint)i=n.caretPositionFromPoint(e,t),r=n.createRange(),r.setStart(i.offsetNode,i.offset),r.collapse(!0);else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(n.body.createTextRange){r=n.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r=f(e,t,n)}return p(r,n.body)}return r},d.getSelectedNode=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset==n+1?t.childNodes[n]:null},d.getNode=function(e,t){return 1==e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},d}),r(R,[T,d,c],function(e,t,n){return function(r){function i(e){var t,n;if(n=r.$(e).parentsUntil(r.getBody()).add(e),n.length===a.length){for(t=n.length;t>=0&&n[t]===a[t];t--);if(t===-1)return a=n,!0}return a=n,!1}var o,a=[];\"onselectionchange\"in r.getDoc()||r.on(\"NodeChange Click MouseUp KeyUp Focus\",function(t){var n,i;n=r.selection.getRng(),i={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset},\"nodechange\"!=t.type&&e.compareRanges(i,o)||r.fire(\"SelectionChange\"),o=i}),r.on(\"contextmenu\",function(){r.fire(\"SelectionChange\")}),r.on(\"SelectionChange\",function(){var e=r.selection.getStart(!0);!t.range&&r.selection.isCollapsed()||!i(e)&&r.dom.isChildOf(e,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on(\"MouseUp\",function(e){e.isDefaultPrevented()||(\"IMG\"==r.selection.getNode().nodeName?n.setEditorTimeout(r,function(){r.nodeChanged()}):r.nodeChanged())}),this.nodeChanged=function(e){var t=r.selection,n,i,o;r.initialized&&t&&!r.settings.disable_nodechange&&!r.readonly&&(o=r.getBody(),n=t.getStart()||o,n.ownerDocument==r.getDoc()&&r.dom.isChildOf(n,o)||(n=o),\"IMG\"==n.nodeName&&t.isCollapsed()&&(n=n.parentNode),i=[],r.dom.getParent(n,function(e){return e===o||void i.push(e)}),e=e||{},e.element=n,e.parents=i,r.fire(\"NodeChange\",e))}}}),r(A,[],function(){function e(e,t,n){var r,i,o=n?\"lastChild\":\"firstChild\",a=n?\"prev\":\"next\";if(e[o])return e[o];if(e!==t){if(r=e[a])return r;for(i=e.parent;i&&i!==t;i=i.parent)if(r=i[a])return r}}function t(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var n=/^[ \\t\\r\\n]*$/,r={\"#text\":3,\"#comment\":8,\"#cdata\":4,\"#pi\":7,\"#doctype\":10,\"#document-fragment\":11};return t.prototype={replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n=this,r,i,o;if(\"string\"!=typeof e){for(i in e)n.attr(i,e[i]);return n}if(r=n.attributes){if(t!==o){if(null===t){if(e in r.map)for(delete r.map[e],i=r.length;i--;)if(r[i].name===e)return r=r.splice(i,1),n;return n}if(e in r.map){for(i=r.length;i--;)if(r[i].name===e){r[i].value=t;break}}else r.push({name:e,value:t});return r.map[e]=t,n}return r.map[e]}},clone:function(){var e=this,n=new t(e.name,e.type),r,i,o,a,s;if(o=e.attributes){for(s=[],s.map={},r=0,i=o.length;r<i;r++)a=o[r],\"id\"!==a.name&&(s[s.length]={name:a.name,value:a.value},s.map[a.name]=a.value);n.attributes=s}return n.value=e.value,n.shortEnded=e.shortEnded,n},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e=this,t,n;for(t=e.firstChild;t;)n=t.next,e.insert(t,e,!0),t=n;e.remove()},remove:function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},append:function(e){var t=this,n;return e.parent&&e.remove(),n=t.lastChild,n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e},insert:function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},getAll:function(t){var n=this,r,i=[];for(r=n.firstChild;r;r=e(r,n))r.name===t&&i.push(r);return i},empty:function(){var t=this,n,r,i;if(t.firstChild){for(n=[],i=t.firstChild;i;i=e(i,t))n.push(i);for(r=n.length;r--;)i=n[r],i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}return t.firstChild=t.lastChild=null,t},isEmpty:function(t,r){var i=this,o=i.firstChild,a,s;if(r=r||{},o)do{if(1===o.type){if(o.attributes.map[\"data-mce-bogus\"])continue;if(t[o.name])return!1;for(a=o.attributes.length;a--;)if(s=o.attributes[a].name,\"name\"===s||0===s.indexOf(\"data-mce-bookmark\"))return!1}if(8===o.type)return!1;if(3===o.type&&!n.test(o.value))return!1;if(3===o.type&&o.parent&&r[o.parent.name]&&n.test(o.value))return!1}while(o=e(o,i));return!0},walk:function(t){return e(this,null,t)}},t.create=function(e,n){var i,o;if(i=new t(e,r[e]||1),n)for(o in n)i.attr(o,n[o]);return i},t}),r(B,[m],function(e){function t(t,n){return t=e.trim(t),t?t.split(n||\" \"):[]}function n(e){function n(e,n,r){function i(e,t){var n={},r,i;for(r=0,i=e.length;r<i;r++)n[e[r]]=t||{};return n}var s,u,c;for(r=r||[],n=n||\"\",\"string\"==typeof r&&(r=t(r)),e=t(e),s=e.length;s--;)u=t([l,n].join(\" \")),c={attributes:i(u),attributesOrder:u,children:i(r,o)},a[e[s]]=c}function r(e,n){var r,i,o,s;for(e=t(e),r=e.length,n=t(n);r--;)for(i=a[e[r]],o=0,s=n.length;o<s;o++)i.attributes[n[o]]={},i.attributesOrder.push(n[o])}var a={},l,u,c,d,f,p;return i[e]?i[e]:(l=\"id accesskey class dir lang style tabindex title\",u=\"address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul\",c=\"a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment\",\"html4\"!=e&&(l+=\" contenteditable contextmenu draggable dropzone hidden spellcheck translate\",u+=\" article aside details dialog figure header footer hgroup section nav\",c+=\" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen\"),\"html5-strict\"!=e&&(l+=\" xml:lang\",p=\"acronym applet basefont big font strike tt\",c=[c,p].join(\" \"),s(t(p),function(e){n(e,\"\",c)}),f=\"center dir isindex noframes\",u=[u,f].join(\" \"),d=[u,c].join(\" \"),s(t(f),function(e){n(e,\"\",d)})),d=d||[u,c].join(\" \"),n(\"html\",\"manifest\",\"head body\"),n(\"head\",\"\",\"base command link meta noscript script style title\"),n(\"title hr noscript br\"),n(\"base\",\"href target\"),n(\"link\",\"href rel media hreflang type sizes hreflang\"),n(\"meta\",\"name http-equiv content charset\"),n(\"style\",\"media type scoped\"),n(\"script\",\"src async defer type charset\"),n(\"body\",\"onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload\",d),n(\"address dt dd div caption\",\"\",d),n(\"h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn\",\"\",c),n(\"blockquote\",\"cite\",d),n(\"ol\",\"reversed start type\",\"li\"),n(\"ul\",\"\",\"li\"),n(\"li\",\"value\",d),n(\"dl\",\"\",\"dt dd\"),n(\"a\",\"href target rel media hreflang type\",c),n(\"q\",\"cite\",c),n(\"ins del\",\"cite datetime\",d),n(\"img\",\"src sizes srcset alt usemap ismap width height\"),n(\"iframe\",\"src name width height\",d),n(\"embed\",\"src type width height\"),n(\"object\",\"data type typemustmatch name usemap form width height\",[d,\"param\"].join(\" \")),n(\"param\",\"name value\"),n(\"map\",\"name\",[d,\"area\"].join(\" \")),n(\"area\",\"alt coords shape href target rel media hreflang type\"),n(\"table\",\"border\",\"caption colgroup thead tfoot tbody tr\"+(\"html4\"==e?\" col\":\"\")),n(\"colgroup\",\"span\",\"col\"),n(\"col\",\"span\"),n(\"tbody thead tfoot\",\"\",\"tr\"),n(\"tr\",\"\",\"td th\"),n(\"td\",\"colspan rowspan headers\",d),n(\"th\",\"colspan rowspan headers scope abbr\",d),n(\"form\",\"accept-charset action autocomplete enctype method name novalidate target\",d),n(\"fieldset\",\"disabled form name\",[d,\"legend\"].join(\" \")),n(\"label\",\"form for\",c),n(\"input\",\"accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width\"),n(\"button\",\"disabled form formaction formenctype formmethod formnovalidate formtarget name type value\",\"html4\"==e?d:c),n(\"select\",\"disabled form multiple name required size\",\"option optgroup\"),n(\"optgroup\",\"disabled label\",\"option\"),n(\"option\",\"disabled label selected value\"),n(\"textarea\",\"cols dirname disabled form maxlength name readonly required rows wrap\"),n(\"menu\",\"type label\",[d,\"li\"].join(\" \")),n(\"noscript\",\"\",d),\"html4\"!=e&&(n(\"wbr\"),n(\"ruby\",\"\",[c,\"rt rp\"].join(\" \")),n(\"figcaption\",\"\",d),n(\"mark rt rp summary bdi\",\"\",c),n(\"canvas\",\"width height\",d),n(\"video\",\"src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered\",[d,\"track source\"].join(\" \")),n(\"audio\",\"src crossorigin preload autoplay mediagroup loop muted controls buffered volume\",[d,\"track source\"].join(\" \")),n(\"picture\",\"\",\"img source\"),n(\"source\",\"src srcset type media sizes\"),n(\"track\",\"kind src srclang label default\"),n(\"datalist\",\"\",[c,\"option\"].join(\" \")),n(\"article section nav aside header footer\",\"\",d),n(\"hgroup\",\"\",\"h1 h2 h3 h4 h5 h6\"),n(\"figure\",\"\",[d,\"figcaption\"].join(\" \")),n(\"time\",\"datetime\",c),n(\"dialog\",\"open\",d),n(\"command\",\"type label icon disabled checked radiogroup command\"),n(\"output\",\"for form name\",c),n(\"progress\",\"value max\",c),n(\"meter\",\"value min max low high optimum\",c),n(\"details\",\"open\",[d,\"summary\"].join(\" \")),n(\"keygen\",\"autofocus challenge disabled form keytype name\")),\"html5-strict\"!=e&&(r(\"script\",\"language xml:space\"),r(\"style\",\"xml:space\"),r(\"object\",\"declare classid code codebase codetype archive standby align border hspace vspace\"),r(\"embed\",\"align name hspace vspace\"),r(\"param\",\"valuetype type\"),r(\"a\",\"charset name rev shape coords\"),r(\"br\",\"clear\"),r(\"applet\",\"codebase archive code object alt name width height align hspace vspace\"),r(\"img\",\"name longdesc align border hspace vspace\"),r(\"iframe\",\"longdesc frameborder marginwidth marginheight scrolling align\"),r(\"font basefont\",\"size color face\"),r(\"input\",\"usemap align\"),r(\"select\",\"onchange\"),r(\"textarea\"),r(\"h1 h2 h3 h4 h5 h6 div p legend caption\",\"align\"),r(\"ul\",\"type compact\"),r(\"li\",\"type\"),r(\"ol dl menu dir\",\"compact\"),r(\"pre\",\"width xml:space\"),r(\"hr\",\"align noshade size width\"),r(\"isindex\",\"prompt\"),r(\"table\",\"summary width frame rules cellspacing cellpadding align bgcolor\"),r(\"col\",\"width align char charoff valign\"),r(\"colgroup\",\"width align char charoff valign\"),r(\"thead\",\"align char charoff valign\"),r(\"tr\",\"align char charoff valign bgcolor\"),r(\"th\",\"axis align char charoff valign nowrap bgcolor width height\"),r(\"form\",\"accept\"),r(\"td\",\"abbr axis scope align char charoff valign nowrap bgcolor width height\"),r(\"tfoot\",\"align char charoff valign\"),r(\"tbody\",\"align char charoff valign\"),r(\"area\",\"nohref\"),r(\"body\",\"background bgcolor text link vlink alink\")),\"html4\"!=e&&(r(\"input button select textarea\",\"autofocus\"),r(\"input textarea\",\"placeholder\"),r(\"a\",\"download\"),\nr(\"link script img\",\"crossorigin\"),r(\"iframe\",\"sandbox seamless allowfullscreen\")),s(t(\"a form meter progress dfn\"),function(e){a[e]&&delete a[e].children[e]}),delete a.caption.children.table,delete a.script,i[e]=a,a)}function r(e,t){var n;return e&&(n={},\"string\"==typeof e&&(e={\"*\":e}),s(e,function(e,r){n[r]=n[r.toUpperCase()]=\"map\"==t?a(e,/[, ]/):u(e,/[, ]/)})),n}var i={},o={},a=e.makeMap,s=e.each,l=e.extend,u=e.explode,c=e.inArray;return function(e){function o(t,n,r){var o=e[t];return o?o=a(o,/[, ]/,a(o.toUpperCase(),/[, ]/)):(o=i[t],o||(o=a(n,\" \",a(n.toUpperCase(),\" \")),o=l(o,r),i[t]=o)),o}function d(e){return new RegExp(\"^\"+e.replace(/([?+*])/g,\".$1\")+\"$\")}function f(e){var n,r,i,o,s,l,u,f,p,h,m,g,v,b,x,w,E,N,_,S=/^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)\\])?$/,k=/^([!\\-])?(\\w+::\\w+|[^=:<]+)?(?:([=:<])(.*))?$/,T=/[*?+]/;if(e)for(e=t(e,\",\"),y[\"@\"]&&(w=y[\"@\"].attributes,E=y[\"@\"].attributesOrder),n=0,r=e.length;n<r;n++)if(s=S.exec(e[n])){if(b=s[1],p=s[2],x=s[3],f=s[5],g={},v=[],l={attributes:g,attributesOrder:v},\"#\"===b&&(l.paddEmpty=!0),\"-\"===b&&(l.removeEmpty=!0),\"!\"===s[4]&&(l.removeEmptyAttrs=!0),w){for(N in w)g[N]=w[N];v.push.apply(v,E)}if(f)for(f=t(f,\"|\"),i=0,o=f.length;i<o;i++)if(s=k.exec(f[i])){if(u={},m=s[1],h=s[2].replace(/::/g,\":\"),b=s[3],_=s[4],\"!\"===m&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(h),u.required=!0),\"-\"===m){delete g[h],v.splice(c(v,h),1);continue}b&&(\"=\"===b&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:h,value:_}),u.defaultValue=_),\":\"===b&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:h,value:_}),u.forcedValue=_),\"<\"===b&&(u.validValues=a(_,\"?\"))),T.test(h)?(l.attributePatterns=l.attributePatterns||[],u.pattern=d(h),l.attributePatterns.push(u)):(g[h]||v.push(h),g[h]=u)}w||\"@\"!=p||(w=g,E=v),x&&(l.outputName=p,y[x]=l),T.test(p)?(l.pattern=d(p),C.push(l)):y[p]=l}}function p(e){y={},C=[],f(e),s(E,function(e,t){b[t]=e.children})}function h(e){var n=/^(~)?(.+)$/;e&&(i.text_block_elements=i.block_elements=null,s(t(e,\",\"),function(e){var t=n.exec(e),r=\"~\"===t[1],i=r?\"span\":\"div\",o=t[2];if(b[o]=b[i],M[o]=i,r||(R[o.toUpperCase()]={},R[o]={}),!y[o]){var a=y[i];a=l({},a),delete a.removeEmptyAttrs,delete a.removeEmpty,y[o]=a}s(b,function(e,t){e[i]&&(b[t]=e=l({},b[t]),e[o]=e[i])})}))}function m(n){var r=/^([+\\-]?)(\\w+)\\[([^\\]]+)\\]$/;i[e.schema]=null,n&&s(t(n,\",\"),function(e){var n=r.exec(e),i,o;n&&(o=n[1],i=o?b[n[2]]:b[n[2]]={\"#comment\":{}},i=b[n[2]],s(t(n[3],\"|\"),function(e){\"-\"===o?delete i[e]:i[e]={}}))})}function g(e){var t=y[e],n;if(t)return t;for(n=C.length;n--;)if(t=C[n],t.pattern.test(e))return t}var v=this,y={},b={},C=[],x,w,E,N,_,S,k,T,R,A,B,D,L,M={},P={};e=e||{},E=n(e.schema),e.verify_html===!1&&(e.valid_elements=\"*[*]\"),x=r(e.valid_styles),w=r(e.invalid_styles,\"map\"),T=r(e.valid_classes,\"map\"),N=o(\"whitespace_elements\",\"pre script noscript style textarea video audio iframe object code\"),_=o(\"self_closing_elements\",\"colgroup dd dt li option p td tfoot th thead tr\"),S=o(\"short_ended_elements\",\"area base basefont br col frame hr img input isindex link meta param embed source wbr track\"),k=o(\"boolean_attributes\",\"checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls\"),A=o(\"non_empty_elements\",\"td th iframe video audio object script pre code\",S),B=o(\"move_caret_before_on_enter_elements\",\"table\",A),D=o(\"text_block_elements\",\"h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure\"),R=o(\"block_elements\",\"hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption\",D),L=o(\"text_inline_elements\",\"span strong b em i font strike u var cite dfn code mark q sup sub samp\"),s((e.special||\"script noscript style textarea\").split(\" \"),function(e){P[e]=new RegExp(\"</\"+e+\"[^>]*>\",\"gi\")}),e.valid_elements?p(e.valid_elements):(s(E,function(e,t){y[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},b[t]=e.children}),\"html5\"!=e.schema&&s(t(\"strong/b em/i\"),function(e){e=t(e,\"/\"),y[e[1]].outputName=e[0]}),s(t(\"ol ul sub sup blockquote span font a table tbody tr strong em b i\"),function(e){y[e]&&(y[e].removeEmpty=!0)}),s(t(\"p h1 h2 h3 h4 h5 h6 th td pre div address caption\"),function(e){y[e].paddEmpty=!0}),s(t(\"span\"),function(e){y[e].removeEmptyAttrs=!0})),h(e.custom_elements),m(e.valid_children),f(e.extended_valid_elements),m(\"+ol[ul|ol],+ul[ul|ol]\"),s({dd:\"dl\",dt:\"dl\",li:\"ul ol\",td:\"tr\",th:\"tr\",tr:\"tbody thead tfoot\",tbody:\"table\",thead:\"table\",tfoot:\"table\",legend:\"fieldset\",area:\"map\",param:\"video audio object\"},function(e,n){y[n]&&(y[n].parentsRequired=t(e))}),e.invalid_elements&&s(u(e.invalid_elements),function(e){y[e]&&delete y[e]}),g(\"span\")||f(\"span[!data-mce-type|*]\"),v.children=b,v.getValidStyles=function(){return x},v.getInvalidStyles=function(){return w},v.getValidClasses=function(){return T},v.getBoolAttrs=function(){return k},v.getBlockElements=function(){return R},v.getTextBlockElements=function(){return D},v.getTextInlineElements=function(){return L},v.getShortEndedElements=function(){return S},v.getSelfClosingElements=function(){return _},v.getNonEmptyElements=function(){return A},v.getMoveCaretBeforeOnEnterElements=function(){return B},v.getWhiteSpaceElements=function(){return N},v.getSpecialElements=function(){return P},v.isValidChild=function(e,t){var n=b[e];return!(!n||!n[t])},v.isValid=function(e,t){var n,r,i=g(e);if(i){if(!t)return!0;if(i.attributes[t])return!0;if(n=i.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},v.getElementRule=g,v.getCustomElements=function(){return M},v.addValidElements=f,v.setValidElements=p,v.addCustomElements=h,v.addValidChildren=m,v.elements=y}}),r(D,[B,C,m],function(e,t,n){function r(e,t,n){var r=1,i,o,a,s;for(s=e.getShortEndedElements(),a=/<([!?\\/])?([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"\\'>]+(?:(?:\"[^\"]*\")|(?:\\'[^\\']*\\')|[^>]*))*|\\/|\\s+)>/g,a.lastIndex=i=n;o=a.exec(t);){if(i=a.lastIndex,\"/\"===o[1])r--;else if(!o[1]){if(o[2]in s)continue;r++}if(0===r)break}return i}function i(i,a){function s(){}var l=this;i=i||{},l.schema=a=a||new e,i.fix_self_closing!==!1&&(i.fix_self_closing=!0),o(\"comment cdata text start end pi doctype\".split(\" \"),function(e){e&&(l[e]=i[e]||s)}),l.parse=function(e){function o(e){var t,n;for(t=p.length;t--&&p[t].name!==e;);if(t>=0){for(n=p.length-1;n>=t;n--)e=p[n],e.valid&&l.end(e.name);p.length=t}}function s(e,t,n,r,o){var a,s,l=/[\\s\\u0000-\\u001F]+/g;if(t=t.toLowerCase(),n=t in x?t:z(n||r||o||\"\"),E&&!y&&0!==t.indexOf(\"data-\")){if(a=T[t],!a&&R){for(s=R.length;s--&&(a=R[s],!a.pattern.test(t)););s===-1&&(a=null)}if(!a)return;if(a.validValues&&!(n in a.validValues))return}if(W[t]&&!i.allow_script_urls){var u=n.replace(l,\"\");try{u=decodeURIComponent(u)}catch(c){u=unescape(u)}if(V.test(u))return;if(!i.allow_html_data_urls&&$.test(u)&&!/^data:image\\//i.test(u))return}h.map[t]=n,h.push({name:t,value:n})}var l=this,u,c=0,d,f,p=[],h,m,g,v,y,b,C,x,w,E,N,_,S,k,T,R,A,B,D,L,M,P,O,H,I,F=0,z=t.decode,U,W=n.makeMap(\"src,href,data,background,formaction,poster\"),V=/((java|vb)script|mhtml):/i,$=/^data:/i;for(P=new RegExp(\"<(?:(?:!--([\\\\w\\\\W]*?)-->)|(?:!\\\\[CDATA\\\\[([\\\\w\\\\W]*?)\\\\]\\\\]>)|(?:!DOCTYPE([\\\\w\\\\W]*?)>)|(?:\\\\?([^\\\\s\\\\/<>]+) ?([\\\\w\\\\W]*?)[?/]>)|(?:\\\\/([^>]+)>)|(?:([A-Za-z0-9\\\\-_\\\\:\\\\.]+)((?:\\\\s+[^\\\"'>]+(?:(?:\\\"[^\\\"]*\\\")|(?:'[^']*')|[^>]*))*|\\\\/|\\\\s+)>))\",\"g\"),O=/([\\w:\\-]+)(?:\\s*=\\s*(?:(?:\\\"((?:[^\\\"])*)\\\")|(?:\\'((?:[^\\'])*)\\')|([^>\\s]+)))?/g,C=a.getShortEndedElements(),M=i.self_closing_elements||a.getSelfClosingElements(),x=a.getBoolAttrs(),E=i.validate,b=i.remove_internals,U=i.fix_self_closing,H=a.getSpecialElements();u=P.exec(e);){if(c<u.index&&l.text(z(e.substr(c,u.index-c))),d=u[6])d=d.toLowerCase(),\":\"===d.charAt(0)&&(d=d.substr(1)),o(d);else if(d=u[7]){if(d=d.toLowerCase(),\":\"===d.charAt(0)&&(d=d.substr(1)),w=d in C,U&&M[d]&&p.length>0&&p[p.length-1].name===d&&o(d),!E||(N=a.getElementRule(d))){if(_=!0,E&&(T=N.attributes,R=N.attributePatterns),(k=u[8])?(y=k.indexOf(\"data-mce-type\")!==-1,y&&b&&(_=!1),h=[],h.map={},k.replace(O,s)):(h=[],h.map={}),E&&!y){if(A=N.attributesRequired,B=N.attributesDefault,D=N.attributesForced,L=N.removeEmptyAttrs,L&&!h.length&&(_=!1),D)for(m=D.length;m--;)S=D[m],v=S.name,I=S.value,\"{$uid}\"===I&&(I=\"mce_\"+F++),h.map[v]=I,h.push({name:v,value:I});if(B)for(m=B.length;m--;)S=B[m],v=S.name,v in h.map||(I=S.value,\"{$uid}\"===I&&(I=\"mce_\"+F++),h.map[v]=I,h.push({name:v,value:I}));if(A){for(m=A.length;m--&&!(A[m]in h.map););m===-1&&(_=!1)}if(S=h.map[\"data-mce-bogus\"]){if(\"all\"===S){c=r(a,e,P.lastIndex),P.lastIndex=c;continue}_=!1}}_&&l.start(d,h,w)}else _=!1;if(f=H[d]){f.lastIndex=c=u.index+u[0].length,(u=f.exec(e))?(_&&(g=e.substr(c,u.index-c)),c=u.index+u[0].length):(g=e.substr(c),c=e.length),_&&(g.length>0&&l.text(g,!0),l.end(d)),P.lastIndex=c;continue}w||(k&&k.indexOf(\"/\")==k.length-1?_&&l.end(d):p.push({name:d,valid:_}))}else(d=u[1])?(\">\"===d.charAt(0)&&(d=\" \"+d),i.allow_conditional_comments||\"[if\"!==d.substr(0,3).toLowerCase()||(d=\" \"+d),l.comment(d)):(d=u[2])?l.cdata(d):(d=u[3])?l.doctype(d):(d=u[4])&&l.pi(d,u[5]);c=u.index+u[0].length}for(c<e.length&&l.text(z(e.substr(c))),m=p.length-1;m>=0;m--)d=p[m],d.valid&&l.end(d.name)}}var o=n.each;return i.findEndTag=r,i}),r(L,[A,B,D,m],function(e,t,n,r){var i=r.makeMap,o=r.each,a=r.explode,s=r.extend,l=function(t,n){t.padd_empty_with_br?n.empty().append(new e(\"br\",\"1\")).shortEnded=!0:n.empty().append(new e(\"#text\",\"3\")).value=\"\\xa0\"},u=function(e,t){return e&&e.firstChild===e.lastChild&&e.firstChild.name===t};return function(c,d){function f(t){var n,r,o,a,s,l,c,f,h,m,g,v,y,b,C,x;for(v=i(\"tr,td,th,tbody,thead,tfoot,table\"),m=d.getNonEmptyElements(),g=d.getWhiteSpaceElements(),y=d.getTextBlockElements(),b=d.getSpecialElements(),n=0;n<t.length;n++)if(r=t[n],r.parent&&!r.fixed)if(y[r.name]&&\"li\"==r.parent.name){for(C=r.next;C&&y[C.name];)C.name=\"li\",C.fixed=!0,r.parent.insert(C,r.parent),C=C.next;r.unwrap(r)}else{for(a=[r],o=r.parent;o&&!d.isValidChild(o.name,r.name)&&!v[o.name];o=o.parent)a.push(o);if(o&&a.length>1){for(a.reverse(),s=l=p.filterNode(a[0].clone()),h=0;h<a.length-1;h++){for(d.isValidChild(l.name,a[h].name)?(c=p.filterNode(a[h].clone()),l.append(c)):c=l,f=a[h].firstChild;f&&f!=a[h+1];)x=f.next,c.append(f),f=x;l=c}s.isEmpty(m,g)?o.insert(r,a[0],!0):(o.insert(s,a[0],!0),o.insert(r,s)),o=a[0],(o.isEmpty(m,g)||u(o,\"br\"))&&o.empty().remove()}else if(r.parent){if(\"li\"===r.name){if(C=r.prev,C&&(\"ul\"===C.name||\"ul\"===C.name)){C.append(r);continue}if(C=r.next,C&&(\"ul\"===C.name||\"ul\"===C.name)){C.insert(r,C.firstChild,!0);continue}r.wrap(p.filterNode(new e(\"ul\",1)));continue}d.isValidChild(r.parent.name,\"div\")&&d.isValidChild(\"div\",r.name)?r.wrap(p.filterNode(new e(\"div\",1))):b[r.name]?r.empty().remove():r.unwrap()}}}var p=this,h={},m=[],g={},v={};c=c||{},c.validate=!(\"validate\"in c)||c.validate,c.root_name=c.root_name||\"body\",p.schema=d=d||new t,p.filterNode=function(e){var t,n,r;n in h&&(r=g[n],r?r.push(e):g[n]=[e]),t=m.length;for(;t--;)n=m[t].name,n in e.attributes.map&&(r=v[n],r?r.push(e):v[n]=[e]);return e},p.addNodeFilter=function(e,t){o(a(e),function(e){var n=h[e];n||(h[e]=n=[]),n.push(t)})},p.addAttributeFilter=function(e,t){o(a(e),function(e){var n;for(n=0;n<m.length;n++)if(m[n].name===e)return void m[n].callbacks.push(t);m.push({name:e,callbacks:[t]})})},p.parse=function(t,r){function o(){function e(e){e&&(t=e.firstChild,t&&3==t.type&&(t.value=t.value.replace(A,\"\")),t=e.lastChild,t&&3==t.type&&(t.value=t.value.replace(L,\"\")))}var t=b.firstChild,n,r;if(d.isValidChild(b.name,F.toLowerCase())){for(;t;)n=t.next,3==t.type||1==t.type&&\"p\"!==t.name&&!R[t.name]&&!t.attr(\"data-mce-type\")?r?r.append(t):(r=a(F,1),r.attr(c.forced_root_block_attrs),b.insert(r,t),r.append(t)):(e(r),r=null),t=n;e(r)}}function a(t,n){var r=new e(t,n),i;return t in h&&(i=g[t],i?i.push(r):g[t]=[r]),r}function u(e){var t,n,r,i,o=d.getBlockElements();for(t=e.prev;t&&3===t.type;){if(r=t.value.replace(L,\"\"),r.length>0)return void(t.value=r);if(n=t.next){if(3==n.type&&n.value.length){t=t.prev;continue}if(!o[n.name]&&\"script\"!=n.name&&\"style\"!=n.name){t=t.prev;continue}}i=t.prev,t.remove(),t=i}}function p(e){var t,n={};for(t in e)\"li\"!==t&&\"p\"!=t&&(n[t]=e[t]);return n}var y,b,C,x,w,E,N,_,S,k,T,R,A,B=[],D,L,M,P,O,H,I,F;if(r=r||{},g={},v={},R=s(i(\"script,style,head,html,body,title,meta,param\"),d.getBlockElements()),I=d.getNonEmptyElements(),H=d.children,T=c.validate,F=\"forced_root_block\"in r?r.forced_root_block:c.forced_root_block,O=d.getWhiteSpaceElements(),A=/^[ \\t\\r\\n]+/,L=/[ \\t\\r\\n]+$/,M=/[ \\t\\r\\n]+/g,P=/^[ \\t\\r\\n]+$/,y=new n({validate:T,allow_script_urls:c.allow_script_urls,allow_conditional_comments:c.allow_conditional_comments,self_closing_elements:p(d.getSelfClosingElements()),cdata:function(e){C.append(a(\"#cdata\",4)).value=e},text:function(e,t){var n;D||(e=e.replace(M,\" \"),C.lastChild&&R[C.lastChild.name]&&(e=e.replace(A,\"\"))),0!==e.length&&(n=a(\"#text\",3),n.raw=!!t,C.append(n).value=e)},comment:function(e){C.append(a(\"#comment\",8)).value=e},pi:function(e,t){C.append(a(e,7)).value=t,u(C)},doctype:function(e){var t;t=C.append(a(\"#doctype\",10)),t.value=e,u(C)},start:function(e,t,n){var r,i,o,s,l;if(o=T?d.getElementRule(e):{}){for(r=a(o.outputName||e,1),r.attributes=t,r.shortEnded=n,C.append(r),l=H[C.name],l&&H[r.name]&&!l[r.name]&&B.push(r),i=m.length;i--;)s=m[i].name,s in t.map&&(S=v[s],S?S.push(r):v[s]=[r]);R[e]&&u(r),n||(C=r),!D&&O[e]&&(D=!0)}},end:function(e){var t,n,r,i,o;if(n=T?d.getElementRule(e):{}){if(R[e]&&!D){if(t=C.firstChild,t&&3===t.type)if(r=t.value.replace(A,\"\"),r.length>0)t.value=r,t=t.next;else for(i=t.next,t.remove(),t=i;t&&3===t.type;)r=t.value,i=t.next,(0===r.length||P.test(r))&&(t.remove(),t=i),t=i;if(t=C.lastChild,t&&3===t.type)if(r=t.value.replace(L,\"\"),r.length>0)t.value=r,t=t.prev;else for(i=t.prev,t.remove(),t=i;t&&3===t.type;)r=t.value,i=t.prev,(0===r.length||P.test(r))&&(t.remove(),t=i),t=i}if(D&&O[e]&&(D=!1),(n.removeEmpty||n.paddEmpty)&&C.isEmpty(I,O))if(n.paddEmpty)l(c,C);else if(!C.attributes.map.name&&!C.attributes.map.id)return o=C.parent,R[C.name]?C.empty().remove():C.unwrap(),void(C=o);C=C.parent}}},d),b=C=new e(r.context||c.root_name,11),y.parse(t),T&&B.length&&(r.context?r.invalid=!0:f(B)),F&&(\"body\"==b.name||r.isRootContent)&&o(),!r.invalid){for(k in g){for(S=h[k],x=g[k],N=x.length;N--;)x[N].parent||x.splice(N,1);for(w=0,E=S.length;w<E;w++)S[w](x,k,r)}for(w=0,E=m.length;w<E;w++)if(S=m[w],S.name in v){for(x=v[S.name],N=x.length;N--;)x[N].parent||x.splice(N,1);for(N=0,_=S.callbacks.length;N<_;N++)S.callbacks[N](x,S.name,r)}}return b},c.remove_trailing_brs&&p.addNodeFilter(\"br\",function(t){var n,r=t.length,i,o=s({},d.getBlockElements()),a=d.getNonEmptyElements(),u,f,p,h,m=d.getNonEmptyElements(),g,v;for(o.body=1,n=0;n<r;n++)if(i=t[n],u=i.parent,o[i.parent.name]&&i===u.lastChild){for(p=i.prev;p;){if(h=p.name,\"span\"!==h||\"bookmark\"!==p.attr(\"data-mce-type\")){if(\"br\"!==h)break;if(\"br\"===h){i=null;break}}p=p.prev}i&&(i.remove(),u.isEmpty(a,m)&&(g=d.getElementRule(u.name),g&&(g.removeEmpty?u.remove():g.paddEmpty&&l(c,u))))}else{for(f=i;u&&u.firstChild===f&&u.lastChild===f&&(f=u,!o[u.name]);)u=u.parent;f===u&&c.padd_empty_with_br!==!0&&(v=new e(\"#text\",3),v.value=\"\\xa0\",i.replace(v))}}),c.allow_unsafe_link_target||p.addAttributeFilter(\"href\",function(e){function t(e){return e=n(e),e?[e,l].join(\" \"):l}function n(e){var t=new RegExp(\"(\"+l.replace(\" \",\"|\")+\")\",\"g\");return e&&(e=r.trim(e.replace(t,\"\"))),e?e:null}function i(e,r){return r?t(e):n(e)}for(var o=e.length,a,s,l=\"noopener noreferrer\";o--;)a=e[o],s=a.attr(\"rel\"),\"a\"===a.name&&a.attr(\"rel\",i(s,\"_blank\"==a.attr(\"target\")))}),c.allow_html_in_named_anchor||p.addAttributeFilter(\"id,name\",function(e){for(var t=e.length,n,r,i,o;t--;)if(o=e[t],\"a\"===o.name&&o.firstChild&&!o.attr(\"href\")){i=o.parent,n=o.lastChild;do r=n.prev,i.insert(n,o),n=r;while(n)}}),c.fix_list_elements&&p.addNodeFilter(\"ul,ol\",function(t){for(var n=t.length,r,i;n--;)if(r=t[n],i=r.parent,\"ul\"===i.name||\"ol\"===i.name)if(r.prev&&\"li\"===r.prev.name)r.prev.append(r);else{var o=new e(\"li\",1);o.attr(\"style\",\"list-style-type: none\"),r.wrap(o)}}),c.validate&&d.getValidClasses()&&p.addAttributeFilter(\"class\",function(e){for(var t=e.length,n,r,i,o,a,s=d.getValidClasses(),l,u;t--;){for(n=e[t],r=n.attr(\"class\").split(\" \"),a=\"\",i=0;i<r.length;i++)o=r[i],u=!1,l=s[\"*\"],l&&l[o]&&(u=!0),l=s[n.name],!u&&l&&l[o]&&(u=!0),u&&(a&&(a+=\" \"),a+=o);a.length||(a=null),n.attr(\"class\",a)}})}}),r(M,[C,m],function(e,t){var n=t.makeMap;return function(t){var r=[],i,o,a,s,l;return t=t||{},i=t.indent,o=n(t.indent_before||\"\"),a=n(t.indent_after||\"\"),s=e.getEncodeFunc(t.entity_encoding||\"raw\",t.entities),l=\"html\"==t.element_format,{start:function(e,t,n){var u,c,d,f;if(i&&o[e]&&r.length>0&&(f=r[r.length-1],f.length>0&&\"\\n\"!==f&&r.push(\"\\n\")),r.push(\"<\",e),t)for(u=0,c=t.length;u<c;u++)d=t[u],r.push(\" \",d.name,'=\"',s(d.value,!0),'\"');!n||l?r[r.length]=\">\":r[r.length]=\" />\",n&&i&&a[e]&&r.length>0&&(f=r[r.length-1],f.length>0&&\"\\n\"!==f&&r.push(\"\\n\"))},end:function(e){var t;r.push(\"</\",e,\">\"),i&&a[e]&&r.length>0&&(t=r[r.length-1],t.length>0&&\"\\n\"!==t&&r.push(\"\\n\"))},text:function(e,t){e.length>0&&(r[r.length]=t?e:s(e))},cdata:function(e){r.push(\"<![CDATA[\",e,\"]]>\")},comment:function(e){r.push(\"<!--\",e,\"-->\")},pi:function(e,t){t?r.push(\"<?\",e,\" \",s(t),\"?>\"):r.push(\"<?\",e,\"?>\"),i&&r.push(\"\\n\")},doctype:function(e){r.push(\"<!DOCTYPE\",e,\">\",i?\"\\n\":\"\")},reset:function(){r.length=0},getContent:function(){return r.join(\"\").replace(/\\n$/,\"\")}}}}),r(P,[M,B],function(e,t){return function(n,r){var i=this,o=new e(n);n=n||{},n.validate=!(\"validate\"in n)||n.validate,i.schema=r=r||new t,i.writer=o,i.serialize=function(e){function t(e){var n=i[e.type],s,l,u,c,d,f,p,h,m;if(n)n(e);else{if(s=e.name,l=e.shortEnded,u=e.attributes,a&&u&&u.length>1&&(f=[],f.map={},m=r.getElementRule(e.name))){for(p=0,h=m.attributesOrder.length;p<h;p++)c=m.attributesOrder[p],c in u.map&&(d=u.map[c],f.map[c]=d,f.push({name:c,value:d}));for(p=0,h=u.length;p<h;p++)c=u[p].name,c in f.map||(d=u.map[c],f.map[c]=d,f.push({name:c,value:d}));u=f}if(o.start(e.name,u,l),!l){if(e=e.firstChild)do t(e);while(e=e.next);o.end(s)}}}var i,a;return a=n.validate,i={3:function(e){o.text(e.value,e.raw)},8:function(e){o.comment(e.value)},7:function(e){o.pi(e.name,e.value)},10:function(e){o.doctype(e.value)},4:function(e){o.cdata(e.value)},11:function(e){if(e=e.firstChild)do t(e);while(e=e.next)}},o.reset(),1!=e.type||n.inner?i[11](e):t(e),o.getContent()}}}),r(O,[w,L,D,C,P,A,B,d,m,S],function(e,t,n,r,i,o,a,s,l,u){function c(e){function t(e){return e&&\"br\"===e.name}var n,r;n=e.lastChild,t(n)&&(r=n.prev,t(r)&&(n.remove(),r.remove()))}var d=l.each,f=l.trim,p=e.DOM;return function(e,o){function h(e){var t=new RegExp([\"<span[^>]+data-mce-bogus[^>]+>[\\u200b\\ufeff]+<\\\\/span>\",\"\\\\s?(\"+x.join(\"|\")+')=\"[^\"]+\"'].join(\"|\"),\"gi\");return e=u.trim(e.replace(t,\"\"))}function m(e){var t=e,r=/<(\\w+) [^>]*data-mce-bogus=\"all\"[^>]*>/g,i,a,s,l,u,c=o.schema;for(t=h(t),u=c.getShortEndedElements();l=r.exec(t);)a=r.lastIndex,s=l[0].length,i=u[l[1]]?a:n.findEndTag(c,t,a),t=t.substring(0,a-s)+t.substring(i),r.lastIndex=a-s;return t}function g(){return m(o.getBody().innerHTML)}function v(e){l.inArray(x,e)===-1&&(C.addAttributeFilter(e,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),x.push(e))}var y,b,C,x=[\"data-mce-selected\"];return o&&(y=o.dom,b=o.schema),y=y||p,b=b||new a(e),e.entity_encoding=e.entity_encoding||\"named\",e.remove_trailing_brs=!(\"remove_trailing_brs\"in e)||e.remove_trailing_brs,C=new t(e,b),C.addAttributeFilter(\"data-mce-tabindex\",function(e,t){for(var n=e.length,r;n--;)r=e[n],r.attr(\"tabindex\",r.attributes.map[\"data-mce-tabindex\"]),r.attr(t,null)}),C.addAttributeFilter(\"src,href,style\",function(t,n){for(var r=t.length,i,o,a=\"data-mce-\"+n,s=e.url_converter,l=e.url_converter_scope,u;r--;)i=t[r],o=i.attributes.map[a],o!==u?(i.attr(n,o.length>0?o:null),i.attr(a,null)):(o=i.attributes.map[n],\"style\"===n?o=y.serializeStyle(y.parseStyle(o),i.name):s&&(o=s.call(l,o,n,i.name)),i.attr(n,o.length>0?o:null))}),C.addAttributeFilter(\"class\",function(e){for(var t=e.length,n,r;t--;)n=e[t],r=n.attr(\"class\"),r&&(r=n.attr(\"class\").replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g,\"\"),n.attr(\"class\",r.length>0?r:null))}),C.addAttributeFilter(\"data-mce-type\",function(e,t,n){for(var r=e.length,i;r--;)i=e[r],\"bookmark\"!==i.attributes.map[\"data-mce-type\"]||n.cleanup||i.remove()}),C.addNodeFilter(\"noscript\",function(e){for(var t=e.length,n;t--;)n=e[t].firstChild,n&&(n.value=r.decode(n.value))}),C.addNodeFilter(\"script,style\",function(e,t){function n(e){return e.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g,\"\\n\").replace(/^[\\r\\n]*|[\\r\\n]*$/g,\"\").replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi,\"\").replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g,\"\")}for(var r=e.length,i,o,a;r--;)i=e[r],o=i.firstChild?i.firstChild.value:\"\",\"script\"===t?(a=i.attr(\"type\"),a&&i.attr(\"type\",\"mce-no/type\"==a?null:a.replace(/^mce\\-/,\"\")),o.length>0&&(i.firstChild.value=\"// <![CDATA[\\n\"+n(o)+\"\\n// ]]>\")):o.length>0&&(i.firstChild.value=\"<!--\\n\"+n(o)+\"\\n-->\")}),C.addNodeFilter(\"#comment\",function(e){for(var t=e.length,n;t--;)n=e[t],0===n.value.indexOf(\"[CDATA[\")?(n.name=\"#cdata\",n.type=4,n.value=n.value.replace(/^\\[CDATA\\[|\\]\\]$/g,\"\")):0===n.value.indexOf(\"mce:protected \")&&(n.name=\"#text\",n.type=3,n.raw=!0,n.value=unescape(n.value).substr(14))}),C.addNodeFilter(\"xml:namespace,input\",function(e,t){for(var n=e.length,r;n--;)r=e[n],7===r.type?r.remove():1===r.type&&(\"input\"!==t||\"type\"in r.attributes.map||r.attr(\"type\",\"text\"))}),C.addAttributeFilter(\"data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize\",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:b,addNodeFilter:C.addNodeFilter,addAttributeFilter:C.addAttributeFilter,serialize:function(t,n){var r=this,o,a,l,p,h,m;return s.ie&&y.select(\"script,style,select,map\").length>0?(h=t.innerHTML,t=t.cloneNode(!1),y.setHTML(t,h)):t=t.cloneNode(!0),o=document.implementation,o.createHTMLDocument&&(a=o.createHTMLDocument(\"\"),d(\"BODY\"==t.nodeName?t.childNodes:[t],function(e){a.body.appendChild(a.importNode(e,!0))}),t=\"BODY\"!=t.nodeName?a.body.firstChild:a.body,l=y.doc,y.doc=a),n=n||{},n.format=n.format||\"html\",n.selection&&(n.forced_root_block=\"\"),n.no_events||(n.node=t,r.onPreProcess(n)),m=C.parse(f(n.getInner?t.innerHTML:y.getOuterHTML(t)),n),c(m),p=new i(e,b),n.content=p.serialize(m),n.cleanup||(n.content=u.trim(n.content),n.content=n.content.replace(/\\uFEFF/g,\"\")),n.no_events||r.onPostProcess(n),l&&(y.doc=l),n.node=null,n.content},addRules:function(e){b.addValidElements(e)},setRules:function(e){b.setValidElements(e)},onPreProcess:function(e){o&&o.fire(\"PreProcess\",e)},onPostProcess:function(e){o&&o.fire(\"PostProcess\",e)},addTempAttr:v,trimHtml:h,getTrimmedContent:g,trimContent:m}}}),r(H,[],function(){function e(e){function t(t,n){var r,i=0,o,a,s,l,u,c,d=-1,f;if(r=t.duplicate(),r.collapse(n),f=r.parentElement(),f.ownerDocument===e.dom.doc){for(;\"false\"===f.contentEditable;)f=f.parentNode;if(!f.hasChildNodes())return{node:f,inside:1};for(s=f.children,o=s.length-1;i<=o;)if(c=Math.floor((i+o)/2),l=s[c],r.moveToElementText(l),d=r.compareEndPoints(n?\"StartToStart\":\"EndToEnd\",t),d>0)o=c-1;else{if(!(d<0))return{node:l};i=c+1}if(d<0)for(l?r.collapse(!1):(r.moveToElementText(f),r.collapse(!0),l=f,a=!0),u=0;0!==r.compareEndPoints(n?\"StartToStart\":\"StartToEnd\",t)&&0!==r.move(\"character\",1)&&f==r.parentElement();)u++;else for(r.collapse(!0),u=0;0!==r.compareEndPoints(n?\"StartToStart\":\"StartToEnd\",t)&&0!==r.move(\"character\",-1)&&f==r.parentElement();)u++;return{node:l,position:d,offset:u,inside:a}}}function n(){function n(e){var n=t(o,e),r,i,s=0,l,u,c;if(r=n.node,i=n.offset,n.inside&&!r.hasChildNodes())return void a[e?\"setStart\":\"setEnd\"](r,0);if(i===u)return void a[e?\"setStartBefore\":\"setEndAfter\"](r);if(n.position<0){if(l=n.inside?r.firstChild:r.nextSibling,!l)return void a[e?\"setStartAfter\":\"setEndAfter\"](r);if(!i)return void(3==l.nodeType?a[e?\"setStart\":\"setEnd\"](l,0):a[e?\"setStartBefore\":\"setEndBefore\"](l));for(;l;){if(3==l.nodeType&&(c=l.nodeValue,s+=c.length,s>=i)){r=l,s-=i,s=c.length-s;break}l=l.nextSibling}}else{if(l=r.previousSibling,!l)return a[e?\"setStartBefore\":\"setEndBefore\"](r);if(!i)return void(3==r.nodeType?a[e?\"setStart\":\"setEnd\"](l,r.nodeValue.length):a[e?\"setStartAfter\":\"setEndAfter\"](l));for(;l;){if(3==l.nodeType&&(s+=l.nodeValue.length,s>=i)){r=l,s-=i;break}l=l.previousSibling}}a[e?\"setStart\":\"setEnd\"](r,s)}var o=e.getRng(),a=i.createRng(),s,l,u,c,d;if(s=o.item?o.item(0):o.parentElement(),s.ownerDocument!=i.doc)return a;if(l=e.isCollapsed(),o.item)return a.setStart(s.parentNode,i.nodeIndex(s)),a.setEnd(a.startContainer,a.startOffset+1),a;try{n(!0),l||n()}catch(f){if(f.number!=-2147024809)throw f;d=r.getBookmark(2),u=o.duplicate(),u.collapse(!0),s=u.parentElement(),l||(u=o.duplicate(),u.collapse(!1),c=u.parentElement(),c.innerHTML=c.innerHTML),s.innerHTML=s.innerHTML,r.moveToBookmark(d),o=e.getRng(),n(!0),l||n()}return a}var r=this,i=e.dom,o=!1;this.getBookmark=function(n){function r(e){var t,n,r,o,a=[];for(t=e.parentNode,n=i.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(r=t.children,o=r.length;o--;)if(e===r[o]){a.push(o);break}e=t,t=t.parentNode}return a}function o(e){var n;if(n=t(a,e))return{position:n.position,offset:n.offset,indexes:r(n.node),inside:n.inside}}var a=e.getRng(),s={};return 2===n&&(a.item?s.start={ctrl:!0,indexes:r(a.item(0))}:(s.start=o(!0),e.isCollapsed()||(s.end=o()))),s},this.moveToBookmark=function(e){function t(e){var t,n,r,o;for(t=i.getRoot(),n=e.length-1;n>=0;n--)o=t.children,r=e[n],r<=o.length-1&&(t=o[r]);return t}function n(n){var i=e[n?\"start\":\"end\"],a,s,l,u;i&&(a=i.position>0,s=o.createTextRange(),s.moveToElementText(t(i.indexes)),u=i.offset,u!==l?(s.collapse(i.inside||a),s.moveStart(\"character\",a?-u:u)):s.collapse(n),r.setEndPoint(n?\"StartToStart\":\"EndToStart\",s),n&&r.collapse(!0))}var r,o=i.doc.body;e.start&&(e.start.ctrl?(r=o.createControlRange(),r.addElement(t(e.start.indexes)),r.select()):(r=o.createTextRange(),n(!0),n(),r.select()))},this.addRange=function(t){function n(e){var t,n,a,d,h;a=i.create(\"a\"),t=e?s:u,n=e?l:c,d=r.duplicate(),t!=f&&t!=f.documentElement||(t=p,n=0),3==t.nodeType?(t.parentNode.insertBefore(a,t),d.moveToElementText(a),d.moveStart(\"character\",n),i.remove(a),r.setEndPoint(e?\"StartToStart\":\"EndToEnd\",d)):(h=t.childNodes,h.length?(n>=h.length?i.insertAfter(a,h[h.length-1]):t.insertBefore(a,h[n]),d.moveToElementText(a)):t.canHaveHTML&&(t.innerHTML=\"<span>&#xFEFF;</span>\",a=t.firstChild,d.moveToElementText(a),d.collapse(o)),r.setEndPoint(e?\"StartToStart\":\"EndToEnd\",d),i.remove(a))}var r,a,s,l,u,c,d,f=e.dom.doc,p=f.body,h,m;if(s=t.startContainer,l=t.startOffset,u=t.endContainer,c=t.endOffset,r=p.createTextRange(),s==u&&1==s.nodeType){if(l==c&&!s.hasChildNodes()){if(s.canHaveHTML)return d=s.previousSibling,d&&!d.hasChildNodes()&&i.isBlock(d)?d.innerHTML=\"&#xFEFF;\":d=null,s.innerHTML=\"<span>&#xFEFF;</span><span>&#xFEFF;</span>\",r.moveToElementText(s.lastChild),r.select(),i.doc.selection.clear(),s.innerHTML=\"\",void(d&&(d.innerHTML=\"\"));l=i.nodeIndex(s),s=s.parentNode}if(l==c-1)try{if(m=s.childNodes[l],a=p.createControlRange(),a.addElement(m),a.select(),h=e.getRng(),h.item&&m===h.item(0))return}catch(g){}}n(!0),n(),r.select()},this.getRangeAt=n}return e}),r(I,[d],function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(t){return e.mac?t.metaKey:t.ctrlKey&&!t.altKey}}}),r(F,[I,m,c,d,_],function(e,t,n,r,i){function o(e,t){for(;t&&t!=e;){if(s(t)||a(t))return t;t=t.parentNode}return null}var a=i.isContentEditableFalse,s=i.isContentEditableTrue;return function(i,s){function l(e){var t=s.settings.object_resizing;return t!==!1&&!r.iOS&&(\"string\"!=typeof t&&(t=\"table,img,div\"),\"false\"!==e.getAttribute(\"data-mce-resize\")&&(e!=s.getBody()&&s.dom.is(e,t)))}function u(t){var n,r,i,o,a;n=t.screenX-L,r=t.screenY-M,U=n*B[2]+H,W=r*B[3]+I,U=U<5?5:U,W=W<5?5:W,i=\"IMG\"==k.nodeName&&s.settings.resize_img_proportional!==!1?!e.modifierPressed(t):e.modifierPressed(t)||\"IMG\"==k.nodeName&&B[2]*B[3]!==0,i&&(j(n)>j(r)?(W=Y(U*F),U=Y(W/F)):(U=Y(W/F),W=Y(U*F))),_.setStyles(T,{width:U,height:W}),o=B.startPos.x+n,a=B.startPos.y+r,o=o>0?o:0,a=a>0?a:0,_.setStyles(R,{left:o,top:a,display:\"block\"}),R.innerHTML=U+\" &times; \"+W,B[2]<0&&T.clientWidth<=U&&_.setStyle(T,\"left\",P+(H-U)),B[3]<0&&T.clientHeight<=W&&_.setStyle(T,\"top\",O+(I-W)),n=X.scrollWidth-K,r=X.scrollHeight-G,n+r!==0&&_.setStyles(R,{left:o-n,top:a-r}),z||(s.fire(\"ObjectResizeStart\",{target:k,width:H,height:I}),z=!0)}function c(){function e(e,t){t&&(k.style[e]||!s.schema.isValid(k.nodeName.toLowerCase(),e)?_.setStyle(k,e,t):_.setAttrib(k,e,t))}z=!1,e(\"width\",U),e(\"height\",W),_.unbind(V,\"mousemove\",u),_.unbind(V,\"mouseup\",c),$!=V&&(_.unbind($,\"mousemove\",u),_.unbind($,\"mouseup\",c)),_.remove(T),_.remove(R),q&&\"TABLE\"!=k.nodeName||d(k),s.fire(\"ObjectResized\",{target:k,width:U,height:W}),_.setAttrib(k,\"style\",_.getAttrib(k,\"style\")),s.nodeChanged()}function d(e,t,n){var i,o,a,d,p;f(),x(),i=_.getPos(e,X),P=i.x,O=i.y,p=e.getBoundingClientRect(),o=p.width||p.right-p.left,a=p.height||p.bottom-p.top,k!=e&&(C(),k=e,U=W=0),d=s.fire(\"ObjectSelected\",{target:e}),l(e)&&!d.isDefaultPrevented()?S(A,function(e,i){function s(t){L=t.screenX,M=t.screenY,H=k.clientWidth,I=k.clientHeight,F=I/H,B=e,e.startPos={x:o*e[0]+P,y:a*e[1]+O},K=X.scrollWidth,G=X.scrollHeight,T=k.cloneNode(!0),_.addClass(T,\"mce-clonedresizable\"),_.setAttrib(T,\"data-mce-bogus\",\"all\"),T.contentEditable=!1,T.unSelectabe=!0,_.setStyles(T,{left:P,top:O,margin:0}),T.removeAttribute(\"data-mce-selected\"),X.appendChild(T),_.bind(V,\"mousemove\",u),_.bind(V,\"mouseup\",c),$!=V&&(_.bind($,\"mousemove\",u),_.bind($,\"mouseup\",c)),R=_.add(X,\"div\",{\"class\":\"mce-resize-helper\",\"data-mce-bogus\":\"all\"},H+\" &times; \"+I)}var l;return t?void(i==t&&s(n)):(l=_.get(\"mceResizeHandle\"+i),l&&_.remove(l),l=_.add(X,\"div\",{id:\"mceResizeHandle\"+i,\"data-mce-bogus\":\"all\",\"class\":\"mce-resizehandle\",unselectable:!0,style:\"cursor:\"+i+\"-resize; margin:0; padding:0\"}),r.ie&&(l.contentEditable=!1),_.bind(l,\"mousedown\",function(e){e.stopImmediatePropagation(),e.preventDefault(),s(e)}),e.elm=l,void _.setStyles(l,{left:o*e[0]+P-l.offsetWidth/2,top:a*e[1]+O-l.offsetHeight/2}))}):f(),k.setAttribute(\"data-mce-selected\",\"1\")}function f(){var e,t;x(),k&&k.removeAttribute(\"data-mce-selected\");for(e in A)t=_.get(\"mceResizeHandle\"+e),t&&(_.unbind(t),_.remove(t))}function p(e){function t(e,t){if(e)do if(e===t)return!0;while(e=e.parentNode)}var n,r;if(!z&&!s.removed)return S(_.select(\"img[data-mce-selected],hr[data-mce-selected]\"),function(e){e.removeAttribute(\"data-mce-selected\")}),r=\"mousedown\"==e.type?e.target:i.getNode(),r=_.$(r).closest(q?\"table\":\"table,img,hr\")[0],t(r,X)&&(w(),n=i.getStart(!0),t(n,r)&&t(i.getEnd(!0),r)&&(!q||r!=n&&\"IMG\"!==n.nodeName))?void d(r):void f()}function h(e,t,n){e&&e.attachEvent&&e.attachEvent(\"on\"+t,n)}function m(e,t,n){e&&e.detachEvent&&e.detachEvent(\"on\"+t,n)}function g(e){var t=e.srcElement,n,r,i,o,a,l,u;n=t.getBoundingClientRect(),l=D.clientX-n.left,u=D.clientY-n.top;for(r in A)if(i=A[r],o=t.offsetWidth*i[0],a=t.offsetHeight*i[1],j(o-l)<8&&j(a-u)<8){B=i;break}z=!0,s.fire(\"ObjectResizeStart\",{target:k,width:k.clientWidth,height:k.clientHeight}),s.getDoc().selection.empty(),d(t,r,D)}function v(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function y(e){return a(o(s.getBody(),e))}function b(e){var t=e.srcElement;if(y(t))return void v(e);if(t!=k){if(s.fire(\"ObjectSelected\",{target:t}),C(),0===t.id.indexOf(\"mceResizeHandle\"))return void(e.returnValue=!1);\n\"IMG\"!=t.nodeName&&\"TABLE\"!=t.nodeName||(f(),k=t,h(t,\"resizestart\",g))}}function C(){m(k,\"resizestart\",g)}function x(){for(var e in A){var t=A[e];t.elm&&(_.unbind(t.elm),delete t.elm)}}function w(){try{s.getDoc().execCommand(\"enableObjectResizing\",!1,!1)}catch(e){}}function E(e){var t;if(q){t=V.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(n){}}}function N(){k=T=null,q&&(C(),m(X,\"controlselect\",b))}var _=s.dom,S=t.each,k,T,R,A,B,D,L,M,P,O,H,I,F,z,U,W,V=s.getDoc(),$=document,q=r.ie&&r.ie<11,j=Math.abs,Y=Math.round,X=s.getBody(),K,G;A={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var J=\".mce-content-body\";return s.contentStyles.push(J+\" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}\"+J+\" .mce-resizehandle:hover {background: #000}\"+J+\" img[data-mce-selected],\"+J+\" hr[data-mce-selected] {outline: 1px solid black;resize: none}\"+J+\" .mce-clonedresizable {position: absolute;\"+(r.gecko?\"\":\"outline: 1px dashed black;\")+\"opacity: .5;filter: alpha(opacity=50);z-index: 10000}\"+J+\" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}\"),s.on(\"init\",function(){q?(s.on(\"ObjectResized\",function(e){\"TABLE\"!=e.target.nodeName&&(f(),E(e.target))}),h(X,\"controlselect\",b),s.on(\"mousedown\",function(e){D=e})):(w(),r.ie>=11&&(s.on(\"mousedown click\",function(e){var t=e.target,n=t.nodeName;z||!/^(TABLE|IMG|HR)$/.test(n)||y(t)||(s.selection.select(t,\"TABLE\"==n),\"mousedown\"==e.type&&s.nodeChanged())}),s.dom.bind(X,\"mscontrolselect\",function(e){function t(e){n.setEditorTimeout(s,function(){s.selection.select(e)})}return y(e.target)?(e.preventDefault(),void t(e.target)):void(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),\"IMG\"==e.target.tagName&&t(e.target)))})));var e=n.throttle(function(e){s.composing||p(e)});s.on(\"nodechange ResizeEditor ResizeWindow drop\",e),s.on(\"keyup compositionend\",function(t){k&&\"TABLE\"==k.nodeName&&e(t)}),s.on(\"hide blur\",f)}),s.on(\"remove\",x),{isResizable:l,showResizeRect:d,hideResizeRect:f,updateResizeRect:p,controlSelect:E,destroy:N}}}),r(z,[],function(){function e(e){return function(){return e}}function t(e){return function(t){return!e(t)}}function n(e,t){return function(n){return e(t(n))}}function r(){var e=s.call(arguments);return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}function i(){var e=s.call(arguments);return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}}function o(e){var t=s.call(arguments);return t.length-1>=e.length?e.apply(this,t.slice(1)):function(){var e=t.concat([].slice.call(arguments));return o.apply(this,e)}}function a(){}var s=[].slice;return{constant:e,negate:t,and:i,or:r,curry:o,compose:n,noop:a}}),r(U,[_,h,k],function(e,t,n){function r(e){return!m(e)&&(d(e)?!f(e.parentNode):p(e)||c(e)||h(e)||u(e))}function i(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode){if(u(e))return!1;if(l(e))return!0}return!0}function o(e){return!!u(e)&&t.reduce(e.getElementsByTagName(\"*\"),function(e,t){return e||l(t)},!1)!==!0}function a(e){return p(e)||o(e)}function s(e,t){return r(e)&&i(e,t)}var l=e.isContentEditableTrue,u=e.isContentEditableFalse,c=e.isBr,d=e.isText,f=e.matchNodeNames(\"script style textarea\"),p=e.matchNodeNames(\"img input textarea hr iframe video audio object\"),h=e.matchNodeNames(\"table\"),m=n.isCaretContainer;return{isCaretCandidate:r,isInEditable:i,isAtomic:a,isEditableCaretCandidate:s}}),r(W,[],function(){function e(e){return e?{left:c(e.left),top:c(e.top),bottom:c(e.bottom),right:c(e.right),width:c(e.width),height:c(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function t(t,n){return t=e(t),n?t.right=t.left:(t.left=t.left+t.width,t.right=t.left),t.width=0,t}function n(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right}function r(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2}function i(e,t){return e.bottom<t.top||!(e.top>t.bottom)&&r(t.top-e.bottom,e,t)}function o(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&r(t.bottom-e.top,e,t)}function a(e,t){return e.left<t.left}function s(e,t){return e.right>t.right}function l(e,t){return i(e,t)?-1:o(e,t)?1:a(e,t)?-1:s(e,t)?1:0}function u(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}var c=Math.round;return{clone:e,collapse:t,isEqual:n,isAbove:i,isBelow:o,isLeft:a,isRight:s,compare:l,containsXY:u}}),r(V,[],function(){function e(e){return\"string\"==typeof e&&e.charCodeAt(0)>=768&&t.test(e)}var t=new RegExp(\"[\\u0300-\\u036f\\u0483-\\u0487\\u0488-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7-\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e3-\\u0902\\u093a\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2-\\u09e3\\u0a01-\\u0a02\\u0a3c\\u0a41-\\u0a42\\u0a47-\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70-\\u0a71\\u0a75\\u0a81-\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7-\\u0ac8\\u0acd\\u0ae2-\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62-\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c00\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55-\\u0c56\\u0c62-\\u0c63\\u0c81\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc-\\u0ccd\\u0cd5-\\u0cd6\\u0ce2-\\u0ce3\\u0d01\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62-\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb-\\u0ebc\\u0ec8-\\u0ecd\\u0f18-\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039-\\u103a\\u103d-\\u103e\\u1058-\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085-\\u1086\\u108d\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17b4-\\u17b5\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193b\\u1a17-\\u1a18\\u1a1b\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1ab0-\\u1abd\\u1abe\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80-\\u1b81\\u1ba2-\\u1ba5\\u1ba8-\\u1ba9\\u1bab-\\u1bad\\u1be6\\u1be8-\\u1be9\\u1bed\\u1bef-\\u1bf1\\u1c2c-\\u1c33\\u1c36-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1cf4\\u1cf8-\\u1cf9\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u200c-\\u200d\\u20d0-\\u20dc\\u20dd-\\u20e0\\u20e1\\u20e2-\\u20e4\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302d\\u302e-\\u302f\\u3099-\\u309a\\ua66f\\ua670-\\ua672\\ua674-\\ua67d\\ua69e-\\ua69f\\ua6f0-\\ua6f1\\ua802\\ua806\\ua80b\\ua825-\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\ua9e5\\uaa29-\\uaa2e\\uaa31-\\uaa32\\uaa35-\\uaa36\\uaa43\\uaa4c\\uaa7c\\uaab0\\uaab2-\\uaab4\\uaab7-\\uaab8\\uaabe-\\uaabf\\uaac1\\uaaec-\\uaaed\\uaaf6\\uabe5\\uabe8\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\uff9e-\\uff9f]\");return{isExtendingChar:e}}),r($,[z,_,w,T,U,W,V],function(e,t,n,r,i,o,a){function s(e){return\"createRange\"in e?e.createRange():n.DOM.createRng()}function l(e){return e&&/[\\r\\n\\t ]/.test(e)}function u(e){var t=e.startContainer,n=e.startOffset,r;return!!(l(e.toString())&&v(t.parentNode)&&(r=t.data,l(r[n-1])||l(r[n+1])))}function c(e){function t(e){var t=e.ownerDocument,n=s(t),r=t.createTextNode(\"\\xa0\"),i=e.parentNode,a;return i.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1),a=o.clone(n.getBoundingClientRect()),i.removeChild(r),a}function n(e){var n,r;return r=e.getClientRects(),n=r.length>0?o.clone(r[0]):o.clone(e.getBoundingClientRect()),b(e)&&0===n.left?t(e):n}function r(e,t){return e=o.collapse(e,t),e.width=1,e.right=e.left+1,e}function i(e){0!==e.height&&(c.length>0&&o.isEqual(e,c[c.length-1])||c.push(e))}function l(e,t){var o=s(e.ownerDocument);if(t<e.data.length){if(a.isExtendingChar(e.data[t]))return c;if(a.isExtendingChar(e.data[t-1])&&(o.setStart(e,t),o.setEnd(e,t+1),!u(o)))return i(r(n(o),!1)),c}t>0&&(o.setStart(e,t-1),o.setEnd(e,t),u(o)||i(r(n(o),!1))),t<e.data.length&&(o.setStart(e,t),o.setEnd(e,t+1),u(o)||i(r(n(o),!0)))}var c=[],d,p;if(y(e.container()))return l(e.container(),e.offset()),c;if(f(e.container()))if(e.isAtEnd())p=x(e.container(),e.offset()),y(p)&&l(p,p.data.length),g(p)&&!b(p)&&i(r(n(p),!1));else{if(p=x(e.container(),e.offset()),y(p)&&l(p,0),g(p)&&e.isAtEnd())return i(r(n(p),!1)),c;d=x(e.container(),e.offset()-1),g(d)&&!b(d)&&(h(d)||h(p)||!g(p))&&i(r(n(d),!1)),g(p)&&i(r(n(p),!0))}return c}function d(t,n,r){function i(){return y(t)?0===n:0===n}function o(){return y(t)?n>=t.data.length:n>=t.childNodes.length}function a(){var e;return e=s(t.ownerDocument),e.setStart(t,n),e.setEnd(t,n),e}function l(){return r||(r=c(new d(t,n))),r}function u(){return l().length>0}function f(e){return e&&t===e.container()&&n===e.offset()}function p(e){return x(t,e?n-1:n)}return{container:e.constant(t),offset:e.constant(n),toRange:a,getClientRects:l,isVisible:u,isAtStart:i,isAtEnd:o,isEqual:f,getNode:p}}var f=t.isElement,p=i.isCaretCandidate,h=t.matchStyleValues(\"display\",\"block table\"),m=t.matchStyleValues(\"float\",\"left right\"),g=e.and(f,p,e.negate(m)),v=e.negate(t.matchStyleValues(\"white-space\",\"pre pre-line pre-wrap\")),y=t.isText,b=t.isBr,C=n.nodeIndex,x=r.getNode;return d.fromRangeStart=function(e){return new d(e.startContainer,e.startOffset)},d.fromRangeEnd=function(e){return new d(e.endContainer,e.endOffset)},d.after=function(e){return new d(e.parentNode,C(e)+1)},d.before=function(e){return new d(e.parentNode,C(e))},d}),r(q,[_,w,z,h,$],function(e,t,n,r,i){function o(e){var t=e.parentNode;return v(t)?o(t):t}function a(e){return e?r.reduce(e.childNodes,function(e,t){return v(t)&&\"BR\"!=t.nodeName?e=e.concat(a(t)):e.push(t),e},[]):[]}function s(e,t){for(;(e=e.previousSibling)&&g(e);)t+=e.data.length;return t}function l(e){return function(t){return e===t}}function u(t){var n,i,s;return n=a(o(t)),i=r.findIndex(n,l(t),t),n=n.slice(0,i+1),s=r.reduce(n,function(e,t,r){return g(t)&&g(n[r-1])&&e++,e},0),n=r.filter(n,e.matchNodeNames(t.nodeName)),i=r.findIndex(n,l(t),t),i-s}function c(e){var t;return t=g(e)?\"text()\":e.nodeName.toLowerCase(),t+\"[\"+u(e)+\"]\"}function d(e,t,n){var r=[];for(t=t.parentNode;t!=e&&(!n||!n(t));t=t.parentNode)r.push(t);return r}function f(t,i){var o,a,l=[],u,f,p;return o=i.container(),a=i.offset(),g(o)?u=s(o,a):(f=o.childNodes,a>=f.length?(u=\"after\",a=f.length-1):u=\"before\",o=f[a]),l.push(c(o)),p=d(t,o),p=r.filter(p,n.negate(e.isBogus)),l=l.concat(r.map(p,function(e){return c(e)})),l.reverse().join(\"/\")+\",\"+u}function p(t,n,i){var o=a(t);return o=r.filter(o,function(e,t){return!g(e)||!g(o[t-1])}),o=r.filter(o,e.matchNodeNames(n)),o[i]}function h(e,t){for(var n=e,r=0,o;g(n);){if(o=n.data.length,t>=r&&t<=r+o){e=n,t-=r;break}if(!g(n.nextSibling)){e=n,t=o;break}r+=o,n=n.nextSibling}return t>e.data.length&&(t=e.data.length),new i(e,t)}function m(e,t){var n,o,a;return t?(n=t.split(\",\"),t=n[0].split(\"/\"),a=n.length>1?n[1]:\"before\",o=r.reduce(t,function(e,t){return(t=/([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(t))?(\"text()\"===t[1]&&(t[1]=\"#text\"),p(e,t[1],parseInt(t[2],10))):null},e),o?g(o)?h(o,parseInt(a,10)):(a=\"after\"===a?y(o)+1:y(o),new i(o.parentNode,a)):null):null}var g=e.isText,v=e.isBogus,y=t.nodeIndex;return{create:f,resolve:m}}),r(j,[d,m,k,q,$,_,T],function(e,t,n,r,i,o,a){function s(s){var u=s.dom;this.getBookmark=function(e,c){function d(e,n){var r=0;return t.each(u.select(e),function(e){if(\"all\"!==e.getAttribute(\"data-mce-bogus\"))return e!=n&&void r++}),r}function f(e){function t(t){var n,r,i,o=t?\"start\":\"end\";n=e[o+\"Container\"],r=e[o+\"Offset\"],1==n.nodeType&&\"TR\"==n.nodeName&&(i=n.childNodes,n=i[Math.min(t?r:r-1,i.length-1)],n&&(r=t?0:n.childNodes.length,e[\"set\"+(t?\"Start\":\"End\")](n,r)))}return t(!0),t(),e}function p(e){function t(e,t){var r=e[t?\"startContainer\":\"endContainer\"],i=e[t?\"startOffset\":\"endOffset\"],o=[],a,s,l=0;if(3==r.nodeType){if(c)for(a=r.previousSibling;a&&3==a.nodeType;a=a.previousSibling)i+=a.nodeValue.length;o.push(i)}else s=r.childNodes,i>=s.length&&s.length&&(l=1,i=Math.max(0,s.length-1)),o.push(u.nodeIndex(s[i],c)+l);for(;r&&r!=n;r=r.parentNode)o.push(u.nodeIndex(r,c));return o}var n=u.getRoot(),r={};return r.start=t(e,!0),s.isCollapsed()||(r.end=t(e)),r}function h(e){function t(e,t){var r;if(o.isElement(e)&&(e=a.getNode(e,t),l(e)))return e;if(n.isCaretContainer(e)){if(o.isText(e)&&n.isCaretContainerBlock(e)&&(e=e.parentNode),r=e.previousSibling,l(r))return r;if(r=e.nextSibling,l(r))return r}}return t(e.startContainer,e.startOffset)||t(e.endContainer,e.endOffset)}var m,g,v,y,b,C,x=\"&#xFEFF;\",w;if(2==e)return C=s.getNode(),b=C?C.nodeName:null,m=s.getRng(),l(C)||\"IMG\"==b?{name:b,index:d(b,C)}:s.tridentSel?s.tridentSel.getBookmark(e):(C=h(m),C?(b=C.tagName,{name:b,index:d(b,C)}):p(m));if(3==e)return m=s.getRng(),{start:r.create(u.getRoot(),i.fromRangeStart(m)),end:r.create(u.getRoot(),i.fromRangeEnd(m))};if(e)return{rng:s.getRng()};if(m=s.getRng(),v=u.uniqueId(),y=s.isCollapsed(),w=\"overflow:hidden;line-height:0px\",m.duplicate||m.item){if(m.item)return C=m.item(0),b=C.nodeName,{name:b,index:d(b,C)};g=m.duplicate();try{m.collapse(),m.pasteHTML('<span data-mce-type=\"bookmark\" id=\"'+v+'_start\" style=\"'+w+'\">'+x+\"</span>\"),y||(g.collapse(!1),m.moveToElementText(g.parentElement()),0===m.compareEndPoints(\"StartToEnd\",g)&&g.move(\"character\",-1),g.pasteHTML('<span data-mce-type=\"bookmark\" id=\"'+v+'_end\" style=\"'+w+'\">'+x+\"</span>\"))}catch(E){return null}}else{if(C=s.getNode(),b=C.nodeName,\"IMG\"==b)return{name:b,index:d(b,C)};g=f(m.cloneRange()),y||(g.collapse(!1),g.insertNode(u.create(\"span\",{\"data-mce-type\":\"bookmark\",id:v+\"_end\",style:w},x))),m=f(m),m.collapse(!0),m.insertNode(u.create(\"span\",{\"data-mce-type\":\"bookmark\",id:v+\"_start\",style:w},x))}return s.moveToBookmark({id:v,keep:1}),{id:v}},this.moveToBookmark=function(n){function i(e){var t=n[e?\"start\":\"end\"],r,i,o,a;if(t){for(o=t[0],i=d,r=t.length-1;r>=1;r--){if(a=i.childNodes,t[r]>a.length-1)return;i=a[t[r]]}3===i.nodeType&&(o=Math.min(t[0],i.nodeValue.length)),1===i.nodeType&&(o=Math.min(t[0],i.childNodes.length)),e?c.setStart(i,o):c.setEnd(i,o)}return!0}function o(r){var i=u.get(n.id+\"_\"+r),o,a,s,l,c=n.keep;if(i&&(o=i.parentNode,\"start\"==r?(c?(o=i.firstChild,a=1):a=u.nodeIndex(i),f=p=o,h=m=a):(c?(o=i.firstChild,a=1):a=u.nodeIndex(i),p=o,m=a),!c)){for(l=i.previousSibling,s=i.nextSibling,t.each(t.grep(i.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\\uFEFF/g,\"\"))});i=u.get(n.id+\"_\"+r);)u.remove(i,1);l&&s&&l.nodeType==s.nodeType&&3==l.nodeType&&!e.opera&&(a=l.nodeValue.length,l.appendData(s.nodeValue),u.remove(s),\"start\"==r?(f=p=l,h=m=a):(p=l,m=a))}}function a(t){return!u.isBlock(t)||t.innerHTML||e.ie||(t.innerHTML='<br data-mce-bogus=\"1\" />'),t}function l(){var e,t;return e=u.createRng(),t=r.resolve(u.getRoot(),n.start),e.setStart(t.container(),t.offset()),t=r.resolve(u.getRoot(),n.end),e.setEnd(t.container(),t.offset()),e}var c,d,f,p,h,m;if(n)if(t.isArray(n.start)){if(c=u.createRng(),d=u.getRoot(),s.tridentSel)return s.tridentSel.moveToBookmark(n);i(!0)&&i()&&s.setRng(c)}else\"string\"==typeof n.start?s.setRng(l(n)):n.id?(o(\"start\"),o(\"end\"),f&&(c=u.createRng(),c.setStart(a(f),h),c.setEnd(a(p),m),s.setRng(c))):n.name?s.select(u.select(n.name)[n.index]):n.rng&&s.setRng(n.rng)}}var l=o.isContentEditableFalse;return s.isBookmarkNode=function(e){return e&&\"SPAN\"===e.tagName&&\"bookmark\"===e.getAttribute(\"data-mce-type\")},s}),r(Y,[y,H,F,T,j,_,d,m,$],function(e,n,r,i,o,a,s,l,u){function c(e,t,i,a){var s=this;s.dom=e,s.win=t,s.serializer=i,s.editor=a,s.bookmarkManager=new o(s),s.controlSelection=new r(s,a),s.win.getSelection||(s.tridentSel=new n(s))}var d=l.each,f=l.trim,p=s.ie;return c.prototype={setCursorLocation:function(e,t){var n=this,r=n.dom.createRng();e?(r.setStart(e,t),r.setEnd(e,t),n.setRng(r),n.collapse(!1)):(n._moveEndPoint(r,n.editor.getBody(),!0),n.setRng(r))},getContent:function(e){var n=this,r=n.getRng(),i=n.dom.create(\"body\"),o=n.getSel(),a,s,l;return e=e||{},a=s=\"\",e.get=!0,e.format=e.format||\"html\",e.selection=!0,n.editor.fire(\"BeforeGetContent\",e),\"text\"==e.format?n.isCollapsed()?\"\":r.text||(o.toString?o.toString():\"\"):(r.cloneContents?(l=r.cloneContents(),l&&i.appendChild(l)):r.item!==t||r.htmlText!==t?(i.innerHTML=\"<br>\"+(r.item?r.item(0).outerHTML:r.htmlText),i.removeChild(i.firstChild)):i.innerHTML=r.toString(),/^\\s/.test(i.innerHTML)&&(a=\" \"),/\\s+$/.test(i.innerHTML)&&(s=\" \"),e.getInner=!0,e.content=n.isCollapsed()?\"\":a+n.serializer.serialize(i,e)+s,n.editor.fire(\"GetContent\",e),e.content)},setContent:function(e,t){var n=this,r=n.getRng(),i,o=n.win.document,a,s;if(t=t||{format:\"html\"},t.set=!0,t.selection=!0,t.content=e,t.no_events||n.editor.fire(\"BeforeSetContent\",t),e=t.content,r.insertNode){e+='<span id=\"__caret\">_</span>',r.startContainer==o&&r.endContainer==o?o.body.innerHTML=e:(r.deleteContents(),0===o.body.childNodes.length?o.body.innerHTML=e:r.createContextualFragment?r.insertNode(r.createContextualFragment(e)):(a=o.createDocumentFragment(),s=o.createElement(\"div\"),a.appendChild(s),s.outerHTML=e,r.insertNode(a))),i=n.dom.get(\"__caret\"),r=o.createRange(),r.setStartBefore(i),r.setEndBefore(i),n.setRng(r),n.dom.remove(\"__caret\");try{n.setRng(r)}catch(l){}}else r.item&&(o.execCommand(\"Delete\",!1,null),r=n.getRng()),/^\\s+/.test(e)?(r.pasteHTML('<span id=\"__mce_tmp\">_</span>'+e),n.dom.remove(\"__mce_tmp\")):r.pasteHTML(e);t.no_events||n.editor.fire(\"SetContent\",t)},getStart:function(e){var t=this,n=t.getRng(),r,i,o,a;if(n.duplicate||n.item){if(n.item)return n.item(0);for(o=n.duplicate(),o.collapse(1),r=o.parentElement(),r.ownerDocument!==t.dom.doc&&(r=t.dom.getRoot()),i=a=n.parentElement();a=a.parentNode;)if(a==r){r=i;break}return r}return r=n.startContainer,1==r.nodeType&&r.hasChildNodes()&&(e&&n.collapsed||(r=r.childNodes[Math.min(r.childNodes.length-1,n.startOffset)])),r&&3==r.nodeType?r.parentNode:r},getEnd:function(e){var t=this,n=t.getRng(),r,i;return n.duplicate||n.item?n.item?n.item(0):(n=n.duplicate(),n.collapse(0),r=n.parentElement(),r.ownerDocument!==t.dom.doc&&(r=t.dom.getRoot()),r&&\"BODY\"==r.nodeName?r.lastChild||r:r):(r=n.endContainer,i=n.endOffset,1==r.nodeType&&r.hasChildNodes()&&(e&&n.collapsed||(r=r.childNodes[i>0?i-1:i])),r&&3==r.nodeType?r.parentNode:r)},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n=this,r=n.dom,i=r.createRng(),o;if(n.lastFocusBookmark=null,e){if(!t&&n.controlSelection.controlSelect(e))return;o=r.nodeIndex(e),i.setStart(e.parentNode,o),i.setEnd(e.parentNode,o+1),t&&(n._moveEndPoint(i,e,!0),n._moveEndPoint(i,e)),n.setRng(i)}return e},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints(\"StartToEnd\",t):!n||t.collapsed)},collapse:function(e){var t=this,n=t.getRng(),r;n.item&&(r=n.item(0),n=t.win.document.body.createTextRange(),n.moveToElementText(r)),n.collapse(!!e),t.setRng(n)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){function t(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(r){return-1}}var n=this,r,i,o,a,s,l;if(!n.win)return null;if(a=n.win.document,\"undefined\"==typeof a||null===a)return null;if(!e&&n.lastFocusBookmark){var u=n.lastFocusBookmark;return u.startContainer?(i=a.createRange(),i.setStart(u.startContainer,u.startOffset),i.setEnd(u.endContainer,u.endOffset)):i=u,i}if(e&&n.tridentSel)return n.tridentSel.getRangeAt(0);try{(r=n.getSel())&&(i=r.rangeCount>0?r.getRangeAt(0):r.createRange?r.createRange():a.createRange())}catch(c){}if(l=n.editor.fire(\"GetSelectionRange\",{range:i}),l.range!==i)return l.range;if(p&&i&&i.setStart&&a.selection){try{s=a.selection.createRange()}catch(c){}s&&s.item&&(o=s.item(0),i=a.createRange(),i.setStartBefore(o),i.setEndAfter(o))}return i||(i=a.createRange?a.createRange():a.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(o=n.dom.getRoot(),i.setStart(o,0),i.setEnd(o,0)),n.selectedRange&&n.explicitRange&&(0===t(i.START_TO_START,i,n.selectedRange)&&0===t(i.END_TO_END,i,n.selectedRange)?i=n.explicitRange:(n.selectedRange=null,n.explicitRange=null)),i},setRng:function(e,t){var n=this,r,i,o;if(e)if(e.select){n.explicitRange=null;try{e.select()}catch(a){}}else if(n.tridentSel){if(e.cloneRange)try{n.tridentSel.addRange(e)}catch(a){}}else{if(r=n.getSel(),o=n.editor.fire(\"SetSelectionRange\",{range:e}),e=o.range,r){n.explicitRange=e;try{r.removeAllRanges(),r.addRange(e)}catch(a){}t===!1&&r.extend&&(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset)),n.selectedRange=r.rangeCount>0?r.getRangeAt(0):null}e.collapsed||e.startContainer!=e.endContainer||!r.setBaseAndExtent||s.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(i=e.startContainer.childNodes[e.startOffset],i&&\"IMG\"==i.tagName&&(r.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),r.anchorNode===e.startContainer&&r.focusNode===e.endContainer||r.setBaseAndExtent(i,0,i,1))),n.editor.fire(\"AfterSetSelectionRange\",{range:e})}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t=this,n=t.getRng(),r,i,o,a,s,l=t.dom.getRoot();return n?(i=n.startContainer,o=n.endContainer,a=n.startOffset,s=n.endOffset,n.setStart?(r=n.commonAncestorContainer,!n.collapsed&&(i==o&&s-a<2&&i.hasChildNodes()&&(r=i.childNodes[a]),3===i.nodeType&&3===o.nodeType&&(i=i.length===a?e(i.nextSibling,!0):i.parentNode,o=0===s?e(o.previousSibling,!1):o.parentNode,i&&i===o))?i:r&&3==r.nodeType?r.parentNode:r):(r=n.item?n.item(0):n.parentElement(),r.ownerDocument!==t.win.document&&(r=l),r)):l},getSelectedBlocks:function(t,n){var r=this,i=r.dom,o,a,s=[];if(a=i.getRoot(),t=i.getParent(t||r.getStart(),i.isBlock),n=i.getParent(n||r.getEnd(),i.isBlock),t&&t!=a&&s.push(t),t&&n&&t!=n){o=t;for(var l=new e(t,a);(o=l.next())&&o!=n;)i.isBlock(o)&&s.push(o)}return n&&t!=n&&n!=a&&s.push(n),s},isForward:function(){var e=this.dom,t=this.getSel(),n,r;return!(t&&t.anchorNode&&t.focusNode)||(n=e.createRng(),n.setStart(t.anchorNode,t.anchorOffset),n.collapse(!0),r=e.createRng(),r.setStart(t.focusNode,t.focusOffset),r.collapse(!0),n.compareBoundaryPoints(n.START_TO_START,r)<=0)},normalize:function(){var e=this,t=e.getRng();return s.range&&new i(e.dom).normalize(t)&&e.setRng(t,e.isForward()),t},selectorChanged:function(e,t){var n=this,r;return n.selectorChangedData||(n.selectorChangedData={},r={},n.editor.on(\"NodeChange\",function(e){var t=e.element,i=n.dom,o=i.getParents(t,null,i.getRoot()),a={};d(n.selectorChangedData,function(e,t){d(o,function(n){if(i.is(n,t))return r[t]||(d(e,function(e){e(!0,{node:n,selector:t,parents:o})}),r[t]=e),a[t]=e,!1})}),d(r,function(e,n){a[n]||(delete r[n],d(e,function(e){e(!1,{node:t,selector:n,parents:o})}))})})),n.selectorChangedData[e]||(n.selectorChangedData[e]=[]),n.selectorChangedData[e].push(t),n},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&\"BODY\"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){function n(e){for(var t=0,n=0,r=e;r&&r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}}var r,i,o=this,s=o.dom,l=s.getRoot(),u,c,d=0;if(a.isElement(e)){if(t===!1&&(d=e.offsetHeight),\"BODY\"!=l.nodeName){var f=o.getScrollContainer();if(f)return r=n(e).y-n(f).y+d,c=f.clientHeight,u=f.scrollTop,void((r<u||r+25>u+c)&&(f.scrollTop=r<u?r:r-c+25))}i=s.getViewPort(o.editor.getWin()),r=s.getPos(e).y+d,u=i.y,c=i.h,(r<i.y||r+25>u+c)&&o.editor.getWin().scrollTo(0,r<u?r:r-c+25)}},placeCaretAt:function(e,t){this.setRng(i.getCaretRangeFromPoint(e,t,this.editor.getDoc()))},_moveEndPoint:function(t,n,r){var i=n,o=new e(n,i),a=this.dom.schema.getNonEmptyElements();do{if(3==n.nodeType&&0!==f(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):\"BR\"==n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(s.ie&&s.ie<11&&this.dom.isBlock(n)&&this.dom.isEmpty(n))return void(r?t.setStart(n,0):t.setEnd(n,0))}while(n=r?o.next():o.prev());\"BODY\"==i.nodeName&&(r?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},getBoundingClientRect:function(){var e=this.getRng();return e.collapsed?u.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},c}),r(X,[j,m],function(e,t){function n(t){this.compare=function(n,i){function o(e){var n={};return r(t.getAttribs(e),function(r){var i=r.nodeName.toLowerCase();0!==i.indexOf(\"_\")&&\"style\"!==i&&0!==i.indexOf(\"data-\")&&(n[i]=t.getAttrib(e,i))}),n}function a(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(n=t[r],\"undefined\"==typeof n)return!1;if(e[r]!=n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0}return n.nodeName==i.nodeName&&(!!a(o(n),o(i))&&(!!a(t.parseStyle(t.getAttrib(n,\"style\")),t.parseStyle(t.getAttrib(i,\"style\")))&&(!e.isBookmarkNode(n)&&!e.isBookmarkNode(i))))}}var r=t.each;return n}),r(K,[w,m,B],function(e,t,n){function r(e,r){function i(e,t){t.classes.length&&u.addClass(e,t.classes.join(\" \")),u.setAttribs(e,t.attrs)}function o(e){var t;return c=\"string\"==typeof e?{name:e,classes:[],attrs:{}}:e,t=u.create(c.name),i(t,c),t}function a(e,n){var r=\"string\"!=typeof e?e.nodeName.toLowerCase():e,i=f.getElementRule(r),o=i.parentsRequired;return!(!o||!o.length)&&(n&&t.inArray(o,n)!==-1?n:o[0])}function s(e,n,r){var i,l,c,d=n.length&&n[0],f=d&&d.name;if(c=a(e,f))f==c?(l=n[0],n=n.slice(1)):l=c;else if(d)l=n[0],n=n.slice(1);else if(!r)return e;return l&&(i=o(l),i.appendChild(e)),r&&(i||(i=u.create(\"div\"),i.appendChild(e)),t.each(r,function(t){var n=o(t);i.insertBefore(n,e)})),s(i,n,l&&l.siblings)}var l,c,d,f=r&&r.schema||new n({});return e&&e.length?(c=e[0],l=o(c),d=u.create(\"div\"),d.appendChild(s(l,e.slice(1),c.siblings)),d):\"\"}function i(e,t){return r(a(e),t)}function o(e){var n,r={classes:[],attrs:{}};return e=r.selector=t.trim(e),\"*\"!==e&&(n=e.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g,function(e,n,i,o,a){switch(n){case\"#\":r.attrs.id=i;break;case\".\":r.classes.push(i);break;case\":\":t.inArray(\"checked disabled enabled read-only required\".split(\" \"),i)!==-1&&(r.attrs[i]=i)}if(\"[\"==o){var s=a.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/);s&&(r.attrs[s[1]]=s[2])}return\"\"})),r.name=n||\"div\",r}function a(e){return e&&\"string\"==typeof e?(e=e.split(/\\s*,\\s*/)[0],e=e.replace(/\\s*(~\\+|~|\\+|>)\\s*/g,\"$1\"),t.map(e.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/),function(e){var n=t.map(e.split(/(?:~\\+|~|\\+)/),o),r=n.pop();return n.length&&(r.siblings=n),r}).reverse()):[]}function s(e,t){function n(e){return e.replace(/%(\\w+)/g,\"\")}var i,o,s,c,d=\"\",f,p;if(p=e.settings.preview_styles,p===!1)return\"\";if(\"string\"!=typeof p&&(p=\"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow\"),\"string\"==typeof t){if(t=e.formatter.get(t),!t)return;t=t[0]}return\"preview\"in t&&(p=t.preview,p===!1)?\"\":(i=t.block||t.inline||\"span\",c=a(t.selector),c.length?(c[0].name||(c[0].name=i),i=t.selector,o=r(c,e)):o=r([i],e),s=u.select(i,o)[0]||o.firstChild,l(t.styles,function(e,t){e=n(e),e&&u.setStyle(s,t,e)}),l(t.attributes,function(e,t){e=n(e),e&&u.setAttrib(s,t,e)}),l(t.classes,function(e){e=n(e),u.hasClass(s,e)||u.addClass(s,e)}),e.fire(\"PreviewFormats\"),u.setStyles(o,{position:\"absolute\",left:-65535}),e.getBody().appendChild(o),f=u.getStyle(e.getBody(),\"fontSize\",!0),f=/px$/.test(f)?parseInt(f,10):0,l(p.split(\" \"),function(t){var n=u.getStyle(s,t,!0);if(!(\"background-color\"==t&&/transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(n)&&(n=u.getStyle(e.getBody(),t,!0),\"#ffffff\"==u.toHex(n).toLowerCase())||\"color\"==t&&\"#000000\"==u.toHex(n).toLowerCase())){if(\"font-size\"==t&&/em|%$/.test(n)){if(0===f)return;n=parseFloat(n,10)/(/%$/.test(n)?100:1),n=n*f+\"px\"}\"border\"==t&&n&&(d+=\"padding:0 2px;\"),d+=t+\":\"+n+\";\"}}),e.fire(\"AfterPreviewFormats\"),u.remove(o),d)}var l=t.each,u=e.DOM;return{getCssText:s,parseSelector:a,selectorToHtml:i}}),r(G,[h,_,g],function(e,t,n){function r(e,t){var n=o[e];n||(o[e]=n=[]),o[e].push(t)}function i(e,t){s(o[e],function(e){e(t)})}var o={},a=e.filter,s=e.each;return r(\"pre\",function(r){function i(t){return u(t.previousSibling)&&e.indexOf(c,t.previousSibling)!=-1}function o(e,t){n(t).remove(),n(e).append(\"<br><br>\").append(t.childNodes)}var l=r.selection.getRng(),u,c;u=t.matchNodeNames(\"pre\"),l.collapsed||(c=r.selection.getSelectedBlocks(),s(a(a(c,u),i),function(e){o(e.previousSibling,e)}))}),{postProcess:i}}),r(J,[y,T,j,X,z,m,K,G],function(e,t,n,r,i,o,a,s){return function(l){function u(e){return e.nodeType&&(e=e.nodeName),!!l.schema.getTextBlockElements()[e.toLowerCase()]}function c(e){return/^(TH|TD)$/.test(e.nodeName)}function d(e){return e&&/^(IMG)$/.test(e.nodeName)}function f(e,t){return Q.getParents(e,t,Q.getRoot())}function p(e){return 1===e.nodeType&&\"_mce_caret\"===e.id}function h(){v({valigntop:[{selector:\"td,th\",styles:{verticalAlign:\"top\"}}],valignmiddle:[{selector:\"td,th\",styles:{verticalAlign:\"middle\"}}],valignbottom:[{selector:\"td,th\",styles:{verticalAlign:\"bottom\"}}],alignleft:[{selector:\"figure.image\",collapsed:!1,classes:\"align-left\",ceFalseOverride:!0,preview:\"font-family font-size\"},{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li\",styles:{textAlign:\"left\"},inherit:!1,preview:!1,defaultBlock:\"div\"},{selector:\"img,table\",collapsed:!1,styles:{\"float\":\"left\"},preview:\"font-family font-size\"}],aligncenter:[{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li\",styles:{textAlign:\"center\"},inherit:!1,preview:!1,defaultBlock:\"div\"},{selector:\"figure.image\",collapsed:!1,classes:\"align-center\",ceFalseOverride:!0,preview:\"font-family font-size\"},{selector:\"img\",collapsed:!1,styles:{display:\"block\",marginLeft:\"auto\",marginRight:\"auto\"},preview:!1},{selector:\"table\",collapsed:!1,styles:{marginLeft:\"auto\",marginRight:\"auto\"},preview:\"font-family font-size\"}],alignright:[{selector:\"figure.image\",collapsed:!1,classes:\"align-right\",ceFalseOverride:!0,preview:\"font-family font-size\"},{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li\",styles:{textAlign:\"right\"},inherit:!1,preview:\"font-family font-size\",defaultBlock:\"div\"},{selector:\"img,table\",collapsed:!1,styles:{\"float\":\"right\"},preview:\"font-family font-size\"}],alignjustify:[{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li\",styles:{textAlign:\"justify\"},inherit:!1,defaultBlock:\"div\",preview:\"font-family font-size\"}],bold:[{inline:\"strong\",remove:\"all\"},{inline:\"span\",styles:{fontWeight:\"bold\"}},{inline:\"b\",remove:\"all\"}],italic:[{inline:\"em\",remove:\"all\"},{inline:\"span\",styles:{fontStyle:\"italic\"}},{inline:\"i\",remove:\"all\"}],underline:[{inline:\"span\",styles:{textDecoration:\"underline\"},exact:!0},{inline:\"u\",remove:\"all\"}],strikethrough:[{inline:\"span\",styles:{textDecoration:\"line-through\"},exact:!0},{inline:\"strike\",remove:\"all\"}],forecolor:{inline:\"span\",styles:{color:\"%value\"},links:!0,remove_similar:!0},hilitecolor:{inline:\"span\",styles:{backgroundColor:\"%value\"},links:!0,remove_similar:!0},fontname:{inline:\"span\",styles:{fontFamily:\"%value\"}},fontsize:{inline:\"span\",styles:{fontSize:\"%value\"}},fontsize_class:{inline:\"span\",attributes:{\"class\":\"%value\"}},blockquote:{block:\"blockquote\",wrapper:1,remove:\"all\"},subscript:{inline:\"sub\"},superscript:{inline:\"sup\"},code:{inline:\"code\"},link:{inline:\"a\",selector:\"a\",remove:\"all\",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,n){me(n,function(t,n){Q.setAttrib(e,n,t)})}},removeformat:[{selector:\"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins\",remove:\"all\",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:\"span\",attributes:[\"style\",\"class\"],remove:\"empty\",split:!0,expand:!1,\ndeep:!0},{selector:\"*\",attributes:[\"style\",\"class\"],split:!1,expand:!1,deep:!0}]}),me(\"p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp\".split(/\\s/),function(e){v(e,{block:e,remove:\"all\"})}),v(l.settings.formats)}function m(){l.addShortcut(\"meta+b\",\"bold_desc\",\"Bold\"),l.addShortcut(\"meta+i\",\"italic_desc\",\"Italic\"),l.addShortcut(\"meta+u\",\"underline_desc\",\"Underline\");for(var e=1;e<=6;e++)l.addShortcut(\"access+\"+e,\"\",[\"FormatBlock\",!1,\"h\"+e]);l.addShortcut(\"access+7\",\"\",[\"FormatBlock\",!1,\"p\"]),l.addShortcut(\"access+8\",\"\",[\"FormatBlock\",!1,\"div\"]),l.addShortcut(\"access+9\",\"\",[\"FormatBlock\",!1,\"address\"])}function g(e){return e?J[e]:J}function v(e,t){e&&(\"string\"!=typeof e?me(e,function(e,t){v(t,e)}):(t=t.length?t:[t],me(t,function(e){e.deep===ce&&(e.deep=!e.selector),e.split===ce&&(e.split=!e.selector||e.inline),e.remove===ce&&e.selector&&!e.inline&&(e.remove=\"none\"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),\"string\"==typeof e.classes&&(e.classes=e.classes.split(/\\s+/))}),J[e]=t))}function y(e){return e&&J[e]&&delete J[e],J}function b(e,t){var n=g(t);if(n)for(var r=0;r<n.length;r++)if(n[r].inherit===!1&&Q.is(e,n[r].selector))return!0;return!1}function C(e){var t;return l.dom.getParent(e,function(e){return t=l.dom.getStyle(e,\"text-decoration\"),t&&\"none\"!==t}),t}function x(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=C(e.parentNode),l.dom.getStyle(e,\"color\")&&t?l.dom.setStyle(e,\"text-decoration\",t):l.dom.getStyle(e,\"text-decoration\")===t&&l.dom.setStyle(e,\"text-decoration\",null))}function w(t,n,r){function i(e,t){if(t=t||f,e){if(t.onformat&&t.onformat(e,t,n,r),me(t.styles,function(t,r){Q.setStyle(e,r,F(t,n))}),t.styles){var i=Q.getAttrib(e,\"style\");i&&e.setAttribute(\"data-mce-style\",i)}me(t.attributes,function(t,r){Q.setAttrib(e,r,F(t,n))}),me(t.classes,function(t){t=F(t,n),Q.hasClass(e,t)||Q.addClass(e,t)})}}function o(e,t){var n=!1;return!!f.selector&&(me(e,function(e){if(!(\"collapsed\"in e&&e.collapsed!==v))return Q.is(t,e.selector)&&!p(t)?(i(t,e),n=!0,!1):void 0}),n)}function a(){function t(t,n){var i=new e(n);for(r=i.prev2();r;r=i.prev2()){if(3==r.nodeType&&r.data.length>0)return r;if(r.childNodes.length>1||r==t||\"BR\"==r.tagName)return r}}var n=l.selection.getRng(),i=n.startContainer,o=n.endContainer;if(i!=o&&0===n.endOffset){var a=t(i,o),s=3==a.nodeType?a.data.length:a.childNodes.length;n.setEnd(a,s)}return n}function c(e,r,a){var s=[],l,c,h=!0;l=f.inline||f.block,c=Q.create(l),i(c),ee.walk(e,function(e){function r(e){var g,v,y,b;if(b=h,g=e.nodeName.toLowerCase(),v=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&&de(e)&&(b=h,h=\"true\"===de(e),y=!0),D(g,\"br\"))return m=0,void(f.block&&Q.remove(e));if(f.wrapper&&_(e,t,n))return void(m=0);if(h&&!y&&f.block&&!f.wrapper&&u(g)&&te(v,l))return e=Q.rename(e,l),i(e),s.push(e),void(m=0);if(f.selector){var C=o(d,e);if(!f.inline||C)return void(m=0)}!h||y||!te(l,g)||!te(v,l)||!a&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||p(e)||f.inline&&ne(e)?(m=0,me(ge(e.childNodes),r),y&&(h=b),m=0):(m||(m=Q.clone(c,se),e.parentNode.insertBefore(m,e),s.push(m)),m.appendChild(e))}var m;me(e,r)}),f.links===!0&&me(s,function(e){function t(e){\"A\"===e.nodeName&&i(e,f),me(ge(e.childNodes),t)}t(e)}),me(s,function(e){function r(e){var t=0;return me(e.childNodes,function(e){z(e)||he(e)||t++}),t}function o(e){var t=!1;return me(e.childNodes,function(e){if(M(e))return t=e,!1}),t}function a(e,t){do{if(1!==r(e))break;if(e=o(e),!e)break;if(t(e))return e}while(e);return null}function l(e){var t,n;return t=o(e),t&&!he(t)&&B(t,f)&&(n=Q.clone(t,se),i(n),Q.replace(n,e,le),Q.remove(t,1)),n||e}var u;if(u=r(e),(s.length>1||!ne(e))&&0===u)return void Q.remove(e,1);if(f.inline||f.wrapper){if(f.exact||1!==u||(e=l(e)),me(d,function(t){me(Q.select(t.inline,e),function(e){he(e)||$(t,n,e,t.exact?e:null)})}),_(e.parentNode,t,n)&&$(f,n,e)&&(e=0),f.merge_with_parents&&Q.getParent(e.parentNode,function(r){if(_(r,t,n))return $(f,n,e)&&(e=0),le}),!ne(e)&&!H(e,\"fontSize\")){var c=a(e,P(\"fontSize\"));c&&w(\"fontsize\",{value:H(c,\"fontSize\")},e)}e&&f.merge_siblings!==!1&&(e=Y(j(e),e),e=Y(e,j(e,le)))}})}var d=g(t),f=d[0],h,m,v=!r&&Z.isCollapsed();if(\"false\"!==de(Z.getNode())){if(f){if(r)r.nodeType?o(d,r)||(m=Q.createRng(),m.setStartBefore(r),m.setEndAfter(r),c(W(m,d),null,!0)):c(r,null,!0);else if(v&&f.inline&&!Q.select(\"td[data-mce-selected],th[data-mce-selected]\").length)K(\"apply\",t,n);else{var y=l.selection.getNode();re||!d[0].defaultBlock||Q.getParent(y,Q.isBlock)||w(d[0].defaultBlock),l.selection.setRng(a()),h=Z.getBookmark(),c(W(Z.getRng(le),d),h),f.styles&&((f.styles.color||f.styles.textDecoration)&&(ve(y,x,\"childNodes\"),x(y)),f.styles.backgroundColor&&L(y,P(\"fontSize\"),O(\"backgroundColor\",F(f.styles.backgroundColor,n)))),Z.moveToBookmark(h),G(Z.getRng(le)),l.nodeChanged()}s.postProcess(t,l)}}else{r=Z.getNode();for(var b=0,C=d.length;b<C;b++)if(d[b].ceFalseOverride&&Q.is(r,d[b].selector))return void i(r,d[b])}}function E(e,t,n,r){function i(e){var n,r,o,a,s;if(1===e.nodeType&&de(e)&&(a=y,y=\"true\"===de(e),s=!0),n=ge(e.childNodes),y&&!s)for(r=0,o=p.length;r<o&&!$(p[r],t,e,e);r++);if(h.deep&&n.length){for(r=0,o=n.length;r<o;r++)i(n[r]);s&&(y=a)}}function o(n){var i;return me(f(n.parentNode).reverse(),function(n){var o;i||\"_start\"==n.id||\"_end\"==n.id||(o=_(n,e,t,r),o&&o.split!==!1&&(i=n))}),i}function a(e,n,r,i){var o,a,s,l,u,c;if(e){for(c=e.parentNode,o=n.parentNode;o&&o!=c;o=o.parentNode){for(a=Q.clone(o,se),u=0;u<p.length;u++)if($(p[u],t,a,a)){a=0;break}a&&(s&&a.appendChild(s),l||(l=a),s=a)}!i||h.mixed&&ne(e)||(n=Q.split(e,n)),s&&(r.parentNode.insertBefore(s,r),l.appendChild(r))}return n}function s(e){return a(o(e),e,e,!0)}function u(e){var t=Q.get(e?\"_start\":\"_end\"),n=t[e?\"firstChild\":\"lastChild\"];return he(n)&&(n=n[e?\"firstChild\":\"lastChild\"]),3==n.nodeType&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),Q.remove(t,!0),n}function d(e){var t,n,r=e.commonAncestorContainer;if(e=W(e,p,le),h.split){if(t=X(e,le),n=X(e),t!=n){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t=\"TR\"==t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&c(n)&&n.firstChild&&(n=n.firstChild||n),Q.isChildOf(t,n)&&!ne(n)&&!c(t)&&!c(n))return t=U(t,\"span\",{id:\"_start\",\"data-mce-type\":\"bookmark\"}),s(t),void(t=u(le));t=U(t,\"span\",{id:\"_start\",\"data-mce-type\":\"bookmark\"}),n=U(n,\"span\",{id:\"_end\",\"data-mce-type\":\"bookmark\"}),s(t),s(n),t=u(le),n=u()}else t=n=s(t);e.startContainer=t.parentNode?t.parentNode:t,e.startOffset=ie(t),e.endContainer=n.parentNode?n.parentNode:n,e.endOffset=ie(n)+1}ee.walk(e,function(e){me(e,function(e){i(e),1===e.nodeType&&\"underline\"===l.dom.getStyle(e,\"text-decoration\")&&e.parentNode&&\"underline\"===C(e.parentNode)&&$({deep:!1,exact:!0,inline:\"span\",styles:{textDecoration:\"underline\"}},null,e)})})}var p=g(e),h=p[0],m,v,y=!0;if(n)return void(n.nodeType?(v=Q.createRng(),v.setStartBefore(n),v.setEndAfter(n),d(v)):d(n));if(\"false\"!==de(Z.getNode()))Z.isCollapsed()&&h.inline&&!Q.select(\"td[data-mce-selected],th[data-mce-selected]\").length?K(\"remove\",e,t,r):(m=Z.getBookmark(),d(Z.getRng(le)),Z.moveToBookmark(m),h.inline&&S(e,t,Z.getStart())&&G(Z.getRng(!0)),l.nodeChanged());else{n=Z.getNode();for(var b=0,x=p.length;b<x&&(!p[b].ceFalseOverride||!$(p[b],t,n,n));b++);}}function N(e,t,n){var r=g(e);!S(e,t,n)||\"toggle\"in r[0]&&!r[0].toggle?w(e,t,n):E(e,t,n)}function _(e,t,n,r){function i(e,t,i){var o,a,s=t[i],l;if(t.onmatch)return t.onmatch(e,t,i);if(s)if(s.length===ce){for(o in s)if(s.hasOwnProperty(o)){if(a=\"attributes\"===i?Q.getAttrib(e,o):H(e,o),r&&!a&&!t.exact)return;if((!r||t.exact)&&!D(a,I(F(s[o],n),o)))return}}else for(l=0;l<s.length;l++)if(\"attributes\"===i?Q.getAttrib(e,s[l]):H(e,s[l]))return t;return t}var o=g(t),a,s,l;if(o&&e)for(s=0;s<o.length;s++)if(a=o[s],B(e,a)&&i(e,a,\"attributes\")&&i(e,a,\"styles\")){if(l=a.classes)for(s=0;s<l.length;s++)if(!Q.hasClass(e,l[s]))return;return a}}function S(e,t,n){function r(n){var r=Q.getRoot();return n!==r&&(n=Q.getParent(n,function(n){return!!b(n,e)||(n.parentNode===r||!!_(n,e,t,!0))}),_(n,e,t))}var i;return n?r(n):(n=Z.getNode(),r(n)?le:(i=Z.getStart(),i!=n&&r(i)?le:se))}function k(e,t){var n,r=[],i={};return n=Z.getStart(),Q.getParent(n,function(n){var o,a;for(o=0;o<e.length;o++)a=e[o],!i[a]&&_(n,a,t)&&(i[a]=!0,r.push(a))},Q.getRoot()),r}function T(e){var t=g(e),n,r,i,o,a;if(t)for(n=Z.getStart(),r=f(n),o=t.length-1;o>=0;o--){if(a=t[o].selector,!a||t[o].defaultBlock)return le;for(i=r.length-1;i>=0;i--)if(Q.is(r[i],a))return le}return se}function R(e,t,n){var r;return ue||(ue={},r={},l.on(\"NodeChange\",function(e){var t=f(e.element),n={};t=o.grep(t,function(e){return 1==e.nodeType&&!e.getAttribute(\"data-mce-bogus\")}),me(ue,function(e,i){me(t,function(o){return _(o,i,{},e.similar)?(r[i]||(me(e,function(e){e(!0,{node:o,format:i,parents:t})}),r[i]=e),n[i]=e,!1):!b(o,i)&&void 0})}),me(r,function(i,o){n[o]||(delete r[o],me(i,function(n){n(!1,{node:e.element,format:o,parents:t})}))})})),me(e.split(\",\"),function(e){ue[e]||(ue[e]=[],ue[e].similar=n),ue[e].push(t)}),this}function A(e){return a.getCssText(l,e)}function B(e,t){return D(e,t.inline)?le:D(e,t.block)?le:t.selector?1==e.nodeType&&Q.is(e,t.selector):void 0}function D(e,t){return e=e||\"\",t=t||\"\",e=\"\"+(e.nodeName||e),t=\"\"+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function L(e,t,n){me(e.childNodes,function(e){M(e)&&(t(e)&&n(e),e.hasChildNodes()&&L(e,t,n))})}function M(e){return 1==e.nodeType&&!he(e)&&!z(e)&&!p(e)}function P(e){return i.curry(function(e,t){return!(!t||!H(t,e))},e)}function O(e,t){return i.curry(function(e,t,n){Q.setStyle(n,e,t)},e,t)}function H(e,t){return I(Q.getStyle(e,t),t)}function I(e,t){return\"color\"!=t&&\"backgroundColor\"!=t||(e=Q.toHex(e)),\"fontWeight\"==t&&700==e&&(e=\"bold\"),\"fontFamily\"==t&&(e=e.replace(/[\\'\\\"]/g,\"\").replace(/,\\s+/g,\",\")),\"\"+e}function F(e,t){return\"string\"!=typeof e?e=e(t):t&&(e=e.replace(/%(\\w+)/g,function(e,n){return t[n]||e})),e}function z(e){return e&&3===e.nodeType&&/^([\\t \\r\\n]+|)$/.test(e.nodeValue)}function U(e,t,n){var r=Q.create(t,n);return e.parentNode.insertBefore(r,e),r.appendChild(e),r}function W(t,n,r){function i(e){function t(e){return\"BR\"==e.nodeName&&e.getAttribute(\"data-mce-bogus\")&&!e.nextSibling}var r,i,o,a,s;if(r=i=e?g:y,a=e?\"previousSibling\":\"nextSibling\",s=Q.getRoot(),3==r.nodeType&&!z(r)&&(e?v>0:b<r.nodeValue.length))return r;for(;;){if(!n[0].block_expand&&ne(i))return i;for(o=i[a];o;o=o[a])if(!he(o)&&!z(o)&&!t(o))return i;if(i==s||i.parentNode==s){r=i;break}i=i.parentNode}return r}function o(e,t){for(t===ce&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function a(e){for(var t=e;t;){if(1===t.nodeType&&de(t))return\"false\"===de(t)?t:e;t=t.parentNode}return e}function s(t,n,i){function o(e,t){var n,o,a=e.nodeValue;return\"undefined\"==typeof t&&(t=i?a.length:0),i?(n=a.lastIndexOf(\" \",t),o=a.lastIndexOf(\"\\xa0\",t),n=n>o?n:o,n===-1||r||n++):(n=a.indexOf(\" \",t),o=a.indexOf(\"\\xa0\",t),n=n!==-1&&(o===-1||n<o)?n:o),n}var a,s,u,c;if(3===t.nodeType){if(u=o(t,n),u!==-1)return{container:t,offset:u};c=t}for(a=new e(t,Q.getParent(t,ne)||l.getBody());s=a[i?\"prev\":\"next\"]();)if(3===s.nodeType){if(c=s,u=o(s),u!==-1)return{container:s,offset:u}}else if(ne(s))break;if(c)return n=i?0:c.length,{container:c,offset:n}}function c(e,r){var i,o,a,s;for(3==e.nodeType&&0===e.nodeValue.length&&e[r]&&(e=e[r]),i=f(e),o=0;o<i.length;o++)for(a=0;a<n.length;a++)if(s=n[a],!(\"collapsed\"in s&&s.collapsed!==t.collapsed)&&Q.is(i[o],s.selector))return i[o];return e}function d(e,t){var r,i=Q.getRoot();if(n[0].wrapper||(r=Q.getParent(e,n[0].block,i)),r||(r=Q.getParent(3==e.nodeType?e.parentNode:e,function(e){return e!=i&&u(e)})),r&&n[0].wrapper&&(r=f(r,\"ul,ol\").reverse()[0]||r),!r)for(r=e;r[t]&&!ne(r[t])&&(r=r[t],!D(r,\"br\")););return r||e}var p,h,m,g=t.startContainer,v=t.startOffset,y=t.endContainer,b=t.endOffset;if(1==g.nodeType&&g.hasChildNodes()&&(p=g.childNodes.length-1,g=g.childNodes[v>p?p:v],3==g.nodeType&&(v=0)),1==y.nodeType&&y.hasChildNodes()&&(p=y.childNodes.length-1,y=y.childNodes[b>p?p:b-1],3==y.nodeType&&(b=y.nodeValue.length)),g=a(g),y=a(y),(he(g.parentNode)||he(g))&&(g=he(g)?g:g.parentNode,g=g.nextSibling||g,3==g.nodeType&&(v=0)),(he(y.parentNode)||he(y))&&(y=he(y)?y:y.parentNode,y=y.previousSibling||y,3==y.nodeType&&(b=y.length)),n[0].inline&&(t.collapsed&&(m=s(g,v,!0),m&&(g=m.container,v=m.offset),m=s(y,b),m&&(y=m.container,b=m.offset)),h=o(y,b),h.node)){for(;h.node&&0===h.offset&&h.node.previousSibling;)h=o(h.node.previousSibling);h.node&&h.offset>0&&3===h.node.nodeType&&\" \"===h.node.nodeValue.charAt(h.offset-1)&&h.offset>1&&(y=h.node,y.splitText(h.offset-1))}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&3==g.nodeType&&0!==v||(g=i(!0)),n[0].inline&&3==y.nodeType&&b!==y.nodeValue.length||(y=i())),n[0].selector&&n[0].expand!==se&&!n[0].inline&&(g=c(g,\"previousSibling\"),y=c(y,\"nextSibling\")),(n[0].block||n[0].selector)&&(g=d(g,\"previousSibling\"),y=d(y,\"nextSibling\"),n[0].block&&(ne(g)||(g=i(!0)),ne(y)||(y=i()))),1==g.nodeType&&(v=ie(g),g=g.parentNode),1==y.nodeType&&(b=ie(y)+1,y=y.parentNode),{startContainer:g,startOffset:v,endContainer:y,endOffset:b}}function V(e,t){return t.links&&\"A\"==e.tagName}function $(e,t,n,r){var i,o,a;if(!B(n,e)&&!V(n,e))return se;if(\"all\"!=e.remove)for(me(e.styles,function(i,o){i=I(F(i,t),o),\"number\"==typeof o&&(o=i,r=0),(e.remove_similar||!r||D(H(r,o),i))&&Q.setStyle(n,o,\"\"),a=1}),a&&\"\"===Q.getAttrib(n,\"style\")&&(n.removeAttribute(\"style\"),n.removeAttribute(\"data-mce-style\")),me(e.attributes,function(e,i){var o;if(e=F(e,t),\"number\"==typeof i&&(i=e,r=0),!r||D(Q.getAttrib(r,i),e)){if(\"class\"==i&&(e=Q.getAttrib(n,i),e&&(o=\"\",me(e.split(/\\s+/),function(e){/mce\\-\\w+/.test(e)&&(o+=(o?\" \":\"\")+e)}),o)))return void Q.setAttrib(n,i,o);\"class\"==i&&n.removeAttribute(\"className\"),ae.test(i)&&n.removeAttribute(\"data-mce-\"+i),n.removeAttribute(i)}}),me(e.classes,function(e){e=F(e,t),r&&!Q.hasClass(r,e)||Q.removeClass(n,e)}),o=Q.getAttribs(n),i=0;i<o.length;i++){var s=o[i].nodeName;if(0!==s.indexOf(\"_\")&&0!==s.indexOf(\"data-\"))return se}return\"none\"!=e.remove?(q(n,e),le):void 0}function q(e,t){function n(e,t,n){return e=j(e,t,n),!e||\"BR\"==e.nodeName||ne(e)}var r=e.parentNode,i;t.block&&(re?r==Q.getRoot()&&(t.list_block&&D(e,t.list_block)||me(ge(e.childNodes),function(e){te(re,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=U(e,re),Q.setAttribs(i,l.settings.forced_root_block_attrs)):i=0})):ne(e)&&!ne(r)&&(n(e,se)||n(e.firstChild,le,1)||e.insertBefore(Q.create(\"br\"),e.firstChild),n(e,le)||n(e.lastChild,se,1)||e.appendChild(Q.create(\"br\")))),t.selector&&t.inline&&!D(t.inline,e)||Q.remove(e,1)}function j(e,t,n){if(e)for(t=t?\"nextSibling\":\"previousSibling\",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!z(e))return e}function Y(e,t){function n(e,t){for(i=e;i;i=i[t]){if(3==i.nodeType&&0!==i.nodeValue.length)return e;if(1==i.nodeType&&!he(i))return i}return e}var i,o,a=new r(Q);if(e&&t&&(e=n(e,\"previousSibling\"),t=n(t,\"nextSibling\"),a.compare(e,t))){for(i=e.nextSibling;i&&i!=t;)o=i,i=i.nextSibling,e.appendChild(o);return Q.remove(t),me(ge(t.childNodes),function(t){e.appendChild(t)}),e}return t}function X(t,n){var r,i,o;return r=t[n?\"startContainer\":\"endContainer\"],i=t[n?\"startOffset\":\"endOffset\"],1==r.nodeType&&(o=r.childNodes.length-1,!n&&i&&i--,r=r.childNodes[i>o?o:i]),3===r.nodeType&&n&&i>=r.nodeValue.length&&(r=new e(r,l.getBody()).next()||r),3!==r.nodeType||n||0!==i||(r=new e(r,l.getBody()).prev()||r),r}function K(t,n,r,i){function o(e){var t=Q.create(\"span\",{id:m,\"data-mce-bogus\":!0,style:v?\"color:red\":\"\"});return e&&t.appendChild(l.getDoc().createTextNode(oe)),t}function a(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==oe||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function s(e){for(;e;){if(e.id===m)return e;e=e.parentNode}}function c(t){var n;if(t)for(n=new e(t,t),t=n.current();t;t=n.next())if(3===t.nodeType)return t}function d(e,t){var n,r;if(e)r=Z.getRng(!0),a(e)?(t!==!1&&(r.setStartBefore(e),r.setEndBefore(e)),Q.remove(e)):(n=c(e),n.nodeValue.charAt(0)===oe&&(n.deleteData(0,1),r.startContainer==n&&r.startOffset>0&&r.setStart(n,r.startOffset-1),r.endContainer==n&&r.endOffset>0&&r.setEnd(n,r.endOffset-1)),Q.remove(e,1)),Z.setRng(r);else if(e=s(Z.getStart()),!e)for(;e=Q.get(m);)d(e,!1)}function f(){var e,t,i,a,l,u,d;e=Z.getRng(!0),a=e.startOffset,u=e.startContainer,d=u.nodeValue,t=s(Z.getStart()),t&&(i=c(t));var f=/[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;d&&a>0&&a<d.length&&f.test(d.charAt(a))&&f.test(d.charAt(a-1))?(l=Z.getBookmark(),e.collapse(!0),e=W(e,g(n)),e=ee.split(e),w(n,r,e),Z.moveToBookmark(l)):(t&&i.nodeValue===oe?w(n,r,t):(t=o(!0),i=t.firstChild,e.insertNode(t),a=1,w(n,r,t)),Z.setCursorLocation(i,a))}function p(){var e=Z.getRng(!0),t,a,s,l,c,d,f=[],p,h;for(t=e.startContainer,a=e.startOffset,c=t,3==t.nodeType&&(a!=t.nodeValue.length&&(l=!0),c=c.parentNode);c;){if(_(c,n,r,i)){d=c;break}c.nextSibling&&(l=!0),f.push(c),c=c.parentNode}if(d)if(l)s=Z.getBookmark(),e.collapse(!0),e=W(e,g(n),!0),e=ee.split(e),E(n,r,e),Z.moveToBookmark(s);else{for(h=o(),c=h,p=f.length-1;p>=0;p--)c.appendChild(Q.clone(f[p],!1)),c=c.firstChild;c.appendChild(Q.doc.createTextNode(oe)),c=c.firstChild;var m=Q.getParent(d,u);m&&Q.isEmpty(m)?d.parentNode.replaceChild(h,d):Q.insertAfter(h,d),Z.setCursorLocation(c,1),Q.isEmpty(d)&&Q.remove(d)}}function h(){var e;e=s(Z.getStart()),e&&!Q.isEmpty(e)&&ve(e,function(e){1!=e.nodeType||e.id===m||Q.isEmpty(e)||Q.setAttrib(e,\"data-mce-bogus\",null)},\"childNodes\")}var m=\"_mce_caret\",v=l.settings.caret_debug;l._hasCaretEvents||(pe=function(){var e=[],t;if(a(s(Z.getStart()),e))for(t=e.length;t--;)Q.setAttrib(e[t],\"data-mce-bogus\",\"1\")},fe=function(e){var t=e.keyCode;d(),8==t&&Z.isCollapsed()&&Z.getStart().innerHTML==oe&&d(s(Z.getStart())),37!=t&&39!=t||d(s(Z.getStart())),h()},l.on(\"SetContent\",function(e){e.selection&&h()}),l._hasCaretEvents=!0),\"apply\"==t?f():p()}function G(t){var n=t.startContainer,r=t.startOffset,i,o,a,s,l;if((t.startContainer!=t.endContainer||!d(t.startContainer.childNodes[t.startOffset]))&&(3==n.nodeType&&r>=n.nodeValue.length&&(r=ie(n),n=n.parentNode,i=!0),1==n.nodeType))for(s=n.childNodes,n=s[Math.min(r,s.length-1)],o=new e(n,Q.getParent(n,Q.isBlock)),(r>s.length-1||i)&&o.next(),a=o.current();a;a=o.next())if(3==a.nodeType&&!z(a))return l=Q.create(\"a\",{\"data-mce-bogus\":\"all\"},oe),a.parentNode.insertBefore(l,a),t.setStart(a,0),Z.setRng(t),void Q.remove(l)}var J={},Q=l.dom,Z=l.selection,ee=new t(Q),te=l.schema.isValidChild,ne=Q.isBlock,re=l.settings.forced_root_block,ie=Q.nodeIndex,oe=\"\\ufeff\",ae=/^(src|href|style)$/,se=!1,le=!0,ue,ce,de=Q.getContentEditable,fe,pe,he=n.isBookmarkNode,me=o.each,ge=o.grep,ve=o.walk,ye=o.extend;ye(this,{get:g,register:v,unregister:y,apply:w,remove:E,toggle:N,match:S,matchAll:k,matchNode:_,canApply:T,formatChanged:R,getCssText:A}),h(),m(),l.on(\"BeforeGetContent\",function(e){pe&&\"raw\"!=e.format&&pe()}),l.on(\"mouseup keydown\",function(e){fe&&fe(e)})}}),r(Q,[],function(){var e=0,t=1,n=2,r=function(r,i){var o=r.length+i.length+2,a=new Array(o),s=new Array(o),l=function(e,t,n){return{start:e,end:t,diag:n}},u=function(o,a,s,l,c){var f=d(o,a,s,l);if(null===f||f.start===a&&f.diag===a-l||f.end===o&&f.diag===o-s)for(var p=o,h=s;p<a||h<l;)p<a&&h<l&&r[p]===i[h]?(c.push([e,r[p]]),++p,++h):a-o>l-s?(c.push([n,r[p]]),++p):(c.push([t,i[h]]),++h);else{u(o,f.start,s,f.start-f.diag,c);for(var m=f.start;m<f.end;++m)c.push([e,r[m]]);u(f.end,a,f.end-f.diag,l,c)}},c=function(e,t,n,o){for(var a=e;a-t<o&&a<n&&r[a]===i[a-t];)++a;return l(e,a,t)},d=function(e,t,n,o){var l=t-e,u=o-n;if(0===l||0===u)return null;var d=l-u,f=u+l,p=(f%2===0?f:f+1)/2;a[1+p]=e,s[1+p]=t+1;for(var h=0;h<=p;++h){for(var m=-h;m<=h;m+=2){var g=m+p;m===-h||m!=h&&a[g-1]<a[g+1]?a[g]=a[g+1]:a[g]=a[g-1]+1;for(var v=a[g],y=v-e+n-m;v<t&&y<o&&r[v]===i[y];)a[g]=++v,++y;if(d%2!=0&&d-h<=m&&m<=d+h&&s[g-d]<=a[g])return c(s[g-d],m+e-n,t,o)}for(m=d-h;m<=d+h;m+=2){for(g=m+p-d,m===d-h||m!=d+h&&s[g+1]<=s[g-1]?s[g]=s[g+1]-1:s[g]=s[g-1],v=s[g]-1,y=v-e+n-m;v>=e&&y>=n&&r[v]===i[y];)s[g]=v--,y--;if(d%2===0&&-h<=m&&m<=h&&s[g]<=a[g+d])return c(s[g],m+e-n,t,o)}}},f=[];return u(0,r.length,0,i.length,f),f};return{KEEP:e,DELETE:n,INSERT:t,diff:r}}),r(Z,[h,C,Q],function(e,t,n){var r=function(e){return 1===e.nodeType?e.outerHTML:3===e.nodeType?t.encodeRaw(e.data,!1):8===e.nodeType?\"<!--\"+e.data+\"-->\":\"\"},i=function(e){var t,n,r;for(r=document.createElement(\"div\"),t=document.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t},o=function(e,t,n){var r=i(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)},a=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},s=function(t,r){var i=0;e.each(t,function(e){e[0]===n.KEEP?i++:e[0]===n.INSERT?(o(r,e[1],i),i++):e[0]===n.DELETE&&a(r,i)})},l=function(t){return e.map(t.childNodes,r)},u=function(t,i){var o=e.map(i.childNodes,r);return s(n.diff(o,t),i),i};return{read:l,write:u}}),r(ee,[h,Z],function(e,t){var n=function(e){return e.indexOf(\"</iframe>\")!==-1},r=function(e){return{type:\"fragmented\",fragments:e,content:\"\",bookmark:null,beforeBookmark:null}},i=function(e){return{type:\"complete\",fragments:null,content:e,bookmark:null,beforeBookmark:null}},o=function(o){var a,s,l;return a=t.read(o.getBody()),l=e.map(a,function(e){return o.serializer.trimContent(e)}),s=l.join(\"\"),n(s)?r(l):i(s)},a=function(e,n,r){\"fragmented\"===n.type?t.write(n.fragments,e.getBody()):e.setContent(n.content,{format:\"raw\"}),e.selection.moveToBookmark(r?n.beforeBookmark:n.bookmark)},s=function(e){return\"fragmented\"===e.type?e.fragments.join(\"\"):e.content},l=function(e,t){return s(e)===s(t)};return{createFragmentedLevel:r,createCompleteLevel:i,createFromEditor:o,applyToEditor:a,isEq:l}}),r(te,[I,m,ee],function(e,t,n){return function(e){function r(t){e.setDirty(t)}function i(e){a.typing=!1,a.add({},e)}function o(){a.typing&&(a.typing=!1,a.add())}var a=this,s=0,l=[],u,c,d=0;return e.on(\"init\",function(){a.add()}),e.on(\"BeforeExecCommand\",function(e){var t=e.command;\"Undo\"!==t&&\"Redo\"!==t&&\"mceRepaint\"!==t&&(o(),a.beforeChange())}),e.on(\"ExecCommand\",function(e){var t=e.command;\"Undo\"!==t&&\"Redo\"!==t&&\"mceRepaint\"!==t&&i(e)}),e.on(\"ObjectResizeStart Cut\",function(){a.beforeChange()}),e.on(\"SaveContent ObjectResized blur\",i),e.on(\"DragEnd\",i),e.on(\"KeyUp\",function(t){var o=t.keyCode;t.isDefaultPrevented()||((o>=33&&o<=36||o>=37&&o<=40||45===o||t.ctrlKey)&&(i(),e.nodeChanged()),46!==o&&8!==o||e.nodeChanged(),c&&a.typing&&(e.isDirty()||(r(l[0]&&!n.isEq(n.createFromEditor(e),l[0])),e.isDirty()&&e.fire(\"change\",{level:l[0],lastLevel:null})),e.fire(\"TypingUndo\"),c=!1,e.nodeChanged()))}),e.on(\"KeyDown\",function(e){var t=e.keyCode;if(!e.isDefaultPrevented()){if(t>=33&&t<=36||t>=37&&t<=40||45===t)return void(a.typing&&i(e));var n=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||t>20)||224===t||91===t||a.typing||n||(a.beforeChange(),a.typing=!0,a.add({},e),c=!0)}}),e.on(\"MouseDown\",function(e){a.typing&&i(e)}),e.addShortcut(\"meta+z\",\"\",\"Undo\"),e.addShortcut(\"meta+y,meta+shift+z\",\"\",\"Redo\"),e.on(\"AddUndo Undo Redo ClearUndos\",function(t){t.isDefaultPrevented()||e.nodeChanged()}),a={data:l,typing:!1,beforeChange:function(){d||(u=e.selection.getBookmark(2,!0))},add:function(i,o){var a,c=e.settings,f,p;if(p=n.createFromEditor(e),i=i||{},i=t.extend(i,p),d||e.removed)return null;if(f=l[s],e.fire(\"BeforeAddUndo\",{level:i,lastLevel:f,originalEvent:o}).isDefaultPrevented())return null;if(f&&n.isEq(f,i))return null;if(l[s]&&(l[s].beforeBookmark=u),c.custom_undo_redo_levels&&l.length>c.custom_undo_redo_levels){for(a=0;a<l.length-1;a++)l[a]=l[a+1];l.length--,s=l.length}i.bookmark=e.selection.getBookmark(2,!0),s<l.length-1&&(l.length=s+1),l.push(i),s=l.length-1;var h={level:i,lastLevel:f,originalEvent:o};return e.fire(\"AddUndo\",h),s>0&&(r(!0),e.fire(\"change\",h)),i},undo:function(){var t;return a.typing&&(a.add(),a.typing=!1),s>0&&(t=l[--s],n.applyToEditor(e,t,!0),r(!0),e.fire(\"undo\",{level:t})),t},redo:function(){var t;return s<l.length-1&&(t=l[++s],n.applyToEditor(e,t,!1),r(!0),e.fire(\"redo\",{level:t})),t},clear:function(){l=[],s=0,a.typing=!1,a.data=l,e.fire(\"ClearUndos\")},hasUndo:function(){return s>0||a.typing&&l[0]&&!n.isEq(n.createFromEditor(e),l[0])},hasRedo:function(){return s<l.length-1&&!a.typing},transact:function(e){o(),a.beforeChange();try{d++,e()}finally{d--}return a.add()},extra:function(t,r){var i,o;a.transact(t)&&(o=l[s].bookmark,i=l[s-1],n.applyToEditor(e,i,!0),a.transact(r)&&(l[s-1].beforeBookmark=o))}}}}),r(ne,[y,T,k,d],function(e,t,n,r){var i=r.ie&&r.ie<11;return function(o){function a(a){function h(e){return e&&s.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&\"true\"!==s.getContentEditable(e)}function m(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function g(e){var t;s.isBlock(e)&&(t=l.getRng(),e.appendChild(s.create(\"span\",null,\"\\xa0\")),l.select(e),e.lastChild.outerHTML=\"\",l.setRng(t))}function v(e){var t=e,n=[],r;if(t){for(;t=t.firstChild;){if(s.isBlock(t))return;1!=t.nodeType||f[t.nodeName.toLowerCase()]||n.push(t)}for(r=n.length;r--;)t=n[r],!t.hasChildNodes()||t.firstChild==t.lastChild&&\"\"===t.firstChild.nodeValue?s.remove(t):\"A\"==t.nodeName&&\" \"===(t.innerText||t.textContent)&&s.remove(t)}}function y(t){function n(e){for(;e;){if(1==e.nodeType||3==e.nodeType&&e.data&&/[\\r\\n\\s]/.test(e.data))return e;e=e.nextSibling}}var i,o,a,u=t,c;if(t){if(r.ie&&r.ie<9&&P&&P.firstChild&&P.firstChild==P.lastChild&&\"BR\"==P.firstChild.tagName&&s.remove(P.firstChild),/^(LI|DT|DD)$/.test(t.nodeName)){var d=n(t.firstChild);d&&/^(UL|OL|DL)$/.test(d.nodeName)&&t.insertBefore(s.doc.createTextNode(\"\\xa0\"),t.firstChild)}if(a=s.createRng(),r.ie||t.normalize(),t.hasChildNodes()){for(i=new e(t,t);o=i.current();){if(3==o.nodeType){a.setStart(o,0),a.setEnd(o,0);break}if(p[o.nodeName.toLowerCase()]){a.setStartBefore(o),a.setEndBefore(o);break}u=o,o=i.next()}o||(a.setStart(u,0),a.setEnd(u,0))}else\"BR\"==t.nodeName?t.nextSibling&&s.isBlock(t.nextSibling)?((!O||O<9)&&(c=s.create(\"br\"),t.parentNode.insertBefore(c,t)),a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));l.setRng(a),s.remove(c),l.scrollIntoView(t)}}function b(e){var t=u.forced_root_block;t&&t.toLowerCase()===e.tagName.toLowerCase()&&s.setAttribs(e,u.forced_root_block_attrs)}function C(e){e.innerHTML=i?\"\":'<br data-mce-bogus=\"1\">'}function x(e){var t=L,n,r,o,a=d.getTextInlineElements();if(e||\"TABLE\"==U?(n=s.create(e||V),b(n)):n=P.cloneNode(!1),o=n,u.keep_styles!==!1)do if(a[t.nodeName]){if(\"_mce_caret\"==t.id)continue;r=t.cloneNode(!1),s.setAttrib(r,\"id\",\"\"),n.hasChildNodes()?(r.appendChild(n.firstChild),n.appendChild(r)):(o=r,n.appendChild(r))}while((t=t.parentNode)&&t!=D);return i||(o.innerHTML='<br data-mce-bogus=\"1\">'),n}function w(t){var n,r,i;if(3==L.nodeType&&(t?M>0:M<L.nodeValue.length))return!1;if(L.parentNode==P&&$&&!t)return!0;if(t&&1==L.nodeType&&L==P.firstChild)return!0;if(\"TABLE\"===L.nodeName||L.previousSibling&&\"TABLE\"==L.previousSibling.nodeName)return $&&!t||!$&&t;for(n=new e(L,P),3==L.nodeType&&(t&&0===M?n.prev():t||M!=L.nodeValue.length||n.next());r=n.current();){if(1===r.nodeType){if(!r.getAttribute(\"data-mce-bogus\")&&(i=r.nodeName.toLowerCase(),f[i]&&\"br\"!==i))return!1}else if(3===r.nodeType&&!/^[ \\t\\r\\n]*$/.test(r.nodeValue))return!1;t?n.prev():n.next()}return!0}function E(e,t){var n,r,i,a,l,u,c=V||\"P\";if(r=s.getParent(e,s.isBlock),!r||!h(r)){if(r=r||D,u=r==o.getBody()||m(r)?r.nodeName.toLowerCase():r.parentNode.nodeName.toLowerCase(),!r.hasChildNodes())return n=s.create(c),b(n),r.appendChild(n),A.setStart(n,0),A.setEnd(n,0),n;for(a=e;a.parentNode!=r;)a=a.parentNode;for(;a&&!s.isBlock(a);)i=a,a=a.previousSibling;if(i&&d.isValidChild(u,c.toLowerCase())){for(n=s.create(c),b(n),i.parentNode.insertBefore(n,i),a=i;a&&!s.isBlock(a);)l=a.nextSibling,n.appendChild(a),a=l;A.setStart(e,t),A.setEnd(e,t)}}return e}function N(){function e(e){for(var t=z[e?\"firstChild\":\"lastChild\"];t&&1!=t.nodeType;)t=t[e?\"nextSibling\":\"previousSibling\"];return t===P}function t(){var e=z.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:z}if(z!=o.getBody()){var n=z.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(V=\"LI\"),I=V?x(V):s.create(\"BR\"),e(!0)&&e()?\"LI\"==n?s.insertAfter(I,t()):s.replace(I,z):e(!0)?\"LI\"==n?(s.insertAfter(I,t()),I.appendChild(s.doc.createTextNode(\" \")),I.appendChild(z)):z.parentNode.insertBefore(I,z):e()?(s.insertAfter(I,t()),g(I)):(z=t(),B=A.cloneRange(),B.setStartAfter(P),B.setEndAfter(z),F=B.extractContents(),\"LI\"==V&&\"LI\"==F.firstChild.nodeName?(I=F.firstChild,s.insertAfter(F,z)):(s.insertAfter(F,z),s.insertAfter(I,z))),s.remove(P),y(I),c.add()}}function _(){o.execCommand(\"InsertLineBreak\",!1,a)}function S(e){do 3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\\r\\n]+/,\"\")),e=e.firstChild;while(e)}function k(e){var t=s.getRoot(),n,r;for(n=e;n!==t&&\"false\"!==s.getContentEditable(n);)\"true\"===s.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==t?r:t}function T(e){var t;i||(e.normalize(),t=e.lastChild,t&&!/^(left|right)$/gi.test(s.getStyle(t,\"float\",!0))||s.add(e,\"br\"))}function R(){I=/^(H[1-6]|PRE|FIGURE)$/.test(U)&&\"HGROUP\"!=W?x(V):x(),u.end_container_on_empty_block&&h(z)&&s.isEmpty(P)?I=s.split(z,P):s.insertAfter(I,P),y(I)}var A,B,D,L,M,P,O,H,I,F,z,U,W,V,$;if(A=l.getRng(!0),!a.isDefaultPrevented()){if(!A.collapsed)return void o.execCommand(\"Delete\");if(new t(s).normalize(A),L=A.startContainer,M=A.startOffset,V=(u.force_p_newlines?\"p\":\"\")||u.forced_root_block,V=V?V.toUpperCase():\"\",O=s.doc.documentMode,H=a.shiftKey,1==L.nodeType&&L.hasChildNodes()&&($=M>L.childNodes.length-1,L=L.childNodes[Math.min(M,L.childNodes.length-1)]||L,M=$&&3==L.nodeType?L.nodeValue.length:0),D=k(L)){if(c.beforeChange(),!s.isBlock(D)&&D!=s.getRoot())return void(V&&!H||_());if((V&&!H||!V&&H)&&(L=E(L,M)),P=s.getParent(L,s.isBlock),z=P?s.getParent(P.parentNode,s.isBlock):null,U=P?P.nodeName.toUpperCase():\"\",W=z?z.nodeName.toUpperCase():\"\",\"LI\"!=W||a.ctrlKey||(P=z,U=W),o.undoManager.typing&&(o.undoManager.typing=!1,o.undoManager.add()),/^(LI|DT|DD)$/.test(U)){if(!V&&H)return void _();if(s.isEmpty(P))return void N()}if(\"PRE\"==U&&u.br_in_pre!==!1){if(!H)return void _()}else if(!V&&!H&&\"LI\"!=U||V&&H)return void _();V&&P===o.getBody()||(V=V||\"P\",n.isCaretContainerBlock(P)?(I=n.showCaretContainerBlock(P),s.isEmpty(P)&&C(P),y(I)):w()?R():w(!0)?(I=P.parentNode.insertBefore(x(),P),g(I),y(P)):(B=A.cloneRange(),B.setEndAfter(P),F=B.extractContents(),S(F),I=F.firstChild,s.insertAfter(F,P),v(I),T(P),s.isEmpty(P)&&C(P),I.normalize(),s.isEmpty(I)?(s.remove(I),R()):y(I)),s.setAttrib(I,\"id\",\"\"),o.fire(\"NewBlock\",{newBlock:I}),c.typing=!1,c.add())}}}var s=o.dom,l=o.selection,u=o.settings,c=o.undoManager,d=o.schema,f=d.getNonEmptyElements(),p=d.getMoveCaretBeforeOnEnterElements();o.on(\"keydown\",function(e){13==e.keyCode&&a(e)!==!1&&e.preventDefault()})}}),r(re,[],function(){return function(e){function t(){var t=i.getStart(),s=e.getBody(),l,u,c,d,f,p,h,m=-16777215,g,v,y,b,C;if(C=n.forced_root_block,t&&1===t.nodeType&&C){for(;t&&t!=s;){if(a[t.nodeName])return;t=t.parentNode}if(l=i.getRng(),l.setStart){u=l.startContainer,c=l.startOffset,d=l.endContainer,f=l.endOffset;try{v=e.getDoc().activeElement===s}catch(x){}}else l.item&&(t=l.item(0),l=e.getDoc().body.createTextRange(),l.moveToElementText(t)),v=l.parentElement().ownerDocument===e.getDoc(),y=l.duplicate(),y.collapse(!0),c=y.move(\"character\",m)*-1,y.collapsed||(y=l.duplicate(),y.collapse(!1),f=y.move(\"character\",m)*-1-c);for(t=s.firstChild,b=s.nodeName.toLowerCase();t;)if((3===t.nodeType||1==t.nodeType&&!a[t.nodeName])&&o.isValidChild(b,C.toLowerCase())){if(3===t.nodeType&&0===t.nodeValue.length){h=t,t=t.nextSibling,r.remove(h);continue}p||(p=r.create(C,e.settings.forced_root_block_attrs),\nt.parentNode.insertBefore(p,t),g=!0),h=t,t=t.nextSibling,p.appendChild(h)}else p=null,t=t.nextSibling;if(g&&v){if(l.setStart)l.setStart(u,c),l.setEnd(d,f),i.setRng(l);else try{l=e.getDoc().body.createTextRange(),l.moveToElementText(s),l.collapse(!0),l.moveStart(\"character\",c),f>0&&l.moveEnd(\"character\",f),l.select()}catch(x){}e.nodeChanged()}}}var n=e.settings,r=e.dom,i=e.selection,o=e.schema,a=o.getBlockElements();n.forced_root_block&&e.on(\"NodeChange\",t)}}),r(ie,[z,y,_,$,k,U],function(e,t,n,r,i,o){function a(e){return e>0}function s(e){return e<0}function l(e,t){for(var n;n=e(t);)if(!N(n))return n;return null}function u(e,n,r,i,o){var u=new t(e,i);if(s(n)){if((x(e)||N(e))&&(e=l(u.prev,!0),r(e)))return e;for(;e=l(u.prev,o);)if(r(e))return e}if(a(n)){if((x(e)||N(e))&&(e=l(u.next,!0),r(e)))return e;for(;e=l(u.next,o);)if(r(e))return e}return null}function c(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(C(e))return e;return t}function d(e,t){for(;e&&e!=t;){if(w(e))return e;e=e.parentNode}return null}function f(e,t,n){return d(e.container(),n)==d(t.container(),n)}function p(e,t,n){return c(e.container(),n)==c(t.container(),n)}function h(e,t){var n,r;return t?(n=t.container(),r=t.offset(),S(n)?n.childNodes[r+e]:null):null}function m(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function g(e,t,n){return d(t,e)==d(n,e)}function v(e,t,n){var r,i;for(i=e?\"previousSibling\":\"nextSibling\";n&&n!=t;){if(r=n[i],E(r)&&(r=r[i]),x(r)){if(g(t,r,n))return r;break}if(k(r))break;n=n.parentNode}return null}function y(e,t,r){var o,a,s,l,u=_(v,!0,t),c=_(v,!1,t);if(a=r.startContainer,s=r.startOffset,i.isCaretContainerBlock(a)){if(S(a)||(a=a.parentNode),l=a.getAttribute(\"data-mce-caret\"),\"before\"==l&&(o=a.nextSibling,x(o)))return T(o);if(\"after\"==l&&(o=a.previousSibling,x(o)))return R(o)}if(!r.collapsed)return r;if(n.isText(a)){if(E(a)){if(1===e){if(o=c(a))return T(o);if(o=u(a))return R(o)}if(e===-1){if(o=u(a))return R(o);if(o=c(a))return T(o)}return r}if(i.endsWithCaretContainer(a)&&s>=a.data.length-1)return 1===e&&(o=c(a))?T(o):r;if(i.startsWithCaretContainer(a)&&s<=1)return e===-1&&(o=u(a))?R(o):r;if(s===a.data.length)return o=c(a),o?T(o):r;if(0===s)return o=u(a),o?R(o):r}return r}function b(e,t){return x(h(e,t))}var C=n.isContentEditableTrue,x=n.isContentEditableFalse,w=n.matchStyleValues(\"display\",\"block table table-cell table-caption\"),E=i.isCaretContainer,N=i.isCaretContainerBlock,_=e.curry,S=n.isElement,k=o.isCaretCandidate,T=_(m,!0),R=_(m,!1);return{isForwards:a,isBackwards:s,findNode:u,getEditingHost:c,getParentBlock:d,isInSameBlock:f,isInSameEditingHost:p,isBeforeContentEditableFalse:_(b,0),isAfterContentEditableFalse:_(b,-1),normalizeRange:y}}),r(oe,[_,U,$,ie,h,z],function(e,t,n,r,i,o){function a(e,t){for(var n=[];e&&e!=t;)n.push(e),e=e.parentNode;return n}function s(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null}function l(e,t){if(m(e)){if(v(t.previousSibling)&&!f(t.previousSibling))return n.before(t);if(f(t))return n(t,0)}if(g(e)){if(v(t.nextSibling)&&!f(t.nextSibling))return n.after(t);if(f(t))return n(t,t.data.length)}return g(e)?h(t)?n.before(t):n.after(t):n.before(t)}function u(t,i){var o;return!!e.isBr(t)&&(o=c(1,n.after(t),i),!!o&&!r.isInSameBlock(n.before(t),n.before(o),i))}function c(e,t,h){var C,x,w,E,N,_,S;if(!p(h)||!t)return null;if(S=t,C=S.container(),x=S.offset(),f(C)){if(g(e)&&x>0)return n(C,--x);if(m(e)&&x<C.length)return n(C,++x);w=C}else{if(g(e)&&x>0&&(E=s(C,x-1),v(E)))return!y(E)&&(N=r.findNode(E,e,b,E))?f(N)?n(N,N.data.length):n.after(N):f(E)?n(E,E.data.length):n.before(E);if(m(e)&&x<C.childNodes.length&&(E=s(C,x),v(E)))return u(E,h)?c(e,n.after(E),h):!y(E)&&(N=r.findNode(E,e,b,E))?f(N)?n(N,0):n.before(N):f(E)?n(E,0):n.after(E);w=S.getNode()}return(m(e)&&S.isAtEnd()||g(e)&&S.isAtStart())&&(w=r.findNode(w,e,o.constant(!0),h,!0),b(w))?l(e,w):(E=r.findNode(w,e,b,h),_=i.last(i.filter(a(C,h),d)),!_||E&&_.contains(E)?E?l(e,E):null:S=m(e)?n.after(_):n.before(_))}var d=e.isContentEditableFalse,f=e.isText,p=e.isElement,h=e.isBr,m=r.isForwards,g=r.isBackwards,v=t.isCaretCandidate,y=t.isAtomic,b=t.isEditableCaretCandidate;return function(e){return{next:function(t){return c(1,t,e)},prev:function(t){return c(-1,t,e)}}}}),r(ae,[m,oe,$],function(e,t,n){var r=function(e){var t=e.firstChild,n=e.lastChild;return t&&\"meta\"===t.name&&(t=t.next),n&&\"mce_marker\"===n.attr(\"id\")&&(n=n.prev),!(!t||t!==n)&&(\"ul\"===t.name||\"ol\"===t.name)},i=function(e){var t=e.firstChild,n=e.lastChild;return t&&\"META\"===t.nodeName&&t.parentNode.removeChild(t),n&&\"mce_marker\"===n.id&&n.parentNode.removeChild(n),e},o=function(e,t,n){var r=t.serialize(n),o=e.createFragment(r);return i(o)},a=function(t){return e.grep(t.childNodes,function(e){return\"LI\"===e.nodeName})},s=function(e){return!e.firstChild},l=function(e){return e.length>0&&s(e[e.length-1])?e.slice(0,-1):e},u=function(e,t){var n=e.getParent(t,e.isBlock);return n&&\"LI\"===n.nodeName?n:null},c=function(e,t){return!!u(e,t)},d=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},f=function(e,r){var i=n.before(e),o=new t(r),a=o.next(i);return a?a.toRange():null},p=function(e,r){var i=n.after(e),o=new t(r),a=o.prev(i);return a?a.toRange():null},h=function(t,n,r,i){var o=d(t,i),a=t.parentNode;return a.insertBefore(o[0],t),e.each(n,function(e){a.insertBefore(e,t)}),a.insertBefore(o[1],t),a.removeChild(t),p(n[n.length-1],r)},m=function(t,n,r){var i=t.parentNode;return e.each(n,function(e){i.insertBefore(e,t)}),f(t,r)},g=function(e,t,n,r){return r.insertAfter(t.reverse(),e),p(t[0],n)},v=function(e,r,i,s){var c=o(r,e,s),d=u(r,i.startContainer),f=l(a(c.firstChild)),p=1,v=2,y=r.getRoot(),b=function(e){var o=n.fromRangeStart(i),a=new t(r.getRoot()),s=e===p?a.prev(o):a.next(o);return!s||u(r,s.getNode())!==d};return b(p)?m(d,f,y):b(v)?g(d,f,y,r):h(d,f,y,i)};return{isListFragment:r,insertAtCaret:v,isParentBlockLi:c,trimListItems:l,listItems:a}}),r(se,[d,m,P,oe,$,X,_,ae],function(e,t,n,r,i,o,a,s){var l=a.matchNodeNames(\"td th\"),u=function(e,t,n){if(\"all\"===n.getAttribute(\"data-mce-bogus\"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,i=n.lastChild;!r||r===i&&\"BR\"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}},c=function(a,c,d){function f(e){function t(e){return r[e]&&3==r[e].nodeType}var n,r,i;return n=L.getRng(!0),r=n.startContainer,i=n.startOffset,3==r.nodeType&&(i>0?e=e.replace(/^&nbsp;/,\" \"):t(\"previousSibling\")||(e=e.replace(/^ /,\"&nbsp;\")),i<r.length?e=e.replace(/&nbsp;(<br>|)$/,\" \"):t(\"nextSibling\")||(e=e.replace(/(&nbsp;| )(<br>|)$/,\"&nbsp;\"))),e}function p(){var e,t,n;e=L.getRng(!0),t=e.startContainer,n=e.startOffset,3==t.nodeType&&e.collapsed&&(\"\\xa0\"===t.data[n]?(t.deleteData(n,1),/[\\u00a0| ]$/.test(c)||(c+=\" \")):\"\\xa0\"===t.data[n-1]&&(t.deleteData(n-1,1),/[\\u00a0| ]$/.test(c)||(c=\" \"+c)))}function h(){if(B){var e=a.getBody(),n=new o(M);t.each(M.select(\"*[data-mce-fragment]\"),function(t){for(var r=t.parentNode;r&&r!=e;r=r.parentNode)D[t.nodeName.toLowerCase()]&&n.compare(r,t)&&M.remove(t,!0)})}}function m(e){for(var t=e;t=t.walk();)1===t.type&&t.attr(\"data-mce-fragment\",\"1\")}function g(e){t.each(e.getElementsByTagName(\"*\"),function(e){e.removeAttribute(\"data-mce-fragment\")})}function v(e){return!!e.getAttribute(\"data-mce-fragment\")}function y(e){return e&&!a.schema.getShortEndedElements()[e.nodeName]}function b(t){function n(e){for(var t=a.getBody();e&&e!==t;e=e.parentNode)if(\"false\"===a.dom.getContentEditable(e))return e;return null}function o(e){var t=i.fromRangeStart(e),n=new r(a.getBody());if(t=n.next(t))return t.toRange()}var s,u,c;if(t){if(L.scrollIntoView(t),s=n(t))return M.remove(t),void L.select(s);k=M.createRng(),T=t.previousSibling,T&&3==T.nodeType?(k.setStart(T,T.nodeValue.length),e.ie||(R=t.nextSibling,R&&3==R.nodeType&&(T.appendData(R.data),R.parentNode.removeChild(R)))):(k.setStartBefore(t),k.setEndBefore(t)),u=M.getParent(t,M.isBlock),M.remove(t),u&&M.isEmpty(u)&&(a.$(u).empty(),k.setStart(u,0),k.setEnd(u,0),l(u)||v(u)||!(c=o(k))?M.add(u,M.create(\"br\",{\"data-mce-bogus\":\"1\"})):(k=c,M.remove(u))),L.setRng(k)}}var C,x,w,E,N,_,S,k,T,R,A,B,D=a.schema.getTextInlineElements(),L=a.selection,M=a.dom;/^ | $/.test(c)&&(c=f(c)),C=a.parser,B=d.merge,x=new n({validate:a.settings.validate},a.schema),A='<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;&#x200B;</span>',_={content:c,format:\"html\",selection:!0},a.fire(\"BeforeSetContent\",_),c=_.content,c.indexOf(\"{$caret}\")==-1&&(c+=\"{$caret}\"),c=c.replace(/\\{\\$caret\\}/,A),k=L.getRng();var P=k.startContainer||(k.parentElement?k.parentElement():null),O=a.getBody();P===O&&L.isCollapsed()&&M.isBlock(O.firstChild)&&y(O.firstChild)&&M.isEmpty(O.firstChild)&&(k=M.createRng(),k.setStart(O.firstChild,0),k.setEnd(O.firstChild,0),L.setRng(k)),L.isCollapsed()||(a.selection.setRng(a.selection.getRng()),a.getDoc().execCommand(\"Delete\",!1,null),p()),w=L.getNode();var H={context:w.nodeName.toLowerCase(),data:d.data};if(N=C.parse(c,H),d.paste===!0&&s.isListFragment(N)&&s.isParentBlockLi(M,w))return k=s.insertAtCaret(x,M,a.selection.getRng(!0),N),a.selection.setRng(k),void a.fire(\"SetContent\",_);if(m(N),T=N.lastChild,\"mce_marker\"==T.attr(\"id\"))for(S=T,T=T.prev;T;T=T.walk(!0))if(3==T.type||!M.isBlock(T.name)){a.schema.isValidChild(T.parent.name,\"span\")&&T.parent.insert(S,T,\"br\"===T.name);break}if(a._selectionOverrides.showBlockCaretContainer(w),H.invalid){for(L.setContent(A),w=L.getNode(),E=a.getBody(),9==w.nodeType?w=T=E:T=w;T!==E;)w=T,T=T.parentNode;c=w==E?E.innerHTML:M.getOuterHTML(w),c=x.serialize(C.parse(c.replace(/<span (id=\"mce_marker\"|id=mce_marker).+?<\\/span>/i,function(){return x.serialize(N)}))),w==E?M.setHTML(E,c):M.setOuterHTML(w,c)}else c=x.serialize(N),u(a,c,w);h(),b(M.get(\"mce_marker\")),g(a.getBody()),a.fire(\"SetContent\",_),a.addVisual()},d=function(e){var n;return\"string\"!=typeof e?(n=t.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:n}):{content:e,details:{}}},f=function(e,t){var n=d(t);c(e,n.content,n.details)};return{insertAtCaret:f}}),r(le,[d,m,T,y,se,_],function(e,n,r,i,o,a){var s=n.each,l=n.extend,u=n.map,c=n.inArray,d=n.explode,f=e.ie&&e.ie<11,p=!0,h=!1;return function(n){function m(e,t,r,i){var o,a,l=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||i&&i.skip_focus||n.focus(),i=n.fire(\"BeforeExecCommand\",{command:e,ui:t,value:r}),i.isDefaultPrevented())return!1;if(a=e.toLowerCase(),o=D.exec[a])return o(a,t,r),n.fire(\"ExecCommand\",{command:e,ui:t,value:r}),!0;if(s(n.plugins,function(i){if(i.execCommand&&i.execCommand(e,t,r))return n.fire(\"ExecCommand\",{command:e,ui:t,value:r}),l=!0,!1}),l)return l;if(n.theme&&n.theme.execCommand&&n.theme.execCommand(e,t,r))return n.fire(\"ExecCommand\",{command:e,ui:t,value:r}),!0;try{l=n.getDoc().execCommand(e,t,r)}catch(u){}return!!l&&(n.fire(\"ExecCommand\",{command:e,ui:t,value:r}),!0)}function g(e){var t;if(!n.quirks.isHidden()){if(e=e.toLowerCase(),t=D.state[e])return t(e);try{return n.getDoc().queryCommandState(e)}catch(r){}return!1}}function v(e){var t;if(!n.quirks.isHidden()){if(e=e.toLowerCase(),t=D.value[e])return t(e);try{return n.getDoc().queryCommandValue(e)}catch(r){}}}function y(e,t){t=t||\"exec\",s(e,function(e,n){s(n.toLowerCase().split(\",\"),function(n){D[t][n]=e})})}function b(e,t,r){e=e.toLowerCase(),D.exec[e]=function(e,i,o,a){return t.call(r||n,i,o,a)}}function C(e){if(e=e.toLowerCase(),D.exec[e])return!0;try{return n.getDoc().queryCommandSupported(e)}catch(t){}return!1}function x(e,t,r){e=e.toLowerCase(),D.state[e]=function(){return t.call(r||n)}}function w(e,t,r){e=e.toLowerCase(),D.value[e]=function(){return t.call(r||n)}}function E(e){return e=e.toLowerCase(),!!D.exec[e]}function N(e,r,i){return r===t&&(r=h),i===t&&(i=null),n.getDoc().execCommand(e,r,i)}function _(e){return B.match(e)}function S(e,r){B.toggle(e,r?{value:r}:t),n.nodeChanged()}function k(e){M=A.getBookmark(e)}function T(){A.moveToBookmark(M)}var R,A,B,D={state:{},exec:{},value:{}},L=n.settings,M;n.on(\"PreInit\",function(){R=n.dom,A=n.selection,L=n.settings,B=n.formatter}),l(this,{execCommand:m,queryCommandState:g,queryCommandValue:v,queryCommandSupported:C,addCommands:y,addCommand:b,addQueryStateHandler:x,addQueryValueHandler:w,hasCustomCommand:E}),y({\"mceResetDesignMode,mceBeginUndoLevel\":function(){},\"mceEndUndoLevel,mceAddUndoLevel\":function(){n.undoManager.add()},\"Cut,Copy,Paste\":function(t){var r=n.getDoc(),i;try{N(t)}catch(o){i=p}if(\"paste\"!==t||r.queryCommandEnabled(t)||(i=!0),i||!r.queryCommandSupported(t)){var a=n.translate(\"Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.\");e.mac&&(a=a.replace(/Ctrl\\+/g,\"\\u2318+\")),n.notificationManager.open({text:a,type:\"error\"})}},unlink:function(){if(A.isCollapsed()){var e=n.dom.getParent(n.selection.getStart(),\"a\");return void(e&&n.dom.remove(e,!0))}B.remove(\"link\")},\"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone\":function(e){var t=e.substring(7);\"full\"==t&&(t=\"justify\"),s(\"left,center,right,justify\".split(\",\"),function(e){t!=e&&B.remove(\"align\"+e)}),\"none\"!=t&&S(\"align\"+t)},\"InsertUnorderedList,InsertOrderedList\":function(e){var t,n;N(e),t=R.getParent(A.getNode(),\"ol,ul\"),t&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(k(),R.split(n,t),T()))},\"Bold,Italic,Underline,Strikethrough,Superscript,Subscript\":function(e){S(e)},\"ForeColor,HiliteColor,FontName\":function(e,t,n){S(e,n)},FontSize:function(e,t,n){var r,i;n>=1&&n<=7&&(i=d(L.font_size_style_values),r=d(L.font_size_classes),n=r?r[n-1]||n:i[n-1]||n),S(e,n)},RemoveFormat:function(e){B.remove(e)},mceBlockQuote:function(){S(\"blockquote\")},FormatBlock:function(e,t,n){return S(n||\"p\")},mceCleanup:function(){var e=A.getBookmark();n.setContent(n.getContent({cleanup:p}),{cleanup:p}),A.moveToBookmark(e)},mceRemoveNode:function(e,t,r){var i=r||A.getNode();i!=n.getBody()&&(k(),n.dom.remove(i,p),T())},mceSelectNodeDepth:function(e,t,r){var i=0;R.getParent(A.getNode(),function(e){if(1==e.nodeType&&i++==r)return A.select(e),h},n.getBody())},mceSelectNode:function(e,t,n){A.select(n)},mceInsertContent:function(e,t,r){o.insertAtCaret(n,r)},mceInsertRawHTML:function(e,t,r){A.setContent(\"tiny_mce_marker\"),n.setContent(n.getContent().replace(/tiny_mce_marker/g,function(){return r}))},mceToggleFormat:function(e,t,n){S(n)},mceSetContent:function(e,t,r){n.setContent(r)},\"Indent,Outdent\":function(e){var t,r,i;t=L.indentation,r=/[a-z%]+$/i.exec(t),t=parseInt(t,10),g(\"InsertUnorderedList\")||g(\"InsertOrderedList\")?N(e):(L.forced_root_block||R.getParent(A.getNode(),R.isBlock)||B.apply(\"div\"),s(A.getSelectedBlocks(),function(o){if(\"false\"!==R.getContentEditable(o)&&\"LI\"!==o.nodeName){var a=n.getParam(\"indent_use_margin\",!1)?\"margin\":\"padding\";a=\"TABLE\"===o.nodeName?\"margin\":a,a+=\"rtl\"==R.getStyle(o,\"direction\",!0)?\"Right\":\"Left\",\"outdent\"==e?(i=Math.max(0,parseInt(o.style[a]||0,10)-t),R.setStyle(o,a,i?i+r:\"\")):(i=parseInt(o.style[a]||0,10)+t+r,R.setStyle(o,a,i))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){n.execCommand(\"mceInsertContent\",!1,\"<hr />\")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(e,t,r){n.execCommand(\"mceInsertContent\",!1,r.replace(/\\{\\$selection\\}/g,A.getContent({format:\"text\"})))},mceInsertLink:function(e,t,n){var r;\"string\"==typeof n&&(n={href:n}),r=R.getParent(A.getNode(),\"a\"),n.href=n.href.replace(\" \",\"%20\"),r&&n.href||B.remove(\"link\"),n.href&&B.apply(\"link\",n,r)},selectAll:function(){var e=R.getRoot(),t;if(A.getRng().setStart){var n=R.getParent(A.getStart(),a.isContentEditableTrue);n&&(t=R.createRng(),t.selectNodeContents(n),A.setRng(t))}else t=A.getRng(),t.item||(t.moveToElementText(e),t.select())},\"delete\":function(){N(\"Delete\");var e=n.getBody();R.isEmpty(e)&&(n.setContent(\"\"),e.firstChild&&R.isBlock(e.firstChild)?n.selection.setCursorLocation(e.firstChild,0):n.selection.setCursorLocation(e,0))},mceNewDocument:function(){n.setContent(\"\")},InsertLineBreak:function(e,t,o){function a(){for(var e=new i(m,v),t,r=n.schema.getNonEmptyElements();t=e.next();)if(r[t.nodeName.toLowerCase()]||t.length>0)return!0}var s=o,l,u,c,d=A.getRng(!0);new r(R).normalize(d);var h=d.startOffset,m=d.startContainer;if(1==m.nodeType&&m.hasChildNodes()){var g=h>m.childNodes.length-1;m=m.childNodes[Math.min(h,m.childNodes.length-1)]||m,h=g&&3==m.nodeType?m.nodeValue.length:0}var v=R.getParent(m,R.isBlock),y=v?v.nodeName.toUpperCase():\"\",b=v?R.getParent(v.parentNode,R.isBlock):null,C=b?b.nodeName.toUpperCase():\"\",x=s&&s.ctrlKey;\"LI\"!=C||x||(v=b,y=C),m&&3==m.nodeType&&h>=m.nodeValue.length&&(f||a()||(l=R.create(\"br\"),d.insertNode(l),d.setStartAfter(l),d.setEndAfter(l),u=!0)),l=R.create(\"br\"),d.insertNode(l);var w=R.doc.documentMode;return f&&\"PRE\"==y&&(!w||w<8)&&l.parentNode.insertBefore(R.doc.createTextNode(\"\\r\"),l),c=R.create(\"span\",{},\"&nbsp;\"),l.parentNode.insertBefore(c,l),A.scrollIntoView(c),R.remove(c),u?(d.setStartBefore(l),d.setEndBefore(l)):(d.setStartAfter(l),d.setEndAfter(l)),A.setRng(d),n.undoManager.add(),p}}),y({\"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull\":function(e){var t=\"align\"+e.substring(7),n=A.isCollapsed()?[R.getParent(A.getNode(),R.isBlock)]:A.getSelectedBlocks(),r=u(n,function(e){return!!B.matchNode(e,t)});return c(r,p)!==-1},\"Bold,Italic,Underline,Strikethrough,Superscript,Subscript\":function(e){return _(e)},mceBlockQuote:function(){return _(\"blockquote\")},Outdent:function(){var e;if(L.inline_styles){if((e=R.getParent(A.getStart(),R.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return p;if((e=R.getParent(A.getEnd(),R.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return p}return g(\"InsertUnorderedList\")||g(\"InsertOrderedList\")||!L.inline_styles&&!!R.getParent(A.getNode(),\"BLOCKQUOTE\")},\"InsertUnorderedList,InsertOrderedList\":function(e){var t=R.getParent(A.getNode(),\"ul,ol\");return t&&(\"insertunorderedlist\"===e&&\"UL\"===t.tagName||\"insertorderedlist\"===e&&\"OL\"===t.tagName)}},\"state\"),y({\"FontSize,FontName\":function(e){var t=0,n;return(n=R.getParent(A.getNode(),\"span\"))&&(t=\"fontsize\"==e?n.style.fontSize:n.style.fontFamily.replace(/, /g,\",\").replace(/[\\'\\\"]/g,\"\").toLowerCase()),t}},\"value\"),y({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}})}}),r(ue,[m],function(e){function t(e,o){var a=this,s,l;if(e=r(e),o=a.settings=o||{},s=o.base_uri,/^([\\w\\-]+):([^\\/]{2})/i.test(e)||/^\\s*#/.test(e))return void(a.source=e);var u=0===e.indexOf(\"//\");0!==e.indexOf(\"/\")||u||(e=(s?s.protocol||\"http\":\"http\")+\"://mce_host\"+e),/^[\\w\\-]*:?\\/\\//.test(e)||(l=o.base_uri?o.base_uri.path:new t(location.href).directory,\"\"===o.base_uri.protocol?e=\"//mce_host\"+a.toAbsPath(l,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(s&&s.protocol||\"http\")+\"://mce_host\"+a.toAbsPath(l,e[1])+e[2])),e=e.replace(/@@/g,\"(mce_at)\"),e=/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(e),n(i,function(t,n){var r=e[n];r&&(r=r.replace(/\\(mce_at\\)/g,\"@@\")),a[t]=r}),s&&(a.protocol||(a.protocol=s.protocol),a.userInfo||(a.userInfo=s.userInfo),a.port||\"mce_host\"!==a.host||(a.port=s.port),a.host&&\"mce_host\"!==a.host||(a.host=s.host),a.source=\"\"),u&&(a.protocol=\"\")}var n=e.each,r=e.trim,i=\"source protocol authority userInfo user password host port relative path directory file query anchor\".split(\" \"),o={ftp:21,http:80,https:443,mailto:25};return t.prototype={setPath:function(e){var t=this;e=/^(.*?)\\/?(\\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source=\"\",t.getURI()},toRelative:function(e){var n=this,r;if(\"./\"===e)return e;if(e=new t(e,{base_uri:n}),\"mce_host\"!=e.host&&n.host!=e.host&&e.host||n.port!=e.port||n.protocol!=e.protocol&&\"\"!==e.protocol)return e.getURI();var i=n.getURI(),o=e.getURI();return i==o||\"/\"==i.charAt(i.length-1)&&i.substr(0,i.length-1)==o?i:(r=n.toRelPath(n.path,e.path),e.query&&(r+=\"?\"+e.query),e.anchor&&(r+=\"#\"+e.anchor),r)},toAbsolute:function(e,n){return e=new t(e,{base_uri:this}),e.getURI(n&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=o[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r=0,i=\"\",o,a;if(e=e.substring(0,e.lastIndexOf(\"/\")),e=e.split(\"/\"),n=t.split(\"/\"),e.length>=n.length)for(o=0,a=e.length;o<a;o++)if(o>=n.length||e[o]!=n[o]){r=o+1;break}if(e.length<n.length)for(o=0,a=n.length;o<a;o++)if(o>=e.length||e[o]!=n[o]){r=o+1;break}if(1===r)return t;for(o=0,a=e.length-(r-1);o<a;o++)i+=\"../\";for(o=r-1,a=n.length;o<a;o++)i+=o!=r-1?\"/\"+n[o]:n[o];return i},toAbsPath:function(e,t){var r,i=0,o=[],a,s;for(a=/\\/$/.test(t)?\"/\":\"\",e=e.split(\"/\"),t=t.split(\"/\"),n(e,function(e){e&&o.push(e)}),e=o,r=t.length-1,o=[];r>=0;r--)0!==t[r].length&&\".\"!==t[r]&&(\"..\"!==t[r]?i>0?i--:o.push(t[r]):i++);return r=e.length-i,s=r<=0?o.reverse().join(\"/\"):e.slice(0,r).join(\"/\")+\"/\"+o.reverse().join(\"/\"),0!==s.indexOf(\"/\")&&(s=\"/\"+s),a&&s.lastIndexOf(\"/\")!==s.length-1&&(s+=a),s},getURI:function(e){var t,n=this;return n.source&&!e||(t=\"\",e||(t+=n.protocol?n.protocol+\"://\":\"//\",n.userInfo&&(t+=n.userInfo+\"@\"),n.host&&(t+=n.host),n.port&&(t+=\":\"+n.port)),n.path&&(t+=n.path),n.query&&(t+=\"?\"+n.query),n.anchor&&(t+=\"#\"+n.anchor),n.source=t),n.source}},t.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(\",\"),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}},t.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf(\"http\")&&\"file:\"!==e.protocol?e.href:e.protocol+\"//\"+e.host+e.pathname,/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(t)&&(t=t.replace(/[\\?#].*$/,\"\").replace(/[\\/\\\\][^\\/]+$/,\"\"),/[\\/\\\\]$/.test(t)||(t+=\"/\")),t},t}),r(ce,[m],function(e){function t(){}var n=e.each,r=e.extend,i,o;return t.extend=i=function(e){function t(){var e,t,n,r=this;if(!o&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)n=t[e],n.init&&n.init.apply(r,arguments)}function a(){return this}function s(e,t){return function(){var n=this,r=n._super,i;return n._super=u[e],i=t.apply(n,arguments),n._super=r,i}}var l=this,u=l.prototype,c,d,f;o=!0,c=new l,o=!1,e.Mixins&&(n(e.Mixins,function(t){for(var n in t)\"init\"!==n&&(e[n]=t[n])}),u.Mixins&&(e.Mixins=u.Mixins.concat(e.Mixins))),e.Methods&&n(e.Methods.split(\",\"),function(t){e[t]=a}),e.Properties&&n(e.Properties.split(\",\"),function(t){var n=\"_\"+t;e[t]=function(e){var t=this,r;return e!==r?(t[n]=e,t):t[n]}}),e.Statics&&n(e.Statics,function(e,n){t[n]=e}),e.Defaults&&u.Defaults&&(e.Defaults=r({},u.Defaults,e.Defaults));for(d in e)f=e[d],\"function\"==typeof f&&u[d]?c[d]=s(d,f):c[d]=f;return t.prototype=c,t.constructor=t,t.extend=i,t},t}),r(de,[m],function(e){function t(t){function n(){return!1}function r(){return!0}function i(e,i){var o,s,l,u;if(e=e.toLowerCase(),i=i||{},i.type=e,i.target||(i.target=c),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=r},i.stopPropagation=function(){i.isPropagationStopped=r},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=r},i.isDefaultPrevented=n,i.isPropagationStopped=n,i.isImmediatePropagationStopped=n),t.beforeFire&&t.beforeFire(i),o=d[e])for(s=0,l=o.length;s<l;s++){if(u=o[s],u.once&&a(e,u.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(u.func.call(c,i)===!1)return i.preventDefault(),i}return i}function o(t,r,i,o){var a,s,l;if(r===!1&&(r=n),r)for(r={func:r},o&&e.extend(r,o),s=t.toLowerCase().split(\" \"),l=s.length;l--;)t=s[l],a=d[t],a||(a=d[t]=[],f(t,!0)),i?a.unshift(r):a.push(r);return u}function a(e,t){var n,r,i,o,a;if(e)for(o=e.toLowerCase().split(\" \"),n=o.length;n--;){if(e=o[n],r=d[e],!e){for(i in d)f(i,!1),delete d[i];return u}if(r){if(t)for(a=r.length;a--;)r[a].func===t&&(r=r.slice(0,a).concat(r.slice(a+1)),d[e]=r);else r.length=0;r.length||(f(e,!1),delete d[e])}}else{for(e in d)f(e,!1);d={}}return u}function s(e,t,n){return o(e,t,n,{once:!0})}function l(e){return e=e.toLowerCase(),!(!d[e]||0===d[e].length)}var u=this,c,d={},f;t=t||{},c=t.scope||u,f=t.toggleEvent||n,u.fire=i,u.on=o,u.off=a,u.once=s,u.has=l}var n=e.makeMap(\"focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend\",\" \");return t.isNative=function(e){return!!n[e.toLowerCase()]},t}),r(fe,[],function(){function e(e){this.create=e.create}return e.create=function(t,n){return new e({create:function(e,r){function i(t){e.set(r,t.value)}function o(e){t.set(n,e.value)}var a;return e.on(\"change:\"+r,o),t.on(\"change:\"+n,i),a=e._bindings,a||(a=e._bindings=[],e.on(\"destroy\",function(){for(var e=a.length;e--;)a[e]()})),a.push(function(){t.off(\"change:\"+n,i)}),t.get(n)}})},e}),r(pe,[de],function(e){function t(t){return t._eventDispatcher||(t._eventDispatcher=new e({scope:t,toggleEvent:function(n,r){e.isNative(n)&&t.toggleNativeEvent&&t.toggleNativeEvent(n,r)}})),t._eventDispatcher}return{fire:function(e,n,r){var i=this;if(i.removed&&\"remove\"!==e)return n;if(n=t(i).fire(e,n,r),r!==!1&&i.parent)for(var o=i.parent();o&&!n.isPropagationStopped();)o.fire(e,n,!1),o=o.parent();return n},on:function(e,n,r){return t(this).on(e,n,r)},off:function(e,n){return t(this).off(e,n)},once:function(e,n){return t(this).once(e,n)},hasEventListeners:function(e){return t(this).has(e)}}}),r(he,[fe,pe,ce,m],function(e,t,n,r){function i(e){return e.nodeType>0}function o(e,t){var n,a;if(e===t)return!0;if(null===e||null===t)return e===t;if(\"object\"!=typeof e||\"object\"!=typeof t)return e===t;if(r.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!o(e[n],t[n]))return!1}if(i(e)||i(t))return e===t;a={};for(n in t){if(!o(e[n],t[n]))return!1;a[n]=!0}for(n in e)if(!a[n]&&!o(e[n],t[n]))return!1;return!0}return n.extend({Mixins:[t],init:function(t){var n,r;t=t||{};for(n in t)r=t[n],r instanceof e&&(t[n]=r.create(this,n));this.data=t},set:function(t,n){var r,i,a=this.data[t];if(n instanceof e&&(n=n.create(this,t)),\"object\"==typeof t){for(r in t)this.set(r,t[r]);return this}return o(a,n)||(this.data[t]=n,i={target:this,name:t,value:n,oldValue:a},this.fire(\"change:\"+t,i),this.fire(\"change\",i)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(t){return e.create(this,t)},destroy:function(){this.fire(\"destroy\")}})}),r(me,[ce],function(e){function t(e){for(var t=[],n=e.length,r;n--;)r=e[n],r.__checked||(t.push(r),r.__checked=1);for(n=t.length;n--;)delete t[n].__checked;return t}var n=/^([\\w\\\\*]+)?(?:#([\\w\\-\\\\]+))?(?:\\.([\\w\\\\\\.]+))?(?:\\[\\@?([\\w\\\\]+)([\\^\\$\\*!~]?=)([\\w\\\\]+)\\])?(?:\\:(.+))?/i,r=/((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g,i=/^\\s*|\\s*$/g,o,a=e.extend({init:function(e){function t(e){if(e)return e=e.toLowerCase(),function(t){return\"*\"===e||t.type===e}}function o(e){if(e)return function(t){return t._name===e}}function a(e){if(e)return e=e.split(\".\"),function(t){for(var n=e.length;n--;)if(!t.classes.contains(e[n]))return!1;return!0}}function s(e,t,n){if(e)return function(r){var i=r[e]?r[e]():\"\";return t?\"=\"===t?i===n:\"*=\"===t?i.indexOf(n)>=0:\"~=\"===t?(\" \"+i+\" \").indexOf(\" \"+n+\" \")>=0:\"!=\"===t?i!=n:\"^=\"===t?0===i.indexOf(n):\"$=\"===t&&i.substr(i.length-n.length)===n:!!n}}function l(e){var t;if(e)return e=/(?:not\\((.+)\\))|(.+)/i.exec(e),e[1]?(t=c(e[1],[]),function(e){return!d(e,t)}):(e=e[2],function(t,n,r){return\"first\"===e?0===n:\"last\"===e?n===r-1:\"even\"===e?n%2===0:\"odd\"===e?n%2===1:!!t[e]&&t[e]()})}function u(e,r,u){function c(e){e&&r.push(e)}var d;return d=n.exec(e.replace(i,\"\")),c(t(d[1])),c(o(d[2])),c(a(d[3])),c(s(d[4],d[5],d[6])),c(l(d[7])),r.pseudo=!!d[7],r.direct=u,r}function c(e,t){var n=[],i,o,a;do if(r.exec(\"\"),o=r.exec(e),o&&(e=o[3],n.push(o[1]),o[2])){i=o[3];break}while(o);for(i&&c(i,t),e=[],a=0;a<n.length;a++)\">\"!=n[a]&&e.push(u(n[a],[],\">\"===n[a-1]));return t.push(e),t}var d=this.match;this._selectors=c(e,[])},match:function(e,t){var n,r,i,o,a,s,l,u,c,d,f,p,h;for(t=t||this._selectors,n=0,r=t.length;n<r;n++){for(a=t[n],o=a.length,h=e,p=0,i=o-1;i>=0;i--)for(u=a[i];h;){if(u.pseudo)for(f=h.parent().items(),c=d=f.length;c--&&f[c]!==h;);for(s=0,l=u.length;s<l;s++)if(!u[s](h,c,d)){s=l+1;break}if(s===l){p++;break}if(i===o-1)break;h=h.parent()}if(p===o)return!0}return!1},find:function(e){function n(e,t,i){var o,a,s,l,u,c=t[i];for(o=0,a=e.length;o<a;o++){for(u=e[o],s=0,l=c.length;s<l;s++)if(!c[s](u,o,a)){s=l+1;break}if(s===l)i==t.length-1?r.push(u):u.items&&n(u.items(),t,i+1);else if(c.direct)return;u.items&&n(u.items(),t,i)}}var r=[],i,s,l=this._selectors;if(e.items){for(i=0,s=l.length;i<s;i++)n(e.items(),l[i],0);s>1&&(r=t(r))}return o||(o=a.Collection),new o(r)}});return a}),r(ge,[m,me,ce],function(e,t,n){var r,i,o=Array.prototype.push,a=Array.prototype.slice;return i={length:0,init:function(e){e&&this.add(e)},add:function(t){var n=this;return e.isArray(t)?o.apply(n,t):t instanceof r?n.add(t.toArray()):o.call(n,t),n},set:function(e){var t=this,n=t.length,r;for(t.length=0,t.add(e),r=t.length;r<n;r++)delete t[r];return t},filter:function(e){var n=this,i,o,a=[],s,l;for(\"string\"==typeof e?(e=new t(e),l=function(t){return e.match(t)}):l=e,i=0,o=n.length;i<o;i++)s=n[i],l(s)&&a.push(s);return new r(a)},slice:function(){return new r(a.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},each:function(t){return e.each(this,t),this},toArray:function(){return e.toArray(this)},indexOf:function(e){for(var t=this,n=t.length;n--&&t[n]!==e;);return n},reverse:function(){return new r(e.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(e,t){var n=this,r,i;return t!==r?(n.each(function(n){n[e]&&n[e](t)}),n):(i=n[0],i&&i[e]?i[e]():void 0)},exec:function(t){var n=this,r=e.toArray(arguments).slice(1);return n.each(function(e){e[t]&&e[t].apply(e,r)}),n},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each(function(t){t.classes.add(e)})},removeClass:function(e){return this.each(function(t){t.classes.remove(e)})}},e.each(\"fire on off show hide append prepend before after reflow\".split(\" \"),function(t){i[t]=function(){var n=e.toArray(arguments);return this.each(function(e){t in e&&e[t].apply(e,n)}),this}}),e.each(\"text name disabled active selected checked visible parent value data\".split(\" \"),function(e){i[e]=function(t){return this.prop(e,t)}}),r=n.extend(i),t.Collection=r,r}),r(ve,[d,m,w],function(e,t,n){var r=0,i={id:function(){return\"mceu_\"+r++},create:function(e,r,i){var o=document.createElement(e);return n.DOM.setAttribs(o,r),\"string\"==typeof i?o.innerHTML=i:t.each(i,function(e){e.nodeType&&o.appendChild(e)}),o},createFragment:function(e){return n.DOM.createFragment(e)},getWindowSize:function(){return n.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var r=e.getBoundingClientRect();t=Math.max(r.width||r.right-r.left,e.offsetWidth),n=Math.max(r.height||r.bottom-r.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return n.DOM.getPos(e,t||i.getContainer())},getContainer:function(){return e.container?e.container:document.body},getViewPort:function(e){return n.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return n.DOM.addClass(e,t)},removeClass:function(e,t){return n.DOM.removeClass(e,t)},hasClass:function(e,t){return n.DOM.hasClass(e,t)},toggleClass:function(e,t,r){return n.DOM.toggleClass(e,t,r)},css:function(e,t,r){return n.DOM.setStyle(e,t,r)},getRuntimeStyle:function(e,t){return n.DOM.getStyle(e,t,!0)},on:function(e,t,r,i){\nreturn n.DOM.bind(e,t,r,i)},off:function(e,t,r){return n.DOM.unbind(e,t,r)},fire:function(e,t,r){return n.DOM.fire(e,t,r)},innerHtml:function(e,t){n.DOM.setHTML(e,t)}};return i}),r(ye,[],function(){return{parseBox:function(e){var t,n=10;if(e)return\"number\"==typeof e?(e=e||0,{top:e,left:e,bottom:e,right:e}):(e=e.split(\" \"),t=e.length,1===t?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],n)||0,right:parseInt(e[1],n)||0,bottom:parseInt(e[2],n)||0,left:parseInt(e[3],n)||0})},measureBox:function(e,t){function n(t){var n=document.defaultView;return n?(t=t.replace(/[A-Z]/g,function(e){return\"-\"+e}),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle[t]}function r(e){var t=parseFloat(n(e),10);return isNaN(t)?0:t}return{top:r(t+\"TopWidth\"),right:r(t+\"RightWidth\"),bottom:r(t+\"BottomWidth\"),left:r(t+\"LeftWidth\")}}}}),r(be,[m],function(e){function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=\"\"}return e.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e=\"\";for(var t=0;t<this.cls.length;t++)t>0&&(e+=\" \"),e+=this.prefix+this.cls[t];return e},n}),r(Ce,[c],function(e){var t={},n;return{add:function(r){var i=r.parent();if(i){if(!i._layout||i._layout.isNative())return;t[i._id]||(t[i._id]=i),n||(n=!0,e.requestAnimationFrame(function(){var e,r;n=!1;for(e in t)r=t[e],r.state.get(\"rendered\")&&r.reflow();t={}},document.body))}},remove:function(e){t[e._id]&&delete t[e._id]}}}),r(xe,[ce,m,de,he,ge,ve,g,ye,be,Ce],function(e,t,n,r,i,o,a,s,l,u){function c(e){return e._eventDispatcher||(e._eventDispatcher=new n({scope:e,toggleEvent:function(t,r){r&&n.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e.state.get(\"rendered\")&&d(e))}})),e._eventDispatcher}function d(e){function t(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function n(){var e=u._lastHoverCtrl;e&&(e.fire(\"mouseleave\",{target:e.getEl()}),e.parents().each(function(e){e.fire(\"mouseleave\",{target:e.getEl()})}),u._lastHoverCtrl=null)}function r(t){var n=e.getParentCtrl(t.target),r=u._lastHoverCtrl,i=0,o,a,s;if(n!==r){if(u._lastHoverCtrl=n,a=n.parents().toArray().reverse(),a.push(n),r){for(s=r.parents().toArray().reverse(),s.push(r),i=0;i<s.length&&a[i]===s[i];i++);for(o=s.length-1;o>=i;o--)r=s[o],r.fire(\"mouseleave\",{target:r.getEl()})}for(o=i;o<a.length;o++)n=a[o],n.fire(\"mouseenter\",{target:n.getEl()})}}function i(t){t.preventDefault(),\"mousewheel\"==t.type?(t.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-.025*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire(\"wheel\",t)}var o,s,l,u,c,d;if(c=e._nativeEvents){for(l=e.parents().toArray(),l.unshift(e),o=0,s=l.length;!u&&o<s;o++)u=l[o]._eventsRoot;for(u||(u=l[l.length-1]||e),e._eventsRoot=u,s=o,o=0;o<s;o++)l[o]._eventsRoot=u;var h=u._delegates;h||(h=u._delegates={});for(d in c){if(!c)return!1;\"wheel\"!==d||p?(\"mouseenter\"===d||\"mouseleave\"===d?u._hasMouseEnter||(a(u.getEl()).on(\"mouseleave\",n).on(\"mouseover\",r),u._hasMouseEnter=1):h[d]||(a(u.getEl()).on(d,t),h[d]=!0),c[d]=!1):f?a(e.getEl()).on(\"mousewheel\",i):a(e.getEl()).on(\"DOMMouseScroll\",i)}}}var f=\"onmousewheel\"in document,p=!1,h=\"mce-\",m,g=0,v={Statics:{classPrefix:h},isRtl:function(){return m.rtl},classPrefix:h,init:function(e){function n(e){var t;for(e=e.split(\" \"),t=0;t<e.length;t++)i.classes.add(e[t])}var i=this,o,u;i.settings=e=t.extend({},i.Defaults,e),i._id=e.id||\"mceu_\"+g++,i._aria={role:e.role},i._elmCache={},i.$=a,i.state=new r({visible:!0,active:!1,disabled:!1,value:\"\"}),i.data=new r(e.data),i.classes=new l(function(){i.state.get(\"rendered\")&&(i.getEl().className=this.toString())}),i.classes.prefix=i.classPrefix,o=e.classes,o&&(i.Defaults&&(u=i.Defaults.classes,u&&o!=u&&n(u)),n(o)),t.each(\"title text name visible disabled active value\".split(\" \"),function(t){t in e&&i[t](e[t])}),i.on(\"click\",function(){if(i.disabled())return!1}),i.settings=e,i.borderBox=s.parseBox(e.border),i.paddingBox=s.parseBox(e.padding),i.marginBox=s.parseBox(e.margin),e.hidden&&i.hide()},Properties:\"parent,name\",getContainerElm:function(){return o.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e=this,t=e.settings,n,r,i=e.getEl(),a,l,u,c,d,f,p,h;n=e.borderBox=e.borderBox||s.measureBox(i,\"border\"),e.paddingBox=e.paddingBox||s.measureBox(i,\"padding\"),e.marginBox=e.marginBox||s.measureBox(i,\"margin\"),h=o.getSize(i),f=t.minWidth,p=t.minHeight,u=f||h.width,c=p||h.height,a=t.width,l=t.height,d=t.autoResize,d=\"undefined\"!=typeof d?d:!a&&!l,a=a||u,l=l||c;var m=n.left+n.right,g=n.top+n.bottom,v=t.maxWidth||65535,y=t.maxHeight||65535;return e._layoutRect=r={x:t.x||0,y:t.y||0,w:a,h:l,deltaW:m,deltaH:g,contentW:a-m,contentH:l-g,innerW:a-m,innerH:l-g,startMinWidth:f||0,startMinHeight:p||0,minW:Math.min(u,v),minH:Math.min(c,y),maxW:v,maxH:y,autoResize:d,scrollW:0},e._lastLayoutRect={},r},layoutRect:function(e){var t=this,n=t._layoutRect,r,i,o,a,s,l;return n||(n=t.initLayoutRect()),e?(o=n.deltaW,a=n.deltaH,e.x!==s&&(n.x=e.x),e.y!==s&&(n.y=e.y),e.minW!==s&&(n.minW=e.minW),e.minH!==s&&(n.minH=e.minH),i=e.w,i!==s&&(i=i<n.minW?n.minW:i,i=i>n.maxW?n.maxW:i,n.w=i,n.innerW=i-o),i=e.h,i!==s&&(i=i<n.minH?n.minH:i,i=i>n.maxH?n.maxH:i,n.h=i,n.innerH=i-a),i=e.innerW,i!==s&&(i=i<n.minW-o?n.minW-o:i,i=i>n.maxW-o?n.maxW-o:i,n.innerW=i,n.w=i+o),i=e.innerH,i!==s&&(i=i<n.minH-a?n.minH-a:i,i=i>n.maxH-a?n.maxH-a:i,n.innerH=i,n.h=i+a),e.contentW!==s&&(n.contentW=e.contentW),e.contentH!==s&&(n.contentH=e.contentH),r=t._lastLayoutRect,r.x===n.x&&r.y===n.y&&r.w===n.w&&r.h===n.h||(l=m.repaintControls,l&&l.map&&!l.map[t._id]&&(l.push(t),l.map[t._id]=!0),r.x=n.x,r.y=n.y,r.w=n.w,r.h=n.h),t):n},repaint:function(){var e=this,t,n,r,i,o,a,s,l,u,c;u=document.createRange?function(e){return e}:Math.round,t=e.getEl().style,i=e._layoutRect,l=e._lastRepaintRect||{},o=e.borderBox,a=o.left+o.right,s=o.top+o.bottom,i.x!==l.x&&(t.left=u(i.x)+\"px\",l.x=i.x),i.y!==l.y&&(t.top=u(i.y)+\"px\",l.y=i.y),i.w!==l.w&&(c=u(i.w-a),t.width=(c>=0?c:0)+\"px\",l.w=i.w),i.h!==l.h&&(c=u(i.h-s),t.height=(c>=0?c:0)+\"px\",l.h=i.h),e._hasBody&&i.innerW!==l.innerW&&(c=u(i.innerW),r=e.getEl(\"body\"),r&&(n=r.style,n.width=(c>=0?c:0)+\"px\"),l.innerW=i.innerW),e._hasBody&&i.innerH!==l.innerH&&(c=u(i.innerH),r=r||e.getEl(\"body\"),r&&(n=n||r.style,n.height=(c>=0?c:0)+\"px\"),l.innerH=i.innerH),e._lastRepaintRect=l,e.fire(\"repaint\",{},!1)},updateLayoutRect:function(){var e=this;e.parent()._lastRect=null,o.css(e.getEl(),{width:\"\",height:\"\"}),e._layoutRect=e._lastRepaintRect=e._lastLayoutRect=null,e.initLayoutRect()},on:function(e,t){function n(e){var t,n;return\"string\"!=typeof e?e:function(i){return t||r.parentsAndSelf().each(function(r){var i=r.settings.callbacks;if(i&&(t=i[e]))return n=r,!1}),t?t.call(n,i):(i.action=e,void this.fire(\"execute\",i))}}var r=this;return c(r).on(e,n(t)),r},off:function(e,t){return c(this).off(e,t),this},fire:function(e,t,n){var r=this;if(t=t||{},t.control||(t.control=r),t=c(r).fire(e,t),n!==!1&&r.parent)for(var i=r.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},hasEventListeners:function(e){return c(this).has(e)},parents:function(e){var t=this,n,r=new i;for(n=t.parent();n;n=n.parent())r.add(n);return e&&(r=r.filter(e)),r},parentsAndSelf:function(e){return new i(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+\"-\"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=a(\"#\"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,r=n.getEl(n.ariaTarget);return\"undefined\"==typeof t?n._aria[e]:(n._aria[e]=t,n.state.get(\"rendered\")&&r.setAttribute(\"role\"==e?e:\"aria-\"+e,t),n)},encode:function(e,t){return t!==!1&&(e=this.translate(e)),(e||\"\").replace(/[&<>\"]/g,function(e){return\"&#\"+e.charCodeAt(0)+\";\"})},translate:function(e){return m.translate?m.translate(e):e},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e=this,t=e.getEl(),n=e.parent(),r,i;if(e.items){var o=e.items().toArray();for(i=o.length;i--;)o[i].remove()}n&&n.items&&(r=[],n.items().each(function(t){t!==e&&r.push(t)}),n.items().set(r),n._lastRect=null),e._eventsRoot&&e._eventsRoot==e&&a(t).off();var s=e.getRoot().controlIdLookup;return s&&delete s[e._id],t&&t.parentNode&&t.parentNode.removeChild(t),e.state.set(\"rendered\",!1),e.state.destroy(),e.fire(\"remove\"),e},renderBefore:function(e){return a(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return a(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id=\"'+this._id+'\" class=\"'+this.classes+'\"></div>'},postRender:function(){var e=this,t=e.settings,n,r,i,o,s;e.$el=a(e.getEl()),e.state.set(\"rendered\",!0);for(o in t)0===o.indexOf(\"on\")&&e.on(o.substr(2),t[o]);if(e._eventsRoot){for(i=e.parent();!s&&i;i=i.parent())s=i._eventsRoot;if(s)for(o in s._nativeEvents)e._nativeEvents[o]=!0}d(e),t.style&&(n=e.getEl(),n&&(n.setAttribute(\"style\",t.style),n.style.cssText=t.style)),e.settings.border&&(r=e.borderBox,e.$el.css({\"border-top-width\":r.top,\"border-right-width\":r.right,\"border-bottom-width\":r.bottom,\"border-left-width\":r.left}));var l=e.getRoot();l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[e._id]=e;for(var c in e._aria)e.aria(c,e._aria[c]);e.state.get(\"visible\")===!1&&(e.getEl().style.display=\"none\"),e.bindStates(),e.state.on(\"change:visible\",function(t){var n=t.value,r;e.state.get(\"rendered\")&&(e.getEl().style.display=n===!1?\"none\":\"\",e.getEl().getBoundingClientRect()),r=e.parent(),r&&(r._lastRect=null),e.fire(n?\"show\":\"hide\"),u.add(e)}),e.fire(\"postrender\",{},!1)},bindStates:function(){},scrollIntoView:function(e){function t(e,t){var n,r,i=e;for(n=r=0;i&&i!=t&&i.nodeType;)n+=i.offsetLeft||0,r+=i.offsetTop||0,i=i.offsetParent;return{x:n,y:r}}var n=this.getEl(),r=n.parentNode,i,o,a,s,l,u,c=t(n,r);return i=c.x,o=c.y,a=n.offsetWidth,s=n.offsetHeight,l=r.clientWidth,u=r.clientHeight,\"end\"==e?(i-=l-a,o-=u-s):\"center\"==e&&(i-=l/2-a/2,o-=u/2-s/2),r.scrollLeft=i,r.scrollTop=o,this},getRoot:function(){for(var e=this,t,n=[];e;){if(e.rootControl){t=e.rootControl;break}n.push(e),t=e,e=e.parent()}t||(t=this);for(var r=n.length;r--;)n[r].rootControl=t;return t},reflow:function(){u.remove(this);var e=this.parent();return e._layout&&!e._layout.isNative()&&e.reflow(),this}};return t.each(\"text title visible disabled active value\".split(\" \"),function(e){v[e]=function(t){return 0===arguments.length?this.state.get(e):(\"undefined\"!=typeof t&&this.state.set(e,t),this)}}),m=e.extend(v)}),r(we,[],function(){var e={},t;return{add:function(t,n){e[t.toLowerCase()]=n},has:function(t){return!!e[t.toLowerCase()]},create:function(n,r){var i,o,a;if(!t){a=tinymce.ui;for(o in a)e[o.toLowerCase()]=a[o];t=!0}if(\"string\"==typeof n?(r=r||{},r.type=n):(r=n,n=r.type),n=n.toLowerCase(),i=e[n],!i)throw new Error(\"Could not find control by type: \"+n);return i=new i(r),i.type=n,i}}}),r(Ee,[],function(){return function(e){function t(e){return e&&1===e.nodeType}function n(e){return e=e||C,t(e)?e.getAttribute(\"role\"):null}function r(e){for(var t,r=e||C;r=r.parentNode;)if(t=n(r))return t}function i(e){var n=C;if(t(n))return n.getAttribute(\"aria-\"+e)}function o(e){var t=e.tagName.toUpperCase();return\"INPUT\"==t||\"TEXTAREA\"==t||\"SELECT\"==t}function a(e){return!(!o(e)||e.hidden)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(n(e))}function s(e){function t(e){if(1==e.nodeType&&\"none\"!=e.style.display&&!e.disabled){a(e)&&n.push(e);for(var r=0;r<e.childNodes.length;r++)t(e.childNodes[r])}}var n=[];return t(e||b.getEl()),n}function l(e){var t,n;e=e||x,n=e.parents().toArray(),n.unshift(e);for(var r=0;r<n.length&&(t=n[r],!t.settings.ariaRoot);r++);return t}function u(e){var t=l(e),n=s(t.getEl());t.settings.ariaRemember&&\"lastAriaIndex\"in t?c(t.lastAriaIndex,n):c(0,n)}function c(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function d(e,t){var n=-1,r=l();t=t||s(r.getEl());for(var i=0;i<t.length;i++)t[i]===C&&(n=i);n+=e,r.lastAriaIndex=c(n,t)}function f(){var e=r();\"tablist\"==e?d(-1,s(C.parentNode)):x.parent().submenu?v():d(-1)}function p(){var e=n(),t=r();\"tablist\"==t?d(1,s(C.parentNode)):\"menuitem\"==e&&\"menu\"==t&&i(\"haspopup\")?y():d(1)}function h(){d(-1)}function m(){var e=n(),t=r();\"menuitem\"==e&&\"menubar\"==t?y():\"button\"==e&&i(\"haspopup\")?y({key:\"down\"}):d(1)}function g(e){var t=r();if(\"tablist\"==t){var n=s(x.getEl(\"body\"))[0];n&&n.focus()}else d(e.shiftKey?-1:1)}function v(){x.fire(\"cancel\")}function y(e){e=e||{},x.fire(\"click\",{target:C,aria:e})}var b=e.root,C,x;try{C=document.activeElement}catch(w){C=document.body}return x=b.getParentCtrl(C),b.on(\"keydown\",function(e){function t(e,t){o(C)||\"slider\"!==n(C)&&t(e)!==!1&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,f);break;case 39:t(e,p);break;case 38:t(e,h);break;case 40:t(e,m);break;case 27:v();break;case 14:case 13:case 32:t(e,y);break;case 9:g(e)!==!1&&e.preventDefault()}}),b.on(\"focusin\",function(e){C=e.target,x=e.control}),{focusFirst:u}}}),r(Ne,[xe,ge,me,we,Ee,m,g,be,Ce],function(e,t,n,r,i,o,a,s,l){var u={};return e.extend({init:function(e){var n=this;n._super(e),e=n.settings,e.fixed&&n.state.set(\"fixed\",!0),n._items=new t,n.isRtl()&&n.classes.add(\"rtl\"),n.bodyClasses=new s(function(){n.state.get(\"rendered\")&&(n.getEl(\"body\").className=this.toString())}),n.bodyClasses.prefix=n.classPrefix,n.classes.add(\"container\"),n.bodyClasses.add(\"container-body\"),e.containerCls&&n.classes.add(e.containerCls),n._layout=r.create((e.layout||\"\")+\"layout\"),n.settings.items?n.add(n.settings.items):n.add(n.render()),n._hasBody=!0},items:function(){return this._items},find:function(e){return e=u[e]=u[e]||new n(e),e.find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var t=this,n,r,i;return e&&(r=t.keyboardNav||t.parents().eq(-1)[0].keyboardNav)?void r.focusFirst(t):(i=t.find(\"*\"),t.statusbar&&i.add(t.statusbar.items()),i.each(function(e){return e.settings.autofocus?(n=null,!1):void(e.canFocus&&(n=n||e))}),n&&n.focus(),t)},replace:function(e,t){for(var n,r=this.items(),i=r.length;i--;)if(r[i]===e){r[i]=t;break}i>=0&&(n=t.getEl(),n&&n.parentNode.removeChild(n),n=e.getEl(),n&&n.parentNode.removeChild(n)),t.parent(this)},create:function(t){var n=this,i,a=[];return o.isArray(t)||(t=[t]),o.each(t,function(t){t&&(t instanceof e||(\"string\"==typeof t&&(t={type:t}),i=o.extend({},n.settings.defaults,t),t.type=i.type=i.type||t.type||n.settings.defaultType||(i.defaults?i.defaults.type:null),t=r.create(i)),a.push(t))}),a},renderNew:function(){var e=this;return e.items().each(function(t,n){var r;t.parent(e),t.state.get(\"rendered\")||(r=e.getEl(\"body\"),r.hasChildNodes()&&n<=r.childNodes.length-1?a(r.childNodes[n]).before(t.renderHtml()):a(r).append(t.renderHtml()),t.postRender(),l.add(t))}),e._layout.applyClasses(e.items().filter(\":visible\")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var r=this,i,o,a;return e=r.create(e),i=r.items(),!n&&t<i.length-1&&(t+=1),t>=0&&t<i.length&&(o=i.slice(0,t).toArray(),a=i.slice(t).toArray(),i.set(o.concat(e,a))),r.renderNew()},fromJSON:function(e){var t=this;for(var n in e)t.find(\"#\"+n).value(e[n]);return t},toJSON:function(){var e=this,t={};return e.find(\"*\").each(function(e){var n=e.name(),r=e.value();n&&\"undefined\"!=typeof r&&(t[n]=r)}),t},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id=\"'+e._id+'\" class=\"'+e.classes+'\"'+(n?' role=\"'+this.settings.role+'\"':\"\")+'><div id=\"'+e._id+'-body\" class=\"'+e.bodyClasses+'\">'+(e.settings.html||\"\")+t.renderHtml(e)+\"</div></div>\"},postRender:function(){var e=this,t;return e.items().exec(\"postRender\"),e._super(),e._layout.postRender(e),e.state.set(\"rendered\",!0),e.settings.style&&e.$el.css(e.settings.style),e.settings.border&&(t=e.borderBox,e.$el.css({\"border-top-width\":t.top,\"border-right-width\":t.right,\"border-bottom-width\":t.bottom,\"border-left-width\":t.left})),e.parent()||(e.keyboardNav=new i({root:e})),e},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!=t.w||n.h!=t.h)return e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0},reflow:function(){var t;if(l.remove(this),this.visible()){for(e.repaintControls=[],e.repaintControls.map={},this.recalc(),t=e.repaintControls.length;t--;)e.repaintControls[t].repaint();\"flow\"!==this.settings.layout&&\"stack\"!==this.settings.layout&&this.repaint(),e.repaintControls=[]}return this}})}),r(_e,[g],function(e){function t(e){var t,n,r,i,o,a,s,l,u=Math.max;return t=e.documentElement,n=e.body,r=u(t.scrollWidth,n.scrollWidth),i=u(t.clientWidth,n.clientWidth),o=u(t.offsetWidth,n.offsetWidth),a=u(t.scrollHeight,n.scrollHeight),s=u(t.clientHeight,n.clientHeight),l=u(t.offsetHeight,n.offsetHeight),{width:r<o?i:r,height:a<l?s:a}}function n(e){var t,n;if(e.changedTouches)for(t=\"screenX screenY pageX pageY clientX clientY\".split(\" \"),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}return function(r,i){function o(){return s.getElementById(i.handle||r)}var a,s=i.document||document,l,u,c,d,f,p;i=i||{},u=function(r){var u=t(s),h,m;n(r),r.preventDefault(),l=r.button,h=o(),f=r.screenX,p=r.screenY,m=window.getComputedStyle?window.getComputedStyle(h,null).getPropertyValue(\"cursor\"):h.runtimeStyle.cursor,a=e(\"<div></div>\").css({position:\"absolute\",top:0,left:0,width:u.width,height:u.height,zIndex:2147483647,opacity:1e-4,cursor:m}).appendTo(s.body),e(s).on(\"mousemove touchmove\",d).on(\"mouseup touchend\",c),i.start(r)},d=function(e){return n(e),e.button!==l?c(e):(e.deltaX=e.screenX-f,e.deltaY=e.screenY-p,e.preventDefault(),void i.drag(e))},c=function(t){n(t),e(s).off(\"mousemove touchmove\",d).off(\"mouseup touchend\",c),a.remove(),i.stop&&i.stop(t)},this.destroy=function(){e(o()).off()},e(o()).on(\"mousedown touchstart\",u)}}),r(Se,[g,_e],function(e,t){return{init:function(){var e=this;e.on(\"repaint\",e.renderScroll)},renderScroll:function(){function n(){function t(t,a,s,l,u,c){var d,f,p,h,m,g,v,y,b;if(f=i.getEl(\"scroll\"+t)){if(y=a.toLowerCase(),b=s.toLowerCase(),e(i.getEl(\"absend\")).css(y,i.layoutRect()[l]-1),!u)return void e(f).css(\"display\",\"none\");e(f).css(\"display\",\"block\"),d=i.getEl(\"body\"),p=i.getEl(\"scroll\"+t+\"t\"),h=d[\"client\"+s]-2*o,h-=n&&r?f[\"client\"+c]:0,m=d[\"scroll\"+s],g=h/m,v={},v[y]=d[\"offset\"+a]+o,v[b]=h,e(f).css(v),v={},v[y]=d[\"scroll\"+a]*g,v[b]=h*g,e(p).css(v)}}var n,r,a;a=i.getEl(\"body\"),n=a.scrollWidth>a.clientWidth,r=a.scrollHeight>a.clientHeight,t(\"h\",\"Left\",\"Width\",\"contentW\",n,\"Height\"),t(\"v\",\"Top\",\"Height\",\"contentH\",r,\"Width\")}function r(){function n(n,r,a,s,l){var u,c=i._id+\"-scroll\"+n,d=i.classPrefix;e(i.getEl()).append('<div id=\"'+c+'\" class=\"'+d+\"scrollbar \"+d+\"scrollbar-\"+n+'\"><div id=\"'+c+'t\" class=\"'+d+'scrollbar-thumb\"></div></div>'),i.draghelper=new t(c+\"t\",{start:function(){u=i.getEl(\"body\")[\"scroll\"+r],e(\"#\"+c).addClass(d+\"active\")},drag:function(e){var t,c,d,f,p=i.layoutRect();c=p.contentW>p.innerW,d=p.contentH>p.innerH,f=i.getEl(\"body\")[\"client\"+a]-2*o,f-=c&&d?i.getEl(\"scroll\"+n)[\"client\"+l]:0,t=f/i.getEl(\"body\")[\"scroll\"+a],i.getEl(\"body\")[\"scroll\"+r]=u+e[\"delta\"+s]/t},stop:function(){e(\"#\"+c).removeClass(d+\"active\")}})}i.classes.add(\"scroll\"),n(\"v\",\"Top\",\"Height\",\"Y\",\"Width\"),n(\"h\",\"Left\",\"Width\",\"X\",\"Height\")}var i=this,o=2;i.settings.autoScroll&&(i._hasScroll||(i._hasScroll=!0,r(),i.on(\"wheel\",function(e){var t=i.getEl(\"body\");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),e(i.getEl(\"body\")).on(\"scroll\",n)),n())}}}),r(ke,[Ne,Se],function(e,t){return e.extend({Defaults:{layout:\"fit\",containerCls:\"panel\"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),\"undefined\"==typeof n?n='<div id=\"'+e._id+'-body\" class=\"'+e.bodyClasses+'\">'+t.renderHtml(e)+\"</div>\":(\"function\"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id=\"'+e._id+'\" class=\"'+e.classes+'\" hidefocus=\"1\" tabindex=\"-1\" role=\"group\">'+(e._preBodyHtml||\"\")+n+\"</div>\"}})}),r(Te,[ve],function(e){function t(t,n,r){var i,o,a,s,l,u,c,d,f,p;return f=e.getViewPort(),o=e.getPos(n),a=o.x,s=o.y,t.state.get(\"fixed\")&&\"static\"==e.getRuntimeStyle(document.body,\"position\")&&(a-=f.x,s-=f.y),i=t.getEl(),p=e.getSize(i),l=p.width,u=p.height,p=e.getSize(n),c=p.width,d=p.height,r=(r||\"\").split(\"\"),\"b\"===r[0]&&(s+=d),\"r\"===r[1]&&(a+=c),\"c\"===r[0]&&(s+=Math.round(d/2)),\"c\"===r[1]&&(a+=Math.round(c/2)),\"b\"===r[3]&&(s-=u),\"r\"===r[4]&&(a-=l),\"c\"===r[3]&&(s-=Math.round(u/2)),\"c\"===r[4]&&(a-=Math.round(l/2)),{x:a,y:s,w:l,h:u}}return{testMoveRel:function(n,r){for(var i=e.getViewPort(),o=0;o<r.length;o++){var a=t(this,n,r[o]);if(this.state.get(\"fixed\")){if(a.x>0&&a.x+a.w<i.w&&a.y>0&&a.y+a.h<i.h)return r[o]}else if(a.x>i.x&&a.x+a.w<i.w+i.x&&a.y>i.y&&a.y+a.h<i.h+i.y)return r[o]}return r[0]},moveRel:function(e,n){\"string\"!=typeof n&&(n=this.testMoveRel(e,n));var r=t(this,e,n);return this.moveTo(r.x,r.y)},moveBy:function(e,t){var n=this,r=n.layoutRect();return n.moveTo(r.x+e,r.y+t),n},moveTo:function(t,n){function r(e,t,n){return e<0?0:e+n>t?(e=t-n,e<0?0:e):e}var i=this;if(i.settings.constrainToViewport){var o=e.getViewPort(window),a=i.layoutRect();t=r(t,o.w+o.x,a.w),n=r(n,o.h+o.y,a.h)}return i.state.get(\"rendered\")?i.layoutRect({x:t,y:n}).repaint():(i.settings.x=t,i.settings.y=n),i.fire(\"move\",{x:t,y:n}),i}}}),r(Re,[ve],function(e){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,n){if(t<=1||n<=1){var r=e.getWindowSize();t=t<=1?t*r.w:t,n=n<=1?n*r.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this,r=n.layoutRect();return n.resizeTo(r.w+e,r.h+t)}}}),r(Ae,[ke,Te,Re,ve,g,c],function(e,t,n,r,i,o){function a(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function s(e){for(var t=v.length;t--;){var n=v[t],r=n.getParentCtrl(e.target);if(n.settings.autohide){if(r&&(a(r,n)||n.parent()===r))continue;e=n.fire(\"autohide\",{target:e.target}),e.isDefaultPrevented()||n.hide()}}}function l(){h||(h=function(e){2!=e.button&&s(e)},i(document).on(\"click touchstart\",h))}function u(){m||(m=function(){var e;for(e=v.length;e--;)d(v[e])},i(window).on(\"scroll\",m))}function c(){if(!g){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;g=function(){document.all&&t==e.clientWidth&&n==e.clientHeight||(t=e.clientWidth,n=e.clientHeight,C.hideAll())},i(window).on(\"resize\",g)}}function d(e){function t(t,n){for(var r,i=0;i<v.length;i++)if(v[i]!=e)for(r=v[i].parent();r&&(r=r.parent());)r==e&&v[i].fixed(t).moveBy(0,n).repaint()}var n=r.getViewPort().y;e.settings.autofix&&(e.state.get(\"fixed\")?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}function f(e,t){var n,r=C.zIndex||65535,o;if(e)y.push(t);else for(n=y.length;n--;)y[n]===t&&y.splice(n,1);if(y.length)for(n=0;n<y.length;n++)y[n].modal&&(r++,o=y[n]),y[n].getEl().style.zIndex=r,y[n].zIndex=r,r++;var a=i(\"#\"+t.classPrefix+\"modal-block\",t.getContainerElm())[0];o?i(a).css(\"z-index\",o.zIndex-1):a&&(a.parentNode.removeChild(a),b=!1),C.currentZIndex=r}function p(e){var t;for(t=v.length;t--;)v[t]===e&&v.splice(t,1);for(t=y.length;t--;)y[t]===e&&y.splice(t,1)}var h,m,g,v=[],y=[],b,C=e.extend({Mixins:[t,n],init:function(e){var t=this;t._super(e),t._eventsRoot=t,t.classes.add(\"floatpanel\"),e.autohide&&(l(),c(),v.push(t)),e.autofix&&(u(),t.on(\"move\",function(){d(this)})),t.on(\"postrender show\",function(e){if(e.control==t){var n,r=t.classPrefix;t.modal&&!b&&(n=i(\"#\"+r+\"modal-block\",t.getContainerElm()),n[0]||(n=i('<div id=\"'+r+'modal-block\" class=\"'+r+\"reset \"+r+'fade\"></div>').appendTo(t.getContainerElm())),o.setTimeout(function(){n.addClass(r+\"in\"),i(t.getEl()).addClass(r+\"in\")}),b=!0),f(!0,t)}}),t.on(\"show\",function(){t.parents().each(function(e){if(e.state.get(\"fixed\"))return t.fixed(!0),!1})}),e.popover&&(t._preBodyHtml='<div class=\"'+t.classPrefix+'arrow\"></div>',t.classes.add(\"popover\").add(\"bottom\").add(t.isRtl()?\"end\":\"start\")),t.aria(\"label\",e.ariaLabel),t.aria(\"labelledby\",t._id),t.aria(\"describedby\",t.describedBy||t._id+\"-none\")},fixed:function(e){var t=this;if(t.state.get(\"fixed\")!=e){if(t.state.get(\"rendered\")){var n=r.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.classes.toggle(\"fixed\",e),t.state.set(\"fixed\",e)}return t},show:function(){var e=this,t,n=e._super();for(t=v.length;t--&&v[t]!==e;);return t===-1&&v.push(e),n},hide:function(){return p(this),f(!1,this),this._super()},hideAll:function(){C.hideAll()},close:function(){var e=this;return e.fire(\"close\").isDefaultPrevented()||(e.remove(),f(!1,e)),e},remove:function(){p(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl(\"body\").setAttribute(\"role\",e.settings.bodyRole),e._super()}});return C.hideAll=function(){for(var e=v.length;e--;){var t=v[e];t&&t.settings.autohide&&(t.hide(),v.splice(e,1))}},C}),r(Be,[Ae,ke,ve,g,_e,ye,d,c],function(e,t,n,r,i,o,a,s){function l(e){var t=\"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0\",n=r(\"meta[name=viewport]\")[0],i;a.overrideViewPort!==!1&&(n||(n=document.createElement(\"meta\"),n.setAttribute(\"name\",\"viewport\"),document.getElementsByTagName(\"head\")[0].appendChild(n)),i=n.getAttribute(\"content\"),i&&\"undefined\"!=typeof p&&(p=i),n.setAttribute(\"content\",e?t:p))}function u(e,t){c()&&t===!1&&r([document.documentElement,document.body]).removeClass(e+\"fullscreen\")}function c(){for(var e=0;e<f.length;e++)if(f[e]._fullscreen)return!0;return!1}function d(){function e(){var e,t=n.getWindowSize(),r;for(e=0;e<f.length;e++)r=f[e].layoutRect(),f[e].moveTo(f[e].settings.x||Math.max(0,t.w/2-r.w/2),f[e].settings.y||Math.max(0,t.h/2-r.h/2))}if(!a.desktop){var t={w:window.innerWidth,h:window.innerHeight};s.setInterval(function(){var e=window.innerWidth,n=window.innerHeight;t.w==e&&t.h==n||(t={w:e,h:n},r(window).trigger(\"resize\"))},100)}r(window).on(\"resize\",e)}var f=[],p=\"\",h=e.extend({modal:!0,Defaults:{border:1,layout:\"flex\",containerCls:\"panel\",role:\"dialog\",callbacks:{submit:function(){this.fire(\"submit\",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var r=this;r._super(e),r.isRtl()&&r.classes.add(\"rtl\"),r.classes.add(\"window\"),r.bodyClasses.add(\"window-body\"),r.state.set(\"fixed\",!0),e.buttons&&(r.statusbar=new t({layout:\"flex\",border:\"1 0 0 0\",spacing:3,padding:10,align:\"center\",pack:r.isRtl()?\"start\":\"end\",defaults:{type:\"button\"},items:e.buttons}),r.statusbar.classes.add(\"foot\"),r.statusbar.parent(r)),r.on(\"click\",function(e){var t=r.classPrefix+\"close\";(n.hasClass(e.target,t)||n.hasClass(e.target.parentNode,t))&&r.close()}),r.on(\"cancel\",function(){r.close()}),r.aria(\"describedby\",r.describedBy||r._id+\"-none\"),r.aria(\"label\",e.title),r._fullscreen=!1},recalc:function(){var e=this,t=e.statusbar,r,i,o,a;e._fullscreen&&(e.layoutRect(n.getWindowSize()),e.layoutRect().contentH=e.layoutRect().innerH),e._super(),r=e.layoutRect(),e.settings.title&&!e._fullscreen&&(i=r.headerW,i>r.w&&(o=r.x-Math.max(0,i/2),e.layoutRect({w:i,x:o}),a=!0)),t&&(t.layoutRect({w:e.layoutRect().innerW}).recalc(),i=t.layoutRect().minW+r.deltaW,i>r.w&&(o=r.x-Math.max(0,i-r.w),e.layoutRect({w:i,x:o}),a=!0)),a&&e.recalc()},initLayoutRect:function(){var e=this,t=e._super(),r=0,i;if(e.settings.title&&!e._fullscreen){i=e.getEl(\"head\");var o=n.getSize(i);t.headerW=o.width,t.headerH=o.height,r+=t.headerH}e.statusbar&&(r+=e.statusbar.layoutRect().h),t.deltaH+=r,t.minH+=r,t.h+=r;var a=n.getWindowSize();return t.x=e.settings.x||Math.max(0,a.w/2-t.w/2),t.y=e.settings.y||Math.max(0,a.h/2-t.h/2),t},renderHtml:function(){var e=this,t=e._layout,n=e._id,r=e.classPrefix,i=e.settings,o=\"\",a=\"\",s=i.html;return e.preRender(),t.preRender(e),i.title&&(o='<div id=\"'+n+'-head\" class=\"'+r+'window-head\"><div id=\"'+n+'-title\" class=\"'+r+'title\">'+e.encode(i.title)+'</div><div id=\"'+n+'-dragh\" class=\"'+r+'dragh\"></div><button type=\"button\" class=\"'+r+'close\" aria-hidden=\"true\"><i class=\"mce-ico mce-i-remove\"></i></button></div>'),i.url&&(s='<iframe src=\"'+i.url+'\" tabindex=\"-1\"></iframe>'),\"undefined\"==typeof s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id=\"'+n+'\" class=\"'+e.classes+'\" hidefocus=\"1\"><div class=\"'+e.classPrefix+'reset\" role=\"application\">'+o+'<div id=\"'+n+'-body\" class=\"'+e.bodyClasses+'\">'+s+\"</div>\"+a+\"</div></div>\"},fullscreen:function(e){var t=this,i=document.documentElement,a,l=t.classPrefix,u;if(e!=t._fullscreen)if(r(window).on(\"resize\",function(){var e;if(t._fullscreen)if(a)t._timer||(t._timer=s.setTimeout(function(){var e=n.getWindowSize();t.moveTo(0,0).resizeTo(e.w,e.h),t._timer=0},50));else{e=(new Date).getTime();var r=n.getWindowSize();t.moveTo(0,0).resizeTo(r.w,r.h),(new Date).getTime()-e>50&&(a=!0)}}),u=t.layoutRect(),t._fullscreen=e,e){t._initial={x:u.x,y:u.y,w:u.w,h:u.h},t.borderBox=o.parseBox(\"0\"),t.getEl(\"head\").style.display=\"none\",u.deltaH-=u.headerH+2,r([i,document.body]).addClass(l+\"fullscreen\"),t.classes.add(\"fullscreen\");var c=n.getWindowSize();t.moveTo(0,0).resizeTo(c.w,c.h)}else t.borderBox=o.parseBox(t.settings.border),t.getEl(\"head\").style.display=\"\",u.deltaH+=u.headerH,r([i,document.body]).removeClass(l+\"fullscreen\"),t.classes.remove(\"fullscreen\"),t.moveTo(t._initial.x,t._initial.y).resizeTo(t._initial.w,t._initial.h);return t.reflow()},postRender:function(){var e=this,t;setTimeout(function(){e.classes.add(\"in\"),e.fire(\"open\")},0),e._super(),e.statusbar&&e.statusbar.postRender(),e.focus(),this.dragHelper=new i(e._id+\"-dragh\",{start:function(){t={x:e.layoutRect().x,y:e.layoutRect().y}},drag:function(n){e.moveTo(t.x+n.deltaX,t.y+n.deltaY)}}),e.on(\"submit\",function(t){t.isDefaultPrevented()||e.close()}),f.push(e),l(!0)},submit:function(){return this.fire(\"submit\",{data:this.toJSON()})},remove:function(){var e=this,t;for(e.dragHelper.destroy(),e._super(),e.statusbar&&this.statusbar.remove(),u(e.classPrefix,!1),t=f.length;t--;)f[t]===e&&f.splice(t,1);l(f.length>0)},getContentWindow:function(){var e=this.getEl().getElementsByTagName(\"iframe\")[0];return e?e.contentWindow:null}});return d(),h}),r(De,[Be],function(e){var t=e.extend({init:function(e){e={border:1,padding:20,layout:\"flex\",pack:\"center\",align:\"center\",containerCls:\"panel\",autoScroll:!0,buttons:{type:\"button\",text:\"Ok\",action:\"ok\"},items:{type:\"label\",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){function r(e,t,n){return{type:\"button\",text:e,subtype:n?\"primary\":\"\",onClick:function(e){e.control.parents()[1].close(),o(t)}}}var i,o=n.callback||function(){};\nswitch(n.buttons){case t.OK_CANCEL:i=[r(\"Ok\",!0,!0),r(\"Cancel\",!1)];break;case t.YES_NO:case t.YES_NO_CANCEL:i=[r(\"Yes\",1,!0),r(\"No\",0)],n.buttons==t.YES_NO_CANCEL&&i.push(r(\"Cancel\",-1));break;default:i=[r(\"Ok\",!0,!0)]}return new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:\"flex\",pack:\"center\",align:\"center\",buttons:i,title:n.title,role:\"alertdialog\",items:{type:\"label\",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria(\"describedby\",this.items()[0]._id)},onClose:n.onClose,onCancel:function(){o(!1)}}).renderTo(document.body).reflow()},alert:function(e,n){return\"string\"==typeof e&&(e={text:e}),e.callback=n,t.msgBox(e)},confirm:function(e,n){return\"string\"==typeof e&&(e={text:e}),e.callback=n,e.buttons=t.OK_CANCEL,t.msgBox(e)}}});return t}),r(Le,[Be,De],function(e,t){return function(n){function r(){if(s.length)return s[s.length-1]}function i(e){n.fire(\"OpenWindow\",{win:e})}function o(e){n.fire(\"CloseWindow\",{win:e})}var a=this,s=[];a.windows=s,n.on(\"remove\",function(){for(var e=s.length;e--;)s[e].close()}),a.open=function(t,r){var a;return n.editorManager.setActive(n),t.title=t.title||\" \",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||\"form\",items:t.body,data:t.data,callbacks:t.commands}),t.url||t.buttons||(t.buttons=[{text:\"Ok\",subtype:\"primary\",onclick:function(){a.find(\"form\")[0].submit()}},{text:\"Cancel\",onclick:function(){a.close()}}]),a=new e(t),s.push(a),a.on(\"close\",function(){for(var e=s.length;e--;)s[e]===a&&s.splice(e,1);s.length||n.focus(),o(a)}),t.data&&a.on(\"postRender\",function(){this.find(\"*\").each(function(e){var n=e.name();n in t.data&&e.value(t.data[n])})}),a.features=t||{},a.params=r||{},1===s.length&&n.nodeChanged(),a=a.renderTo().reflow(),i(a),a},a.alert=function(e,r,a){var s;s=t.alert(e,function(){r?r.call(a||this):n.focus()}),s.on(\"close\",function(){o(s)}),i(s)},a.confirm=function(e,n,r){var a;a=t.confirm(e,function(e){n.call(r||this,e)}),a.on(\"close\",function(){o(a)}),i(a)},a.close=function(){r()&&r().close()},a.getParams=function(){return r()?r().params:null},a.setParams=function(e){r()&&(r().params=e)},a.getWindows=function(){return s}}}),r(Me,[xe,Te],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:\"widget tooltip tooltip-n\"},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id=\"'+e._id+'\" class=\"'+e.classes+'\" role=\"presentation\"><div class=\"'+t+'tooltip-arrow\"></div><div class=\"'+t+'tooltip-inner\">'+e.encode(e.state.get(\"text\"))+\"</div></div>\"},bindStates:function(){var e=this;return e.state.on(\"change:text\",function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)}),e._super()},repaint:function(){var e=this,t,n;t=e.getEl().style,n=e._layoutRect,t.left=n.x+\"px\",t.top=n.y+\"px\",t.zIndex=131070}})}),r(Pe,[xe,Me],function(e,t){var n,r=e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&r.tooltips!==!1&&(t.on(\"mouseenter\",function(n){var r=t.tooltip().moveTo(-65535);if(n.control==t){var i=r.text(e.tooltip).show().testMoveRel(t.getEl(),[\"bc-tc\",\"bc-tl\",\"bc-tr\"]);r.classes.toggle(\"tooltip-n\",\"bc-tc\"==i),r.classes.toggle(\"tooltip-nw\",\"bc-tl\"==i),r.classes.toggle(\"tooltip-ne\",\"bc-tr\"==i),r.moveRel(t.getEl(),i)}else r.hide()}),t.on(\"mouseleave mousedown click\",function(){t.tooltip().hide()})),t.aria(\"label\",e.ariaLabel||e.tooltip)},tooltip:function(){return n||(n=new t({type:\"tooltip\"}),n.renderTo()),n},postRender:function(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},bindStates:function(){function e(e){n.aria(\"disabled\",e),n.classes.toggle(\"disabled\",e)}function t(e){n.aria(\"pressed\",e),n.classes.toggle(\"active\",e)}var n=this;return n.state.on(\"change:disabled\",function(t){e(t.value)}),n.state.on(\"change:active\",function(e){t(e.value)}),n.state.get(\"disabled\")&&e(!0),n.state.get(\"active\")&&t(!0),n._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return r}),r(Oe,[Pe],function(e){return e.extend({Defaults:{value:0},init:function(e){var t=this;t._super(e),t.classes.add(\"progress\"),t.settings.filter||(t.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this,t=e._id,n=this.classPrefix;return'<div id=\"'+t+'\" class=\"'+e.classes+'\"><div class=\"'+n+'bar-container\"><div class=\"'+n+'bar\"></div></div><div class=\"'+n+'text\">0%</div></div>'},postRender:function(){var e=this;return e._super(),e.value(e.settings.value),e},bindStates:function(){function e(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+\"%\",t.getEl().firstChild.firstChild.style.width=e+\"%\"}var t=this;return t.state.on(\"change:value\",function(t){e(t.value)}),e(t.state.get(\"value\")),t._super()}})}),r(He,[xe,Te,Oe,c],function(e,t,n,r){return e.extend({Mixins:[t],Defaults:{classes:\"widget notification\"},init:function(e){var t=this;t._super(e),e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add(\"notification-\"+e.type),e.timeout&&(e.timeout<0||e.timeout>0)&&!e.closeButton?t.closeButton=!1:(t.classes.add(\"has-close\"),t.closeButton=!0),e.progressBar&&(t.progressBar=new n),t.on(\"click\",function(e){e.target.className.indexOf(t.classPrefix+\"close\")!=-1&&t.close()})},renderHtml:function(){var e=this,t=e.classPrefix,n=\"\",r=\"\",i=\"\",o=\"\";return e.icon&&(n='<i class=\"'+t+\"ico \"+t+\"i-\"+e.icon+'\"></i>'),e.color&&(o=' style=\"background-color: '+e.color+'\"'),e.closeButton&&(r='<button type=\"button\" class=\"'+t+'close\" aria-hidden=\"true\">\\xd7</button>'),e.progressBar&&(i=e.progressBar.renderHtml()),'<div id=\"'+e._id+'\" class=\"'+e.classes+'\"'+o+' role=\"presentation\">'+n+'<div class=\"'+t+'notification-inner\">'+e.state.get(\"text\")+\"</div>\"+i+r+\"</div>\"},postRender:function(){var e=this;return r.setTimeout(function(){e.$el.addClass(e.classPrefix+\"in\")}),e._super()},bindStates:function(){var e=this;return e.state.on(\"change:text\",function(t){e.getEl().childNodes[1].innerHTML=t.value}),e.progressBar&&e.progressBar.bindStates(),e._super()},close:function(){var e=this;return e.fire(\"close\").isDefaultPrevented()||e.remove(),e},repaint:function(){var e=this,t,n;t=e.getEl().style,n=e._layoutRect,t.left=n.x+\"px\",t.top=n.y+\"px\",t.zIndex=65534}})}),r(Ie,[He,c,m],function(e,t,n){return function(r){function i(){if(f.length)return f[f.length-1]}function o(){t.requestAnimationFrame(function(){a(),s()})}function a(){for(var e=0;e<f.length;e++)f[e].moveTo(0,0)}function s(){if(f.length>0){var e=f.slice(0,1)[0],t=r.inline?r.getElement():r.getContentAreaContainer();if(e.moveRel(t,\"tc-tc\"),f.length>1)for(var n=1;n<f.length;n++)f[n].moveRel(f[n-1].getEl(),\"bc-tc\")}}function l(e,t){if(!c(t))return null;var r=n.grep(e,function(e){return u(t,e)});return 0===r.length?null:r[0]}function u(e,t){return e.type===t.settings.type&&e.text===t.settings.text}function c(e){return!e.progressBar&&!e.timeout}var d=this,f=[];d.notifications=f,r.on(\"remove\",function(){for(var e=f.length;e--;)f[e].close()}),r.on(\"ResizeEditor\",s),r.on(\"ResizeWindow\",o),d.open=function(t){if(!r.removed){var n;r.editorManager.setActive(r);var i=l(f,t);return null===i?(n=new e(t),f.push(n),t.timeout>0&&(n.timer=setTimeout(function(){n.close()},t.timeout)),n.on(\"close\",function(){var e=f.length;for(n.timer&&r.getWin().clearTimeout(n.timer);e--;)f[e]===n&&f.splice(e,1);s()}),n.renderTo(),s()):n=i,n}},d.close=function(){i()&&i().close()},d.getNotifications=function(){return f},r.on(\"SkinLoaded\",function(){var e=r.settings.service_message;e&&r.notificationManager.open({text:e,type:\"warning\",timeout:0,icon:\"\"})})}}),r(Fe,[w],function(e){function t(t,n,r){for(var i=[];n&&n!=t;n=n.parentNode)i.push(e.nodeIndex(n,r));return i}function n(e,t){var n,r,i;for(r=e,n=t.length-1;n>=0;n--){if(i=r.childNodes,t[n]>i.length-1)return null;r=i[t[n]]}return r}return{create:t,resolve:n}}),r(ze,[I,T,y,Fe,A,C,d,m,c,k,$,oe],function(e,t,n,r,i,o,a,s,l,u,c,d){return function(f){function p(e,t){try{f.getDoc().execCommand(e,!1,t)}catch(n){}}function h(){var e=f.getDoc().documentMode;return e?e:6}function m(e){return e.isDefaultPrevented()}function g(e){var t,n;e.dataTransfer&&(f.selection.isCollapsed()&&\"IMG\"==e.target.tagName&&re.select(e.target),t=f.selection.getContent(),t.length>0&&(n=ce+escape(f.id)+\",\"+escape(t),e.dataTransfer.setData(de,n)))}function v(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(de),t&&t.indexOf(ce)>=0)?(t=t.substr(ce.length).split(\",\"),{id:unescape(t[0]),html:unescape(t[1])}):null}function y(e){f.queryCommandSupported(\"mceInsertClipboardContent\")?f.execCommand(\"mceInsertClipboardContent\",!1,{content:e}):f.execCommand(\"mceInsertContent\",!1,e)}function b(){function i(e){var t=x.schema.getBlockElements(),n=f.getBody();if(\"BR\"!=e.nodeName)return!1;for(;e!=n&&!t[e.nodeName];e=e.parentNode)if(e.nextSibling)return!1;return!0}function o(e,t){var n;for(n=e.nextSibling;n&&n!=t;n=n.nextSibling)if((3!=n.nodeType||0!==Z.trim(n.data).length)&&n!==t)return!1;return n===t}function a(e,t,r){var o,a,s;if(x.isChildOf(e,f.getBody()))for(s=x.schema.getNonEmptyElements(),o=new n(r||e,e);a=o[t?\"next\":\"prev\"]();){if(s[a.nodeName]&&!i(a))return a;if(3==a.nodeType&&a.data.length>0)return a}}function u(e){var n,r,i,o,s;if(!e.collapsed&&(n=x.getParent(t.getNode(e.startContainer,e.startOffset),x.isBlock),r=x.getParent(t.getNode(e.endContainer,e.endOffset),x.isBlock),s=f.schema.getTextBlockElements(),n!=r&&s[n.nodeName]&&s[r.nodeName]&&\"false\"!==x.getContentEditable(n)&&\"false\"!==x.getContentEditable(r)))return e.deleteContents(),i=a(n,!1),o=a(r,!0),x.isEmpty(r)||Z(n).append(r.childNodes),Z(r).remove(),i?1==i.nodeType?\"BR\"==i.nodeName?(e.setStartBefore(i),e.setEndBefore(i)):(e.setStartAfter(i),e.setEndAfter(i)):(e.setStart(i,i.data.length),e.setEnd(i,i.data.length)):o&&(1==o.nodeType?(e.setStartBefore(o),e.setEndBefore(o)):(e.setStart(o,0),e.setEnd(o,0))),w.setRng(e),!0}function c(e,n){var r,i,s,l,u,c;if(!e.collapsed)return e;if(u=e.startContainer,c=e.startOffset,3==u.nodeType)if(n){if(c<u.data.length)return e}else if(c>0)return e;r=t.getNode(u,c),s=x.getParent(r,x.isBlock),i=a(f.getBody(),n,r),l=x.getParent(i,x.isBlock);var d=1===u.nodeType&&c>u.childNodes.length-1;if(!r||!i)return e;if(l&&s!=l)if(n){if(!o(s,l))return e;1==r.nodeType?\"BR\"==r.nodeName?e.setStartBefore(r):e.setStartAfter(r):e.setStart(r,r.data.length),1==i.nodeType?e.setEnd(i,0):e.setEndBefore(i)}else{if(!o(l,s))return e;1==i.nodeType?\"BR\"==i.nodeName?e.setStartBefore(i):e.setStartAfter(i):e.setStart(i,i.data.length),1==r.nodeType&&d?e.setEndAfter(r):e.setEndBefore(r)}return e}function d(e){var t=w.getRng();if(t=c(t,e),u(t))return!0}function p(e,t){function n(e,n){return m=Z(n).parents().filter(function(e,t){return!!f.schema.getTextInlineElements()[t.nodeName]}),l=e.cloneNode(!1),m=s.map(m,function(e){return e=e.cloneNode(!1),l.hasChildNodes()?(e.appendChild(l.firstChild),l.appendChild(e)):l.appendChild(e),l.appendChild(e),e}),m.length?(h=x.create(\"br\"),m[0].appendChild(h),x.replace(l,e),t.setStartBefore(h),t.setEndBefore(h),f.selection.setRng(t),h):null}function i(e){return e&&f.schema.getTextBlockElements()[e.tagName]}var o,a,l,u,c,d,p,h,m;if(t.collapsed&&(d=t.startContainer,p=t.startOffset,a=x.getParent(d,x.isBlock),i(a)))if(1==d.nodeType){if(d=d.childNodes[p],d&&\"BR\"!=d.tagName)return;if(c=e?a.nextSibling:a.previousSibling,x.isEmpty(a)&&i(c)&&x.isEmpty(c)&&n(a,d))return x.remove(c),!0}else if(3==d.nodeType){if(o=r.create(a,d),u=a.cloneNode(!0),d=r.resolve(u,o),e){if(p>=d.data.length)return;d.deleteData(p,1)}else{if(p<=0)return;d.deleteData(p-1,1)}if(x.isEmpty(u))return n(a,d)}}function h(e){var t,n,r;d(e)||(s.each(f.getBody().getElementsByTagName(\"*\"),function(e){\"SPAN\"==e.tagName&&e.setAttribute(\"mce-data-marked\",1),!e.hasAttribute(\"data-mce-style\")&&e.hasAttribute(\"style\")&&f.dom.setAttrib(e,\"style\",f.dom.getAttrib(e,\"style\"))}),t=new E(function(){}),t.observe(f.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:[\"style\"]}),f.getDoc().execCommand(e?\"ForwardDelete\":\"Delete\",!1,null),n=f.selection.getRng(),r=n.startContainer.parentNode,s.each(t.takeRecords(),function(e){if(x.isChildOf(e.target,f.getBody())){if(\"style\"==e.attributeName){var t=e.target.getAttribute(\"data-mce-style\");t?e.target.setAttribute(\"style\",t):e.target.removeAttribute(\"style\")}s.each(e.addedNodes,function(e){if(\"SPAN\"==e.nodeName&&!e.getAttribute(\"mce-data-marked\")){var t,i;e==r&&(t=n.startOffset,i=e.firstChild),x.remove(e,!0),i&&(n.setStart(i,t),n.setEnd(i,t),f.selection.setRng(n))}})}}),t.disconnect(),s.each(f.dom.select(\"span[mce-data-marked]\"),function(e){e.removeAttribute(\"mce-data-marked\")}))}function b(e){f.undoManager.transact(function(){h(e)})}var C=f.getDoc(),x=f.dom,w=f.selection,E=window.MutationObserver,N,_;E||(N=!0,E=function(){function e(e){var t=e.relatedNode||e.target;n.push({target:t,addedNodes:[t]})}function t(e){var t=e.relatedNode||e.target;n.push({target:t,attributeName:e.attrName})}var n=[],r;this.observe=function(n){r=n,r.addEventListener(\"DOMSubtreeModified\",e,!1),r.addEventListener(\"DOMNodeInsertedIntoDocument\",e,!1),r.addEventListener(\"DOMNodeInserted\",e,!1),r.addEventListener(\"DOMAttrModified\",t,!1)},this.disconnect=function(){r.removeEventListener(\"DOMSubtreeModified\",e,!1),r.removeEventListener(\"DOMNodeInsertedIntoDocument\",e,!1),r.removeEventListener(\"DOMNodeInserted\",e,!1),r.removeEventListener(\"DOMAttrModified\",t,!1)},this.takeRecords=function(){return n}}),f.on(\"keydown\",function(e){var t=e.keyCode==te,n=e.ctrlKey||e.metaKey;if(!m(e)&&(t||e.keyCode==ee)){var r=f.selection.getRng(),i=r.startContainer,o=r.startOffset;if(t&&e.shiftKey)return;if(p(t,r))return void e.preventDefault();if(!n&&r.collapsed&&3==i.nodeType&&(t?o<i.data.length:o>0))return;e.preventDefault(),n&&f.selection.getSel().modify(\"extend\",t?\"forward\":\"backward\",e.metaKey?\"lineboundary\":\"word\"),h(t)}}),f.on(\"keypress\",function(t){if(!m(t)&&!w.isCollapsed()&&t.charCode>31&&!e.metaKeyPressed(t)){var n,r,i,o,a,s;n=f.selection.getRng(),s=String.fromCharCode(t.charCode),t.preventDefault(),r=Z(n.startContainer).parents().filter(function(e,t){return!!f.schema.getTextInlineElements()[t.nodeName]}),h(!0),r=r.filter(function(e,t){return!Z.contains(f.getBody(),t)}),r.length?(i=x.createFragment(),r.each(function(e,t){t=t.cloneNode(!1),i.hasChildNodes()?(t.appendChild(i.firstChild),i.appendChild(t)):(a=t,i.appendChild(t)),i.appendChild(t)}),a.appendChild(f.getDoc().createTextNode(s)),o=x.getParent(n.startContainer,x.isBlock),x.isEmpty(o)?Z(o).empty().append(i):n.insertNode(i),n.setStart(a.firstChild,1),n.setEnd(a.firstChild,1),f.selection.setRng(n)):f.selection.setContent(s)}}),f.addCommand(\"Delete\",function(){h()}),f.addCommand(\"ForwardDelete\",function(){h(!0)}),N||(f.on(\"dragstart\",function(e){_=w.getRng(),g(e)}),f.on(\"drop\",function(e){if(!m(e)){var n=v(e);n&&(e.preventDefault(),l.setEditorTimeout(f,function(){var r=t.getCaretRangeFromPoint(e.x,e.y,C);_&&(w.setRng(_),_=null,b()),w.setRng(r),y(n.html)}))}}),f.on(\"cut\",function(e){m(e)||!e.clipboardData||f.selection.isCollapsed()||(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData(\"text/html\",f.selection.getContent()),e.clipboardData.setData(\"text/plain\",f.selection.getContent({format:\"text\"})),l.setEditorTimeout(f,function(){b(!0)}))}))}function C(){function e(e){var t=ne.create(\"body\"),n=e.cloneContents();return t.appendChild(n),re.serializer.serialize(t,{format:\"html\"})}function n(n){if(!n.setStart){if(n.item)return!1;var r=n.duplicate();return r.moveToElementText(f.getBody()),t.compareRanges(n,r)}var i=e(n),o=ne.createRng();o.selectNode(f.getBody());var a=e(o);return i===a}f.on(\"keydown\",function(e){var t=e.keyCode,r,i;if(!m(e)&&(t==te||t==ee)){if(r=f.selection.isCollapsed(),i=f.getBody(),r&&!ne.isEmpty(i))return;if(!r&&!n(f.selection.getRng()))return;e.preventDefault(),f.setContent(\"\"),i.firstChild&&ne.isBlock(i.firstChild)?f.selection.setCursorLocation(i.firstChild,0):f.selection.setCursorLocation(i,0),f.nodeChanged()}})}function x(){f.shortcuts.add(\"meta+a\",null,\"SelectAll\")}function w(){f.settings.content_editable||ne.bind(f.getDoc(),\"mousedown mouseup\",function(e){var t;if(e.target==f.getDoc().documentElement)if(t=re.getRng(),f.getBody().focus(),\"mousedown\"==e.type){if(u.isCaretContainer(t.startContainer))return;re.placeCaretAt(e.clientX,e.clientY)}else re.setRng(t)})}function E(){f.on(\"keydown\",function(e){if(!m(e)&&e.keyCode===ee){if(!f.getBody().getElementsByTagName(\"hr\").length)return;if(re.isCollapsed()&&0===re.getRng(!0).startOffset){var t=re.getNode(),n=t.previousSibling;if(\"HR\"==t.nodeName)return ne.remove(t),void e.preventDefault();n&&n.nodeName&&\"hr\"===n.nodeName.toLowerCase()&&(ne.remove(n),e.preventDefault())}}})}function N(){window.Range.prototype.getClientRects||f.on(\"mousedown\",function(e){if(!m(e)&&\"HTML\"===e.target.nodeName){var t=f.getBody();t.blur(),l.setEditorTimeout(f,function(){t.focus()})}})}function _(){f.on(\"click\",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&\"false\"!==ne.getContentEditableParent(t)&&(e.preventDefault(),re.select(t),f.nodeChanged()),\"A\"==t.nodeName&&ne.hasClass(t,\"mce-item-anchor\")&&(e.preventDefault(),re.select(t))})}function S(){function e(){var e=ne.getAttribs(re.getStart().cloneNode(!1));return function(){var t=re.getStart();t!==f.getBody()&&(ne.setAttrib(t,\"style\",null),Q(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function t(){return!re.isCollapsed()&&ne.getParent(re.getStart(),ne.isBlock)!=ne.getParent(re.getEnd(),ne.isBlock)}f.on(\"keypress\",function(n){var r;if(!m(n)&&(8==n.keyCode||46==n.keyCode)&&t())return r=e(),f.getDoc().execCommand(\"delete\",!1,null),r(),n.preventDefault(),!1}),ne.bind(f.getDoc(),\"cut\",function(n){var r;!m(n)&&t()&&(r=e(),l.setEditorTimeout(f,function(){r()}))})}function k(){document.body.setAttribute(\"role\",\"application\")}function T(){f.on(\"keydown\",function(e){if(!m(e)&&e.keyCode===ee&&re.isCollapsed()&&0===re.getRng(!0).startOffset){var t=re.getNode().previousSibling;if(t&&t.nodeName&&\"table\"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function R(){h()>7||(p(\"RespectVisibilityInDesign\",!0),f.contentStyles.push(\".mceHideBrInPre pre br {display: none}\"),ne.addClass(f.getBody(),\"mceHideBrInPre\"),oe.addNodeFilter(\"pre\",function(e){for(var t=e.length,n,r,o,a;t--;)for(n=e[t].getAll(\"br\"),r=n.length;r--;)o=n[r],a=o.prev,a&&3===a.type&&\"\\n\"!=a.value.charAt(a.value-1)?a.value+=\"\\n\":o.parent.insert(new i(\"#text\",3),o,!0).value=\"\\n\"}),ae.addNodeFilter(\"pre\",function(e){for(var t=e.length,n,r,i,o;t--;)for(n=e[t].getAll(\"br\"),r=n.length;r--;)i=n[r],o=i.prev,o&&3==o.type&&(o.value=o.value.replace(/\\r?\\n$/,\"\"))}))}function A(){ne.bind(f.getBody(),\"mouseup\",function(){var e,t=re.getNode();\"IMG\"==t.nodeName&&((e=ne.getStyle(t,\"width\"))&&(ne.setAttrib(t,\"width\",e.replace(/[^0-9%]+/g,\"\")),ne.setStyle(t,\"width\",\"\")),(e=ne.getStyle(t,\"height\"))&&(ne.setAttrib(t,\"height\",e.replace(/[^0-9%]+/g,\"\")),ne.setStyle(t,\"height\",\"\")))})}function B(){f.on(\"keydown\",function(t){var n,r,i,o,a;if(!m(t)&&t.keyCode==e.BACKSPACE&&(n=re.getRng(),r=n.startContainer,i=n.startOffset,o=ne.getRoot(),a=r,n.collapsed&&0===i)){for(;a&&a.parentNode&&a.parentNode.firstChild==a&&a.parentNode!=o;)a=a.parentNode;\"BLOCKQUOTE\"===a.tagName&&(f.formatter.toggle(\"blockquote\",null,a),n=ne.createRng(),n.setStart(r,0),n.setEnd(r,0),re.setRng(n))}})}function D(){function e(){K(),p(\"StyleWithCSS\",!1),p(\"enableInlineTableEditing\",!1),ie.object_resizing||p(\"enableObjectResizing\",!1)}ie.readonly||f.on(\"BeforeExecCommand MouseDown\",e)}function L(){function e(){Q(ne.select(\"a\"),function(e){var t=e.parentNode,n=ne.getRoot();if(t.lastChild===e){for(;t&&!ne.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}ne.add(t,\"br\",{\"data-mce-bogus\":1})}})}f.on(\"SetContent ExecCommand\",function(t){\"setcontent\"!=t.type&&\"mceInsertLink\"!==t.command||e()})}function M(){ie.forced_root_block&&f.on(\"init\",function(){p(\"DefaultParagraphSeparator\",ie.forced_root_block)})}function P(){f.on(\"keydown\",function(e){var t;m(e)||e.keyCode!=ee||(t=f.getDoc().selection.createRange(),t&&t.item&&(e.preventDefault(),f.undoManager.beforeChange(),ne.remove(t.item(0)),f.undoManager.add()))})}function O(){var e;h()>=10&&(e=\"\",Q(\"p div h1 h2 h3 h4 h5 h6\".split(\" \"),function(t,n){e+=(n>0?\",\":\"\")+t+\":empty\"}),f.contentStyles.push(e+\"{padding-right: 1px !important}\"))}function H(){h()<9&&(oe.addNodeFilter(\"noscript\",function(e){for(var t=e.length,n,r;t--;)n=e[t],r=n.firstChild,r&&n.attr(\"data-mce-innertext\",r.value)}),ae.addNodeFilter(\"noscript\",function(e){for(var t=e.length,n,r,a;t--;)n=e[t],r=e[t].firstChild,r?r.value=o.decode(r.value):(a=n.attributes.map[\"data-mce-innertext\"],a&&(n.attr(\"data-mce-innertext\",null),r=new i(\"#text\",3),r.value=a,r.raw=!0,n.append(r)))}))}function I(){function e(e,t){var n=i.createTextRange();try{n.moveToPoint(e,t)}catch(r){n=null}return n}function t(t){var r;t.button?(r=e(t.x,t.y),r&&(r.compareEndPoints(\"StartToStart\",a)>0?r.setEndPoint(\"StartToStart\",a):r.setEndPoint(\"EndToEnd\",a),r.select())):n()}function n(){var e=r.selection.createRange();a&&!e.item&&0===e.compareEndPoints(\"StartToEnd\",e)&&a.select(),ne.unbind(r,\"mouseup\",n),ne.unbind(r,\"mousemove\",t),a=o=0}var r=ne.doc,i=r.body,o,a,s;r.documentElement.unselectable=!0,ne.bind(r,\"mousedown contextmenu\",function(i){if(\"HTML\"===i.target.nodeName){if(o&&n(),s=r.documentElement,s.scrollHeight>s.clientHeight)return;o=1,a=e(i.x,i.y),a&&(ne.bind(r,\"mouseup\",n),ne.bind(r,\"mousemove\",t),ne.getRoot().focus(),a.select())}})}function F(){f.on(\"keyup focusin mouseup\",function(t){65==t.keyCode&&e.metaKeyPressed(t)||re.normalize()},!0)}function z(){f.contentStyles.push(\"img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}\")}function U(){f.inline||f.on(\"keydown\",function(){document.activeElement==document.body&&f.getWin().focus()})}function W(){f.inline||(f.contentStyles.push(\"body {min-height: 150px}\"),f.on(\"click\",function(e){var t;if(\"HTML\"==e.target.nodeName){if(a.ie>11)return void f.getBody().focus();t=f.selection.getRng(),f.getBody().focus(),f.selection.setRng(t),f.selection.normalize(),f.nodeChanged()}}))}function V(){a.mac&&f.on(\"keydown\",function(t){!e.metaKeyPressed(t)||t.shiftKey||37!=t.keyCode&&39!=t.keyCode||(t.preventDefault(),f.selection.getSel().modify(\"move\",37==t.keyCode?\"backward\":\"forward\",\"lineboundary\"))})}function $(){p(\"AutoUrlDetect\",!1)}function q(){f.on(\"click\",function(e){var t=e.target;do if(\"A\"===t.tagName)return void e.preventDefault();while(t=t.parentNode)}),f.contentStyles.push(\".mce-content-body {-webkit-touch-callout: none}\")}function j(){f.on(\"init\",function(){f.dom.bind(f.getBody(),\"submit\",function(e){e.preventDefault()})})}function Y(){oe.addNodeFilter(\"br\",function(e){for(var t=e.length;t--;)\"Apple-interchange-newline\"==e[t].attr(\"class\")&&e[t].remove()})}function X(){f.on(\"dragstart\",function(e){g(e)}),f.on(\"drop\",function(e){if(!m(e)){var n=v(e);if(n&&n.id!=f.id){e.preventDefault();var r=t.getCaretRangeFromPoint(e.x,e.y,f.getDoc());re.setRng(r),y(n.html)}}})}function K(){}function G(){var e;return se?(e=f.selection.getSel(),!e||!e.rangeCount||0===e.rangeCount):0}function J(){function t(e){var t=new d(e.getBody()),n=e.selection.getRng(),r=c.fromRangeStart(n),i=c.fromRangeEnd(n),o=t.prev(r),a=t.next(i);return!e.selection.isCollapsed()&&(!o||o.isAtStart()&&r.isEqual(o))&&(!a||a.isAtEnd()&&r.isEqual(a))}f.on(\"keypress\",function(n){!m(n)&&!re.isCollapsed()&&n.charCode>31&&!e.metaKeyPressed(n)&&t(f)&&(n.preventDefault(),f.setContent(String.fromCharCode(n.charCode)),f.selection.select(f.getBody(),!0),f.selection.collapse(!1),f.nodeChanged())}),f.on(\"keydown\",function(e){var n=e.keyCode;m(e)||n!=te&&n!=ee||t(f)&&(e.preventDefault(),f.setContent(\"\"),f.nodeChanged())})}var Q=s.each,Z=f.$,ee=e.BACKSPACE,te=e.DELETE,ne=f.dom,re=f.selection,ie=f.settings,oe=f.parser,ae=f.serializer,se=a.gecko,le=a.ie,ue=a.webkit,ce=\"data:text/mce-internal,\",de=le?\"Text\":\"URL\";return B(),C(),a.windowsPhone||F(),ue&&(J(),b(),w(),_(),M(),j(),T(),Y(),a.iOS?(U(),W(),q()):x()),le&&a.ie<11&&(E(),k(),R(),A(),P(),O(),H(),I()),a.ie>=11&&(W(),T()),a.ie&&(x(),$(),X()),se&&(J(),E(),N(),S(),D(),L(),z(),V(),T()),{refreshContentEditable:K,isHidden:G}}}),r(Ue,[pe,w,m],function(e,t,n){function r(e,t){return\"selectionchange\"==t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=o.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()}function i(e,t){function n(e){return!e.hidden&&!e.readonly}var i=r(e,t),s;if(e.delegates||(e.delegates={}),!e.delegates[t])if(e.settings.event_root){if(a||(a={},e.editorManager.on(\"removeEditor\",function(){var t;if(!e.editorManager.activeEditor&&a){for(t in a)e.dom.unbind(r(e,t));a=null}})),a[t])return;s=function(r){for(var i=r.target,a=e.editorManager.editors,s=a.length;s--;){var l=a[s].getBody();(l===i||o.isChildOf(i,l))&&n(a[s])&&a[s].fire(t,r)}},a[t]=s,o.bind(i,t,s)}else s=function(r){n(e)&&e.fire(t,r)},o.bind(i,t,s),e.delegates[t]=s}var o=t.DOM,a,s={bindPendingEventDelegates:function(){var e=this;n.each(e._pendingNativeEvents,function(t){i(e,t)})},toggleNativeEvent:function(e,t){var n=this;\"focus\"!=e&&\"blur\"!=e&&(t?n.initialized?i(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(r(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t;if(e.delegates){for(t in e.delegates)e.dom.unbind(r(e,t),t,e.delegates[t]);delete e.delegates}e.inline||(e.getBody().onload=null,e.dom.unbind(e.getWin()),e.dom.unbind(e.getDoc())),e.dom.unbind(e.getBody()),e.dom.unbind(e.getContainer())}};return s=n.extend({},e,s)}),r(We,[],function(){function e(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}}function t(e){var t,n;return t=e.getBody(),n=function(t){e.dom.getParents(t.target,\"a\").length>0&&t.preventDefault()},e.dom.bind(t,\"click\",n),{unbind:function(){e.dom.unbind(t,\"click\",n)}}}function n(n,r){n._clickBlocker&&(n._clickBlocker.unbind(),n._clickBlocker=null),r?(n._clickBlocker=t(n),n.selection.controlSelection.hideResizeRect(),n.readonly=!0,n.getBody().contentEditable=!1):(n.readonly=!1,n.getBody().contentEditable=!0,e(n,\"StyleWithCSS\",!1),e(n,\"enableInlineTableEditing\",!1),e(n,\"enableObjectResizing\",!1),n.focus(),n.nodeChanged())}function r(e,t){var r=e.readonly?\"readonly\":\"design\";t!=r&&(e.initialized?n(e,\"readonly\"==t):e.on(\"init\",function(){n(e,\"readonly\"==t)}),e.fire(\"SwitchMode\",{mode:t}))}return{setMode:r}}),r(Ve,[m,d],function(e,t){var n=e.each,r=e.explode,i={f9:120,f10:121,f11:122},o=e.makeMap(\"alt,ctrl,shift,meta,access\");return function(a){function s(e){var a,s,l={};n(r(e,\"+\"),function(e){e in o?l[e]=!0:/^[0-9]{2,}$/.test(e)?l.keyCode=parseInt(e,10):(l.charCode=e.charCodeAt(0),l.keyCode=i[e]||e.toUpperCase().charCodeAt(0))}),a=[l.keyCode];for(s in o)l[s]?a.push(s):l[s]=!1;return l.id=a.join(\",\"),l.access&&(l.alt=!0,t.mac?l.ctrl=!0:l.shift=!0),l.meta&&(t.mac?l.meta=!0:(l.ctrl=!0,l.meta=!1)),l}function l(t,n,i,o){var l;return l=e.map(r(t,\">\"),s),l[l.length-1]=e.extend(l[l.length-1],{func:i,scope:o||a}),e.extend(l[0],{desc:a.translate(n),subpatterns:l.slice(1)})}function u(e){return e.altKey||e.ctrlKey||e.metaKey}function c(e){return\"keydown\"===e.type&&e.keyCode>=112&&e.keyCode<=123}function d(e,t){return!!t&&(t.ctrl==e.ctrlKey&&t.meta==e.metaKey&&(t.alt==e.altKey&&t.shift==e.shiftKey&&(!!(e.keyCode==t.keyCode||e.charCode&&e.charCode==t.charCode)&&(e.preventDefault(),!0))))}function f(e){return e.func?e.func.call(e.scope):null}var p=this,h={},m=[];a.on(\"keyup keypress keydown\",function(e){!u(e)&&!c(e)||e.isDefaultPrevented()||(n(h,function(t){if(d(e,t))return m=t.subpatterns.slice(0),\"keydown\"==e.type&&f(t),!0}),d(e,m[0])&&(1===m.length&&\"keydown\"==e.type&&f(m[0]),m.shift()))}),p.add=function(t,i,o,s){var u;return u=o,\"string\"==typeof o?o=function(){a.execCommand(u,!1,null)}:e.isArray(u)&&(o=function(){a.execCommand(u[0],u[1],u[2])}),n(r(e.trim(t.toLowerCase())),function(e){var t=l(e,i,o,s);h[t.id]=t}),!0},p.remove=function(e){var t=l(e);return!!h[t.id]&&(delete h[t.id],!0)}}}),r($e,[u,m,z],function(e,t,n){return function(r,i){function o(e){var t,n;return n={\"image/jpeg\":\"jpg\",\"image/jpg\":\"jpg\",\"image/gif\":\"gif\",\"image/png\":\"png\"},t=n[e.blob().type.toLowerCase()]||\"dat\",e.filename()+\".\"+t}function a(e,t){return e?e.replace(/\\/$/,\"\")+\"/\"+t.replace(/^\\//,\"\"):t}function s(e){return{id:e.id,blob:e.blob,base64:e.base64,filename:n.constant(o(e))}}function l(e,t,n,r){var o,s;o=new XMLHttpRequest,o.open(\"POST\",i.url),o.withCredentials=i.credentials,o.upload.onprogress=function(e){r(e.loaded/e.total*100)},o.onerror=function(){n(\"Image upload failed due to a XHR Transport error. Code: \"+o.status)},o.onload=function(){var e;return 200!=o.status?void n(\"HTTP Error: \"+o.status):(e=JSON.parse(o.responseText),e&&\"string\"==typeof e.location?void t(a(i.basePath,e.location)):void n(\"Invalid JSON: \"+o.responseText))},s=new FormData,s.append(\"file\",e.blob(),e.filename()),o.send(s)}function u(){return new e(function(e){e([])})}function c(e,t){return{url:t,blobInfo:e,status:!0}}function d(e,t){return{url:\"\",blobInfo:e,status:!1,error:t}}function f(e,n){t.each(y[e],function(e){e(n)}),delete y[e]}function p(t,n,i){return r.markPending(t.blobUri()),new e(function(e){var o,a,l=function(){};try{var u=function(){o&&(o.close(),a=l)},p=function(n){u(),r.markUploaded(t.blobUri(),n),f(t.blobUri(),c(t,n)),e(c(t,n))},h=function(n){u(),r.removeFailed(t.blobUri()),f(t.blobUri(),d(t,n)),e(d(t,n))};a=function(e){e<0||e>100||(o||(o=i()),o.progressBar.value(e))},n(s(t),p,h,a)}catch(m){e(d(t,m.message))}})}function h(e){return e===l}function m(t){var n=t.blobUri();return new e(function(e){y[n]=y[n]||[],y[n].push(e)})}function g(n,o){return n=t.grep(n,function(e){return!r.isUploaded(e.blobUri())}),e.all(t.map(n,function(e){return r.isPending(e.blobUri())?m(e):p(e,i.handler,o)}))}function v(e,t){return!i.url&&h(i.handler)?u():g(e,t)}var y={};return i=t.extend({credentials:!1,handler:l},i),{upload:v}}}),r(qe,[u],function(e){function t(t){return new e(function(e){var n=new XMLHttpRequest;n.open(\"GET\",t,!0),n.responseType=\"blob\",n.onload=function(){200==this.status&&e(this.response)},n.send()})}function n(e){var t,n;return e=decodeURIComponent(e).split(\",\"),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}}function r(t){return new e(function(e){var r,i,o;t=n(t);try{r=atob(t.data)}catch(a){return void e(new Blob([]))}for(i=new Uint8Array(r.length),o=0;o<i.length;o++)i[o]=r.charCodeAt(o);e(new Blob([i],{type:t.type}))})}function i(e){return 0===e.indexOf(\"blob:\")?t(e):0===e.indexOf(\"data:\")?r(e):null}function o(t){return new e(function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)})}return{uriToBlob:i,blobToDataUri:o,parseDataUri:n}}),r(je,[u,h,z,qe,d],function(e,t,n,r,i){var o=0,a=function(e){return(e||\"blobid\")+o++};return function(o,s){function l(l,c){function d(e,t){var n,i;return 0===e.src.indexOf(\"blob:\")?(i=s.getByUri(e.src),void(i?t({image:e,blobInfo:i}):r.uriToBlob(e.src).then(function(o){r.blobToDataUri(o).then(function(l){n=r.parseDataUri(l).data,i=s.create(a(),o,n),s.add(i),t({image:e,blobInfo:i})})}))):(n=r.parseDataUri(e.src).data,i=s.findFirst(function(e){return e.base64()===n}),void(i?t({image:e,blobInfo:i}):r.uriToBlob(e.src).then(function(r){i=s.create(a(),r,n),s.add(i),t({image:e,blobInfo:i})})))}var f,p;return c||(c=n.constant(!0)),f=t.filter(l.getElementsByTagName(\"img\"),function(e){var t=e.src;return!!i.fileApi&&(!e.hasAttribute(\"data-mce-bogus\")&&(!e.hasAttribute(\"data-mce-placeholder\")&&(!(!t||t==i.transparentSrc)&&(0===t.indexOf(\"blob:\")?!o.isUploaded(t):0===t.indexOf(\"data:\")&&c(e)))))}),p=t.map(f,function(t){var n;return u[t.src]?new e(function(e){u[t.src].then(function(n){e({image:t,blobInfo:n.blobInfo})})}):(n=new e(function(e){d(t,e)}).then(function(e){return delete u[e.image.src],e})[\"catch\"](function(e){return delete u[t.src],\ne}),u[t.src]=n,n)}),e.all(p)}var u={};return{findAll:l}}}),r(Ye,[h,z],function(e,t){return function(){function n(e,t,n,r){return{id:c(e),filename:c(r||e),blob:c(t),base64:c(n),blobUri:c(URL.createObjectURL(t))}}function r(e){i(e.id())||u.push(e)}function i(e){return o(function(t){return t.id()===e})}function o(t){return e.filter(u,t)[0]}function a(e){return o(function(t){return t.blobUri()==e})}function s(t){u=e.filter(u,function(e){return e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)})}function l(){e.each(u,function(e){URL.revokeObjectURL(e.blobUri())}),u=[]}var u=[],c=t.constant;return{create:n,add:r,get:i,getByUri:a,findFirst:o,removeByUri:s,destroy:l}}}),r(Xe,[],function(){return function(){function e(e,t){return{status:e,resultUri:t}}function t(e){return e in d}function n(e){var t=d[e];return t?t.resultUri:null}function r(e){return!!t(e)&&d[e].status===u}function i(e){return!!t(e)&&d[e].status===c}function o(t){d[t]=e(u,null)}function a(t,n){d[t]=e(c,n)}function s(e){delete d[e]}function l(){d={}}var u=1,c=2,d={};return{hasBlobUri:t,getResultUri:n,isPending:r,isUploaded:i,markPending:o,markUploaded:a,removeFailed:s,destroy:l}}}),r(Ke,[N],function(e){var t=e.PluginManager,n=function(e,n){for(var r in t.urls){var i=t.urls[r]+\"/plugin\"+n+\".js\";if(i===e)return r}return null},r=function(e,t){var r=n(t,e.suffix);return r?\"Failed to load plugin: \"+r+\" from url \"+t:\"Failed to load plugin url: \"+t},i=function(e,t){e.notificationManager.open({type:\"error\",text:t})},o=function(e,t){e._skinLoaded?i(e,t):e.on(\"SkinLoaded\",function(){i(e,t)})},a=function(e,t){o(e,\"Failed to upload image: \"+t)},s=function(e,t){o(e,r(e,t))};return{pluginLoadError:s,uploadError:a}}),r(Ge,[h,$e,je,Ye,Xe,Ke],function(e,t,n,r,i,o){return function(a){function s(e){return function(t){return a.selection?e(t):[]}}function l(){return\"?\"+(new Date).getTime()}function u(e,t,n){var r=0;do r=e.indexOf(t,r),r!==-1&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1);while(r!==-1);return e}function c(e,t,n){return e=u(e,'src=\"'+t+'\"','src=\"'+n+'\"'),e=u(e,'data-mce-src=\"'+t+'\"','data-mce-src=\"'+n+'\"')}function d(t,n){e.each(a.undoManager.data,function(r){\"fragmented\"===r.type?r.fragments=e.map(r.fragments,function(e){return c(e,t,n)}):r.content=c(r.content,t,n)})}function f(){return a.notificationManager.open({text:a.translate(\"Image uploading...\"),type:\"info\",timeout:-1,progressBar:!0})}function p(e,t){C.removeByUri(e.src),d(e.src,t),a.$(e).attr({src:E.images_reuse_filename?t+l():t,\"data-mce-src\":a.convertURL(t,\"src\")})}function h(n){return x||(x=new t(N,{url:E.images_upload_url,basePath:E.images_upload_base_path,credentials:E.images_upload_credentials,handler:E.images_upload_handler})),v().then(s(function(t){var r;return r=e.map(t,function(e){return e.blobInfo}),x.upload(r,f).then(s(function(r){return r=e.map(r,function(e,n){var r=t[n].image;return e.status&&a.settings.images_replace_blob_uris!==!1?p(r,e.url):e.error&&o.uploadError(a,e.error),{element:r,status:e.status}}),n&&n(r),r}))}))}function m(e){if(E.automatic_uploads!==!1)return h(e)}function g(e){return!E.images_dataimg_filter||E.images_dataimg_filter(e)}function v(){return w||(w=new n(N,C)),w.findAll(a.getBody(),g).then(s(function(t){return e.each(t,function(e){d(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute(\"data-mce-src\")}),t}))}function y(){C.destroy(),N.destroy(),w=x=null}function b(t){return t.replace(/src=\"(blob:[^\"]+)\"/g,function(t,n){var r=N.getResultUri(n);if(r)return'src=\"'+r+'\"';var i=C.getByUri(n);return i||(i=e.reduce(a.editorManager.editors,function(e,t){return e||t.editorUpload.blobCache.getByUri(n)},null)),i?'src=\"data:'+i.blob().type+\";base64,\"+i.base64()+'\"':t})}var C=new r,x,w,E=a.settings,N=new i;return a.on(\"setContent\",function(){a.settings.automatic_uploads!==!1?m():v()}),a.on(\"RawSaveContent\",function(e){e.content=b(e.content)}),a.on(\"getContent\",function(e){e.source_view||\"raw\"==e.format||(e.content=b(e.content))}),a.on(\"PostRender\",function(){a.parser.addNodeFilter(\"img\",function(t){e.each(t,function(e){var t=e.attr(\"src\");if(!C.getByUri(t)){var n=N.getResultUri(t);n&&e.attr(\"src\",n)}})})}),{blobCache:C,uploadImages:h,uploadImagesAuto:m,scanForImages:v,destroy:y}}}),r(Je,[k,$,_,T,g,W,c],function(e,t,n,r,i,o,a){var s=n.isContentEditableFalse;return function(t,n){function r(e,n){var r=o.collapse(e.getBoundingClientRect(),n),i,a,s,l,u;return\"BODY\"==t.tagName?(i=t.ownerDocument.documentElement,a=t.scrollLeft||i.scrollLeft,s=t.scrollTop||i.scrollTop):(u=t.getBoundingClientRect(),a=t.scrollLeft-u.left,s=t.scrollTop-u.top),r.left+=a,r.right+=a,r.top+=s,r.bottom+=s,r.width=1,l=e.offsetWidth-e.clientWidth,l>0&&(n&&(l*=-1),r.left+=l,r.right+=l),r}function l(){var n,r,o,a,s;for(n=i(\"*[contentEditable=false]\",t),a=0;a<n.length;a++)r=n[a],o=r.previousSibling,e.endsWithCaretContainer(o)&&(s=o.data,1==s.length?o.parentNode.removeChild(o):o.deleteData(s.length-1,1)),o=r.nextSibling,e.startsWithCaretContainer(o)&&(s=o.data,1==s.length?o.parentNode.removeChild(o):o.deleteData(0,1));return null}function u(o,a){var l,u;return c(),n(a)?(g=e.insertBlock(\"p\",a,o),l=r(a,o),i(g).css(\"top\",l.top),m=i('<div class=\"mce-visual-caret\" data-mce-bogus=\"all\"></div>').css(l).appendTo(t),o&&m.addClass(\"mce-visual-caret-before\"),d(),u=a.ownerDocument.createRange(),u.setStart(g,0),u.setEnd(g,0),u):(g=e.insertInline(a,o),u=a.ownerDocument.createRange(),s(g.nextSibling)?(u.setStart(g,0),u.setEnd(g,0)):(u.setStart(g,1),u.setEnd(g,1)),u)}function c(){l(),g&&(e.remove(g),g=null),m&&(m.remove(),m=null),clearInterval(h)}function d(){h=a.setInterval(function(){i(\"div.mce-visual-caret\",t).toggleClass(\"mce-visual-caret-hidden\")},500)}function f(){a.clearInterval(h)}function p(){return\".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}\"}var h,m,g;return{show:u,hide:c,getCss:p,destroy:f}}}),r(Qe,[h,_,W],function(e,t,n){function r(i){function o(t){return e.map(t,function(e){return e=n.clone(e),e.node=i,e})}if(e.isArray(i))return e.reduce(i,function(e,t){return e.concat(r(t))},[]);if(t.isElement(i))return o(i.getClientRects());if(t.isText(i)){var a=i.ownerDocument.createRange();return a.setStart(i,0),a.setEnd(i,i.data.length),o(a.getClientRects())}}return{getClientRects:r}}),r(Ze,[z,h,Qe,U,ie,oe,$,W],function(e,t,n,r,i,o,a,s){function l(e,t,n,o){for(;o=i.findNode(o,e,r.isEditableCaretCandidate,t);)if(n(o))return}function u(e,r,i,o,a,s){function u(o){var s,l,u;for(u=n.getClientRects(o),e==-1&&(u=u.reverse()),s=0;s<u.length;s++)if(l=u[s],!i(l,p)){if(f.length>0&&r(l,t.last(f))&&c++,l.line=c,a(l))return!0;f.push(l)}}var c=0,d,f=[],p;return(p=t.last(s.getClientRects()))?(d=s.getNode(),u(d),l(e,o,u,d),f):f}function c(e,t){return t.line>e}function d(e,t){return t.line===e}function f(e,n,r,i){function l(n){return 1==e?t.last(n.getClientRects()):t.last(n.getClientRects())}var u=new o(n),c,d,f,p,h=[],m=0,g,v;1==e?(c=u.next,d=s.isBelow,f=s.isAbove,p=a.after(i)):(c=u.prev,d=s.isAbove,f=s.isBelow,p=a.before(i)),v=l(p);do if(p.isVisible()&&(g=l(p),!f(g,v))){if(h.length>0&&d(g,t.last(h))&&m++,g=s.clone(g),g.position=p,g.line=m,r(g))return h;h.push(g)}while(p=c(p));return h}var p=e.curry,h=p(u,-1,s.isAbove,s.isBelow),m=p(u,1,s.isBelow,s.isAbove);return{upUntil:h,downUntil:m,positionsUntil:f,isAboveLine:p(c),isLine:p(d)}}),r(et,[z,h,_,Qe,W,ie,U],function(e,t,n,r,i,o,a){function s(e,t){return Math.abs(e.left-t)}function l(e,t){return Math.abs(e.right-t)}function u(e,n){function r(e,t){return e>=t.left&&e<=t.right}return t.reduce(e,function(e,t){var i,o;return i=Math.min(s(e,n),l(e,n)),o=Math.min(s(t,n),l(t,n)),r(n,t)?t:r(n,e)?e:o==i&&m(t.node)?t:o<i?t:e})}function c(e,t,n,r){for(;r=g(r,e,a.isEditableCaretCandidate,t);)if(n(r))return}function d(e,n){function o(e,i){var o;return o=t.filter(r.getClientRects(i),function(t){return!e(t,n)}),a=a.concat(o),0===o.length}var a=[];return a.push(n),c(-1,e,v(o,i.isAbove),n.node),c(1,e,v(o,i.isBelow),n.node),a}function f(e){return t.filter(t.toArray(e.getElementsByTagName(\"*\")),m)}function p(e,t){return{node:e.node,before:s(e,t)<l(e,t)}}function h(e,n,i){var o,a;return o=r.getClientRects(f(e)),o=t.filter(o,function(e){return i>=e.top&&i<=e.bottom}),a=u(o,n),a&&(a=u(d(e,a),n),a&&m(a.node))?p(a,n):null}var m=n.isContentEditableFalse,g=o.findNode,v=e.curry;return{findClosestClientRect:u,findLineNodeRects:d,closestCaret:h}}),r(tt,[],function(){var e=function(e){var t,n,r,i;return i=e.getBoundingClientRect(),t=e.ownerDocument,n=t.documentElement,r=t.defaultView,{top:i.top+r.pageYOffset-n.clientTop,left:i.left+r.pageXOffset-n.clientLeft}},t=function(t){return t.inline?e(t.getBody()):{left:0,top:0}},n=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},r=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},i={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:i},i=function(t,n){if(n.target.ownerDocument!==t.getDoc()){var i=e(t.getContentAreaContainer()),o=r(t);return{left:n.pageX-i.left+o.left,top:n.pageY-i.top+o.top}}return{left:n.pageX,top:n.pageY}},o=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},a=function(e,r){return o(t(e),n(e),i(e,r))};return{calc:a}}),r(nt,[_,h,z,c,w,tt],function(e,t,n,r,i,o){var a=e.isContentEditableFalse,s=e.isContentEditableTrue,l=function(e,t){return a(t)&&t!==e},u=function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!a(t)},c=function(e){var t=e.cloneNode(!0);return t.removeAttribute(\"data-mce-selected\"),t},d=function(e,t,n,r){var i=t.cloneNode(!0);e.dom.setStyles(i,{width:n,height:r}),e.dom.setAttrib(i,\"data-mce-selected\",null);var o=e.dom.create(\"div\",{\"class\":\"mce-drag-container\",\"data-mce-bogus\":\"all\",unselectable:\"on\",contenteditable:\"false\"});return e.dom.setStyles(o,{position:\"absolute\",opacity:.5,overflow:\"hidden\",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(i,{margin:0,boxSizing:\"border-box\"}),o.appendChild(i),o},f=function(e,t){e.parentNode!==t&&t.appendChild(e)},p=function(e,t,n,r,i,o){var a=0,s=0;e.style.left=t.pageX+\"px\",e.style.top=t.pageY+\"px\",t.pageX+n>i&&(a=t.pageX+n-i),t.pageY+r>o&&(s=t.pageY+r-o),e.style.width=n-a+\"px\",e.style.height=r-s+\"px\"},h=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},m=function(e){return 0===e.button},g=function(e){return e.element},v=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},y=function(e,r){return function(i){if(m(i)){var o=t.find(r.dom.getParents(i.target),n.or(a,s));if(l(r.getBody(),o)){var u=r.dom.getPos(o),c=r.getBody(),f=r.getDoc().documentElement;e.element=o,e.screenX=i.screenX,e.screenY=i.screenY,e.maxX=(r.inline?c.scrollWidth:f.offsetWidth)-2,e.maxY=(r.inline?c.scrollHeight:f.offsetHeight)-2,e.relX=i.pageX-u.x,e.relY=i.pageY-u.y,e.width=o.offsetWidth,e.height=o.offsetHeight,e.ghost=d(r,o,e.width,e.height)}}}},b=function(e,t){var n=r.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return function(r){var i=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(g(e)&&!e.dragging&&i>10){var a=t.fire(\"dragstart\",{target:e.element});if(a.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var s=v(e,o.calc(t,r));f(e.ghost,t.getBody()),p(e.ghost,s,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}},C=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return 3===n.nodeType?n.parentNode:n},x=function(e,t){return function(n){if(e.dragging&&u(t,C(t.selection),e.element)){var r=c(e.element),i=t.fire(\"drop\",{targetClone:r,clientX:n.clientX,clientY:n.clientY});i.isDefaultPrevented()||(r=i.targetClone,t.undoManager.transact(function(){h(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}E(e)}},w=function(e,t){return function(){E(e),e.dragging&&t.fire(\"dragend\")}},E=function(e){e.dragging=!1,e.element=null,h(e.ghost)},N=function(e){var t={},n,r,o,a,s,l;n=i.DOM,l=document,r=y(t,e),o=b(t,e),a=x(t,e),s=w(t,e),e.on(\"mousedown\",r),e.on(\"mousemove\",o),e.on(\"mouseup\",a),n.bind(l,\"mousemove\",o),n.bind(l,\"mouseup\",s),e.on(\"remove\",function(){n.unbind(l,\"mousemove\",o),n.unbind(l,\"mouseup\",s)})},_=function(e){e.on(\"drop\",function(t){var n=\"undefined\"!=typeof t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(a(n)||a(e.dom.getContentEditableParent(n)))&&t.preventDefault()})},S=function(e){N(e),_(e)};return{init:S}}),r(rt,[d,oe,$,k,ie,Je,Ze,et,_,T,W,I,z,h,c,nt],function(e,t,n,r,i,o,a,s,l,u,c,d,f,p,h,m){function g(e,t){for(;t=e(t);)if(t.isVisible())return t;return t}function v(u){function v(e){return u.dom.hasClass(e,\"mce-offscreen-selection\")}function _(){var e=u.dom.get(ue);return e?e.getElementsByTagName(\"*\")[0]:e}function S(e){return u.dom.isBlock(e)}function k(e){e&&u.selection.setRng(e)}function T(){return u.selection.getRng()}function R(e,t){u.selection.scrollIntoView(e,t)}function A(e,t,n){var r;return r=u.fire(\"ShowCaret\",{target:t,direction:e,before:n}),r.isDefaultPrevented()?null:(R(t,e===-1),le.show(n,t))}function B(e){var t;return t=u.fire(\"BeforeObjectSelected\",{target:e}),t.isDefaultPrevented()?null:D(e)}function D(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t}function L(e,t){var n=i.isInSameBlock(e,t);return!(n||!l.isBr(e.getNode()))||n}function M(e,t){return t=i.normalizeRange(e,ie,t),e==-1?n.fromRangeStart(t):n.fromRangeEnd(t)}function P(e){return r.isCaretContainerBlock(e.startContainer)}function O(e,t,n,r){var i,o,a,s;return!r.collapsed&&(i=N(r),C(i))?A(e,i,e==-1):(s=P(r),o=M(e,r),n(o)?B(o.getNode(e==-1)):(o=t(o))?n(o)?A(e,o.getNode(e==-1),1==e):(a=t(o),n(a)&&L(o,a)?A(e,a.getNode(e==-1),1==e):s?$(o.toRange()):null):s?r:null)}function H(e,t,n){var r,i,o,l,u,c,d,f,h;if(h=N(n),r=M(e,n),i=t(ie,a.isAboveLine(1),r),o=p.filter(i,a.isLine(1)),u=p.last(r.getClientRects()),E(r)&&(h=r.getNode()),w(r)&&(h=r.getNode(!0)),!u)return null;if(c=u.left,l=s.findClosestClientRect(o,c),l&&C(l.node))return d=Math.abs(c-l.left),f=Math.abs(c-l.right),A(e,l.node,d<f);if(h){var m=a.positionsUntil(e,ie,a.isAboveLine(1),h);if(l=s.findClosestClientRect(p.filter(m,a.isLine(1)),c))return $(l.position.toRange());if(l=p.last(p.filter(m,a.isLine(0))))return $(l.position.toRange())}}function I(t,r){function i(){var t=u.dom.create(u.settings.forced_root_block);return(!e.ie||e.ie>=11)&&(t.innerHTML='<br data-mce-bogus=\"1\">'),t}var o,a,s;if(r.collapsed&&u.settings.forced_root_block){if(o=u.dom.getParent(r.startContainer,\"PRE\"),!o)return;a=1==t?ae(n.fromRangeStart(r)):se(n.fromRangeStart(r)),a||(s=i(),1==t?u.$(o).after(s):u.$(o).before(s),u.selection.select(s,!0),u.selection.collapse())}}function F(e,t,n,r){var i;return(i=O(e,t,n,r))?i:(i=I(e,r),i?i:null)}function z(e,t,n){var r;return(r=H(e,t,n))?r:(r=I(e,n),r?r:null)}function U(){return de(\"*[data-mce-caret]\")[0]}function W(e){e.hasAttribute(\"data-mce-caret\")&&(r.showCaretContainerBlock(e),k(T()),R(e[0]))}function V(e){var t,r;return e=i.normalizeRange(1,ie,e),t=n.fromRangeStart(e),C(t.getNode())?A(1,t.getNode(),!t.isAtEnd()):C(t.getNode(!0))?A(1,t.getNode(!0),!1):(r=u.dom.getParent(t.getNode(),f.or(C,b)),C(r)?A(1,r,!1):null)}function $(e){var t;return e&&e.collapsed?(t=V(e),t?t:e):e}function q(e){var t,i,o,a;return C(e)?(C(e.previousSibling)&&(o=e.previousSibling),i=se(n.before(e)),i||(t=ae(n.after(e))),t&&x(t.getNode())&&(a=t.getNode()),r.remove(e.previousSibling),r.remove(e.nextSibling),u.dom.remove(e),u.dom.isEmpty(u.getBody())?(u.setContent(\"\"),void u.focus()):o?n.after(o).toRange():a?n.before(a).toRange():i?i.toRange():t?t.toRange():null):null}function j(e){var t=u.schema.getTextBlockElements();return e.nodeName in t}function Y(e){return u.dom.isEmpty(e)}function X(e,t,r){var i=u.dom,o,a,s,l;if(o=i.getParent(t.getNode(),i.isBlock),a=i.getParent(r.getNode(),i.isBlock),e===-1){if(l=r.getNode(!0),w(r)&&S(l))return j(o)?(Y(o)&&i.remove(o),n.after(l).toRange()):q(r.getNode(!0))}else if(l=t.getNode(),E(t)&&S(l))return j(a)?(Y(a)&&i.remove(a),n.before(l).toRange()):q(t.getNode());if(o===a||!j(o)||!j(a))return null;for(;s=o.firstChild;)a.appendChild(s);return u.dom.remove(o),r.toRange()}function K(e,t,n,i){var o,a,s,l;return!i.collapsed&&(o=N(i),C(o))?$(q(o)):(a=M(e,i),n(a)&&r.isCaretContainerBlock(i.startContainer)?(l=e==-1?oe.prev(a):oe.next(a),l?$(l.toRange()):i):t(a)?$(q(a.getNode(e==-1))):(s=e==-1?oe.prev(a):oe.next(a),t(s)?e===-1?X(e,a,s):X(e,s,a):void 0))}function G(){function i(e,t){if(e.isDefaultPrevented()===!1){var n=t(T());n&&(e.preventDefault(),k(n))}}function o(e){for(var t=u.getBody();e&&e!=t;){if(b(e)||C(e))return e;e=e.parentNode}return null}function l(e,t,n){return!n.collapsed&&p.reduce(n.getClientRects(),function(n,r){return n||c.containsXY(r,e,t)},!1)}function f(e){var t=!1;e.on(\"touchstart\",function(){t=!1}),e.on(\"touchmove\",function(){t=!0}),e.on(\"touchend\",function(e){var n=o(e.target);C(n)&&(t||(e.preventDefault(),ee(B(n))))})}function g(){var e,t=o(u.selection.getNode());b(t)&&S(t)&&u.dom.isEmpty(t)&&(e=u.dom.create(\"br\",{\"data-mce-bogus\":\"1\"}),u.$(t).empty().append(e),u.selection.setRng(n.before(e).toRange()))}function x(e){var t=U();if(t)return\"compositionstart\"==e.type?(e.preventDefault(),e.stopPropagation(),void W(t)):void(r.hasContent(t)&&W(t))}function N(e){var t;switch(e.keyCode){case d.DELETE:t=g();break;case d.BACKSPACE:t=g()}t&&e.preventDefault()}var R=y(F,1,ae,E),D=y(F,-1,se,w),L=y(K,1,E,w),M=y(K,-1,w,E),P=y(z,-1,a.upUntil),O=y(z,1,a.downUntil);u.on(\"mouseup\",function(){var e=T();e.collapsed&&k(V(e))}),u.on(\"click\",function(e){var t;t=o(e.target),t&&(C(t)&&(e.preventDefault(),u.focus()),b(t)&&u.dom.isChildOf(t,u.selection.getNode())&&te())}),u.on(\"blur NewBlock\",function(){te(),re()});var H=function(e){var r=new t(e);if(!e.firstChild)return!1;var i=n.before(e.firstChild),o=r.next(i);return o&&!E(o)&&!w(o)},I=function(e,t){var n=u.dom.getParent(e,u.dom.isBlock),r=u.dom.getParent(t,u.dom.isBlock);return n===r},j=function(e){return!(e.keyCode>=112&&e.keyCode<=123)},Y=function(e,t){var n=u.dom.getParent(e,u.dom.isBlock),r=u.dom.getParent(t,u.dom.isBlock);return n&&!I(n,r)&&H(n)};f(u),u.on(\"mousedown\",function(e){var t;if(t=o(e.target))C(t)?(e.preventDefault(),ee(B(t))):l(e.clientX,e.clientY,u.selection.getRng())||u.selection.placeCaretAt(e.clientX,e.clientY);else{te(),re();var n=s.closestCaret(ie,e.clientX,e.clientY);n&&(Y(e.target,n.node)||(e.preventDefault(),u.getBody().focus(),k(A(1,n.node,n.before))))}}),u.on(\"keydown\",function(e){if(!d.modifierPressed(e))switch(e.keyCode){case d.RIGHT:i(e,R);break;case d.DOWN:i(e,O);break;case d.LEFT:i(e,D);break;case d.UP:i(e,P);break;case d.DELETE:i(e,L);break;case d.BACKSPACE:i(e,M);break;default:C(u.selection.getNode())&&j(e)&&e.preventDefault()}}),u.on(\"keyup compositionstart\",function(e){x(e),N(e)},!0),u.on(\"cut\",function(){var e=u.selection.getNode();C(e)&&h.setEditorTimeout(u,function(){k($(q(e)))})}),u.on(\"getSelectionRange\",function(e){var t=e.range;if(ce){if(!ce.parentNode)return void(ce=null);t=t.cloneRange(),t.selectNode(ce),e.range=t}}),u.on(\"setSelectionRange\",function(e){var t;t=ee(e.range),t&&(e.range=t)}),u.on(\"AfterSetSelectionRange\",function(e){var t=e.range;Z(t)||re(),v(t.startContainer.parentNode)||te()}),u.on(\"focus\",function(){h.setEditorTimeout(u,function(){u.selection.setRng($(u.selection.getRng()))},0)}),u.on(\"copy\",function(t){var n=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!e.ie){var r=_();r&&(t.preventDefault(),n.clearData(),n.setData(\"text/html\",r.outerHTML),n.setData(\"text/plain\",r.outerText))}}),m.init(u)}function J(){var e=u.contentStyles,t=\".mce-content-body\";e.push(le.getCss()),e.push(t+\" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}\"+t+\" *[contentEditable=false] {cursor: default;}\"+t+\" *[contentEditable=true] {cursor: text;}\")}function Q(e){return r.isCaretContainer(e)||r.startsWithCaretContainer(e)||r.endsWithCaretContainer(e)}function Z(e){return Q(e.startContainer)||Q(e.endContainer)}function ee(t){var n,r=u.$,i=u.dom,o,a,s,l,c,d,f,p,h;if(!t)return null;if(t.collapsed){if(!Z(t)){if(f=M(1,t),C(f.getNode()))return A(1,f.getNode(),!f.isAtEnd());if(C(f.getNode(!0)))return A(1,f.getNode(!0),!1)}return null}return s=t.startContainer,l=t.startOffset,c=t.endOffset,3==s.nodeType&&0==l&&C(s.parentNode)&&(s=s.parentNode,l=i.nodeIndex(s),s=s.parentNode),1!=s.nodeType?null:(c==l+1&&(n=s.childNodes[l]),C(n)?(p=h=n.cloneNode(!0),d=u.fire(\"ObjectSelected\",{target:n,targetClone:p}),d.isDefaultPrevented()?null:(p=d.targetClone,o=r(\"#\"+ue),0===o.length&&(o=r('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>').attr(\"id\",ue),o.appendTo(u.getBody())),t=u.dom.createRng(),p===h&&e.ie?(o.empty().append('<p style=\"font-size: 0\" data-mce-bogus=\"all\">\\xa0</p>').append(p),t.setStartAfter(o[0].firstChild.firstChild),t.setEndAfter(p)):(o.empty().append(\"\\xa0\").append(p).append(\"\\xa0\"),t.setStart(o[0].firstChild,1),t.setEnd(o[0].lastChild,0)),o.css({top:i.getPos(n,u.getBody()).y}),o[0].focus(),a=u.selection.getSel(),a.removeAllRanges(),a.addRange(t),u.$(\"*[data-mce-selected]\").removeAttr(\"data-mce-selected\"),n.setAttribute(\"data-mce-selected\",1),ce=n,re(),t)):null)}function te(){ce&&(ce.removeAttribute(\"data-mce-selected\"),u.$(\"#\"+ue).remove(),ce=null)}function ne(){le.destroy(),ce=null}function re(){le.hide()}var ie=u.getBody(),oe=new t(ie),ae=y(g,oe.next),se=y(g,oe.prev),le=new o(u.getBody(),S),ue=\"sel-\"+u.dom.uniqueId(),ce,de=u.$;return e.ceFalse&&(G(),J()),{showBlockCaretContainer:W,hideFakeCaret:re,destroy:ne}}var y=f.curry,b=l.isContentEditableTrue,C=l.isContentEditableFalse,x=l.isElement,w=i.isAfterContentEditableFalse,E=i.isBeforeContentEditableFalse,N=u.getSelectedNode;return v}),r(it,[],function(){var e=0,t=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)},t=(new Date).getTime();return\"s\"+t.toString(36)+e()+e()+e()},n=function(n){return n+e++ +t()};return{uuid:n}}),r(ot,[],function(){var e=function(e,t,n){var r=e.sidebars?e.sidebars:[];r.push({name:t,settings:n}),e.sidebars=r};return{add:e}}),r(at,[w,g,N,R,A,O,P,Y,J,te,ne,re,le,ue,E,f,Le,Ie,B,L,ze,d,m,c,Ue,We,Ve,Ge,rt,it,ot,Ke],function(e,n,r,i,o,a,s,l,u,c,d,f,p,h,m,g,v,y,b,C,x,w,E,N,_,S,k,T,R,A,B,D){function L(e,t,i){var o=this,a,s,l;a=o.documentBaseUrl=i.documentBaseURL,s=i.baseURI,l=i.defaultSettings,t=H({id:e,theme:\"modern\",delta_width:0,delta_height:0,popup_css:\"\",plugins:\"\",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:\"<!DOCTYPE html>\",visual:!0,font_size_style_values:\"xx-small,x-small,small,medium,large,x-large,xx-large\",font_size_legacy_values:\"xx-small,small,medium,large,x-large,xx-large,300%\",forced_root_block:\"p\",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:\"30px\",inline_styles:!0,convert_fonts_to_spans:!0,indent:\"simple\",indent_before:\"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist\",indent_after:\"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist\",validate:!0,entity_encoding:\"named\",url_converter:o.convertURL,url_converter_scope:o,ie7_compat:!0},l,t),l&&l.external_plugins&&t.external_plugins&&(t.external_plugins=H({},l.external_plugins,t.external_plugins)),o.settings=t,r.language=t.language||\"en\",r.languageLoad=t.language_load,r.baseURL=i.baseURL,o.id=t.id=e,o.setDirty(!1),o.plugins={},o.documentBaseURI=new h(t.document_base_url||a,{base_uri:s}),o.baseURI=s,o.contentCSS=[],o.contentStyles=[],o.shortcuts=new k(o),o.loadedCSS={},o.editorCommands=new p(o),o.suffix=i.suffix,o.editorManager=i,o.inline=t.inline,o.settings.content_editable=o.inline,t.cache_suffix&&(w.cacheSuffix=t.cache_suffix.replace(/^[\\?\\&]+/,\"\")),t.override_viewport===!1&&(w.overrideViewPort=!1),i.fire(\"SetupEditor\",o),o.execCallback(\"setup\",o),o.$=n.overrideDefaults(function(){return{context:o.inline?o.getBody():o.getDoc(),element:o.getBody()}})}var M=e.DOM,P=r.ThemeManager,O=r.PluginManager,H=E.extend,I=E.each,F=E.explode,z=E.inArray,U=E.trim,W=E.resolve,V=g.Event,$=w.gecko,q=w.ie;return L.prototype={render:function(){function e(){M.unbind(window,\"ready\",e),n.render()}function t(){var e=m.ScriptLoader;if(r.language&&\"en\"!=r.language&&!r.language_url&&(r.language_url=n.editorManager.baseURL+\"/langs/\"+r.language+\".js\"),r.language_url&&e.add(r.language_url),r.theme&&\"function\"!=typeof r.theme&&\"-\"!=r.theme.charAt(0)&&!P.urls[r.theme]){var t=r.theme_url;t=t?n.documentBaseURI.toAbsolute(t):\"themes/\"+r.theme+\"/theme\"+o+\".js\",P.load(r.theme,t)}E.isArray(r.plugins)&&(r.plugins=r.plugins.join(\" \")),I(r.external_plugins,function(e,t){O.load(t,e),r.plugins+=\" \"+t}),I(r.plugins.split(/[ ,]/),function(e){if(e=U(e),e&&!O.urls[e])if(\"-\"==e.charAt(0)){e=e.substr(1,e.length);var t=O.dependencies(e);I(t,function(e){var t={prefix:\"plugins/\",resource:e,suffix:\"/plugin\"+o+\".js\"};e=O.createUrl(t,e),O.load(e.resource,e)})}else O.load(e,{prefix:\"plugins/\",resource:e,suffix:\"/plugin\"+o+\".js\"})}),e.loadQueue(function(){n.removed||n.init()},n,function(e){D.pluginLoadError(n,e[0]),n.removed||n.init()})}var n=this,r=n.settings,i=n.id,o=n.suffix;if(!V.domLoaded)return void M.bind(window,\"ready\",e);if(n.getElement()&&w.contentEditable){r.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility=\"hidden\");var a=n.getElement().form||M.getParent(i,\"form\");a&&(n.formElement=a,r.hidden_input&&!/TEXTAREA|INPUT/i.test(n.getElement().nodeName)&&(M.insertAfter(M.create(\"input\",{type:\"hidden\",name:i}),i),n.hasHiddenInput=!0),n.formEventDelegate=function(e){n.fire(e.type,e)},M.bind(a,\"submit reset\",n.formEventDelegate),n.on(\"reset\",function(){n.setContent(n.startContent,{format:\"raw\"})}),!r.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return n.editorManager.triggerSave(),n.setDirty(!1),a._mceOldSubmit(a)})),n.windowManager=new v(n),n.notificationManager=new y(n),\"xml\"==r.encoding&&n.on(\"GetContent\",function(e){e.save&&(e.content=M.encode(e.content))}),r.add_form_submit_trigger&&n.on(\"submit\",function(){n.initialized&&n.save()}),r.add_unload_trigger&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:\"raw\",no_events:!0,set_dirty:!1})},n.editorManager.on(\"BeforeUnload\",n._beforeUnload)),n.editorManager.add(n),t()}},init:function(){function e(n){var r=O.get(n),i,o;if(i=O.urls[n]||t.documentBaseUrl.replace(/\\/$/,\"\"),n=U(n),r&&z(m,n)===-1){if(I(O.dependencies(n),function(t){e(t)}),t.plugins[n])return;o=new r(t,i,t.$),t.plugins[n]=o,o.init&&(o.init(t,i),m.push(n))}}var t=this,n=t.settings,r=t.getElement(),i,o,a,s,l,u,c,d,f,p,h,m=[];if(t.rtl=n.rtl_ui||t.editorManager.i18n.rtl,t.editorManager.i18n.setCode(n.language),n.aria_label=n.aria_label||M.getAttrib(r,\"aria-label\",t.getLang(\"aria.rich_text_area\")),t.fire(\"ScriptsLoaded\"),n.theme&&(\"function\"!=typeof n.theme?(n.theme=n.theme.replace(/-/,\"\"),u=P.get(n.theme),t.theme=new u(t,P.urls[n.theme]),t.theme.init&&t.theme.init(t,P.urls[n.theme]||t.documentBaseUrl.replace(/\\/$/,\"\"),t.$)):t.theme=n.theme),I(n.plugins.replace(/\\-/g,\"\").split(/[ ,]/),e),n.render_ui&&t.theme&&(t.orgDisplay=r.style.display,\"function\"!=typeof n.theme?(i=n.width||r.style.width||r.offsetWidth,o=n.height||r.style.height||r.offsetHeight,a=n.min_height||100,p=/^[0-9\\.]+(|px)$/i,p.test(\"\"+i)&&(i=Math.max(parseInt(i,10),100)),p.test(\"\"+o)&&(o=Math.max(parseInt(o,10),a)),l=t.theme.renderUI({targetNode:r,width:i,height:o,deltaWidth:n.delta_width,deltaHeight:n.delta_height}),n.content_editable||(o=(l.iframeHeight||o)+(\"number\"==typeof o?l.deltaHeight||0:\"\"),o<a&&(o=a))):(l=n.theme(t,r),l.editorContainer.nodeType&&(l.editorContainer.id=l.editorContainer.id||t.id+\"_parent\"),l.iframeContainer.nodeType&&(l.iframeContainer.id=l.iframeContainer.id||t.id+\"_iframecontainer\"),o=l.iframeHeight||r.offsetHeight),t.editorContainer=l.editorContainer),n.content_css&&I(F(n.content_css),function(e){t.contentCSS.push(t.documentBaseURI.toAbsolute(e))}),n.content_style&&t.contentStyles.push(n.content_style),n.content_editable)return r=s=l=null,t.initContentBody();if(t.iframeHTML=n.doctype+\"<html><head>\",n.document_base_url!=t.documentBaseUrl&&(t.iframeHTML+='<base href=\"'+t.documentBaseURI.getURI()+'\" />'),!w.caretAfter&&n.ie7_compat&&(t.iframeHTML+='<meta http-equiv=\"X-UA-Compatible\" content=\"IE=7\" />'),t.iframeHTML+='<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />',!/#$/.test(document.location.href))for(h=0;h<t.contentCSS.length;h++){var g=t.contentCSS[h];t.iframeHTML+='<link type=\"text/css\" rel=\"stylesheet\" href=\"'+E._addCacheSuffix(g)+'\" />',t.loadedCSS[g]=!0}d=n.body_id||\"tinymce\",d.indexOf(\"=\")!=-1&&(d=t.getParam(\"body_id\",\"\",\"hash\"),d=d[t.id]||d),f=n.body_class||\"\",f.indexOf(\"=\")!=-1&&(f=t.getParam(\"body_class\",\"\",\"hash\"),f=f[t.id]||\"\"),n.content_security_policy&&(t.iframeHTML+='<meta http-equiv=\"Content-Security-Policy\" content=\"'+n.content_security_policy+'\" />'),t.iframeHTML+='</head><body id=\"'+d+'\" class=\"mce-content-body '+f+'\" data-id=\"'+t.id+'\"><br></body></html>';var v='javascript:(function(){document.open();document.domain=\"'+document.domain+'\";var ed = window.parent.tinymce.get(\"'+t.id+'\");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&w.ie&&w.ie<12&&(c=v);var y=M.create(\"iframe\",{id:t.id+\"_ifr\",frameBorder:\"0\",allowTransparency:\"true\",title:t.editorManager.translate(\"Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help\"),style:{width:\"100%\",height:o,display:\"block\"}});if(y.onload=function(){y.onload=null,t.fire(\"load\")},M.setAttrib(y,\"src\",c||'javascript:\"\"'),t.contentAreaContainer=l.iframeContainer,t.iframeElement=y,s=M.add(l.iframeContainer,y),q)try{t.getDoc()}catch(b){s.src=c=v}l.editorContainer&&(M.get(l.editorContainer).style.display=t.orgDisplay,t.hidden=M.isHidden(l.editorContainer)),t.getElement().style.display=\"none\",M.setAttrib(t.id,\"aria-hidden\",!0),c||t.initContentBody(),r=s=l=null},initContentBody:function(t){var n=this,r=n.settings,s=n.getElement(),p=n.getDoc(),h,m;r.inline||(n.getElement().style.visibility=n.orgVisibility),t||r.content_editable||(p.open(),p.write(n.iframeHTML),p.close()),r.content_editable&&(n.on(\"remove\",function(){var e=this.getBody();M.removeClass(e,\"mce-content-body\"),M.removeClass(e,\"mce-edit-focus\"),M.setAttrib(e,\"contentEditable\",null)}),M.addClass(s,\"mce-content-body\"),n.contentDocument=p=r.content_document||document,n.contentWindow=r.content_window||window,n.bodyElement=s,r.content_document=r.content_window=null,r.root_name=s.nodeName.toLowerCase()),h=n.getBody(),h.disabled=!0,n.readonly=r.readonly,n.readonly||(n.inline&&\"static\"==M.getStyle(h,\"position\",!0)&&(h.style.position=\"relative\"),h.contentEditable=n.getParam(\"content_editable_state\",!0)),h.disabled=!1,n.editorUpload=new T(n),n.schema=new b(r),n.dom=new e(p,{keep_values:!0,url_converter:n.convertURL,url_converter_scope:n,hex_colors:r.force_hex_style_colors,class_filter:r.class_filter,update_styles:!0,root_element:n.inline?n.getBody():null,collect:r.content_editable,schema:n.schema,onSetAttrib:function(e){n.fire(\"SetAttrib\",e)}}),n.parser=new C(r,n.schema),n.parser.addAttributeFilter(\"src,href,style,tabindex\",function(e,t){for(var r=e.length,i,o=n.dom,a,s;r--;)if(i=e[r],a=i.attr(t),s=\"data-mce-\"+t,!i.attributes.map[s]){if(0===a.indexOf(\"data:\")||0===a.indexOf(\"blob:\"))continue;\"style\"===t?(a=o.serializeStyle(o.parseStyle(a),i.name),a.length||(a=null),i.attr(s,a),i.attr(t,a)):\"tabindex\"===t?(i.attr(s,a),i.attr(t,null)):i.attr(s,n.convertURL(a,t,i.name));\n}}),n.parser.addNodeFilter(\"script\",function(e){for(var t=e.length,n,r;t--;)n=e[t],r=n.attr(\"type\")||\"no/type\",0!==r.indexOf(\"mce-\")&&n.attr(\"type\",\"mce-\"+r)}),n.parser.addNodeFilter(\"#cdata\",function(e){for(var t=e.length,n;t--;)n=e[t],n.type=8,n.name=\"#comment\",n.value=\"[CDATA[\"+n.value+\"]]\"}),n.parser.addNodeFilter(\"p,h1,h2,h3,h4,h5,h6,div\",function(e){for(var t=e.length,r,i=n.schema.getNonEmptyElements();t--;)r=e[t],r.isEmpty(i)&&0===r.getAll(\"br\").length&&(r.append(new o(\"br\",1)).shortEnded=!0)}),n.serializer=new a(r,n),n.selection=new l(n.dom,n.getWin(),n.serializer,n),n.formatter=new u(n),n.undoManager=new c(n),n.forceBlocks=new f(n),n.enterKey=new d(n),n._nodeChangeDispatcher=new i(n),n._selectionOverrides=new R(n),n.fire(\"PreInit\"),r.browser_spellcheck||r.gecko_spellcheck||(p.body.spellcheck=!1,M.setAttrib(h,\"spellcheck\",\"false\")),n.quirks=new x(n),n.fire(\"PostRender\"),r.directionality&&(h.dir=r.directionality),r.nowrap&&(h.style.whiteSpace=\"nowrap\"),r.protect&&n.on(\"BeforeSetContent\",function(e){I(r.protect,function(t){e.content=e.content.replace(t,function(e){return\"<!--mce:protected \"+escape(e)+\"-->\"})})}),n.on(\"SetContent\",function(){n.addVisual(n.getBody())}),r.padd_empty_editor&&n.on(\"PostProcess\",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\\s|\\u00a0|<br \\/>|)<\\/p>[\\r\\n]*|<br \\/>[\\r\\n]*)$/,\"\")}),n.load({initial:!0,format:\"html\"}),n.startContent=n.getContent({format:\"raw\"}),n.initialized=!0,n.bindPendingEventDelegates(),n.fire(\"init\"),n.focus(!0),n.nodeChanged({initial:!0}),n.execCallback(\"init_instance_callback\",n),n.on(\"compositionstart compositionend\",function(e){n.composing=\"compositionstart\"===e.type}),n.contentStyles.length>0&&(m=\"\",I(n.contentStyles,function(e){m+=e+\"\\r\\n\"}),n.dom.addStyle(m)),I(n.contentCSS,function(e){n.loadedCSS[e]||(n.dom.loadCSS(e),n.loadedCSS[e]=!0)}),r.auto_focus&&N.setEditorTimeout(n,function(){var e;e=r.auto_focus===!0?n:n.editorManager.get(r.auto_focus),e.destroyed||e.focus()},100),s=p=h=null},focus:function(e){function t(e){return n.dom.getParent(e,function(e){return\"true\"===n.dom.getContentEditable(e)})}var n=this,r=n.selection,i=n.settings.content_editable,o,a,s=n.getDoc(),l=n.getBody(),u;if(!e){if(o=r.getRng(),o.item&&(a=o.item(0)),n.quirks.refreshContentEditable(),u=t(r.getNode()),n.$.contains(l,u))return u.focus(),r.normalize(),void n.editorManager.setActive(n);if(i||(w.opera||n.getBody().focus(),n.getWin().focus()),$||i){if(l.setActive)try{l.setActive()}catch(c){l.focus()}else l.focus();i&&r.normalize()}a&&a.ownerDocument==s&&(o=s.body.createControlRange(),o.addElement(a),o.select())}n.editorManager.setActive(n)},execCallback:function(e){var t=this,n=t.settings[e],r;if(n)return t.callbackLookup&&(r=t.callbackLookup[e])&&(n=r.func,r=r.scope),\"string\"==typeof n&&(r=n.replace(/\\.\\w+$/,\"\"),r=r?W(r):0,n=W(n),t.callbackLookup=t.callbackLookup||{},t.callbackLookup[e]={func:n,scope:r}),n.apply(r||t,Array.prototype.slice.call(arguments,1))},translate:function(e){var t=this.settings.language||\"en\",n=this.editorManager.i18n;return e?(e=n.data[t+\".\"+e]||e.replace(/\\{\\#([^\\}]+)\\}/g,function(e,r){return n.data[t+\".\"+r]||\"{#\"+r+\"}\"}),this.editorManager.translate(e)):\"\"},getLang:function(e,n){return this.editorManager.i18n.data[(this.settings.language||\"en\")+\".\"+e]||(n!==t?n:\"{#\"+e+\"}\")},getParam:function(e,t,n){var r=e in this.settings?this.settings[e]:t,i;return\"hash\"===n?(i={},\"string\"==typeof r?I(r.indexOf(\"=\")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(\",\"),function(e){e=e.split(\"=\"),e.length>1?i[U(e[0])]=U(e[1]):i[U(e[0])]=U(e)}):i=r,i):r},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return B.add(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addContextToolbar:function(e,t){var n=this,r;n.contextToolbars=n.contextToolbars||[],\"string\"==typeof e&&(r=e,e=function(e){return n.dom.is(e,r)}),n.contextToolbars.push({id:A.uuid(\"mcet\"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(M.show(e.getContainer()),M.hide(e.id)),e.load(),e.fire(\"show\"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(q&&t&&!e.inline&&t.execCommand(\"SelectAll\"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(M.hide(e.getContainer()),M.setStyle(e.id,\"display\",e.orgDisplay)),e.hidden=!0,e.fire(\"hide\"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire(\"ProgressState\",{state:e,time:t})},load:function(e){var n=this,r=n.getElement(),i;if(r)return e=e||{},e.load=!0,i=n.setContent(r.value!==t?r.value:r.innerHTML,e),e.element=r,e.no_events||n.fire(\"LoadContent\",e),e.element=r=null,i},save:function(e){var t=this,n=t.getElement(),r,i;if(n&&t.initialized)return e=e||{},e.save=!0,e.element=n,r=e.content=t.getContent(e),e.no_events||t.fire(\"SaveContent\",e),\"raw\"==e.format&&t.fire(\"RawSaveContent\",e),r=e.content,/TEXTAREA|INPUT/i.test(n.nodeName)?n.value=r:(t.inline||(n.innerHTML=r),(i=M.getParent(t.id,\"form\"))&&I(i.elements,function(e){if(e.name==t.id)return e.value=r,!1})),e.element=n=null,e.set_dirty!==!1&&t.setDirty(!1),r},setContent:function(e,t){var n=this,r=n.getBody(),i,o;return t=t||{},t.format=t.format||\"html\",t.set=!0,t.content=e,t.no_events||n.fire(\"BeforeSetContent\",t),e=t.content,0===e.length||/^\\s+$/.test(e)?(o=q&&q<11?\"\":'<br data-mce-bogus=\"1\">',\"TABLE\"==r.nodeName?e=\"<tr><td>\"+o+\"</td></tr>\":/^(UL|OL)$/.test(r.nodeName)&&(e=\"<li>\"+o+\"</li>\"),i=n.settings.forced_root_block,i&&n.schema.isValidChild(r.nodeName.toLowerCase(),i.toLowerCase())?(e=o,e=n.dom.createHTML(i,n.settings.forced_root_block_attrs,e)):q||e||(e='<br data-mce-bogus=\"1\">'),n.dom.setHTML(r,e),n.fire(\"SetContent\",t)):(\"raw\"!==t.format&&(e=new s({validate:n.validate},n.schema).serialize(n.parser.parse(e,{isRootContent:!0}))),t.content=U(e),n.dom.setHTML(r,t.content),t.no_events||n.fire(\"SetContent\",t)),t.content},getContent:function(e){var t=this,n,r=t.getBody();return e=e||{},e.format=e.format||\"html\",e.get=!0,e.getInner=!0,e.no_events||t.fire(\"BeforeGetContent\",e),n=\"raw\"==e.format?E.trim(t.serializer.getTrimmedContent()):\"text\"==e.format?r.innerText||r.textContent:t.serializer.serialize(r,e),\"text\"!=e.format?e.content=U(n):e.content=n,e.no_events||t.fire(\"GetContent\",e),e.content},insertContent:function(e,t){t&&(e=H({content:e},t)),this.execCommand(\"mceInsertContent\",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!=t&&this.fire(\"dirty\")},setMode:function(e){S.setMode(this,e)},getContainer:function(){var e=this;return e.container||(e.container=M.get(e.editorContainer||e.id+\"_parent\")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=M.get(this.id)),this.targetElm},getWin:function(){var e=this,t;return e.contentWindow||(t=e.iframeElement,t&&(e.contentWindow=t.contentWindow)),e.contentWindow},getDoc:function(){var e=this,t;return e.contentDocument||(t=e.getWin(),t&&(e.contentDocument=t.document)),e.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var r=this,i=r.settings;return i.urlconverter_callback?r.execCallback(\"urlconverter_callback\",e,n,!0,t):!i.convert_urls||n&&\"LINK\"==n.nodeName||0===e.indexOf(\"file:\")||0===e.length?e:i.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,i.remove_script_host)},addVisual:function(e){var n=this,r=n.settings,i=n.dom,o;e=e||n.getBody(),n.hasVisual===t&&(n.hasVisual=r.visual),I(i.select(\"table,a\",e),function(e){var t;switch(e.nodeName){case\"TABLE\":return o=r.visual_table_class||\"mce-item-table\",t=i.getAttrib(e,\"border\"),void(t&&\"0\"!=t||!n.hasVisual?i.removeClass(e,o):i.addClass(e,o));case\"A\":return void(i.getAttrib(e,\"href\",!1)||(t=i.getAttrib(e,\"name\")||e.id,o=r.visual_anchor_class||\"mce-item-anchor\",t&&n.hasVisual?i.addClass(e,o):i.removeClass(e,o)))}}),n.fire(\"VisualAid\",{element:e,hasVisual:n.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&M.remove(e.getElement().nextSibling),e.inline||(q&&q<10&&e.getDoc().execCommand(\"SelectAll\",!1,null),M.setStyle(e.id,\"display\",e.orgDisplay),e.getBody().onload=null),e.fire(\"remove\"),e.editorManager.remove(e),M.remove(e.getContainer()),e._selectionOverrides.destroy(),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var t=this,n;if(!t.destroyed){if(!e&&!t.removed)return void t.remove();e||(t.editorManager.off(\"beforeunload\",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),t.selection.destroy(),t.dom.destroy()),n=t.formElement,n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),M.unbind(n,\"submit reset\",t.formEventDelegate)),t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null),t.destroyed=1}},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},H(L.prototype,_),L}),r(st,[m],function(e){var t={},n=\"en\";return{setCode:function(e){e&&(n=e,this.rtl=!!this.data[e]&&\"rtl\"===this.data[e]._dir)},getCode:function(){return n},rtl:!1,add:function(e,n){var r=t[e];r||(t[e]=r={});for(var i in n)r[i]=n[i];this.setCode(e)},translate:function(r){function i(t){return e.is(t,\"function\")?Object.prototype.toString.call(t):o(t)?\"\":\"\"+t}function o(t){return\"\"===t||null===t||e.is(t,\"undefined\")}function a(t){return t=i(t),e.hasOwn(s,t)?i(s[t]):t}var s=t[n]||{};if(o(r))return\"\";if(e.is(r,\"object\")&&e.hasOwn(r,\"raw\"))return i(r.raw);if(e.is(r,\"array\")){var l=r.slice(1);r=a(r[0]).replace(/\\{([0-9]+)\\}/g,function(t,n){return e.hasOwn(l,n)?i(l[n]):t})}return a(r).replace(/{context:\\w+}$/,\"\")},data:t}}),r(lt,[w,c,d],function(e,t,n){function r(e){function r(){try{return document.activeElement}catch(e){return document.body}}function u(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot()))return;return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}function c(e,t){var n;return t.startContainer?(n=e.getDoc().createRange(),n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n}function d(d){var f=d.editor;f.on(\"init\",function(){(f.inline||n.ie)&&(\"onbeforedeactivate\"in document&&n.ie<9?f.dom.bind(f.getBody(),\"beforedeactivate\",function(e){if(e.target==f.getBody())try{f.lastRng=f.selection.getRng()}catch(t){}}):f.on(\"nodechange mouseup keyup\",function(e){var t=r();\"nodechange\"==e.type&&e.selectionChange||(t&&t.id==f.id+\"_ifr\"&&(t=f.getBody()),f.dom.isChildOf(t,f.getBody())&&(f.lastRng=f.selection.getRng()))}),n.webkit&&!i&&(i=function(){var t=e.activeEditor;if(t&&t.selection){var n=t.selection.getRng();n&&!n.collapsed&&(f.lastRng=n)}},s.bind(document,\"selectionchange\",i)))}),f.on(\"setcontent\",function(){f.lastRng=null}),f.on(\"mousedown\",function(){f.selection.lastFocusBookmark=null}),f.on(\"focusin\",function(){var t=e.focusedEditor,n;f.selection.lastFocusBookmark&&(n=c(f,f.selection.lastFocusBookmark),f.selection.lastFocusBookmark=null,f.selection.setRng(n)),t!=f&&(t&&t.fire(\"blur\",{focusedEditor:f}),e.setActive(f),e.focusedEditor=f,f.fire(\"focus\",{blurredEditor:t}),f.focus(!0)),f.lastRng=null}),f.on(\"focusout\",function(){t.setEditorTimeout(f,function(){var t=e.focusedEditor;l(f,r())||t!=f||(f.fire(\"blur\",{focusedEditor:null}),e.focusedEditor=null,f.selection&&(f.selection.lastFocusBookmark=null))})}),o||(o=function(t){var n=e.activeEditor,r;r=t.target,n&&r.ownerDocument==document&&(n.selection&&r!=n.getBody()&&(n.selection.lastFocusBookmark=u(n.dom,n.lastRng)),r==document.body||l(n,r)||e.focusedEditor!=n||(n.fire(\"blur\",{focusedEditor:null}),e.focusedEditor=null))},s.bind(document,\"focusin\",o)),f.inline&&!a&&(a=function(t){var n=e.activeEditor,r=n.dom;if(n.inline&&r&&!r.isChildOf(t.target,n.getBody())){var i=n.selection.getRng();i.collapsed||(n.lastRng=i)}},s.bind(document,\"mouseup\",a))}function f(t){e.focusedEditor==t.editor&&(e.focusedEditor=null),e.activeEditor||(s.unbind(document,\"selectionchange\",i),s.unbind(document,\"focusin\",o),s.unbind(document,\"mouseup\",a),i=o=a=null)}e.on(\"AddEditor\",d),e.on(\"RemoveEditor\",f)}var i,o,a,s=e.DOM,l=function(e,t){var n=e?e.settings.custom_ui_selector:\"\",i=s.getParent(t,function(t){return r.isEditorUIElement(t)||!!n&&e.dom.is(t,n)});return null!==i};return r.isEditorUIElement=function(e){return e.className.toString().indexOf(\"mce-\")!==-1},r._isUIElement=l,r}),r(ut,[at,g,w,ue,d,m,u,pe,st,lt,N],function(e,t,n,r,i,o,a,s,l,u,c){function d(e){v(x.editors,function(t){\"scroll\"===e.type?t.fire(\"ScrollWindow\",e):t.fire(\"ResizeWindow\",e)})}function f(e,n){n!==w&&(n?t(window).on(\"resize scroll\",d):t(window).off(\"resize scroll\",d),w=n)}function p(e){var t=x.editors,n;delete t[e.id];for(var r=0;r<t.length;r++)if(t[r]==e){t.splice(r,1),n=!0;break}return x.activeEditor==e&&(x.activeEditor=t[0]),x.focusedEditor==e&&(x.focusedEditor=null),n}function h(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(p(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e}var m=n.DOM,g=o.explode,v=o.each,y=o.extend,b=0,C,x,w=!1;return x={$:t,majorVersion:\"4\",minorVersion:\"5.7\",releaseDate:\"2017-04-25\",editors:[],i18n:l,activeEditor:null,setup:function(){var e=this,t,n,i=\"\",o,a;if(n=r.getDocumentBaseUrl(document.location),/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(n)&&(n=n.replace(/[\\?#].*$/,\"\").replace(/[\\/\\\\][^\\/]+$/,\"\"),/[\\/\\\\]$/.test(n)||(n+=\"/\")),o=window.tinymce||window.tinyMCEPreInit)t=o.base||o.baseURL,i=o.suffix;else{for(var s=document.getElementsByTagName(\"script\"),l=0;l<s.length;l++){a=s[l].src;var c=a.substring(a.lastIndexOf(\"/\"));if(/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(a)){c.indexOf(\".min\")!=-1&&(i=\".min\"),t=a.substring(0,a.lastIndexOf(\"/\"));break}}!t&&document.currentScript&&(a=document.currentScript.src,a.indexOf(\".min\")!=-1&&(i=\".min\"),t=a.substring(0,a.lastIndexOf(\"/\")))}e.baseURL=new r(n).toAbsolute(t),e.documentBaseURL=n,e.baseURI=new r(e.baseURL),e.suffix=i,e.focusManager=new u(e)},overrideDefaults:function(e){var t,n;t=e.base_url,t&&(this.baseURL=new r(this.documentBaseURL).toAbsolute(t.replace(/\\/+$/,\"\")),this.baseURI=new r(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n),this.defaultSettings=e;var i=e.plugin_base_urls;for(var o in i)c.PluginManager.urls[o]=i[o]},init:function(n){function r(e,t){return e.inline&&t.tagName.toLowerCase()in C}function i(e,t){window.console&&!window.test&&window.console.log(e,t)}function s(e){var t=e.id;return t||(t=e.name,t=t&&!m.get(t)?e.name:m.uniqueId(),e.setAttribute(\"id\",t)),t}function l(e){var t=n[e];if(t)return t.apply(f,Array.prototype.slice.call(arguments,2))}function u(e,t){return t.constructor===RegExp?t.test(e.className):m.hasClass(e,t)}function c(e){var t,n=[];if(e.types)return v(e.types,function(e){n=n.concat(m.select(e.selector))}),n;if(e.selector)return m.select(e.selector);if(e.target)return[e.target];switch(e.mode){case\"exact\":t=e.elements||\"\",t.length>0&&v(g(t),function(e){var t;(t=m.get(e))?n.push(t):v(document.forms,function(t){v(t.elements,function(t){t.name===e&&(e=\"mce_editor_\"+b++,m.setAttrib(t,\"id\",e),n.push(t))})})});break;case\"textareas\":case\"specific_textareas\":v(m.select(\"textarea\"),function(t){e.editor_deselector&&u(t,e.editor_deselector)||e.editor_selector&&!u(t,e.editor_selector)||n.push(t)})}return n}function d(){function a(t,n,r){var i=new e(t,n,f);p.push(i),i.on(\"init\",function(){++u===g.length&&x(p)}),i.targetElm=i.targetElm||r,i.render()}var u=0,p=[],g;return m.unbind(window,\"ready\",d),l(\"onpageload\"),g=t.unique(c(n)),n.types?void v(n.types,function(e){o.each(g,function(t){return!m.is(t,e.selector)||(a(s(t),y({},n,e),t),!1)})}):(o.each(g,function(e){h(f.get(e.id))}),g=o.grep(g,function(e){return!f.get(e.id)}),void v(g,function(e){r(n,e)?i(\"Could not initialize inline editor on invalid inline target element\",e):a(s(e),n,e)}))}var f=this,p,C;C=o.makeMap(\"area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu\",\" \");var x=function(e){p=e};return f.settings=n,m.bind(window,\"ready\",d),new a(function(e){p?e(p):x=function(t){e(t)}})},get:function(e){return arguments.length?e in this.editors?this.editors[e]:null:this.editors},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),f(n,!0),t.activeEditor=e,t.fire(\"AddEditor\",{editor:e}),C||(C=function(){t.fire(\"BeforeUnload\")},m.bind(window,\"beforeunload\",C)),e},createEditor:function(t,n){return this.add(new e(t,n,this))},remove:function(e){var t=this,n,r=t.editors,i;{if(e)return\"string\"==typeof e?(e=e.selector||e,void v(m.select(e),function(e){i=r[e.id],i&&t.remove(i)})):(i=e,r[i.id]?(p(i)&&t.fire(\"RemoveEditor\",{editor:i}),r.length||m.unbind(window,\"beforeunload\",C),i.remove(),f(r,r.length>0),i):null);for(n=r.length-1;n>=0;n--)t.remove(r[n])}},execCommand:function(t,n,r){var i=this,o=i.get(r);switch(t){case\"mceAddEditor\":return i.get(r)||new e(r,i.settings,i).render(),!0;case\"mceRemoveEditor\":return o&&o.remove(),!0;case\"mceToggleEditor\":return o?(o.isHidden()?o.show():o.hide(),!0):(i.execCommand(\"mceAddEditor\",0,r),!0)}return!!i.activeEditor&&i.activeEditor.execCommand(t,n,r)},triggerSave:function(){v(this.editors,function(e){e.save()})},addI18n:function(e,t){l.add(e,t)},translate:function(e){return l.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire(\"deactivate\",{relatedTarget:e}),e.fire(\"activate\",{relatedTarget:t})),this.activeEditor=e}},y(x,s),x.setup(),window.tinymce=window.tinyMCE=x,x}),r(ct,[ut,m],function(e,t){var n=t.each,r=t.explode;e.on(\"AddEditor\",function(e){var t=e.editor;t.on(\"preInit\",function(){function e(e,t){n(t,function(t,n){t&&s.setStyle(e,n,t)}),s.rename(e,\"span\")}function i(e){s=t.dom,l.convert_fonts_to_spans&&n(s.select(\"font,u,strike\",e.node),function(e){o[e.nodeName.toLowerCase()](s,e)})}var o,a,s,l=t.settings;l.inline_styles&&(a=r(l.font_size_legacy_values),o={font:function(t,n){e(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:a[parseInt(n.size,10)-1]})},u:function(n,r){\"html4\"===t.settings.schema&&e(r,{textDecoration:\"underline\"})},strike:function(t,n){e(n,{textDecoration:\"line-through\"})}},t.on(\"PreProcess SetContent\",i))})})}),r(dt,[pe,m],function(e,t){var n={send:function(e){function r(){!e.async||4==i.readyState||o++>1e4?(e.success&&o<1e4&&200==i.status?e.success.call(e.success_scope,\"\"+i.responseText,i,e):e.error&&e.error.call(e.error_scope,o>1e4?\"TIMED_OUT\":\"GENERAL\",i,e),i=null):setTimeout(r,10)}var i,o=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||\"\",n.fire(\"beforeInitialize\",{settings:e}),i=new XMLHttpRequest){if(i.overrideMimeType&&i.overrideMimeType(e.content_type),i.open(e.type||(e.data?\"POST\":\"GET\"),e.url,e.async),e.crossDomain&&(i.withCredentials=!0),e.content_type&&i.setRequestHeader(\"Content-Type\",e.content_type),e.requestheaders&&t.each(e.requestheaders,function(e){i.setRequestHeader(e.key,e.value)}),i.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),i=n.fire(\"beforeSend\",{xhr:i,settings:e}).xhr,i.send(e.data),!e.async)return r();setTimeout(r,10)}}};return t.extend(n,e),n}),r(ft,[],function(){function e(t,n){var r,i,o,a;if(n=n||'\"',null===t)return\"null\";if(o=typeof t,\"string\"==o)return i=\"\\bb\\tt\\nn\\ff\\rr\\\"\\\"''\\\\\\\\\",n+t.replace(/([\\u0080-\\uFFFF\\x00-\\x1f\\\"\\'\\\\])/g,function(e,t){return'\"'===n&&\"'\"===e?e:(r=i.indexOf(t),r+1?\"\\\\\"+i.charAt(r+1):(e=t.charCodeAt().toString(16),\"\\\\u\"+\"0000\".substring(e.length)+e))})+n;if(\"object\"==o){if(t.hasOwnProperty&&\"[object Array]\"===Object.prototype.toString.call(t)){for(r=0,i=\"[\";r<t.length;r++)i+=(r>0?\",\":\"\")+e(t[r],n);return i+\"]\"}i=\"{\";for(a in t)t.hasOwnProperty(a)&&(i+=\"function\"!=typeof t[a]?(i.length>1?\",\"+n:n)+a+n+\":\"+e(t[a],n):\"\");return i+\"}\"}return\"\"+t}return{serialize:e,parse:function(e){try{return window[String.fromCharCode(101)+\"val\"](\"(\"+e+\")\")}catch(t){}}}}),r(pt,[ft,dt,m],function(e,t,n){function r(e){this.settings=i({},e),this.count=0}var i=n.extend;return r.sendRPC=function(e){return(new r).send(e)},r.prototype={send:function(n){var r=n.error,o=n.success;n=i(this.settings,n),n.success=function(t,i){t=e.parse(t),\"undefined\"==typeof t&&(t={error:\"JSON Parse error.\"}),t.error?r.call(n.error_scope||n.scope,t.error,i):o.call(n.success_scope||n.scope,t.result)},n.error=function(e,t){r&&r.call(n.error_scope||n.scope,e,t)},n.data=e.serialize({id:n.id||\"c\"+this.count++,method:n.method,params:n.params}),n.content_type=\"application/json\",t.send(n)}},r}),r(ht,[w],function(e){return{callbacks:{},count:0,send:function(n){var r=this,i=e.DOM,o=n.count!==t?n.count:r.count,a=\"tinymce_jsonp_\"+o;r.callbacks[o]=function(e){i.remove(a),delete r.callbacks[o],n.callback(e)},i.add(i.doc.body,\"script\",{id:a,src:n.url,type:\"text/javascript\"}),r.count++}}}),r(mt,[],function(){function e(){s=[];for(var e in a)s.push(e);i.length=s.length}function n(){function n(e){var n,r;return r=e!==t?c+e:i.indexOf(\",\",c),r===-1||r>i.length?null:(n=i.substring(c,r),c=r+1,n)}var r,i,s,c=0;if(a={},u){o.load(l),i=o.getAttribute(l)||\"\";do{var d=n();if(null===d)break;if(r=n(parseInt(d,32)||0),null!==r){if(d=n(),null===d)break;s=n(parseInt(d,32)||0),r&&(a[r]=s)}}while(null!==r);e()}}function r(){var t,n=\"\";if(u){for(var r in a)t=a[r],n+=(n?\",\":\"\")+r.length.toString(32)+\",\"+r+\",\"+t.length.toString(32)+\",\"+t;o.setAttribute(l,n);try{o.save(l)}catch(i){}e()}}var i,o,a,s,l,u;try{if(window.localStorage)return localStorage}catch(c){}return l=\"tinymce\",o=document.documentElement,u=!!o.addBehavior,u&&o.addBehavior(\"#default#userData\"),i={key:function(e){return s[e]},getItem:function(e){return e in a?a[e]:null},setItem:function(e,t){a[e]=\"\"+t,r()},removeItem:function(e){delete a[e],r()},clear:function(){a={},r()}},n(),i}),r(gt,[w,f,E,N,m,d],function(e,t,n,r,i,o){var a=window.tinymce;return a.DOM=e.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=r.PluginManager,a.ThemeManager=r.ThemeManager,a.dom=a.dom||{},a.dom.Event=t.Event,i.each(\"trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix\".split(\" \"),function(e){a[e]=i[e]}),i.each(\"isOpera isWebKit isIE isGecko isMac\".split(\" \"),function(e){a[e]=o[e.substr(2).toLowerCase()]}),{}}),r(vt,[ce,m],function(e,t){return e.extend({Defaults:{firstControlClass:\"first\",lastControlClass:\"last\"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t=this,n=t.settings,r,i,o,a;r=n.firstControlClass,i=n.lastControlClass,e.each(function(e){e.classes.remove(r).remove(i).add(n.controlClass),e.visible()&&(o||(o=e),a=e)}),o&&o.classes.add(r),a&&a.classes.add(i)},renderHtml:function(e){var t=this,n=\"\";return t.applyClasses(e.items()),e.items().each(function(e){n+=e.renderHtml()}),n},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),r(yt,[vt],function(e){return e.extend({Defaults:{containerClass:\"abs-layout\",controlClass:\"abs-layout-item\"},recalc:function(e){e.items().filter(\":visible\").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id=\"'+e._id+'-absend\" class=\"'+e.classPrefix+'abs-end\"></div>'+this._super(e)}})}),r(bt,[Pe],function(e){return e.extend({Defaults:{classes:\"widget btn\",role:\"button\"},init:function(e){var t=this,n;t._super(e),e=t.settings,n=t.settings.size,t.on(\"click mousedown\",function(e){e.preventDefault()}),t.on(\"touchstart\",function(e){t.fire(\"click\",e),e.preventDefault()}),e.subtype&&t.classes.add(e.subtype),n&&t.classes.add(\"btn-\"+n),e.icon&&t.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set(\"icon\",e),this):this.state.get(\"icon\")},repaint:function(){var e=this.getEl().firstChild,t;e&&(t=e.style,t.width=t.height=\"100%\"),this._super()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.state.get(\"icon\"),i,o=e.state.get(\"text\"),a=\"\";return i=e.settings.image,i?(r=\"none\",\"string\"!=typeof i&&(i=window.getSelection?i[0]:i[1]),i=\" style=\\\"background-image: url('\"+i+\"')\\\"\"):i=\"\",o&&(e.classes.add(\"btn-has-text\"),a='<span class=\"'+n+'txt\">'+e.encode(o)+\"</span>\"),r=r?n+\"ico \"+n+\"i-\"+r:\"\",'<div id=\"'+t+'\" class=\"'+e.classes+'\" tabindex=\"-1\" aria-labelledby=\"'+t+'\"><button role=\"presentation\" type=\"button\" tabindex=\"-1\">'+(r?'<i class=\"'+r+'\"'+i+\"></i>\":\"\")+a+\"</button></div>\"},bindStates:function(){function e(e){var i=n(\"span.\"+r,t.getEl());e?(i[0]||(n(\"button:first\",t.getEl()).append('<span class=\"'+r+'\"></span>'),i=n(\"span.\"+r,t.getEl())),i.html(t.encode(e))):i.remove(),t.classes.toggle(\"btn-has-text\",!!e)}var t=this,n=t.$,r=t.classPrefix+\"txt\";return t.state.on(\"change:text\",function(t){e(t.value)}),t.state.on(\"change:icon\",function(n){var r=n.value,i=t.classPrefix;t.settings.icon=r,r=r?i+\"ico \"+i+\"i-\"+t.settings.icon:\"\";var o=t.getEl().firstChild,a=o.getElementsByTagName(\"i\")[0];r?(a&&a==o.firstChild||(a=document.createElement(\"i\"),o.insertBefore(a,o.firstChild)),a.className=r):a&&o.removeChild(a),e(t.state.get(\"text\"))}),t._super()}})}),r(Ct,[Ne],function(e){return e.extend({Defaults:{defaultType:\"button\",role:\"group\"},renderHtml:function(){var e=this,t=e._layout;return e.classes.add(\"btn-group\"),e.preRender(),t.preRender(e),'<div id=\"'+e._id+'\" class=\"'+e.classes+'\"><div id=\"'+e._id+'-body\">'+(e.settings.html||\"\")+t.renderHtml(e)+\"</div></div>\"}})}),r(xt,[Pe],function(e){return e.extend({Defaults:{classes:\"checkbox\",role:\"checkbox\",checked:!1},init:function(e){var t=this;t._super(e),t.on(\"click mousedown\",function(e){e.preventDefault()}),t.on(\"click\",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set(\"checked\",e),this):this.state.get(\"checked\")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id=\"'+t+'\" class=\"'+e.classes+'\" unselectable=\"on\" aria-labelledby=\"'+t+'-al\" tabindex=\"-1\"><i class=\"'+n+\"ico \"+n+'i-checkbox\"></i><span id=\"'+t+'-al\" class=\"'+n+'label\">'+e.encode(e.state.get(\"text\"))+\"</span></div>\"},bindStates:function(){function e(e){t.classes.toggle(\"checked\",e),t.aria(\"checked\",e)}var t=this;return t.state.on(\"change:text\",function(e){t.getEl(\"al\").firstChild.data=t.translate(e.value)}),t.state.on(\"change:checked change:value\",function(n){t.fire(\"change\"),e(n.value)}),t.state.on(\"change:icon\",function(e){var n=e.value,r=t.classPrefix;if(\"undefined\"==typeof n)return t.settings.icon;t.settings.icon=n,n=n?r+\"ico \"+r+\"i-\"+t.settings.icon:\"\";var i=t.getEl().firstChild,o=i.getElementsByTagName(\"i\")[0];n?(o&&o==i.firstChild||(o=document.createElement(\"i\"),i.insertBefore(o,i.firstChild)),o.className=n):o&&i.removeChild(o)}),t.state.get(\"checked\")&&e(!0),t._super()}})}),r(wt,[Pe,we,ve,g,I,m],function(e,t,n,r,i,o){return e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.classes.add(\"combobox\"),t.subinput=!0,t.ariaTarget=\"inp\",e.menu=e.menu||e.values,e.menu&&(e.icon=\"caret\"),t.on(\"click\",function(n){var i=n.target,o=t.getEl();if(r.contains(o,i)||i==o)for(;i&&i!=o;)i.id&&i.id.indexOf(\"-open\")!=-1&&(t.fire(\"action\"),e.menu&&(t.showMenu(),n.aria&&t.menu.items()[0].focus())),i=i.parentNode}),t.on(\"keydown\",function(e){var n;13==e.keyCode&&\"INPUT\"===e.target.nodeName&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire(\"submit\",{data:n.toJSON()}))}),t.on(\"keyup\",function(e){if(\"INPUT\"==e.target.nodeName){var n=t.state.get(\"value\"),r=e.target.value;r!==n&&(t.state.set(\"value\",r),t.fire(\"autocomplete\",e))}}),t.on(\"mouseover\",function(e){var n=t.tooltip().moveTo(-65535);if(t.statusLevel()&&e.target.className.indexOf(t.classPrefix+\"status\")!==-1){var r=t.statusMessage()||\"Ok\",i=n.text(r).show().testMoveRel(e.target,[\"bc-tc\",\"bc-tl\",\"bc-tr\"]);n.classes.toggle(\"tooltip-n\",\"bc-tc\"==i),n.classes.toggle(\"tooltip-nw\",\"bc-tl\"==i),n.classes.toggle(\"tooltip-ne\",\"bc-tr\"==i),n.moveRel(e.target,i)}})},statusLevel:function(e){return arguments.length>0&&this.state.set(\"statusLevel\",e),this.state.get(\"statusLevel\")},statusMessage:function(e){return arguments.length>0&&this.state.set(\"statusMessage\",e),this.state.get(\"statusMessage\")},showMenu:function(){var e=this,n=e.settings,r;e.menu||(r=n.menu||[],r.length?r={type:\"menu\",items:r}:r.type=r.type||\"menu\",e.menu=t.create(r).parent(e).renderTo(e.getContainerElm()),e.fire(\"createmenu\"),e.menu.reflow(),e.menu.on(\"cancel\",function(t){t.control===e.menu&&e.focus()}),e.menu.on(\"show hide\",function(t){t.control.items().each(function(t){t.active(t.value()==e.value())})}).fire(\"show\"),e.menu.on(\"select\",function(t){e.value(t.control.value())}),e.on(\"focusin\",function(t){\"INPUT\"==t.target.tagName.toUpperCase()&&e.menu.hide()}),e.aria(\"expanded\",!0)),e.menu.show(),e.menu.layoutRect({w:e.layoutRect().w}),e.menu.moveRel(e.getEl(),e.isRtl()?[\"br-tr\",\"tr-br\"]:[\"bl-tl\",\"tl-bl\"])},focus:function(){this.getEl(\"inp\").focus()},repaint:function(){var e=this,t=e.getEl(),i=e.getEl(\"open\"),o=e.layoutRect(),a,s,l=0,u=t.firstChild;e.statusLevel()&&\"none\"!==e.statusLevel()&&(l=parseInt(n.getRuntimeStyle(u,\"padding-right\"),10)-parseInt(n.getRuntimeStyle(u,\"padding-left\"),10)),a=i?o.w-n.getSize(i).width-10:o.w-10;var c=document;return c.all&&(!c.documentMode||c.documentMode<=8)&&(s=e.layoutRect().h-2+\"px\"),r(u).css({width:a-l,lineHeight:s}),e._super(),e},postRender:function(){var e=this;return r(this.getEl(\"inp\")).on(\"change\",function(t){e.state.set(\"value\",t.target.value),e.fire(\"change\",t)}),e._super()},renderHtml:function(){var e=this,t=e._id,n=e.settings,r=e.classPrefix,i=e.state.get(\"value\")||\"\",o,a,s=\"\",l=\"\",u=\"\";return\"spellcheck\"in n&&(l+=' spellcheck=\"'+n.spellcheck+'\"'),n.maxLength&&(l+=' maxlength=\"'+n.maxLength+'\"'),n.size&&(l+=' size=\"'+n.size+'\"'),n.subtype&&(l+=' type=\"'+n.subtype+'\"'),u='<i id=\"'+t+'-status\" class=\"mce-status mce-ico\" style=\"display: none\"></i>',e.disabled()&&(l+=' disabled=\"disabled\"'),o=n.icon,o&&\"caret\"!=o&&(o=r+\"ico \"+r+\"i-\"+n.icon),a=e.state.get(\"text\"),(o||a)&&(s='<div id=\"'+t+'-open\" class=\"'+r+\"btn \"+r+'open\" tabIndex=\"-1\" role=\"button\"><button id=\"'+t+'-action\" type=\"button\" hidefocus=\"1\" tabindex=\"-1\">'+(\"caret\"!=o?'<i class=\"'+o+'\"></i>':'<i class=\"'+r+'caret\"></i>')+(a?(o?\" \":\"\")+a:\"\")+\"</button></div>\",e.classes.add(\"has-open\")),'<div id=\"'+t+'\" class=\"'+e.classes+'\"><input id=\"'+t+'-inp\" class=\"'+r+'textbox\" value=\"'+e.encode(i,!1)+'\" hidefocus=\"1\"'+l+' placeholder=\"'+e.encode(n.placeholder)+'\" />'+u+s+\"</div>\"},value:function(e){return arguments.length?(this.state.set(\"value\",e),\nthis):(this.state.get(\"rendered\")&&this.state.set(\"value\",this.getEl(\"inp\").value),this.state.get(\"value\"))},showAutoComplete:function(e,n){var r=this;if(0===e.length)return void r.hideMenu();var i=function(e,t){return function(){r.fire(\"selectitem\",{title:t,value:e})}};r.menu?r.menu.items().remove():r.menu=t.create({type:\"menu\",classes:\"combobox-menu\",layout:\"flow\"}).parent(r).renderTo(),o.each(e,function(e){r.menu.add({text:e.title,url:e.previewUrl,match:n,classes:\"menu-item-ellipsis\",onclick:i(e.value,e.title)})}),r.menu.renderNew(),r.hideMenu(),r.menu.on(\"cancel\",function(e){e.control.parent()===r.menu&&(e.stopPropagation(),r.focus(),r.hideMenu())}),r.menu.on(\"select\",function(){r.focus()});var a=r.layoutRect().w;r.menu.layoutRect({w:a,minW:0,maxW:a}),r.menu.reflow(),r.menu.show(),r.menu.moveRel(r.getEl(),r.isRtl()?[\"br-tr\",\"tr-br\"]:[\"bl-tl\",\"tl-bl\"])},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var e=this;e.state.on(\"change:value\",function(t){e.getEl(\"inp\").value!=t.value&&(e.getEl(\"inp\").value=t.value)}),e.state.on(\"change:disabled\",function(t){e.getEl(\"inp\").disabled=t.value}),e.state.on(\"change:statusLevel\",function(t){var r=e.getEl(\"status\"),i=e.classPrefix,o=t.value;n.css(r,\"display\",\"none\"===o?\"none\":\"\"),n.toggleClass(r,i+\"i-checkmark\",\"ok\"===o),n.toggleClass(r,i+\"i-warning\",\"warn\"===o),n.toggleClass(r,i+\"i-error\",\"error\"===o),e.classes.toggle(\"has-status\",\"none\"!==o),e.repaint()}),n.on(e.getEl(\"status\"),\"mouseleave\",function(){e.tooltip().hide()}),e.on(\"cancel\",function(t){e.menu&&e.menu.visible()&&(t.stopPropagation(),e.hideMenu())});var t=function(e,t){t&&t.items().length>0&&t.items().eq(e)[0].focus()};return e.on(\"keydown\",function(n){var r=n.keyCode;\"INPUT\"===n.target.nodeName&&(r===i.DOWN?(n.preventDefault(),e.fire(\"autocomplete\"),t(0,e.menu)):r===i.UP&&(n.preventDefault(),t(-1,e.menu)))}),e._super()},remove:function(){r(this.getEl(\"inp\")).off(),this.menu&&this.menu.remove(),this._super()}})}),r(Et,[wt],function(e){return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon=\"none\"),t._super(e),t.classes.add(\"colorbox\"),t.on(\"change keyup postrender\",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl(\"open\"),n=t?t.getElementsByTagName(\"i\")[0]:null;if(n)try{n.style.background=e}catch(r){}},bindStates:function(){var e=this;return e.state.on(\"change:value\",function(t){e.state.get(\"rendered\")&&e.repaintColor(t.value)}),e._super()}})}),r(Nt,[bt,Ae],function(e,t){return e.extend({showPanel:function(){var e=this,n=e.settings;if(e.active(!0),e.panel)e.panel.show();else{var r=n.panel;r.type&&(r={layout:\"grid\",items:r}),r.role=r.role||\"dialog\",r.popover=!0,r.autohide=!0,r.ariaRoot=!0,e.panel=new t(r).on(\"hide\",function(){e.active(!1)}).on(\"cancel\",function(t){t.stopPropagation(),e.focus(),e.hidePanel()}).parent(e).renderTo(e.getContainerElm()),e.panel.fire(\"show\"),e.panel.reflow()}e.panel.moveRel(e.getEl(),n.popoverAlign||(e.isRtl()?[\"bc-tr\",\"bc-tc\"]:[\"bc-tl\",\"bc-tc\"]))},hidePanel:function(){var e=this;e.panel&&e.panel.hide()},postRender:function(){var e=this;return e.aria(\"haspopup\",!0),e.on(\"click\",function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))}),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),r(_t,[Nt,w],function(e,t){var n=t.DOM;return e.extend({init:function(e){this._super(e),this.classes.add(\"colorbutton\")},color:function(e){return e?(this._color=e,this.getEl(\"preview\").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl(\"preview\").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.state.get(\"text\"),i=e.settings.icon?n+\"ico \"+n+\"i-\"+e.settings.icon:\"\",o=e.settings.image?\" style=\\\"background-image: url('\"+e.settings.image+\"')\\\"\":\"\",a=\"\";return r&&(e.classes.add(\"btn-has-text\"),a='<span class=\"'+n+'txt\">'+e.encode(r)+\"</span>\"),'<div id=\"'+t+'\" class=\"'+e.classes+'\" role=\"button\" tabindex=\"-1\" aria-haspopup=\"true\"><button role=\"presentation\" hidefocus=\"1\" type=\"button\" tabindex=\"-1\">'+(i?'<i class=\"'+i+'\"'+o+\"></i>\":\"\")+'<span id=\"'+t+'-preview\" class=\"'+n+'preview\"></span>'+a+'</button><button type=\"button\" class=\"'+n+'open\" hidefocus=\"1\" tabindex=\"-1\"> <i class=\"'+n+'caret\"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on(\"click\",function(r){r.aria&&\"down\"==r.aria.key||r.control!=e||n.getParent(r.target,\".\"+e.classPrefix+\"open\")||(r.stopImmediatePropagation(),t.call(e,r))}),delete e.settings.onclick,e._super()}})}),r(St,[],function(){function e(e){function i(e,i,o){var a,s,l,u,c,d;return a=0,s=0,l=0,e/=255,i/=255,o/=255,c=t(e,t(i,o)),d=n(e,n(i,o)),c==d?(l=c,{h:0,s:0,v:100*l}):(u=e==c?i-o:o==c?e-i:o-e,a=e==c?3:o==c?1:5,a=60*(a-u/(d-c)),s=(d-c)/d,l=d,{h:r(a),s:r(100*s),v:r(100*l)})}function o(e,i,o){var a,s,l,u;if(e=(parseInt(e,10)||0)%360,i=parseInt(i,10)/100,o=parseInt(o,10)/100,i=n(0,t(i,1)),o=n(0,t(o,1)),0===i)return void(d=f=p=r(255*o));switch(a=e/60,s=o*i,l=s*(1-Math.abs(a%2-1)),u=o-s,Math.floor(a)){case 0:d=s,f=l,p=0;break;case 1:d=l,f=s,p=0;break;case 2:d=0,f=s,p=l;break;case 3:d=0,f=l,p=s;break;case 4:d=l,f=0,p=s;break;case 5:d=s,f=0,p=l;break;default:d=f=p=0}d=r(255*(d+u)),f=r(255*(f+u)),p=r(255*(p+u))}function a(){function e(e){return e=parseInt(e,10).toString(16),e.length>1?e:\"0\"+e}return\"#\"+e(d)+e(f)+e(p)}function s(){return{r:d,g:f,b:p}}function l(){return i(d,f,p)}function u(e){var t;return\"object\"==typeof e?\"r\"in e?(d=e.r,f=e.g,p=e.b):\"v\"in e&&o(e.h,e.s,e.v):(t=/rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)[^\\)]*\\)/gi.exec(e))?(d=parseInt(t[1],10),f=parseInt(t[2],10),p=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(d=parseInt(t[1],16),f=parseInt(t[2],16),p=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(d=parseInt(t[1]+t[1],16),f=parseInt(t[2]+t[2],16),p=parseInt(t[3]+t[3],16)),d=d<0?0:d>255?255:d,f=f<0?0:f>255?255:f,p=p<0?0:p>255?255:p,c}var c=this,d=0,f=0,p=0;e&&u(e),c.toRgb=s,c.toHsv=l,c.toHex=a,c.parse=u}var t=Math.min,n=Math.max,r=Math.round;return e}),r(kt,[Pe,_e,ve,St],function(e,t,n,r){return e.extend({Defaults:{classes:\"widget colorpicker\"},init:function(e){this._super(e)},postRender:function(){function e(e,t){var r=n.getPos(e),i,o;return i=t.pageX-r.x,o=t.pageY-r.y,i=Math.max(0,Math.min(i/e.clientWidth,1)),o=Math.max(0,Math.min(o/e.clientHeight,1)),{x:i,y:o}}function i(e,t){var i=(360-e.h)/360;n.css(d,{top:100*i+\"%\"}),t||n.css(p,{left:e.s+\"%\",top:100-e.v+\"%\"}),f.style.background=new r({s:100,v:100,h:e.h}).toHex(),s.color().parse({s:e.s,v:e.v,h:e.h})}function o(t){var n;n=e(f,t),u.s=100*n.x,u.v=100*(1-n.y),i(u),s.fire(\"change\")}function a(t){var n;n=e(c,t),u=l.toHsv(),u.h=360*(1-n.y),i(u,!0),s.fire(\"change\")}var s=this,l=s.color(),u,c,d,f,p;c=s.getEl(\"h\"),d=s.getEl(\"hp\"),f=s.getEl(\"sv\"),p=s.getEl(\"svp\"),s._repaint=function(){u=l.toHsv(),i(u)},s._super(),s._svdraghelper=new t(s._id+\"-sv\",{start:o,drag:o}),s._hdraghelper=new t(s._id+\"-h\",{start:a,drag:a}),s._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var t=this;return arguments.length?(t.color().parse(e),void(t._rendered&&t._repaint())):t.color().toHex()},color:function(){return this._color||(this._color=new r),this._color},renderHtml:function(){function e(){var e,t,n=\"\",i,a;for(i=\"filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=\",a=o.split(\",\"),e=0,t=a.length-1;e<t;e++)n+='<div class=\"'+r+'colorpicker-h-chunk\" style=\"height:'+100/t+\"%;\"+i+a[e]+\",endColorstr=\"+a[e+1]+\");-ms-\"+i+a[e]+\",endColorstr=\"+a[e+1]+')\"></div>';return n}var t=this,n=t._id,r=t.classPrefix,i,o=\"#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000\",a=\"background: -ms-linear-gradient(top,\"+o+\");background: linear-gradient(to bottom,\"+o+\");\";return i='<div id=\"'+n+'-h\" class=\"'+r+'colorpicker-h\" style=\"'+a+'\">'+e()+'<div id=\"'+n+'-hp\" class=\"'+r+'colorpicker-h-marker\"></div></div>','<div id=\"'+n+'\" class=\"'+t.classes+'\"><div id=\"'+n+'-sv\" class=\"'+r+'colorpicker-sv\"><div class=\"'+r+'colorpicker-overlay1\"><div class=\"'+r+'colorpicker-overlay2\"><div id=\"'+n+'-svp\" class=\"'+r+'colorpicker-selector1\"><div class=\"'+r+'colorpicker-selector2\"></div></div></div></div></div>'+i+\"</div>\"}})}),r(Tt,[Pe],function(e){return e.extend({init:function(e){var t=this;e.delimiter||(e.delimiter=\"\\xbb\"),t._super(e),t.classes.add(\"path\"),t.canFocus=!0,t.on(\"click\",function(e){var n,r=e.target;(n=r.getAttribute(\"data-index\"))&&t.fire(\"select\",{value:t.row()[n],index:n})}),t.row(t.settings.row)},focus:function(){var e=this;return e.getEl().firstChild.focus(),e},row:function(e){return arguments.length?(this.state.set(\"row\",e),this):this.state.get(\"row\")},renderHtml:function(){var e=this;return'<div id=\"'+e._id+'\" class=\"'+e.classes+'\">'+e._getDataPathHtml(e.state.get(\"row\"))+\"</div>\"},bindStates:function(){var e=this;return e.state.on(\"change:row\",function(t){e.innerHtml(e._getDataPathHtml(t.value))}),e._super()},_getDataPathHtml:function(e){var t=this,n=e||[],r,i,o=\"\",a=t.classPrefix;for(r=0,i=n.length;r<i;r++)o+=(r>0?'<div class=\"'+a+'divider\" aria-hidden=\"true\"> '+t.settings.delimiter+\" </div>\":\"\")+'<div role=\"button\" class=\"'+a+\"path-item\"+(r==i-1?\" \"+a+\"last\":\"\")+'\" data-index=\"'+r+'\" tabindex=\"-1\" id=\"'+t._id+\"-\"+r+'\" aria-level=\"'+(r+1)+'\">'+n[r].name+\"</div>\";return o||(o='<div class=\"'+a+'path-item\">\\xa0</div>'),o}})}),r(Rt,[Tt],function(e){return e.extend({postRender:function(){function e(e){if(1===e.nodeType){if(\"BR\"==e.nodeName||e.getAttribute(\"data-mce-bogus\"))return!0;if(\"bookmark\"===e.getAttribute(\"data-mce-type\"))return!0}return!1}var t=this,n=t.settings.editor;return n.settings.elementpath!==!1&&(t.on(\"select\",function(e){n.focus(),n.selection.select(this.row()[e.index].element),n.nodeChanged()}),n.on(\"nodeChange\",function(r){for(var i=[],o=r.parents,a=o.length;a--;)if(1==o[a].nodeType&&!e(o[a])){var s=n.fire(\"ResolveName\",{name:o[a].nodeName.toLowerCase(),target:o[a]});if(s.isDefaultPrevented()||i.push({name:s.name,element:o[a]}),s.isPropagationStopped())break}t.row(i)})),t._super()}})}),r(At,[Ne],function(e){return e.extend({Defaults:{layout:\"flex\",align:\"center\",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add(\"formitem\"),t.preRender(e),'<div id=\"'+e._id+'\" class=\"'+e.classes+'\" hidefocus=\"1\" tabindex=\"-1\">'+(e.settings.title?'<div id=\"'+e._id+'-title\" class=\"'+n+'title\">'+e.settings.title+\"</div>\":\"\")+'<div id=\"'+e._id+'-body\" class=\"'+e.bodyClasses+'\">'+(e.settings.html||\"\")+t.renderHtml(e)+\"</div></div>\"}})}),r(Bt,[Ne,At,m],function(e,t,n){return e.extend({Defaults:{containerCls:\"form\",layout:\"flex\",direction:\"column\",align:\"stretch\",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,r=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:\"flex\",autoResize:\"overflow\",defaults:{flex:1}}),r.each(function(r){var i,o=r.settings.label;o&&(i=new t(n.extend({items:{type:\"label\",id:r._id+\"-l\",text:o,flex:0,forId:r._id,disabled:r.disabled()}},e.settings.formItemDefaults)),i.type=\"formitem\",r.aria(\"labelledby\",r._id+\"-l\"),\"undefined\"==typeof r.settings.flex&&(r.settings.flex=1),e.replace(r,i),i.add(r))})},submit:function(){return this.fire(\"submit\",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.fromJSON(e.settings.data)},bindStates:function(){function e(){var e=0,n=[],r,i,o;if(t.settings.labelGapCalc!==!1)for(o=\"children\"==t.settings.labelGapCalc?t.find(\"formitem\"):t.items(),o.filter(\"formitem\").each(function(t){var r=t.items()[0],i=r.getEl().clientWidth;e=i>e?i:e,n.push(r)}),i=t.settings.labelGap||0,r=n.length;r--;)n[r].settings.minWidth=e+i}var t=this;t._super(),t.on(\"show\",e),e()}})}),r(Dt,[Bt],function(e){return e.extend({Defaults:{containerCls:\"fieldset\",layout:\"flex\",direction:\"column\",align:\"stretch\",flex:1,padding:\"25 15 5 15\",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id=\"'+e._id+'\" class=\"'+e.classes+'\" hidefocus=\"1\" tabindex=\"-1\">'+(e.settings.title?'<legend id=\"'+e._id+'-title\" class=\"'+n+'fieldset-title\">'+e.settings.title+\"</legend>\":\"\")+'<div id=\"'+e._id+'-body\" class=\"'+e.bodyClasses+'\">'+(e.settings.html||\"\")+t.renderHtml(e)+\"</div></fieldset>\"}})}),r(Lt,[w,z,h,it,m,_],function(e,t,n,r,i,o){var a=i.trim,s=function(e,t,n,r,i){return{type:e,title:t,url:n,level:r,attach:i}},l=function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&\"inherit\"!==t)return o.isContentEditableTrue(e)}return!1},u=function(t,n){return e.DOM.select(t,n)},c=function(e){return e.innerText||e.textContent},d=function(e){return e.id?e.id:r.uuid(\"h\")},f=function(e){return e&&\"A\"===e.nodeName&&(e.id||e.name)},p=function(e){return f(e)&&m(e)},h=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},m=function(e){return l(e)&&!o.isContentEditableFalse(e)},g=function(e){return h(e)&&m(e)},v=function(e){return h(e)?parseInt(e.nodeName.substr(1),10):0},y=function(e){var t=d(e),n=function(){e.id=t};return s(\"header\",c(e),\"#\"+t,v(e),n)},b=function(e){var n=e.id||e.name,r=c(e);return s(\"anchor\",r?r:\"#\"+n,\"#\"+n,0,t.noop)},C=function(e){return n.map(n.filter(e,g),y)},x=function(e){return n.map(n.filter(e,p),b)},w=function(e){var t=u(\"h1,h2,h3,h4,h5,h6,a:not([href])\",e);return t},E=function(e){return a(e.title).length>0},N=function(e){var t=w(e);return n.filter(C(t).concat(x(t)),E)};return{find:N}}),r(Mt,[wt,m,h,z,I,Lt],function(e,t,n,r,i,o){var a={},s=5,l=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},u=function(e){return t.map(e,l)},c=function(e,t){return{title:e,value:{title:e,url:t,attach:r.noop}}},d=function(e,t){var r=n.find(t,function(t){return t.url===e});return!r},f=function(e,t,n){var r=t in e?e[t]:n;return r===!1?null:r},p=function(e,i,o,s){var l={title:\"-\"},p=function(e){var a=n.filter(e[o],function(e){return d(e,i)});return t.map(a,function(e){return{title:e,value:{title:e,url:e,attach:r.noop}}})},h=function(e){var t=n.filter(i,function(t){return t.type==e});return u(t)},g=function(){var e=h(\"anchor\"),t=f(s,\"anchor_top\",\"#top\"),n=f(s,\"anchor_bottom\",\"#bottom\");return null!==t&&e.unshift(c(\"<top>\",t)),null!==n&&e.push(c(\"<bottom>\",n)),e},v=function(e){return n.reduce(e,function(e,t){var n=0===e.length||0===t.length;return n?e.concat(t):e.concat(l,t)},[])};return s.typeahead_urls===!1?[]:\"file\"===o?v([m(e,p(a)),m(e,h(\"header\")),m(e,g())]):m(e,p(a))},h=function(e,t){var r=a[t];/^https?/.test(e)&&(r?n.indexOf(r,e)===-1&&(a[t]=r.slice(0,s).concat(e)):a[t]=[e])},m=function(e,n){var r=e.toLowerCase(),i=t.grep(n,function(e){return e.title.toLowerCase().indexOf(r)!==-1});return 1===i.length&&i[0].title===e?[]:i},g=function(e){var t=e.title;return t.raw?t.raw:t},v=function(e,t,n,r){var i=function(i){var a=o.find(n),s=p(i,a,r,t);e.showAutoComplete(s,i)};e.on(\"autocomplete\",function(){i(e.value())}),e.on(\"selectitem\",function(t){var n=t.value;e.value(n.url);var i=g(n);\"image\"===r?e.fire(\"change\",{meta:{alt:i,attach:n.attach}}):e.fire(\"change\",{meta:{text:i,attach:n.attach}}),e.focus()}),e.on(\"click\",function(t){0===e.value().length&&\"INPUT\"===t.target.nodeName&&i(\"\")}),e.on(\"PostRender\",function(){e.getRoot().on(\"submit\",function(t){t.isDefaultPrevented()||h(e.value(),r)})})},y=function(e){var t=e.status,n=e.message;return\"valid\"===t?{status:\"ok\",message:n}:\"unknown\"===t?{status:\"warn\",message:n}:\"invalid\"===t?{status:\"warn\",message:n}:{status:\"none\",message:\"\"}},b=function(e,t,n){var r=t.filepicker_validator_handler;if(r){var i=function(t){return 0===t.length?void e.statusLevel(\"none\"):void r({url:t,type:n},function(t){var n=y(t);e.statusMessage(n.message),e.statusLevel(n.status)})};e.state.on(\"change:value\",function(e){i(e.value)})}};return e.extend({init:function(e){var n=this,r=tinymce.activeEditor,i=r.settings,o,a,s,l=e.filetype;e.spellcheck=!1,s=i.file_picker_types||i.file_browser_callback_types,s&&(s=t.makeMap(s,/[, ]/)),s&&!s[l]||(a=i.file_picker_callback,!a||s&&!s[l]?(a=i.file_browser_callback,!a||s&&!s[l]||(o=function(){a(n.getEl(\"inp\").id,n.value(),l,window)})):o=function(){var e=n.fire(\"beforecall\").meta;e=t.extend({filetype:l},e),a.call(r,function(e,t){n.value(e).fire(\"change\",{meta:t})},n.value(),e)}),o&&(e.icon=\"browse\",e.onaction=o),n._super(e),v(n,i,r.getBody(),l),b(n,i,l)}})}),r(Pt,[yt],function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(\":visible\").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),r(Ot,[yt],function(e){return e.extend({recalc:function(e){var t,n,r,i,o,a,s,l,u,c,d,f,p,h,m,g,v=[],y,b,C,x,w,E,N,_,S,k,T,R,A,B,D,L,M,P,O,H,I,F,z=Math.max,U=Math.min;for(r=e.items().filter(\":visible\"),i=e.layoutRect(),o=e.paddingBox,a=e.settings,f=e.isRtl()?a.direction||\"row-reversed\":a.direction,s=a.align,l=e.isRtl()?a.pack||\"end\":a.pack,u=a.spacing||0,\"row-reversed\"!=f&&\"column-reverse\"!=f||(r=r.set(r.toArray().reverse()),f=f.split(\"-\")[0]),\"column\"==f?(S=\"y\",N=\"h\",_=\"minH\",k=\"maxH\",R=\"innerH\",T=\"top\",A=\"deltaH\",B=\"contentH\",O=\"left\",M=\"w\",D=\"x\",L=\"innerW\",P=\"minW\",H=\"right\",I=\"deltaW\",F=\"contentW\"):(S=\"x\",N=\"w\",_=\"minW\",k=\"maxW\",R=\"innerW\",T=\"left\",A=\"deltaW\",B=\"contentW\",O=\"top\",M=\"h\",D=\"y\",L=\"innerH\",P=\"minH\",H=\"bottom\",I=\"deltaH\",F=\"contentH\"),d=i[R]-o[T]-o[T],E=c=0,t=0,n=r.length;t<n;t++)p=r[t],h=p.layoutRect(),m=p.settings,g=m.flex,d-=t<n-1?u:0,g>0&&(c+=g,h[k]&&v.push(p),h.flex=g),d-=h[_],y=o[O]+h[P]+o[H],y>E&&(E=y);if(x={},d<0?x[_]=i[_]-d+i[A]:x[_]=i[R]-d+i[A],x[P]=E+i[I],x[B]=i[R]-d,x[F]=E,x.minW=U(x.minW,i.maxW),x.minH=U(x.minH,i.maxH),x.minW=z(x.minW,i.startMinWidth),x.minH=z(x.minH,i.startMinHeight),!i.autoResize||x.minW==i.minW&&x.minH==i.minH){for(C=d/c,t=0,n=v.length;t<n;t++)p=v[t],h=p.layoutRect(),b=h[k],y=h[_]+h.flex*C,y>b?(d-=h[k]-h[_],c-=h.flex,h.flex=0,h.maxFlexSize=b):h.maxFlexSize=0;for(C=d/c,w=o[T],x={},0===c&&(\"end\"==l?w=d+o[T]:\"center\"==l?(w=Math.round(i[R]/2-(i[R]-d)/2)+o[T],w<0&&(w=o[T])):\"justify\"==l&&(w=o[T],u=Math.floor(d/(r.length-1)))),x[D]=o[O],t=0,n=r.length;t<n;t++)p=r[t],h=p.layoutRect(),y=h.maxFlexSize||h[_],\"center\"===s?x[D]=Math.round(i[L]/2-h[M]/2):\"stretch\"===s?(x[M]=z(h[P]||0,i[L]-o[O]-o[H]),x[D]=o[O]):\"end\"===s&&(x[D]=i[L]-h[M]-o.top),h.flex>0&&(y+=h.flex*C),x[N]=y,x[S]=w,p.layoutRect(x),p.recalc&&p.recalc(),w+=y+u}else if(x.w=x.minW,x.h=x.minH,e.layoutRect(x),this.recalc(e),null===e._lastRect){var W=e.parent();W&&(W._lastRect=null,W.recalc())}}})}),r(Ht,[vt],function(e){return e.extend({Defaults:{containerClass:\"flow-layout\",controlClass:\"flow-layout-item\",endClass:\"break\"},recalc:function(e){e.items().filter(\":visible\").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})}),r(It,[w],function(e){var n=function(e,t,n){for(;n!==t;){if(n.style[e])return n.style[e];n=n.parentNode}return\"\"},r=function(e){return/[0-9.]+px$/.test(e)?Math.round(72*parseInt(e,10)/96)+\"pt\":e},i=function(e){return e.replace(/[\\'\\\"]/g,\"\").replace(/,\\s+/g,\",\")},o=function(t,n){return e.DOM.getStyle(n,t,!0)},a=function(e,t){var r=n(\"fontSize\",e,t);return\"\"!==r?r:o(\"fontSize\",t)},s=function(e,r){var a=n(\"fontFamily\",e,r),s=\"\"!==a?a:o(\"fontFamily\",r);return s!==t?i(s):\"\"};return{getFontSize:a,getFontFamily:s,toPt:r}}),r(Ft,[xe,Pe,Ae,m,h,w,ut,d,It],function(e,t,n,r,i,o,a,s,l){function u(e){e.settings.ui_container&&(s.container=o.DOM.select(e.settings.ui_container)[0])}function c(t){t.on(\"ScriptsLoaded\",function(){t.rtl&&(e.rtl=!0)})}function d(e){function t(t,n){return function(){var r=this;e.on(\"nodeChange\",function(i){var o=e.formatter,a=null;f(i.parents,function(e){if(f(t,function(t){if(n?o.matchNode(e,n,{value:t.value})&&(a=t.value):o.matchNode(e,t.value)&&(a=t.value),a)return!1}),a)return!1}),r.value(a)})}}function i(t){return function(){var n=this,r=function(e){return e?e.split(\",\")[0]:\"\"};e.on(\"nodeChange\",function(i){var o,a=null;o=l.getFontFamily(e.getBody(),i.element),f(t,function(e){e.value.toLowerCase()===o.toLowerCase()&&(a=e.value)}),f(t,function(e){a||r(e.value).toLowerCase()!==r(o).toLowerCase()||(a=e.value)}),n.value(a),!a&&o&&n.text(r(o))})}}function o(t){return function(){var n=this;e.on(\"nodeChange\",function(r){var i,o,a=null;i=l.getFontSize(e.getBody(),r.element),o=l.toPt(i),f(t,function(e){e.value===i?a=i:e.value===o&&(a=o)}),n.value(a),a||n.text(o)})}}function a(e){e=e.replace(/;$/,\"\").split(\";\");for(var t=e.length;t--;)e[t]=e[t].split(\"=\");return e}function s(){function t(e){var n=[];if(e)return f(e,function(e){var o={text:e.title,icon:e.icon};if(e.items)o.menu=t(e.items);else{var a=e.format||\"custom\"+r++;e.format||(e.name=a,i.push(e)),o.format=a,o.cmd=e.cmd}n.push(o)}),n}function n(){var n;return n=t(e.settings.style_formats_merge?e.settings.style_formats?o.concat(e.settings.style_formats):o:e.settings.style_formats||o)}var r=0,i=[],o=[{title:\"Headings\",items:[{title:\"Heading 1\",format:\"h1\"},{title:\"Heading 2\",format:\"h2\"},{title:\"Heading 3\",format:\"h3\"},{title:\"Heading 4\",format:\"h4\"},{title:\"Heading 5\",format:\"h5\"},{title:\"Heading 6\",format:\"h6\"}]},{title:\"Inline\",items:[{title:\"Bold\",icon:\"bold\",format:\"bold\"},{title:\"Italic\",icon:\"italic\",format:\"italic\"},{title:\"Underline\",icon:\"underline\",format:\"underline\"},{title:\"Strikethrough\",icon:\"strikethrough\",format:\"strikethrough\"},{title:\"Superscript\",icon:\"superscript\",format:\"superscript\"},{title:\"Subscript\",icon:\"subscript\",format:\"subscript\"},{title:\"Code\",icon:\"code\",format:\"code\"}]},{title:\"Blocks\",items:[{title:\"Paragraph\",format:\"p\"},{title:\"Blockquote\",format:\"blockquote\"},{title:\"Div\",format:\"div\"},{title:\"Pre\",format:\"pre\"}]},{title:\"Alignment\",items:[{title:\"Left\",icon:\"alignleft\",format:\"alignleft\"},{title:\"Center\",icon:\"aligncenter\",format:\"aligncenter\"},{title:\"Right\",icon:\"alignright\",format:\"alignright\"},{title:\"Justify\",icon:\"alignjustify\",format:\"alignjustify\"}]}];return e.on(\"init\",function(){f(i,function(t){e.formatter.register(t.name,t)})}),{type:\"menu\",items:n(),onPostRender:function(t){e.fire(\"renderFormatsMenu\",{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return e.formatter.getCssText(this.settings.format)},onPostRender:function(){var t=this;t.parent().on(\"show\",function(){var n,r;n=t.settings.format,n&&(t.disabled(!e.formatter.canApply(n)),t.active(e.formatter.match(n))),r=t.settings.cmd,r&&t.active(e.queryCommandState(r))})},onclick:function(){this.settings.format&&h(this.settings.format),this.settings.cmd&&e.execCommand(this.settings.cmd)}}}}function u(t){return function(){var n=this;e.formatter?e.formatter.formatChanged(t,function(e){n.active(e)}):e.on(\"init\",function(){e.formatter.formatChanged(t,function(e){n.active(e)})})}}function c(t){return function(){function n(){var n=\"redo\"==t?\"hasRedo\":\"hasUndo\";return!!e.undoManager&&e.undoManager[n]()}var r=this;r.disabled(!n()),e.on(\"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode\",function(){r.disabled(e.readonly||!n())})}}function d(){var t=this;e.on(\"VisualAid\",function(e){t.active(e.hasVisual)}),t.active(e.hasVisual)}function h(t){t.control&&(t=t.control.value()),t&&e.execCommand(\"mceToggleFormat\",!1,t)}function m(t){var n=t.length;return r.each(t,function(t){t.menu&&(t.hidden=0===m(t.menu));var r=t.format;r&&(t.hidden=!e.formatter.canApply(r)),t.hidden&&n--}),n}function g(t){var n=t.items().length;return t.items().each(function(t){t.menu&&t.visible(g(t.menu)>0),!t.menu&&t.settings.menu&&t.visible(m(t.settings.menu)>0);var r=t.settings.format;r&&t.visible(e.formatter.canApply(r)),t.visible()||n--}),n}var v;v=s(),f({bold:\"Bold\",italic:\"Italic\",underline:\"Underline\",strikethrough:\"Strikethrough\",subscript:\"Subscript\",superscript:\"Superscript\"},function(t,n){e.addButton(n,{tooltip:t,onPostRender:u(n),onclick:function(){h(n)}})}),f({outdent:[\"Decrease indent\",\"Outdent\"],indent:[\"Increase indent\",\"Indent\"],cut:[\"Cut\",\"Cut\"],copy:[\"Copy\",\"Copy\"],paste:[\"Paste\",\"Paste\"],help:[\"Help\",\"mceHelp\"],selectall:[\"Select all\",\"SelectAll\"],removeformat:[\"Clear formatting\",\"RemoveFormat\"],visualaid:[\"Visual aids\",\"mceToggleVisualAid\"],newdocument:[\"New document\",\"mceNewDocument\"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})}),f({blockquote:[\"Blockquote\",\"mceBlockQuote\"],subscript:[\"Subscript\",\"Subscript\"],superscript:[\"Superscript\",\"Superscript\"],alignleft:[\"Align left\",\"JustifyLeft\"],aligncenter:[\"Align center\",\"JustifyCenter\"],alignright:[\"Align right\",\"JustifyRight\"],alignjustify:[\"Justify\",\"JustifyFull\"],alignnone:[\"No alignment\",\"JustifyNone\"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1],onPostRender:u(n)})});var y=function(e){var t=e;return t.length>0&&\"-\"===t[0].text&&(t=t.slice(1)),t.length>0&&\"-\"===t[t.length-1].text&&(t=t.slice(0,t.length-1)),t},b=function(t){var n,i;if(\"string\"==typeof t)i=t.split(\" \");else if(r.isArray(t))return p(r.map(t,b));return n=r.grep(i,function(t){return\"|\"===t||t in e.menuItems}),r.map(n,function(t){return\"|\"===t?{text:\"-\"}:e.menuItems[t]})},C=function(t){var n=[{text:\"-\"}],i=r.grep(e.menuItems,function(e){return e.context===t});return r.each(i,function(e){\"before\"==e.separator&&n.push({text:\"|\"}),e.prependToContext?n.unshift(e):n.push(e),\"after\"==e.separator&&n.push({text:\"|\"})}),n},x=function(e){return y(e.insert_button_items?b(e.insert_button_items):C(\"insert\"))};e.addButton(\"undo\",{tooltip:\"Undo\",onPostRender:c(\"undo\"),cmd:\"undo\"}),e.addButton(\"redo\",{tooltip:\"Redo\",onPostRender:c(\"redo\"),cmd:\"redo\"}),e.addMenuItem(\"newdocument\",{text:\"New document\",icon:\"newdocument\",cmd:\"mceNewDocument\"}),e.addMenuItem(\"undo\",{text:\"Undo\",icon:\"undo\",shortcut:\"Meta+Z\",onPostRender:c(\"undo\"),cmd:\"undo\"}),e.addMenuItem(\"redo\",{text:\"Redo\",icon:\"redo\",shortcut:\"Meta+Y\",onPostRender:c(\"redo\"),cmd:\"redo\"}),e.addMenuItem(\"visualaid\",{text:\"Visual aids\",selectable:!0,onPostRender:d,cmd:\"mceToggleVisualAid\"}),e.addButton(\"remove\",{tooltip:\"Remove\",icon:\"remove\",cmd:\"Delete\"}),e.addButton(\"insert\",{type:\"menubutton\",icon:\"insert\",menu:[],oncreatemenu:function(){this.menu.add(x(e.settings)),this.menu.renderNew()}}),f({cut:[\"Cut\",\"Cut\",\"Meta+X\"],copy:[\"Copy\",\"Copy\",\"Meta+C\"],paste:[\"Paste\",\"Paste\",\"Meta+V\"],selectall:[\"Select all\",\"SelectAll\",\"Meta+A\"],bold:[\"Bold\",\"Bold\",\"Meta+B\"],italic:[\"Italic\",\"Italic\",\"Meta+I\"],underline:[\"Underline\",\"Underline\",\"Meta+U\"],strikethrough:[\"Strikethrough\",\"Strikethrough\"],subscript:[\"Subscript\",\"Subscript\"],superscript:[\"Superscript\",\"Superscript\"],removeformat:[\"Clear formatting\",\"RemoveFormat\"]},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})}),e.on(\"mousedown\",function(){n.hideAll()}),e.addButton(\"styleselect\",{type:\"menubutton\",text:\"Formats\",menu:v,onShowMenu:function(){e.settings.style_formats_autohide&&g(this.menu)}}),e.addButton(\"formatselect\",function(){var n=[],r=a(e.settings.block_formats||\"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre\");return f(r,function(t){n.push({text:t[0],value:t[1],textStyle:function(){return e.formatter.getCssText(t[1])}})}),{type:\"listbox\",text:r[0][0],values:n,fixedWidth:!0,onselect:h,onPostRender:t(n)}}),e.addButton(\"fontselect\",function(){var t=\"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats\",n=[],r=a(e.settings.font_formats||t);return f(r,function(e){n.push({text:{raw:e[0]},value:e[1],textStyle:e[1].indexOf(\"dings\")==-1?\"font-family:\"+e[1]:\"\"})}),{type:\"listbox\",text:\"Font Family\",tooltip:\"Font Family\",values:n,fixedWidth:!0,onPostRender:i(n),onselect:function(t){t.control.settings.value&&e.execCommand(\"FontName\",!1,t.control.settings.value)}}}),e.addButton(\"fontsizeselect\",function(){var t=[],n=\"8pt 10pt 12pt 14pt 18pt 24pt 36pt\",r=e.settings.fontsize_formats||n;return f(r.split(\" \"),function(e){var n=e,r=e,i=e.split(\"=\");i.length>1&&(n=i[0],r=i[1]),t.push({text:n,value:r})}),{type:\"listbox\",text:\"Font Sizes\",tooltip:\"Font Sizes\",values:t,fixedWidth:!0,onPostRender:o(t),onclick:function(t){t.control.settings.value&&e.execCommand(\"FontSize\",!1,t.control.settings.value)}}}),e.addMenuItem(\"formats\",{text:\"Formats\",menu:v})}var f=r.each,p=function(e){return i.reduce(e,function(e,t){return e.concat(t)},[])};a.on(\"AddEditor\",function(e){var t=e.editor;c(t),d(t),u(t)}),e.translate=function(e){return a.translate(e)},t.tooltips=!s.iOS}),r(zt,[yt],function(e){return e.extend({recalc:function(e){var t,n,r,i,o,a,s,l,u,c,d,f,p,h,m,g,v,y,b,C,x,w,E,N=[],_=[],S,k,T,R,A,B;t=e.settings,i=e.items().filter(\":visible\"),o=e.layoutRect(),r=t.columns||Math.ceil(Math.sqrt(i.length)),n=Math.ceil(i.length/r),y=t.spacingH||t.spacing||0,b=t.spacingV||t.spacing||0,C=t.alignH||t.align,x=t.alignV||t.align,g=e.paddingBox,A=\"reverseRows\"in t?t.reverseRows:e.isRtl(),C&&\"string\"==typeof C&&(C=[C]),x&&\"string\"==typeof x&&(x=[x]);for(d=0;d<r;d++)N.push(0);for(f=0;f<n;f++)_.push(0);for(f=0;f<n;f++)for(d=0;d<r&&(c=i[f*r+d],c);d++)u=c.layoutRect(),S=u.minW,k=u.minH,N[d]=S>N[d]?S:N[d],_[f]=k>_[f]?k:_[f];for(T=o.innerW-g.left-g.right,w=0,d=0;d<r;d++)w+=N[d]+(d>0?y:0),T-=(d>0?y:0)+N[d];for(R=o.innerH-g.top-g.bottom,E=0,f=0;f<n;f++)E+=_[f]+(f>0?b:0),R-=(f>0?b:0)+_[f];if(w+=g.left+g.right,E+=g.top+g.bottom,l={},l.minW=w+(o.w-o.innerW),l.minH=E+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW==o.minW&&l.minH==o.minH){o.autoResize&&(l=e.layoutRect(l),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH);var D;D=\"start\"==t.packV?0:R>0?Math.floor(R/n):0;var L=0,M=t.flexWidths;if(M)for(d=0;d<M.length;d++)L+=M[d];else L=r;var P=T/L;for(d=0;d<r;d++)N[d]+=M?M[d]*P:P;for(h=g.top,f=0;f<n;f++){for(p=g.left,s=_[f]+D,d=0;d<r&&(B=A?f*r+r-1-d:f*r+d,c=i[B],c);d++)m=c.settings,u=c.layoutRect(),a=Math.max(N[d],u.startMinWidth),u.x=p,u.y=h,v=m.alignH||(C?C[d]||C[0]:null),\"center\"==v?u.x=p+a/2-u.w/2:\"right\"==v?u.x=p+a-u.w:\"stretch\"==v&&(u.w=a),v=m.alignV||(x?x[d]||x[0]:null),\"center\"==v?u.y=h+s/2-u.h/2:\"bottom\"==v?u.y=h+s-u.h:\"stretch\"==v&&(u.h=s),c.layoutRect(u),p+=a+y,c.recalc&&c.recalc();h+=s+b}}else if(l.w=l.minW,l.h=l.minH,e.layoutRect(l),this.recalc(e),null===e._lastRect){var O=e.parent();O&&(O._lastRect=null,O.recalc())}}})}),r(Ut,[Pe,c],function(e,t){return e.extend({renderHtml:function(){var e=this;return e.classes.add(\"iframe\"),e.canFocus=!1,'<iframe id=\"'+e._id+'\" class=\"'+e.classes+'\" tabindex=\"-1\" src=\"'+(e.settings.url||\"javascript:''\")+'\" frameborder=\"0\"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,n){var r=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,n&&n()):t.setTimeout(function(){r.html(e)}),this}})}),r(Wt,[Pe],function(e){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add(\"widget\").add(\"infobox\"),t.canFocus=!1},severity:function(e){this.classes.remove(\"error\"),this.classes.remove(\"warning\"),this.classes.remove(\"success\"),this.classes.add(e)},help:function(e){this.state.set(\"help\",e)},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id=\"'+e._id+'\" class=\"'+e.classes+'\"><div id=\"'+e._id+'-body\">'+e.encode(e.state.get(\"text\"))+'<button role=\"button\" tabindex=\"-1\"><i class=\"'+t+\"ico \"+t+'i-help\"></i></button></div></div>'},bindStates:function(){var e=this;return e.state.on(\"change:text\",function(t){e.getEl(\"body\").firstChild.data=e.encode(t.value),\ne.state.get(\"rendered\")&&e.updateLayoutRect()}),e.state.on(\"change:help\",function(t){e.classes.toggle(\"has-help\",t.value),e.state.get(\"rendered\")&&e.updateLayoutRect()}),e._super()}})}),r(Vt,[Pe,ve],function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add(\"widget\").add(\"label\"),t.canFocus=!1,e.multiline&&t.classes.add(\"autoscroll\"),e.strong&&t.classes.add(\"strong\")},initLayoutRect:function(){var e=this,n=e._super();if(e.settings.multiline){var r=t.getSize(e.getEl());r.width>n.maxW&&(n.minW=n.maxW,e.classes.add(\"multiline\")),e.getEl().style.width=n.minW+\"px\",n.startMinH=n.h=n.minH=Math.min(n.maxH,t.getSize(e.getEl()).height)}return n},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+\"px\"),e._super()},severity:function(e){this.classes.remove(\"error\"),this.classes.remove(\"warning\"),this.classes.remove(\"success\"),this.classes.add(e)},renderHtml:function(){var e=this,t,n,r=e.settings.forId;return!r&&(n=e.settings.forName)&&(t=e.getRoot().find(\"#\"+n)[0],t&&(r=t._id)),r?'<label id=\"'+e._id+'\" class=\"'+e.classes+'\"'+(r?' for=\"'+r+'\"':\"\")+\">\"+e.encode(e.state.get(\"text\"))+\"</label>\":'<span id=\"'+e._id+'\" class=\"'+e.classes+'\">'+e.encode(e.state.get(\"text\"))+\"</span>\"},bindStates:function(){var e=this;return e.state.on(\"change:text\",function(t){e.innerHtml(e.encode(t.value)),e.state.get(\"rendered\")&&e.updateLayoutRect()}),e._super()}})}),r($t,[Ne],function(e){return e.extend({Defaults:{role:\"toolbar\",layout:\"flow\"},init:function(e){var t=this;t._super(e),t.classes.add(\"toolbar\")},postRender:function(){var e=this;return e.items().each(function(e){e.classes.add(\"toolbar-item\")}),e._super()}})}),r(qt,[$t],function(e){return e.extend({Defaults:{role:\"menubar\",containerCls:\"menubar\",ariaRoot:!0,defaults:{type:\"menubutton\"}}})}),r(jt,[bt,we,qt],function(e,t,n){function r(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}var i=e.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add(\"menubtn\"),e.fixedWidth&&t.classes.add(\"fixed-width\"),t.aria(\"haspopup\",!0),t.state.set(\"menu\",e.menu||t.render())},showMenu:function(e){var n=this,r;return n.menu&&n.menu.visible()&&e!==!1?n.hideMenu():(n.menu||(r=n.state.get(\"menu\")||[],r.length?r={type:\"menu\",items:r}:r.type=r.type||\"menu\",r.renderTo?n.menu=r.parent(n).show().renderTo():n.menu=t.create(r).parent(n).renderTo(),n.fire(\"createmenu\"),n.menu.reflow(),n.menu.on(\"cancel\",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on(\"select\",function(){n.focus()}),n.menu.on(\"show hide\",function(e){e.control==n.menu&&n.activeMenu(\"show\"==e.type),n.aria(\"expanded\",\"show\"==e.type)}).fire(\"show\")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?[\"br-tr\",\"tr-br\"]:[\"bl-tl\",\"tl-bl\"]),void n.fire(\"showmenu\"))},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide())},activeMenu:function(e){this.classes.toggle(\"active\",e)},renderHtml:function(){var e=this,t=e._id,r=e.classPrefix,i=e.settings.icon,o,a=e.state.get(\"text\"),s=\"\";return o=e.settings.image,o?(i=\"none\",\"string\"!=typeof o&&(o=window.getSelection?o[0]:o[1]),o=\" style=\\\"background-image: url('\"+o+\"')\\\"\"):o=\"\",a&&(e.classes.add(\"btn-has-text\"),s='<span class=\"'+r+'txt\">'+e.encode(a)+\"</span>\"),i=e.settings.icon?r+\"ico \"+r+\"i-\"+i:\"\",e.aria(\"role\",e.parent()instanceof n?\"menuitem\":\"button\"),'<div id=\"'+t+'\" class=\"'+e.classes+'\" tabindex=\"-1\" aria-labelledby=\"'+t+'\"><button id=\"'+t+'-open\" role=\"presentation\" type=\"button\" tabindex=\"-1\">'+(i?'<i class=\"'+i+'\"'+o+\"></i>\":\"\")+s+' <i class=\"'+r+'caret\"></i></button></div>'},postRender:function(){var e=this;return e.on(\"click\",function(t){t.control===e&&r(t.target,e.getEl())&&(e.focus(),e.showMenu(!t.aria),t.aria&&e.menu.items().filter(\":visible\")[0].focus())}),e.on(\"mouseenter\",function(t){var n=t.control,r=e.parent(),o;n&&r&&n instanceof i&&n.parent()==r&&(r.items().filter(\"MenuButton\").each(function(e){e.hideMenu&&e!=n&&(e.menu&&e.menu.visible()&&(o=!0),e.hideMenu())}),o&&(n.focus(),n.showMenu()))}),e._super()},bindStates:function(){var e=this;return e.state.on(\"change:menu\",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return i}),r(Yt,[Pe,we,d,c],function(e,t,n,r){return e.extend({Defaults:{border:0,role:\"menuitem\"},init:function(e){var t=this,n;t._super(e),e=t.settings,t.classes.add(\"menu-item\"),e.menu&&t.classes.add(\"menu-item-expand\"),e.preview&&t.classes.add(\"menu-item-preview\"),n=t.state.get(\"text\"),\"-\"!==n&&\"|\"!==n||(t.classes.add(\"menu-item-sep\"),t.aria(\"role\",\"separator\"),t.state.set(\"text\",\"-\")),e.selectable&&(t.aria(\"role\",\"menuitemcheckbox\"),t.classes.add(\"menu-item-checkbox\"),e.icon=\"selected\"),e.preview||e.selectable||t.classes.add(\"menu-item-normal\"),t.on(\"mousedown\",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&t.aria(\"haspopup\",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e=this,n=e.settings,r,i=e.parent();if(i.items().each(function(t){t!==e&&t.hideMenu()}),n.menu){r=e.menu,r?r.show():(r=n.menu,r.length?r={type:\"menu\",items:r}:r.type=r.type||\"menu\",i.settings.itemDefaults&&(r.itemDefaults=i.settings.itemDefaults),r=e.menu=t.create(r).parent(e).renderTo(),r.reflow(),r.on(\"cancel\",function(t){t.stopPropagation(),e.focus(),r.hide()}),r.on(\"show hide\",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected)})}).fire(\"show\"),r.on(\"hide\",function(t){t.control===r&&e.classes.remove(\"selected\")}),r.submenu=!0),r._parentMenu=i,r.classes.add(\"menu-sub\");var o=r.testMoveRel(e.getEl(),e.isRtl()?[\"tl-tr\",\"bl-br\",\"tr-tl\",\"br-bl\"]:[\"tr-tl\",\"br-bl\",\"tl-tr\",\"bl-br\"]);r.moveRel(e.getEl(),o),r.rel=o,o=\"menu-sub-\"+o,r.classes.remove(r._lastRel).add(o),r._lastRel=o,e.classes.add(\"selected\"),e.aria(\"expanded\",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria(\"expanded\",!1)),e},renderHtml:function(){function e(e){var t,r,i={};for(i=n.mac?{alt:\"&#x2325;\",ctrl:\"&#x2318;\",shift:\"&#x21E7;\",meta:\"&#x2318;\"}:{meta:\"Ctrl\"},e=e.split(\"+\"),t=0;t<e.length;t++)r=i[e[t].toLowerCase()],r&&(e[t]=r);return e.join(\"+\")}function t(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}function r(e){var n=s.match||\"\";return n?e.replace(new RegExp(t(n),\"gi\"),function(e){return\"!mce~match[\"+e+\"]mce~match!\"}):e}function i(e){return e.replace(new RegExp(t(\"!mce~match[\"),\"g\"),\"<b>\").replace(new RegExp(t(\"]mce~match!\"),\"g\"),\"</b>\")}var o=this,a=o._id,s=o.settings,l=o.classPrefix,u=o.state.get(\"text\"),c=o.settings.icon,d=\"\",f=s.shortcut,p=o.encode(s.url),h=\"\";return c&&o.parent().classes.add(\"menu-has-icons\"),s.image&&(d=\" style=\\\"background-image: url('\"+s.image+\"')\\\"\"),f&&(f=e(f)),c=l+\"ico \"+l+\"i-\"+(o.settings.icon||\"none\"),h=\"-\"!==u?'<i class=\"'+c+'\"'+d+\"></i>\\xa0\":\"\",u=i(o.encode(r(u))),p=i(o.encode(r(p))),'<div id=\"'+a+'\" class=\"'+o.classes+'\" tabindex=\"-1\">'+h+(\"-\"!==u?'<span id=\"'+a+'-text\" class=\"'+l+'text\">'+u+\"</span>\":\"\")+(f?'<div id=\"'+a+'-shortcut\" class=\"'+l+'menu-shortcut\">'+f+\"</div>\":\"\")+(s.menu?'<div class=\"'+l+'caret\"></div>':\"\")+(p?'<div class=\"'+l+'menu-item-link\">'+p+\"</div>\":\"\")+\"</div>\"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if(\"function\"==typeof n&&(n=n.call(this)),n){var i=e.getEl(\"text\");i&&i.setAttribute(\"style\",n)}return e.on(\"mouseenter click\",function(n){n.control===e&&(t.menu||\"click\"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire(\"select\"),r.requestAnimationFrame(function(){e.parent().hideAll()})))}),e._super(),e},hover:function(){var e=this;return e.parent().items().each(function(e){e.classes.remove(\"selected\")}),e.classes.toggle(\"selected\",!0),e},active:function(e){return\"undefined\"!=typeof e&&this.aria(\"checked\",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),r(Xt,[g,xe,c],function(e,t,n){return function(r,i){var o=this,a,s=t.classPrefix,l;o.show=function(t,u){function c(){a&&(e(r).append('<div class=\"'+s+\"throbber\"+(i?\" \"+s+\"throbber-inline\":\"\")+'\"></div>'),u&&u())}return o.hide(),a=!0,t?l=n.setTimeout(c,t):c(),o},o.hide=function(){var e=r.lastChild;return n.clearTimeout(l),e&&e.className.indexOf(\"throbber\")!=-1&&e.parentNode.removeChild(e),a=!1,o}}}),r(Kt,[Ae,Yt,Xt,m],function(e,t,n,r){return e.extend({Defaults:{defaultType:\"menuitem\",border:1,layout:\"stack\",role:\"application\",bodyRole:\"menu\",ariaRoot:!0},init:function(e){var t=this;if(e.autohide=!0,e.constrainToViewport=!0,\"function\"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var n=e.items,i=n.length;i--;)n[i]=r.extend({},e.itemDefaults,n[i]);t._super(e),t.classes.add(\"menu\")},repaint:function(){return this.classes.toggle(\"menu-align\",!0),this._super(),this.getEl().style.height=\"\",this.getEl(\"body\").style.height=\"\",this},cancel:function(){var e=this;e.hideAll(),e.fire(\"select\")},load:function(){function e(){t.throbber&&(t.throbber.hide(),t.throbber=null)}var t=this,r,i;i=t.settings.itemsFactory,i&&(t.throbber||(t.throbber=new n(t.getEl(\"body\"),!0),0===t.items().length?(t.throbber.show(),t.fire(\"loading\")):t.throbber.show(100,function(){t.items().remove(),t.fire(\"loading\")}),t.on(\"hide close\",e)),t.requestTime=r=(new Date).getTime(),t.settings.itemsFactory(function(n){return 0===n.length?void t.hide():void(t.requestTime===r&&(t.getEl().style.width=\"\",t.getEl(\"body\").style.width=\"\",e(),t.items().remove(),t.getEl(\"body\").innerHTML=\"\",t.add(n),t.renderNew(),t.fire(\"loaded\")))}))},hideAll:function(){var e=this;return this.find(\"menuitem\").exec(\"hideMenu\"),e._super()},preRender:function(){var e=this;return e.items().each(function(t){var n=t.settings;if(n.icon||n.image||n.selectable)return e._hasIcons=!0,!1}),e.settings.itemsFactory&&e.on(\"postrender\",function(){e.settings.itemsFactory&&e.load()}),e._super()}})}),r(Gt,[jt,Kt],function(e,t){return e.extend({init:function(e){function t(r){for(var a=0;a<r.length;a++){if(i=r[a].selected||e.value===r[a].value)return o=o||r[a].text,n.state.set(\"value\",r[a].value),!0;if(r[a].menu&&t(r[a].menu))return!0}}var n=this,r,i,o,a;n._super(e),e=n.settings,n._values=r=e.values,r&&(\"undefined\"!=typeof e.value&&t(r),!i&&r.length>0&&(o=r[0].text,n.state.set(\"value\",r[0].value)),n.state.set(\"menu\",r)),n.state.set(\"text\",e.text||o),n.classes.add(\"listbox\"),n.on(\"select\",function(t){var r=t.control;a&&(t.lastControl=a),e.multiple?r.active(!r.active()):n.value(t.control.value()),a=r})},bindStates:function(){function e(e,n){e instanceof t&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===n)})}function n(e,t){var r;if(e)for(var i=0;i<e.length;i++){if(e[i].value===t)return e[i];if(e[i].menu&&(r=n(e[i].menu,t)))return r}}var r=this;return r.on(\"show\",function(t){e(t.control,r.value())}),r.state.on(\"change:value\",function(e){var t=n(r.state.get(\"menu\"),e.value);t?r.text(t.text):r.text(r.settings.text)}),r._super()}})}),r(Jt,[xt],function(e){return e.extend({Defaults:{classes:\"radio\",role:\"radio\"}})}),r(Qt,[Pe,_e],function(e,t){return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.classes.add(\"resizehandle\"),\"both\"==e.settings.direction&&e.classes.add(\"resizehandle-both\"),e.canFocus=!1,'<div id=\"'+e._id+'\" class=\"'+e.classes+'\"><i class=\"'+t+\"ico \"+t+'i-resize\"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new t(this._id,{start:function(){e.fire(\"ResizeStart\")},drag:function(t){\"both\"!=e.settings.direction&&(t.deltaX=0),e.fire(\"Resize\",t)},stop:function(){e.fire(\"ResizeEnd\")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),r(Zt,[Pe],function(e){function t(e){var t=\"\";if(e)for(var n=0;n<e.length;n++)t+='<option value=\"'+e[n]+'\">'+e[n]+\"</option>\";return t}return e.extend({Defaults:{classes:\"selectbox\",role:\"selectbox\",options:[]},init:function(e){var t=this;t._super(e),t.settings.size&&(t.size=t.settings.size),t.settings.options&&(t._options=t.settings.options),t.on(\"keydown\",function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire(\"submit\",{data:n.toJSON()}))})},options:function(e){return arguments.length?(this.state.set(\"options\",e),this):this.state.get(\"options\")},renderHtml:function(){var e=this,n,r=\"\";return n=t(e._options),e.size&&(r=' size = \"'+e.size+'\"'),'<select id=\"'+e._id+'\" class=\"'+e.classes+'\"'+r+\">\"+n+\"</select>\"},bindStates:function(){var e=this;return e.state.on(\"change:options\",function(n){e.getEl().innerHTML=t(n.value)}),e._super()}})}),r(en,[Pe,_e,ve],function(e,t,n){function r(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function i(e,t,n){e.setAttribute(\"aria-\"+t,n)}function o(e,t){var r,o,a,s,l,u;\"v\"==e.settings.orientation?(s=\"top\",a=\"height\",o=\"h\"):(s=\"left\",a=\"width\",o=\"w\"),u=e.getEl(\"handle\"),r=(e.layoutRect()[o]||100)-n.getSize(u)[a],l=r*((t-e._minValue)/(e._maxValue-e._minValue))+\"px\",u.style[s]=l,u.style.height=e.layoutRect().h+\"px\",i(u,\"valuenow\",t),i(u,\"valuetext\",\"\"+e.settings.previewFilter(t)),i(u,\"valuemin\",e._minValue),i(u,\"valuemax\",e._maxValue)}return e.extend({init:function(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),t._super(e),t.classes.add(\"slider\"),\"v\"==e.orientation&&t.classes.add(\"vertical\"),t._minValue=e.minValue||0,t._maxValue=e.maxValue||100,t._initValue=t.state.get(\"value\")},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id=\"'+t+'\" class=\"'+e.classes+'\"><div id=\"'+t+'-handle\" class=\"'+n+'slider-handle\" role=\"slider\" tabindex=\"-1\"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){function e(e,t,n){return(n+e)/(t-e)}function i(e,t,n){return n*(t-e)-e}function o(t,n){function o(o){var a;a=s.value(),a=i(t,n,e(t,n,a)+.05*o),a=r(a,t,n),s.value(a),s.fire(\"dragstart\",{value:a}),s.fire(\"drag\",{value:a}),s.fire(\"dragend\",{value:a})}s.on(\"keydown\",function(e){switch(e.keyCode){case 37:case 38:o(-1);break;case 39:case 40:o(1)}})}function a(e,i,o){var a,l,u,h,m;s._dragHelper=new t(s._id,{handle:s._id+\"-handle\",start:function(e){a=e[c],l=parseInt(s.getEl(\"handle\").style[d],10),u=(s.layoutRect()[p]||100)-n.getSize(o)[f],s.fire(\"dragstart\",{value:m})},drag:function(t){var n=t[c]-a;h=r(l+n,0,u),o.style[d]=h+\"px\",m=e+h/u*(i-e),s.value(m),s.tooltip().text(\"\"+s.settings.previewFilter(m)).show().moveRel(o,\"bc tc\"),s.fire(\"drag\",{value:m})},stop:function(){s.tooltip().hide(),s.fire(\"dragend\",{value:m})}})}var s=this,l,u,c,d,f,p;l=s._minValue,u=s._maxValue,\"v\"==s.settings.orientation?(c=\"screenY\",d=\"top\",f=\"height\",p=\"h\"):(c=\"screenX\",d=\"left\",f=\"width\",p=\"w\"),s._super(),o(l,u,s.getEl(\"handle\")),a(l,u,s.getEl(\"handle\"))},repaint:function(){this._super(),o(this,this.value())},bindStates:function(){var e=this;return e.state.on(\"change:value\",function(t){o(e,t.value)}),e._super()}})}),r(tn,[Pe],function(e){return e.extend({renderHtml:function(){var e=this;return e.classes.add(\"spacer\"),e.canFocus=!1,'<div id=\"'+e._id+'\" class=\"'+e.classes+'\"></div>'}})}),r(nn,[jt,ve,g],function(e,t,n){return e.extend({Defaults:{classes:\"widget btn splitbtn\",role:\"button\"},repaint:function(){var e=this,r=e.getEl(),i=e.layoutRect(),o,a;return e._super(),o=r.firstChild,a=r.lastChild,n(o).css({width:i.w-t.getSize(a).width,height:i.h-2}),n(a).css({height:i.h-2}),e},activeMenu:function(e){var t=this;n(t.getEl().lastChild).toggleClass(t.classPrefix+\"active\",e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r,i=e.state.get(\"icon\"),o=e.state.get(\"text\"),a=\"\";return r=e.settings.image,r?(i=\"none\",\"string\"!=typeof r&&(r=window.getSelection?r[0]:r[1]),r=\" style=\\\"background-image: url('\"+r+\"')\\\"\"):r=\"\",i=e.settings.icon?n+\"ico \"+n+\"i-\"+i:\"\",o&&(e.classes.add(\"btn-has-text\"),a='<span class=\"'+n+'txt\">'+e.encode(o)+\"</span>\"),'<div id=\"'+t+'\" class=\"'+e.classes+'\" role=\"button\" tabindex=\"-1\"><button type=\"button\" hidefocus=\"1\" tabindex=\"-1\">'+(i?'<i class=\"'+i+'\"'+r+\"></i>\":\"\")+a+'</button><button type=\"button\" class=\"'+n+'open\" hidefocus=\"1\" tabindex=\"-1\">'+(e._menuBtnText?(i?\"\\xa0\":\"\")+e._menuBtnText:\"\")+' <i class=\"'+n+'caret\"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on(\"click\",function(e){var n=e.target;if(e.control==this)for(;n;){if(e.aria&&\"down\"!=e.aria.key||\"BUTTON\"==n.nodeName&&n.className.indexOf(\"open\")==-1)return e.stopImmediatePropagation(),void(t&&t.call(this,e));n=n.parentNode}}),delete e.settings.onclick,e._super()}})}),r(rn,[Ht],function(e){return e.extend({Defaults:{containerClass:\"stack-layout\",controlClass:\"stack-layout-item\",endClass:\"break\"},isNative:function(){return!0}})}),r(on,[ke,g,ve],function(e,t,n){return e.extend({Defaults:{layout:\"absolute\",defaults:{type:\"panel\"}},activateTab:function(e){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),t(n).removeClass(this.classPrefix+\"active\"),n.setAttribute(\"aria-selected\",\"false\")),this.activeTabId=\"t\"+e,n=this.getEl(\"t\"+e),n.setAttribute(\"aria-selected\",\"true\"),t(n).addClass(this.classPrefix+\"active\"),this.items()[e].show().fire(\"showtab\"),this.reflow(),this.items().each(function(t,n){e!=n&&t.hide()})},renderHtml:function(){var e=this,t=e._layout,n=\"\",r=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,i){var o=e._id+\"-t\"+i;t.aria(\"role\",\"tabpanel\"),t.aria(\"labelledby\",o),n+='<div id=\"'+o+'\" class=\"'+r+'tab\" unselectable=\"on\" role=\"tab\" aria-controls=\"'+t._id+'\" aria-selected=\"false\" tabIndex=\"-1\">'+e.encode(t.settings.title)+\"</div>\"}),'<div id=\"'+e._id+'\" class=\"'+e.classes+'\" hidefocus=\"1\" tabindex=\"-1\"><div id=\"'+e._id+'-head\" class=\"'+r+'tabs\" role=\"tablist\">'+n+'</div><div id=\"'+e._id+'-body\" class=\"'+e.bodyClasses+'\">'+t.renderHtml(e)+\"</div></div>\"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on(\"click\",function(t){var n=t.target.parentNode;if(n&&n.id==e._id+\"-head\")for(var r=n.childNodes.length;r--;)n.childNodes[r]==t.target&&e.activateTab(r)})},initLayoutRect:function(){var e=this,t,r,i;r=n.getSize(e.getEl(\"head\")).width,r=r<0?0:r,i=0,e.items().each(function(e){r=Math.max(r,e.layoutRect().minW),i=Math.max(i,e.layoutRect().minH)}),e.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=r,e.settings.h=i,e.layoutRect({x:0,y:0,w:r,h:i})});var o=n.getSize(e.getEl(\"head\")).height;return e.settings.minWidth=r,e.settings.minHeight=i+o,t=e._super(),t.deltaH+=o,t.innerH=t.h-t.deltaH,t}})}),r(an,[Pe,m,ve],function(e,t,n){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add(\"textbox\"),e.multiline?t.classes.add(\"multiline\"):(t.on(\"keydown\",function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire(\"submit\",{data:n.toJSON()}))}),t.on(\"keyup\",function(e){t.state.set(\"value\",e.target.value)}))},repaint:function(){var e=this,t,n,r,i,o=0,a;t=e.getEl().style,n=e._layoutRect,a=e._lastRepaintRect||{};var s=document;return!e.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(t.lineHeight=n.h-o+\"px\"),r=e.borderBox,i=r.left+r.right+8,o=r.top+r.bottom+(e.settings.multiline?8:0),n.x!==a.x&&(t.left=n.x+\"px\",a.x=n.x),n.y!==a.y&&(t.top=n.y+\"px\",a.y=n.y),n.w!==a.w&&(t.width=n.w-i+\"px\",a.w=n.w),n.h!==a.h&&(t.height=n.h-o+\"px\",a.h=n.h),e._lastRepaintRect=a,e.fire(\"repaint\",{},!1),e},renderHtml:function(){var e=this,r=e.settings,i,o;return i={id:e._id,hidefocus:\"1\"},t.each([\"rows\",\"spellcheck\",\"maxLength\",\"size\",\"readonly\",\"min\",\"max\",\"step\",\"list\",\"pattern\",\"placeholder\",\"required\",\"multiple\"],function(e){i[e]=r[e]}),e.disabled()&&(i.disabled=\"disabled\"),r.subtype&&(i.type=r.subtype),o=n.create(r.multiline?\"textarea\":\"input\",i),o.value=e.state.get(\"value\"),o.className=e.classes,o.outerHTML},value:function(e){return arguments.length?(this.state.set(\"value\",e),this):(this.state.get(\"rendered\")&&this.state.set(\"value\",this.getEl().value),this.state.get(\"value\"))},postRender:function(){var e=this;e.getEl().value=e.state.get(\"value\"),e._super(),e.$el.on(\"change\",function(t){e.state.set(\"value\",t.target.value),e.fire(\"change\",t)})},bindStates:function(){var e=this;return e.state.on(\"change:value\",function(t){e.getEl().value!=t.value&&(e.getEl().value=t.value)}),e.state.on(\"change:disabled\",function(t){e.getEl().disabled=t.value}),e._super()},remove:function(){this.$el.off(),this._super()}})}),r(sn,[],function(){var e=this||window,t=function(){return e.tinymce};return\"function\"==typeof e.define&&(e.define.amd||e.define(\"ephox/tinymce\",[],t)),\"object\"==typeof module&&(module.exports=window.tinymce),{}}),a([l,u,c,d,f,p,m,g,v,y,C,w,E,N,T,A,B,D,L,M,P,O,I,F,j,Y,J,te,le,ue,ce,de,pe,me,ge,Ce,xe,we,Ee,Ne,_e,Se,ke,Te,Re,Ae,Be,De,Le,Me,Pe,Oe,He,Ie,Ue,Ve,at,st,lt,ut,dt,ft,pt,ht,mt,gt,vt,yt,bt,Ct,xt,wt,Et,Nt,_t,St,kt,Tt,Rt,At,Bt,Dt,Mt,Pt,Ot,Ht,Ft,zt,Ut,Wt,Vt,$t,qt,jt,Yt,Xt,Kt,Gt,Jt,Qt,Zt,en,tn,nn,rn,on,an])}(window);\n;!function(){var e={},t=function(t){for(var n=e[t],i=n.deps,o=n.defn,a=i.length,s=new Array(a),l=0;l<a;++l)s[l]=r(i[l]);var c=o.apply(null,s);if(void 0===c)throw\"module [\"+t+\"] returned undefined\";n.instance=c},n=function(t,n,r){if(\"string\"!=typeof t)throw\"module id must be a string\";if(void 0===n)throw\"no dependencies for \"+t;if(void 0===r)throw\"no definition function for \"+t;e[t]={deps:n,defn:r,instance:void 0}},r=function(n){var r=e[n];if(void 0===r)throw\"module [\"+n+\"] was undefined\";return void 0===r.instance&&t(n),r.instance},i=function(e,t){for(var n=e.length,i=new Array(n),o=0;o<n;++o)i.push(r(e[o]));t.apply(null,t)},o={};o.bolt={module:{api:{define:n,require:i,demand:r}}};var a=n,s=function(e,t){a(e,[],function(){return t})};s(\"1\",tinymce.Env),s(\"2\",tinymce.EditorManager),s(\"3\",tinymce.ThemeManager),s(\"8\",tinymce.util.Tools),s(\"9\",tinymce.ui.Factory),s(\"a\",tinymce.DOM),a(\"b\",[\"8\",\"9\"],function(e,t){var n=\"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image\",r=function(n,r,i){var o,a=[];if(r)return e.each(r.split(/[ ,]/),function(e){var r,s=function(){var t=n.selection;e.settings.stateSelector&&t.selectorChanged(e.settings.stateSelector,function(t){e.active(t)},!0),e.settings.disabledStateSelector&&t.selectorChanged(e.settings.disabledStateSelector,function(t){e.disabled(t)})};\"|\"==e?o=null:t.has(e)?(e={type:e,size:i},a.push(e),o=null):(o||(o={type:\"buttongroup\",items:[]},a.push(o)),n.buttons[e]&&(r=e,e=n.buttons[r],\"function\"==typeof e&&(e=e()),e.type=e.type||\"button\",e.size=i,e=t.create(e),o.items.push(e),n.initialized?s():n.on(\"init\",s)))}),{type:\"toolbar\",layout:\"flow\",items:a}},i=function(t,i){var o=[],a=t.settings,s=function(e){if(e)return o.push(r(t,e,i)),!0};if(e.isArray(a.toolbar)){if(0===a.toolbar.length)return;e.each(a.toolbar,function(e,t){a[\"toolbar\"+(t+1)]=e}),delete a.toolbar}for(var l=1;l<10&&s(a[\"toolbar\"+l]);l++);if(o.length||a.toolbar===!1||s(a.toolbar||n),o.length)return{type:\"panel\",layout:\"stack\",classes:\"toolbar-grp\",ariaRoot:!0,ariaRemember:!0,items:o}};return{createToolbar:r,createToolbars:i}}),a(\"c\",[\"8\"],function(e){var t={file:{title:\"File\",items:\"newdocument\"},edit:{title:\"Edit\",items:\"undo redo | cut copy paste pastetext | selectall\"},insert:{title:\"Insert\",items:\"|\"},view:{title:\"View\",items:\"visualaid |\"},format:{title:\"Format\",items:\"bold italic underline strikethrough superscript subscript | formats | removeformat\"},table:{title:\"Table\"},tools:{title:\"Tools\"}},n=function(e,t){var n;return\"|\"==t?{text:\"|\"}:n=e[t]},r=function(r,i,o){var a,s,l,c,u;if(u=e.makeMap((i.removed_menuitems||\"\").split(/[ ,]/)),i.menu?(s=i.menu[o],c=!0):s=t[o],s){a={text:s.title},l=[],e.each((s.items||\"\").split(/[ ,]/),function(e){var t=n(r,e);t&&!u[e]&&l.push(n(r,e))}),c||e.each(r,function(e){e.context==o&&(\"before\"==e.separator&&l.push({text:\"|\"}),e.prependToContext?l.unshift(e):l.push(e),\"after\"==e.separator&&l.push({text:\"|\"}))});for(var d=0;d<l.length;d++)\"|\"==l[d].text&&(0!==d&&d!=l.length-1||l.splice(d,1));if(a.menu=l,!a.menu.length)return null}return a},i=function(e){var n,i=[],o=e.settings,a=[];if(o.menu)for(n in o.menu)a.push(n);else for(n in t)a.push(n);for(var s=\"string\"==typeof o.menubar?o.menubar.split(/[ ,]/):a,l=0;l<s.length;l++){var c=s[l];c=r(e.menuItems,e.settings,c),c&&i.push(c)}return i};return{createMenuButtons:i}}),s(\"j\",tinymce.util.Delay),s(\"k\",tinymce.geom.Rect),a(\"d\",[\"a\",\"8\",\"j\",\"b\",\"9\",\"k\"],function(e,t,n,r,i,o){var a=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}},s=function(e){t.each(e.contextToolbars,function(e){e.panel&&e.panel.hide()})},l=function(e,t){e.moveTo(t.left,t.top)},c=function(e,n,r){n=n?n.substr(0,2):\"\",t.each({t:\"down\",b:\"up\"},function(t,i){e.classes.toggle(\"arrow-\"+t,r(i,n.substr(0,1)))}),t.each({l:\"left\",r:\"right\"},function(t,i){e.classes.toggle(\"arrow-\"+t,r(i,n.substr(1,1)))})},u=function(e,t,n,r,i,o){return o=a({x:t,y:n,w:o.w,h:o.h}),e&&(o=e({elementRect:a(r),contentAreaRect:a(i),panelRect:o})),o},d=function(a){var d,f=a.settings,p=function(){return a.contextToolbars||[]},m=function(t){var n,r,i;return n=e.getPos(a.getContentAreaContainer()),r=a.dom.getRect(t),i=a.dom.getRoot(),\"BODY\"===i.nodeName&&(r.x-=i.ownerDocument.documentElement.scrollLeft||i.scrollLeft,r.y-=i.ownerDocument.documentElement.scrollTop||i.scrollTop),r.x+=n.x,r.y+=n.y,r},g=function(t,n){var r,i,d,p,g,h,v,b,y=f.inline_toolbar_position_handler;if(!a.removed){if(!t||!t.toolbar.panel)return void s(a);v=[\"bc-tc\",\"tc-bc\",\"tl-bl\",\"bl-tl\",\"tr-br\",\"br-tr\"],g=t.toolbar.panel,n&&g.show(),d=m(t.element),i=e.getRect(g.getEl()),p=e.getRect(a.getContentAreaContainer()||a.getBody()),b=25,\"inline\"!==e.getStyle(t.element,\"display\",!0)&&(d.w=t.element.clientWidth,d.h=t.element.clientHeight),a.inline||(p.w=a.getDoc().documentElement.offsetWidth),a.selection.controlSelection.isResizable(t.element)&&d.w<b&&(d=o.inflate(d,0,8)),r=o.findBestRelativePosition(i,d,p,v),d=o.clamp(d,p),r?(h=o.relativePosition(i,d,r),l(g,u(y,h.x,h.y,d,p,i))):(p.h+=i.h,d=o.intersect(p,d),d?(r=o.findBestRelativePosition(i,d,p,[\"bc-tc\",\"bl-tl\",\"br-tr\"]),r?(h=o.relativePosition(i,d,r),l(g,u(y,h.x,h.y,d,p,i))):l(g,u(y,d.x,d.y,d,p,i))):g.hide()),c(g,r,function(e,t){return e===t})}},h=function(e){return function(){var t=function(){a.selection&&g(x(a.selection.getNode()),e)};n.requestAnimationFrame(t)}},v=function(){d||(d=a.selection.getScrollContainer()||a.getWin(),e.bind(d,\"scroll\",h(!0)),a.on(\"remove\",function(){e.unbind(d,\"scroll\")}))},b=function(e){var t;return e.toolbar.panel?(e.toolbar.panel.show(),void g(e)):(v(),t=i.create({type:\"floatpanel\",role:\"dialog\",classes:\"tinymce tinymce-inline arrow\",ariaLabel:\"Inline toolbar\",layout:\"flex\",direction:\"column\",align:\"stretch\",autohide:!1,autofix:!0,fixed:!0,border:1,items:r.createToolbar(a,e.toolbar.items),oncancel:function(){a.focus()}}),e.toolbar.panel=t,t.renderTo(document.body).reflow(),void g(e))},y=function(){t.each(p(),function(e){e.panel&&e.panel.hide()})},x=function(e){var t,n,r,i=p();for(r=a.$(e).parents().add(e),t=r.length-1;t>=0;t--)for(n=i.length-1;n>=0;n--)if(i[n].predicate(r[t]))return{toolbar:i[n],element:r[t]};return null};a.on(\"click keyup setContent ObjectResized\",function(e){(\"setcontent\"!==e.type||e.selection)&&n.setEditorTimeout(a,function(){var e;e=x(a.selection.getNode()),e?(y(),b(e)):y()})}),a.on(\"blur hide contextmenu\",y),a.on(\"ObjectResizeStart\",function(){var e=x(a.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.hide()}),a.on(\"ResizeEditor ResizeWindow\",h(!0)),a.on(\"nodeChange\",h(!1)),a.on(\"remove\",function(){t.each(p(),function(e){e.panel&&e.panel.remove()}),a.contextToolbars={}}),a.shortcuts.add(\"ctrl+shift+e > ctrl+shift+p\",\"\",function(){var e=x(a.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.items()[0].focus()})};return{addContextualToolbars:d}}),a(\"e\",[],function(){var e=function(e,t){return function(){var n=e.find(t)[0];n&&n.focus(!0)}},t=function(t,n){t.shortcuts.add(\"Alt+F9\",\"\",e(n,\"menubar\")),t.shortcuts.add(\"Alt+F10,F10\",\"\",e(n,\"toolbar\")),t.shortcuts.add(\"Alt+F11\",\"\",e(n,\"elementpath\")),n.on(\"cancel\",function(){t.focus()})};return{addKeys:t}}),a(\"f\",[\"8\",\"9\",\"1\"],function(e,t,n){var r=function(e){return{element:function(){return e}}},i=function(e,t,n){var i=e.settings[n];i&&i(r(t.getEl(\"body\")))},o=function(t,n,r){e.each(r,function(e){var r=n.items().filter(\"#\"+e.name)[0];r&&r.visible()&&e.name!==t&&(i(e,r,\"onhide\"),r.visible(!1))})},a=function(e){e.items().each(function(e){e.active(!1)})},s=function(t,n){return e.grep(t,function(e){return e.name===n})[0]},l=function(e,n,r){return function(l){var c=l.control,u=c.parents().filter(\"panel\")[0],d=u.find(\"#\"+n)[0],f=s(r,n);o(n,u,r),a(c.parent()),d&&d.visible()?(i(f,d,\"onhide\"),d.hide(),c.active(!1)):(d?(d.show(),i(f,d,\"onshow\")):(d=t.create({type:\"container\",name:n,layout:\"stack\",classes:\"sidebar-panel\",html:\"\"}),u.prepend(d),i(f,d,\"onrender\"),i(f,d,\"onshow\")),c.active(!0)),e.fire(\"ResizeEditor\")}},c=function(){return!n.ie||n.ie>=11},u=function(e){return!(!c()||!e.sidebars)&&e.sidebars.length>0},d=function(t){var n=e.map(t.sidebars,function(e){var n=e.settings;return{type:\"button\",icon:n.icon,image:n.image,tooltip:n.tooltip,onclick:l(t,e.name,t.sidebars)}});return{type:\"panel\",name:\"sidebar\",layout:\"stack\",classes:\"sidebar\",items:[{type:\"toolbar\",layout:\"stack\",classes:\"sidebar-toolbar\",items:n}]}};return{hasSidebar:u,createSidebar:d}}),a(\"g\",[],function(){var e=function(e){var t=function(){e._skinLoaded=!0,e.fire(\"SkinLoaded\")};return function(){e.initialized?t():e.on(\"init\",t)}};return{fireSkinLoaded:e}}),a(\"6\",[\"a\"],function(e){var t=function(e){return{width:e.clientWidth,height:e.clientHeight}},n=function(n,r,i){var o,a,s,l,c=n.settings;o=n.getContainer(),a=n.getContentAreaContainer().firstChild,s=t(o),l=t(a),null!==r&&(r=Math.max(c.min_width||100,r),r=Math.min(c.max_width||65535,r),e.setStyle(o,\"width\",r+(s.width-l.width)),e.setStyle(a,\"width\",r)),i=Math.max(c.min_height||100,i),i=Math.min(c.max_height||65535,i),e.setStyle(a,\"height\",i),n.fire(\"ResizeEditor\")},r=function(e,t,r){var i=e.getContentAreaContainer();n(e,i.clientWidth+t,i.clientHeight+r)};return{resizeTo:n,resizeBy:r}}),a(\"4\",[\"8\",\"9\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"6\"],function(e,t,n,r,i,o,a,s,l,c){var u=function(e){return function(t){e.find(\"*\").disabled(\"readonly\"===t.mode)}},d=function(e){return{type:\"panel\",name:\"iframe\",layout:\"stack\",classes:\"edit-area\",border:e,html:\"\"}},f=function(e){return{type:\"panel\",layout:\"stack\",classes:\"edit-aria-container\",border:\"1 0 0 0\",items:[d(\"0\"),s.createSidebar(e)]}},p=function(e,p,m){var g,h,v,b=e.settings;return m.skinUiCss&&n.styleSheetLoader.load(m.skinUiCss,l.fireSkinLoaded(e)),g=p.panel=t.create({type:\"panel\",role:\"application\",classes:\"tinymce\",style:\"visibility: hidden\",layout:\"stack\",border:1,items:[b.menubar===!1?null:{type:\"menubar\",border:\"0 0 1 0\",items:i.createMenuButtons(e)},r.createToolbars(e,b.toolbar_items_size),s.hasSidebar(e)?f(e):d(\"1 0 0 0\")]}),b.resize!==!1&&(h={type:\"resizehandle\",direction:b.resize,onResizeStart:function(){var t=e.getContentAreaContainer().firstChild;v={width:t.clientWidth,height:t.clientHeight}},onResize:function(t){\"both\"===b.resize?c.resizeTo(e,v.width+t.deltaX,v.height+t.deltaY):c.resizeTo(e,null,v.height+t.deltaY)}}),b.statusbar!==!1&&g.add({type:\"panel\",name:\"statusbar\",classes:\"statusbar\",layout:\"flow\",border:\"1 0 0 0\",ariaRoot:!0,items:[{type:\"elementpath\",editor:e},h]}),e.fire(\"BeforeRenderUI\"),e.on(\"SwitchMode\",u(g)),g.renderBefore(m.targetNode).reflow(),b.readonly&&e.setMode(\"readonly\"),b.width&&n.setStyle(g.getEl(),\"width\",b.width),e.on(\"remove\",function(){g.remove(),g=null}),a.addKeys(e,g),o.addContextualToolbars(e),{iframeContainer:g.find(\"#iframe\")[0].getEl(),editorContainer:g.getEl()}};return{render:p}}),s(\"h\",tinymce.ui.FloatPanel),a(\"5\",[\"8\",\"9\",\"a\",\"h\",\"b\",\"c\",\"d\",\"e\",\"g\"],function(e,t,n,r,i,o,a,s,l){var c=function(e,c,u){var d,f,p=e.settings;p.fixed_toolbar_container&&(f=n.select(p.fixed_toolbar_container)[0]);var m=function(){if(d&&d.moveRel&&d.visible()&&!d._fixed){var t=e.selection.getScrollContainer(),r=e.getBody(),i=0,o=0;if(t){var a=n.getPos(r),s=n.getPos(t);i=Math.max(0,s.x-a.x),o=Math.max(0,s.y-a.y)}d.fixed(!1).moveRel(r,e.rtl?[\"tr-br\",\"br-tr\"]:[\"tl-bl\",\"bl-tl\",\"tr-br\"]).moveBy(i,o)}},g=function(){d&&(d.show(),m(),n.addClass(e.getBody(),\"mce-edit-focus\"))},h=function(){d&&(d.hide(),r.hideAll(),n.removeClass(e.getBody(),\"mce-edit-focus\"))},v=function(){return d?void(d.visible()||g()):(d=c.panel=t.create({type:f?\"panel\":\"floatpanel\",role:\"application\",classes:\"tinymce tinymce-inline\",layout:\"flex\",direction:\"column\",align:\"stretch\",autohide:!1,autofix:!0,fixed:!!f,border:1,items:[p.menubar===!1?null:{type:\"menubar\",border:\"0 0 1 0\",items:o.createMenuButtons(e)},i.createToolbars(e,p.toolbar_items_size)]}),e.fire(\"BeforeRenderUI\"),d.renderTo(f||document.body).reflow(),s.addKeys(e,d),g(),a.addContextualToolbars(e),e.on(\"nodeChange\",m),e.on(\"activate\",g),e.on(\"deactivate\",h),void e.nodeChanged())};return p.content_editable=!0,e.on(\"focus\",function(){u.skinUiCss?n.styleSheetLoader.load(u.skinUiCss,v,v):v()}),e.on(\"blur hide\",h),e.on(\"remove\",function(){d&&(d.remove(),d=null)}),u.skinUiCss&&n.styleSheetLoader.load(u.skinUiCss,l.fireSkinLoaded(e)),{}};return{render:c}}),s(\"i\",tinymce.ui.Throbber),a(\"7\",[\"i\"],function(e){var t=function(t,n){var r;t.on(\"ProgressState\",function(t){r=r||new e(n.panel.getEl(\"body\")),t.state?r.show(t.time):r.hide()})};return{setup:t}}),a(\"0\",[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\"],function(e,t,n,r,i,o,a){var s=function(n,o,s){var l=n.settings,c=l.skin!==!1&&(l.skin||\"lightgray\");if(c){var u=l.skin_url;u=u?n.documentBaseURI.toAbsolute(u):t.baseURL+\"/skins/\"+c,e.documentMode<=7?s.skinUiCss=u+\"/skin.ie7.min.css\":s.skinUiCss=u+\"/skin.min.css\",n.contentCSS.push(u+\"/content\"+(n.inline?\".inline\":\"\")+\".min.css\")}return a.setup(n,o),l.inline?i.render(n,o,s):r.render(n,o,s)};return n.add(\"modern\",function(e){return{renderUI:function(t){return s(e,this,t)},resizeTo:function(t,n){return o.resizeTo(e,t,n)},resizeBy:function(t,n){return o.resizeBy(e,t,n)}}}),function(){}}),r(\"0\")()}();\n;tinymce.PluginManager.add(\"link\",function(e){function t(e){return e&&\"A\"===e.nodeName&&e.href}function n(e){return tinymce.util.Tools.grep(e,t).length>0}function r(t){return e.dom.getParent(t,\"a[href]\")}function i(){return r(e.selection.getStart())}function o(e){var t=e.getAttribute(\"data-mce-href\");return t?t:e.getAttribute(\"href\")}function a(){var t=e.plugins.contextmenu;return!!t&&t.isContextMenuVisible()}function s(n){var r,i,o;return!!(e.settings.link_context_toolbar&&!a()&&t(n)&&(r=e.selection,i=r.getRng(),o=i.startContainer,3==o.nodeType&&r.isCollapsed()&&i.startOffset>0&&i.startOffset<o.data.length))}function l(e,t){document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)}function c(e){if(!tinymce.Env.ie||tinymce.Env.ie>10){var t=document.createElement(\"a\");t.target=\"_blank\",t.href=e,t.rel=\"noreferrer noopener\";var n=document.createEvent(\"MouseEvents\");n.initMouseEvent(\"click\",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),l(t,n)}else{var r=window.open(\"\",\"_blank\");if(r){r.opener=null;var i=r.document;i.open(),i.write('<meta http-equiv=\"refresh\" content=\"0; url='+tinymce.DOM.encode(e)+'\">'),i.close()}}}function u(t){if(t){var n=o(t);if(/^#/.test(n)){var r=e.$(n);r.length&&e.selection.scrollIntoView(r[0],!0)}else c(t.href)}}function d(){u(i())}function f(){var t=this,r=function(e){n(e.parents)?t.show():t.hide()};n(e.dom.getParents(e.selection.getStart()))||t.hide(),e.on(\"nodechange\",r),t.on(\"remove\",function(){e.off(\"nodechange\",r)})}function p(t){return function(){var n=e.settings.link_list;\"string\"==typeof n?tinymce.util.XHR.send({url:n,success:function(e){t(tinymce.util.JSON.parse(e))}}):\"function\"==typeof n?n(t):t(n)}}function m(e,t,n){function r(e,n){return n=n||[],tinymce.each(e,function(e){var i={text:e.text||e.title};e.menu?i.menu=r(e.menu):(i.value=e.value,t&&t(i)),n.push(i)}),n}return r(e,n||[])}function g(t){function n(e){var t=d.find(\"#text\");(!t.value()||e.lastControl&&t.value()==e.lastControl.text())&&t.value(e.control.text()),d.find(\"#href\").value(e.control.value())}function r(t){var r=[];if(tinymce.each(e.dom.select(\"a:not([href])\"),function(e){var n=e.name||e.id;n&&r.push({text:n,value:\"#\"+n,selected:t.indexOf(\"#\"+n)!=-1})}),r.length)return r.unshift({text:\"None\",value:\"\"}),{name:\"anchor\",type:\"listbox\",label:\"Anchors\",values:r,onselect:n}}function i(){!u&&0===w.text.length&&f&&this.parent().parent().find(\"#text\")[0].value(this.value())}function o(t){var n=t.meta||{};g&&g.value(e.convertURL(this.value(),\"href\")),tinymce.each(t.meta,function(e,t){var n=d.find(\"#\"+t);\"text\"===t?0===u.length&&(n.value(e),w.text=e):n.value(e)}),n.attach&&(h={href:this.value(),attach:n.attach}),n.text||i.call(this)}function a(e){var t=N.getContent();if(/</.test(t)&&(!/^<a [^>]+>[^<]+<\\/a>$/.test(t)||t.indexOf(\"href=\")==-1))return!1;if(e){var n,r=e.childNodes;if(0===r.length)return!1;for(n=r.length-1;n>=0;n--)if(3!=r[n].nodeType)return!1}return!0}function s(e){e.meta=d.toJSON()}var l,c,u,d,f,p,g,v,b,y,x,C,w={},N=e.selection,k=e.dom;l=N.getNode(),c=k.getParent(l,\"a[href]\"),f=a(),w.text=u=c?c.innerText||c.textContent:N.getContent({format:\"text\"}),w.href=c?k.getAttrib(c,\"href\"):\"\",c?w.target=k.getAttrib(c,\"target\"):e.settings.default_link_target&&(w.target=e.settings.default_link_target),(C=k.getAttrib(c,\"rel\"))&&(w.rel=C),(C=k.getAttrib(c,\"class\"))&&(w[\"class\"]=C),(C=k.getAttrib(c,\"title\"))&&(w.title=C),f&&(p={name:\"text\",type:\"textbox\",size:40,label:\"Text to display\",onchange:function(){w.text=this.value()}}),t&&(g={type:\"listbox\",label:\"Link list\",values:m(t,function(t){t.value=e.convertURL(t.value||t.url,\"href\")},[{text:\"None\",value:\"\"}]),onselect:n,value:e.convertURL(w.href,\"href\"),onPostRender:function(){g=this}}),e.settings.target_list!==!1&&(e.settings.target_list||(e.settings.target_list=[{text:\"None\",value:\"\"},{text:\"New window\",value:\"_blank\"}]),b={name:\"target\",type:\"listbox\",label:\"Target\",values:m(e.settings.target_list)}),e.settings.rel_list&&(v={name:\"rel\",type:\"listbox\",label:\"Rel\",values:m(e.settings.rel_list)}),e.settings.link_class_list&&(y={name:\"class\",type:\"listbox\",label:\"Class\",values:m(e.settings.link_class_list,function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:\"a\",classes:[t.value]})})})}),e.settings.link_title!==!1&&(x={name:\"title\",type:\"textbox\",label:\"Title\",value:w.title}),d=e.windowManager.open({title:\"Insert link\",data:w,body:[{name:\"href\",type:\"filepicker\",filetype:\"file\",size:40,autofocus:!0,label:\"Url\",onchange:o,onkeyup:i,onbeforecall:s},p,x,r(w.href),g,v,b,y],onSubmit:function(t){function n(t,n){var r=e.selection.getRng();tinymce.util.Delay.setEditorTimeout(e,function(){e.windowManager.confirm(t,function(t){e.selection.setRng(r),n(t)})})}function r(e,t){function n(e){return e=r(e),e?[e,i].join(\" \"):i}function r(e){var t=new RegExp(\"(\"+i.replace(\" \",\"|\")+\")\",\"g\");return e&&(e=tinymce.trim(e.replace(t,\"\"))),e?e:null}var i=\"noopener noreferrer\";return t?n(e):r(e)}function i(){var t={href:a,target:w.target?w.target:null,rel:w.rel?w.rel:null,\"class\":w[\"class\"]?w[\"class\"]:null,title:w.title?w.title:null};e.settings.allow_unsafe_link_target||(t.rel=r(t.rel,\"_blank\"==t.target)),a===h.href&&(h.attach(),h={}),c?(e.focus(),f&&w.text!=u&&(\"innerText\"in c?c.innerText=w.text:c.textContent=w.text),k.setAttribs(c,t),N.select(c),e.undoManager.add()):f?e.insertContent(k.createHTML(\"a\",t,k.encode(w.text))):e.execCommand(\"mceInsertLink\",!1,t)}function o(){e.undoManager.transact(i)}var a;return w=tinymce.extend(w,t.data),(a=w.href)?a.indexOf(\"@\")>0&&a.indexOf(\"//\")==-1&&a.indexOf(\"mailto:\")==-1?void n(\"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?\",function(e){e&&(a=\"mailto:\"+a),o()}):e.settings.link_assume_external_targets&&!/^\\w+:/i.test(a)||!e.settings.link_assume_external_targets&&/^\\s*www[\\.|\\d\\.]/i.test(a)?void n(\"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?\",function(e){e&&(a=\"http://\"+a),o()}):void o():void e.execCommand(\"unlink\")}})}var h={},v=function(e){return e.altKey===!0&&e.shiftKey===!1&&e.ctrlKey===!1&&e.metaKey===!1};e.addButton(\"link\",{icon:\"link\",tooltip:\"Insert/edit link\",shortcut:\"Meta+K\",onclick:p(g),stateSelector:\"a[href]\"}),e.addButton(\"unlink\",{icon:\"unlink\",tooltip:\"Remove link\",cmd:\"unlink\",stateSelector:\"a[href]\"}),e.addContextToolbar&&(e.addButton(\"openlink\",{icon:\"newtab\",tooltip:\"Open link\",onclick:d}),e.addContextToolbar(s,\"openlink | link unlink\")),e.addShortcut(\"Meta+K\",\"\",p(g)),e.addCommand(\"mceLink\",p(g)),e.on(\"click\",function(e){var t=r(e.target);t&&tinymce.util.VK.metaKeyPressed(e)&&(e.preventDefault(),u(t))}),e.on(\"keydown\",function(e){var t=i();t&&13===e.keyCode&&v(e)&&(e.preventDefault(),u(t))}),this.showDialog=g,e.addMenuItem(\"openlink\",{text:\"Open link\",icon:\"newtab\",onclick:d,onPostRender:f,prependToContext:!0}),e.addMenuItem(\"link\",{icon:\"link\",text:\"Link\",shortcut:\"Meta+K\",onclick:p(g),stateSelector:\"a[href]\",context:\"insert\",prependToContext:!0})});\n;!function(e,t){\"use strict\";function n(e,t){for(var n,r=[],o=0;o<e.length;++o){if(n=a[e[o]]||i(e[o]),!n)throw\"module definition dependecy not found: \"+e[o];r.push(n)}t.apply(null,r)}function r(e,r,i){if(\"string\"!=typeof e)throw\"invalid module definition, module id must be defined and be a string\";if(r===t)throw\"invalid module definition, dependencies must be specified\";if(i===t)throw\"invalid module definition, definition function must be specified\";n(r,function(){a[e]=i.apply(null,arguments)})}function i(t){for(var n=e,r=t.split(/[.\\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}function o(n){var r,i,o,s,l;for(r=0;r<n.length;r++){i=e,o=n[r],s=o.split(/[.\\/]/);for(var c=0;c<s.length-1;++c)i[s[c]]===t&&(i[s[c]]={}),i=i[s[c]];i[s[s.length-1]]=a[o]}if(e.AMDLC_TESTS){l=e.privateModules||{};for(o in a)l[o]=a[o];for(r=0;r<n.length;r++)delete l[n[r]];e.privateModules=l}}var a={};r(\"tinymce/pasteplugin/Utils\",[\"tinymce/util/Tools\",\"tinymce/html/DomParser\",\"tinymce/html/Schema\"],function(e,t,n){function r(t,n){return e.each(n,function(e){t=e.constructor==RegExp?t.replace(e,\"\"):t.replace(e[0],e[1])}),t}function i(i){function o(e){var t=e.name,n=e;if(\"br\"===t)return void(l+=\"\\n\");if(c[t]&&(l+=\" \"),u[t])return void(l+=\" \");if(3==e.type&&(l+=e.value),!e.shortEnded&&(e=e.firstChild))do o(e);while(e=e.next);d[t]&&n.next&&(l+=\"\\n\",\"p\"==t&&(l+=\"\\n\"))}var a=new n,s=new t({},a),l=\"\",c=a.getShortEndedElements(),u=e.makeMap(\"script noscript style textarea video audio iframe object\",\" \"),d=a.getBlockElements();return i=r(i,[/<!\\[[^\\]]+\\]>/g]),o(s.parse(i)),l}function o(e){function t(e,t,n){return t||n?\"\\xa0\":\" \"}return e=r(s(e),[/^[\\s\\S]*<body[^>]*>\\s*|\\s*<\\/body[^>]*>[\\s\\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class=\"Apple-converted-space\">\\u00a0<\\/span>( ?)/g,t],/<br class=\"Apple-interchange-newline\">/g,/<br>$/i])}function a(e){var t=0;return function(){return e+t++}}var s=function(e){var t=\"<!--StartFragment-->\",n=\"<!--EndFragment-->\",r=e.indexOf(t);if(r!==-1){var i=e.substr(r+t.length),o=i.indexOf(n);if(o!==-1&&/^<\\/(p|h[1-6]|li)>/i.test(i.substr(o+n.length,5)))return i.substr(0,o)}return e};return{filter:r,innerText:i,trimHtml:o,createIdGenerator:a}}),r(\"tinymce/pasteplugin/SmartPaste\",[\"tinymce/util/Tools\"],function(e){var t=function(e){return/^https?:\\/\\/[\\w\\?\\-\\/+=.&%@~#]+$/i.test(e)},n=function(e){return t(e)&&/.(gif|jpe?g|png)$/.test(e)},r=function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.insertContent('<img src=\"'+t+'\">')}),!0},i=function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.execCommand(\"mceInsertLink\",!1,t)}),!0},o=function(e,n,r){return!(e.selection.isCollapsed()!==!1||!t(n))&&i(e,n,r)},a=function(e,t,i){return!!n(t)&&r(e,t,i)},s=function(e,t){return e.insertContent(t,{merge:e.settings.paste_merge_formats!==!1,paste:!0}),!0},l=function(t,n){e.each([o,a,s],function(e){return e(t,n,s)!==!0})},c=function(e,t){e.settings.smart_paste===!1?s(e,t):l(e,t)};return{isImageUrl:n,isAbsoluteUrl:t,insertContent:c}}),r(\"tinymce/pasteplugin/Clipboard\",[\"tinymce/Env\",\"tinymce/dom/RangeUtils\",\"tinymce/util/VK\",\"tinymce/pasteplugin/Utils\",\"tinymce/pasteplugin/SmartPaste\",\"tinymce/util/Delay\"],function(e,t,n,r,i,o){return function(a){function s(e){var t,n=a.dom;if(t=a.fire(\"BeforePastePreProcess\",{content:e}),t=a.fire(\"PastePreProcess\",t),e=t.content,!t.isDefaultPrevented()){if(a.hasEventListeners(\"PastePostProcess\")&&!t.isDefaultPrevented()){var r=n.add(a.getBody(),\"div\",{style:\"display:none\"},e);t=a.fire(\"PastePostProcess\",{node:r}),n.remove(r),e=t.node.innerHTML}t.isDefaultPrevented()||i.insertContent(a,e)}}function l(e){e=a.dom.encode(e).replace(/\\r\\n/g,\"\\n\");var t,n=a.dom.getParent(a.selection.getStart(),a.dom.isBlock),i=a.settings.forced_root_block;i&&(t=a.dom.createHTML(i,a.settings.forced_root_block_attrs),t=t.substr(0,t.length-3)+\">\"),n&&/^(PRE|DIV)$/.test(n.nodeName)||!i?e=r.filter(e,[[/\\n/g,\"<br>\"]]):(e=r.filter(e,[[/\\n\\n/g,\"</p>\"+t],[/^(.*<\\/p>)(<p>)$/,t+\"$1\"],[/\\n/g,\"<br />\"]]),e.indexOf(\"<p>\")!=-1&&(e=t+e)),s(e)}function c(){function t(e){var t,n,i,o=e.startContainer;if(t=e.getClientRects(),t.length)return t[0];if(e.collapsed&&1==o.nodeType){for(i=o.childNodes[S.startOffset];i&&3==i.nodeType&&!i.data.length;)i=i.nextSibling;if(i)return\"BR\"==i.tagName&&(n=r.doc.createTextNode(\"\\ufeff\"),i.parentNode.insertBefore(n,i),e=r.createRng(),e.setStartBefore(n),e.setEndAfter(n),t=e.getClientRects(),r.remove(n)),t.length?t[0]:void 0}}var n,r=a.dom,i=a.getBody(),o=a.dom.getViewPort(a.getWin()),s=o.y,l=20;if(S=a.selection.getRng(),a.inline&&(n=a.selection.getScrollContainer(),n&&n.scrollTop>0&&(s=n.scrollTop)),S.getClientRects){var c=t(S);if(c)l=s+(c.top-r.getPos(i).y);else{l=s;var u=S.startContainer;u&&(3==u.nodeType&&u.parentNode!=i&&(u=u.parentNode),1==u.nodeType&&(l=r.getPos(u,n||i).y))}}k=r.add(a.getBody(),\"div\",{id:\"mcepastebin\",contentEditable:!0,\"data-mce-bogus\":\"all\",style:\"position: absolute; top: \"+l+\"px;width: 10px; height: 10px; overflow: hidden; opacity: 0\"},A),(e.ie||e.gecko)&&r.setStyle(k,\"left\",\"rtl\"==r.getStyle(i,\"direction\",!0)?65535:-65535),r.bind(k,\"beforedeactivate focusin focusout\",function(e){e.stopPropagation()}),k.focus(),a.selection.select(k,!0)}function u(){if(k){for(var e;e=a.dom.get(\"mcepastebin\");)a.dom.remove(e),a.dom.unbind(e);S&&a.selection.setRng(S)}k=S=null}function d(){var e,t,n,r,i=\"\";for(e=a.dom.select(\"div[id=mcepastebin]\"),t=0;t<e.length;t++)n=e[t],n.firstChild&&\"mcepastebin\"==n.firstChild.id&&(n=n.firstChild),r=n.innerHTML,i!=A&&(i+=r);return i}function f(e){var t={};if(e){if(e.getData){var n=e.getData(\"Text\");n&&n.length>0&&n.indexOf(B)==-1&&(t[\"text/plain\"]=n)}if(e.types)for(var r=0;r<e.types.length;r++){var i=e.types[r];t[i]=e.getData(i)}}return t}function p(e){return f(e.clipboardData||a.getDoc().dataTransfer)}function m(e){return C(e,\"text/html\")||C(e,\"text/plain\")}function g(e){var t;return t=e.indexOf(\",\"),t!==-1?e.substr(t+1):null}function h(e,t){return!e.images_dataimg_filter||e.images_dataimg_filter(t)}function v(e,t,n){e&&(a.selection.setRng(e),e=null);var r=t.result,i=g(r),o=new Image;if(o.src=r,h(a.settings,o)){var l,c,u=a.editorUpload.blobCache;c=u.findFirst(function(e){return e.base64()===i}),c?l=c:(l=u.create(P(),n,i),u.add(l)),s('<img src=\"'+l.blobUri()+'\">')}else s('<img src=\"'+r+'\">')}function b(e,t){function n(n){var r,i,o,a=!1;if(n)for(r=0;r<n.length;r++)if(i=n[r],/^image\\/(jpeg|png|gif|bmp)$/.test(i.type)){var s=i.getAsFile?i.getAsFile():i;o=new FileReader,o.onload=v.bind(null,t,o,s),o.readAsDataURL(s),e.preventDefault(),a=!0}return a}var r=e.clipboardData||e.dataTransfer;if(a.settings.paste_data_images&&r)return n(r.items)||n(r.files)}function y(e){var t=e.clipboardData;return navigator.userAgent.indexOf(\"Android\")!=-1&&t&&t.items&&0===t.items.length}function x(e){return t.getCaretRangeFromPoint(e.clientX,e.clientY,a.getDoc())}function C(e,t){return t in e&&e[t].length>0}function w(e){return n.metaKeyPressed(e)&&86==e.keyCode||e.shiftKey&&45==e.keyCode}function N(){function t(e,t,n){var i;return C(e,\"text/html\")?i=e[\"text/html\"]:(i=d(),i==A&&(n=!0)),i=r.trimHtml(i),k&&k.firstChild&&\"mcepastebin\"===k.firstChild.id&&(n=!0),u(),i.length||(n=!0),n&&(i=C(e,\"text/plain\")&&i.indexOf(\"</p>\")==-1?e[\"text/plain\"]:r.innerText(i)),i==A?void(t||a.windowManager.alert(\"Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.\")):void(n?l(i):s(i))}function n(e){var t=e[\"text/plain\"];return!!t&&0===t.indexOf(\"file://\")}a.on(\"keydown\",function(t){function n(e){w(e)&&!e.isDefaultPrevented()&&u()}if(w(t)&&!t.isDefaultPrevented()){if(_=t.shiftKey&&86==t.keyCode,_&&e.webkit&&navigator.userAgent.indexOf(\"Version/\")!=-1)return;if(t.stopImmediatePropagation(),T=(new Date).getTime(),e.ie&&_)return t.preventDefault(),void a.fire(\"paste\",{ieFake:!0});u(),c(),a.once(\"keyup\",n),a.once(\"paste\",function(){a.off(\"keyup\",n)})}});var i=function(){return S||a.selection.getRng()};a.on(\"paste\",function(n){var r=(new Date).getTime(),s=p(n),l=(new Date).getTime()-r,f=(new Date).getTime()-T-l<1e3,g=\"text\"==E.pasteFormat||_;return _=!1,n.isDefaultPrevented()||y(n)?void u():!m(s)&&b(n,i())?void u():(f||n.preventDefault(),!e.ie||f&&!n.ieFake||(c(),a.dom.bind(k,\"paste\",function(e){e.stopPropagation()}),a.getDoc().execCommand(\"Paste\",!1,null),s[\"text/html\"]=d()),void(C(s,\"text/html\")?(n.preventDefault(),t(s,f,g)):o.setEditorTimeout(a,function(){t(s,f,g)},0)))}),a.on(\"dragstart dragend\",function(e){R=\"dragstart\"==e.type}),a.on(\"drop\",function(e){var t,i;if(i=x(e),!e.isDefaultPrevented()&&!R&&(t=f(e.dataTransfer),(m(t)&&!n(t)||!b(e,i))&&i&&a.settings.paste_filter_drop!==!1)){var c=t[\"mce-internal\"]||t[\"text/html\"]||t[\"text/plain\"];c&&(e.preventDefault(),o.setEditorTimeout(a,function(){a.undoManager.transact(function(){t[\"mce-internal\"]&&a.execCommand(\"Delete\"),a.selection.setRng(i),c=r.trimHtml(c),t[\"text/html\"]?s(c):l(c)})}))}}),a.on(\"dragover dragend\",function(e){a.settings.paste_data_images&&e.preventDefault()})}var k,S,_,E=this,T=0,R=!1,A=\"%MCEPASTEBIN%\",B=\"data:text/mce-internal,\",P=r.createIdGenerator(\"mceclip\");E.pasteHtml=s,E.pasteText=l,E.pasteImageData=b,a.on(\"preInit\",function(){N(),a.parser.addNodeFilter(\"img\",function(t,n,r){function i(e){return e.data&&e.data.paste===!0}function o(t){t.attr(\"data-mce-object\")||u===e.transparentSrc||t.remove()}function s(e){return 0===e.indexOf(\"webkit-fake-url\")}function l(e){return 0===e.indexOf(\"data:\")}if(!a.settings.paste_data_images&&i(r))for(var c=t.length;c--;){var u=t[c].attributes.map.src;u&&(s(u)?o(t[c]):!a.settings.allow_html_data_urls&&l(u)&&o(t[c]))}})})}}),r(\"tinymce/pasteplugin/WordFilter\",[\"tinymce/util/Tools\",\"tinymce/html/DomParser\",\"tinymce/html/Schema\",\"tinymce/html/Serializer\",\"tinymce/html/Node\",\"tinymce/pasteplugin/Utils\"],function(e,t,n,r,i,o){function a(e){return/<font face=\"Times New Roman\"|class=\"?Mso|style=\"[^\"]*\\bmso-|style='[^'']*\\bmso-|w:WordDocument/i.test(e)||/class=\"OutlineElement/.test(e)||/id=\"?docs\\-internal\\-guid\\-/.test(e)}function s(t){var n,r;return r=[/^[IVXLMCD]{1,2}\\.[ \\u00a0]/,/^[ivxlmcd]{1,2}\\.[ \\u00a0]/,/^[a-z]{1,2}[\\.\\)][ \\u00a0]/,/^[A-Z]{1,2}[\\.\\)][ \\u00a0]/,/^[0-9]+\\.[ \\u00a0]/,/^[\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d]+\\.[ \\u00a0]/,/^[\\u58f1\\u5f10\\u53c2\\u56db\\u4f0d\\u516d\\u4e03\\u516b\\u4e5d\\u62fe]+\\.[ \\u00a0]/],t=t.replace(/^[\\u00a0 ]+/,\"\"),e.each(r,function(e){if(e.test(t))return n=!0,!1}),n}function l(e){return/^[\\s\\u00a0]*[\\u2022\\u00b7\\u00a7\\u25CF]\\s*/.test(e)}function c(c){var u=c.settings;c.on(\"BeforePastePreProcess\",function(d){function f(e){function t(e){var n=\"\";if(3===e.type)return e.value;if(e=e.firstChild)do n+=t(e);while(e=e.next);return n}function n(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,\"\"),!1;if(e=e.firstChild)do if(!n(e,t))return!1;while(e=e.next);return!0}function r(e){if(e._listIgnore)return void e.remove();if(e=e.firstChild)do r(e);while(e=e.next)}function o(e,t,o){var s=e._listLevel||u;s!=u&&(s<u?a&&(a=a.parent.parent):(c=a,a=null)),a&&a.name==t?a.append(e):(c=c||a,a=new i(t,1),o>1&&a.attr(\"start\",\"\"+o),e.wrap(a)),e.name=\"li\",s>u&&c&&c.lastChild.append(a),u=s,r(e),n(e,/^\\u00a0+/),n(e,/^\\s*([\\u2022\\u00b7\\u00a7\\u25CF]|\\w+\\.)/),n(e,/^\\u00a0+/)}for(var a,c,u=1,d=[],f=e.firstChild;\"undefined\"!=typeof f&&null!==f;)if(d.push(f),f=f.walk(),null!==f)for(;\"undefined\"!=typeof f&&f.parent!==e;)f=f.walk();for(var p=0;p<d.length;p++)if(e=d[p],\"p\"==e.name&&e.firstChild){var m=t(e);if(l(m)){o(e,\"ul\");continue}if(s(m)){var g=/([0-9]+)\\./.exec(m),h=1;g&&(h=parseInt(g[1],10)),o(e,\"ol\",h);continue}if(e._listLevel){o(e,\"ul\",1);continue}a=null}else c=a,a=null}function p(t,n){var r,o={},a=c.dom.parseStyle(n);return e.each(a,function(e,i){switch(i){case\"mso-list\":r=/\\w+ \\w+([0-9]+)/i.exec(n),r&&(t._listLevel=parseInt(r[1],10)),/Ignore/i.test(e)&&t.firstChild&&(t._listIgnore=!0,t.firstChild._listIgnore=!0);break;case\"horiz-align\":i=\"text-align\";break;case\"vert-align\":i=\"vertical-align\";break;case\"font-color\":case\"mso-foreground\":i=\"color\";break;case\"mso-background\":case\"mso-highlight\":i=\"background\";break;case\"font-weight\":case\"font-style\":return void(\"normal\"!=e&&(o[i]=e));case\"mso-element\":if(/^(comment|comment-list)$/i.test(e))return void t.remove()}return 0===i.indexOf(\"mso-comment\")?void t.remove():void(0!==i.indexOf(\"mso-\")&&(\"all\"==m||g&&g[i])&&(o[i]=e))}),/(bold)/i.test(o[\"font-weight\"])&&(delete o[\"font-weight\"],t.wrap(new i(\"b\",1))),/(italic)/i.test(o[\"font-style\"])&&(delete o[\"font-style\"],t.wrap(new i(\"i\",1))),o=c.dom.serializeStyle(o,t.name),o?o:null}var m,g,h=d.content;if(h=h.replace(/<b[^>]+id=\"?docs-internal-[^>]*>/gi,\"\"),h=h.replace(/<br class=\"?Apple-interchange-newline\"?>/gi,\"\"),m=u.paste_retain_style_properties,m&&(g=e.makeMap(m.split(/[, ]/))),u.paste_enable_default_filters!==!1&&a(d.content)){d.wordContent=!0,h=o.filter(h,[/<!--[\\s\\S]+?-->/gi,/<(!|script[^>]*>.*?<\\/script(?=[>\\s])|\\/?(\\?xml(:\\w+)?|img|meta|link|style|\\w:\\w+)(?=[\\s\\/>]))[^>]*>/gi,[/<(\\/?)s>/gi,\"<$1strike>\"],[/&nbsp;/gi,\"\\xa0\"],[/<span\\s+style\\s*=\\s*\"\\s*mso-spacerun\\s*:\\s*yes\\s*;?\\s*\"\\s*>([\\s\\u00a0]*)<\\/span>/gi,function(e,t){return t.length>0?t.replace(/./,\" \").slice(Math.floor(t.length/2)).split(\"\").join(\"\\xa0\"):\"\"}]]);var v=u.paste_word_valid_elements;v||(v=\"-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody\");var b=new n({valid_elements:v,valid_children:\"-li[p]\"});e.each(b.elements,function(e){e.attributes[\"class\"]||(e.attributes[\"class\"]={},e.attributesOrder.push(\"class\")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push(\"style\"))});var y=new t({},b);y.addAttributeFilter(\"style\",function(e){for(var t,n=e.length;n--;)t=e[n],t.attr(\"style\",p(t,t.attr(\"style\"))),\"span\"==t.name&&t.parent&&!t.attributes.length&&t.unwrap()}),y.addAttributeFilter(\"class\",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.attr(\"class\"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr(\"class\",null)}),y.addNodeFilter(\"del\",function(e){for(var t=e.length;t--;)e[t].remove()}),y.addNodeFilter(\"a\",function(e){for(var t,n,r,i=e.length;i--;)if(t=e[i],n=t.attr(\"href\"),r=t.attr(\"name\"),n&&n.indexOf(\"#_msocom_\")!=-1)t.remove();else if(n&&0===n.indexOf(\"file://\")&&(n=n.split(\"#\")[1],n&&(n=\"#\"+n)),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()});var x=y.parse(h);u.paste_convert_word_fake_lists!==!1&&f(x),d.content=new r({validate:u.validate},b).serialize(x)}})}return c.isWordContent=a,c}),r(\"tinymce/pasteplugin/Quirks\",[\"tinymce/Env\",\"tinymce/util/Tools\",\"tinymce/pasteplugin/WordFilter\",\"tinymce/pasteplugin/Utils\"],function(e,t,n,r){return function(i){function o(e){i.on(\"BeforePastePreProcess\",function(t){t.content=e(t.content)})}function a(e){i.on(\"PastePostProcess\",function(t){e(t.node)})}function s(e){if(!n.isWordContent(e))return e;var o=[];t.each(i.schema.getBlockElements(),function(e,t){o.push(t)});var a=new RegExp(\"(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*(<\\\\/?(\"+o.join(\"|\")+\")[^>]*>)(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*\",\"g\");return e=r.filter(e,[[a,\"$1\"]]),e=r.filter(e,[[/<br><br>/g,\"<BR><BR>\"],[/<br>/g,\" \"],[/<BR><BR>/g,\"<br>\"]])}function l(e){if(n.isWordContent(e))return e;var t=i.settings.paste_webkit_styles;if(i.settings.paste_remove_styles_if_webkit===!1||\"all\"==t)return e;if(t&&(t=t.split(/[, ]/)),t){var r=i.dom,o=i.selection.getNode();e=e.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi,function(e,n,i,a){var s=r.parseStyle(i,\"span\"),l={};if(\"none\"===t)return n+a;for(var c=0;c<t.length;c++){var u=s[t[c]],d=r.getStyle(o,t[c],!0);/color/.test(t[c])&&(u=r.toHex(u),d=r.toHex(d)),d!=u&&(l[t[c]]=u)}return l=r.serializeStyle(l,\"span\"),l?n+' style=\"'+l+'\"'+a:n+a})}else e=e.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi,\"$1$3\");return e=e.replace(/(<[^>]+) data-mce-style=\"([^\"]+)\"([^>]*>)/gi,function(e,t,n,r){return t+' style=\"'+n+'\"'+r})}function c(e){i.$(\"a\",e).find(\"font,u\").each(function(e,t){i.dom.remove(t,!0)})}e.webkit&&o(l),e.ie&&(o(s),a(c))}}),r(\"tinymce/pasteplugin/Plugin\",[\"tinymce/PluginManager\",\"tinymce/pasteplugin/Clipboard\",\"tinymce/pasteplugin/WordFilter\",\"tinymce/pasteplugin/Quirks\"],function(e,t,n,r){var i;e.add(\"paste\",function(o){function a(){return i||o.settings.paste_plaintext_inform===!1}function s(){if(\"text\"==c.pasteFormat)c.pasteFormat=\"html\",o.fire(\"PastePlainTextToggle\",{state:!1});else if(c.pasteFormat=\"text\",o.fire(\"PastePlainTextToggle\",{state:!0}),!a()){var e=o.translate(\"Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.\");o.notificationManager.open({text:e,type:\"info\"}),i=!0}o.focus()}function l(){var e=this;e.active(\"text\"===c.pasteFormat),o.on(\"PastePlainTextToggle\",function(t){e.active(t.state)})}var c,u=this,d=o.settings;return/(^|[ ,])powerpaste([, ]|$)/.test(d.plugins)&&e.get(\"powerpaste\")?void(\"undefined\"!=typeof console&&console.log&&console.log(\"PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.\")):(u.clipboard=c=new t(o),u.quirks=new r(o),u.wordFilter=new n(o),o.settings.paste_as_text&&(u.clipboard.pasteFormat=\"text\"),d.paste_preprocess&&o.on(\"PastePreProcess\",function(e){d.paste_preprocess.call(u,u,e)}),d.paste_postprocess&&o.on(\"PastePostProcess\",function(e){d.paste_postprocess.call(u,u,e)}),o.addCommand(\"mceInsertClipboardContent\",function(e,t){t.content&&u.clipboard.pasteHtml(t.content),t.text&&u.clipboard.pasteText(t.text)}),o.settings.paste_block_drop&&o.on(\"dragend dragover draggesture dragdrop drop drag\",function(e){e.preventDefault(),e.stopPropagation()}),o.settings.paste_data_images||o.on(\"drop\",function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()}),o.addCommand(\"mceTogglePlainTextPaste\",s),o.addButton(\"pastetext\",{icon:\"pastetext\",tooltip:\"Paste as text\",onclick:s,onPostRender:l}),void o.addMenuItem(\"pastetext\",{text:\"Paste as text\",selectable:!0,active:c.pasteFormat,onclick:s,onPostRender:l}))})}),o([\"tinymce/pasteplugin/Utils\"])}(window);\n;!function(e,t){\"use strict\";function n(e,t){for(var n,r=[],a=0;a<e.length;++a){if(n=o[e[a]]||i(e[a]),!n)throw\"module definition dependecy not found: \"+e[a];r.push(n)}t.apply(null,r)}function r(e,r,i){if(\"string\"!=typeof e)throw\"invalid module definition, module id must be defined and be a string\";if(r===t)throw\"invalid module definition, dependencies must be specified\";if(i===t)throw\"invalid module definition, definition function must be specified\";n(r,function(){o[e]=i.apply(null,arguments)})}function i(t){for(var n=e,r=t.split(/[.\\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}var o={};r(\"tinymce/tableplugin/Utils\",[\"tinymce/Env\"],function(e){function t(t){(!e.ie||e.ie>9)&&(t.hasChildNodes()||(t.innerHTML='<br data-mce-bogus=\"1\" />'))}var n=function(e){return function(t,n){t&&(n=parseInt(n,10),1===n||0===n?t.removeAttribute(e,1):t.setAttribute(e,n,1))}},r=function(e){return function(t){return parseInt(t.getAttribute(e)||1,10)}};return{setColSpan:n(\"colSpan\"),setRowSpan:n(\"rowspan\"),getColSpan:r(\"colSpan\"),getRowSpan:r(\"rowSpan\"),setSpanVal:function(e,t,r){n(t)(e,r)},getSpanVal:function(e,t){return r(t)(e)},paddCell:t}}),r(\"tinymce/tableplugin/SplitCols\",[\"tinymce/util/Tools\",\"tinymce/tableplugin/Utils\"],function(e,t){var n=function(e,t,n){return e[n]?e[n][t]:null},r=function(e,t,r){var i=n(e,t,r);return i?i.elm:null},i=function(e,t,i,o){var a,s,l=0,c=r(e,t,i);for(a=i;(o>0?a<e.length:a>=0)&&(s=n(e,t,a),c===s.elm);a+=o)l++;return l},o=function(e,t,n){for(var r,i=e[n],o=t;o<i.length;o++)if(r=i[o],r.real)return r.elm;return null},a=function(e,n){for(var r,o=[],a=e[n],s=0;s<a.length;s++)r=a[s],o.push({elm:r.elm,above:i(e,s,n,-1)-1,below:i(e,s,n,1)-1}),s+=t.getColSpan(r.elm)-1;return o},s=function(e,n){var r=e.elm.ownerDocument,i=r.createElement(\"td\");return t.setColSpan(i,t.getColSpan(e.elm)),t.setRowSpan(i,n),t.paddCell(i),i},l=function(e,t,n,r){var i=o(e,n+1,r);i?i.parentNode.insertBefore(t,i):(i=o(e,0,r),i.parentNode.appendChild(t))},c=function(e,n,r,i){if(0!==n.above){t.setRowSpan(n.elm,n.above);var o=s(n,n.below+1);return l(e,o,r,i),o}return null},u=function(e,n,r,i){if(0!==n.below){t.setRowSpan(n.elm,n.above+1);var o=s(n,n.below);return l(e,o,r,i+1),o}return null},d=function(t,n,i,o){var s=a(t,i),l=r(t,n,i).parentNode,d=[];return e.each(s,function(e,n){var r=o?c(t,e,n,i):u(t,e,n,i);null!==r&&d.push(d)}),{cells:d,row:l}};return{splitAt:d}}),r(\"tinymce/tableplugin/TableGrid\",[\"tinymce/util/Tools\",\"tinymce/Env\",\"tinymce/tableplugin/Utils\",\"tinymce/tableplugin/SplitCols\"],function(e,n,r,i){var o=e.each,a=r.getSpanVal,s=r.setSpanVal;return function(l,c,u){function d(){l.$(\"td[data-mce-selected],th[data-mce-selected]\").removeAttr(\"data-mce-selected\")}function f(e){return e===l.getBody()}function p(t,n){return t?(n=e.map(n.split(\",\"),function(e){return e.toLowerCase()}),e.grep(t.childNodes,function(t){return e.inArray(n,t.nodeName.toLowerCase())!==-1})):[]}function m(){var e=0;Z=[],Q=0,o([\"thead\",\"tbody\",\"tfoot\"],function(t){var n=p(c,t)[0],r=p(n,\"tr\");o(r,function(n,r){r+=e,o(p(n,\"td,th\"),function(e,n){var i,o,s,l;if(Z[r])for(;Z[r][n];)n++;for(s=a(e,\"rowspan\"),l=a(e,\"colspan\"),o=r;o<r+s;o++)for(Z[o]||(Z[o]=[]),i=n;i<n+l;i++)Z[o][i]={part:t,real:o==r&&i==n,elm:e,rowspan:s,colspan:l};Q=Math.max(Q,n+1)})}),e+=r.length})}function g(e){return l.fire(\"newrow\",{node:e}),e}function h(e){return l.fire(\"newcell\",{node:e}),e}function v(e,t){return e=e.cloneNode(t),e.removeAttribute(\"id\"),e}function b(e,t){var n;if(n=Z[t])return n[e]}function y(e,t){return e[t]?e[t]:null}function x(e,t){for(var n=[],r=0;r<e.length;r++)n.push(b(t,r));return n}function C(e){return e&&(!!re.getAttrib(e.elm,\"data-mce-selected\")||e==u)}function w(){var e=[];return o(c.rows,function(t){o(t.cells,function(n){if(re.getAttrib(n,\"data-mce-selected\")||u&&n==u.elm)return e.push(t),!1})}),e}function N(){var e=0;return o(Z,function(t){if(o(t,function(t){C(t)&&e++}),e)return!1}),e}function k(){var e=re.createRng();f(c)||(e.setStartAfter(c),e.setEndAfter(c),ne.setRng(e),re.remove(c))}function S(t){var i,a={};return l.settings.table_clone_elements!==!1&&(a=e.makeMap((l.settings.table_clone_elements||\"strong em b i span font h1 h2 h3 h4 h5 h6 p div\").toUpperCase(),/[ ,]/)),e.walk(t,function(e){var r;if(3==e.nodeType)return o(re.getParents(e.parentNode,null,t).reverse(),function(e){a[e.nodeName]&&(e=v(e,!1),i?r&&r.appendChild(e):i=r=e,r=e)}),r&&(r.innerHTML=n.ie&&n.ie<10?\"&nbsp;\":'<br data-mce-bogus=\"1\" />'),!1},\"childNodes\"),t=v(t,!1),h(t),s(t,\"rowSpan\",1),s(t,\"colSpan\",1),i?t.appendChild(i):r.paddCell(t),t}function _(){var e,t=re.createRng();return o(re.select(\"tr\",c),function(e){0===e.cells.length&&re.remove(e)}),0===re.select(\"tr\",c).length?(t.setStartBefore(c),t.setEndBefore(c),ne.setRng(t),void re.remove(c)):(o(re.select(\"thead,tbody,tfoot\",c),function(e){0===e.rows.length&&re.remove(e)}),m(),void(ee&&(e=Z[Math.min(Z.length-1,ee.y)],e&&(ne.select(e[Math.min(e.length-1,ee.x)].elm,!0),ne.collapse(!0)))))}function E(e,t,n,r){var i,o,a,s,l;for(i=Z[t][e].elm.parentNode,a=1;a<=n;a++)if(i=re.getNext(i,\"tr\")){for(o=e;o>=0;o--)if(l=Z[t+a][o].elm,l.parentNode==i){for(s=1;s<=r;s++)re.insertAfter(S(l),l);break}if(o==-1)for(s=1;s<=r;s++)i.insertBefore(S(i.cells[0]),i.cells[0])}}function T(){o(Z,function(e,t){o(e,function(e,n){var r,i,o;if(C(e)&&(e=e.elm,r=a(e,\"colspan\"),i=a(e,\"rowspan\"),r>1||i>1)){for(s(e,\"rowSpan\",1),s(e,\"colSpan\",1),o=0;o<r-1;o++)re.insertAfter(S(e),e);E(n,t,i-1,r)}})})}function R(e,t,n){for(var r=[],i=0;i<e.length;i++)(i<t||i>n)&&r.push(e[i]);return r}function A(t){return e.grep(t,function(e){return e.real===!1})}function B(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].elm;t[t.length-1]!==r&&t.push(r)}return t}function P(t,n,i,o,a){var s=0;if(a-i<1)return 0;for(var l=i+1;l<=a;l++){var c=R(y(t,l),n,o),u=A(c);c.length===u.length&&(e.each(B(u),function(e){r.setRowSpan(e,r.getRowSpan(e)-1)}),s++)}return s}function D(t,n,i,o,a){var s=0;if(o-n<1)return 0;for(var l=n+1;l<=o;l++){var c=R(x(t,l),i,a),u=A(c);c.length===u.length&&(e.each(B(u),function(e){r.setColSpan(e,r.getColSpan(e)-1)}),s++)}return s}function M(t,n,r){var i,a,l,c,u,d,f,p,g,h,v,y,x;if(t?(i=q(t),a=i.x,l=i.y,c=a+(n-1),u=l+(r-1)):(ee=te=null,o(Z,function(e,t){o(e,function(e,n){C(e)&&(ee||(ee={x:n,y:t}),te={x:n,y:t})})}),ee&&(a=ee.x,l=ee.y,c=te.x,u=te.y)),p=b(a,l),g=b(c,u),p&&g&&p.part==g.part){T(),m(),y=P(Z,a,l,c,u),x=D(Z,a,l,c,u),p=b(a,l).elm;var w=c-a-x+1,N=u-l-y+1;for(w===Q&&N===Z.length&&(w=1,N=1),w===Q&&N>1&&(N=1),s(p,\"colSpan\",w),s(p,\"rowSpan\",N),f=l;f<=u;f++)for(d=a;d<=c;d++)Z[f]&&Z[f][d]&&(t=Z[f][d].elm,t!=p&&(h=e.grep(t.childNodes),o(h,function(e){p.appendChild(e)}),h.length&&(h=e.grep(p.childNodes),v=0,o(h,function(e){\"BR\"==e.nodeName&&v++<h.length-1&&p.removeChild(e)})),re.remove(t)));_()}}function L(e){var n,r,i,l,c,u,d,f,p,m;if(o(Z,function(r,i){if(o(r,function(t){if(C(t)&&(t=t.elm,c=t.parentNode,u=g(v(c,!1)),n=i,e))return!1}),e)return n===t}),n!==t){for(l=0,m=0;l<Z[0].length;l+=m)if(Z[n][l]&&(r=Z[n][l].elm,m=a(r,\"colspan\"),r!=i)){if(e){if(n>0&&Z[n-1][l]&&(f=Z[n-1][l].elm,p=a(f,\"rowSpan\"),p>1)){s(f,\"rowSpan\",p+1);continue}}else if(p=a(r,\"rowspan\"),p>1){s(r,\"rowSpan\",p+1);continue}d=S(r),s(d,\"colSpan\",r.colSpan),u.appendChild(d),i=r}u.hasChildNodes()&&(e?c.parentNode.insertBefore(u,c):re.insertAfter(u,c))}}function I(e,t){t=t||w().length||1;for(var n=0;n<t;n++)L(e)}function O(e){var n,r;o(Z,function(r){if(o(r,function(t,r){if(C(t)&&(n=r,e))return!1}),e)return n===t}),o(Z,function(t,i){var o,l,c;t[n]&&(o=t[n].elm,o!=r&&(c=a(o,\"colspan\"),l=a(o,\"rowspan\"),1==c?e?(o.parentNode.insertBefore(S(o),o),E(n,i,l-1,c)):(re.insertAfter(S(o),o),E(n,i,l-1,c)):s(o,\"colSpan\",o.colSpan+1),r=o))})}function H(e,t){t=t||N()||1;for(var n=0;n<t;n++)O(e)}function F(t){return e.grep(z(t),C)}function z(e){var t=[];return o(e,function(e){o(e,function(e){t.push(e)})}),t}function W(){var t=[];if(f(c)){if(1==Z[0].length)return;if(F(Z).length==z(Z).length)return}o(Z,function(n){o(n,function(n,r){C(n)&&e.inArray(t,r)===-1&&(o(Z,function(e){var t,n=e[r].elm;t=a(n,\"colSpan\"),t>1?s(n,\"colSpan\",t-1):re.remove(n)}),t.push(r))})}),_()}function U(){function e(e){var t,n;o(e.cells,function(e){var n=a(e,\"rowSpan\");n>1&&(s(e,\"rowSpan\",n-1),t=q(e),E(t.x,t.y,1,1))}),t=q(e.cells[0]),o(Z[t.y],function(e){var t;e=e.elm,e!=n&&(t=a(e,\"rowSpan\"),t<=1?re.remove(e):s(e,\"rowSpan\",t-1),n=e)})}var t;t=w(),f(c)&&t.length==c.rows.length||(o(t.reverse(),function(t){e(t)}),_())}function V(){var e=w();if(!f(c)||e.length!=c.rows.length)return re.remove(e),_(),e}function $(){var e=w();return o(e,function(t,n){e[n]=v(t,!0)}),e}function j(t,n){var r,a,l;t&&(r=i.splitAt(Z,ee.x,ee.y,n),a=r.row,e.each(r.cells,h),l=e.map(t,function(e){return e.cloneNode(!0)}),n||l.reverse(),o(l,function(e){var t,r,i=e.cells.length;for(g(e),t=0;t<i;t++)r=e.cells[t],h(r),s(r,\"colSpan\",1),s(r,\"rowSpan\",1);for(t=i;t<Q;t++)e.appendChild(h(S(e.cells[i-1])));for(t=Q;t<i;t++)re.remove(e.cells[t]);n?a.parentNode.insertBefore(e,a):re.insertAfter(e,a)}),d())}function q(e){var t;return o(Z,function(n,r){return o(n,function(n,i){if(n.elm==e)return t={x:i,y:r},!1}),!t}),t}function Y(e){ee=q(e)}function X(){var e,t;return e=t=0,o(Z,function(n,r){o(n,function(n,i){var o,a;C(n)&&(n=Z[r][i],i>e&&(e=i),r>t&&(t=r),n.real&&(o=n.colspan-1,a=n.rowspan-1,o&&i+o>e&&(e=i+o),a&&r+a>t&&(t=r+a)))})}),{x:e,y:t}}function K(e){var t,n,r,i,o,a,s,l,c,u;if(te=q(e),ee&&te){for(t=Math.min(ee.x,te.x),n=Math.min(ee.y,te.y),r=Math.max(ee.x,te.x),i=Math.max(ee.y,te.y),o=r,a=i,u=n;u<=i;u++)for(c=t;c<=r;c++)e=Z[u][c],e.real&&(s=e.colspan-1,l=e.rowspan-1,s&&c+s>o&&(o=c+s),l&&u+l>a&&(a=u+l));for(d(),u=n;u<=a;u++)for(c=t;c<=o;c++)Z[u][c]&&re.setAttrib(Z[u][c].elm,\"data-mce-selected\",\"1\")}}function G(e,t){var n,r,i;n=q(e),r=n.y*Q+n.x;do{if(r+=t,i=b(r%Q,Math.floor(r/Q)),!i)break;if(i.elm!=e)return ne.select(i.elm,!0),re.isEmpty(i.elm)&&ne.collapse(!0),!0}while(i.elm==e);return!1}function J(t){if(ee){var n=i.splitAt(Z,ee.x,ee.y,t);e.each(n.cells,h)}}var Z,Q,ee,te,ne=l.selection,re=ne.dom;c=c||re.getParent(ne.getStart(!0),\"table\"),m(),u=u||re.getParent(ne.getStart(!0),\"th,td\"),u&&(ee=q(u),te=X(),u=b(ee.x,ee.y)),e.extend(this,{deleteTable:k,split:T,merge:M,insertRow:L,insertRows:I,insertCol:O,insertCols:H,splitCols:J,deleteCols:W,deleteRows:U,cutRows:V,copyRows:$,pasteRows:j,getPos:q,setStartCell:Y,setEndCell:K,moveRelIdx:G,refresh:m})}}),r(\"tinymce/tableplugin/Quirks\",[\"tinymce/util/VK\",\"tinymce/util/Delay\",\"tinymce/Env\",\"tinymce/util/Tools\",\"tinymce/tableplugin/Utils\"],function(e,t,n,r,i){var o=r.each,a=i.getSpanVal;return function(s){function l(){function n(n){function r(e,t){var r=e?\"previousSibling\":\"nextSibling\",o=s.dom.getParent(t,\"tr\"),a=o[r];if(a)return v(s,t,a,e),n.preventDefault(),!0;var l=s.dom.getParent(o,\"table\"),d=o.parentNode,f=d.nodeName.toLowerCase();if(\"tbody\"===f||f===(e?\"tfoot\":\"thead\")){var p=i(e,l,d,\"tbody\");if(null!==p)return c(e,p,t)}return u(e,o,r,l)}function i(e,t,n,r){var i=s.dom.select(\">\"+r,t),o=i.indexOf(n);if(e&&0===o||!e&&o===i.length-1)return l(e,t);if(o===-1){var a=\"thead\"===n.tagName.toLowerCase()?0:i.length-1;return i[a]}return i[o+(e?-1:1)]}function l(e,t){var n=e?\"thead\":\"tfoot\",r=s.dom.select(\">\"+n,t);return 0!==r.length?r[0]:null}function c(e,t,r){var i=d(t,e);return i&&v(s,r,i,e),n.preventDefault(),!0}function u(e,t,i,o){var a=o[i];if(a)return f(a),!0;var l=s.dom.getParent(o,\"td,th\");if(l)return r(e,l,n);var c=d(t,!e);return f(c),n.preventDefault(),!1}function d(e,t){var n=e&&e[t?\"lastChild\":\"firstChild\"];return n&&\"BR\"===n.nodeName?s.dom.getParent(n,\"td,th\"):n}function f(e){s.selection.setCursorLocation(e,0)}function p(){return x==e.UP||x==e.DOWN}function m(e){var t=e.selection.getNode(),n=e.dom.getParent(t,\"tr\");return null!==n}function g(e){for(var t=0,n=e;n.previousSibling;)n=n.previousSibling,t+=a(n,\"colspan\");return t}function h(e,t){var n=0,r=0;return o(e.children,function(e,i){if(n+=a(e,\"colspan\"),r=i,n>t)return!1}),r}function v(e,t,n,r){var i=g(s.dom.getParent(t,\"td,th\")),o=h(n,i),a=n.childNodes[o],l=d(a,r);f(l||a)}function b(e){var t=s.selection.getNode(),n=s.dom.getParent(t,\"td,th\"),r=s.dom.getParent(e,\"td,th\");return n&&n!==r&&y(n,r)}function y(e,t){return s.dom.getParent(e,\"TABLE\")===s.dom.getParent(t,\"TABLE\")}var x=n.keyCode;if(p()&&m(s)){var C=s.selection.getNode();t.setEditorTimeout(s,function(){b(C)&&r(!n.shiftKey&&x===e.UP,C,n)},0)}}s.on(\"KeyDown\",function(e){n(e)})}function c(){function e(e,t){var n,r=t.ownerDocument,i=r.createRange();return i.setStartBefore(t),i.setEnd(e.endContainer,e.endOffset),n=r.createElement(\"body\"),n.appendChild(i.cloneContents()),0===n.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,\"-\").replace(/<[^>]+>/g,\"\").length}s.on(\"KeyDown\",function(t){var n,r,i=s.dom;37!=t.keyCode&&38!=t.keyCode||(n=s.selection.getRng(),r=i.getParent(n.startContainer,\"table\"),r&&s.getBody().firstChild==r&&e(n,r)&&(n=i.createRng(),n.setStartBefore(r),n.setEndBefore(r),s.selection.setRng(n),t.preventDefault()))})}function u(){s.on(\"KeyDown SetContent VisualAid\",function(){var e;for(e=s.getBody().lastChild;e;e=e.previousSibling)if(3==e.nodeType){if(e.nodeValue.length>0)break}else if(1==e.nodeType&&(\"BR\"==e.tagName||!e.getAttribute(\"data-mce-bogus\")))break;e&&\"TABLE\"==e.nodeName&&(s.settings.forced_root_block?s.dom.add(s.getBody(),s.settings.forced_root_block,s.settings.forced_root_block_attrs,n.ie&&n.ie<10?\"&nbsp;\":'<br data-mce-bogus=\"1\" />'):s.dom.add(s.getBody(),\"br\",{\"data-mce-bogus\":\"1\"}))}),s.on(\"PreProcess\",function(e){var t=e.node.lastChild;t&&(\"BR\"==t.nodeName||1==t.childNodes.length&&(\"BR\"==t.firstChild.nodeName||\"\\xa0\"==t.firstChild.nodeValue))&&t.previousSibling&&\"TABLE\"==t.previousSibling.nodeName&&s.dom.remove(t)})}function d(){function e(e,t,n,r){var i,o,a,s=3,l=e.dom.getParent(t.startContainer,\"TABLE\");return l&&(i=l.parentNode),o=t.startContainer.nodeType==s&&0===t.startOffset&&0===t.endOffset&&r&&(\"TR\"==n.nodeName||n==i),a=(\"TD\"==n.nodeName||\"TH\"==n.nodeName)&&!r,o||a}function t(){var t=s.selection.getRng(),n=s.selection.getNode(),r=s.dom.getParent(t.startContainer,\"TD,TH\");if(e(s,t,n,r)){r||(r=n);for(var i=r.lastChild;i.lastChild;)i=i.lastChild;3==i.nodeType&&(t.setEnd(i,i.data.length),s.selection.setRng(t))}}s.on(\"KeyDown\",function(){t()}),s.on(\"MouseDown\",function(e){2!=e.button&&t()})}function f(){function t(e){s.selection.select(e,!0),s.selection.collapse(!0)}function n(e){s.$(e).empty(),i.paddCell(e)}s.on(\"keydown\",function(i){if((i.keyCode==e.DELETE||i.keyCode==e.BACKSPACE)&&!i.isDefaultPrevented()){var o,a,l,c;if(o=s.dom.getParent(s.selection.getStart(),\"table\")){if(a=s.dom.select(\"td,th\",o),l=r.grep(a,function(e){return!!s.dom.getAttrib(e,\"data-mce-selected\")}),0===l.length)return c=s.dom.getParent(s.selection.getStart(),\"td,th\"),void(s.selection.isCollapsed()&&c&&s.dom.isEmpty(c)&&(i.preventDefault(),n(c),t(c)));i.preventDefault(),s.undoManager.transact(function(){a.length==l.length?s.execCommand(\"mceTableDelete\"):(r.each(l,n),t(l[0]))})}}})}function p(){var t=function(e){return e&&\"CAPTION\"==e.nodeName&&\"TABLE\"==e.parentNode.nodeName},r=function(e,t){var n=s.selection.getRng(),r=e.ownerDocument.createTextNode(\"\\xa0\");n.startOffset?e.insertBefore(r,e.firstChild):e.appendChild(r),t&&(s.selection.select(r,!0),s.selection.collapse(!0))},i=function(t){return(t.keyCode==e.DELETE||t.keyCode==e.BACKSPACE)&&!t.isDefaultPrevented()},o=function(e){return e.firstChild===e.lastChild&&e.firstChild},a=function(e){return e&&3===e.nodeType},l=function(e){var t=o(e);return a(t)&&1===t.data.length?t.data:null},c=function(e){var t=o(e),n=l(e);return t&&!a(t)||n&&!d(n)},u=function(e){return s.dom.isEmpty(e)||d(l(e))},d=function(e){return\"\\xa0\"===e};s.on(\"keydown\",function(e){if(i(e)){var o=s.dom.getParent(s.selection.getStart(),\"caption\");t(o)&&(n.ie&&(s.selection.isCollapsed()?c(o)&&r(o):(s.undoManager.transact(function(){s.execCommand(\"Delete\"),u(o)&&r(o,!0)}),e.preventDefault())),u(o)&&e.preventDefault())}})}f(),p(),n.webkit&&(l(),d()),n.gecko&&(c(),u()),n.ie>9&&(c(),u())}}),r(\"tinymce/tableplugin/CellSelection\",[\"tinymce/tableplugin/TableGrid\",\"tinymce/dom/TreeWalker\",\"tinymce/util/Tools\"],function(e,t,n){return function(r,i){function o(e){r.getBody().style.webkitUserSelect=\"\",(e||g)&&(r.$(\"td[data-mce-selected],th[data-mce-selected]\").removeAttr(\"data-mce-selected\"),g=!1)}function a(e,t){return!(!e||!t)&&e===m.getParent(t,\"table\")}function s(t){var n,o,s=t.target;if(!f&&!p&&s!==d&&(d=s,u&&c)){if(o=m.getParent(s,\"td,th\"),a(u,o)||(o=m.getParent(u,\"td,th\")),c===o&&!g)return;if(i(!0),a(u,o)){t.preventDefault(),l||(l=new e(r,u,c),r.getBody().style.webkitUserSelect=\"none\"),l.setEndCell(o),g=!0,n=r.selection.getSel();try{n.removeAllRanges?n.removeAllRanges():n.empty()}catch(e){}}}}var l,c,u,d,f,p,m=r.dom,g=!0,h=function(){c=l=u=d=null,i(!1)};return r.on(\"SelectionChange\",function(e){g&&e.stopImmediatePropagation()},!0),r.on(\"MouseDown\",function(e){2==e.button||f||p||(o(),c=m.getParent(e.target,\"td,th\"),u=m.getParent(c,\"table\"))}),r.on(\"mouseover\",s),r.on(\"remove\",function(){m.unbind(r.getDoc(),\"mouseover\",s),o()}),r.on(\"MouseUp\",function(){function e(e,r){var o=new t(e,e);do{if(3==e.nodeType&&0!==n.trim(e.nodeValue).length)return void(r?i.setStart(e,0):i.setEnd(e,e.nodeValue.length));if(\"BR\"==e.nodeName)return void(r?i.setStartBefore(e):i.setEndBefore(e))}while(e=r?o.next():o.prev())}var i,o,a,s,u,d=r.selection;if(c){if(l&&(r.getBody().style.webkitUserSelect=\"\"),o=m.select(\"td[data-mce-selected],th[data-mce-selected]\"),o.length>0){i=m.createRng(),s=o[0],i.setStartBefore(s),i.setEndAfter(s),e(s,1),a=new t(s,m.getParent(o[0],\"table\"));do if(\"TD\"==s.nodeName||\"TH\"==s.nodeName){if(!m.getAttrib(s,\"data-mce-selected\"))break;u=s}while(s=a.next());e(u),d.setRng(i)}r.nodeChanged(),h()}}),r.on(\"KeyUp Drop SetContent\",function(e){o(\"setcontent\"==e.type),h(),f=!1}),r.on(\"ObjectResizeStart ObjectResized\",function(e){f=\"objectresized\"!=e.type}),r.on(\"dragstart\",function(){p=!0}),r.on(\"drop dragend\",function(){p=!1}),{clear:o}}}),r(\"tinymce/tableplugin/Dialogs\",[\"tinymce/util/Tools\",\"tinymce/Env\"],function(e,t){var n=e.each;return function(r){function i(){var e=r.settings.color_picker_callback;if(e)return function(){var t=this;e.call(r,function(e){t.value(e).fire(\"change\")},t.value())}}function o(e){return{title:\"Advanced\",type:\"form\",defaults:{onchange:function(){d(e,this.parents().reverse()[0],\"style\"==this.name())}},items:[{label:\"Style\",name:\"style\",type:\"textbox\"},{type:\"form\",padding:0,formItemDefaults:{layout:\"grid\",alignH:[\"start\",\"right\"]},defaults:{size:7},items:[{label:\"Border color\",type:\"colorbox\",name:\"borderColor\",onaction:i()},{label:\"Background color\",type:\"colorbox\",name:\"backgroundColor\",onaction:i()}]}]}}function a(e){return e?e.replace(/px$/,\"\"):\"\"}function s(e){return/^[0-9]+$/.test(e)&&(e+=\"px\"),e}function l(e){n(\"left center right\".split(\" \"),function(t){r.formatter.remove(\"align\"+t,{},e)})}function c(e){n(\"top middle bottom\".split(\" \"),function(t){r.formatter.remove(\"valign\"+t,{},e)})}function u(t,n,r){function i(t,r){return r=r||[],e.each(t,function(e){var t={text:e.text||e.title};e.menu?t.menu=i(e.menu):(t.value=e.value,n&&n(t)),r.push(t)}),r}return i(t,r||[])}function d(e,t,n){var r=t.toJSON(),i=e.parseStyle(r.style);n?(t.find(\"#borderColor\").value(i[\"border-color\"]||\"\")[0].fire(\"change\"),t.find(\"#backgroundColor\").value(i[\"background-color\"]||\"\")[0].fire(\"change\")):(i[\"border-color\"]=r.borderColor,i[\"background-color\"]=r.backgroundColor),t.find(\"#style\").value(e.serializeStyle(e.parseStyle(e.serializeStyle(i))))}function f(e,t,n){var r=e.parseStyle(e.getAttrib(n,\"style\"));r[\"border-color\"]&&(t.borderColor=r[\"border-color\"]),r[\"background-color\"]&&(t.backgroundColor=r[\"background-color\"]),t.style=e.serializeStyle(r)}function p(e,t,r){var i=e.parseStyle(e.getAttrib(t,\"style\"));n(r,function(e){i[e.name]=e.value}),e.setAttrib(t,\"style\",e.serializeStyle(e.parseStyle(e.serializeStyle(i))))}var m=this;m.tableProps=function(){m.table(!0)},m.table=function(i){function c(){function n(e,t,r){if(\"TD\"===e.tagName||\"TH\"===e.tagName)C.setStyle(e,t,r);else if(e.children)for(var i=0;i<e.children.length;i++)n(e.children[i],t,r)}var i;d(C,this),w=e.extend(w,this.toJSON()),w[\"class\"]===!1&&delete w[\"class\"],r.undoManager.transact(function(){if(g||(g=r.plugins.table.insertTable(w.cols||1,w.rows||1)),r.dom.setAttribs(g,{style:w.style,\"class\":w[\"class\"]}),r.settings.table_style_by_css){if(x=[],x.push({name:\"border\",value:w.border}),x.push({name:\"border-spacing\",value:s(w.cellspacing)}),p(C,g,x),C.setAttribs(g,{\"data-mce-border-color\":w.borderColor,\"data-mce-cell-padding\":w.cellpadding,\"data-mce-border\":w.border}),g.children)for(var e=0;e<g.children.length;e++)n(g.children[e],\"border\",w.border),n(g.children[e],\"padding\",s(w.cellpadding))}else r.dom.setAttribs(g,{border:w.border,cellpadding:w.cellpadding,cellspacing:w.cellspacing});C.getAttrib(g,\"width\")&&!r.settings.table_style_by_css?C.setAttrib(g,\"width\",a(w.width)):C.setStyle(g,\"width\",s(w.width)),C.setStyle(g,\"height\",s(w.height)),i=C.select(\"caption\",g)[0],i&&!w.caption&&C.remove(i),!i&&w.caption&&(i=C.create(\"caption\"),i.innerHTML=t.ie?\"\\xa0\":'<br data-mce-bogus=\"1\"/>',g.insertBefore(i,g.firstChild)),l(g),w.align&&r.formatter.apply(\"align\"+w.align,{},g),r.focus(),r.addVisual()})}function m(e,t){function n(e,n){for(var r=0;r<n.length;r++){var i=C.getStyle(n[r],t);if(\"undefined\"==typeof e&&(e=i),e!=i)return\"\"}return e}var i,o=r.dom.select(\"td,th\",e);return i=n(i,o)}var g,h,v,b,y,x,C=r.dom,w={};i===!0?(g=C.getParent(r.selection.getStart(),\"table\"),g&&(w={width:a(C.getStyle(g,\"width\")||C.getAttrib(g,\"width\")),height:a(C.getStyle(g,\"height\")||C.getAttrib(g,\"height\")),cellspacing:a(C.getStyle(g,\"border-spacing\")||C.getAttrib(g,\"cellspacing\")),cellpadding:C.getAttrib(g,\"data-mce-cell-padding\")||C.getAttrib(g,\"cellpadding\")||m(g,\"padding\"),border:C.getAttrib(g,\"data-mce-border\")||C.getAttrib(g,\"border\")||m(g,\"border\"),borderColor:C.getAttrib(g,\"data-mce-border-color\"),caption:!!C.select(\"caption\",g)[0],\"class\":C.getAttrib(g,\"class\")},n(\"left center right\".split(\" \"),function(e){r.formatter.matchNode(g,\"align\"+e)&&(w.align=e)}))):(h={label:\"Cols\",name:\"cols\"},v={label:\"Rows\",name:\"rows\"}),r.settings.table_class_list&&(w[\"class\"]&&(w[\"class\"]=w[\"class\"].replace(/\\s*mce\\-item\\-table\\s*/g,\"\")),b={name:\"class\",type:\"listbox\",label:\"Class\",values:u(r.settings.table_class_list,function(e){e.value&&(e.textStyle=function(){return r.formatter.getCssText({block:\"table\",classes:[e.value]})})})}),y={type:\"form\",layout:\"flex\",direction:\"column\",labelGapCalc:\"children\",padding:0,items:[{type:\"form\",labelGapCalc:!1,padding:0,layout:\"grid\",columns:2,defaults:{type:\"textbox\",maxWidth:50},items:r.settings.table_appearance_options!==!1?[h,v,{label:\"Width\",name:\"width\"},{label:\"Height\",name:\"height\"},{label:\"Cell spacing\",name:\"cellspacing\"},{label:\"Cell padding\",name:\"cellpadding\"},{label:\"Border\",name:\"border\"},{label:\"Caption\",name:\"caption\",type:\"checkbox\"}]:[h,v,{label:\"Width\",name:\"width\"},{label:\"Height\",name:\"height\"}]},{label:\"Alignment\",name:\"align\",type:\"listbox\",text:\"None\",values:[{text:\"None\",value:\"\"},{text:\"Left\",value:\"left\"},{text:\"Center\",value:\"center\"},{text:\"Right\",value:\"right\"}]},b]},r.settings.table_advtab!==!1?(f(C,w,g),r.windowManager.open({title:\"Table properties\",data:w,bodyType:\"tabpanel\",body:[{title:\"General\",type:\"form\",items:y},o(C)],onsubmit:c})):r.windowManager.open({title:\"Table properties\",data:w,body:y,onsubmit:c})},m.merge=function(e,t){r.windowManager.open({title:\"Merge cells\",body:[{label:\"Cols\",name:\"cols\",type:\"textbox\",value:\"1\",size:10},{label:\"Rows\",name:\"rows\",type:\"textbox\",value:\"1\",size:10}],onsubmit:function(){var n=this.toJSON();r.undoManager.transact(function(){e.merge(t,n.cols,n.rows)})}})},m.cell=function(){function t(e,t,n){(1===b.length||n)&&v.setAttrib(e,t,n)}function i(e,t,n){(1===b.length||n)&&v.setStyle(e,t,n)}function p(){d(v,this),g=e.extend(g,this.toJSON()),r.undoManager.transact(function(){n(b,function(e){t(e,\"scope\",g.scope),t(e,\"style\",g.style),t(e,\"class\",g[\"class\"]),i(e,\"width\",s(g.width)),i(e,\"height\",s(g.height)),g.type&&e.nodeName.toLowerCase()!==g.type&&(e=v.rename(e,g.type)),1===b.length&&(l(e),c(e)),g.align&&r.formatter.apply(\"align\"+g.align,{},e),g.valign&&r.formatter.apply(\"valign\"+g.valign,{},e)}),r.focus()})}var m,g,h,v=r.dom,b=[];if(b=r.dom.select(\"td[data-mce-selected],th[data-mce-selected]\"),m=r.dom.getParent(r.selection.getStart(),\"td,th\"),!b.length&&m&&b.push(m),m=m||b[0]){b.length>1?g={width:\"\",height:\"\",scope:\"\",\"class\":\"\",align:\"\",style:\"\",type:m.nodeName.toLowerCase()}:(g={width:a(v.getStyle(m,\"width\")||v.getAttrib(m,\"width\")),height:a(v.getStyle(m,\"height\")||v.getAttrib(m,\"height\")),scope:v.getAttrib(m,\"scope\"),\"class\":v.getAttrib(m,\"class\")},g.type=m.nodeName.toLowerCase(),n(\"left center right\".split(\" \"),function(e){r.formatter.matchNode(m,\"align\"+e)&&(g.align=e)}),n(\"top middle bottom\".split(\" \"),function(e){r.formatter.matchNode(m,\"valign\"+e)&&(g.valign=e)}),f(v,g,m)),r.settings.table_cell_class_list&&(h={name:\"class\",type:\"listbox\",label:\"Class\",values:u(r.settings.table_cell_class_list,function(e){e.value&&(e.textStyle=function(){return r.formatter.getCssText({block:\"td\",classes:[e.value]})})})});var y={type:\"form\",layout:\"flex\",direction:\"column\",labelGapCalc:\"children\",padding:0,items:[{type:\"form\",layout:\"grid\",columns:2,labelGapCalc:!1,padding:0,defaults:{type:\"textbox\",maxWidth:50},items:[{label:\"Width\",name:\"width\"},{label:\"Height\",name:\"height\"},{label:\"Cell type\",name:\"type\",type:\"listbox\",text:\"None\",minWidth:90,maxWidth:null,values:[{text:\"Cell\",value:\"td\"},{text:\"Header cell\",value:\"th\"}]},{label:\"Scope\",name:\"scope\",type:\"listbox\",text:\"None\",minWidth:90,maxWidth:null,values:[{text:\"None\",value:\"\"},{text:\"Row\",value:\"row\"},{text:\"Column\",value:\"col\"},{text:\"Row group\",value:\"rowgroup\"},{text:\"Column group\",value:\"colgroup\"}]},{label:\"H Align\",name:\"align\",type:\"listbox\",text:\"None\",minWidth:90,maxWidth:null,values:[{text:\"None\",value:\"\"},{text:\"Left\",value:\"left\"},{text:\"Center\",value:\"center\"},{text:\"Right\",value:\"right\"}]},{label:\"V Align\",name:\"valign\",type:\"listbox\",text:\"None\",minWidth:90,maxWidth:null,values:[{text:\"None\",value:\"\"},{text:\"Top\",value:\"top\"},{text:\"Middle\",value:\"middle\"},{text:\"Bottom\",value:\"bottom\"}]}]},h]};r.settings.table_cell_advtab!==!1?r.windowManager.open({title:\"Cell properties\",bodyType:\"tabpanel\",data:g,body:[{title:\"General\",type:\"form\",items:y},o(v)],onsubmit:p}):r.windowManager.open({title:\"Cell properties\",data:g,body:y,onsubmit:p})}},m.row=function(){function t(e,t,n){(1===x.length||n)&&y.setAttrib(e,t,n)}function i(e,t,n){(1===x.length||n)&&y.setStyle(e,t,n)}function c(){var o,a,c;d(y,this),v=e.extend(v,this.toJSON()),r.undoManager.transact(function(){var e=v.type;n(x,function(n){t(n,\"scope\",v.scope),t(n,\"style\",v.style),t(n,\"class\",v[\"class\"]),i(n,\"height\",s(v.height)),e!==n.parentNode.nodeName.toLowerCase()&&(o=y.getParent(n,\"table\"),a=n.parentNode,c=y.select(e,o)[0],c||(c=y.create(e),o.firstChild?o.insertBefore(c,o.firstChild):o.appendChild(c)),c.appendChild(n),a.hasChildNodes()||y.remove(a)),1===x.length&&l(n),v.align&&r.formatter.apply(\"align\"+v.align,{},n)}),r.focus()})}var p,m,g,h,v,b,y=r.dom,x=[];p=r.dom.getParent(r.selection.getStart(),\"table\"),m=r.dom.getParent(r.selection.getStart(),\"td,th\"),n(p.rows,function(e){n(e.cells,function(t){if(y.getAttrib(t,\"data-mce-selected\")||t==m)return x.push(e),!1})}),g=x[0],g&&(x.length>1?v={height:\"\",scope:\"\",\"class\":\"\",align:\"\",type:g.parentNode.nodeName.toLowerCase()}:(v={height:a(y.getStyle(g,\"height\")||y.getAttrib(g,\"height\")),scope:y.getAttrib(g,\"scope\"),\"class\":y.getAttrib(g,\"class\")},v.type=g.parentNode.nodeName.toLowerCase(),n(\"left center right\".split(\" \"),function(e){r.formatter.matchNode(g,\"align\"+e)&&(v.align=e)}),f(y,v,g)),r.settings.table_row_class_list&&(h={name:\"class\",type:\"listbox\",label:\"Class\",values:u(r.settings.table_row_class_list,function(e){e.value&&(e.textStyle=function(){return r.formatter.getCssText({block:\"tr\",classes:[e.value]})})})}),b={type:\"form\",columns:2,padding:0,defaults:{type:\"textbox\"},items:[{type:\"listbox\",name:\"type\",label:\"Row type\",text:\"Header\",maxWidth:null,values:[{text:\"Header\",value:\"thead\"},{text:\"Body\",value:\"tbody\"},{text:\"Footer\",value:\"tfoot\"}]},{type:\"listbox\",name:\"align\",label:\"Alignment\",text:\"None\",maxWidth:null,values:[{text:\"None\",value:\"\"},{text:\"Left\",value:\"left\"},{text:\"Center\",value:\"center\"},{text:\"Right\",value:\"right\"}]},{label:\"Height\",name:\"height\"},h]},r.settings.table_row_advtab!==!1?r.windowManager.open({title:\"Row properties\",data:v,bodyType:\"tabpanel\",body:[{title:\"General\",type:\"form\",items:b},o(y)],onsubmit:c}):r.windowManager.open({title:\"Row properties\",data:v,body:b,onsubmit:c}))}}}),r(\"tinymce/tableplugin/ResizeBars\",[\"tinymce/util/Tools\",\"tinymce/util/VK\"],function(e,n){var r;return function(i){function o(e,t){return{index:e,y:i.dom.getPos(t).y}}function a(e,t){return{index:e,y:i.dom.getPos(t).y+t.offsetHeight}}function s(e,t){return{index:e,x:i.dom.getPos(t).x}}function l(e,t){return{index:e,x:i.dom.getPos(t).x+t.offsetWidth}}function c(){var e=i.getBody().dir;return\"rtl\"===e}function u(){return i.inline}function d(){return u?i.getBody().ownerDocument.body:i.getBody()}function f(e,t){return c()?l(e,t):s(e,t)}function p(e,t){return c()?s(e,t):l(e,t)}function m(e,t){return g(e,\"width\")/g(t,\"width\")*100}function g(e,t){var n=i.dom.getStyle(e,t,!0),r=parseInt(n,10);return r}function h(e){var t=g(e,\"width\"),n=g(e.parentElement,\"width\");return t/n*100}function v(e,t){var n=g(e,\"width\");return t/n*100}function b(e,t){var n=g(e.parentElement,\"width\");return t/n*100}function y(e,t,n){for(var r=[],i=1;i<n.length;i++){var o=n[i].element;r.push(e(i-1,o))}var a=n[n.length-1];return r.push(t(n.length-1,a.element)),r}function x(){var t=i.dom.select(\".\"+fe,d());e.each(t,function(e){i.dom.remove(e)})}function C(e){x(),B(e)}function w(e,t,n,r,i,o,a,s){var l={\"data-mce-bogus\":\"all\",\"class\":fe+\" \"+e,unselectable:\"on\",\"data-mce-resize\":!1,style:\"cursor: \"+t+\"; margin: 0; padding: 0; position: absolute; left: \"+n+\"px; top: \"+r+\"px; height: \"+i+\"px; width: \"+o+\"px; \"};return l[a]=s,l}function N(t,n,r){e.each(t,function(e){var t=r.x,o=e.y-Ce/2,a=Ce,s=n;i.dom.add(d(),\"div\",w(pe,me,t,o,a,s,ge,e.index))})}function k(t,n,r){e.each(t,function(e){var t=e.x-Ce/2,o=r.y,a=n,s=Ce;i.dom.add(d(),\"div\",w(ve,be,t,o,a,s,ye,e.index))})}function S(t){return e.map(t.rows,function(t){var n=e.map(t.cells,function(e){var t=e.hasAttribute(\"rowspan\")?parseInt(e.getAttribute(\"rowspan\"),10):1,n=e.hasAttribute(\"colspan\")?parseInt(e.getAttribute(\"colspan\"),10):1;return{element:e,rowspan:t,colspan:n}});return{element:t,cells:n}})}function _(n){function r(e,t){return e+\",\"+t}function i(e,t){return s[r(e,t)]}function o(){var t=[];return e.each(l,function(e){t=t.concat(e.cells)}),t}function a(){return l}var s={},l=[],c=0,u=0;return e.each(n,function(n,i){var o=[];e.each(n.cells,function(e){for(var n=0;s[r(i,n)]!==t;)n++;for(var a={element:e.element,colspan:e.colspan,rowspan:e.rowspan,rowIndex:i,colIndex:n},l=0;l<e.colspan;l++)for(var d=0;d<e.rowspan;d++){var f=i+d,p=n+l;s[r(f,p)]=a,c=Math.max(c,f+1),u=Math.max(u,p+1)}o.push(a)}),l.push({element:n.element,cells:o})}),{grid:{maxRows:c,maxCols:u},getAt:i,getAllCells:o,getAllRows:a}}function E(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}function T(e,t,n){for(var r,i=e(),o=0;o<i.length;o++)t(i[o])&&(r=i[o]);return r?r:n()}function R(t){var n=E(0,t.grid.maxCols),r=E(0,t.grid.maxRows);return e.map(n,function(e){function n(){for(var n=[],i=0;i<r.length;i++){var o=t.getAt(i,e);o&&o.colIndex===e&&n.push(o)}return n}function i(e){return 1===e.colspan}function o(){for(var n,i=0;i<r.length;i++)if(n=t.getAt(i,e))return n;return null}return T(n,i,o)})}function A(t){var n=E(0,t.grid.maxCols),r=E(0,t.grid.maxRows);return e.map(r,function(e){function r(){for(var r=[],i=0;i<n.length;i++){var o=t.getAt(e,i);o&&o.rowIndex===e&&r.push(o)}return r}function i(e){return 1===e.rowspan}function o(){return t.getAt(e,0)}return T(r,i,o);\n})}function B(e){var t=S(e),n=_(t),r=A(n),s=R(n),l=i.dom.getPos(e),c=r.length>0?y(o,a,r):[],u=s.length>0?y(f,p,s):[];N(c,e.offsetWidth,l),k(u,e.offsetHeight,l)}function P(e,t,n,r){if(t<0||t>=e.length-1)return\"\";var i=e[t];if(i)i={value:i,delta:0};else for(var o=e.slice(0,t).reverse(),a=0;a<o.length;a++)o[a]&&(i={value:o[a],delta:a+1});var s=e[t+1];if(s)s={value:s,delta:1};else for(var l=e.slice(t+1),c=0;c<l.length;c++)l[c]&&(s={value:l[c],delta:c+1});var u=s.delta-i.delta,d=Math.abs(s.value-i.value)/u;return n?d/g(r,\"width\")*100:d}function D(e,t){var n=i.dom.getStyle(e,t);return n||(n=i.dom.getAttrib(e,t)),n||(n=i.dom.getStyle(e,t,!0)),n}function M(e,t,n){var r=D(e,\"width\"),i=parseInt(r,10),o=t?m(e,n):g(e,\"width\");return(t&&!V(r)||!t&&!$(r))&&(i=0),!isNaN(i)&&i>0?i:o}function L(t,n,r){for(var i=R(t),o=e.map(i,function(e){return f(e.colIndex,e.element).x}),a=[],s=0;s<i.length;s++){var l=i[s].element.hasAttribute(\"colspan\")?parseInt(i[s].element.getAttribute(\"colspan\"),10):1,c=l>1?P(o,s):M(i[s].element,n,r);c=c?c:we,a.push(c)}return a}function I(e){var t=D(e,\"height\"),n=parseInt(t,10);return V(t)&&(n=0),!isNaN(n)&&n>0?n:g(e,\"height\")}function O(t){for(var n=A(t),r=e.map(n,function(e){return o(e.rowIndex,e.element).y}),i=[],a=0;a<n.length;a++){var s=n[a].element.hasAttribute(\"rowspan\")?parseInt(n[a].element.getAttribute(\"rowspan\"),10):1,l=s>1?P(r,a):I(n[a].element);l=l?l:Ne,i.push(l)}return i}function H(t,n,r,i,o){function a(t){return e.map(t,function(){return 0})}function s(){var e;if(o)e=[100-d[0]];else{var t=Math.max(i,d[0]+r);e=[t-d[0]]}return e}function l(e,t){var n,o=a(d.slice(0,e)),s=a(d.slice(t+1));if(r>=0){var l=Math.max(i,d[t]-r);n=o.concat([r,l-d[t]]).concat(s)}else{var c=Math.max(i,d[e]+r),u=d[e]-c;n=o.concat([c-d[e],u]).concat(s)}return n}function c(e,t){var n,o=a(d.slice(0,t));if(r>=0)n=o.concat([r]);else{var s=Math.max(i,d[t]+r);n=o.concat([s-d[t]])}return n}var u,d=t.slice(0);return u=0===t.length?[]:1===t.length?s():0===n?l(0,1):n>0&&n<t.length-1?l(n,n+1):n===t.length-1?c(n-1,n):[]}function F(e,t,n){for(var r=0,i=e;i<t;i++)r+=n[i];return r}function z(t,n){var r=t.getAllCells();return e.map(r,function(e){var t=F(e.colIndex,e.colIndex+e.colspan,n);return{element:e.element,width:t,colspan:e.colspan}})}function W(t,n){var r=t.getAllCells();return e.map(r,function(e){var t=F(e.rowIndex,e.rowIndex+e.rowspan,n);return{element:e.element,height:t,rowspan:e.rowspan}})}function U(t,n){var r=t.getAllRows();return e.map(r,function(e,t){return{element:e.element,height:n[t]}})}function V(e){return Se.test(e)}function $(e){return _e.test(e)}function j(t,n,r){function o(t,n){e.each(t,function(e){i.dom.setStyle(e.element,\"width\",e.width+n),i.dom.setAttrib(e.element,\"width\",null)})}function a(){return r<u.grid.maxCols-1?h(t):h(t)+b(t,n)}function s(){return r<u.grid.maxCols-1?g(t,\"width\"):g(t,\"width\")+n}function l(e,n,o){r!=u.grid.maxCols-1&&o||(i.dom.setStyle(t,\"width\",e+n),i.dom.setAttrib(t,\"width\",null))}for(var c=S(t),u=_(c),d=V(t.width)||V(t.style.width),f=L(u,d,t),p=d?v(t,n):n,m=H(f,r,p,we,d,t),y=[],x=0;x<m.length;x++)y.push(m[x]+f[x]);var C=z(u,y),w=d?\"%\":\"px\",N=d?a():s();i.undoManager.transact(function(){o(C,w),l(N,w,d)})}function q(t,n,r){for(var o=S(t),a=_(o),s=O(a),l=[],c=0,u=0;u<s.length;u++)l.push(u===r?n+s[u]:s[u]),c+=c[u];var d=W(a,l),f=U(a,l);i.undoManager.transact(function(){e.each(f,function(e){i.dom.setStyle(e.element,\"height\",e.height+\"px\"),i.dom.setAttrib(e.element,\"height\",null)}),e.each(d,function(e){i.dom.setStyle(e.element,\"height\",e.height+\"px\"),i.dom.setAttrib(e.element,\"height\",null)}),i.dom.setStyle(t,\"height\",c+\"px\"),i.dom.setAttrib(t,\"height\",null)})}function Y(){ae=setTimeout(function(){J()},200)}function X(){clearTimeout(ae)}function K(){var e=document.createElement(\"div\");return e.setAttribute(\"style\",\"margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;\"),e.setAttribute(\"data-mce-bogus\",\"all\"),e}function G(e,t){i.dom.bind(e,\"mouseup\",function(){J()}),i.dom.bind(e,\"mousemove\",function(e){X(),se&&t(e)}),i.dom.bind(e,\"mouseout\",function(){Y()})}function J(){if(i.dom.remove(le),se){i.dom.removeClass(ce,ke),se=!1;var e,t;if(Q(ce)){var n=parseInt(i.dom.getAttrib(ce,xe),10),o=i.dom.getPos(ce).x;e=parseInt(i.dom.getAttrib(ce,ye),10),t=c()?n-o:o-n,Math.abs(t)>=1&&j(r,t,e)}else if(ee(ce)){var a=parseInt(i.dom.getAttrib(ce,he),10),s=i.dom.getPos(ce).y;e=parseInt(i.dom.getAttrib(ce,ge),10),t=s-a,Math.abs(t)>=1&&q(r,t,e)}C(r),i.nodeChanged()}}function Z(e,t){le=le?le:K(),se=!0,i.dom.addClass(e,ke),ce=e,G(le,t),i.dom.add(d(),le)}function Q(e){return i.dom.hasClass(e,ve)}function ee(e){return i.dom.hasClass(e,pe)}function te(e){ue=ue!==t?ue:e.clientX;var n=e.clientX-ue;ue=e.clientX;var r=i.dom.getPos(ce).x;i.dom.setStyle(ce,\"left\",r+n+\"px\")}function ne(e){de=de!==t?de:e.clientY;var n=e.clientY-de;de=e.clientY;var r=i.dom.getPos(ce).y;i.dom.setStyle(ce,\"top\",r+n+\"px\")}function re(e){ue=t,Z(e,te)}function ie(e){de=t,Z(e,ne)}function oe(e){var t=e.target,n=i.getBody();if(i.$.contains(n,r)||r===n)if(Q(t)){e.preventDefault();var o=i.dom.getPos(t).x;i.dom.setAttrib(t,xe,o),re(t)}else if(ee(t)){e.preventDefault();var a=i.dom.getPos(t).y;i.dom.setAttrib(t,he,a),ie(t)}else x()}var ae,se,le,ce,ue,de,fe=\"mce-resize-bar\",pe=\"mce-resize-bar-row\",me=\"row-resize\",ge=\"data-row\",he=\"data-initial-top\",ve=\"mce-resize-bar-col\",be=\"col-resize\",ye=\"data-col\",xe=\"data-initial-left\",Ce=4,we=10,Ne=10,ke=\"mce-resize-bar-dragging\",Se=new RegExp(/(\\d+(\\.\\d+)?%)/),_e=new RegExp(/px|em/);return i.on(\"init\",function(){i.dom.bind(d(),\"mousedown\",oe)}),i.on(\"ObjectResized\",function(t){var n=t.target;if(\"TABLE\"===n.nodeName){var r=[];e.each(n.rows,function(t){e.each(t.cells,function(e){var t=i.dom.getStyle(e,\"width\",!0);r.push({cell:e,width:t})})}),e.each(r,function(e){i.dom.setStyle(e.cell,\"width\",e.width),i.dom.setAttrib(e.cell,\"width\",null)})}}),i.on(\"mouseover\",function(e){if(!se){var t=i.dom.getParent(e.target,\"table\");(\"TABLE\"===e.target.nodeName||t)&&(r=t,C(t))}}),i.on(\"keydown\",function(e){switch(e.keyCode){case n.LEFT:case n.RIGHT:case n.UP:case n.DOWN:x()}}),i.on(\"remove\",function(){x(),i.dom.unbind(d(),\"mousedown\",oe)}),{adjustWidth:j,adjustHeight:q,clearBars:x,drawBars:B,determineDeltas:H,getTableGrid:_,getTableDetails:S,getWidths:L,getPixelHeights:O,isPercentageBasedSize:V,isPixelBasedSize:$,recalculateWidths:z,recalculateCellHeights:W,recalculateRowHeights:U}}}),r(\"tinymce/tableplugin/Plugin\",[\"tinymce/tableplugin/TableGrid\",\"tinymce/tableplugin/Quirks\",\"tinymce/tableplugin/CellSelection\",\"tinymce/tableplugin/Dialogs\",\"tinymce/tableplugin/ResizeBars\",\"tinymce/util/Tools\",\"tinymce/dom/TreeWalker\",\"tinymce/Env\",\"tinymce/PluginManager\"],function(e,t,n,r,i,o,a,s,l){function c(o){function a(e){return function(){o.execCommand(e)}}function l(e,t){var n,r,i,a;for(i='<table id=\"__mce\"><tbody>',n=0;n<t;n++){for(i+=\"<tr>\",r=0;r<e;r++)i+=\"<td>\"+(s.ie&&s.ie<10?\"&nbsp;\":\"<br>\")+\"</td>\";i+=\"</tr>\"}return i+=\"</tbody></table>\",o.undoManager.transact(function(){o.insertContent(i),a=o.dom.get(\"__mce\"),o.dom.setAttrib(a,\"id\",null),o.$(\"tr\",a).each(function(e,t){o.fire(\"newrow\",{node:t}),o.$(\"th,td\",t).each(function(e,t){o.fire(\"newcell\",{node:t})})}),o.dom.setAttribs(a,o.settings.table_default_attributes||{}),o.dom.setStyles(a,o.settings.table_default_styles||{})}),a}function c(e,t,n){function r(){var r,i,a,s={},l=0;i=o.dom.select(\"td[data-mce-selected],th[data-mce-selected]\"),r=i[0],r||(r=o.selection.getStart()),n&&i.length>0?(u(i,function(e){return s[e.parentNode.parentNode.nodeName]=1}),u(s,function(e){l+=e}),a=1!==l):a=!o.dom.getParent(r,t),e.disabled(a),o.selection.selectorChanged(t,function(t){e.disabled(!t)})}o.initialized?r():o.on(\"init\",r)}function d(){c(this,\"table\")}function f(){c(this,\"td,th\")}function p(){c(this,\"td,th\",!0)}function m(){var e=\"\";e='<table role=\"grid\" class=\"mce-grid mce-grid-border\" aria-readonly=\"true\">';for(var t=0;t<10;t++){e+=\"<tr>\";for(var n=0;n<10;n++)e+='<td role=\"gridcell\" tabindex=\"-1\"><a id=\"mcegrid'+(10*t+n)+'\" href=\"#\" data-mce-x=\"'+n+'\" data-mce-y=\"'+t+'\"></a></td>';e+=\"</tr>\"}return e+=\"</table>\",e+='<div class=\"mce-text-center\" role=\"presentation\">1 x 1</div>'}function g(e,t,n){var r,i,a,s,l,c=n.getEl().getElementsByTagName(\"table\")[0],u=n.isRtl()||\"tl-tr\"==n.parent().rel;for(c.nextSibling.innerHTML=e+1+\" x \"+(t+1),u&&(e=9-e),i=0;i<10;i++)for(r=0;r<10;r++)s=c.rows[i].childNodes[r].firstChild,l=(u?r>=e:r<=e)&&i<=t,o.dom.toggleClass(s,\"mce-active\",l),l&&(a=s);return a.parentNode}function h(){o.addButton(\"tableprops\",{title:\"Table properties\",onclick:k.tableProps,icon:\"table\"}),o.addButton(\"tabledelete\",{title:\"Delete table\",onclick:a(\"mceTableDelete\")}),o.addButton(\"tablecellprops\",{title:\"Cell properties\",onclick:a(\"mceTableCellProps\")}),o.addButton(\"tablemergecells\",{title:\"Merge cells\",onclick:a(\"mceTableMergeCells\")}),o.addButton(\"tablesplitcells\",{title:\"Split cell\",onclick:a(\"mceTableSplitCells\")}),o.addButton(\"tableinsertrowbefore\",{title:\"Insert row before\",onclick:a(\"mceTableInsertRowBefore\")}),o.addButton(\"tableinsertrowafter\",{title:\"Insert row after\",onclick:a(\"mceTableInsertRowAfter\")}),o.addButton(\"tabledeleterow\",{title:\"Delete row\",onclick:a(\"mceTableDeleteRow\")}),o.addButton(\"tablerowprops\",{title:\"Row properties\",onclick:a(\"mceTableRowProps\")}),o.addButton(\"tablecutrow\",{title:\"Cut row\",onclick:a(\"mceTableCutRow\")}),o.addButton(\"tablecopyrow\",{title:\"Copy row\",onclick:a(\"mceTableCopyRow\")}),o.addButton(\"tablepasterowbefore\",{title:\"Paste row before\",onclick:a(\"mceTablePasteRowBefore\")}),o.addButton(\"tablepasterowafter\",{title:\"Paste row after\",onclick:a(\"mceTablePasteRowAfter\")}),o.addButton(\"tableinsertcolbefore\",{title:\"Insert column before\",onclick:a(\"mceTableInsertColBefore\")}),o.addButton(\"tableinsertcolafter\",{title:\"Insert column after\",onclick:a(\"mceTableInsertColAfter\")}),o.addButton(\"tabledeletecol\",{title:\"Delete column\",onclick:a(\"mceTableDeleteCol\")})}function v(e){var t=o.dom.is(e,\"table\")&&o.getBody().contains(e);return t}function b(){var e=o.settings.table_toolbar;\"\"!==e&&e!==!1&&(e||(e=\"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol\"),o.addContextToolbar(v,e))}function y(){return C}function x(e){C=e}var C,w,N=this,k=new r(o);!o.settings.object_resizing||o.settings.table_resize_bars===!1||o.settings.object_resizing!==!0&&\"table\"!==o.settings.object_resizing||(w=i(o)),o.settings.table_grid===!1?o.addMenuItem(\"inserttable\",{text:\"Table\",icon:\"table\",context:\"table\",onclick:k.table}):o.addMenuItem(\"inserttable\",{text:\"Table\",icon:\"table\",context:\"table\",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),k.table())},onshow:function(){g(0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName(\"a\");o.dom.removeClass(e,\"mce-active\"),o.dom.addClass(e[0],\"mce-active\")},menu:[{type:\"container\",html:m(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t,n,r=e.target;\"A\"==r.tagName.toUpperCase()&&(t=parseInt(r.getAttribute(\"data-mce-x\"),10),n=parseInt(r.getAttribute(\"data-mce-y\"),10),(this.isRtl()||\"tl-tr\"==this.parent().rel)&&(t=9-t),t===this.lastX&&n===this.lastY||(g(t,n,e.control),this.lastX=t,this.lastY=n))},onclick:function(e){var t=this;\"A\"==e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),t.parent().cancel(),o.undoManager.transact(function(){l(t.lastX+1,t.lastY+1)}),o.addVisual())}}]}),o.addMenuItem(\"tableprops\",{text:\"Table properties\",context:\"table\",onPostRender:d,onclick:k.tableProps}),o.addMenuItem(\"deletetable\",{text:\"Delete table\",context:\"table\",onPostRender:d,cmd:\"mceTableDelete\"}),o.addMenuItem(\"cell\",{separator:\"before\",text:\"Cell\",context:\"table\",menu:[{text:\"Cell properties\",onclick:a(\"mceTableCellProps\"),onPostRender:f},{text:\"Merge cells\",onclick:a(\"mceTableMergeCells\"),onPostRender:p},{text:\"Split cell\",onclick:a(\"mceTableSplitCells\"),onPostRender:f}]}),o.addMenuItem(\"row\",{text:\"Row\",context:\"table\",menu:[{text:\"Insert row before\",onclick:a(\"mceTableInsertRowBefore\"),onPostRender:f},{text:\"Insert row after\",onclick:a(\"mceTableInsertRowAfter\"),onPostRender:f},{text:\"Delete row\",onclick:a(\"mceTableDeleteRow\"),onPostRender:f},{text:\"Row properties\",onclick:a(\"mceTableRowProps\"),onPostRender:f},{text:\"-\"},{text:\"Cut row\",onclick:a(\"mceTableCutRow\"),onPostRender:f},{text:\"Copy row\",onclick:a(\"mceTableCopyRow\"),onPostRender:f},{text:\"Paste row before\",onclick:a(\"mceTablePasteRowBefore\"),onPostRender:f},{text:\"Paste row after\",onclick:a(\"mceTablePasteRowAfter\"),onPostRender:f}]}),o.addMenuItem(\"column\",{text:\"Column\",context:\"table\",menu:[{text:\"Insert column before\",onclick:a(\"mceTableInsertColBefore\"),onPostRender:f},{text:\"Insert column after\",onclick:a(\"mceTableInsertColAfter\"),onPostRender:f},{text:\"Delete column\",onclick:a(\"mceTableDeleteCol\"),onPostRender:f}]});var S=[];u(\"inserttable tableprops deletetable | cell row column\".split(\" \"),function(e){\"|\"==e?S.push({text:\"-\"}):S.push(o.menuItems[e])}),o.addButton(\"table\",{type:\"menubutton\",title:\"Table\",menu:S}),s.isIE||o.on(\"click\",function(e){e=e.target,\"TABLE\"===e.nodeName&&(o.selection.select(e),o.nodeChanged())}),N.quirks=new t(o),o.on(\"Init\",function(){N.cellSelection=new n(o,function(e){e&&w&&w.clearBars()}),N.resizeBars=w}),o.on(\"PreInit\",function(){o.serializer.addAttributeFilter(\"data-mce-cell-padding,data-mce-border,data-mce-border-color\",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})}),u({mceTableSplitCells:function(e){e.split()},mceTableMergeCells:function(e){var t;t=o.dom.getParent(o.selection.getStart(),\"th,td\"),o.dom.select(\"td[data-mce-selected],th[data-mce-selected]\").length?e.merge():k.merge(e,t)},mceTableInsertRowBefore:function(e){e.insertRows(!0)},mceTableInsertRowAfter:function(e){e.insertRows()},mceTableInsertColBefore:function(e){e.insertCols(!0)},mceTableInsertColAfter:function(e){e.insertCols()},mceTableDeleteCol:function(e){e.deleteCols()},mceTableDeleteRow:function(e){e.deleteRows()},mceTableCutRow:function(e){C=e.cutRows()},mceTableCopyRow:function(e){C=e.copyRows()},mceTablePasteRowBefore:function(e){e.pasteRows(C,!0)},mceTablePasteRowAfter:function(e){e.pasteRows(C)},mceSplitColsBefore:function(e){e.splitCols(!0)},mceSplitColsAfter:function(e){e.splitCols(!1)},mceTableDelete:function(e){w&&w.clearBars(),e.deleteTable()}},function(t,n){o.addCommand(n,function(){var n=new e(o);n&&(t(n),o.execCommand(\"mceRepaint\"),N.cellSelection.clear())})}),u({mceInsertTable:k.table,mceTableProps:function(){k.table(!0)},mceTableRowProps:k.row,mceTableCellProps:k.cell},function(e,t){o.addCommand(t,function(t,n){e(n)})}),h(),b(),o.settings.table_tab_navigation!==!1&&o.on(\"keydown\",function(t){var n,r,i;9==t.keyCode&&(n=o.dom.getParent(o.selection.getStart(),\"th,td\"),n&&(t.preventDefault(),r=new e(o),i=t.shiftKey?-1:1,o.undoManager.transact(function(){!r.moveRelIdx(n,i)&&i>0&&(r.insertRow(),r.refresh(),r.moveRelIdx(n,i))})))}),N.insertTable=l,N.setClipboardRows=x,N.getClipboardRows=y}var u=o.each;l.add(\"table\",c)})}(window);\n;!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e(t.echarts={})}(this,function(t){\"use strict\";function e(t,e){\"createCanvas\"===t&&(Ox=null),kx[t]=e}function i(t){if(null==t||\"object\"!=typeof t)return t;var e=t,n=Mx.call(t);if(\"[object Array]\"===n){if(!N(t)){e=[];for(var o=0,a=t.length;o<a;o++)e[o]=i(t[o])}}else if(Sx[n]){if(!N(t)){var r=t.constructor;if(t.constructor.from)e=r.from(t);else{e=new r(t.length);for(var o=0,a=t.length;o<a;o++)e[o]=i(t[o])}}}else if(!bx[n]&&!N(t)&&!M(t)){e={};for(var s in t)t.hasOwnProperty(s)&&(e[s]=i(t[s]))}return e}function n(t,e,o){if(!w(e)||!w(t))return o?i(e):t;for(var a in e)if(e.hasOwnProperty(a)){var r=t[a],s=e[a];!w(s)||!w(r)||y(s)||y(r)||M(s)||M(r)||b(s)||b(r)||N(s)||N(r)?!o&&a in t||(t[a]=i(e[a],!0)):n(r,s,o)}return t}function o(t,e){for(var i=t[0],o=1,a=t.length;o<a;o++)i=n(i,t[o],e);return i}function a(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function r(t,e,i){for(var n in e)e.hasOwnProperty(n)&&(i?null!=e[n]:null==t[n])&&(t[n]=e[n]);return t}function s(){return Ox||(Ox=Px().getContext(\"2d\")),Ox}function l(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i}return-1}function h(t,e){function i(){}var n=t.prototype;i.prototype=e.prototype,t.prototype=new i;for(var o in n)t.prototype[o]=n[o];t.prototype.constructor=t,t.superClass=e}function u(t,e,i){r(t=\"prototype\"in t?t.prototype:t,e=\"prototype\"in e?e.prototype:e,i)}function c(t){if(t)return\"string\"!=typeof t&&\"number\"==typeof t.length}function d(t,e,i){if(t&&e)if(t.forEach&&t.forEach===Tx)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,o=t.length;n<o;n++)e.call(i,t[n],n,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(i,t[a],a,t)}function f(t,e,i){if(t&&e){if(t.map&&t.map===Cx)return t.map(e,i);for(var n=[],o=0,a=t.length;o<a;o++)n.push(e.call(i,t[o],o,t));return n}}function p(t,e,i,n){if(t&&e){if(t.reduce&&t.reduce===Lx)return t.reduce(e,i,n);for(var o=0,a=t.length;o<a;o++)i=e.call(n,i,t[o],o,t);return i}}function g(t,e,i){if(t&&e){if(t.filter&&t.filter===Ax)return t.filter(e,i);for(var n=[],o=0,a=t.length;o<a;o++)e.call(i,t[o],o,t)&&n.push(t[o]);return n}}function m(t,e){var i=Dx.call(arguments,2);return function(){return t.apply(e,i.concat(Dx.call(arguments)))}}function v(t){var e=Dx.call(arguments,1);return function(){return t.apply(this,e.concat(Dx.call(arguments)))}}function y(t){return\"[object Array]\"===Mx.call(t)}function x(t){return\"function\"==typeof t}function _(t){return\"[object String]\"===Mx.call(t)}function w(t){var e=typeof t;return\"function\"===e||!!t&&\"object\"==e}function b(t){return!!bx[Mx.call(t)]}function S(t){return!!Sx[Mx.call(t)]}function M(t){return\"object\"==typeof t&&\"number\"==typeof t.nodeType&&\"object\"==typeof t.ownerDocument}function I(t){return t!==t}function T(t){for(var e=0,i=arguments.length;e<i;e++)if(null!=arguments[e])return arguments[e]}function A(t,e){return null!=t?t:e}function D(t,e,i){return null!=t?t:null!=e?e:i}function C(){return Function.call.apply(Dx,arguments)}function L(t){if(\"number\"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function k(t,e){if(!t)throw new Error(e)}function P(t){return null==t?null:\"function\"==typeof t.trim?t.trim():t.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\"\")}function O(t){t[Nx]=!0}function N(t){return t[Nx]}function E(t){function e(t,e){i?n.set(t,e):n.set(e,t)}var i=y(t),n=this;t instanceof E?t.each(e):t&&d(t,e)}function z(t){return new E(t)}function R(t,e){for(var i=new t.constructor(t.length+e.length),n=0;n<t.length;n++)i[n]=t[n];var o=t.length;for(n=0;n<e.length;n++)i[n+o]=e[n];return i}function B(){}function V(t,e){var i=new zx(2);return null==t&&(t=0),null==e&&(e=0),i[0]=t,i[1]=e,i}function G(t,e){return t[0]=e[0],t[1]=e[1],t}function W(t){var e=new zx(2);return e[0]=t[0],e[1]=t[1],e}function F(t,e,i){return t[0]=e,t[1]=i,t}function H(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function Z(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t}function U(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function j(t){return Math.sqrt(X(t))}function X(t){return t[0]*t[0]+t[1]*t[1]}function Y(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function q(t,e){var i=j(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t}function $(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function K(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function J(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t}function Q(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[2]*o+i[4],t[1]=i[1]*n+i[3]*o+i[5],t}function tt(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function et(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}function it(){this.on(\"mousedown\",this._dragStart,this),this.on(\"mousemove\",this._drag,this),this.on(\"mouseup\",this._dragEnd,this),this.on(\"globalout\",this._dragEnd,this)}function nt(t,e){return{target:t,topTarget:e&&e.topTarget}}function ot(t,e,i){return{type:t,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which}}function at(){}function rt(t,e,i){if(t[t.rectHover?\"rectContain\":\"contain\"](e,i)){for(var n,o=t;o;){if(o.clipPath&&!o.clipPath.contain(e,i))return!1;o.silent&&(n=!0),o=o.parent}return!n||Zx}return!1}function st(){var t=new Xx(6);return lt(t),t}function lt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function ht(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function ut(t,e,i){var n=e[0]*i[0]+e[2]*i[1],o=e[1]*i[0]+e[3]*i[1],a=e[0]*i[2]+e[2]*i[3],r=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],l=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=o,t[2]=a,t[3]=r,t[4]=s,t[5]=l,t}function ct(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t}function dt(t,e,i){var n=e[0],o=e[2],a=e[4],r=e[1],s=e[3],l=e[5],h=Math.sin(i),u=Math.cos(i);return t[0]=n*u+r*h,t[1]=-n*h+r*u,t[2]=o*u+s*h,t[3]=-o*h+u*s,t[4]=u*a+h*l,t[5]=u*l-h*a,t}function ft(t,e,i){var n=i[0],o=i[1];return t[0]=e[0]*n,t[1]=e[1]*o,t[2]=e[2]*n,t[3]=e[3]*o,t[4]=e[4]*n,t[5]=e[5]*o,t}function pt(t,e){var i=e[0],n=e[2],o=e[4],a=e[1],r=e[3],s=e[5],l=i*r-a*n;return l?(l=1/l,t[0]=r*l,t[1]=-a*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*s-r*o)*l,t[5]=(a*o-i*s)*l,t):null}function gt(t){var e=st();return ht(e,t),e}function mt(t){return t>$x||t<-$x}function vt(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||\"Linear\",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}function yt(t){return(t=Math.round(t))<0?0:t>255?255:t}function xt(t){return(t=Math.round(t))<0?0:t>360?360:t}function _t(t){return t<0?0:t>1?1:t}function wt(t){return yt(t.length&&\"%\"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function bt(t){return _t(t.length&&\"%\"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function St(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function Mt(t,e,i){return t+(e-t)*i}function It(t,e,i,n,o){return t[0]=e,t[1]=i,t[2]=n,t[3]=o,t}function Tt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function At(t,e){l_&&Tt(l_,e),l_=s_.put(t,l_||e.slice())}function Dt(t,e){if(t){e=e||[];var i=s_.get(t);if(i)return Tt(e,i);var n=(t+=\"\").replace(/ /g,\"\").toLowerCase();if(n in r_)return Tt(e,r_[n]),At(t,e),e;if(\"#\"!==n.charAt(0)){var o=n.indexOf(\"(\"),a=n.indexOf(\")\");if(-1!==o&&a+1===n.length){var r=n.substr(0,o),s=n.substr(o+1,a-(o+1)).split(\",\"),l=1;switch(r){case\"rgba\":if(4!==s.length)return void It(e,0,0,0,1);l=bt(s.pop());case\"rgb\":return 3!==s.length?void It(e,0,0,0,1):(It(e,wt(s[0]),wt(s[1]),wt(s[2]),l),At(t,e),e);case\"hsla\":return 4!==s.length?void It(e,0,0,0,1):(s[3]=bt(s[3]),Ct(s,e),At(t,e),e);case\"hsl\":return 3!==s.length?void It(e,0,0,0,1):(Ct(s,e),At(t,e),e);default:return}}It(e,0,0,0,1)}else{if(4===n.length)return(h=parseInt(n.substr(1),16))>=0&&h<=4095?(It(e,(3840&h)>>4|(3840&h)>>8,240&h|(240&h)>>4,15&h|(15&h)<<4,1),At(t,e),e):void It(e,0,0,0,1);if(7===n.length){var h=parseInt(n.substr(1),16);return h>=0&&h<=16777215?(It(e,(16711680&h)>>16,(65280&h)>>8,255&h,1),At(t,e),e):void It(e,0,0,0,1)}}}}function Ct(t,e){var i=(parseFloat(t[0])%360+360)%360/360,n=bt(t[1]),o=bt(t[2]),a=o<=.5?o*(n+1):o+n-o*n,r=2*o-a;return e=e||[],It(e,yt(255*St(r,a,i+1/3)),yt(255*St(r,a,i)),yt(255*St(r,a,i-1/3)),1),4===t.length&&(e[3]=t[3]),e}function Lt(t){if(t){var e,i,n=t[0]/255,o=t[1]/255,a=t[2]/255,r=Math.min(n,o,a),s=Math.max(n,o,a),l=s-r,h=(s+r)/2;if(0===l)e=0,i=0;else{i=h<.5?l/(s+r):l/(2-s-r);var u=((s-n)/6+l/2)/l,c=((s-o)/6+l/2)/l,d=((s-a)/6+l/2)/l;n===s?e=d-c:o===s?e=1/3+u-d:a===s&&(e=2/3+c-u),e<0&&(e+=1),e>1&&(e-=1)}var f=[360*e,i,h];return null!=t[3]&&f.push(t[3]),f}}function kt(t,e){var i=Dt(t);if(i){for(var n=0;n<3;n++)i[n]=e<0?i[n]*(1-e)|0:(255-i[n])*e+i[n]|0;return Rt(i,4===i.length?\"rgba\":\"rgb\")}}function Pt(t){var e=Dt(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function Ot(t,e,i){if(e&&e.length&&t>=0&&t<=1){i=i||[];var n=t*(e.length-1),o=Math.floor(n),a=Math.ceil(n),r=e[o],s=e[a],l=n-o;return i[0]=yt(Mt(r[0],s[0],l)),i[1]=yt(Mt(r[1],s[1],l)),i[2]=yt(Mt(r[2],s[2],l)),i[3]=_t(Mt(r[3],s[3],l)),i}}function Nt(t,e,i){if(e&&e.length&&t>=0&&t<=1){var n=t*(e.length-1),o=Math.floor(n),a=Math.ceil(n),r=Dt(e[o]),s=Dt(e[a]),l=n-o,h=Rt([yt(Mt(r[0],s[0],l)),yt(Mt(r[1],s[1],l)),yt(Mt(r[2],s[2],l)),_t(Mt(r[3],s[3],l))],\"rgba\");return i?{color:h,leftIndex:o,rightIndex:a,value:n}:h}}function Et(t,e,i,n){if(t=Dt(t))return t=Lt(t),null!=e&&(t[0]=xt(e)),null!=i&&(t[1]=bt(i)),null!=n&&(t[2]=bt(n)),Rt(Ct(t),\"rgba\")}function zt(t,e){if((t=Dt(t))&&null!=e)return t[3]=_t(e),Rt(t,\"rgba\")}function Rt(t,e){if(t&&t.length){var i=t[0]+\",\"+t[1]+\",\"+t[2];return\"rgba\"!==e&&\"hsva\"!==e&&\"hsla\"!==e||(i+=\",\"+t[3]),e+\"(\"+i+\")\"}}function Bt(t,e){return t[e]}function Vt(t,e,i){t[e]=i}function Gt(t,e,i){return(e-t)*i+t}function Wt(t,e,i){return i>.5?e:t}function Ft(t,e,i,n,o){var a=t.length;if(1==o)for(s=0;s<a;s++)n[s]=Gt(t[s],e[s],i);else for(var r=a&&t[0].length,s=0;s<a;s++)for(var l=0;l<r;l++)n[s][l]=Gt(t[s][l],e[s][l],i)}function Ht(t,e,i){var n=t.length,o=e.length;if(n!==o)if(n>o)t.length=o;else for(r=n;r<o;r++)t.push(1===i?e[r]:d_.call(e[r]));for(var a=t[0]&&t[0].length,r=0;r<t.length;r++)if(1===i)isNaN(t[r])&&(t[r]=e[r]);else for(var s=0;s<a;s++)isNaN(t[r][s])&&(t[r][s]=e[r][s])}function Zt(t,e,i){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===i){for(a=0;a<n;a++)if(t[a]!==e[a])return!1}else for(var o=t[0].length,a=0;a<n;a++)for(var r=0;r<o;r++)if(t[a][r]!==e[a][r])return!1;return!0}function Ut(t,e,i,n,o,a,r,s,l){var h=t.length;if(1==l)for(c=0;c<h;c++)s[c]=jt(t[c],e[c],i[c],n[c],o,a,r);else for(var u=t[0].length,c=0;c<h;c++)for(var d=0;d<u;d++)s[c][d]=jt(t[c][d],e[c][d],i[c][d],n[c][d],o,a,r)}function jt(t,e,i,n,o,a,r){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*r+(-3*(e-i)-2*s-l)*a+s*o+e}function Xt(t){if(c(t)){var e=t.length;if(c(t[0])){for(var i=[],n=0;n<e;n++)i.push(d_.call(t[n]));return i}return d_.call(t)}return t}function Yt(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),\"rgba(\"+t.join(\",\")+\")\"}function qt(t){var e=t[t.length-1].value;return c(e&&e[0])?2:1}function $t(t,e,i,n,o,a){var r=t._getter,s=t._setter,l=\"spline\"===e,h=n.length;if(h){var u,d=c(n[0].value),f=!1,p=!1,g=d?qt(n):0;n.sort(function(t,e){return t.time-e.time}),u=n[h-1].time;for(var m=[],v=[],y=n[0].value,x=!0,_=0;_<h;_++){m.push(n[_].time/u);var w=n[_].value;if(d&&Zt(w,y,g)||!d&&w===y||(x=!1),y=w,\"string\"==typeof w){var b=Dt(w);b?(w=b,f=!0):p=!0}v.push(w)}if(a||!x){for(var S=v[h-1],_=0;_<h-1;_++)d?Ht(v[_],S,g):!isNaN(v[_])||isNaN(S)||p||f||(v[_]=S);d&&Ht(r(t._target,o),S,g);var M,I,T,A,D,C,L=0,k=0;if(f)var P=[0,0,0,0];var O=new vt({target:t._target,life:u,loop:t._loop,delay:t._delay,onframe:function(t,e){var i;if(e<0)i=0;else if(e<k){for(i=M=Math.min(L+1,h-1);i>=0&&!(m[i]<=e);i--);i=Math.min(i,h-2)}else{for(i=L;i<h&&!(m[i]>e);i++);i=Math.min(i-1,h-2)}L=i,k=e;var n=m[i+1]-m[i];if(0!==n)if(I=(e-m[i])/n,l)if(A=v[i],T=v[0===i?i:i-1],D=v[i>h-2?h-1:i+1],C=v[i>h-3?h-1:i+2],d)Ut(T,A,D,C,I,I*I,I*I*I,r(t,o),g);else{if(f)a=Ut(T,A,D,C,I,I*I,I*I*I,P,1),a=Yt(P);else{if(p)return Wt(A,D,I);a=jt(T,A,D,C,I,I*I,I*I*I)}s(t,o,a)}else if(d)Ft(v[i],v[i+1],I,r(t,o),g);else{var a;if(f)Ft(v[i],v[i+1],I,P,1),a=Yt(P);else{if(p)return Wt(v[i],v[i+1],I);a=Gt(v[i],v[i+1],I)}s(t,o,a)}},ondestroy:i});return e&&\"spline\"!==e&&(O.easing=e),O}}}function Kt(t,e,i,n){i<0&&(t+=i,i=-i),n<0&&(e+=n,n=-n),this.x=t,this.y=e,this.width=i,this.height=n}function Jt(t){for(var e=0;t>=M_;)e|=1&t,t>>=1;return t+e}function Qt(t,e,i,n){var o=e+1;if(o===i)return 1;if(n(t[o++],t[e])<0){for(;o<i&&n(t[o],t[o-1])<0;)o++;te(t,e,o)}else for(;o<i&&n(t[o],t[o-1])>=0;)o++;return o-e}function te(t,e,i){for(i--;e<i;){var n=t[e];t[e++]=t[i],t[i--]=n}}function ee(t,e,i,n,o){for(n===e&&n++;n<i;n++){for(var a,r=t[n],s=e,l=n;s<l;)o(r,t[a=s+l>>>1])<0?l=a:s=a+1;var h=n-s;switch(h){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;h>0;)t[s+h]=t[s+h-1],h--}t[s]=r}}function ie(t,e,i,n,o,a){var r=0,s=0,l=1;if(a(t,e[i+o])>0){for(s=n-o;l<s&&a(t,e[i+o+l])>0;)r=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),r+=o,l+=o}else{for(s=o+1;l<s&&a(t,e[i+o-l])<=0;)r=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var h=r;r=o-l,l=o-h}for(r++;r<l;){var u=r+(l-r>>>1);a(t,e[i+u])>0?r=u+1:l=u}return l}function ne(t,e,i,n,o,a){var r=0,s=0,l=1;if(a(t,e[i+o])<0){for(s=o+1;l<s&&a(t,e[i+o-l])<0;)r=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var h=r;r=o-l,l=o-h}else{for(s=n-o;l<s&&a(t,e[i+o+l])>=0;)r=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),r+=o,l+=o}for(r++;r<l;){var u=r+(l-r>>>1);a(t,e[i+u])<0?l=u:r=u+1}return l}function oe(t,e){function i(i){var s=a[i],h=r[i],u=a[i+1],c=r[i+1];r[i]=h+c,i===l-3&&(a[i+1]=a[i+2],r[i+1]=r[i+2]),l--;var d=ne(t[u],t,s,h,0,e);s+=d,0!==(h-=d)&&0!==(c=ie(t[s+h-1],t,u,c,c-1,e))&&(h<=c?n(s,h,u,c):o(s,h,u,c))}function n(i,n,o,a){var r=0;for(r=0;r<n;r++)h[r]=t[i+r];var l=0,u=o,c=i;if(t[c++]=t[u++],0!=--a)if(1!==n){for(var d,f,p,g=s;;){d=0,f=0,p=!1;do{if(e(t[u],h[l])<0){if(t[c++]=t[u++],f++,d=0,0==--a){p=!0;break}}else if(t[c++]=h[l++],d++,f=0,1==--n){p=!0;break}}while((d|f)<g);if(p)break;do{if(0!==(d=ne(t[u],h,l,n,0,e))){for(r=0;r<d;r++)t[c+r]=h[l+r];if(c+=d,l+=d,(n-=d)<=1){p=!0;break}}if(t[c++]=t[u++],0==--a){p=!0;break}if(0!==(f=ie(h[l],t,u,a,0,e))){for(r=0;r<f;r++)t[c+r]=t[u+r];if(c+=f,u+=f,0===(a-=f)){p=!0;break}}if(t[c++]=h[l++],1==--n){p=!0;break}g--}while(d>=I_||f>=I_);if(p)break;g<0&&(g=0),g+=2}if((s=g)<1&&(s=1),1===n){for(r=0;r<a;r++)t[c+r]=t[u+r];t[c+a]=h[l]}else{if(0===n)throw new Error;for(r=0;r<n;r++)t[c+r]=h[l+r]}}else{for(r=0;r<a;r++)t[c+r]=t[u+r];t[c+a]=h[l]}else for(r=0;r<n;r++)t[c+r]=h[l+r]}function o(i,n,o,a){var r=0;for(r=0;r<a;r++)h[r]=t[o+r];var l=i+n-1,u=a-1,c=o+a-1,d=0,f=0;if(t[c--]=t[l--],0!=--n)if(1!==a){for(var p=s;;){var g=0,m=0,v=!1;do{if(e(h[u],t[l])<0){if(t[c--]=t[l--],g++,m=0,0==--n){v=!0;break}}else if(t[c--]=h[u--],m++,g=0,1==--a){v=!0;break}}while((g|m)<p);if(v)break;do{if(0!=(g=n-ne(h[u],t,i,n,n-1,e))){for(n-=g,f=(c-=g)+1,d=(l-=g)+1,r=g-1;r>=0;r--)t[f+r]=t[d+r];if(0===n){v=!0;break}}if(t[c--]=h[u--],1==--a){v=!0;break}if(0!=(m=a-ie(t[l],h,0,a,a-1,e))){for(a-=m,f=(c-=m)+1,d=(u-=m)+1,r=0;r<m;r++)t[f+r]=h[d+r];if(a<=1){v=!0;break}}if(t[c--]=t[l--],0==--n){v=!0;break}p--}while(g>=I_||m>=I_);if(v)break;p<0&&(p=0),p+=2}if((s=p)<1&&(s=1),1===a){for(f=(c-=n)+1,d=(l-=n)+1,r=n-1;r>=0;r--)t[f+r]=t[d+r];t[c]=h[u]}else{if(0===a)throw new Error;for(d=c-(a-1),r=0;r<a;r++)t[d+r]=h[r]}}else{for(f=(c-=n)+1,d=(l-=n)+1,r=n-1;r>=0;r--)t[f+r]=t[d+r];t[c]=h[u]}else for(d=c-(a-1),r=0;r<a;r++)t[d+r]=h[r]}var a,r,s=I_,l=0,h=[];a=[],r=[],this.mergeRuns=function(){for(;l>1;){var t=l-2;if(t>=1&&r[t-1]<=r[t]+r[t+1]||t>=2&&r[t-2]<=r[t]+r[t-1])r[t-1]<r[t+1]&&t--;else if(r[t]>r[t+1])break;i(t)}},this.forceMergeRuns=function(){for(;l>1;){var t=l-2;t>0&&r[t-1]<r[t+1]&&t--,i(t)}},this.pushRun=function(t,e){a[l]=t,r[l]=e,l+=1}}function ae(t,e,i,n){i||(i=0),n||(n=t.length);var o=n-i;if(!(o<2)){var a=0;if(o<M_)return a=Qt(t,i,n,e),void ee(t,i,n,i+a,e);var r=new oe(t,e),s=Jt(o);do{if((a=Qt(t,i,n,e))<s){var l=o;l>s&&(l=s),ee(t,i,i+l,i+a,e),a=l}r.pushRun(i,a),r.mergeRuns(),o-=a,i+=a}while(0!==o);r.forceMergeRuns()}}function re(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function se(t,e,i){var n=null==e.x?0:e.x,o=null==e.x2?1:e.x2,a=null==e.y?0:e.y,r=null==e.y2?0:e.y2;return e.global||(n=n*i.width+i.x,o=o*i.width+i.x,a=a*i.height+i.y,r=r*i.height+i.y),t.createLinearGradient(n,a,o,r)}function le(t,e,i){var n=i.width,o=i.height,a=Math.min(n,o),r=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(r=r*n+i.x,s=s*o+i.y,l*=a),t.createRadialGradient(r,s,0,r,s,l)}function he(){return!1}function ue(t,e,i){var n=Px(),o=e.getWidth(),a=e.getHeight(),r=n.style;return r&&(r.position=\"absolute\",r.left=0,r.top=0,r.width=o+\"px\",r.height=a+\"px\",n.setAttribute(\"data-zr-dom-id\",t)),n.width=o*i,n.height=a*i,n}function ce(t){if(\"string\"==typeof t){var e=R_.get(t);return e&&e.image}return t}function de(t,e,i,n,o){if(t){if(\"string\"==typeof t){if(e&&e.__zrImageSrc===t||!i)return e;var a=R_.get(t),r={hostEl:i,cb:n,cbPayload:o};return a?!pe(e=a.image)&&a.pending.push(r):(!e&&(e=new Image),e.onload=fe,R_.put(t,e.__cachedImgObj={image:e,pending:[r]}),e.src=e.__zrImageSrc=t),e}return t}return e}function fe(){var t=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var i=t.pending[e],n=i.cb;n&&n(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0}function pe(t){return t&&t.width&&t.height}function ge(t,e){var i=t+\":\"+(e=e||F_);if(B_[i])return B_[i];for(var n=(t+\"\").split(\"\\n\"),o=0,a=0,r=n.length;a<r;a++)o=Math.max(Ae(n[a],e).width,o);return V_>G_&&(V_=0,B_={}),V_++,B_[i]=o,o}function me(t,e,i,n,o,a,r){return a?ye(t,e,i,n,o,a,r):ve(t,e,i,n,o,r)}function ve(t,e,i,n,o,a){var r=De(t,e,o,a),s=ge(t,e);o&&(s+=o[1]+o[3]);var l=r.outerHeight,h=new Kt(xe(0,s,i),_e(0,l,n),s,l);return h.lineHeight=r.lineHeight,h}function ye(t,e,i,n,o,a,r){var s=Ce(t,{rich:a,truncate:r,font:e,textAlign:i,textPadding:o}),l=s.outerWidth,h=s.outerHeight;return new Kt(xe(0,l,i),_e(0,h,n),l,h)}function xe(t,e,i){return\"right\"===i?t-=e:\"center\"===i&&(t-=e/2),t}function _e(t,e,i){return\"middle\"===i?t-=e/2:\"bottom\"===i&&(t-=e),t}function we(t,e,i){var n=e.x,o=e.y,a=e.height,r=e.width,s=a/2,l=\"left\",h=\"top\";switch(t){case\"left\":n-=i,o+=s,l=\"right\",h=\"middle\";break;case\"right\":n+=i+r,o+=s,h=\"middle\";break;case\"top\":n+=r/2,o-=i,l=\"center\",h=\"bottom\";break;case\"bottom\":n+=r/2,o+=a+i,l=\"center\";break;case\"inside\":n+=r/2,o+=s,l=\"center\",h=\"middle\";break;case\"insideLeft\":n+=i,o+=s,h=\"middle\";break;case\"insideRight\":n+=r-i,o+=s,l=\"right\",h=\"middle\";break;case\"insideTop\":n+=r/2,o+=i,l=\"center\";break;case\"insideBottom\":n+=r/2,o+=a-i,l=\"center\",h=\"bottom\";break;case\"insideTopLeft\":n+=i,o+=i;break;case\"insideTopRight\":n+=r-i,o+=i,l=\"right\";break;case\"insideBottomLeft\":n+=i,o+=a-i,h=\"bottom\";break;case\"insideBottomRight\":n+=r-i,o+=a-i,l=\"right\",h=\"bottom\"}return{x:n,y:o,textAlign:l,textVerticalAlign:h}}function be(t,e,i,n,o){if(!e)return\"\";var a=(t+\"\").split(\"\\n\");o=Se(e,i,n,o);for(var r=0,s=a.length;r<s;r++)a[r]=Me(a[r],o);return a.join(\"\\n\")}function Se(t,e,i,n){(n=a({},n)).font=e;var i=A(i,\"...\");n.maxIterations=A(n.maxIterations,2);var o=n.minChar=A(n.minChar,0);n.cnCharWidth=ge(\"国\",e);var r=n.ascCharWidth=ge(\"a\",e);n.placeholder=A(n.placeholder,\"\");for(var s=t=Math.max(0,t-1),l=0;l<o&&s>=r;l++)s-=r;var h=ge(i);return h>s&&(i=\"\",h=0),s=t-h,n.ellipsis=i,n.ellipsisWidth=h,n.contentWidth=s,n.containerWidth=t,n}function Me(t,e){var i=e.containerWidth,n=e.font,o=e.contentWidth;if(!i)return\"\";var a=ge(t,n);if(a<=i)return t;for(var r=0;;r++){if(a<=o||r>=e.maxIterations){t+=e.ellipsis;break}var s=0===r?Ie(t,o,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*o/a):0;a=ge(t=t.substr(0,s),n)}return\"\"===t&&(t=e.placeholder),t}function Ie(t,e,i,n){for(var o=0,a=0,r=t.length;a<r&&o<e;a++){var s=t.charCodeAt(a);o+=0<=s&&s<=127?i:n}return a}function Te(t){return ge(\"国\",t)}function Ae(t,e){return H_.measureText(t,e)}function De(t,e,i,n){null!=t&&(t+=\"\");var o=Te(e),a=t?t.split(\"\\n\"):[],r=a.length*o,s=r;if(i&&(s+=i[0]+i[2]),t&&n){var l=n.outerHeight,h=n.outerWidth;if(null!=l&&s>l)t=\"\",a=[];else if(null!=h)for(var u=Se(h-(i?i[1]+i[3]:0),e,n.ellipsis,{minChar:n.minChar,placeholder:n.placeholder}),c=0,d=a.length;c<d;c++)a[c]=Me(a[c],u)}return{lines:a,height:r,outerHeight:s,lineHeight:o}}function Ce(t,e){var i={lines:[],width:0,height:0};if(null!=t&&(t+=\"\"),!t)return i;for(var n,o=W_.lastIndex=0;null!=(n=W_.exec(t));){var a=n.index;a>o&&Le(i,t.substring(o,a)),Le(i,n[2],n[1]),o=W_.lastIndex}o<t.length&&Le(i,t.substring(o,t.length));var r=i.lines,s=0,l=0,h=[],u=e.textPadding,c=e.truncate,d=c&&c.outerWidth,f=c&&c.outerHeight;u&&(null!=d&&(d-=u[1]+u[3]),null!=f&&(f-=u[0]+u[2]));for(L=0;L<r.length;L++){for(var p=r[L],g=0,m=0,v=0;v<p.tokens.length;v++){var y=(k=p.tokens[v]).styleName&&e.rich[k.styleName]||{},x=k.textPadding=y.textPadding,_=k.font=y.font||e.font,w=k.textHeight=A(y.textHeight,Te(_));if(x&&(w+=x[0]+x[2]),k.height=w,k.lineHeight=D(y.textLineHeight,e.textLineHeight,w),k.textAlign=y&&y.textAlign||e.textAlign,k.textVerticalAlign=y&&y.textVerticalAlign||\"middle\",null!=f&&s+k.lineHeight>f)return{lines:[],width:0,height:0};k.textWidth=ge(k.text,_);var b=y.textWidth,S=null==b||\"auto\"===b;if(\"string\"==typeof b&&\"%\"===b.charAt(b.length-1))k.percentWidth=b,h.push(k),b=0;else{if(S){b=k.textWidth;var M=y.textBackgroundColor,I=M&&M.image;I&&pe(I=ce(I))&&(b=Math.max(b,I.width*w/I.height))}var T=x?x[1]+x[3]:0;b+=T;var C=null!=d?d-m:null;null!=C&&C<b&&(!S||C<T?(k.text=\"\",k.textWidth=b=0):(k.text=be(k.text,C-T,_,c.ellipsis,{minChar:c.minChar}),k.textWidth=ge(k.text,_),b=k.textWidth+T))}m+=k.width=b,y&&(g=Math.max(g,k.lineHeight))}p.width=m,p.lineHeight=g,s+=g,l=Math.max(l,m)}i.outerWidth=i.width=A(e.textWidth,l),i.outerHeight=i.height=A(e.textHeight,s),u&&(i.outerWidth+=u[1]+u[3],i.outerHeight+=u[0]+u[2]);for(var L=0;L<h.length;L++){var k=h[L],P=k.percentWidth;k.width=parseInt(P,10)/100*l}return i}function Le(t,e,i){for(var n=\"\"===e,o=e.split(\"\\n\"),a=t.lines,r=0;r<o.length;r++){var s=o[r],l={styleName:i,text:s,isLineHolder:!s&&!n};if(r)a.push({tokens:[l]});else{var h=(a[a.length-1]||(a[0]={tokens:[]})).tokens,u=h.length;1===u&&h[0].isLineHolder?h[0]=l:(s||!u||n)&&h.push(l)}}}function ke(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+\"px\",t.fontFamily||\"sans-serif\"].join(\" \");return e&&P(e)||t.textFont||t.font}function Pe(t,e){var i,n,o,a,r=e.x,s=e.y,l=e.width,h=e.height,u=e.r;l<0&&(r+=l,l=-l),h<0&&(s+=h,h=-h),\"number\"==typeof u?i=n=o=a=u:u instanceof Array?1===u.length?i=n=o=a=u[0]:2===u.length?(i=o=u[0],n=a=u[1]):3===u.length?(i=u[0],n=a=u[1],o=u[2]):(i=u[0],n=u[1],o=u[2],a=u[3]):i=n=o=a=0;var c;i+n>l&&(i*=l/(c=i+n),n*=l/c),o+a>l&&(o*=l/(c=o+a),a*=l/c),n+o>h&&(n*=h/(c=n+o),o*=h/c),i+a>h&&(i*=h/(c=i+a),a*=h/c),t.moveTo(r+i,s),t.lineTo(r+l-n,s),0!==n&&t.quadraticCurveTo(r+l,s,r+l,s+n),t.lineTo(r+l,s+h-o),0!==o&&t.quadraticCurveTo(r+l,s+h,r+l-o,s+h),t.lineTo(r+a,s+h),0!==a&&t.quadraticCurveTo(r,s+h,r,s+h-a),t.lineTo(r,s+i),0!==i&&t.quadraticCurveTo(r,s,r+i,s)}function Oe(t){return Ne(t),d(t.rich,Ne),t}function Ne(t){if(t){t.font=ke(t);var e=t.textAlign;\"middle\"===e&&(e=\"center\"),t.textAlign=null==e||Z_[e]?e:\"left\";var i=t.textVerticalAlign||t.textBaseline;\"center\"===i&&(i=\"middle\"),t.textVerticalAlign=null==i||U_[i]?i:\"top\",t.textPadding&&(t.textPadding=L(t.textPadding))}}function Ee(t,e,i,n,o){n.rich?Re(t,e,i,n,o):ze(t,e,i,n,o)}function ze(t,e,i,n,o){var a=Ue(e,\"font\",n.font||F_),r=n.textPadding,s=t.__textCotentBlock;s&&!t.__dirty||(s=t.__textCotentBlock=De(i,a,r,n.truncate));var l=s.outerHeight,h=s.lines,u=s.lineHeight,c=Ze(l,n,o),d=c.baseX,f=c.baseY,p=c.textAlign,g=c.textVerticalAlign;Ve(e,n,o,d,f);var m=_e(f,l,g),v=d,y=m,x=We(n);if(x||r){var _=ge(i,a);r&&(_+=r[1]+r[3]);var w=xe(d,_,p);x&&Fe(t,e,n,w,m,_,l),r&&(v=qe(d,p,r),y+=r[0])}Ue(e,\"textAlign\",p||\"left\"),Ue(e,\"textBaseline\",\"middle\"),Ue(e,\"shadowBlur\",n.textShadowBlur||0),Ue(e,\"shadowColor\",n.textShadowColor||\"transparent\"),Ue(e,\"shadowOffsetX\",n.textShadowOffsetX||0),Ue(e,\"shadowOffsetY\",n.textShadowOffsetY||0),y+=u/2;var b=n.textStrokeWidth,S=je(n.textStroke,b),M=Xe(n.textFill);S&&(Ue(e,\"lineWidth\",b),Ue(e,\"strokeStyle\",S)),M&&Ue(e,\"fillStyle\",M);for(var I=0;I<h.length;I++)S&&e.strokeText(h[I],v,y),M&&e.fillText(h[I],v,y),y+=u}function Re(t,e,i,n,o){var a=t.__textCotentBlock;a&&!t.__dirty||(a=t.__textCotentBlock=Ce(i,n)),Be(t,e,a,n,o)}function Be(t,e,i,n,o){var a=i.width,r=i.outerWidth,s=i.outerHeight,l=n.textPadding,h=Ze(s,n,o),u=h.baseX,c=h.baseY,d=h.textAlign,f=h.textVerticalAlign;Ve(e,n,o,u,c);var p=xe(u,r,d),g=_e(c,s,f),m=p,v=g;l&&(m+=l[3],v+=l[0]);var y=m+a;We(n)&&Fe(t,e,n,p,g,r,s);for(var x=0;x<i.lines.length;x++){for(var _,w=i.lines[x],b=w.tokens,S=b.length,M=w.lineHeight,I=w.width,T=0,A=m,D=y,C=S-1;T<S&&(!(_=b[T]).textAlign||\"left\"===_.textAlign);)Ge(t,e,_,n,M,v,A,\"left\"),I-=_.width,A+=_.width,T++;for(;C>=0&&\"right\"===(_=b[C]).textAlign;)Ge(t,e,_,n,M,v,D,\"right\"),I-=_.width,D-=_.width,C--;for(A+=(a-(A-m)-(y-D)-I)/2;T<=C;)Ge(t,e,_=b[T],n,M,v,A+_.width/2,\"center\"),A+=_.width,T++;v+=M}}function Ve(t,e,i,n,o){if(i&&e.textRotation){var a=e.textOrigin;\"center\"===a?(n=i.width/2+i.x,o=i.height/2+i.y):a&&(n=a[0]+i.x,o=a[1]+i.y),t.translate(n,o),t.rotate(-e.textRotation),t.translate(-n,-o)}}function Ge(t,e,i,n,o,a,r,s){var l=n.rich[i.styleName]||{},h=i.textVerticalAlign,u=a+o/2;\"top\"===h?u=a+i.height/2:\"bottom\"===h&&(u=a+o-i.height/2),!i.isLineHolder&&We(l)&&Fe(t,e,l,\"right\"===s?r-i.width:\"center\"===s?r-i.width/2:r,u-i.height/2,i.width,i.height);var c=i.textPadding;c&&(r=qe(r,s,c),u-=i.height/2-c[2]-i.textHeight/2),Ue(e,\"shadowBlur\",D(l.textShadowBlur,n.textShadowBlur,0)),Ue(e,\"shadowColor\",l.textShadowColor||n.textShadowColor||\"transparent\"),Ue(e,\"shadowOffsetX\",D(l.textShadowOffsetX,n.textShadowOffsetX,0)),Ue(e,\"shadowOffsetY\",D(l.textShadowOffsetY,n.textShadowOffsetY,0)),Ue(e,\"textAlign\",s),Ue(e,\"textBaseline\",\"middle\"),Ue(e,\"font\",i.font||F_);var d=je(l.textStroke||n.textStroke,p),f=Xe(l.textFill||n.textFill),p=A(l.textStrokeWidth,n.textStrokeWidth);d&&(Ue(e,\"lineWidth\",p),Ue(e,\"strokeStyle\",d),e.strokeText(i.text,r,u)),f&&(Ue(e,\"fillStyle\",f),e.fillText(i.text,r,u))}function We(t){return t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor}function Fe(t,e,i,n,o,a,r){var s=i.textBackgroundColor,l=i.textBorderWidth,h=i.textBorderColor,u=_(s);if(Ue(e,\"shadowBlur\",i.textBoxShadowBlur||0),Ue(e,\"shadowColor\",i.textBoxShadowColor||\"transparent\"),Ue(e,\"shadowOffsetX\",i.textBoxShadowOffsetX||0),Ue(e,\"shadowOffsetY\",i.textBoxShadowOffsetY||0),u||l&&h){e.beginPath();var c=i.textBorderRadius;c?Pe(e,{x:n,y:o,width:a,height:r,r:c}):e.rect(n,o,a,r),e.closePath()}if(u)Ue(e,\"fillStyle\",s),e.fill();else if(w(s)){var d=s.image;(d=de(d,null,t,He,s))&&pe(d)&&e.drawImage(d,n,o,a,r)}l&&h&&(Ue(e,\"lineWidth\",l),Ue(e,\"strokeStyle\",h),e.stroke())}function He(t,e){e.image=t}function Ze(t,e,i){var n=e.x||0,o=e.y||0,a=e.textAlign,r=e.textVerticalAlign;if(i){var s=e.textPosition;if(s instanceof Array)n=i.x+Ye(s[0],i.width),o=i.y+Ye(s[1],i.height);else{var l=we(s,i,e.textDistance);n=l.x,o=l.y,a=a||l.textAlign,r=r||l.textVerticalAlign}var h=e.textOffset;h&&(n+=h[0],o+=h[1])}return{baseX:n,baseY:o,textAlign:a,textVerticalAlign:r}}function Ue(t,e,i){return t[e]=D_(t,e,i),t[e]}function je(t,e){return null==t||e<=0||\"transparent\"===t||\"none\"===t?null:t.image||t.colorStops?\"#000\":t}function Xe(t){return null==t||\"none\"===t?null:t.image||t.colorStops?\"#000\":t}function Ye(t,e){return\"string\"==typeof t?t.lastIndexOf(\"%\")>=0?parseFloat(t)/100*e:parseFloat(t):t}function qe(t,e,i){return\"right\"===e?t-i[1]:\"center\"===e?t+i[3]/2-i[1]/2:t+i[3]}function $e(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}function Ke(t){t=t||{},x_.call(this,t);for(var e in t)t.hasOwnProperty(e)&&\"style\"!==e&&(this[e]=t[e]);this.style=new L_(t.style,this),this._rect=null,this.__clipPaths=[]}function Je(t){Ke.call(this,t)}function Qe(t){return parseInt(t,10)}function ti(t){return!!t&&(!!t.__builtin__||\"function\"==typeof t.resize&&\"function\"==typeof t.refresh)}function ei(t,e,i){return Y_.copy(t.getBoundingRect()),t.transform&&Y_.applyTransform(t.transform),q_.width=e,q_.height=i,!Y_.intersect(q_)}function ii(t,e){if(t==e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0}function ni(t,e){for(var i=0;i<t.length;i++){var n=t[i];n.setTransform(e),e.beginPath(),n.buildPath(e,n.shape),e.clip(),n.restoreTransform(e)}}function oi(t,e){var i=document.createElement(\"div\");return i.style.cssText=[\"position:relative\",\"overflow:hidden\",\"width:\"+t+\"px\",\"height:\"+e+\"px\",\"padding:0\",\"margin:0\",\"border-width:0\"].join(\";\")+\";\",i}function ai(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}function ri(t,e,i,n){return i=i||{},n||!_x.canvasSupported?si(t,e,i):_x.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):si(t,e,i),i}function si(t,e,i){var n=ai(t);i.zrX=e.clientX-n.left,i.zrY=e.clientY-n.top}function li(t,e,i){if(null!=(e=e||window.event).zrX)return e;var n=e.type;if(n&&n.indexOf(\"touch\")>=0){var o=\"touchend\"!=n?e.targetTouches[0]:e.changedTouches[0];o&&ri(t,o,e,i)}else ri(t,e,e,i),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var a=e.button;return null==e.which&&void 0!==a&&J_.test(e.type)&&(e.which=1&a?1:2&a?3:4&a?2:0),e}function hi(t,e,i){K_?t.addEventListener(e,i):t.attachEvent(\"on\"+e,i)}function ui(t,e,i){K_?t.removeEventListener(e,i):t.detachEvent(\"on\"+e,i)}function ci(t){return t.which>1}function di(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}function fi(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}function pi(t){return\"mousewheel\"===t&&_x.browser.firefox?\"DOMMouseScroll\":t}function gi(t,e,i){var n=t._gestureMgr;\"start\"===i&&n.clear();var o=n.recognize(e,t.handler.findHover(e.zrX,e.zrY,null).target,t.dom);if(\"end\"===i&&n.clear(),o){var a=o.type;e.gestureEvent=a,t.handler.dispatchToElement({target:o.target},a,o.event)}}function mi(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function vi(t){var e=t.pointerType;return\"pen\"===e||\"touch\"===e}function yi(t){function e(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}d(ow,function(e){t._handlers[e]=m(sw[e],t)}),d(rw,function(e){t._handlers[e]=m(sw[e],t)}),d(nw,function(i){t._handlers[i]=e(sw[i],t)})}function xi(t){function e(e,i){d(e,function(e){hi(t,pi(e),i._handlers[e])},i)}Hx.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._gestureMgr=new ew,this._handlers={},yi(this),_x.pointerEventsSupported?e(rw,this):(_x.touchEventsSupported&&e(ow,this),e(nw,this))}function _i(t,e){var i=new dw(yx(),t,e);return cw[i.id]=i,i}function wi(t,e){uw[t]=e}function bi(t){delete cw[t]}function Si(t){return t instanceof Array?t:null==t?[]:[t]}function Mi(t,e,i){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,o=i.length;n<o;n++){var a=i[n];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}function Ii(t){return!gw(t)||mw(t)||t instanceof Date?t:t.value}function Ti(t){return gw(t)&&!(t instanceof Array)}function Ai(t,e){e=(e||[]).slice();var i=f(t||[],function(t,e){return{exist:t}});return pw(e,function(t,n){if(gw(t)){for(o=0;o<i.length;o++)if(!i[o].option&&null!=t.id&&i[o].exist.id===t.id+\"\")return i[o].option=t,void(e[n]=null);for(var o=0;o<i.length;o++){var a=i[o].exist;if(!(i[o].option||null!=a.id&&null!=t.id||null==t.name||Ci(t)||Ci(a)||a.name!==t.name+\"\"))return i[o].option=t,void(e[n]=null)}}}),pw(e,function(t,e){if(gw(t)){for(var n=0;n<i.length;n++){var o=i[n].exist;if(!i[n].option&&!Ci(o)&&null==t.id){i[n].option=t;break}}n>=i.length&&i.push({option:t})}}),i}function Di(t){var e=z();pw(t,function(t,i){var n=t.exist;n&&e.set(n.id,t)}),pw(t,function(t,i){var n=t.option;k(!n||null==n.id||!e.get(n.id)||e.get(n.id)===t,\"id duplicates: \"+(n&&n.id)),n&&null!=n.id&&e.set(n.id,t),!t.keyInfo&&(t.keyInfo={})}),pw(t,function(t,i){var n=t.exist,o=t.option,a=t.keyInfo;if(gw(o)){if(a.name=null!=o.name?o.name+\"\":n?n.name:vw,n)a.id=n.id;else if(null!=o.id)a.id=o.id+\"\";else{var r=0;do{a.id=\"\\0\"+a.name+\"\\0\"+r++}while(e.get(a.id))}e.set(a.id,t)}})}function Ci(t){return gw(t)&&t.id&&0===(t.id+\"\").indexOf(\"\\0_ec_\\0\")}function Li(t,e){function i(t,e,i){for(var n=0,o=t.length;n<o;n++)for(var a=t[n].seriesId,r=Si(t[n].dataIndex),s=i&&i[a],l=0,h=r.length;l<h;l++){var u=r[l];s&&s[u]?s[u]=null:(e[a]||(e[a]={}))[u]=1}}function n(t,e){var i=[];for(var o in t)if(t.hasOwnProperty(o)&&null!=t[o])if(e)i.push(+o);else{var a=n(t[o],!0);a.length&&i.push({seriesId:o,dataIndex:a})}return i}var o={},a={};return i(t||[],o),i(e||[],a,o),[n(o),n(a)]}function ki(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?y(e.dataIndex)?f(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?y(e.name)?f(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0}function Pi(){var t=\"__\\0ec_inner_\"+xw+++\"_\"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}}function Oi(t,e,i){if(_(e)){var n={};n[e+\"Index\"]=0,e=n}var o=i&&i.defaultMainType;!o||Ni(e,o+\"Index\")||Ni(e,o+\"Id\")||Ni(e,o+\"Name\")||(e[o+\"Index\"]=0);var a={};return pw(e,function(n,o){var n=e[o];if(\"dataIndex\"!==o&&\"dataIndexInside\"!==o){var r=o.match(/^(\\w+)(Index|Id|Name)$/)||[],s=r[1],h=(r[2]||\"\").toLowerCase();if(!(!s||!h||null==n||\"index\"===h&&\"none\"===n||i&&i.includeMainTypes&&l(i.includeMainTypes,s)<0)){var u={mainType:s};\"index\"===h&&\"all\"===n||(u[h]=n);var c=t.queryComponents(u);a[s+\"Models\"]=c,a[s+\"Model\"]=c[0]}}else a[o]=n}),a}function Ni(t,e){return t&&t.hasOwnProperty(e)}function Ei(t,e,i){t.setAttribute?t.setAttribute(e,i):t[e]=i}function zi(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function Ri(t){var e={main:\"\",sub:\"\"};return t&&(t=t.split(_w),e.main=t[0]||\"\",e.sub=t[1]||\"\"),e}function Bi(t){k(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType \"'+t+'\" illegal')}function Vi(t,e){t.$constructor=t,t.extend=function(t){var e=this,i=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return a(i.prototype,t),i.extend=this.extend,i.superCall=Wi,i.superApply=Fi,h(i,this),i.superClass=e,i}}function Gi(t){var e=[\"__\\0is_clz\",bw++,Math.random().toFixed(3)].join(\"_\");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function Wi(t,e){var i=C(arguments,2);return this.superClass.prototype[e].apply(t,i)}function Fi(t,e,i){return this.superClass.prototype[e].apply(t,i)}function Hi(t,e){function i(t){var e=n[t.main];return e&&e[ww]||((e=n[t.main]={})[ww]=!0),e}e=e||{};var n={};if(t.registerClass=function(t,e){return e&&(Bi(e),(e=Ri(e)).sub?e.sub!==ww&&(i(e)[e.sub]=t):n[e.main]=t),t},t.getClass=function(t,e,i){var o=n[t];if(o&&o[ww]&&(o=e?o[e]:null),i&&!o)throw new Error(e?\"Component \"+t+\".\"+(e||\"\")+\" not exists. Load it first.\":t+\".type should be specified.\");return o},t.getClassesByMainType=function(t){t=Ri(t);var e=[],i=n[t.main];return i&&i[ww]?d(i,function(t,i){i!==ww&&e.push(t)}):e.push(i),e},t.hasClass=function(t){return t=Ri(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return d(n,function(e,i){t.push(i)}),t},t.hasSubTypes=function(t){t=Ri(t);var e=n[t.main];return e&&e[ww]},t.parseClassType=Ri,e.registerWhenExtend){var o=t.extend;o&&(t.extend=function(e){var i=o.call(this,e);return t.registerClass(i,e.type)})}return t}function Zi(t){return t>-Lw&&t<Lw}function Ui(t){return t>Lw||t<-Lw}function ji(t,e,i,n,o){var a=1-o;return a*a*(a*t+3*o*e)+o*o*(o*n+3*a*i)}function Xi(t,e,i,n,o){var a=1-o;return 3*(((e-t)*a+2*(i-e)*o)*a+(n-i)*o*o)}function Yi(t,e,i,n,o,a){var r=n+3*(e-i)-t,s=3*(i-2*e+t),l=3*(e-t),h=t-o,u=s*s-3*r*l,c=s*l-9*r*h,d=l*l-3*s*h,f=0;if(Zi(u)&&Zi(c))Zi(s)?a[0]=0:(M=-l/s)>=0&&M<=1&&(a[f++]=M);else{var p=c*c-4*u*d;if(Zi(p)){var g=c/u,m=-g/2;(M=-s/r+g)>=0&&M<=1&&(a[f++]=M),m>=0&&m<=1&&(a[f++]=m)}else if(p>0){var v=Cw(p),y=u*s+1.5*r*(-c+v),x=u*s+1.5*r*(-c-v);(M=(-s-((y=y<0?-Dw(-y,Ow):Dw(y,Ow))+(x=x<0?-Dw(-x,Ow):Dw(x,Ow))))/(3*r))>=0&&M<=1&&(a[f++]=M)}else{var _=(2*u*s-3*r*c)/(2*Cw(u*u*u)),w=Math.acos(_)/3,b=Cw(u),S=Math.cos(w),M=(-s-2*b*S)/(3*r),m=(-s+b*(S+Pw*Math.sin(w)))/(3*r),I=(-s+b*(S-Pw*Math.sin(w)))/(3*r);M>=0&&M<=1&&(a[f++]=M),m>=0&&m<=1&&(a[f++]=m),I>=0&&I<=1&&(a[f++]=I)}}return f}function qi(t,e,i,n,o){var a=6*i-12*e+6*t,r=9*e+3*n-3*t-9*i,s=3*e-3*t,l=0;if(Zi(r))Ui(a)&&(c=-s/a)>=0&&c<=1&&(o[l++]=c);else{var h=a*a-4*r*s;if(Zi(h))o[0]=-a/(2*r);else if(h>0){var u=Cw(h),c=(-a+u)/(2*r),d=(-a-u)/(2*r);c>=0&&c<=1&&(o[l++]=c),d>=0&&d<=1&&(o[l++]=d)}}return l}function $i(t,e,i,n,o,a){var r=(e-t)*o+t,s=(i-e)*o+e,l=(n-i)*o+i,h=(s-r)*o+r,u=(l-s)*o+s,c=(u-h)*o+h;a[0]=t,a[1]=r,a[2]=h,a[3]=c,a[4]=c,a[5]=u,a[6]=l,a[7]=n}function Ki(t,e,i,n,o,a,r,s,l,h,u){var c,d,f,p,g,m=.005,v=1/0;Nw[0]=l,Nw[1]=h;for(var y=0;y<1;y+=.05)Ew[0]=ji(t,i,o,r,y),Ew[1]=ji(e,n,a,s,y),(p=Gx(Nw,Ew))<v&&(c=y,v=p);v=1/0;for(var x=0;x<32&&!(m<kw);x++)d=c-m,f=c+m,Ew[0]=ji(t,i,o,r,d),Ew[1]=ji(e,n,a,s,d),p=Gx(Ew,Nw),d>=0&&p<v?(c=d,v=p):(zw[0]=ji(t,i,o,r,f),zw[1]=ji(e,n,a,s,f),g=Gx(zw,Nw),f<=1&&g<v?(c=f,v=g):m*=.5);return u&&(u[0]=ji(t,i,o,r,c),u[1]=ji(e,n,a,s,c)),Cw(v)}function Ji(t,e,i,n){var o=1-n;return o*(o*t+2*n*e)+n*n*i}function Qi(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))}function tn(t,e,i,n,o){var a=t-2*e+i,r=2*(e-t),s=t-n,l=0;if(Zi(a))Ui(r)&&(c=-s/r)>=0&&c<=1&&(o[l++]=c);else{var h=r*r-4*a*s;if(Zi(h))(c=-r/(2*a))>=0&&c<=1&&(o[l++]=c);else if(h>0){var u=Cw(h),c=(-r+u)/(2*a),d=(-r-u)/(2*a);c>=0&&c<=1&&(o[l++]=c),d>=0&&d<=1&&(o[l++]=d)}}return l}function en(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n}function nn(t,e,i,n,o){var a=(e-t)*n+t,r=(i-e)*n+e,s=(r-a)*n+a;o[0]=t,o[1]=a,o[2]=s,o[3]=s,o[4]=r,o[5]=i}function on(t,e,i,n,o,a,r,s,l){var h,u=.005,c=1/0;Nw[0]=r,Nw[1]=s;for(var d=0;d<1;d+=.05)Ew[0]=Ji(t,i,o,d),Ew[1]=Ji(e,n,a,d),(m=Gx(Nw,Ew))<c&&(h=d,c=m);c=1/0;for(var f=0;f<32&&!(u<kw);f++){var p=h-u,g=h+u;Ew[0]=Ji(t,i,o,p),Ew[1]=Ji(e,n,a,p);var m=Gx(Ew,Nw);if(p>=0&&m<c)h=p,c=m;else{zw[0]=Ji(t,i,o,g),zw[1]=Ji(e,n,a,g);var v=Gx(zw,Nw);g<=1&&v<c?(h=g,c=v):u*=.5}}return l&&(l[0]=Ji(t,i,o,h),l[1]=Ji(e,n,a,h)),Cw(c)}function an(t,e,i){if(0!==t.length){var n,o=t[0],a=o[0],r=o[0],s=o[1],l=o[1];for(n=1;n<t.length;n++)o=t[n],a=Rw(a,o[0]),r=Bw(r,o[0]),s=Rw(s,o[1]),l=Bw(l,o[1]);e[0]=a,e[1]=s,i[0]=r,i[1]=l}}function rn(t,e,i,n,o,a){o[0]=Rw(t,i),o[1]=Rw(e,n),a[0]=Bw(t,i),a[1]=Bw(e,n)}function sn(t,e,i,n,o,a,r,s,l,h){var u,c=qi,d=ji,f=c(t,i,o,r,Uw);for(l[0]=1/0,l[1]=1/0,h[0]=-1/0,h[1]=-1/0,u=0;u<f;u++){var p=d(t,i,o,r,Uw[u]);l[0]=Rw(p,l[0]),h[0]=Bw(p,h[0])}for(f=c(e,n,a,s,jw),u=0;u<f;u++){var g=d(e,n,a,s,jw[u]);l[1]=Rw(g,l[1]),h[1]=Bw(g,h[1])}l[0]=Rw(t,l[0]),h[0]=Bw(t,h[0]),l[0]=Rw(r,l[0]),h[0]=Bw(r,h[0]),l[1]=Rw(e,l[1]),h[1]=Bw(e,h[1]),l[1]=Rw(s,l[1]),h[1]=Bw(s,h[1])}function ln(t,e,i,n,o,a,r,s){var l=en,h=Ji,u=Bw(Rw(l(t,i,o),1),0),c=Bw(Rw(l(e,n,a),1),0),d=h(t,i,o,u),f=h(e,n,a,c);r[0]=Rw(t,o,d),r[1]=Rw(e,a,f),s[0]=Bw(t,o,d),s[1]=Bw(e,a,f)}function hn(t,e,i,n,o,a,r,s,l){var h=tt,u=et,c=Math.abs(o-a);if(c%Ww<1e-4&&c>1e-4)return s[0]=t-i,s[1]=e-n,l[0]=t+i,void(l[1]=e+n);if(Fw[0]=Gw(o)*i+t,Fw[1]=Vw(o)*n+e,Hw[0]=Gw(a)*i+t,Hw[1]=Vw(a)*n+e,h(s,Fw,Hw),u(l,Fw,Hw),(o%=Ww)<0&&(o+=Ww),(a%=Ww)<0&&(a+=Ww),o>a&&!r?a+=Ww:o<a&&r&&(o+=Ww),r){var d=a;a=o,o=d}for(var f=0;f<a;f+=Math.PI/2)f>o&&(Zw[0]=Gw(f)*i+t,Zw[1]=Vw(f)*n+e,h(s,Zw,s),u(l,Zw,l))}function un(t,e,i,n,o,a,r){if(0===o)return!1;var s=o,l=0,h=t;if(r>e+s&&r>n+s||r<e-s&&r<n-s||a>t+s&&a>i+s||a<t-s&&a<i-s)return!1;if(t===i)return Math.abs(a-t)<=s/2;var u=(l=(e-n)/(t-i))*a-r+(h=(t*n-i*e)/(t-i));return u*u/(l*l+1)<=s/2*s/2}function cn(t,e,i,n,o,a,r,s,l,h,u){if(0===l)return!1;var c=l;return!(u>e+c&&u>n+c&&u>a+c&&u>s+c||u<e-c&&u<n-c&&u<a-c&&u<s-c||h>t+c&&h>i+c&&h>o+c&&h>r+c||h<t-c&&h<i-c&&h<o-c&&h<r-c)&&Ki(t,e,i,n,o,a,r,s,h,u,null)<=c/2}function dn(t,e,i,n,o,a,r,s,l){if(0===r)return!1;var h=r;return!(l>e+h&&l>n+h&&l>a+h||l<e-h&&l<n-h&&l<a-h||s>t+h&&s>i+h&&s>o+h||s<t-h&&s<i-h&&s<o-h)&&on(t,e,i,n,o,a,s,l,null)<=h/2}function fn(t){return(t%=rb)<0&&(t+=rb),t}function pn(t,e,i,n,o,a,r,s,l){if(0===r)return!1;var h=r;s-=t,l-=e;var u=Math.sqrt(s*s+l*l);if(u-h>i||u+h<i)return!1;if(Math.abs(n-o)%sb<1e-4)return!0;if(a){var c=n;n=fn(o),o=fn(c)}else n=fn(n),o=fn(o);n>o&&(o+=sb);var d=Math.atan2(l,s);return d<0&&(d+=sb),d>=n&&d<=o||d+sb>=n&&d+sb<=o}function gn(t,e,i,n,o,a){if(a>e&&a>n||a<e&&a<n)return 0;if(n===e)return 0;var r=n<e?1:-1,s=(a-e)/(n-e);return 1!==s&&0!==s||(r=n<e?.5:-.5),s*(i-t)+t>o?r:0}function mn(t,e){return Math.abs(t-e)<ub}function vn(){var t=db[0];db[0]=db[1],db[1]=t}function yn(t,e,i,n,o,a,r,s,l,h){if(h>e&&h>n&&h>a&&h>s||h<e&&h<n&&h<a&&h<s)return 0;var u=Yi(e,n,a,s,h,cb);if(0===u)return 0;for(var c,d,f=0,p=-1,g=0;g<u;g++){var m=cb[g],v=0===m||1===m?.5:1;ji(t,i,o,r,m)<l||(p<0&&(p=qi(e,n,a,s,db),db[1]<db[0]&&p>1&&vn(),c=ji(e,n,a,s,db[0]),p>1&&(d=ji(e,n,a,s,db[1]))),2==p?m<db[0]?f+=c<e?v:-v:m<db[1]?f+=d<c?v:-v:f+=s<d?v:-v:m<db[0]?f+=c<e?v:-v:f+=s<c?v:-v)}return f}function xn(t,e,i,n,o,a,r,s){if(s>e&&s>n&&s>a||s<e&&s<n&&s<a)return 0;var l=tn(e,n,a,s,cb);if(0===l)return 0;var h=en(e,n,a);if(h>=0&&h<=1){for(var u=0,c=Ji(e,n,a,h),d=0;d<l;d++){f=0===cb[d]||1===cb[d]?.5:1;(p=Ji(t,i,o,cb[d]))<r||(cb[d]<h?u+=c<e?f:-f:u+=a<c?f:-f)}return u}var f=0===cb[0]||1===cb[0]?.5:1,p=Ji(t,i,o,cb[0]);return p<r?0:a<e?f:-f}function _n(t,e,i,n,o,a,r,s){if((s-=e)>i||s<-i)return 0;h=Math.sqrt(i*i-s*s);cb[0]=-h,cb[1]=h;var l=Math.abs(n-o);if(l<1e-4)return 0;if(l%hb<1e-4){n=0,o=hb;p=a?1:-1;return r>=cb[0]+t&&r<=cb[1]+t?p:0}if(a){var h=n;n=fn(o),o=fn(h)}else n=fn(n),o=fn(o);n>o&&(o+=hb);for(var u=0,c=0;c<2;c++){var d=cb[c];if(d+t>r){var f=Math.atan2(s,d),p=a?1:-1;f<0&&(f=hb+f),(f>=n&&f<=o||f+hb>=n&&f+hb<=o)&&(f>Math.PI/2&&f<1.5*Math.PI&&(p=-p),u+=p)}}return u}function wn(t,e,i,n,o){for(var a=0,r=0,s=0,l=0,h=0,u=0;u<t.length;){var c=t[u++];switch(c===lb.M&&u>1&&(i||(a+=gn(r,s,l,h,n,o))),1==u&&(l=r=t[u],h=s=t[u+1]),c){case lb.M:r=l=t[u++],s=h=t[u++];break;case lb.L:if(i){if(un(r,s,t[u],t[u+1],e,n,o))return!0}else a+=gn(r,s,t[u],t[u+1],n,o)||0;r=t[u++],s=t[u++];break;case lb.C:if(i){if(cn(r,s,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],e,n,o))return!0}else a+=yn(r,s,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],n,o)||0;r=t[u++],s=t[u++];break;case lb.Q:if(i){if(dn(r,s,t[u++],t[u++],t[u],t[u+1],e,n,o))return!0}else a+=xn(r,s,t[u++],t[u++],t[u],t[u+1],n,o)||0;r=t[u++],s=t[u++];break;case lb.A:var d=t[u++],f=t[u++],p=t[u++],g=t[u++],m=t[u++],v=t[u++],y=(t[u++],1-t[u++]),x=Math.cos(m)*p+d,_=Math.sin(m)*g+f;u>1?a+=gn(r,s,x,_,n,o):(l=x,h=_);var w=(n-d)*g/p+d;if(i){if(pn(d,f,g,m,m+v,y,e,w,o))return!0}else a+=_n(d,f,g,m,m+v,y,w,o);r=Math.cos(m+v)*p+d,s=Math.sin(m+v)*g+f;break;case lb.R:l=r=t[u++],h=s=t[u++];var x=l+t[u++],_=h+t[u++];if(i){if(un(l,h,x,h,e,n,o)||un(x,h,x,_,e,n,o)||un(x,_,l,_,e,n,o)||un(l,_,l,h,e,n,o))return!0}else a+=gn(x,h,x,_,n,o),a+=gn(l,_,l,h,n,o);break;case lb.Z:if(i){if(un(r,s,l,h,e,n,o))return!0}else a+=gn(r,s,l,h,n,o);r=l,s=h}}return i||mn(s,h)||(a+=gn(r,s,l,h,n,o)||0),0!==a}function bn(t,e,i){return wn(t,0,!1,e,i)}function Sn(t,e,i,n){return wn(t,e,!0,i,n)}function Mn(t){Ke.call(this,t),this.path=null}function In(t,e,i,n,o,a,r,s,l,h,u){var c=l*(Ib/180),d=Mb(c)*(t-i)/2+Sb(c)*(e-n)/2,f=-1*Sb(c)*(t-i)/2+Mb(c)*(e-n)/2,p=d*d/(r*r)+f*f/(s*s);p>1&&(r*=bb(p),s*=bb(p));var g=(o===a?-1:1)*bb((r*r*(s*s)-r*r*(f*f)-s*s*(d*d))/(r*r*(f*f)+s*s*(d*d)))||0,m=g*r*f/s,v=g*-s*d/r,y=(t+i)/2+Mb(c)*m-Sb(c)*v,x=(e+n)/2+Sb(c)*m+Mb(c)*v,_=Db([1,0],[(d-m)/r,(f-v)/s]),w=[(d-m)/r,(f-v)/s],b=[(-1*d-m)/r,(-1*f-v)/s],S=Db(w,b);Ab(w,b)<=-1&&(S=Ib),Ab(w,b)>=1&&(S=0),0===a&&S>0&&(S-=2*Ib),1===a&&S<0&&(S+=2*Ib),u.addData(h,y,x,r,s,_,S,c,a)}function Tn(t){if(!t)return[];var e,i=t.replace(/-/g,\" -\").replace(/  /g,\" \").replace(/ /g,\",\").replace(/,,/g,\",\");for(e=0;e<wb.length;e++)i=i.replace(new RegExp(wb[e],\"g\"),\"|\"+wb[e]);var n,o=i.split(\"|\"),a=0,r=0,s=new ab,l=ab.CMD;for(e=1;e<o.length;e++){var h,u=o[e],c=u.charAt(0),d=0,f=u.slice(1).replace(/e,-/g,\"e-\").split(\",\");f.length>0&&\"\"===f[0]&&f.shift();for(var p=0;p<f.length;p++)f[p]=parseFloat(f[p]);for(;d<f.length&&!isNaN(f[d])&&!isNaN(f[0]);){var g,m,v,y,x,_,w,b=a,S=r;switch(c){case\"l\":a+=f[d++],r+=f[d++],h=l.L,s.addData(h,a,r);break;case\"L\":a=f[d++],r=f[d++],h=l.L,s.addData(h,a,r);break;case\"m\":a+=f[d++],r+=f[d++],h=l.M,s.addData(h,a,r),c=\"l\";break;case\"M\":a=f[d++],r=f[d++],h=l.M,s.addData(h,a,r),c=\"L\";break;case\"h\":a+=f[d++],h=l.L,s.addData(h,a,r);break;case\"H\":a=f[d++],h=l.L,s.addData(h,a,r);break;case\"v\":r+=f[d++],h=l.L,s.addData(h,a,r);break;case\"V\":r=f[d++],h=l.L,s.addData(h,a,r);break;case\"C\":h=l.C,s.addData(h,f[d++],f[d++],f[d++],f[d++],f[d++],f[d++]),a=f[d-2],r=f[d-1];break;case\"c\":h=l.C,s.addData(h,f[d++]+a,f[d++]+r,f[d++]+a,f[d++]+r,f[d++]+a,f[d++]+r),a+=f[d-2],r+=f[d-1];break;case\"S\":g=a,m=r;var M=s.len(),I=s.data;n===l.C&&(g+=a-I[M-4],m+=r-I[M-3]),h=l.C,b=f[d++],S=f[d++],a=f[d++],r=f[d++],s.addData(h,g,m,b,S,a,r);break;case\"s\":g=a,m=r;var M=s.len(),I=s.data;n===l.C&&(g+=a-I[M-4],m+=r-I[M-3]),h=l.C,b=a+f[d++],S=r+f[d++],a+=f[d++],r+=f[d++],s.addData(h,g,m,b,S,a,r);break;case\"Q\":b=f[d++],S=f[d++],a=f[d++],r=f[d++],h=l.Q,s.addData(h,b,S,a,r);break;case\"q\":b=f[d++]+a,S=f[d++]+r,a+=f[d++],r+=f[d++],h=l.Q,s.addData(h,b,S,a,r);break;case\"T\":g=a,m=r;var M=s.len(),I=s.data;n===l.Q&&(g+=a-I[M-4],m+=r-I[M-3]),a=f[d++],r=f[d++],h=l.Q,s.addData(h,g,m,a,r);break;case\"t\":g=a,m=r;var M=s.len(),I=s.data;n===l.Q&&(g+=a-I[M-4],m+=r-I[M-3]),a+=f[d++],r+=f[d++],h=l.Q,s.addData(h,g,m,a,r);break;case\"A\":v=f[d++],y=f[d++],x=f[d++],_=f[d++],w=f[d++],In(b=a,S=r,a=f[d++],r=f[d++],_,w,v,y,x,h=l.A,s);break;case\"a\":v=f[d++],y=f[d++],x=f[d++],_=f[d++],w=f[d++],In(b=a,S=r,a+=f[d++],r+=f[d++],_,w,v,y,x,h=l.A,s)}}\"z\"!==c&&\"Z\"!==c||(h=l.Z,s.addData(h)),n=h}return s.toStatic(),s}function An(t,e){var i=Tn(t);return e=e||{},e.buildPath=function(t){if(t.setData)t.setData(i.data),(e=t.getContext())&&t.rebuildPath(e);else{var e=t;i.rebuildPath(e)}},e.applyTransform=function(t){_b(i,t),this.dirty(!0)},e}function Dn(t,e){return new Mn(An(t,e))}function Cn(t,e){return Mn.extend(An(t,e))}function Ln(t,e,i,n,o,a,r){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*r+(-3*(e-i)-2*s-l)*a+s*o+e}function kn(t,e,i){var n=e.points,o=e.smooth;if(n&&n.length>=2){if(o&&\"spline\"!==o){var a=zb(n,o,i,e.smoothConstraint);t.moveTo(n[0][0],n[0][1]);for(var r=n.length,s=0;s<(i?r:r-1);s++){var l=a[2*s],h=a[2*s+1],u=n[(s+1)%r];t.bezierCurveTo(l[0],l[1],h[0],h[1],u[0],u[1])}}else{\"spline\"===o&&(n=Eb(n,i)),t.moveTo(n[0][0],n[0][1]);for(var s=1,c=n.length;s<c;s++)t.lineTo(n[s][0],n[s][1])}i&&t.closePath()}}function Pn(t,e,i){var n=t.cpx2,o=t.cpy2;return null===n||null===o?[(i?Xi:ji)(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?Xi:ji)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?Qi:Ji)(t.x1,t.cpx1,t.x2,e),(i?Qi:Ji)(t.y1,t.cpy1,t.y2,e)]}function On(t){Ke.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function Nn(t){return Mn.extend(t)}function En(t,e,i,n){var o=Dn(t,e),a=o.getBoundingRect();return i&&(\"center\"===n&&(i=Rn(i,a)),Bn(o,i)),o}function zn(t,e,i){var n=new Je({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if(\"center\"===i){var o={width:t.width,height:t.height};n.setStyle(Rn(e,o))}}});return n}function Rn(t,e){var i,n=e.width/e.height,o=t.height*n;return i=o<=t.width?t.height:(o=t.width)/n,{x:t.x+t.width/2-o/2,y:t.y+t.height/2-i/2,width:o,height:i}}function Bn(t,e){if(t.applyTransform){var i=t.getBoundingRect().calculateTransform(e);t.applyTransform(i)}}function Vn(t){var e=t.shape,i=t.style.lineWidth;return qb(2*e.x1)===qb(2*e.x2)&&(e.x1=e.x2=Wn(e.x1,i,!0)),qb(2*e.y1)===qb(2*e.y2)&&(e.y1=e.y2=Wn(e.y1,i,!0)),t}function Gn(t){var e=t.shape,i=t.style.lineWidth,n=e.x,o=e.y,a=e.width,r=e.height;return e.x=Wn(e.x,i,!0),e.y=Wn(e.y,i,!0),e.width=Math.max(Wn(n+a,i,!1)-e.x,0===a?0:1),e.height=Math.max(Wn(o+r,i,!1)-e.y,0===r?0:1),t}function Wn(t,e,i){var n=qb(2*t);return(n+qb(e))%2==0?n/2:(n+(i?1:-1))/2}function Fn(t){return null!=t&&\"none\"!=t}function Hn(t){return\"string\"==typeof t?kt(t,-.1):t}function Zn(t){if(t.__hoverStlDirty){var e=t.style.stroke,i=t.style.fill,n=t.__hoverStl;n.fill=n.fill||(Fn(i)?Hn(i):null),n.stroke=n.stroke||(Fn(e)?Hn(e):null);var o={};for(var a in n)null!=n[a]&&(o[a]=t.style[a]);t.__normalStl=o,t.__hoverStlDirty=!1}}function Un(t){if(!t.__isHover){if(Zn(t),t.useHoverLayer)t.__zr&&t.__zr.addHover(t,t.__hoverStl);else{var e=t.style,i=e.insideRollbackOpt;i&&lo(e),e.extendFrom(t.__hoverStl),i&&(so(e,e.insideOriginalTextPosition,i),null==e.textFill&&(e.textFill=i.autoColor)),t.dirty(!1),t.z2+=1}t.__isHover=!0}}function jn(t){if(t.__isHover){var e=t.__normalStl;t.useHoverLayer?t.__zr&&t.__zr.removeHover(t):(e&&t.setStyle(e),t.z2-=1),t.__isHover=!1}}function Xn(t){\"group\"===t.type?t.traverse(function(t){\"group\"!==t.type&&Un(t)}):Un(t)}function Yn(t){\"group\"===t.type?t.traverse(function(t){\"group\"!==t.type&&jn(t)}):jn(t)}function qn(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&Zn(t)}function $n(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&Xn(this)}function Kn(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&Yn(this)}function Jn(){this.__isEmphasis=!0,Xn(this)}function Qn(){this.__isEmphasis=!1,Yn(this)}function to(t,e,i){t.__hoverSilentOnTouch=i&&i.hoverSilentOnTouch,\"group\"===t.type?t.traverse(function(t){\"group\"!==t.type&&qn(t,e)}):qn(t,e),t.on(\"mouseover\",$n).on(\"mouseout\",Kn),t.on(\"emphasis\",Jn).on(\"normal\",Qn)}function eo(t,e,i,n,o,a,r){var s,l=(o=o||Jb).labelFetcher,h=o.labelDataIndex,u=o.labelDimIndex,c=i.getShallow(\"show\"),d=n.getShallow(\"show\");(c||d)&&(l&&(s=l.getFormattedLabel(h,\"normal\",null,u)),null==s&&(s=x(o.defaultText)?o.defaultText(h,o):o.defaultText));var f=c?s:null,p=d?A(l?l.getFormattedLabel(h,\"emphasis\",null,u):null,s):null;null==f&&null==p||(io(t,i,a,o),io(e,n,r,o,!0)),t.text=f,e.text=p}function io(t,e,i,n,o){return no(t,e,n,o),i&&a(t,i),t.host&&t.host.dirty&&t.host.dirty(!1),t}function no(t,e,i,n){if((i=i||Jb).isRectText){var o=e.getShallow(\"position\")||(n?null:\"inside\");\"outside\"===o&&(o=\"top\"),t.textPosition=o,t.textOffset=e.getShallow(\"offset\");var a=e.getShallow(\"rotate\");null!=a&&(a*=Math.PI/180),t.textRotation=a,t.textDistance=A(e.getShallow(\"distance\"),n?null:5)}var r,s=e.ecModel,l=s&&s.option.textStyle,h=oo(e);if(h){r={};for(var u in h)if(h.hasOwnProperty(u)){var c=e.getModel([\"rich\",u]);ao(r[u]={},c,l,i,n)}}return t.rich=r,ao(t,e,l,i,n,!0),i.forceRich&&!i.textStyle&&(i.textStyle={}),t}function oo(t){for(var e;t&&t!==t.ecModel;){var i=(t.option||Jb).rich;if(i){e=e||{};for(var n in i)i.hasOwnProperty(n)&&(e[n]=1)}t=t.parentModel}return e}function ao(t,e,i,n,o,a){if(i=!o&&i||Jb,t.textFill=ro(e.getShallow(\"color\"),n)||i.color,t.textStroke=ro(e.getShallow(\"textBorderColor\"),n)||i.textBorderColor,t.textStrokeWidth=A(e.getShallow(\"textBorderWidth\"),i.textBorderWidth),!o){if(a){var r=t.textPosition;t.insideRollback=so(t,r,n),t.insideOriginalTextPosition=r,t.insideRollbackOpt=n}null==t.textFill&&(t.textFill=n.autoColor)}t.fontStyle=e.getShallow(\"fontStyle\")||i.fontStyle,t.fontWeight=e.getShallow(\"fontWeight\")||i.fontWeight,t.fontSize=e.getShallow(\"fontSize\")||i.fontSize,t.fontFamily=e.getShallow(\"fontFamily\")||i.fontFamily,t.textAlign=e.getShallow(\"align\"),t.textVerticalAlign=e.getShallow(\"verticalAlign\")||e.getShallow(\"baseline\"),t.textLineHeight=e.getShallow(\"lineHeight\"),t.textWidth=e.getShallow(\"width\"),t.textHeight=e.getShallow(\"height\"),t.textTag=e.getShallow(\"tag\"),a&&n.disableBox||(t.textBackgroundColor=ro(e.getShallow(\"backgroundColor\"),n),t.textPadding=e.getShallow(\"padding\"),t.textBorderColor=ro(e.getShallow(\"borderColor\"),n),t.textBorderWidth=e.getShallow(\"borderWidth\"),t.textBorderRadius=e.getShallow(\"borderRadius\"),t.textBoxShadowColor=e.getShallow(\"shadowColor\"),t.textBoxShadowBlur=e.getShallow(\"shadowBlur\"),t.textBoxShadowOffsetX=e.getShallow(\"shadowOffsetX\"),t.textBoxShadowOffsetY=e.getShallow(\"shadowOffsetY\")),t.textShadowColor=e.getShallow(\"textShadowColor\")||i.textShadowColor,t.textShadowBlur=e.getShallow(\"textShadowBlur\")||i.textShadowBlur,t.textShadowOffsetX=e.getShallow(\"textShadowOffsetX\")||i.textShadowOffsetX,t.textShadowOffsetY=e.getShallow(\"textShadowOffsetY\")||i.textShadowOffsetY}function ro(t,e){return\"auto\"!==t?t:e&&e.autoColor?e.autoColor:null}function so(t,e,i){var n,o=i.useInsideStyle;return null==t.textFill&&!1!==o&&(!0===o||i.isRectText&&e&&\"string\"==typeof e&&e.indexOf(\"inside\")>=0)&&(n={textFill:null,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth},t.textFill=\"#fff\",null==t.textStroke&&(t.textStroke=i.autoColor,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),n}function lo(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth)}function ho(t,e){var i=e||e.getModel(\"textStyle\");return P([t.fontStyle||i&&i.getShallow(\"fontStyle\")||\"\",t.fontWeight||i&&i.getShallow(\"fontWeight\")||\"\",(t.fontSize||i&&i.getShallow(\"fontSize\")||12)+\"px\",t.fontFamily||i&&i.getShallow(\"fontFamily\")||\"sans-serif\"].join(\" \"))}function uo(t,e,i,n,o,a){if(\"function\"==typeof o&&(a=o,o=null),n&&n.isAnimationEnabled()){var r=t?\"Update\":\"\",s=n.getShallow(\"animationDuration\"+r),l=n.getShallow(\"animationEasing\"+r),h=n.getShallow(\"animationDelay\"+r);\"function\"==typeof h&&(h=h(o,n.getAnimationDelayParams?n.getAnimationDelayParams(e,o):null)),\"function\"==typeof s&&(s=s(o)),s>0?e.animateTo(i,s,h||0,l,a,!!a):(e.stopAnimation(),e.attr(i),a&&a())}else e.stopAnimation(),e.attr(i),a&&a()}function co(t,e,i,n,o){uo(!0,t,e,i,n,o)}function fo(t,e,i,n,o){uo(!1,t,e,i,n,o)}function po(t,e){for(var i=lt([]);t&&t!==e;)ut(i,t.getLocalTransform(),i),t=t.parent;return i}function go(t,e,i){return e&&!c(e)&&(e=Kx.getLocalTransform(e)),i&&(e=pt([],e)),Q([],t,e)}function mo(t,e,i){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),o=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),a=[\"left\"===t?-n:\"right\"===t?n:0,\"top\"===t?-o:\"bottom\"===t?o:0];return a=go(a,e,i),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?\"right\":\"left\":a[1]>0?\"bottom\":\"top\"}function vo(t,e,i,n){function o(t){var e={position:W(t.position),rotation:t.rotation};return t.shape&&(e.shape=a({},t.shape)),e}if(t&&e){var r=function(t){var e={};return t.traverse(function(t){!t.isGroup&&t.anid&&(e[t.anid]=t)}),e}(t);e.traverse(function(t){if(!t.isGroup&&t.anid){var e=r[t.anid];if(e){var n=o(t);t.attr(o(e)),co(t,n,i,t.dataIndex)}}})}}function yo(t,e){return f(t,function(t){var i=t[0];i=$b(i,e.x),i=Kb(i,e.x+e.width);var n=t[1];return n=$b(n,e.y),n=Kb(n,e.y+e.height),[i,n]})}function xo(t,e,i){var n=(e=a({rectHover:!0},e)).style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf(\"image://\")?(n.image=t.slice(8),r(n,i),new Je(e)):En(t.replace(\"path://\",\"\"),e,i,\"center\")}function _o(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}function wo(t,e,i){for(var n=0;n<e.length&&(!e[n]||null!=(t=t&&\"object\"==typeof t?t[e[n]]:null));n++);return null==t&&i&&(t=i.get(e)),t}function bo(t,e){var i=rS(t).getParent;return i?i.call(t,e):t.parentModel}function So(t){return[t||\"\",sS++,Math.random().toFixed(5)].join(\"_\")}function Mo(t){return t.replace(/^\\s+/,\"\").replace(/\\s+$/,\"\")}function Io(t,e,i,n){var o=e[1]-e[0],a=i[1]-i[0];if(0===o)return 0===a?i[0]:(i[0]+i[1])/2;if(n)if(o>0){if(t<=e[0])return i[0];if(t>=e[1])return i[1]}else{if(t>=e[0])return i[0];if(t<=e[1])return i[1]}else{if(t===e[0])return i[0];if(t===e[1])return i[1]}return(t-e[0])/o*a+i[0]}function To(t,e){switch(t){case\"center\":case\"middle\":t=\"50%\";break;case\"left\":case\"top\":t=\"0%\";break;case\"right\":case\"bottom\":t=\"100%\"}return\"string\"==typeof t?Mo(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function Ao(t,e,i){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),i?t:+t}function Do(t){return t.sort(function(t,e){return t-e}),t}function Co(t){if(t=+t,isNaN(t))return 0;for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i}function Lo(t){var e=t.toString(),i=e.indexOf(\"e\");if(i>0){var n=+e.slice(i+1);return n<0?-n:0}var o=e.indexOf(\".\");return o<0?0:e.length-1-o}function ko(t,e){var i=Math.log,n=Math.LN10,o=Math.floor(i(t[1]-t[0])/n),a=Math.round(i(Math.abs(e[1]-e[0]))/n),r=Math.min(Math.max(-o+a,0),20);return isFinite(r)?r:20}function Po(t,e,i){if(!t[e])return 0;var n=p(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===n)return 0;for(var o=Math.pow(10,i),a=f(t,function(t){return(isNaN(t)?0:t)/n*o*100}),r=100*o,s=f(a,function(t){return Math.floor(t)}),l=p(s,function(t,e){return t+e},0),h=f(a,function(t,e){return t-s[e]});l<r;){for(var u=Number.NEGATIVE_INFINITY,c=null,d=0,g=h.length;d<g;++d)h[d]>u&&(u=h[d],c=d);++s[c],h[c]=0,++l}return s[e]/o}function Oo(t){var e=2*Math.PI;return(t%e+e)%e}function No(t){return t>-lS&&t<lS}function Eo(t){if(t instanceof Date)return t;if(\"string\"==typeof t){var e=uS.exec(t);if(!e)return new Date(NaN);if(e[8]){var i=+e[4]||0;return\"Z\"!==e[8].toUpperCase()&&(i-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,i,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))}function zo(t){return Math.pow(10,Ro(t))}function Ro(t){return Math.floor(Math.log(t)/Math.LN10)}function Bo(t,e){var i,n=Ro(t),o=Math.pow(10,n),a=t/o;return i=e?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10,t=i*o,n>=-20?+t.toFixed(n<0?-n:0):t}function Vo(t){function e(t,i,n){return t.interval[n]<i.interval[n]||t.interval[n]===i.interval[n]&&(t.close[n]-i.close[n]==(n?-1:1)||!n&&e(t,i,1))}t.sort(function(t,i){return e(t,i,0)?-1:1});for(var i=-1/0,n=1,o=0;o<t.length;){for(var a=t[o].interval,r=t[o].close,s=0;s<2;s++)a[s]<=i&&(a[s]=i,r[s]=s?1:1-n),i=a[s],n=r[s];a[0]===a[1]&&r[0]*r[1]!=1?t.splice(o,1):o++}return t}function Go(t){return t-parseFloat(t)>=0}function Wo(t){return isNaN(t)?\"-\":(t=(t+\"\").split(\".\"))[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g,\"$1,\")+(t.length>1?\".\"+t[1]:\"\")}function Fo(t,e){return t=(t||\"\").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}function Ho(t){return String(t).replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#39;\")}function Zo(t,e,i){y(e)||(e=[e]);var n=e.length;if(!n)return\"\";for(var o=e[0].$vars||[],a=0;a<o.length;a++){var r=fS[a];t=t.replace(pS(r),pS(r,0))}for(var s=0;s<n;s++)for(var l=0;l<o.length;l++){var h=e[s][o[l]];t=t.replace(pS(fS[l],s),i?Ho(h):h)}return t}function Uo(t,e,i){return d(e,function(e,n){t=t.replace(\"{\"+n+\"}\",i?Ho(e):e)}),t}function jo(t,e){var i=(t=_(t)?{color:t,extraCssText:e}:t||{}).color,n=t.type,e=t.extraCssText;return i?\"subItem\"===n?'<span style=\"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Ho(i)+\";\"+(e||\"\")+'\"></span>':'<span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+Ho(i)+\";\"+(e||\"\")+'\"></span>':\"\"}function Xo(t,e,i){\"week\"!==t&&\"month\"!==t&&\"quarter\"!==t&&\"half-year\"!==t&&\"year\"!==t||(t=\"MM-dd\\nyyyy\");var n=Eo(e),o=i?\"UTC\":\"\",a=n[\"get\"+o+\"FullYear\"](),r=n[\"get\"+o+\"Month\"]()+1,s=n[\"get\"+o+\"Date\"](),l=n[\"get\"+o+\"Hours\"](),h=n[\"get\"+o+\"Minutes\"](),u=n[\"get\"+o+\"Seconds\"]();return t=t.replace(\"MM\",gS(r)).replace(\"M\",r).replace(\"yyyy\",a).replace(\"yy\",a%100).replace(\"dd\",gS(s)).replace(\"d\",s).replace(\"hh\",gS(l)).replace(\"h\",l).replace(\"mm\",gS(h)).replace(\"m\",h).replace(\"ss\",gS(u)).replace(\"s\",u)}function Yo(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function qo(t,e,i,n,o){var a=0,r=0;null==n&&(n=1/0),null==o&&(o=1/0);var s=0;e.eachChild(function(l,h){var u,c,d=l.position,f=l.getBoundingRect(),p=e.childAt(h+1),g=p&&p.getBoundingRect();if(\"horizontal\"===t){var m=f.width+(g?-g.x+f.x:0);(u=a+m)>n||l.newline?(a=0,u=m,r+=s+i,s=f.height):s=Math.max(s,f.height)}else{var v=f.height+(g?-g.y+f.y:0);(c=r+v)>o||l.newline?(a+=s+i,r=0,c=v,s=f.width):s=Math.max(s,f.width)}l.newline||(d[0]=a,d[1]=r,\"horizontal\"===t?a=u+i:r=c+i)})}function $o(t,e,i){var n=e.width,o=e.height,a=To(t.x,n),r=To(t.y,o),s=To(t.x2,n),l=To(t.y2,o);return(isNaN(a)||isNaN(parseFloat(t.x)))&&(a=0),(isNaN(s)||isNaN(parseFloat(t.x2)))&&(s=n),(isNaN(r)||isNaN(parseFloat(t.y)))&&(r=0),(isNaN(l)||isNaN(parseFloat(t.y2)))&&(l=o),i=dS(i||0),{width:Math.max(s-a-i[1]-i[3],0),height:Math.max(l-r-i[0]-i[2],0)}}function Ko(t,e,i){i=dS(i||0);var n=e.width,o=e.height,a=To(t.left,n),r=To(t.top,o),s=To(t.right,n),l=To(t.bottom,o),h=To(t.width,n),u=To(t.height,o),c=i[2]+i[0],d=i[1]+i[3],f=t.aspect;switch(isNaN(h)&&(h=n-s-d-a),isNaN(u)&&(u=o-l-c-r),null!=f&&(isNaN(h)&&isNaN(u)&&(f>n/o?h=.8*n:u=.8*o),isNaN(h)&&(h=f*u),isNaN(u)&&(u=h/f)),isNaN(a)&&(a=n-s-h-d),isNaN(r)&&(r=o-l-u-c),t.left||t.right){case\"center\":a=n/2-h/2-i[3];break;case\"right\":a=n-h-d}switch(t.top||t.bottom){case\"middle\":case\"center\":r=o/2-u/2-i[0];break;case\"bottom\":r=o-u-c}a=a||0,r=r||0,isNaN(h)&&(h=n-d-a-(s||0)),isNaN(u)&&(u=o-c-r-(l||0));var p=new Kt(a+i[3],r+i[0],h,u);return p.margin=i,p}function Jo(t,e,i,n,o){var a=!o||!o.hv||o.hv[0],s=!o||!o.hv||o.hv[1],l=o&&o.boundingMode||\"all\";if(a||s){var h;if(\"raw\"===l)h=\"group\"===t.type?new Kt(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(h=t.getBoundingRect(),t.needLocalTransform()){var u=t.getLocalTransform();(h=h.clone()).applyTransform(u)}e=Ko(r({width:h.width,height:h.height},e),i,n);var c=t.position,d=a?e.x-h.x:0,f=s?e.y-h.y:0;t.attr(\"position\",\"raw\"===l?[d,f]:[c[0]+d,c[1]+f])}}function Qo(t,e){return null!=t[wS[e][0]]||null!=t[wS[e][1]]&&null!=t[wS[e][2]]}function ta(t,e,i){function n(i,n){var r={},l=0,h={},u=0;if(xS(i,function(e){h[e]=t[e]}),xS(i,function(t){o(e,t)&&(r[t]=h[t]=e[t]),a(r,t)&&l++,a(h,t)&&u++}),s[n])return a(e,i[1])?h[i[2]]=null:a(e,i[2])&&(h[i[1]]=null),h;if(2!==u&&l){if(l>=2)return r;for(var c=0;c<i.length;c++){var d=i[c];if(!o(r,d)&&o(t,d)){r[d]=t[d];break}}return r}return h}function o(t,e){return t.hasOwnProperty(e)}function a(t,e){return null!=t[e]&&\"auto\"!==t[e]}function r(t,e,i){xS(t,function(t){e[t]=i[t]})}!w(i)&&(i={});var s=i.ignoreSize;!y(s)&&(s=[s,s]);var l=n(wS[0],0),h=n(wS[1],1);r(wS[0],t,l),r(wS[1],t,h)}function ea(t){return ia({},t)}function ia(t,e){return e&&t&&xS(_S,function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t}function na(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n].length>e)return t[n];return t[i-1]}function oa(t){var e=t.get(\"coordinateSystem\"),i={coordSysName:e,coordSysDims:[],axisMap:z(),categoryAxisMap:z()},n=LS[e];if(n)return n(t,i,i.axisMap,i.categoryAxisMap),i}function aa(t){return\"category\"===t.get(\"type\")}function ra(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===NS?{}:[]),this.sourceFormat=t.sourceFormat||ES,this.seriesLayoutBy=t.seriesLayoutBy||RS,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&z(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}function sa(t){var e=t.option.source,i=ES;if(S(e))i=zS;else if(y(e))for(var n=0,o=e.length;n<o;n++){var a=e[n];if(null!=a){if(y(a)){i=PS;break}if(w(a)){i=OS;break}}}else if(w(e)){for(var r in e)if(e.hasOwnProperty(r)&&c(e[r])){i=NS;break}}else if(null!=e)throw new Error(\"Invalid data\");VS(t).sourceFormat=i}function la(t){return VS(t).source}function ha(t){VS(t).datasetMap=z()}function ua(t){var e=t.option,i=e.data,n=S(i)?zS:kS,o=!1,a=e.seriesLayoutBy,r=e.sourceHeader,s=e.dimensions,l=ma(t);if(l){var h=l.option;i=h.source,n=VS(l).sourceFormat,o=!0,a=a||h.seriesLayoutBy,null==r&&(r=h.sourceHeader),s=s||h.dimensions}var u=ca(i,n,a,r,s),c=e.encode;!c&&l&&(c=ga(t,l,i,n,a,u)),VS(t).source=new ra({data:i,fromDataset:o,seriesLayoutBy:a,sourceFormat:n,dimensionsDefine:u.dimensionsDefine,startIndex:u.startIndex,dimensionsDetectCount:u.dimensionsDetectCount,encodeDefine:c})}function ca(t,e,i,n,o){if(!t)return{dimensionsDefine:da(o)};var a,r,s;if(e===PS)\"auto\"===n||null==n?fa(function(t){null!=t&&\"-\"!==t&&(_(t)?null==r&&(r=1):r=0)},i,t,10):r=n?1:0,o||1!==r||(o=[],fa(function(t,e){o[e]=null!=t?t:\"\"},i,t)),a=o?o.length:i===BS?t.length:t[0]?t[0].length:null;else if(e===OS)o||(o=pa(t),s=!0);else if(e===NS)o||(o=[],s=!0,d(t,function(t,e){o.push(e)}));else if(e===kS){var l=Ii(t[0]);a=y(l)&&l.length||1}var h;return s&&d(o,function(t,e){\"name\"===(w(t)?t.name:t)&&(h=e)}),{startIndex:r,dimensionsDefine:da(o),dimensionsDetectCount:a,potentialNameDimIndex:h}}function da(t){if(t){var e=z();return f(t,function(t,i){if(null==(t=a({},w(t)?t:{name:t})).name)return t;t.name+=\"\",null==t.displayName&&(t.displayName=t.name);var n=e.get(t.name);return n?t.name+=\"-\"+n.count++:e.set(t.name,{count:1}),t})}}function fa(t,e,i,n){if(null==n&&(n=1/0),e===BS)for(a=0;a<i.length&&a<n;a++)t(i[a]?i[a][0]:null,a);else for(var o=i[0]||[],a=0;a<o.length&&a<n;a++)t(o[a],a)}function pa(t){for(var e,i=0;i<t.length&&!(e=t[i++]););if(e){var n=[];return d(e,function(t,e){n.push(e)}),n}}function ga(t,e,i,n,o,a){var r=oa(t),s={},l=[],h=[],u=t.subType,c=z([\"pie\",\"map\",\"funnel\"]),f=z([\"line\",\"bar\",\"pictorialBar\",\"scatter\",\"effectScatter\",\"candlestick\",\"boxplot\"]);if(r&&null!=f.get(u)){var p=t.ecModel,g=VS(p).datasetMap,m=e.uid+\"_\"+o,v=g.get(m)||g.set(m,{categoryWayDim:1,valueWayDim:0});d(r.coordSysDims,function(t){if(null==r.firstCategoryDimIndex){e=v.valueWayDim++;s[t]=e,h.push(e)}else if(r.categoryAxisMap.get(t))s[t]=0,l.push(0);else{var e=v.categoryWayDim++;s[t]=e,h.push(e)}})}else if(null!=c.get(u)){for(var y,x=0;x<5&&null==y;x++)ya(i,n,o,a.dimensionsDefine,a.startIndex,x)||(y=x);if(null!=y){s.value=y;var _=a.potentialNameDimIndex||Math.max(y-1,0);h.push(_),l.push(_)}}return l.length&&(s.itemName=l),h.length&&(s.seriesName=h),s}function ma(t){var e=t.option;if(!e.data)return t.ecModel.getComponent(\"dataset\",e.datasetIndex||0)}function va(t,e){return ya(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function ya(t,e,i,n,o,a){function r(t){return(null==t||!isFinite(t)||\"\"===t)&&(!(!_(t)||\"-\"===t)||void 0)}var s;if(S(t))return!1;var l;if(n&&(l=w(l=n[a])?l.name:l),e===PS)if(i===BS){for(var h=t[a],u=0;u<(h||[]).length&&u<5;u++)if(null!=(s=r(h[o+u])))return s}else for(u=0;u<t.length&&u<5;u++){var c=t[o+u];if(c&&null!=(s=r(c[a])))return s}else if(e===OS){if(!l)return;for(u=0;u<t.length&&u<5;u++)if((d=t[u])&&null!=(s=r(d[l])))return s}else if(e===NS){if(!l)return;if(!(h=t[l])||S(h))return!1;for(u=0;u<h.length&&u<5;u++)if(null!=(s=r(h[u])))return s}else if(e===kS)for(u=0;u<t.length&&u<5;u++){var d=t[u],f=Ii(d);if(!y(f))return!1;if(null!=(s=r(f[a])))return s}return!1}function xa(t,e){if(e){var i=e.seiresIndex,n=e.seriesId,o=e.seriesName;return null!=i&&t.componentIndex!==i||null!=n&&t.id!==n||null!=o&&t.name!==o}}function _a(t,e){d(e,function(e,o){IS.hasClass(o)||(\"object\"==typeof e?t[o]=t[o]?n(t[o],e,!1):i(e):null==t[o]&&(t[o]=e))})}function wa(t){t=t,this.option={},this.option[GS]=1,this._componentsMap=z({series:[]}),this._seriesIndices,this._seriesIndicesMap,_a(t,this._theme.option),n(t,AS,!1),this.mergeOption(t)}function ba(t,e){y(e)||(e=e?[e]:[]);var i={};return d(e,function(e){i[e]=(t.get(e)||[]).slice()}),i}function Sa(t,e,i){return e.type?e.type:i?i.subType:IS.determineSubType(t,e)}function Ma(t,e){t._seriesIndicesMap=z(t._seriesIndices=f(e,function(t){return t.componentIndex})||[])}function Ia(t,e){return e.hasOwnProperty(\"subType\")?g(t,function(t){return t.subType===e.subType}):t}function Ta(t){d(FS,function(e){this[e]=m(t[e],t)},this)}function Aa(){this._coordinateSystems=[]}function Da(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function Ca(t,e,i){var n,o,a=[],r=[],s=t.timeline;if(t.baseOption&&(o=t.baseOption),(s||t.options)&&(o=o||{},a=(t.options||[]).slice()),t.media){o=o||{};var l=t.media;ZS(l,function(t){t&&t.option&&(t.query?r.push(t):n||(n=t))})}return o||(o=t),o.timeline||(o.timeline=s),ZS([o].concat(a).concat(f(r,function(t){return t.option})),function(t){ZS(e,function(e){e(t,i)})}),{baseOption:o,timelineOptions:a,mediaDefault:n,mediaList:r}}function La(t,e,i){var n={width:e,height:i,aspectratio:e/i},o=!0;return d(t,function(t,e){var i=e.match(YS);if(i&&i[1]&&i[2]){var a=i[1],r=i[2].toLowerCase();ka(n[r],t,a)||(o=!1)}}),o}function ka(t,e,i){return\"min\"===i?t>=e:\"max\"===i?t<=e:t===e}function Pa(t,e){return t.join(\",\")===e.join(\",\")}function Oa(t,e){ZS(e=e||{},function(e,i){if(null!=e){var n=t[i];if(IS.hasClass(i)){e=Si(e);var o=Ai(n=Si(n),e);t[i]=jS(o,function(t){return t.option&&t.exist?XS(t.exist,t.option,!0):t.exist||t.option})}else t[i]=XS(n,e,!0)}})}function Na(t){var e=t&&t.itemStyle;if(e)for(var i=0,o=KS.length;i<o;i++){var a=KS[i],r=e.normal,s=e.emphasis;r&&r[a]&&(t[a]=t[a]||{},t[a].normal?n(t[a].normal,r[a]):t[a].normal=r[a],r[a]=null),s&&s[a]&&(t[a]=t[a]||{},t[a].emphasis?n(t[a].emphasis,s[a]):t[a].emphasis=s[a],s[a]=null)}}function Ea(t,e,i){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,o=t[e].emphasis;n&&(i?(t[e].normal=t[e].emphasis=null,r(t[e],n)):t[e]=n),o&&(t.emphasis=t.emphasis||{},t.emphasis[e]=o)}}function za(t){Ea(t,\"itemStyle\"),Ea(t,\"lineStyle\"),Ea(t,\"areaStyle\"),Ea(t,\"label\"),Ea(t,\"labelLine\"),Ea(t,\"upperLabel\"),Ea(t,\"edgeLabel\")}function Ra(t){var e=$S(t)&&t.textStyle;if(e)for(var i=0,n=yw.length;i<n;i++){var o=yw[i];e.hasOwnProperty(o)&&(t[o]=e[o])}}function Ba(t){t&&(za(t),Ra(t.label),t.emphasis&&Ra(t.emphasis.label))}function Va(t){if($S(t)){Na(t),za(t),Ra(t.label),Ra(t.upperLabel),Ra(t.edgeLabel),t.emphasis&&(Ra(t.emphasis.label),Ra(t.emphasis.upperLabel),Ra(t.emphasis.edgeLabel));var e=t.markPoint;e&&(Na(e),Ba(e));var i=t.markLine;i&&(Na(i),Ba(i));var n=t.markArea;n&&Ba(n);var o=t.data;if(\"graph\"===t.type){o=o||t.nodes;var a=t.links||t.edges;if(a&&!S(a))for(s=0;s<a.length;s++)Ba(a[s]);d(t.categories,function(t){za(t)})}if(o&&!S(o))for(s=0;s<o.length;s++)Ba(o[s]);if((e=t.markPoint)&&e.data)for(var r=e.data,s=0;s<r.length;s++)Ba(r[s]);if((i=t.markLine)&&i.data)for(var l=i.data,s=0;s<l.length;s++)y(l[s])?(Ba(l[s][0]),Ba(l[s][1])):Ba(l[s]);\"gauge\"===t.type?(Ra(t,\"axisLabel\"),Ra(t,\"title\"),Ra(t,\"detail\")):\"treemap\"===t.type&&(Ea(t.breadcrumb,\"itemStyle\"),d(t.levels,function(t){za(t)}))}}function Ga(t){return y(t)?t:t?[t]:[]}function Wa(t){return(y(t)?t[0]:t)||{}}function Fa(t,e){e=e.split(\",\");for(var i=t,n=0;n<e.length&&null!=(i=i&&i[e[n]]);n++);return i}function Ha(t,e,i,n){e=e.split(\",\");for(var o,a=t,r=0;r<e.length-1;r++)null==a[o=e[r]]&&(a[o]={}),a=a[o];(n||null==a[e[r]])&&(a[e[r]]=i)}function Za(t){d(QS,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}function Ua(t,e){ra.isInstance(t)||(t=ra.seriesDataToSource(t)),this._source=t;var i=this._data=t.data,n=t.sourceFormat;n===zS&&(this._offset=0,this._dimSize=e,this._data=i),a(this,nM[n===PS?n+\"_\"+t.seriesLayoutBy:n])}function ja(){return this._data.length}function Xa(t){return this._data[t]}function Ya(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}function qa(t,e,i,n){return null!=i?t[i]:t}function $a(t,e,i,n){return Ka(t[n],this._dimensionInfos[e])}function Ka(t,e){var i=e&&e.type;if(\"ordinal\"===i){var n=e&&e.ordinalMeta;return n?n.parseAndCollect(t):t}return\"time\"===i&&\"number\"!=typeof t&&null!=t&&\"-\"!==t&&(t=+Eo(t)),null==t||\"\"===t?NaN:+t}function Ja(t,e,i){if(t){var n=t.getRawDataItem(e);if(null!=n){var o,a,r=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(i);return s&&(o=s.name,a=s.index),oM[r](n,e,a,o)}}}function Qa(t,e,i){if(t){var n=t.getProvider().getSource().sourceFormat;if(n===kS||n===OS){var o=t.getRawDataItem(e);return n!==kS||w(o)||(o=null),o?o[i]:void 0}}}function tr(t){return new er(t)}function er(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}function ir(t,e){t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,t._progress=!e&&t._reset&&t._reset(t.context);var i=t._downstream;i&&i.dirty()}function nr(t){var e=t.name;vw===e&&(t.name=or(t)||e)}function or(t){var e=t.getRawData(),i=[];return d(e.mapDimension(\"seriesName\",!0),function(t){var n=e.getDimensionInfo(t);n.displayName&&i.push(n.displayName)}),i.join(\" \")}function ar(t){return t.model.getRawData().count()}function rr(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),sr}function sr(t,e){t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function lr(t,e){d(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,v(hr,e))})}function hr(t){var e=ur(t);e&&e.setOutputEnd(this.count())}function ur(t){var e=(t.ecModel||{}).scheduler,i=e&&e.getPipeline(t.uid);if(i){var n=i.currentTask;if(n){var o=n.agentStubMap;o&&(n=o.get(t.uid))}return n}}function cr(){this.group=new S_,this.uid=So(\"viewChart\"),this.renderTask=tr({plan:pr,reset:gr}),this.renderTask.context={view:this}}function dr(t,e){if(t&&(t.trigger(e),\"group\"===t.type))for(var i=0;i<t.childCount();i++)dr(t.childAt(i),e)}function fr(t,e,i){var n=ki(t,e);null!=n?d(Si(n),function(e){dr(t.getItemGraphicEl(e),i)}):t.eachItemGraphicEl(function(t){dr(t,i)})}function pr(t){return gM(t.model)}function gr(t){var e=t.model,i=t.ecModel,n=t.api,o=t.payload,a=e.pipelineContext.incrementalRender,r=t.view,s=o&&pM(o).updateMethod;return r[a&&r.incrementalPrepareRender?\"incrementalPrepareRender\":s&&r[s]?s:\"render\"](e,i,n,o),a?mr:null}function mr(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}function vr(t,e,i){function n(){u=(new Date).getTime(),c=null,t.apply(r,s||[])}var o,a,r,s,l,h=0,u=0,c=null;e=e||0;var d=function(){o=(new Date).getTime(),r=this,s=arguments;var t=l||e,d=l||i;l=null,a=o-(d?h:u)-t,clearTimeout(c),d?c=setTimeout(n,t):a>=0?n():c=setTimeout(n,-a),h=o};return d.clear=function(){c&&(clearTimeout(c),c=null)},d.debounceNextCall=function(t){l=t},d}function yr(t,e,i,n){var o=t[e];if(o){var a=o[vM]||o,r=o[xM];if(o[yM]!==i||r!==n){if(null==i||!n)return t[e]=a;(o=t[e]=vr(a,i,\"debounce\"===n))[vM]=a,o[xM]=n,o[yM]=i}return o}}function xr(t,e){var i=t[e];i&&i[vM]&&(t[e]=i[vM])}function _r(t,e){this.ecInstance=t,this.api=e,this.unfinished,this._stageTaskMap=z()}function wr(t,e,i,n,o){function a(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}o=o||{};var r;d(e,function(e,s){if(!o.visualType||o.visualType===e.visualType){var l=t._stageTaskMap.get(e.uid),h=l.seriesTaskMap,u=l.overallTask;if(u){var c,d=u.agentStubMap;d.each(function(t){a(o,t)&&(t.dirty(),c=!0)}),c&&u.dirty(),IM(u,n);var f=t.getPerformArgs(u,o.block);d.each(function(t){t.perform(f)}),r|=u.perform(f)}else h&&h.each(function(s,l){a(o,s)&&s.dirty();var h=t.getPerformArgs(s,o.block);h.skip=!e.performRawSeries&&i.isSeriesFiltered(s.context.model),IM(s,n),r|=s.perform(h)})}}),t.unfinished|=r}function br(t,e,i,n,o){function a(i){var a=i.uid,s=r.get(a)||r.set(a,tr({plan:Dr,reset:Cr,count:kr}));s.context={model:i,ecModel:n,api:o,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:t},Pr(t,i,s)}var r=i.seriesTaskMap||(i.seriesTaskMap=z()),s=e.seriesType,l=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(a):s?n.eachRawSeriesByType(s,a):l&&l(n,o).each(a);var h=t._pipelineMap;r.each(function(t,e){h.get(e)||(t.dispose(),r.removeKey(e))})}function Sr(t,e,i,n,o){function a(e){var i=e.uid,n=s.get(i)||s.set(i,tr({reset:Ir,onDirty:Ar}));n.context={model:e,overallProgress:u,isOverallFilter:c},n.agent=r,n.__block=u,Pr(t,e,n)}var r=i.overallTask=i.overallTask||tr({reset:Mr});r.context={ecModel:n,api:o,overallReset:e.overallReset,scheduler:t};var s=r.agentStubMap=r.agentStubMap||z(),l=e.seriesType,h=e.getTargetSeries,u=!0,c=e.isOverallFilter;l?n.eachRawSeriesByType(l,a):h?h(n,o).each(a):(u=!1,d(n.getSeries(),a));var f=t._pipelineMap;s.each(function(t,e){f.get(e)||(t.dispose(),s.removeKey(e))})}function Mr(t){t.overallReset(t.ecModel,t.api,t.payload)}function Ir(t,e){return t.overallProgress&&Tr}function Tr(){this.agent.dirty(),this.getDownstream().dirty()}function Ar(){this.agent&&this.agent.dirty()}function Dr(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function Cr(t){if(t.useClearVisual&&t.data.clearAllVisual(),(t.resetDefines=Si(t.reset(t.model,t.ecModel,t.api,t.payload))).length)return Lr}function Lr(t,e){for(var i=e.data,n=e.resetDefines,o=0;o<n.length;o++){var a=n[o];if(a&&a.dataEach)for(var r=t.start;r<t.end;r++)a.dataEach(i,r);else a&&a.progress&&a.progress(t,i)}}function kr(t){return t.data.count()}function Pr(t,e,i){var n=e.uid,o=t._pipelineMap.get(n);!o.head&&(o.head=i),o.tail&&o.tail.pipe(i),o.tail=i,i.__idxInPipeline=o.count++,i.__pipeline=o}function Or(t){TM=null;try{t(AM,DM)}catch(t){}return TM}function Nr(t,e){for(var i in e.prototype)t[i]=B}function Er(t){return function(e,i,n){e=e&&e.toLowerCase(),Hx.prototype[t].call(this,e,i,n)}}function zr(){Hx.call(this)}function Rr(t,e,n){function o(t,e){return t.__prio-e.__prio}n=n||{},\"string\"==typeof e&&(e=eI[e]),this.id,this.group,this._dom=t;var a=this._zr=_i(t,{renderer:n.renderer||\"canvas\",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=vr(m(a.flush,a),17),(e=i(e))&&eM(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Aa;var r=this._api=is(this);this._scheduler=new _r(this,r),Hx.call(this),this._messageCenter=new zr,this._initEvents(),this.resize=m(this.resize,this),this._pendingActions=[],ae(tI,o),ae(KM,o),a.animation.on(\"frame\",this._onframe,this),O(this)}function Br(t,e,i){var n,o=this._model,a=this._coordSysMgr.getCoordinateSystems();e=Oi(o,e);for(var r=0;r<a.length;r++){var s=a[r];if(s[t]&&null!=(n=s[t](o,e,i)))return n}}function Vr(t){var e=t._model,i=t._scheduler;i.restorePipelines(e),i.prepareStageTasks(KM),i.prepareStageTasks(tI),jr(t,\"component\",e,i),jr(t,\"chart\",e,i),i.plan()}function Gr(t,e,i,n,o){function a(n){n&&n.__alive&&n[e]&&n[e](n.__model,r,t._api,i)}var r=t._model;if(n){var s={};s[n+\"Id\"]=i[n+\"Id\"],s[n+\"Index\"]=i[n+\"Index\"],s[n+\"Name\"]=i[n+\"Name\"];var l={mainType:n,query:s};o&&(l.subType=o),r&&r.eachComponent(l,function(e,i){a(t[\"series\"===n?\"_chartsMap\":\"_componentsMap\"][e.__viewId])},t)}else NM(t._componentsViews.concat(t._chartsViews),a)}function Wr(t,e,i){t[HM]=!0,e&&Vr(t),XM.update.call(t),t[HM]=!1,Zr.call(t,i),Ur.call(t,i)}function Fr(t,e){var i=t._chartsMap,n=t._scheduler;e.eachSeries(function(t){n.updateStreamModes(t,i[t.__viewId])})}function Hr(t,e){var i=t.type,n=t.escapeConnect,o=qM[i],s=o.actionInfo,l=(s.update||\"update\").split(\":\"),h=l.pop();l=null!=l[0]&&RM(l[0]),this[HM]=!0;var u=[t],c=!1;t.batch&&(c=!0,u=f(t.batch,function(e){return e=r(a({},e),t),e.batch=null,e}));var d,p=[],g=\"highlight\"===i||\"downplay\"===i;NM(u,function(t){d=o.action(t,this._model,this._api),(d=d||a({},t)).type=s.event||d.type,p.push(d),g?Gr(this,h,t,\"series\"):l&&Gr(this,h,t,l.main,l.sub)},this),\"none\"===h||g||l||(this[ZM]?(Vr(this),XM.update.call(this,t),this[ZM]=!1):XM[h].call(this,t)),d=c?{type:s.event||i,escapeConnect:n,batch:p}:p[0],this[HM]=!1,!e&&this._messageCenter.trigger(d.type,d)}function Zr(t){for(var e=this._pendingActions;e.length;){var i=e.shift();Hr.call(this,i,t)}}function Ur(t){!t&&this.trigger(\"updated\")}function jr(t,e,i,n){function o(t){var e=\"_ec_\"+t.id+\"_\"+t.type,o=s[e];if(!o){var u=RM(t.type);(o=new(a?cM.getClass(u.main,u.sub):cr.getClass(u.sub))).init(i,h),s[e]=o,r.push(o),l.add(o.group)}t.__viewId=o.__id=e,o.__alive=!0,o.__model=t,o.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!a&&n.prepareView(o,t,i,h)}for(var a=\"component\"===e,r=a?t._componentsViews:t._chartsViews,s=a?t._componentsMap:t._chartsMap,l=t._zr,h=t._api,u=0;u<r.length;u++)r[u].__alive=!1;a?i.eachComponent(function(t,e){\"series\"!==t&&o(e)}):i.eachSeries(o);for(u=0;u<r.length;){var c=r[u];c.__alive?u++:(!a&&c.renderTask.dispose(),l.remove(c.group),c.dispose(i,h),r.splice(u,1),delete s[c.__id],c.__id=c.group.__ecComponentInfo=null)}}function Xr(t){var e={};t.eachSeries(function(t){var i=t.get(\"stack\"),n=t.getData();if(i&&\"list\"===n.type){var o=e[i];e.hasOwnProperty(i)&&o&&(n.stackedOn=o),e[i]=n}})}function Yr(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function qr(t,e,i,n){$r(t,e,i,n),NM(t._chartsViews,function(t){t.__alive=!1}),Kr(t,e,i,n),NM(t._chartsViews,function(t){t.__alive||t.remove(e,i)})}function $r(t,e,i,n,o){NM(o||t._componentsViews,function(t){var o=t.__model;t.render(o,e,i,n),es(o,t)})}function Kr(t,e,i,n,o){var a,r=t._scheduler;e.eachSeries(function(e){var i=t._chartsMap[e.__viewId];i.__alive=!0;var s=i.renderTask;r.updatePayload(s,n),o&&o.get(e.uid)&&s.dirty(),a|=s.perform(r.getPerformArgs(s)),i.group.silent=!!e.get(\"silent\"),es(e,i),ts(e,i)}),r.unfinished|=a,Qr(t._zr,e),bM(t._zr.dom,e)}function Jr(t,e){NM(QM,function(i){i(t,e)})}function Qr(t,e){var i=t.storage,n=0;i.traverse(function(t){t.isGroup||n++}),n>e.get(\"hoverLayerThreshold\")&&!_x.node&&i.traverse(function(t){t.isGroup||(t.useHoverLayer=!0)})}function ts(t,e){var i=t.get(\"blendMode\")||null;e.group.traverse(function(t){t.isGroup||t.style.blend!==i&&t.setStyle(\"blend\",i),t.eachPendingDisplayable&&t.eachPendingDisplayable(function(t){t.setStyle(\"blend\",i)})})}function es(t,e){var i=t.get(\"z\"),n=t.get(\"zlevel\");e.group.traverse(function(t){\"group\"!==t.type&&(null!=i&&(t.z=i),null!=n&&(t.zlevel=n))})}function is(t){var e=t._coordSysMgr;return a(new Ta(t),{getCoordinateSystems:m(e.getCoordinateSystems,e),getComponentByElement:function(e){for(;e;){var i=e.__ecComponentInfo;if(null!=i)return t._model.getComponent(i.mainType,i.index);e=e.parent}}})}function ns(t){function e(t,e){for(var n=0;n<t.length;n++)t[n][i]=e}var i=\"__connectUpdateStatus\";NM($M,function(n,o){t._messageCenter.on(o,function(n){if(oI[t.group]&&0!==t[i]){if(n&&n.escapeConnect)return;var o=t.makeActionFromEvent(n),a=[];NM(nI,function(e){e!==t&&e.group===t.group&&a.push(e)}),e(a,0),NM(a,function(t){1!==t[i]&&t.dispatchAction(o)}),e(a,2)}})})}function os(t){oI[t]=!1}function as(t){return nI[zi(t,sI)]}function rs(t,e){eI[t]=e}function ss(t){JM.push(t)}function ls(t,e){fs(KM,t,e,VM)}function hs(t,e,i){\"function\"==typeof e&&(i=e,e=\"\");var n=zM(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,OM(UM.test(n)&&UM.test(e)),qM[n]||(qM[n]={action:i,actionInfo:t}),$M[e]=n}function us(t,e){Aa.register(t,e)}function cs(t,e){fs(tI,t,e,GM,\"layout\")}function ds(t,e){fs(tI,t,e,WM,\"visual\")}function fs(t,e,i,n,o){(EM(e)||zM(e))&&(i=e,e=n);var a=_r.wrapStageHandler(i,o);return a.__prio=e,a.__raw=i,t.push(a),a}function ps(t,e){iI[t]=e}function gs(t){return IS.extend(t)}function ms(t){return cM.extend(t)}function vs(t){return uM.extend(t)}function ys(t){return cr.extend(t)}function xs(t){return lI[t]}function _s(t){return t}function ws(t,e,i,n,o){this._old=t,this._new=e,this._oldKeyGetter=i||_s,this._newKeyGetter=n||_s,this.context=o}function bs(t,e,i,n,o){for(var a=0;a<t.length;a++){var r=\"_ec_\"+o[n](t[a],a),s=e[r];null==s?(i.push(r),e[r]=a):(s.length||(e[r]=s=[s]),s.push(a))}}function Ss(t){var e={},i=e.encode={},n=e.coordDimMap=z(),o=[];d(t.dimensions,function(e){var a=t.getDimensionInfo(e),r=a.coordDim;if(r){var s=i[r];i.hasOwnProperty(r)||(s=i[r]=[]),s[a.coordDimIndex]=e,a.isSysCoord&&Is(a.type)&&(o[0]=e),n.set(r,1)}cI.each(function(t,e){var n=i[e];i.hasOwnProperty(e)||(n=i[e]=[]);var o=a.otherDims[e];null!=o&&!1!==o&&(n[o]=a.name)})});var a=[];n.each(function(t,e){a=a.concat(i[e])}),e.dataDimsOnCoord=a;var r=i.label;r&&r.length&&(o=r.slice());var s=o.slice(),l=i.tooltip;return l&&l.length&&(s=l.slice()),i.defaultedLabel=o,i.defaultedTooltip=s,e}function Ms(t){return\"category\"===t?\"ordinal\":\"time\"===t?\"time\":\"float\"}function Is(t){return!(\"ordinal\"===t||\"time\"===t)}function Ts(t){var e=typeof pI.Uint32Array===fI?Array:pI.Uint32Array,i=typeof pI.Uint16Array===fI?Array:pI.Uint16Array;return t._rawCount>65535?e:i}function As(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function Ds(t,e){d(vI.concat(e.__wrappedMethods||[]),function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t.__wrappedMethods=e.__wrappedMethods}function Cs(t){return t}function Ls(t){return t<this._count&&t>=0?this._indices[t]:-1}function ks(t,e){var i=t._idList[e];return null==i&&(i=t._getIdFromStore(e)),null==i&&(i=gI+e),i}function Ps(t){return y(t)||(t=[t]),t}function Os(t,e){var i=t.dimensions,n=new yI(f(i,t.getDimensionInfo,t),t.hostModel);Ds(n,t);for(var o=n._storage={},a=t._storage,r=0;r<i.length;r++){var s=i[r];a[s]&&(o[s]=l(e,s)>=0?Ns(a[s]):a[s])}return n}function Ns(t){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=As(t[i]);return e}function Es(t,e,n){function o(t,e,i){null!=cI.get(e)?t.otherDims[e]=i:(t.coordDim=e,t.coordDimIndex=i,u.set(e,!0))}ra.isInstance(e)||(e=ra.seriesDataToSource(e)),n=n||{},t=(t||[]).slice();for(var s=(n.dimsDef||[]).slice(),l=z(n.encodeDef),h=z(),u=z(),c=[],f=zs(e,t,s,n.dimCount),p=0;p<f;p++){var g=s[p]=a({},w(s[p])?s[p]:{name:s[p]}),m=g.name,v=c[p]={otherDims:{}};null!=m&&null==h.get(m)&&(v.name=v.displayName=m,h.set(m,p)),null!=g.type&&(v.type=g.type),null!=g.displayName&&(v.displayName=g.displayName)}l.each(function(t,e){t=Si(t).slice();var i=l.set(e,[]);d(t,function(t,n){_(t)&&(t=h.get(t)),null!=t&&t<f&&(i[n]=t,o(c[t],e,n))})});var y=0;d(t,function(t,e){var n,t,a,s;if(_(t))n=t,t={};else{n=t.name;var h=t.ordinalMeta;t.ordinalMeta=null,(t=i(t)).ordinalMeta=h,a=t.dimsDef,s=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}var u=Si(l.get(n));if(!u.length)for(var f=0;f<(a&&a.length||1);f++){for(;y<c.length&&null!=c[y].coordDim;)y++;y<c.length&&u.push(y++)}d(u,function(e,i){var l=c[e];o(r(l,t),n,i),null==l.name&&a&&(l.name=l.displayName=a[i]),l.isSysCoord=!0,s&&r(l.otherDims,s)})});for(var x=n.extraPrefix||\"value\",b=0;b<f;b++)null==(v=c[b]=c[b]||{}).coordDim&&(v.coordDim=Rs(x,u,n.extraFromZero),v.coordDimIndex=0,v.isExtraCoord=!0),null==v.name&&(v.name=Rs(v.coordDim,h)),null==v.type&&va(e,b,v.name)&&(v.type=\"ordinal\");return c}function zs(t,e,i,n){return null==n&&(n=Math.max(t.dimensionsDetectCount||1,e.length,i.length),d(e,function(t){var e=t.dimsDef;e&&(n=Math.max(n,e.length))})),n}function Rs(t,e,i){if(i||null!=e.get(t)){for(var n=0;null!=e.get(t+n);)n++;t+=n}return e.set(t,!0),t}function Bs(t,e){ra.isInstance(t)||(t=ra.seriesDataToSource(t));var i,n=e.get(\"coordinateSystem\"),o=Aa.get(n),a=oa(e);a&&(i=f(a.coordSysDims,function(t){var e={name:t},i=a.axisMap.get(t);if(i){var n=i.get(\"type\");e.type=Ms(n),e.stackable=Vs(n)}return e})),i||(i=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||[\"x\",\"y\"]);var r,s,l=wI(t,{coordDimensions:i});a&&d(l,function(t,e){var i=t.coordDim,n=a.categoryAxisMap.get(i);n&&(null==r&&(r=e),t.ordinalMeta=n.getOrdinalMeta()),null!=t.otherDims.itemName&&(s=!0)}),s||null==r||(l[r].otherDims.itemName=0);var h=new yI(l,e),u=null!=r&&Gs(t)?function(t,e,i,n){return n===r?i:this.defaultDimValueGetter(t,e,i,n)}:null;return h.hasItemOption=!1,h.initData(t,null,u),h}function Vs(t){return\"category\"!==t&&\"time\"!==t}function Gs(t){if(t.sourceFormat===kS){var e=Ws(t.data||[]);return null!=e&&!y(Ii(e))}}function Ws(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}function Fs(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function Hs(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}function Zs(t){return t._map||(t._map=z(t.categories))}function Us(t){return w(t)&&null!=t.value?t.value:t+\"\"}function js(t,e,i,n){var o={},a=t[1]-t[0],r=o.interval=Bo(a/e,!0);null!=i&&r<i&&(r=o.interval=i),null!=n&&r>n&&(r=o.interval=n);var s=o.intervalPrecision=Xs(r);return qs(o.niceTickExtent=[II(Math.ceil(t[0]/r)*r,s),II(Math.floor(t[1]/r)*r,s)],t),o}function Xs(t){return Lo(t)+2}function Ys(t,e,i){t[e]=Math.max(Math.min(t[e],i[1]),i[0])}function qs(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),Ys(t,0,e),Ys(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function $s(t,e,i,n){var o=[];if(!t)return o;e[0]<i[0]&&o.push(e[0]);for(var a=i[0];a<=i[1]&&(o.push(a),(a=II(a+t,n))!==o[o.length-1]);)if(o.length>1e4)return[];return e[1]>(o.length?o[o.length-1]:i[1])&&o.push(e[1]),o}function Ks(t){return t.get(\"stack\")||DI+t.seriesIndex}function Js(t){return t.dim+t.index}function Qs(t,e){var i=[],n=t.axis;if(\"category\"===n.type){for(var o=n.getBandWidth(),a=0;a<t.count;a++)i.push(r({bandWidth:o,axisKey:\"axis0\",stackId:DI+a},t));for(var s=el(i,e),l=[],a=0;a<t.count;a++){var h=s.axis0[DI+a];h.offsetCenter=h.offset+h.width/2,l.push(h)}return l}}function tl(t,e){return el(f(t,function(t){var e=t.getData(),i=t.coordinateSystem.getBaseAxis(),n=i.getExtent(),o=\"category\"===i.type?i.getBandWidth():Math.abs(n[1]-n[0])/e.count();return{bandWidth:o,barWidth:To(t.get(\"barWidth\"),o),barMaxWidth:To(t.get(\"barMaxWidth\"),o),barGap:t.get(\"barGap\"),barCategoryGap:t.get(\"barCategoryGap\"),axisKey:Js(i),stackId:Ks(t)}}),e)}function el(t,e){var i={};d(t,function(t,e){var n=t.axisKey,o=t.bandWidth,a=i[n]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:\"20%\",gap:\"30%\",stacks:{}},r=a.stacks;i[n]=a;var s=t.stackId;r[s]||a.autoWidthCount++,r[s]=r[s]||{width:0,maxWidth:0};var l=t.barWidth;l&&!r[s].width&&(r[s].width=l,l=Math.min(a.remainedWidth,l),a.remainedWidth-=l);var h=t.barMaxWidth;h&&(r[s].maxWidth=h);var u=t.barGap;null!=u&&(a.gap=u);var c=t.barCategoryGap;null!=c&&(a.categoryGap=c)});var n={};return d(i,function(t,e){n[e]={};var i=t.stacks,o=t.bandWidth,a=To(t.categoryGap,o),r=To(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,h=(s-a)/(l+(l-1)*r);h=Math.max(h,0),d(i,function(t,e){var i=t.maxWidth;i&&i<h&&(i=Math.min(i,s),t.width&&(i=Math.min(i,t.width)),s-=i,t.width=i,l--)}),h=(s-a)/(l+(l-1)*r),h=Math.max(h,0);var u,c=0;d(i,function(t,e){t.width||(t.width=h),u=t,c+=t.width*(1+r)}),u&&(c-=u.width*r);var f=-c/2;d(i,function(t,i){n[e][i]=n[e][i]||{offset:f,width:t.width},f+=t.width*(1+r)})}),n}function il(t,e,i){var n=tl(g(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&\"cartesian2d\"===t.coordinateSystem.type})),o={},a={};e.eachSeriesByType(t,function(t){if(\"cartesian2d\"===t.coordinateSystem.type){var e=t.getData(),i=t.coordinateSystem,r=i.getBaseAxis(),s=Ks(t),l=n[Js(r)][s],h=l.offset,u=l.width,c=i.getOtherAxis(r),d=t.get(\"barMinHeight\")||0,f=r.onZero?c.toGlobalCoord(c.dataToCoord(0)):c.getGlobalExtent()[0],p=[e.mapDimension(\"x\"),e.mapDimension(\"y\")],g=e.mapArray(p,function(t,e){return i.dataToPoint([t,e])},!0);o[s]=o[s]||[],a[s]=a[s]||[],e.setLayout({offset:h,size:u}),e.each(e.mapDimension(c.dim),function(t,i){if(!isNaN(t)){o[s][i]||(o[s][i]={p:f,n:f},a[s][i]={p:f,n:f});var n,r,l,p,m=t>=0?\"p\":\"n\",v=g[i],y=o[s][i][m],x=a[s][i][m];c.isHorizontal()?(n=y,r=v[1]+h,l=v[0]-x,p=u,a[s][i][m]+=l,Math.abs(l)<d&&(l=(l<0?-1:1)*d),o[s][i][m]+=l):(n=v[0]+h,r=y,l=u,p=v[1]-x,a[s][i][m]+=p,Math.abs(p)<d&&(p=(p<=0?-1:1)*d),o[s][i][m]+=p),e.setItemLayout(i,{x:n,y:r,width:l,height:p})}},!0)}},this)}function nl(t,e){return BI(t,RI(e))}function ol(t,e){var i,n,o,a=t.type,r=e.getMin(),s=e.getMax(),l=null!=r,h=null!=s,u=t.getExtent();\"ordinal\"===a?i=e.getCategories().length:(y(n=e.get(\"boundaryGap\"))||(n=[n||0,n||0]),\"boolean\"==typeof n[0]&&(n=[0,0]),n[0]=To(n[0],1),n[1]=To(n[1],1),o=u[1]-u[0]||Math.abs(u[0])),null==r&&(r=\"ordinal\"===a?i?0:NaN:u[0]-n[0]*o),null==s&&(s=\"ordinal\"===a?i?i-1:NaN:u[1]+n[1]*o),\"dataMin\"===r?r=u[0]:\"function\"==typeof r&&(r=r({min:u[0],max:u[1]})),\"dataMax\"===s?s=u[1]:\"function\"==typeof s&&(s=s({min:u[0],max:u[1]})),(null==r||!isFinite(r))&&(r=NaN),(null==s||!isFinite(s))&&(s=NaN),t.setBlank(I(r)||I(s)),e.getNeedCrossZero()&&(r>0&&s>0&&!l&&(r=0),r<0&&s<0&&!h&&(s=0));var c=e.ecModel;if(c){var d=g(c.getSeriesByType(\"bar\"),function(t){return t.getBaseAxis()===e.axis}).length>0;if((\"time\"===a||\"interval\"===a)&&d){var f=al(r,s,e);r=f.min,s=f.max}}return[r,s]}function al(t,e,i){var n=i.ecModel,o=i.axis.getExtent(),a=o[1]-o[0],r=tl(g(n.getSeriesByType(\"bar\"),function(t){return!n.isSeriesFiltered(t)&&t.coordinateSystem&&\"cartesian2d\"===t.coordinateSystem.type}))[i.axis.dim+i.axis.index];if(void 0===r)return{min:t,max:e};var s=1/0;d(r,function(t){s=Math.min(t.offset,s)});var l=-1/0;d(r,function(t){l=Math.max(t.offset+t.width,l)});var h=Math.abs(s)+l,u=e-t,c=u/(1-(s+l)/a)-u;return e+=c*(l/h),t-=c*(s/h),{min:t,max:e}}function rl(t,e){var i=ol(t,e),n=null!=e.getMin(),o=null!=e.getMax(),a=e.get(\"splitNumber\");\"log\"===t.type&&(t.base=e.get(\"logBase\"));var r=t.type;t.setExtent(i[0],i[1]),t.niceExtent({splitNumber:a,fixMin:n,fixMax:o,minInterval:\"interval\"===r||\"time\"===r?e.get(\"minInterval\"):null,maxInterval:\"interval\"===r||\"time\"===r?e.get(\"maxInterval\"):null});var s=e.get(\"interval\");null!=s&&t.setInterval&&t.setInterval(s)}function sl(t,e){if(e=e||t.get(\"type\"))switch(e){case\"category\":return new MI(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case\"value\":return new AI;default:return(Fs.getClass(e)||AI).create(t)}}function ll(t,e,i,n,o){var a,r=0,s=0,l=(n-o)/180*Math.PI,h=1;e.length>40&&(h=Math.floor(e.length/40));for(var u=0;u<t.length;u+=h){var c=t[u],d=me(e[u],i,\"center\",\"top\");d.x+=c*Math.cos(l),d.y+=c*Math.sin(l),d.width*=1.3,d.height*=1.3,a?a.intersect(d)?(s++,r=Math.max(r,s)):(a.union(d),s=0):a=d.clone()}return 0===r&&h>1?h:(r+1)*h-1}function hl(t,e){var i=t.scale,n=i.getTicksLabels(),o=i.getTicks();return\"string\"==typeof e?(e=function(t){return function(e){return t.replace(\"{value}\",null!=e?e:\"\")}}(e),f(n,e)):\"function\"==typeof e?f(o,function(i,n){return e(ul(t,i),n)},this):n}function ul(t,e){return\"category\"===t.type?t.scale.getLabel(e):e}function cl(t,e){if(\"image\"!==this.type){var i=this.style,n=this.shape;n&&\"line\"===n.symbolType?i.stroke=t:this.__isEmptyBrush?(i.stroke=t,i.fill=e||\"#fff\"):(i.fill&&(i.fill=t),i.stroke&&(i.stroke=t)),this.dirty(!1)}}function dl(t,e,i,n,o,a,r){var s=0===t.indexOf(\"empty\");s&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var l;return l=0===t.indexOf(\"image://\")?zn(t.slice(8),new Kt(e,i,n,o),r?\"center\":\"cover\"):0===t.indexOf(\"path://\")?En(t.slice(7),{},new Kt(e,i,n,o),r?\"center\":\"cover\"):new KI({shape:{symbolType:t,x:e,y:i,width:n,height:o}}),l.__isEmptyBrush=s,l.setColor=cl,l.setColor(a),l}function fl(t,e){return Math.abs(t-e)<QI}function pl(t,e,i){var n=0,o=t[0];if(!o)return!1;for(var a=1;a<t.length;a++){var r=t[a];n+=gn(o[0],o[1],r[0],r[1],e,i),o=r}var s=t[0];return fl(o[0],s[0])&&fl(o[1],s[1])||(n+=gn(o[0],o[1],s[0],s[1],e,i)),0!==n}function gl(t,e,i){if(this.name=t,this.geometries=e,i)i=[i[0],i[1]];else{var n=this.getBoundingRect();i=[n.x+n.width/2,n.y+n.height/2]}this.center=i}function ml(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var i=t.features,n=0;n<i.length;n++)for(var o=i[n].geometry,a=o.coordinates,r=o.encodeOffsets,s=0;s<a.length;s++){var l=a[s];if(\"Polygon\"===o.type)a[s]=vl(l,r[s],e);else if(\"MultiPolygon\"===o.type)for(var h=0;h<l.length;h++){var u=l[h];l[h]=vl(u,r[s][h],e)}}return t.UTF8Encoding=!1,t}function vl(t,e,i){for(var n=[],o=e[0],a=e[1],r=0;r<t.length;r+=2){var s=t.charCodeAt(r)-64,l=t.charCodeAt(r+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),o=s+=o,a=l+=a,n.push([s/i,l/i])}return n}function yl(t,e){var i=(t[1]-t[0])/e/2;t[0]+=i,t[1]-=i}function xl(t,e){var i=t.mapDimension(\"defaultedLabel\",!0),n=i.length;if(1===n)return Ja(t,e,i[0]);if(n){for(var o=[],a=0;a<i.length;a++){var r=Ja(t,e,i[a]);o.push(r)}return o.join(\" \")}}function _l(t,e){var i=t.getItemVisual(e,\"symbolSize\");return i instanceof Array?i.slice():[+i,+i]}function wl(t){return[t[0]/2,t[1]/2]}function bl(t,e,i){S_.call(this),this.updateData(t,e,i)}function Sl(t,e){this.parent.drift(t,e)}function Ml(t){this.group=new S_,this._symbolCtor=t||bl}function Il(t,e,i,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n&&n(i))&&\"none\"!==t.getItemVisual(i,\"symbol\")}function Tl(t){var e=t.hostModel;return{itemStyle:e.getModel(\"itemStyle\").getItemStyle([\"color\"]),hoverItemStyle:e.getModel(\"emphasis.itemStyle\").getItemStyle(),symbolRotate:e.get(\"symbolRotate\"),symbolOffset:e.get(\"symbolOffset\"),hoverAnimation:e.get(\"hoverAnimation\"),labelModel:e.getModel(\"label\"),hoverLabelModel:e.getModel(\"emphasis.label\"),cursorStyle:e.get(\"cursor\")}}function Al(t){return t>=0?1:-1}function Dl(t,e,i){for(var n,o=t.getBaseAxis(),a=t.getOtherAxis(o),r=o.onZero?0:a.scale.getExtent()[0],s=a.dim,l=\"x\"===s||\"radius\"===s?1:0,h=e.stackedOn,u=e.get(s,i);h&&Al(h.get(s,i))===Al(u);){n=h;break}var c=[];return c[l]=e.get(o.dim,i),c[1-l]=n?n.get(s,i,!0):r,t.dataToPoint(c)}function Cl(t,e){var i=[];return e.diff(t).add(function(t){i.push({cmd:\"+\",idx:t})}).update(function(t,e){i.push({cmd:\"=\",idx:e,idx1:t})}).remove(function(t){i.push({cmd:\"-\",idx:t})}).execute(),i}function Ll(t){return isNaN(t[0])||isNaN(t[1])}function kl(t,e,i,n,o,a,r,s,l,h,u){for(var c=0,d=i,f=0;f<n;f++){var p=e[d];if(d>=o||d<0)break;if(Ll(p)){if(u){d+=a;continue}break}if(d===i)t[a>0?\"moveTo\":\"lineTo\"](p[0],p[1]),mT(yT,p);else if(l>0){var g=d+a,m=e[g];if(u)for(;m&&Ll(e[g]);)m=e[g+=a];var v=.5,y=e[c];if(!(m=e[g])||Ll(m))mT(xT,p);else{Ll(m)&&!u&&(m=p),U(vT,m,y);var x,_;if(\"x\"===h||\"y\"===h){var w=\"x\"===h?0:1;x=Math.abs(p[w]-y[w]),_=Math.abs(p[w]-m[w])}else x=Vx(p,y),_=Vx(p,m);gT(xT,p,vT,-l*(1-(v=_/(_+x))))}fT(yT,yT,s),pT(yT,yT,r),fT(xT,xT,s),pT(xT,xT,r),t.bezierCurveTo(yT[0],yT[1],xT[0],xT[1],p[0],p[1]),gT(yT,p,vT,l*v)}else t.lineTo(p[0],p[1]);c=d,d+=a}return f}function Pl(t,e){var i=[1/0,1/0],n=[-1/0,-1/0];if(e)for(var o=0;o<t.length;o++){var a=t[o];a[0]<i[0]&&(i[0]=a[0]),a[1]<i[1]&&(i[1]=a[1]),a[0]>n[0]&&(n[0]=a[0]),a[1]>n[1]&&(n[1]=a[1])}return{min:e?i:n,max:e?n:i}}function Ol(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++){var n=t[i],o=e[i];if(n[0]!==o[0]||n[1]!==o[1])return}return!0}}function Nl(t){return\"number\"==typeof t?t:t?.3:0}function El(t){var e=t.getGlobalExtent();if(t.onBand){var i=t.getBandWidth()/2-1,n=e[1]>e[0]?1:-1;e[0]+=n*i,e[1]-=n*i}return e}function zl(t){return t>=0?1:-1}function Rl(t,e,i,n){var o=e.getBaseAxis(),a=e.getOtherAxis(o),r=0,s=a.scale.getExtent();\"start\"===n?r=s[0]:\"end\"===n?r=s[1]:(s=a.scale.getExtent())[0]>0?r=s[0]:s[1]<0&&(r=s[1]);var l=a.dim,h=\"x\"===l||\"radius\"===l?1:0,u=i.mapDimension(l);return i.mapArray(u?[u]:[],function(t,n){for(var a,s=i.stackedOn;s&&zl(s.get(u,n))===zl(t);){a=s;break}var l=[];return l[h]=i.get(o.dim,n),l[1-h]=a?a.get(u,n,!0):r,e.dataToPoint(l)},!0)}function Bl(t,e,i){var n=El(t.getAxis(\"x\")),o=El(t.getAxis(\"y\")),a=t.getBaseAxis().isHorizontal(),r=Math.min(n[0],n[1]),s=Math.min(o[0],o[1]),l=Math.max(n[0],n[1])-r,h=Math.max(o[0],o[1])-s,u=i.get(\"lineStyle.width\")||2,c=i.get(\"clipOverflow\")?u/2:Math.max(l,h);a?(s-=c,h+=2*c):(r-=c,l+=2*c);var d=new Vb({shape:{x:r,y:s,width:l,height:h}});return e&&(d.shape[a?\"width\":\"height\"]=0,fo(d,{shape:{width:l,height:h}},i)),d}function Vl(t,e,i){var n=t.getAngleAxis(),o=t.getRadiusAxis().getExtent(),a=n.getExtent(),r=Math.PI/180,s=new Ob({shape:{cx:t.cx,cy:t.cy,r0:o[0],r:o[1],startAngle:-a[0]*r,endAngle:-a[1]*r,clockwise:n.inverse}});return e&&(s.shape.endAngle=-a[0]*r,fo(s,{shape:{endAngle:-a[1]*r}},i)),s}function Gl(t,e,i){return\"polar\"===t.type?Vl(t,e,i):Bl(t,e,i)}function Wl(t,e,i){for(var n=e.getBaseAxis(),o=\"x\"===n.dim||\"radius\"===n.dim?0:1,a=[],r=0;r<t.length-1;r++){var s=t[r+1],l=t[r];a.push(l);var h=[];switch(i){case\"end\":h[o]=s[o],h[1-o]=l[1-o],a.push(h);break;case\"middle\":var u=(l[o]+s[o])/2,c=[];h[o]=c[o]=u,h[1-o]=l[1-o],c[1-o]=s[1-o],a.push(h),a.push(c);break;default:h[o]=l[o],h[1-o]=s[1-o],a.push(h)}}return t[r]&&a.push(t[r]),a}function Fl(t,e){var i=t.getVisual(\"visualMeta\");if(i&&i.length&&t.count()){for(var n,o=i.length-1;o>=0;o--)if(i[o].dimension<2){n=i[o];break}if(n&&\"cartesian2d\"===e.type){var a=n.dimension,r=t.dimensions[a],s=e.getAxis(r),l=f(n.stops,function(t){return{coord:s.toGlobalCoord(s.dataToCoord(t.value)),color:t.color}}),h=l.length,u=n.outerColors.slice();h&&l[0].coord>l[h-1].coord&&(l.reverse(),u.reverse());var c=l[0].coord-10,p=l[h-1].coord+10,g=p-c;if(g<.001)return\"transparent\";d(l,function(t){t.offset=(t.coord-c)/g}),l.push({offset:h?l[h-1].offset:.5,color:u[1]||\"transparent\"}),l.unshift({offset:h?l[0].offset:.5,color:u[0]||\"transparent\"});var m=new jb(0,0,0,0,l,!0);return m[r]=c,m[r+\"2\"]=p,m}}}function Hl(t){return this._axes[t]}function Zl(t){TT.call(this,t)}function Ul(t,e){return e.type||(e.data?\"category\":\"value\")}function jl(t,e,i){return t.getCoordSysModel()===e}function Xl(t,e){var i=e*Math.PI/180,n=t.plain(),o=n.width,a=n.height,r=o*Math.cos(i)+a*Math.sin(i),s=o*Math.sin(i)+a*Math.cos(i);return new Kt(n.x,n.y,r,s)}function Yl(t){var e,i=t.model,n=i.get(\"axisLabel.show\")?i.getFormattedLabels():[],o=i.getModel(\"axisLabel\"),a=1,r=n.length;r>40&&(a=Math.ceil(r/40));for(var s=0;s<r;s+=a)if(!t.isLabelIgnored(s)){var l=Xl(o.getTextRect(n[s]),o.get(\"rotate\")||0);e?e.union(l):e=l}return e}function ql(t,e,i){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,i),this.model=t}function $l(t,e,i){var n=t[e];if(i.onZero){var o=i.onZeroAxisIndex;if(null==o){for(var a in n)if(n.hasOwnProperty(a)){var r=n[a];if(r&&!Kl(r)){o=+a;break}}null==o&&(i.onZero=!1),i.onZeroAxisIndex=o}else(r=n[o])&&Kl(r)&&(i.onZero=!1)}}function Kl(t){return\"category\"===t.type||\"time\"===t.type||!ET(t)}function Jl(t,e){var i=t.getExtent(),n=i[0]+i[1];t.toGlobalCoord=\"x\"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord=\"x\"===t.dim?function(t){return t-e}:function(t){return n-t+e}}function Ql(t,e){return f(BT,function(e){return t.getReferringComponents(e)[0]})}function th(t){return\"cartesian2d\"===t.get(\"coordinateSystem\")}function eh(t){var e={componentType:t.mainType};return e[t.mainType+\"Index\"]=t.componentIndex,e}function ih(t,e,i,n){var o,a,r=Oo(i-t.rotation),s=n[0]>n[1],l=\"start\"===e&&!s||\"start\"!==e&&s;return No(r-VT/2)?(a=l?\"bottom\":\"top\",o=\"center\"):No(r-1.5*VT)?(a=l?\"top\":\"bottom\",o=\"center\"):(a=\"middle\",o=r<1.5*VT&&r>VT/2?l?\"left\":\"right\":l?\"right\":\"left\"),{rotation:r,textAlign:o,textVerticalAlign:a}}function nh(t){var e=t.get(\"tooltip\");return t.get(\"silent\")||!(t.get(\"triggerEvent\")||e&&e.show)}function oh(t,e,i){var n=t.get(\"axisLabel.showMinLabel\"),o=t.get(\"axisLabel.showMaxLabel\");e=e||[],i=i||[];var a=e[0],r=e[1],s=e[e.length-1],l=e[e.length-2],h=i[0],u=i[1],c=i[i.length-1],d=i[i.length-2];!1===n?(ah(a),ah(h)):rh(a,r)&&(n?(ah(r),ah(u)):(ah(a),ah(h))),!1===o?(ah(s),ah(c)):rh(l,s)&&(o?(ah(l),ah(d)):(ah(s),ah(c)))}function ah(t){t&&(t.ignore=!0)}function rh(t,e,i){var n=t&&t.getBoundingRect().clone(),o=e&&e.getBoundingRect().clone();if(n&&o){var a=lt([]);return dt(a,a,-t.rotation),n.applyTransform(ut([],a,t.getLocalTransform())),o.applyTransform(ut([],a,e.getLocalTransform())),n.intersect(o)}}function sh(t){return\"middle\"===t||\"center\"===t}function lh(t,e,i){var n=e.axis;if(e.get(\"axisTick.show\")&&!n.scale.isBlank()){for(var o=e.getModel(\"axisTick\"),a=o.getModel(\"lineStyle\"),s=o.get(\"length\"),l=ZT(o,i.labelInterval),h=n.getTicksCoords(o.get(\"alignWithLabel\")),u=n.scale.getTicks(),c=e.get(\"axisLabel.showMinLabel\"),d=e.get(\"axisLabel.showMaxLabel\"),f=[],p=[],g=t._transform,m=[],v=h.length,y=0;y<v;y++)if(!HT(n,y,l,v,c,d)){var x=h[y];f[0]=x,f[1]=0,p[0]=x,p[1]=i.tickDirection*s,g&&(Q(f,f,g),Q(p,p,g));var _=new Gb(Vn({anid:\"tick_\"+u[y],shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},style:r(a.getLineStyle(),{stroke:e.get(\"axisLine.lineStyle.color\")}),z2:2,silent:!0}));t.group.add(_),m.push(_)}return m}}function hh(t,e,i){var n=e.axis;if(T(i.axisLabelShow,e.get(\"axisLabel.show\"))&&!n.scale.isBlank()){var o=e.getModel(\"axisLabel\"),a=o.get(\"margin\"),r=n.scale.getTicks(),s=e.getFormattedLabels(),l=(T(i.labelRotate,o.get(\"rotate\"))||0)*VT/180,h=FT(i.rotation,l,i.labelDirection),u=e.getCategories(),c=[],f=nh(e),p=e.get(\"triggerEvent\"),g=e.get(\"axisLabel.showMinLabel\"),m=e.get(\"axisLabel.showMaxLabel\");return d(r,function(l,d){if(!HT(n,d,i.labelInterval,r.length,g,m)){var v=o;u&&u[l]&&u[l].textStyle&&(v=new _o(u[l].textStyle,o,e.ecModel));var y=v.getTextColor()||e.get(\"axisLine.lineStyle.color\"),x=[n.dataToCoord(l),i.labelOffset+i.labelDirection*a],_=n.scale.getLabel(l),w=new Cb({anid:\"label_\"+l,position:x,rotation:h.rotation,silent:f,z2:10});io(w.style,v,{text:s[d],textAlign:v.getShallow(\"align\",!0)||h.textAlign,textVerticalAlign:v.getShallow(\"verticalAlign\",!0)||v.getShallow(\"baseline\",!0)||h.textVerticalAlign,textFill:\"function\"==typeof y?y(\"category\"===n.type?_:\"value\"===n.type?l+\"\":l,d):y}),p&&(w.eventData=eh(e),w.eventData.targetType=\"axisLabel\",w.eventData.value=_),t._dumbGroup.add(w),w.updateTransform(),c.push(w),t.group.add(w),w.decomposeTransform()}}),c}}function uh(t,e){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return ch(i,t,e),i.seriesInvolved&&fh(i,t),i}function ch(t,e,i){var n=e.getComponent(\"tooltip\"),o=e.getComponent(\"axisPointer\"),a=o.get(\"link\",!0)||[],r=[];UT(i.getCoordinateSystems(),function(i){function s(n,s,l){var c=l.model.getModel(\"axisPointer\",o),d=c.get(\"show\");if(d&&(\"auto\"!==d||n||xh(c))){null==s&&(s=c.get(\"triggerTooltip\"));var f=(c=n?dh(l,u,o,e,n,s):c).get(\"snap\"),p=_h(l.model),g=s||f||\"category\"===l.type,m=t.axesInfo[p]={key:p,axis:l,coordSys:i,axisPointerModel:c,triggerTooltip:s,involveSeries:g,snap:f,useHandle:xh(c),seriesModels:[]};h[p]=m,t.seriesInvolved|=g;var v=ph(a,l);if(null!=v){var y=r[v]||(r[v]={axesInfo:{}});y.axesInfo[p]=m,y.mapper=a[v].mapper,m.linkGroup=y}}}if(i.axisPointerEnabled){var l=_h(i.model),h=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=i;var u=i.model.getModel(\"tooltip\",n);if(UT(i.getAxes(),jT(s,!1,null)),i.getTooltipAxes&&n&&u.get(\"show\")){var c=\"axis\"===u.get(\"trigger\"),d=\"cross\"===u.get(\"axisPointer.type\"),f=i.getTooltipAxes(u.get(\"axisPointer.axis\"));(c||d)&&UT(f.baseAxes,jT(s,!d||\"cross\",c)),d&&UT(f.otherAxes,jT(s,\"cross\",!1))}}})}function dh(t,e,n,o,a,s){var l=e.getModel(\"axisPointer\"),h={};UT([\"type\",\"snap\",\"lineStyle\",\"shadowStyle\",\"label\",\"animation\",\"animationDurationUpdate\",\"animationEasingUpdate\",\"z\"],function(t){h[t]=i(l.get(t))}),h.snap=\"category\"!==t.type&&!!s,\"cross\"===l.get(\"type\")&&(h.type=\"line\");var u=h.label||(h.label={});if(null==u.show&&(u.show=!1),\"cross\"===a&&(u.show=!0,!s)){var c=h.lineStyle=l.get(\"crossStyle\");c&&r(u,c.textStyle)}return t.model.getModel(\"axisPointer\",new _o(h,n,o))}function fh(t,e){e.eachSeries(function(e){var i=e.coordinateSystem,n=e.get(\"tooltip.trigger\",!0),o=e.get(\"tooltip.show\",!0);i&&\"none\"!==n&&!1!==n&&\"item\"!==n&&!1!==o&&!1!==e.get(\"axisPointer.show\",!0)&&UT(t.coordSysAxesInfo[_h(i.model)],function(t){var n=t.axis;i.getAxis(n.dim)===n&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())})},this)}function ph(t,e){for(var i=e.model,n=e.dim,o=0;o<t.length;o++){var a=t[o]||{};if(gh(a[n+\"AxisId\"],i.id)||gh(a[n+\"AxisIndex\"],i.componentIndex)||gh(a[n+\"AxisName\"],i.name))return o}}function gh(t,e){return\"all\"===t||y(t)&&l(t,e)>=0||t===e}function mh(t){var e=vh(t);if(e){var i=e.axisPointerModel,n=e.axis.scale,o=i.option,a=i.get(\"status\"),r=i.get(\"value\");null!=r&&(r=n.parse(r));var s=xh(i);null==a&&(o.status=s?\"show\":\"hide\");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==r||r>l[1])&&(r=l[1]),r<l[0]&&(r=l[0]),o.value=r,s&&(o.status=e.axis.scale.isBlank()?\"hide\":\"show\")}}function vh(t){var e=(t.ecModel.getComponent(\"axisPointer\")||{}).coordSysAxesInfo;return e&&e.axesInfo[_h(t)]}function yh(t){var e=vh(t);return e&&e.axisPointerModel}function xh(t){return!!t.get(\"handle.show\")}function _h(t){return t.type+\"||\"+t.id}function wh(t,e,i,n,o,a){var r=XT.getAxisPointerClass(t.axisPointerClass);if(r){var s=yh(e);s?(t._axisPointer||(t._axisPointer=new r)).render(e,s,n,a):bh(t,n)}}function bh(t,e,i){var n=t._axisPointer;n&&n.dispose(e,i),t._axisPointer=null}function Sh(t,e,i){i=i||{};var n=t.coordinateSystem,o=e.axis,a={},r=o.position,s=o.onZero?\"onZero\":r,l=o.dim,h=n.getRect(),u=[h.x,h.x+h.width,h.y,h.y+h.height],c={left:0,right:1,top:0,bottom:1,onZero:2},d=e.get(\"offset\")||0,f=\"x\"===l?[u[2]-d,u[3]+d]:[u[0]-d,u[1]+d];if(o.onZero){var p=n.getAxis(\"x\"===l?\"y\":\"x\",o.onZeroAxisIndex),g=p.toGlobalCoord(p.dataToCoord(0));f[c.onZero]=Math.max(Math.min(g,f[1]),f[0])}a.position=[\"y\"===l?f[c[s]]:u[0],\"x\"===l?f[c[s]]:u[3]],a.rotation=Math.PI/2*(\"x\"===l?0:1);var m={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=m[r],a.labelOffset=o.onZero?f[c[r]]-f[c.onZero]:0,e.get(\"axisTick.inside\")&&(a.tickDirection=-a.tickDirection),T(i.labelInside,e.get(\"axisLabel.inside\"))&&(a.labelDirection=-a.labelDirection);var v=e.get(\"axisLabel.rotate\");return a.labelRotate=\"top\"===s?-v:v,a.labelInterval=o.getLabelInterval(),a.z2=1,a}function Mh(t,e,i,n,o,a,r){eo(t,e,i.getModel(\"label\"),i.getModel(\"emphasis.label\"),{labelFetcher:o,labelDataIndex:a,defaultText:xl(o.getData(),a),isRectText:!0,autoColor:n}),Ih(t),Ih(e)}function Ih(t,e){\"outside\"===t.textPosition&&(t.textPosition=e)}function Th(t,e,i){i.style.text=null,co(i,{shape:{width:0}},e,t,function(){i.parent&&i.parent.remove(i)})}function Ah(t,e,i){i.style.text=null,co(i,{shape:{r:i.shape.r0}},e,t,function(){i.parent&&i.parent.remove(i)})}function Dh(t,e,i,n,o,a,s,l){var h=e.getItemVisual(i,\"color\"),u=e.getItemVisual(i,\"opacity\"),c=n.getModel(\"itemStyle\"),d=n.getModel(\"emphasis.itemStyle\").getBarItemStyle();l||t.setShape(\"r\",c.get(\"barBorderRadius\")||0),t.useStyle(r({fill:h,opacity:u},c.getBarItemStyle()));var f=n.getShallow(\"cursor\");f&&t.attr(\"cursor\",f);var p=s?o.height>0?\"bottom\":\"top\":o.width>0?\"left\":\"right\";l||Mh(t.style,d,n,h,a,i,p),to(t,d)}function Ch(t,e){var i=t.get(nA)||0;return Math.min(i,Math.abs(e.width),Math.abs(e.height))}function Lh(t,e,i,n){var o=e.getData(),a=this.dataIndex,r=o.getName(a),s=e.get(\"selectedOffset\");n.dispatchAction({type:\"pieToggleSelect\",from:t,name:r,seriesId:e.id}),o.each(function(t){kh(o.getItemGraphicEl(t),o.getItemLayout(t),e.isSelected(o.getName(t)),s,i)})}function kh(t,e,i,n,o){var a=(e.startAngle+e.endAngle)/2,r=Math.cos(a),s=Math.sin(a),l=i?n:0,h=[r*l,s*l];o?t.animate().when(200,{position:h}).start(\"bounceOut\"):t.attr(\"position\",h)}function Ph(t,e){function i(){a.ignore=a.hoverIgnore,r.ignore=r.hoverIgnore}function n(){a.ignore=a.normalIgnore,r.ignore=r.normalIgnore}S_.call(this);var o=new Ob({z2:2}),a=new Bb,r=new Cb;this.add(o),this.add(a),this.add(r),this.updateData(t,e,!0),this.on(\"emphasis\",i).on(\"normal\",n).on(\"mouseover\",i).on(\"mouseout\",n)}function Oh(t,e,i,n,o,a,r){function s(e,i){for(var n=e;n>=0&&(t[n].y-=i,!(n>0&&t[n].y>t[n-1].y+t[n-1].height));n--);}function l(t,e,i,n,o,a){for(var r=e?Number.MAX_VALUE:0,s=0,l=t.length;s<l;s++)if(\"center\"!==t[s].position){var h=Math.abs(t[s].y-n),u=t[s].len,c=t[s].len2,d=h<o+u?Math.sqrt((o+u+c)*(o+u+c)-h*h):Math.abs(t[s].x-i);e&&d>=r&&(d=r-10),!e&&d<=r&&(d=r+10),t[s].x=i+d*a,r=d}}t.sort(function(t,e){return t.y-e.y});for(var h,u=0,c=t.length,d=[],f=[],p=0;p<c;p++)(h=t[p].y-u)<0&&function(e,i,n,o){for(var a=e;a<i;a++)if(t[a].y+=n,a>e&&a+1<i&&t[a+1].y>t[a].y+t[a].height)return void s(a,n/2);s(i-1,n/2)}(p,c,-h),u=t[p].y+t[p].height;r-u<0&&s(c-1,u-r);for(p=0;p<c;p++)t[p].y>=i?f.push(t[p]):d.push(t[p]);l(d,!1,e,i,n,o),l(f,!0,e,i,n,o)}function Nh(t,e,i,n,o,a){for(var r=[],s=[],l=0;l<t.length;l++)t[l].x<e?r.push(t[l]):s.push(t[l]);Oh(s,e,i,n,1,o,a),Oh(r,e,i,n,-1,o,a);for(l=0;l<t.length;l++){var h=t[l].linePoints;if(h){var u=h[1][0]-h[2][0];t[l].x<e?h[2][0]=t[l].x+3:h[2][0]=t[l].x-3,h[1][1]=h[2][1]=t[l].y,h[1][0]=h[2][0]+u}}}function Eh(){this.group=new S_}function zh(t,e,i){nT.call(this,t,e,i),this.type=\"value\",this.angle=0,this.name=\"\",this.model}function Rh(t,e,i){this._model=t,this.dimensions=[],this._indicatorAxes=f(t.getIndicatorModels(),function(t,e){var i=\"indicator_\"+e,n=new zh(i,new AI);return n.name=t.get(\"name\"),n.model=t,t.axis=n,this.dimensions.push(i),n},this),this.resize(t,i),this.cx,this.cy,this.r,this.startAngle}function Bh(t,e){return r({show:e},t)}function Vh(t){return y(t)||(t=[+t,+t]),t}function Gh(t,e,i){Hh(t)[e]=i}function Wh(t,e,i){var n=Hh(t);n[e]===i&&(n[e]=null)}function Fh(t,e){return!!Hh(t)[e]}function Hh(t){return t[bA]||(t[bA]={})}function Zh(t){this.pointerChecker,this._zr=t,this._opt={};var e=m,n=e(Uh,this),o=e(jh,this),a=e(Xh,this),s=e(Yh,this),l=e(qh,this);Hx.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(e,h){this.disable(),this._opt=r(i(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&\"move\"!==e&&\"pan\"!==e||(t.on(\"mousedown\",n),t.on(\"mousemove\",o),t.on(\"mouseup\",a)),!0!==e&&\"scale\"!==e&&\"zoom\"!==e||(t.on(\"mousewheel\",s),t.on(\"pinch\",l))},this.disable=function(){t.off(\"mousedown\",n),t.off(\"mousemove\",o),t.off(\"mouseup\",a),t.off(\"mousewheel\",s),t.off(\"pinch\",l)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function Uh(t){if(!(ci(t)||t.target&&t.target.draggable)){var e=t.offsetX,i=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,i)&&(this._x=e,this._y=i,this._dragging=!0)}}function jh(t){if(!ci(t)&&Kh(this,\"moveOnMouseMove\",t)&&this._dragging&&\"pinch\"!==t.gestureEvent&&!Fh(this._zr,\"globalPan\")){var e=t.offsetX,i=t.offsetY,n=this._x,o=this._y,a=e-n,r=i-o;this._x=e,this._y=i,this._opt.preventDefaultMouseMove&&Q_(t.event),this.trigger(\"pan\",a,r,n,o,e,i)}}function Xh(t){ci(t)||(this._dragging=!1)}function Yh(t){if(Kh(this,\"zoomOnMouseWheel\",t)&&0!==t.wheelDelta){var e=t.wheelDelta>0?1.1:1/1.1;$h.call(this,t,e,t.offsetX,t.offsetY)}}function qh(t){if(!Fh(this._zr,\"globalPan\")){var e=t.pinchScale>1?1.1:1/1.1;$h.call(this,t,e,t.pinchX,t.pinchY)}}function $h(t,e,i,n){this.pointerChecker&&this.pointerChecker(t,i,n)&&(Q_(t.event),this.trigger(\"zoom\",e,i,n))}function Kh(t,e,i){var n=t._opt[e];return n&&(!_(n)||i.event[n+\"Key\"])}function Jh(t,e,i){var n=t.target,o=n.position;o[0]+=e,o[1]+=i,n.dirty()}function Qh(t,e,i,n){var o=t.target,a=t.zoomLimit,r=o.position,s=o.scale,l=t.zoom=t.zoom||1;if(l*=e,a){var h=a.min||0,u=a.max||1/0;l=Math.max(Math.min(u,l),h)}var c=l/t.zoom;t.zoom=l,r[0]-=(i-r[0])*(c-1),r[1]-=(n-r[1])*(c-1),s[0]*=c,s[1]*=c,o.dirty()}function tu(t,e,i){var n=e.getComponentByElement(t.topTarget),o=n&&n.coordinateSystem;return n&&n!==i&&!SA[n.mainType]&&o&&o.model!==i}function eu(t,e){var i=t.getItemStyle(),n=t.get(\"areaColor\");return null!=n&&(i.fill=n),i}function iu(t,e,i,n,o){i.off(\"click\"),i.off(\"mousedown\"),e.get(\"selectedMode\")&&(i.on(\"mousedown\",function(){t._mouseDownFlag=!0}),i.on(\"click\",function(a){if(t._mouseDownFlag){t._mouseDownFlag=!1;for(var r=a.target;!r.__regions;)r=r.parent;if(r){var s={type:(\"geo\"===e.mainType?\"geo\":\"map\")+\"ToggleSelect\",batch:f(r.__regions,function(t){return{name:t.name,from:o.uid}})};s[e.mainType+\"Id\"]=e.id,n.dispatchAction(s),nu(e,i)}}}))}function nu(t,e){e.eachChild(function(e){d(e.__regions,function(i){e.trigger(t.isSelected(i.name)?\"emphasis\":\"normal\")})})}function ou(t,e){var i=new S_;this._controller=new Zh(t.getZr()),this._controllerHost={target:e?i:null},this.group=i,this._updateGroup=e,this._mouseDownFlag}function au(t,e,i){var n=t.getZoom(),o=t.getCenter(),a=e.zoom,r=t.dataToPoint(o);if(null!=e.dx&&null!=e.dy){r[0]-=e.dx,r[1]-=e.dy;o=t.pointToData(r);t.setCenter(o)}if(null!=a){if(i){var s=i.min||0,l=i.max||1/0;a=Math.max(Math.min(n*a,l),s)/n}t.scale[0]*=a,t.scale[1]*=a;var h=t.position,u=(e.originX-h[0])*(a-1),c=(e.originY-h[1])*(a-1);h[0]-=u,h[1]-=c,t.updateTransform();o=t.pointToData(r);t.setCenter(o),t.setZoom(a*n)}return{center:t.getCenter(),zoom:t.getZoom()}}function ru(){Kx.call(this)}function su(t){this.name=t,this.zoomLimit,Kx.call(this),this._roamTransformable=new ru,this._rawTransformable=new ru,this._center,this._zoom}function lu(t,e,i,n){var o=i.seriesModel,a=o?o.coordinateSystem:null;return a===this?a[t](n):null}function hu(t,e,i,n,o){su.call(this,t),this.map=e,this._nameCoordMap=z(),this.loadGeoJson(i,n,o)}function uu(t,e,i,n){var o=i.geoModel,a=i.seriesModel,r=o?o.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents(\"geo\")[0]||{}).coordinateSystem:null;return r===this?r[t](n):null}function cu(t,e){var i=t.get(\"boundingCoords\");if(null!=i){var n=i[0],o=i[1];isNaN(n[0])||isNaN(n[1])||isNaN(o[0])||isNaN(o[1])||this.setBoundingRect(n[0],n[1],o[0]-n[0],o[1]-n[1])}var a,r=this.getBoundingRect(),s=t.get(\"layoutCenter\"),l=t.get(\"layoutSize\"),h=e.getWidth(),u=e.getHeight(),c=t.get(\"aspectScale\")||.75,d=r.width/r.height*c,f=!1;s&&l&&(s=[To(s[0],h),To(s[1],u)],l=To(l,Math.min(h,u)),isNaN(s[0])||isNaN(s[1])||isNaN(l)||(f=!0));if(f){var p={};d>1?(p.width=l,p.height=l/d):(p.height=l,p.width=l*d),p.y=s[1]-p.height/2,p.x=s[0]-p.width/2}else(a=t.getBoxLayoutParams()).aspect=d,p=Ko(a,{width:h,height:u});this.setViewRect(p.x,p.y,p.width,p.height),this.setCenter(t.get(\"center\")),this.setZoom(t.get(\"zoom\"))}function du(t,e){d(e.get(\"geoCoord\"),function(e,i){t.addGeoCoord(i,e)})}function fu(t,e){var i={};return d(t,function(t){t.each(t.mapDimension(\"value\"),function(e,n){var o=\"ec-\"+t.getName(n);i[o]=i[o]||[],isNaN(e)||i[o].push(e)})}),t[0].map(t[0].mapDimension(\"value\"),function(n,o){for(var a=\"ec-\"+t[0].getName(o),r=0,s=1/0,l=-1/0,h=i[a].length,u=0;u<h;u++)s=Math.min(s,i[a][u]),l=Math.max(l,i[a][u]),r+=i[a][u];var c;return c=\"min\"===e?s:\"max\"===e?l:\"average\"===e?r/h:r,0===h?NaN:c})}function pu(t){var e=t.mainData,i=t.datas;i||(i={main:e},t.datasAttr={main:\"data\"}),t.datas=t.mainData=null,_u(e,i,t),NA(i,function(i){NA(e.TRANSFERABLE_METHODS,function(e){i.wrapMethod(e,v(gu,t))})}),e.wrapMethod(\"cloneShallow\",v(vu,t)),NA(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,v(mu,t))}),k(i[e.dataType]===e)}function gu(t,e){if(xu(this)){var i=a({},this[EA]);i[this.dataType]=e,_u(e,i,t)}else wu(e,this.dataType,this[zA],t);return e}function mu(t,e){return t.struct&&t.struct.update(this),e}function vu(t,e){return NA(e[EA],function(i,n){i!==e&&wu(i.cloneShallow(),n,e,t)}),e}function yu(t){var e=this[zA];return null==t||null==e?e:e[EA][t]}function xu(t){return t[zA]===t}function _u(t,e,i){t[EA]={},NA(e,function(e,n){wu(e,n,t,i)})}function wu(t,e,i,n){i[EA][e]=t,t[zA]=i,t.dataType=e,n.struct&&(t[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=t),t.getLinkedData=yu}function bu(t,e,i){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=f(e||[],function(e){return new _o(e,t,t.ecModel)}),this.leavesModel=new _o(i||{},t,t.ecModel)}function Su(t,e){var i=e.children;t.parentNode!==e&&(i.push(t),t.parentNode=e)}function Mu(t){t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e,i,n=[t];e=n.pop();)if(i=e.children,e.isExpand&&i.length)for(var o=i.length-1;o>=0;o--){var a=i[o];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},n.push(a)}}function Iu(t,e){var i=t.isExpand?t.children:[],n=t.parentNode.children,o=t.hierNode.i?n[t.hierNode.i-1]:null;if(i.length){Lu(t);var a=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;o?(t.hierNode.prelim=o.hierNode.prelim+e(t,o),t.hierNode.modifier=t.hierNode.prelim-a):t.hierNode.prelim=a}else o&&(t.hierNode.prelim=o.hierNode.prelim+e(t,o));t.parentNode.hierNode.defaultAncestor=ku(t,o,t.parentNode.hierNode.defaultAncestor||n[0],e)}function Tu(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function Au(t){return arguments.length?t:zu}function Du(t,e){var i={};return t-=Math.PI/2,i.x=e*Math.cos(t),i.y=e*Math.sin(t),i}function Cu(t,e){return Ko(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Lu(t){for(var e=t.children,i=e.length,n=0,o=0;--i>=0;){var a=e[i];a.hierNode.prelim+=n,a.hierNode.modifier+=n,o+=a.hierNode.change,n+=a.hierNode.shift+o}}function ku(t,e,i,n){if(e){for(var o=t,a=t,r=a.parentNode.children[0],s=e,l=o.hierNode.modifier,h=a.hierNode.modifier,u=r.hierNode.modifier,c=s.hierNode.modifier;s=Pu(s),a=Ou(a),s&&a;){o=Pu(o),r=Ou(r),o.hierNode.ancestor=t;var d=s.hierNode.prelim+c-a.hierNode.prelim-h+n(s,a);d>0&&(Eu(Nu(s,t,i),t,d),h+=d,l+=d),c+=s.hierNode.modifier,h+=a.hierNode.modifier,l+=o.hierNode.modifier,u+=r.hierNode.modifier}s&&!Pu(o)&&(o.hierNode.thread=s,o.hierNode.modifier+=c-l),a&&!Ou(r)&&(r.hierNode.thread=a,r.hierNode.modifier+=h-u,i=t)}return i}function Pu(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function Ou(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function Nu(t,e,i){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:i}function Eu(t,e,i){var n=i/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=n,e.hierNode.shift+=i,e.hierNode.modifier+=i,e.hierNode.prelim+=i,t.hierNode.change+=n}function zu(t,e){return t.parentNode===e.parentNode?1:2}function Ru(t,e){var i=t.getItemLayout(e);return i&&!isNaN(i.x)&&!isNaN(i.y)&&\"none\"!==t.getItemVisual(e,\"symbol\")}function Bu(t,e,i){return i.itemModel=e,i.itemStyle=e.getModel(\"itemStyle\").getItemStyle(),i.hoverItemStyle=e.getModel(\"emphasis.itemStyle\").getItemStyle(),i.lineStyle=e.getModel(\"lineStyle\").getLineStyle(),i.labelModel=e.getModel(\"label\"),i.hoverLabelModel=e.getModel(\"emphasis.label\"),!1===t.isExpand&&0!==t.children.length?i.symbolInnerColor=i.itemStyle.fill:i.symbolInnerColor=\"#fff\",i}function Vu(t,e,i,n,o,a){var s=!i,l=t.tree.getNodeByDataIndex(e),a=Bu(l,l.getModel(),a),h=t.tree.root,u=l.parentNode===h?l:l.parentNode||l,c=t.getItemGraphicEl(u.dataIndex),d=u.getLayout(),f=c?{x:c.position[0],y:c.position[1],rawX:c.__radialOldRawX,rawY:c.__radialOldRawY}:d,p=l.getLayout();s?(i=new bl(t,e,a)).attr(\"position\",[f.x,f.y]):i.updateData(t,e,a),i.__radialOldRawX=i.__radialRawX,i.__radialOldRawY=i.__radialRawY,i.__radialRawX=p.rawX,i.__radialRawY=p.rawY,n.add(i),t.setItemGraphicEl(e,i),co(i,{position:[p.x,p.y]},o);var g=i.getSymbolPath();if(\"radial\"===a.layout){var m,v,y=h.children[0],x=y.getLayout(),_=y.children.length;if(p.x===x.x&&!0===l.isExpand){var w={};w.x=(y.children[0].getLayout().x+y.children[_-1].getLayout().x)/2,w.y=(y.children[0].getLayout().y+y.children[_-1].getLayout().y)/2,(m=Math.atan2(w.y-x.y,w.x-x.x))<0&&(m=2*Math.PI+m),(v=w.x<x.x)&&(m-=Math.PI)}else(m=Math.atan2(p.y-x.y,p.x-x.x))<0&&(m=2*Math.PI+m),0===l.children.length||0!==l.children.length&&!1===l.isExpand?(v=p.x<x.x)&&(m-=Math.PI):(v=p.x>x.x)||(m-=Math.PI);var b=v?\"left\":\"right\";g.setStyle({textPosition:b,textRotation:-m,textOrigin:\"center\",verticalAlign:\"middle\"})}if(l.parentNode&&l.parentNode!==h){var S=i.__edge;S||(S=i.__edge=new Fb({shape:Wu(a,f,f),style:r({opacity:0},a.lineStyle)})),co(S,{shape:Wu(a,d,p),style:{opacity:1}},o),n.add(S)}}function Gu(t,e,i,n,o,a){for(var r,s=t.tree.getNodeByDataIndex(e),l=t.tree.root,a=Bu(s,s.getModel(),a),h=s.parentNode===l?s:s.parentNode||s;null==(r=h.getLayout());)h=h.parentNode===l?h:h.parentNode||h;co(i,{position:[r.x+1,r.y+1]},o,function(){n.remove(i),t.setItemGraphicEl(e,null)}),i.fadeOut(null,{keepLabel:!0});var u=i.__edge;u&&co(u,{shape:Wu(a,r,r),style:{opacity:0}},o,function(){n.remove(u)})}function Wu(t,e,i){var n,o,a,r,s=t.orient;if(\"radial\"===t.layout){var l=e.rawX,h=e.rawY,u=i.rawX,c=i.rawY,d=Du(l,h),f=Du(l,h+(c-h)*t.curvature),p=Du(u,c+(h-c)*t.curvature),g=Du(u,c);return{x1:d.x,y1:d.y,x2:g.x,y2:g.y,cpx1:f.x,cpy1:f.y,cpx2:p.x,cpy2:p.y}}var l=e.x,h=e.y,u=i.x,c=i.y;return\"horizontal\"===s&&(n=l+(u-l)*t.curvature,o=h,a=u+(l-u)*t.curvature,r=c),\"vertical\"===s&&(n=l,o=h+(c-h)*t.curvature,a=u,r=c+(h-c)*t.curvature),{x1:l,y1:h,x2:u,y2:c,cpx1:n,cpy1:o,cpx2:a,cpy2:r}}function Fu(t,e,i){for(var n,o=[t],a=[];n=o.pop();)if(a.push(n),n.isExpand){var r=n.children;if(r.length)for(var s=0;s<r.length;s++)o.push(r[s])}for(;n=a.pop();)e(n,i)}function Hu(t,e){for(var i,n=[t];i=n.pop();)if(e(i),i.isExpand){var o=i.children;if(o.length)for(var a=o.length-1;a>=0;a--)n.push(o[a])}}function Zu(t,e,i){if(t&&l(e,t.type)>=0){var n=i.getData().tree.root,o=t.targetNode;if(o&&n.contains(o))return{node:o};var a=t.targetNodeId;if(null!=a&&(o=n.getNodeById(a)))return{node:o}}}function Uu(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function ju(t,e){return l(Uu(t),e)>=0}function Xu(t,e){for(var i=[];t;){var n=t.dataIndex;i.push({name:t.name,dataIndex:n,value:e.getRawValue(n)}),t=t.parentNode}return i.reverse(),i}function Yu(t){var e=0;d(t.children,function(t){Yu(t);var i=t.value;y(i)&&(i=i[0]),e+=i});var i=t.value;y(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=e),i<0&&(i=0),y(t.value)?t.value[0]=i:t.value=i}function qu(t,e){var i=e.get(\"color\");if(i){var n;return d(t=t||[],function(t){var e=new _o(t),i=e.get(\"color\");(e.get(\"itemStyle.color\")||i&&\"none\"!==i)&&(n=!0)}),n||((t[0]||(t[0]={})).color=i.slice()),t}}function $u(t){this.group=new S_,t.add(this.group)}function Ku(t,e,i,n,o,a){var r=[[o?t:t-VA,e],[t+i,e],[t+i,e+n],[o?t:t-VA,e+n]];return!a&&r.splice(2,0,[t+i+VA,e+n/2]),!o&&r.push([t,e+n/2]),r}function Ju(t,e,i){t.eventData={componentType:\"series\",componentSubType:\"treemap\",seriesIndex:e.componentIndex,seriesName:e.name,seriesType:\"treemap\",selfType:\"breadcrumb\",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&Xu(i,e)}}function Qu(){var t,e=[],i={};return{add:function(t,n,o,a,r){return _(a)&&(r=a,a=0),!i[t.id]&&(i[t.id]=1,e.push({el:t,target:n,time:o,delay:a,easing:r}),!0)},done:function(e){return t=e,this},start:function(){for(var n=e.length,o=0,a=e.length;o<a;o++){var r=e[o];r.el.animateTo(r.target,r.time,r.delay,r.easing,function(){--n||(e.length=0,i={},t&&t())})}return this}}}function tc(t,e,n,o,r,s,l,h,u,c){function d(t,e){w?!t.invisible&&s.push(t):(e(),t.__tmWillVisible||(t.invisible=!1))}function f(e,n,o,a,r,s){var h=l.getModel(),u=T(t.getFormattedLabel(l.dataIndex,\"normal\",null,null,s?\"upperLabel\":\"label\"),h.get(\"name\"));if(!s&&v.isLeafRoot){var c=t.get(\"drillDownIcon\",!0);u=c?c+\" \"+u:u}var d=h.getModel(s?jA:ZA),f=h.getModel(s?XA:UA),p=d.getShallow(\"show\");eo(e,n,d,f,{defaultText:p?u:null,autoColor:o,isRectText:!0}),s&&(e.textRect=i(s)),e.truncate=p&&d.get(\"ellipsis\")?{outerWidth:a,outerHeight:r,minChar:2}:null}function p(t,i,o,a){var s=null!=S&&n[t][S],l=r[t];return s?(n[t][S]=null,g(l,s,t)):w||((s=new i({z:ec(o,a)})).__tmDepth=o,s.__tmStorageName=t,m(l,s,t)),e[t][b]=s}function g(t,e,i){(t[b]={}).old=\"nodeGroup\"===i?e.position.slice():a({},e.shape)}function m(t,e,i){var n=t[b]={},a=l.parentNode;if(a&&(!o||\"drillDown\"===o.direction)){var s=0,h=0,u=r.background[a.getRawIndex()];!o&&u&&u.old&&(s=u.old.width,h=u.old.height),n.old=\"nodeGroup\"===i?[0,h]:{x:s,y:h,width:0,height:0}}n.fadein=\"nodeGroup\"!==i}if(l){var v=l.getLayout();if(v&&v.isInView){var y=v.width,x=v.height,_=v.borderWidth,w=v.invisible,b=l.getRawIndex(),S=h&&h.getRawIndex(),M=l.viewChildren,I=v.upperHeight,A=M&&M.length,D=l.getModel(\"itemStyle\"),C=l.getModel(\"emphasis.itemStyle\"),L=p(\"nodeGroup\",WA);if(L){if(u.add(L),L.attr(\"position\",[v.x||0,v.y||0]),L.__tmNodeWidth=y,L.__tmNodeHeight=x,v.isAboveViewRoot)return L;var k=p(\"background\",FA,c,qA);if(k&&function(e,i,n){i.dataIndex=l.dataIndex,i.seriesIndex=t.seriesIndex,i.setShape({x:0,y:0,width:y,height:x});var o=l.getVisual(\"borderColor\",!0),a=C.get(\"borderColor\");d(i,function(){var t=JA(D);t.fill=o;var e=KA(C);if(e.fill=a,n){var r=y-2*_;f(t,e,o,r,I,{x:_,y:0,width:r,height:I})}else t.text=e.text=null;i.setStyle(t),to(i,e)}),e.add(i)}(L,k,A&&v.upperHeight),!A){var P=p(\"content\",FA,c,$A);P&&function(e,i){i.dataIndex=l.dataIndex,i.seriesIndex=t.seriesIndex;var n=Math.max(y-2*_,0),o=Math.max(x-2*_,0);i.culling=!0,i.setShape({x:_,y:_,width:n,height:o});var a=l.getVisual(\"color\",!0);d(i,function(){var t=JA(D);t.fill=a;var e=KA(C);f(t,e,a,n,o),i.setStyle(t),to(i,e)}),e.add(i)}(L,P)}return L}}}}function ec(t,e){var i=t*YA+e;return(i-1)/i}function ic(t){var e=t.pieceList;t.hasSpecialVisual=!1,d(e,function(e,i){e.originIndex=i,null!=e.visual&&(t.hasSpecialVisual=!0)})}function nc(t){var e=t.categories,i=t.visual,n=t.categoryMap={};if(eD(e,function(t,e){n[t]=e}),!y(i)){var o=[];w(i)?eD(i,function(t,e){var i=n[e];o[null!=i?i:nD]=t}):o[nD]=i,i=dc(t,o)}for(var a=e.length-1;a>=0;a--)null==i[a]&&(delete n[e[a]],e.pop())}function oc(t,e){var i=t.visual,n=[];w(i)?eD(i,function(t){n.push(t)}):null!=i&&n.push(i);var o={color:1,symbol:1};e||1!==n.length||o.hasOwnProperty(t.type)||(n[1]=n[0]),dc(t,n)}function ac(t){return{applyVisual:function(e,i,n){e=this.mapValueToVisual(e),n(\"color\",t(i(\"color\"),e))},_doMap:uc([0,1])}}function rc(t){var e=this.option.visual;return e[Math.round(Io(t,[0,1],[0,e.length-1],!0))]||{}}function sc(t){return function(e,i,n){n(t,this.mapValueToVisual(e))}}function lc(t){var e=this.option.visual;return e[this.option.loop&&t!==nD?t%e.length:t]}function hc(){return this.option.visual[0]}function uc(t){return{linear:function(e){return Io(e,t,this.option.visual,!0)},category:lc,piecewise:function(e,i){var n=cc.call(this,i);return null==n&&(n=Io(e,t,this.option.visual,!0)),n},fixed:hc}}function cc(t){var e=this.option,i=e.pieceList;if(e.hasSpecialVisual){var n=i[oD.findPieceIndex(t,i)];if(n&&n.visual)return n.visual[this.type]}}function dc(t,e){return t.visual=e,\"color\"===t.type&&(t.parsedVisual=f(e,function(t){return Dt(t)})),e}function fc(t,e,i){return t?e<=i:e<i}function pc(t,e,i,n,o,a){var r=t.getModel(),s=t.getLayout();if(s&&!s.invisible&&s.isInView){var l,h=t.getModel(lD),u=gc(h,e,i[t.depth],n),c=h.get(\"borderColor\"),f=h.get(\"borderColorSaturation\");null!=f&&(c=vc(f,l=mc(u))),t.setVisual(\"borderColor\",c);var p=t.viewChildren;if(p&&p.length){var g=xc(t,r,s,h,u,p);d(p,function(t,e){(t.depth>=o.length||t===o[t.depth])&&pc(t,wc(r,u,t,e,g,a),i,n,o,a)})}else l=mc(u),t.setVisual(\"color\",l)}}function gc(t,e,i,n){var o=a({},e);return d([\"color\",\"colorAlpha\",\"colorSaturation\"],function(a){var r=t.get(a,!0);null==r&&i&&(r=i[a]),null==r&&(r=e[a]),null==r&&(r=n.get(a)),null!=r&&(o[a]=r)}),o}function mc(t){var e=yc(t,\"color\");if(e){var i=yc(t,\"colorAlpha\"),n=yc(t,\"colorSaturation\");return n&&(e=Et(e,null,null,n)),i&&(e=zt(e,i)),e}}function vc(t,e){return null!=e?Et(e,null,null,t):null}function yc(t,e){var i=t[e];if(null!=i&&\"none\"!==i)return i}function xc(t,e,i,n,o,a){if(a&&a.length){var r=_c(e,\"color\")||null!=o.color&&\"none\"!==o.color&&(_c(e,\"colorAlpha\")||_c(e,\"colorSaturation\"));if(r){var s=e.get(\"visualMin\"),l=e.get(\"visualMax\"),h=i.dataExtent.slice();null!=s&&s<h[0]&&(h[0]=s),null!=l&&l>h[1]&&(h[1]=l);var u=e.get(\"colorMappingBy\"),c={type:r.name,dataExtent:h,visual:r.range};\"color\"!==c.type||\"index\"!==u&&\"id\"!==u?c.mappingMethod=\"linear\":(c.mappingMethod=\"category\",c.loop=!0);var d=new oD(c);return d.__drColorMappingBy=u,d}}}function _c(t,e){var i=t.get(e);return sD(i)&&i.length?{name:e,range:i}:null}function wc(t,e,i,n,o,r){var s=a({},e);if(o){var l=o.type,h=\"color\"===l&&o.__drColorMappingBy,u=\"index\"===h?n:\"id\"===h?r.mapIdToIndex(i.getId()):i.getValue(t.get(\"visualDimension\"));s[l]=o.mapValueToVisual(u)}return s}function bc(t,e,i,n){var o,a;if(!t.isRemoved()){var r=t.getLayout();o=r.width,a=r.height;var s=(f=t.getModel()).get(pD),l=f.get(gD)/2,h=Pc(f),u=Math.max(s,h),c=s-l,d=u-l,f=t.getModel();t.setLayout({borderWidth:s,upperHeight:u,upperLabelHeight:h},!0);var p=(o=uD(o-2*c,0))*(a=uD(a-c-d,0)),g=Sc(t,f,p,e,i,n);if(g.length){var m={x:c,y:d,width:o,height:a},v=cD(o,a),y=1/0,x=[];x.area=0;for(var _=0,w=g.length;_<w;){var b=g[_];x.push(b),x.area+=b.getLayout().area;var S=Ac(x,v,e.squareRatio);S<=y?(_++,y=S):(x.area-=x.pop().getLayout().area,Dc(x,v,m,l,!1),v=cD(m.width,m.height),x.length=x.area=0,y=1/0)}if(x.length&&Dc(x,v,m,l,!0),!i){var M=f.get(\"childrenVisibleMin\");null!=M&&p<M&&(i=!0)}for(var _=0,w=g.length;_<w;_++)bc(g[_],e,i,n+1)}}}function Sc(t,e,i,n,o,a){var r=t.children||[],s=n.sort;\"asc\"!==s&&\"desc\"!==s&&(s=null);var l=null!=n.leafDepth&&n.leafDepth<=a;if(o&&!l)return t.viewChildren=[];Ic(r=g(r,function(t){return!t.isRemoved()}),s);var h=Tc(e,r,s);if(0===h.sum)return t.viewChildren=[];if(h.sum=Mc(e,i,h.sum,s,r),0===h.sum)return t.viewChildren=[];for(var u=0,c=r.length;u<c;u++){var d=r[u].getValue()/h.sum*i;r[u].setLayout({area:d})}return l&&(r.length&&t.setLayout({isLeafRoot:!0},!0),r.length=0),t.viewChildren=r,t.setLayout({dataExtent:h.dataExtent},!0),r}function Mc(t,e,i,n,o){if(!n)return i;for(var a=t.get(\"visibleMin\"),r=o.length,s=r,l=r-1;l>=0;l--){var h=o[\"asc\"===n?r-l-1:l].getValue();h/i*e<a&&(s=l,i-=h)}return\"asc\"===n?o.splice(0,r-s):o.splice(s,r-s),i}function Ic(t,e){return e&&t.sort(function(t,i){var n=\"asc\"===e?t.getValue()-i.getValue():i.getValue()-t.getValue();return 0===n?\"asc\"===e?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:n}),t}function Tc(t,e,i){for(var n=0,o=0,a=e.length;o<a;o++)n+=e[o].getValue();var r=t.get(\"visualDimension\");if(e&&e.length)if(\"value\"===r&&i)s=[e[e.length-1].getValue(),e[0].getValue()],\"asc\"===i&&s.reverse();else{var s=[1/0,-1/0];fD(e,function(t){var e=t.getValue(r);e<s[0]&&(s[0]=e),e>s[1]&&(s[1]=e)})}else s=[NaN,NaN];return{sum:n,dataExtent:s}}function Ac(t,e,i){for(var n,o=0,a=1/0,r=0,s=t.length;r<s;r++)(n=t[r].getLayout().area)&&(n<a&&(a=n),n>o&&(o=n));var l=t.area*t.area,h=e*e*i;return l?uD(h*o/l,l/(h*a)):1/0}function Dc(t,e,i,n,o){var a=e===i.width?0:1,r=1-a,s=[\"x\",\"y\"],l=[\"width\",\"height\"],h=i[s[a]],u=e?t.area/e:0;(o||u>i[l[r]])&&(u=i[l[r]]);for(var c=0,d=t.length;c<d;c++){var f=t[c],p={},g=u?f.getLayout().area/u:0,m=p[l[r]]=uD(u-2*n,0),v=i[s[a]]+i[l[a]]-h,y=c===d-1||v<g?v:g,x=p[l[a]]=uD(y-2*n,0);p[s[r]]=i[s[r]]+cD(n,m/2),p[s[a]]=h+cD(n,x/2),h+=y,f.setLayout(p,!0)}i[s[r]]+=u,i[l[r]]-=u}function Cc(t,e,i,n,o){var a=(e||{}).node,r=[n,o];if(!a||a===i)return r;for(var s,l=n*o,h=l*t.option.zoomToNodeRatio;s=a.parentNode;){for(var u=0,c=s.children,d=0,f=c.length;d<f;d++)u+=c[d].getValue();var p=a.getValue();if(0===p)return r;h*=u/p;var g=s.getModel(),m=g.get(pD);(h+=4*m*m+(3*m+Math.max(m,Pc(g)))*Math.pow(h,.5))>hS&&(h=hS),a=s}h<l&&(h=l);var v=Math.pow(h/l,.5);return[n*v,o*v]}function Lc(t,e,i){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!i)return n;var o=i.node,a=o.getLayout();if(!a)return n;for(var r=[a.width/2,a.height/2],s=o;s;){var l=s.getLayout();r[0]+=l.x,r[1]+=l.y,s=s.parentNode}return{x:t.width/2-r[0],y:t.height/2-r[1]}}function kc(t,e,i,n,o){var a=t.getLayout(),r=i[o],s=r&&r===t;if(!(r&&!s||o===i.length&&t!==n)){t.setLayout({isInView:!0,invisible:!s&&!e.intersect(a),isAboveViewRoot:s},!0);var l=new Kt(e.x-a.x,e.y-a.y,e.width,e.height);fD(t.viewChildren||[],function(t){kc(t,l,i,n,o+1)})}}function Pc(t){return t.get(mD)?t.get(vD):0}function Oc(t){return\"_EC_\"+t}function Nc(t,e){this.id=null==t?\"\":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function Ec(t,e,i){this.node1=t,this.node2=e,this.dataIndex=null==i?-1:i}function zc(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}function Rc(t){return\"_\"+t+\"Type\"}function Bc(t,e,i){var n=e.getItemVisual(i,\"color\"),o=e.getItemVisual(i,t),a=e.getItemVisual(i,t+\"Size\");if(o&&\"none\"!==o){y(a)||(a=[a,a]);var r=dl(o,-a[0]/2,-a[1]/2,a[0],a[1],n);return r.name=t,r}}function Vc(t){var e=new TD({name:\"line\"});return Gc(e.shape,t),e}function Gc(t,e){var i=e[0],n=e[1],o=e[2];t.x1=i[0],t.y1=i[1],t.x2=n[0],t.y2=n[1],t.percent=1,o?(t.cpx1=o[0],t.cpy1=o[1]):(t.cpx1=NaN,t.cpy1=NaN)}function Wc(t,e,i){S_.call(this),this._createLine(t,e,i)}function Fc(t){this._ctor=t||Wc,this.group=new S_}function Hc(t,e,i,n){if(Xc(e.getItemLayout(i))){var o=new t._ctor(e,i,n);e.setItemGraphicEl(i,o),t.group.add(o)}}function Zc(t,e,i,n,o,a){var r=e.getItemGraphicEl(n);Xc(i.getItemLayout(o))?(r?r.updateData(i,o,a):r=new t._ctor(i,o,a),i.setItemGraphicEl(o,r),t.group.add(r)):t.group.remove(r)}function Uc(t){var e=t.hostModel;return{lineStyle:e.getModel(\"lineStyle\").getLineStyle(),hoverLineStyle:e.getModel(\"emphasis.lineStyle\").getLineStyle(),labelModel:e.getModel(\"label\"),hoverLabelModel:e.getModel(\"emphasis.label\")}}function jc(t){return isNaN(t[0])||isNaN(t[1])}function Xc(t){return!jc(t[0])&&!jc(t[1])}function Yc(t,e,i){for(var n,o=t[0],a=t[1],r=t[2],s=1/0,l=i*i,h=.1,u=.1;u<=.9;u+=.1)LD[0]=OD(o[0],a[0],r[0],u),LD[1]=OD(o[1],a[1],r[1],u),(f=ED(ND(LD,e)-l))<s&&(s=f,n=u);for(var c=0;c<32;c++){var d=n+h;kD[0]=OD(o[0],a[0],r[0],n),kD[1]=OD(o[1],a[1],r[1],n),PD[0]=OD(o[0],a[0],r[0],d),PD[1]=OD(o[1],a[1],r[1],d);var f=ND(kD,e)-l;if(ED(f)<.01)break;var p=ND(PD,e)-l;h/=2,f<0?p>=0?n+=h:n-=h:p>=0?n-=h:n+=h}return n}function qc(t,e){return t.getVisual(\"opacity\")||t.getModel().get(e)}function $c(t,e,i){var n=t.getGraphicEl(),o=qc(t,e);null!=i&&(null==o&&(o=1),o*=i),n.downplay&&n.downplay(),n.traverse(function(t){\"group\"!==t.type&&t.setStyle(\"opacity\",o)})}function Kc(t,e){var i=qc(t,e),n=t.getGraphicEl();n.highlight&&n.highlight(),n.traverse(function(t){\"group\"!==t.type&&t.setStyle(\"opacity\",i)})}function Jc(t){return t instanceof Array||(t=[t,t]),t}function Qc(t){var e=t.coordinateSystem;if(!e||\"view\"===e.type){var i=t.getGraph();i.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get(\"x\"),+e.get(\"y\")])}),td(i)}}function td(t){t.eachEdge(function(t){var e=t.getModel().get(\"lineStyle.curveness\")||0,i=W(t.node1.getLayout()),n=W(t.node2.getLayout()),o=[i,n];+e&&o.push([(i[0]+n[0])/2-(i[1]-n[1])*e,(i[1]+n[1])/2-(n[0]-i[0])*e]),t.setLayout(o)})}function ed(t){var e=t.coordinateSystem;if(!e||\"view\"===e.type){var i=e.getBoundingRect(),n=t.getData(),o=n.graph,a=0,r=n.getSum(\"value\"),s=2*Math.PI/(r||n.count()),l=i.width/2+i.x,h=i.height/2+i.y,u=Math.min(i.width,i.height)/2;o.eachNode(function(t){var e=t.getValue(\"value\");a+=s*(r?e:1)/2,t.setLayout([u*Math.cos(a)+l,u*Math.sin(a)+h]),a+=s*(r?e:1)/2}),n.setLayout({cx:l,cy:h}),o.eachEdge(function(t){var e,i=t.getModel().get(\"lineStyle.curveness\")||0,n=W(t.node1.getLayout()),o=W(t.node2.getLayout()),a=(n[0]+o[0])/2,r=(n[1]+o[1])/2;+i&&(e=[l*(i*=3)+a*(1-i),h*i+r*(1-i)]),t.setLayout([n,o,e])})}}function id(t,e,i){for(var n=i.rect,o=n.width,a=n.height,r=[n.x+o/2,n.y+a/2],s=null==i.gravity?.1:i.gravity,l=0;l<t.length;l++){var h=t[l];h.p||(h.p=V(o*(Math.random()-.5)+r[0],a*(Math.random()-.5)+r[1])),h.pp=W(h.p),h.edges=null}var u=.6;return{warmUp:function(){u=.5},setFixed:function(e){t[e].fixed=!0},setUnfixed:function(e){t[e].fixed=!1},step:function(i){for(var n=[],o=t.length,a=0;a<e.length;a++){var l=e[a],h=l.n1;U(n,(p=l.n2).p,h.p);var c=j(n)-l.d,d=p.w/(h.w+p.w);isNaN(d)&&(d=0),q(n,n),!h.fixed&&VD(h.p,h.p,n,d*c*u),!p.fixed&&VD(p.p,p.p,n,-(1-d)*c*u)}for(a=0;a<o;a++)(v=t[a]).fixed||(U(n,r,v.p),VD(v.p,v.p,n,s*u));for(a=0;a<o;a++)for(var h=t[a],f=a+1;f<o;f++){var p=t[f];U(n,p.p,h.p),0===(c=j(n))&&(F(n,Math.random()-.5,Math.random()-.5),c=1);var g=(h.rep+p.rep)/c/c;!h.fixed&&VD(h.pp,h.pp,n,g),!p.fixed&&VD(p.pp,p.pp,n,-g)}for(var m=[],a=0;a<o;a++){var v=t[a];v.fixed||(U(m,v.p,v.pp),VD(v.p,v.p,m,u),G(v.pp,v.p))}u*=.992,i&&i(t,e,u<.01)}}}function nd(t,e,i){var n=t.getBoxLayoutParams();return n.aspect=i,Ko(n,{width:e.getWidth(),height:e.getHeight()})}function od(t,e){var i=t.get(\"center\"),n=e.getWidth(),o=e.getHeight(),a=Math.min(n,o);return{cx:To(i[0],e.getWidth()),cy:To(i[1],e.getHeight()),r:To(t.get(\"radius\"),a/2)}}function ad(t,e){return e&&(\"string\"==typeof e?t=e.replace(\"{value}\",null!=t?t:\"\"):\"function\"==typeof e&&(t=e(t))),t}function rd(t,e){function i(){a.ignore=a.hoverIgnore,r.ignore=r.hoverIgnore}function n(){a.ignore=a.normalIgnore,r.ignore=r.normalIgnore}S_.call(this);var o=new Rb,a=new Bb,r=new Cb;this.add(o),this.add(a),this.add(r),this.updateData(t,e,!0),this.on(\"emphasis\",i).on(\"normal\",n).on(\"mouseover\",i).on(\"mouseout\",n)}function sd(t,e){return Ko(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function ld(t,e){for(var i=t.mapDimension(\"value\"),n=t.mapArray(i,function(t){return t}),o=[],a=\"ascending\"===e,r=0,s=t.count();r<s;r++)o[r]=r;return\"function\"==typeof e?o.sort(e):\"none\"!==e&&o.sort(function(t,e){return a?n[t]-n[e]:n[e]-n[t]}),o}function hd(t){t.each(function(e){var i,n,o,a,r=t.getItemModel(e),s=r.getModel(\"label\").get(\"position\"),l=r.getModel(\"labelLine\"),h=t.getItemLayout(e),u=h.points,c=\"inner\"===s||\"inside\"===s||\"center\"===s;if(c)i=\"center\",a=[[n=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,o=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4],[n,o]];else{var d,f,p,g=l.get(\"length\");\"left\"===s?(d=(u[3][0]+u[0][0])/2,f=(u[3][1]+u[0][1])/2,n=(p=d-g)-5,i=\"right\"):(d=(u[1][0]+u[2][0])/2,f=(u[1][1]+u[2][1])/2,n=(p=d+g)+5,i=\"left\");var m=f;a=[[d,f],[p,m]],o=m}h.label={linePoints:a,x:n,y:o,verticalAlign:\"middle\",textAlign:i,inside:c}})}function ud(t){if(!t.parallel){var e=!1;d(t.series,function(t){t&&\"parallel\"===t.type&&(e=!0)}),e&&(t.parallel=[{}])}}function cd(t){d(Si(t.parallelAxis),function(e){if(w(e)){var i=e.parallelIndex||0,o=Si(t.parallel)[i];o&&o.parallelAxisDefault&&n(e,o.parallelAxisDefault,!1)}})}function dd(t,e){var i=t[e]-t[1-e];return{span:Math.abs(i),sign:i>0?-1:i<0?1:e?-1:1}}function fd(t,e){return Math.min(e[1],Math.max(e[0],t))}function pd(t,e,i){this._axesMap=z(),this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,i)}function gd(t,e){return YD(qD(t,e[0]),e[1])}function md(t,e){var i=e.layoutLength/(e.axisCount-1);return{position:i*t,axisNameAvailableWidth:i,axisLabelShow:!0}}function vd(t,e){var i,n,o=e.layoutLength,a=e.axisExpandWidth,r=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,h=s,u=!1;return t<l[0]?(i=t*s,n=s):t<=l[1]?(i=e.axisExpandWindow0Pos+t*a-e.axisExpandWindow[0],h=a,u=!0):(i=o-(r-1-t)*s,n=s),{position:i,axisNameAvailableWidth:h,axisLabelShow:u,nameTruncateMaxWidth:n}}function yd(t){Hx.call(this),this._zr=t,this.group=new S_,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid=\"brushController_\"+gC++,this._handlers={},nC(mC,function(t,e){this._handlers[e]=m(t,this)},this)}function xd(t,e){var o=t._zr;t._enableGlobalPan||Gh(o,cC,t._uid),nC(t._handlers,function(t,e){o.on(e,t)}),t._brushType=e.brushType,t._brushOption=n(i(pC),e,!0)}function _d(t){var e=t._zr;Wh(e,cC,t._uid),nC(t._handlers,function(t,i){e.off(i,t)}),t._brushType=t._brushOption=null}function wd(t,e){var i=vC[e.brushType].createCover(t,e);return i.__brushOption=e,Md(i,e),t.group.add(i),i}function bd(t,e){var i=Td(e);return i.endCreating&&(i.endCreating(t,e),Md(e,e.__brushOption)),e}function Sd(t,e){var i=e.__brushOption;Td(e).updateCoverShape(t,e,i.range,i)}function Md(t,e){var i=e.z;null==i&&(i=lC),t.traverse(function(t){t.z=i,t.z2=i})}function Id(t,e){Td(e).updateCommon(t,e),Sd(t,e)}function Td(t){return vC[t.__brushOption.brushType]}function Ad(t,e,i){var n=t._panels;if(!n)return!0;var o,a=t._transform;return nC(n,function(t){t.isTargetByCursor(e,i,a)&&(o=t)}),o}function Dd(t,e){var i=t._panels;if(!i)return!0;var n=e.__brushOption.panelId;return null==n||i[n]}function Cd(t){var e=t._covers,i=e.length;return nC(e,function(e){t.group.remove(e)},t),e.length=0,!!i}function Ld(t,e){var n=oC(t._covers,function(t){var e=t.__brushOption,n=i(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}});t.trigger(\"brush\",n,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function kd(t){var e=t._track;if(!e.length)return!1;var i=e[e.length-1],n=e[0],o=i[0]-n[0],a=i[1]-n[1];return sC(o*o+a*a,.5)>hC}function Pd(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function Od(t,e,i,n){var o=new S_;return o.add(new Vb({name:\"main\",style:Rd(i),silent:!0,draggable:!0,cursor:\"move\",drift:iC(t,e,o,\"nswe\"),ondragend:iC(Ld,e,{isEnd:!0})})),nC(n,function(i){o.add(new Vb({name:i,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:iC(t,e,o,i),ondragend:iC(Ld,e,{isEnd:!0})}))}),o}function Nd(t,e,i,n){var o=n.brushStyle.lineWidth||0,a=rC(o,uC),r=i[0][0],s=i[1][0],l=r-o/2,h=s-o/2,u=i[0][1],c=i[1][1],d=u-a+o/2,f=c-a+o/2,p=u-r,g=c-s,m=p+o,v=g+o;zd(t,e,\"main\",r,s,p,g),n.transformable&&(zd(t,e,\"w\",l,h,a,v),zd(t,e,\"e\",d,h,a,v),zd(t,e,\"n\",l,h,m,a),zd(t,e,\"s\",l,f,m,a),zd(t,e,\"nw\",l,h,a,a),zd(t,e,\"ne\",d,h,a,a),zd(t,e,\"sw\",l,f,a,a),zd(t,e,\"se\",d,f,a,a))}function Ed(t,e){var i=e.__brushOption,n=i.transformable,o=e.childAt(0);o.useStyle(Rd(i)),o.attr({silent:!n,cursor:n?\"move\":\"default\"}),nC([\"w\",\"e\",\"n\",\"s\",\"se\",\"sw\",\"ne\",\"nw\"],function(i){var o=e.childOfName(i),a=Gd(t,i);o&&o.attr({silent:!n,invisible:!n,cursor:n?fC[a]+\"-resize\":null})})}function zd(t,e,i,n,o,a,r){var s=e.childOfName(i);s&&s.setShape(Ud(Zd(t,e,[[n,o],[n+a,o+r]])))}function Rd(t){return r({strokeNoScale:!0},t.brushStyle)}function Bd(t,e,i,n){var o=[aC(t,i),aC(e,n)],a=[rC(t,i),rC(e,n)];return[[o[0],a[0]],[o[1],a[1]]]}function Vd(t){return po(t.group)}function Gd(t,e){if(e.length>1)return(\"e\"===(n=[Gd(t,(e=e.split(\"\"))[0]),Gd(t,e[1])])[0]||\"w\"===n[0])&&n.reverse(),n.join(\"\");var i={left:\"w\",right:\"e\",top:\"n\",bottom:\"s\"},n=mo({w:\"left\",e:\"right\",n:\"top\",s:\"bottom\"}[e],Vd(t));return i[n]}function Wd(t,e,i,n,o,a,r,s){var l=n.__brushOption,h=t(l.range),u=Hd(i,a,r);nC(o.split(\"\"),function(t){var e=dC[t];h[e[0]][e[1]]+=u[e[0]]}),l.range=e(Bd(h[0][0],h[1][0],h[0][1],h[1][1])),Id(i,n),Ld(i,{isEnd:!1})}function Fd(t,e,i,n,o){var a=e.__brushOption.range,r=Hd(t,i,n);nC(a,function(t){t[0]+=r[0],t[1]+=r[1]}),Id(t,e),Ld(t,{isEnd:!1})}function Hd(t,e,i){var n=t.group,o=n.transformCoordToLocal(e,i),a=n.transformCoordToLocal(0,0);return[o[0]-a[0],o[1]-a[1]]}function Zd(t,e,n){var o=Dd(t,e);return o&&!0!==o?o.clipPath(n,t._transform):i(n)}function Ud(t){var e=aC(t[0][0],t[1][0]),i=aC(t[0][1],t[1][1]);return{x:e,y:i,width:rC(t[0][0],t[1][0])-e,height:rC(t[0][1],t[1][1])-i}}function jd(t,e,i){if(t._brushType){var n=t._zr,o=t._covers,a=Ad(t,e,i);if(!t._dragging)for(var r=0;r<o.length;r++){var s=o[r].__brushOption;if(a&&(!0===a||s.panelId===a.panelId)&&vC[s.brushType].contain(o[r],i[0],i[1]))return}a&&n.setCursorStyle(\"crosshair\")}}function Xd(t){var e=t.event;e.preventDefault&&e.preventDefault()}function Yd(t,e,i){return t.childOfName(\"main\").contain(e,i)}function qd(t,e,n,o){var a,r=t._creatingCover,s=t._creatingPanel,l=t._brushOption;if(t._track.push(n.slice()),kd(t)||r){if(s&&!r){\"single\"===l.brushMode&&Cd(t);var h=i(l);h.brushType=$d(h.brushType,s),h.panelId=!0===s?null:s.panelId,r=t._creatingCover=wd(t,h),t._covers.push(r)}if(r){var u=vC[$d(t._brushType,s)];r.__brushOption.range=u.getCreatingRange(Zd(t,r,t._track)),o&&(bd(t,r),u.updateCommon(t,r)),Sd(t,r),a={isEnd:o}}}else o&&\"single\"===l.brushMode&&l.removeOnClick&&Ad(t,e,n)&&Cd(t)&&(a={isEnd:o,removeOnClick:!0});return a}function $d(t,e){return\"auto\"===t?e.defaultBrushType:t}function Kd(t){if(this._dragging){Xd(t);var e=qd(this,t,this.group.transformCoordToLocal(t.offsetX,t.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,e&&Ld(this,e)}}function Jd(t){return{createCover:function(e,i){return Od(iC(Wd,function(e){var i=[e,[0,100]];return t&&i.reverse(),i},function(e){return e[t]}),e,i,[[\"w\",\"e\"],[\"n\",\"s\"]][t])},getCreatingRange:function(e){var i=Pd(e);return[aC(i[0][t],i[1][t]),rC(i[0][t],i[1][t])]},updateCoverShape:function(e,i,n,o){var a,r=Dd(e,i);if(!0!==r&&r.getLinearBrushOtherExtent)a=r.getLinearBrushOtherExtent(t,e._transform);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[n,a];t&&l.reverse(),Nd(e,i,l,o)},updateCommon:Ed,contain:Yd}}function Qd(t){return t=nf(t),function(e,i){return yo(e,t)}}function tf(t,e){return t=nf(t),function(i){var n=null!=e?e:i,o=n?t.width:t.height,a=n?t.x:t.y;return[a,a+(o||0)]}}function ef(t,e,i){return t=nf(t),function(n,o,a){return t.contain(o[0],o[1])&&!tu(n,e,i)}}function nf(t){return Kt.create(t)}function of(t,e,i){return i&&\"axisAreaSelect\"===i.type&&e.findComponents({mainType:\"parallelAxis\",query:i})[0]===t}function af(t){var e=t.axis;return f(t.activeIntervals,function(t){return{brushType:\"lineX\",panelId:\"pl\",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function rf(t,e){return e.getComponent(\"parallel\",t.get(\"parallelIndex\"))}function sf(t,e){var i=t._model;return i.get(\"axisExpandable\")&&i.get(\"axisExpandTriggerOn\")===e}function lf(t,e){if(!t.encodeDefine){var i=e.ecModel.getComponent(\"parallel\",e.get(\"parallelIndex\"));if(i){var n=t.encodeDefine=z();d(i.dimensions,function(t){var e=hf(t);n.set(t,e)})}}}function hf(t){return+t.replace(\"dim\",\"\")}function uf(t,e,i){var n=t.model,o=t.getRect(),a=new Vb({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),r=\"horizontal\"===n.get(\"layout\")?\"width\":\"height\";return a.setShape(r,0),fo(a,{shape:{width:o.width,height:o.height}},e,i),a}function cf(t,e,i,n){for(var o=[],a=0;a<i.length;a++){var r=i[a],s=t.get(t.mapDimension(r),e);pf(s,n.getAxis(r).type)||o.push(n.dataToPoint(s,r))}return o}function df(t,e,i,n,o){var a=cf(t,i,n,o),r=new Bb({shape:{points:a},silent:!0,z2:10});e.add(r),t.setItemGraphicEl(i,r)}function ff(t,e){var i=t.hostModel.getModel(\"lineStyle\"),n=i.getLineStyle();t.eachItemGraphicEl(function(o,r){if(t.hasItemOption){var s=t.getItemModel(r).getModel(\"lineStyle\",i);n=s.getLineStyle([\"color\",\"stroke\"])}o.useStyle(a(n,{fill:null,stroke:t.getItemVisual(r,\"color\"),opacity:t.getItemVisual(r,\"opacity\")})),o.shape.smooth=e})}function pf(t,e){return\"category\"===e?null==t:null==t||isNaN(t)}function gf(t,e,i){var n=new Vb({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return fo(n,{shape:{width:t.width+20,height:t.height+20}},e,i),n}function mf(){function t(e,n){if(n>=i.length)return e;for(var o=-1,a=e.length,r=i[n++],s={},l={};++o<a;){var h=r(e[o]),u=l[h];u?u.push(e[o]):l[h]=[e[o]]}return d(l,function(e,i){s[i]=t(e,n)}),s}function e(t,o){if(o>=i.length)return t;var a=[],r=n[o++];return d(t,function(t,i){a.push({key:i,values:e(t,o)})}),r?a.sort(function(t,e){return r(t.key,e.key)}):a}var i=[],n=[];return{key:function(t){return i.push(t),this},sortKeys:function(t){return n[i.length-1]=t,this},entries:function(i){return e(t(i,0),0)}}}function vf(t,e){return Ko(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function yf(t,e,i,n,o,a,r){_f(t,i,o),Sf(t,e,a,n,r),Lf(t)}function xf(t){d(t,function(t){var e=Of(t.outEdges,Rf),i=Of(t.inEdges,Rf),n=Math.max(e,i);t.setLayout({value:n},!0)})}function _f(t,e,i){for(var n=t,o=null,a=0;n.length;){o=[];for(var r=0,s=n.length;r<s;r++){var l=n[r];l.setLayout({x:a},!0),l.setLayout({dx:e},!0);for(var h=0,u=l.outEdges.length;h<u;h++)o.push(l.outEdges[h].node2)}n=o,++a}wf(t,a),bf(t,(i-e)/(a-1))}function wf(t,e){d(t,function(t){t.outEdges.length||t.setLayout({x:e-1},!0)})}function bf(t,e){d(t,function(t){var i=t.getLayout().x*e;t.setLayout({x:i},!0)})}function Sf(t,e,i,n,o){var a=mf().key(function(t){return t.getLayout().x}).sortKeys(zf).entries(t).map(function(t){return t.values});Mf(t,a,e,i,n),If(a,n,i);for(var r=1;o>0;o--)Tf(a,r*=.99),If(a,n,i),Df(a,r),If(a,n,i)}function Mf(t,e,i,n,o){var a=[];d(e,function(t){var e=t.length,i=0;d(t,function(t){i+=t.getLayout().value});var r=(n-(e-1)*o)/i;a.push(r)}),a.sort(function(t,e){return t-e});var r=a[0];d(e,function(t){d(t,function(t,e){t.setLayout({y:e},!0);var i=t.getLayout().value*r;t.setLayout({dy:i},!0)})}),d(i,function(t){var e=+t.getValue()*r;t.setLayout({dy:e},!0)})}function If(t,e,i){d(t,function(t){var n,o,a,r=0,s=t.length;for(t.sort(Ef),a=0;a<s;a++){if(n=t[a],(o=r-n.getLayout().y)>0){l=n.getLayout().y+o;n.setLayout({y:l},!0)}r=n.getLayout().y+n.getLayout().dy+e}if((o=r-e-i)>0){var l=n.getLayout().y-o;for(n.setLayout({y:l},!0),r=n.getLayout().y,a=s-2;a>=0;--a)(o=(n=t[a]).getLayout().y+n.getLayout().dy+e-r)>0&&(l=n.getLayout().y-o,n.setLayout({y:l},!0)),r=n.getLayout().y}})}function Tf(t,e){d(t.slice().reverse(),function(t){d(t,function(t){if(t.outEdges.length){var i=Of(t.outEdges,Af)/Of(t.outEdges,Rf),n=t.getLayout().y+(i-Nf(t))*e;t.setLayout({y:n},!0)}})})}function Af(t){return Nf(t.node2)*t.getValue()}function Df(t,e){d(t,function(t){d(t,function(t){if(t.inEdges.length){var i=Of(t.inEdges,Cf)/Of(t.inEdges,Rf),n=t.getLayout().y+(i-Nf(t))*e;t.setLayout({y:n},!0)}})})}function Cf(t){return Nf(t.node1)*t.getValue()}function Lf(t){d(t,function(t){t.outEdges.sort(kf),t.inEdges.sort(Pf)}),d(t,function(t){var e=0,i=0;d(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),d(t.inEdges,function(t){t.setLayout({ty:i},!0),i+=t.getLayout().dy})})}function kf(t,e){return t.node2.getLayout().y-e.node2.getLayout().y}function Pf(t,e){return t.node1.getLayout().y-e.node1.getLayout().y}function Of(t,e){for(var i=0,n=t.length,o=-1;++o<n;){var a=+e.call(t,t[o],o);isNaN(a)||(i+=a)}return i}function Nf(t){return t.getLayout().y+t.getLayout().dy/2}function Ef(t,e){return t.getLayout().y-e.getLayout().y}function zf(t,e){return t<e?-1:t>e?1:t===e?0:NaN}function Rf(t){return t.getValue()}function Bf(t,e,i,n){S_.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=i,this._createContent(t,e,n),this.updateData(t,e,n),this._seriesModel}function Vf(t,e,i){return f(t,function(t){return t=t.slice(),t[e]=i.initBaseline,t})}function Gf(t){var e={};return d(t,function(t,i){e[\"ends\"+i]=t}),e}function Wf(t){this.group=new S_,this.styleUpdater=t}function Ff(t,e,i){var n=e.getItemModel(i),o=n.getModel(CC),a=e.getItemVisual(i,\"color\"),r=o.getItemStyle([\"borderColor\"]),s=t.childAt(t.whiskerIndex);s.style.set(r),s.style.stroke=a,s.dirty();var l=t.childAt(t.bodyIndex);l.style.set(r),l.style.stroke=a,l.dirty(),to(t,n.getModel(LC).getItemStyle())}function Hf(t){var e=[],i=[];return t.eachSeriesByType(\"boxplot\",function(t){var n=t.getBaseAxis(),o=l(i,n);o<0&&(o=i.length,i[o]=n,e[o]={axis:n,seriesModels:[]}),e[o].seriesModels.push(t)}),e}function Zf(t){var e,i,n=t.axis,o=t.seriesModels,a=o.length,r=t.boxWidthList=[],s=t.boxOffsetList=[],l=[];if(\"category\"===n.type)i=n.getBandWidth();else{var h=0;PC(o,function(t){h=Math.max(h,t.getData().count())}),e=n.getExtent(),Math.abs(e[1]-e[0])}PC(o,function(t){var e=t.get(\"boxWidth\");y(e)||(e=[e,e]),l.push([To(e[0],i)||0,To(e[1],i)||0])});var u=.8*i-2,c=u/a*.3,d=(u-c*(a-1))/a,f=d/2-u/2;PC(o,function(t,e){s.push(f),f+=c+d,r.push(Math.min(Math.max(d,l[e][0]),l[e][1]))})}function Uf(t,e,i){var n,o=t.coordinateSystem,a=t.getData(),r=i/2,s=t.get(\"layout\"),l=\"horizontal\"===s?0:1,h=1-l,u=[\"x\",\"y\"],c=[];d(a.dimensions,function(t){var e=a.getDimensionInfo(t).coordDim;e===u[h]?c.push(t):e===u[l]&&(n=t)}),null==n||c.length<5||a.each([n].concat(c),function(){function t(t){var i=[];i[l]=d,i[h]=t;var n;return isNaN(d)||isNaN(t)?n=[NaN,NaN]:(n=o.dataToPoint(i))[l]+=e,n}function i(t,e){var i=t.slice(),n=t.slice();i[l]+=r,n[l]-=r,e?y.push(i,n):y.push(n,i)}function n(t){var e=[t.slice(),t.slice()];e[0][l]-=r,e[1][l]+=r,v.push(e)}var u=arguments,d=u[0],f=u[c.length+1],p=t(u[3]),g=t(u[1]),m=t(u[5]),v=[[g,t(u[2])],[m,t(u[4])]];n(g),n(m),n(p);var y=[];i(v[0][1],0),i(v[1][1],1),a.setItemLayout(f,{chartLayout:s,initBaseline:p[h],median:p,bodyEnds:y,whiskerEnds:v})})}function jf(t,e,i){var n=e.getItemModel(i),o=n.getModel(OC),a=e.getItemVisual(i,\"color\"),r=e.getItemVisual(i,\"borderColor\")||a,s=o.getItemStyle([\"color\",\"color0\",\"borderColor\",\"borderColor0\"]),l=t.childAt(t.whiskerIndex);l.useStyle(s),l.style.stroke=r;var h=t.childAt(t.bodyIndex);h.useStyle(s),h.style.fill=a,h.style.stroke=r,to(t,n.getModel(NC).getItemStyle())}function Xf(t,e){var i,n=t.getBaseAxis(),o=\"category\"===n.type?n.getBandWidth():(i=n.getExtent(),Math.abs(i[1]-i[0])/e.count()),a=To(VC(t.get(\"barMaxWidth\"),o),o),r=To(VC(t.get(\"barMinWidth\"),1),o),s=t.get(\"barWidth\");return null!=s?To(s,o):Math.max(Math.min(o/2,a),r)}function Yf(t){return y(t)||(t=[+t,+t]),t}function qf(t,e){t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:\"stroke\"===e.brushType?e.color:null,fill:\"fill\"===e.brushType?e.color:null}})})}function $f(t,e){S_.call(this);var i=new bl(t,e),n=new S_;this.add(i),this.add(n),n.beforeUpdate=function(){this.attr(i.getScale())},this.updateData(t,e)}function Kf(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=f(e,function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),o([e,t[0],t[1]])}))}function Jf(t,e,i){S_.call(this),this.add(this.createLine(t,e,i)),this._updateEffectSymbol(t,e)}function Qf(t,e,i){S_.call(this),this._createPolyline(t,e,i)}function tp(t,e,i){Jf.call(this,t,e,i),this._lastFrame=0,this._lastFramePercent=0}function ep(){this.group=new S_}function ip(t){return t instanceof Array||(t=[t,t]),t}function np(){var t=Px();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}function op(t,e,i){var n=t[1]-t[0],o=(e=f(e,function(e){return{interval:[(e.interval[0]-t[0])/n,(e.interval[1]-t[0])/n]}})).length,a=0;return function(t){for(n=a;n<o;n++)if((r=e[n].interval)[0]<=t&&t<=r[1]){a=n;break}if(n===o)for(var n=a-1;n>=0;n--){var r=e[n].interval;if(r[0]<=t&&t<=r[1]){a=n;break}}return n>=0&&n<o&&i[n]}}function ap(t,e){var i=t[1]-t[0];return e=[(e[0]-t[0])/i,(e[1]-t[0])/i],function(t){return t>=e[0]&&t<=e[1]}}function rp(t){var e=t.dimensions;return\"lng\"===e[0]&&\"lat\"===e[1]}function sp(t,e,i,n){var o=t.getItemLayout(e),a=i.get(\"symbolRepeat\"),r=i.get(\"symbolClip\"),s=i.get(\"symbolPosition\")||\"start\",l=(i.get(\"symbolRotate\")||0)*Math.PI/180||0,h=i.get(\"symbolPatternSize\")||2,u=i.isAnimationEnabled(),c={dataIndex:e,layout:o,itemModel:i,symbolType:t.getItemVisual(e,\"symbol\")||\"circle\",color:t.getItemVisual(e,\"color\"),symbolClip:r,symbolRepeat:a,symbolRepeatDirection:i.get(\"symbolRepeatDirection\"),symbolPatternSize:h,rotation:l,animationModel:u?i:null,hoverAnimation:u&&i.get(\"hoverAnimation\"),z2:i.getShallow(\"z\",!0)||0};lp(i,a,o,n,c),up(t,e,o,a,r,c.boundingLength,c.pxSign,h,n,c),cp(i,c.symbolScale,l,n,c);var d=c.symbolSize,f=i.get(\"symbolOffset\");return y(f)&&(f=[To(f[0],d[0]),To(f[1],d[1])]),dp(i,d,o,a,r,f,s,c.valueLineWidth,c.boundingLength,c.repeatCutLength,n,c),c}function lp(t,e,i,n,o){var a,r=n.valueDim,s=t.get(\"symbolBoundingData\"),l=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),h=l.toGlobalCoord(l.dataToCoord(0)),u=1-+(i[r.wh]<=0);if(y(s)){var c=[hp(l,s[0])-h,hp(l,s[1])-h];c[1]<c[0]&&c.reverse(),a=c[u]}else a=null!=s?hp(l,s)-h:e?n.coordSysExtent[r.index][u]-h:i[r.wh];o.boundingLength=a,e&&(o.repeatCutLength=i[r.wh]),o.pxSign=a>0?1:a<0?-1:0}function hp(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function up(t,e,i,n,o,a,r,s,l,h){var u=l.valueDim,c=l.categoryDim,d=Math.abs(i[c.wh]),f=t.getItemVisual(e,\"symbolSize\");y(f)?f=f.slice():(null==f&&(f=\"100%\"),f=[f,f]),f[c.index]=To(f[c.index],d),f[u.index]=To(f[u.index],n?d:Math.abs(a)),h.symbolSize=f,(h.symbolScale=[f[0]/s,f[1]/s])[u.index]*=(l.isHorizontal?-1:1)*r}function cp(t,e,i,n,o){var a=t.get(tL)||0;a&&(iL.attr({scale:e.slice(),rotation:i}),iL.updateTransform(),a/=iL.getLineScale(),a*=e[n.valueDim.index]),o.valueLineWidth=a}function dp(t,e,i,n,o,r,s,l,h,u,c,d){var f=c.categoryDim,p=c.valueDim,g=d.pxSign,m=Math.max(e[p.index]+l,0),v=m;if(n){var y=Math.abs(h),x=T(t.get(\"symbolMargin\"),\"15%\")+\"\",_=!1;x.lastIndexOf(\"!\")===x.length-1&&(_=!0,x=x.slice(0,x.length-1)),x=To(x,e[p.index]);var w=Math.max(m+2*x,0),b=_?0:2*x,S=Go(n),M=S?n:Cp((y+b)/w);w=m+2*(x=(y-M*m)/2/(_?M:M-1)),b=_?0:2*x,S||\"fixed\"===n||(M=u?Cp((Math.abs(u)+b)/w):0),v=M*w-b,d.repeatTimes=M,d.symbolMargin=x}var I=g*(v/2),A=d.pathPosition=[];A[f.index]=i[f.wh]/2,A[p.index]=\"start\"===s?I:\"end\"===s?h-I:h/2,r&&(A[0]+=r[0],A[1]+=r[1]);var D=d.bundlePosition=[];D[f.index]=i[f.xy],D[p.index]=i[p.xy];var C=d.barRectShape=a({},i);C[p.wh]=g*Math.max(Math.abs(i[p.wh]),Math.abs(A[p.index]+I)),C[f.wh]=i[f.wh];var L=d.clipShape={};L[f.xy]=-i[f.xy],L[f.wh]=c.ecSize[f.wh],L[p.xy]=0,L[p.wh]=i[p.wh]}function fp(t){var e=t.symbolPatternSize,i=dl(t.symbolType,-e/2,-e/2,e,e,t.color);return i.attr({culling:!0}),\"image\"!==i.type&&i.setStyle({strokeNoScale:!0}),i}function pp(t,e,i,n){function o(t){var e=l.slice(),n=i.pxSign,o=t;return(\"start\"===i.symbolRepeatDirection?n>0:n<0)&&(o=u-1-t),e[h.index]=d*(o-u/2+.5)+l[h.index],{position:e,scale:i.symbolScale.slice(),rotation:i.rotation}}var a=t.__pictorialBundle,r=i.symbolSize,s=i.valueLineWidth,l=i.pathPosition,h=e.valueDim,u=i.repeatTimes||0,c=0,d=r[e.valueDim.index]+s+2*i.symbolMargin;for(Tp(t,function(t){t.__pictorialAnimationIndex=c,t.__pictorialRepeatTimes=u,c<u?Ap(t,null,o(c),i,n):Ap(t,null,{scale:[0,0]},i,n,function(){a.remove(t)}),wp(t,i),c++});c<u;c++){var f=fp(i);f.__pictorialAnimationIndex=c,f.__pictorialRepeatTimes=u,a.add(f);var p=o(c);Ap(f,{position:p.position,scale:[0,0]},{scale:p.scale,rotation:p.rotation},i,n),f.on(\"mouseover\",function(){Tp(t,function(t){t.trigger(\"emphasis\")})}).on(\"mouseout\",function(){Tp(t,function(t){t.trigger(\"normal\")})}),wp(f,i)}}function gp(t,e,i,n){var o=t.__pictorialBundle,a=t.__pictorialMainPath;a?Ap(a,null,{position:i.pathPosition.slice(),scale:i.symbolScale.slice(),rotation:i.rotation},i,n):(a=t.__pictorialMainPath=fp(i),o.add(a),Ap(a,{position:i.pathPosition.slice(),scale:[0,0],rotation:i.rotation},{scale:i.symbolScale.slice()},i,n),a.on(\"mouseover\",function(){this.trigger(\"emphasis\")}).on(\"mouseout\",function(){this.trigger(\"normal\")})),wp(a,i)}function mp(t,e,i){var n=a({},e.barRectShape),o=t.__pictorialBarRect;o?Ap(o,null,{shape:n},e,i):(o=t.__pictorialBarRect=new Vb({z2:2,shape:n,silent:!0,style:{stroke:\"transparent\",fill:\"transparent\",lineWidth:0}}),t.add(o))}function vp(t,e,i,n){if(i.symbolClip){var o=t.__pictorialClipPath,r=a({},i.clipShape),s=e.valueDim,l=i.animationModel,h=i.dataIndex;if(o)co(o,{shape:r},l,h);else{r[s.wh]=0,o=new Vb({shape:r}),t.__pictorialBundle.setClipPath(o),t.__pictorialClipPath=o;var u={};u[s.wh]=i.clipShape[s.wh],tS[n?\"updateProps\":\"initProps\"](o,{shape:u},l,h)}}}function yp(t,e){var i=t.getItemModel(e);return i.getAnimationDelayParams=xp,i.isAnimationEnabled=_p,i}function xp(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function _p(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow(\"animation\")}function wp(t,e){t.off(\"emphasis\").off(\"normal\");var i=e.symbolScale.slice();e.hoverAnimation&&t.on(\"emphasis\",function(){this.animateTo({scale:[1.1*i[0],1.1*i[1]]},400,\"elasticOut\")}).on(\"normal\",function(){this.animateTo({scale:i.slice()},400,\"elasticOut\")})}function bp(t,e,i,n){var o=new S_,a=new S_;return o.add(a),o.__pictorialBundle=a,a.attr(\"position\",i.bundlePosition.slice()),i.symbolRepeat?pp(o,e,i):gp(o,e,i),mp(o,i,n),vp(o,e,i,n),o.__pictorialShapeStr=Ip(t,i),o.__pictorialSymbolMeta=i,o}function Sp(t,e,i){var n=i.animationModel,o=i.dataIndex;co(t.__pictorialBundle,{position:i.bundlePosition.slice()},n,o),i.symbolRepeat?pp(t,e,i,!0):gp(t,e,i,!0),mp(t,i,!0),vp(t,e,i,!0)}function Mp(t,e,i,n){var o=n.__pictorialBarRect;o&&(o.style.text=null);var a=[];Tp(n,function(t){a.push(t)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(i=null),d(a,function(t){co(t,{scale:[0,0]},i,e,function(){n.parent&&n.parent.remove(n)})}),t.setItemGraphicEl(e,null)}function Ip(t,e){return[t.getItemVisual(e.dataIndex,\"symbol\")||\"none\",!!e.symbolRepeat,!!e.symbolClip].join(\":\")}function Tp(t,e,i){d(t.__pictorialBundle.children(),function(n){n!==t.__pictorialBarRect&&e.call(i,n)})}function Ap(t,e,i,n,o,a){e&&t.attr(e),n.symbolClip&&!o?i&&t.attr(i):i&&tS[o?\"updateProps\":\"initProps\"](t,i,n.animationModel,n.dataIndex,a)}function Dp(t,e,i){var n=i.color,o=i.dataIndex,a=i.itemModel,s=a.getModel(\"itemStyle\").getItemStyle([\"color\"]),l=a.getModel(\"emphasis.itemStyle\").getItemStyle(),h=a.getShallow(\"cursor\");Tp(t,function(t){t.setColor(n),t.setStyle(r({fill:n,opacity:i.opacity},s)),to(t,l),h&&(t.cursor=h),t.z2=i.z2});var u={},c=e.valueDim.posDesc[+(i.boundingLength>0)],d=t.__pictorialBarRect;Mh(d.style,u,a,n,e.seriesModel,o,c),to(d,u)}function Cp(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}function Lp(t,e,i){this.dimension=\"single\",this.dimensions=[\"single\"],this._axis=null,this._rect,this._init(t,e,i),this.model=t}function kp(t,e){e=e||{};var i=t.coordinateSystem,n=t.axis,o={},a=n.position,r=n.orient,s=i.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],h={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};o.position=[\"vertical\"===r?h.vertical[a]:l[0],\"horizontal\"===r?h.horizontal[a]:l[3]];var u={horizontal:0,vertical:1};o.rotation=Math.PI/2*u[r];var c={top:-1,bottom:1,right:1,left:-1};o.labelDirection=o.tickDirection=o.nameDirection=c[a],t.get(\"axisTick.inside\")&&(o.tickDirection=-o.tickDirection),T(e.labelInside,t.get(\"axisLabel.inside\"))&&(o.labelDirection=-o.labelDirection);var d=e.rotate;return null==d&&(d=t.get(\"axisLabel.rotate\")),o.labelRotation=\"top\"===a?-d:d,o.labelInterval=n.getLabelInterval(),o.z2=1,o}function Pp(t,e,i,n,o){var r=t.axis;if(!r.scale.isBlank()&&r.containData(e))if(t.involveSeries){var s=Op(e,t),l=s.payloadBatch,h=s.snapToValue;l[0]&&null==o.seriesIndex&&a(o,l[0]),!n&&t.snap&&r.containData(h)&&null!=h&&(e=h),i.showPointer(t,e,l,o),i.showTooltip(t,s,h)}else i.showPointer(t,e)}function Op(t,e){var i=e.axis,n=i.dim,o=t,a=[],r=Number.MAX_VALUE,s=-1;return cL(e.seriesModels,function(e,l){var h,u,c=e.getData().mapDimension(n,!0);if(e.getAxisTooltipData){var d=e.getAxisTooltipData(c,t,i);u=d.dataIndices,h=d.nestestValue}else{if(!(u=e.getData().indicesOfNearest(c[0],t,!1,\"category\"===i.type?.5:null)).length)return;h=e.getData().get(c[0],u[0])}if(null!=h&&isFinite(h)){var f=t-h,p=Math.abs(f);p<=r&&((p<r||f>=0&&s<0)&&(r=p,s=f,o=h,a.length=0),cL(u,function(t){a.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))}}),{payloadBatch:a,snapToValue:o}}function Np(t,e,i,n){t[e.key]={value:i,payloadBatch:n}}function Ep(t,e,i,n){var o=i.payloadBatch,a=e.axis,r=a.model,s=e.axisPointerModel;if(e.triggerTooltip&&o.length){var l=e.coordSys.model,h=_h(l),u=t.map[h];u||(u=t.map[h]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(u)),u.dataByAxis.push({axisDim:a.dim,axisIndex:r.componentIndex,axisType:r.type,axisId:r.id,value:n,valueLabelOpt:{precision:s.get(\"label.precision\"),formatter:s.get(\"label.formatter\")},seriesDataIndices:o.slice()})}}function zp(t,e,i){var n=i.axesInfo=[];cL(e,function(e,i){var o=e.axisPointerModel.option,a=t[i];a?(!e.useHandle&&(o.status=\"show\"),o.value=a.value,o.seriesDataIndices=(a.payloadBatch||[]).slice()):!e.useHandle&&(o.status=\"hide\"),\"show\"===o.status&&n.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:o.value})})}function Rp(t,e,i,n){if(!Wp(e)&&t.list.length){var o=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:\"showTip\",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:t.list})}else n({type:\"hideTip\"})}function Bp(t,e,i){var n=i.getZr(),o=fL(n).axisPointerLastHighlights||{},a=fL(n).axisPointerLastHighlights={};cL(t,function(t,e){var i=t.axisPointerModel.option;\"show\"===i.status&&cL(i.seriesDataIndices,function(t){var e=t.seriesIndex+\" | \"+t.dataIndex;a[e]=t})});var r=[],s=[];d(o,function(t,e){!a[e]&&s.push(t)}),d(a,function(t,e){!o[e]&&r.push(t)}),s.length&&i.dispatchAction({type:\"downplay\",escapeConnect:!0,batch:s}),r.length&&i.dispatchAction({type:\"highlight\",escapeConnect:!0,batch:r})}function Vp(t,e){for(var i=0;i<(t||[]).length;i++){var n=t[i];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function Gp(t){var e=t.axis.model,i={},n=i.axisDim=t.axis.dim;return i.axisIndex=i[n+\"AxisIndex\"]=e.componentIndex,i.axisName=i[n+\"AxisName\"]=e.name,i.axisId=i[n+\"AxisId\"]=e.id,i}function Wp(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function Fp(t,e,i){if(!_x.node){var n=e.getZr();pL(n).records||(pL(n).records={}),Hp(n,e),(pL(n).records[t]||(pL(n).records[t]={})).handler=i}}function Hp(t,e){function i(i,n){t.on(i,function(i){var o=Xp(e);gL(pL(t).records,function(t){t&&n(t,i,o.dispatchAction)}),Zp(o.pendings,e)})}pL(t).initialized||(pL(t).initialized=!0,i(\"click\",v(jp,\"click\")),i(\"mousemove\",v(jp,\"mousemove\")),i(\"globalout\",Up))}function Zp(t,e){var i,n=t.showTip.length,o=t.hideTip.length;n?i=t.showTip[n-1]:o&&(i=t.hideTip[o-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function Up(t,e,i){t.handler(\"leave\",null,i)}function jp(t,e,i,n){e.handler(t,i,n)}function Xp(t){var e={showTip:[],hideTip:[]},i=function(n){var o=e[n.type];o?o.push(n):(n.dispatchAction=i,t.dispatchAction(n))};return{dispatchAction:i,pendings:e}}function Yp(t,e){if(!_x.node){var i=e.getZr();(pL(i).records||{})[t]&&(pL(i).records[t]=null)}}function qp(){}function $p(t,e,i,n){Kp(vL(i).lastProp,n)||(vL(i).lastProp=n,e?co(i,n,t):(i.stopAnimation(),i.attr(n)))}function Kp(t,e){if(w(t)&&w(e)){var i=!0;return d(e,function(e,n){i=i&&Kp(t[n],e)}),!!i}return t===e}function Jp(t,e){t[e.get(\"label.show\")?\"show\":\"hide\"]()}function Qp(t){return{position:t.position.slice(),rotation:t.rotation||0}}function tg(t,e,i){var n=e.get(\"z\"),o=e.get(\"zlevel\");t&&t.traverse(function(t){\"group\"!==t.type&&(null!=n&&(t.z=n),null!=o&&(t.zlevel=o),t.silent=i)})}function eg(t){var e,i=t.get(\"type\"),n=t.getModel(i+\"Style\");return\"line\"===i?(e=n.getLineStyle()).fill=null:\"shadow\"===i&&((e=n.getAreaStyle()).stroke=null),e}function ig(t,e,i,n,o){var a=og(i.get(\"value\"),e.axis,e.ecModel,i.get(\"seriesDataIndices\"),{precision:i.get(\"label.precision\"),formatter:i.get(\"label.formatter\")}),r=i.getModel(\"label\"),s=dS(r.get(\"padding\")||0),l=r.getFont(),h=me(a,l),u=o.position,c=h.width+s[1]+s[3],d=h.height+s[0]+s[2],f=o.align;\"right\"===f&&(u[0]-=c),\"center\"===f&&(u[0]-=c/2);var p=o.verticalAlign;\"bottom\"===p&&(u[1]-=d),\"middle\"===p&&(u[1]-=d/2),ng(u,c,d,n);var g=r.get(\"backgroundColor\");g&&\"auto\"!==g||(g=e.get(\"axisLine.lineStyle.color\")),t.label={shape:{x:0,y:0,width:c,height:d,r:r.get(\"borderRadius\")},position:u.slice(),style:{text:a,textFont:l,textFill:r.getTextColor(),textPosition:\"inside\",fill:g,stroke:r.get(\"borderColor\")||\"transparent\",lineWidth:r.get(\"borderWidth\")||0,shadowBlur:r.get(\"shadowBlur\"),shadowColor:r.get(\"shadowColor\"),shadowOffsetX:r.get(\"shadowOffsetX\"),shadowOffsetY:r.get(\"shadowOffsetY\")},z2:10}}function ng(t,e,i,n){var o=n.getWidth(),a=n.getHeight();t[0]=Math.min(t[0]+e,o)-e,t[1]=Math.min(t[1]+i,a)-i,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function og(t,e,i,n,o){var a=e.scale.getLabel(t,{precision:o.precision}),r=o.formatter;if(r){var s={value:ul(e,t),seriesData:[]};d(n,function(t){var e=i.getSeriesByIndex(t.seriesIndex),n=t.dataIndexInside,o=e&&e.getDataParams(n);o&&s.seriesData.push(o)}),_(r)?a=r.replace(\"{value}\",a):x(r)&&(a=r(s))}return a}function ag(t,e,i){var n=st();return dt(n,n,i.rotation),ct(n,n,i.position),go([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}function rg(t,e,i,n,o,a){var r=GT.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=o.get(\"label.margin\"),ig(e,n,o,a,{position:ag(n.axis,t,i),align:r.textAlign,verticalAlign:r.textVerticalAlign})}function sg(t,e,i){return i=i||0,{x1:t[i],y1:t[1-i],x2:e[i],y2:e[1-i]}}function lg(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]}}function hg(t,e,i,n,o,a){return{cx:t,cy:e,r0:i,r:n,startAngle:o,endAngle:a,clockwise:!0}}function ug(t,e){var i={};return i[e.dim+\"AxisIndex\"]=e.index,t.getCartesian(i)}function cg(t){return\"x\"===t.dim?0:1}function dg(t){return t.isHorizontal()?0:1}function fg(t,e){var i=t.getRect();return[i[bL[e]],i[bL[e]]+i[SL[e]]]}function pg(t,e,i){var n=new Vb({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return fo(n,{shape:{width:t.width+20,height:t.height+20}},e,i),n}function gg(t,e,i){if(t.count())for(var n,o=e.coordinateSystem,a=e.getLayerSeries(),r=t.mapDimension(\"single\"),s=t.mapDimension(\"value\"),l=f(a,function(e){return f(e.indices,function(e){var i=o.dataToPoint(t.get(r,e));return i[1]=t.get(s,e),i})}),h=mg(l),u=h.y0,c=i/h.max,d=a.length,p=a[0].indices.length,g=0;g<p;++g){n=u[g]*c,t.setItemLayout(a[0].indices[g],{layerIndex:0,x:l[0][g][0],y0:n,y:l[0][g][1]*c});for(var m=1;m<d;++m)n+=l[m-1][g][1]*c,t.setItemLayout(a[m].indices[g],{layerIndex:m,x:l[m][g][0],y0:n,y:l[m][g][1]*c})}}function mg(t){for(var e=t.length,i=t[0].length,n=[],o=[],a=0,r={},s=0;s<i;++s){for(var l=0,h=0;l<e;++l)h+=t[l][s][1];h>a&&(a=h),n.push(h)}for(var u=0;u<i;++u)o[u]=(a-n[u])/2;a=0;for(var c=0;c<i;++c){var d=n[c]+o[c];d>a&&(a=d)}return r.y0=o,r.max=a,r}function vg(t){var e=0;d(t.children,function(t){vg(t);var i=t.value;y(i)&&(i=i[0]),e+=i});var i=t.value;y(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=e),i<0&&(i=0),y(t.value)?t.value[0]=i:t.value=i}function yg(t,e,i){function n(){r.ignore=r.hoverIgnore}function o(){r.ignore=r.normalIgnore}S_.call(this);var a=new Ob({z2:DL}),r=new Cb({z2:CL,silent:t.getModel(\"label\").get(\"silent\")});this.add(a),this.add(r),this.updateData(!0,t,\"normal\",e,i),this.on(\"emphasis\",n).on(\"normal\",o).on(\"mouseover\",n).on(\"mouseout\",o)}function xg(t,e,i){var n=t.getVisual(\"color\");0===t.getVisual(\"visualMeta\").length&&(n=null);var o=t.getModel(\"itemStyle\").get(\"color\");if(o)return o;if(n)return n;if(0===t.depth)return i.option.color[0];var a=i.option.color.length;return o=i.option.color[_g(t)%a]}function _g(t){for(var e=t;e.depth>1;)e=e.parentNode;return l(t.getAncestors()[0].children,e)}function wg(t,e,i){return i!==AL.NONE&&(i===AL.SELF?t===e:i===AL.ANCESTOR?t===e||t.isAncestorOf(e):t===e||t.isDescendantOf(e))}function bg(t,e){var i=t.children||[];t.children=Sg(i,e),i.length&&d(t.children,function(t){bg(t,e)})}function Sg(t,e){if(\"function\"==typeof e)return t.sort(e);var i=\"asc\"===e;return t.sort(function(t,e){var n=(t.getValue()-e.getValue())*(i?1:-1);return 0===n?(t.dataIndex-e.dataIndex)*(i?-1:1):n})}function Mg(t,e){return e=e||[0,0],f([\"x\",\"y\"],function(i,n){var o=this.getAxis(i),a=e[n],r=t[n]/2;return\"category\"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(a-r)-o.dataToCoord(a+r))},this)}function Ig(t,e){return e=e||[0,0],f([0,1],function(i){var n=e[i],o=t[i]/2,a=[],r=[];return a[i]=n-o,r[i]=n+o,a[1-i]=r[1-i]=e[1-i],Math.abs(this.dataToPoint(a)[i]-this.dataToPoint(r)[i])},this)}function Tg(t,e){var i=this.getAxis(),n=e instanceof Array?e[0]:e,o=(t instanceof Array?t[0]:t)/2;return\"category\"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(n-o)-i.dataToCoord(n+o))}function Ag(t,e){return f([\"Radius\",\"Angle\"],function(i,n){var o=this[\"get\"+i+\"Axis\"](),a=e[n],r=t[n]/2,s=\"dataTo\"+i,l=\"category\"===o.type?o.getBandWidth():Math.abs(o[s](a-r)-o[s](a+r));return\"Angle\"===i&&(l=l*Math.PI/180),l},this)}function Dg(t){var e,i=t.type;if(\"path\"===i){var n=t.shape;(e=En(n.pathData,null,{x:n.x||0,y:n.y||0,width:n.width||0,height:n.height||0},\"center\")).__customPathData=t.pathData}else\"image\"===i?(e=new Je({})).__customImagePath=t.style.image:\"text\"===i?(e=new Cb({})).__customText=t.style.text:e=new(0,tS[i.charAt(0).toUpperCase()+i.slice(1)]);return e.__customGraphicType=i,e.name=t.name,e}function Cg(t,e,n,o,a,r){var s={},l=n.style||{};if(n.shape&&(s.shape=i(n.shape)),n.position&&(s.position=n.position.slice()),n.scale&&(s.scale=n.scale.slice()),n.origin&&(s.origin=n.origin.slice()),n.rotation&&(s.rotation=n.rotation),\"image\"===t.type&&n.style){h=s.style={};d([\"x\",\"y\",\"width\",\"height\"],function(e){Lg(e,h,l,t.style,r)})}if(\"text\"===t.type&&n.style){var h=s.style={};d([\"x\",\"y\"],function(e){Lg(e,h,l,t.style,r)}),!l.hasOwnProperty(\"textFill\")&&l.fill&&(l.textFill=l.fill),!l.hasOwnProperty(\"textStroke\")&&l.stroke&&(l.textStroke=l.stroke)}if(\"group\"!==t.type&&(t.useStyle(l),r)){t.style.opacity=0;var u=l.opacity;null==u&&(u=1),fo(t,{style:{opacity:u}},o,e)}r?t.attr(s):co(t,s,o,e),t.attr({z2:n.z2||0,silent:n.silent}),!1!==n.styleEmphasis&&to(t,n.styleEmphasis)}function Lg(t,e,i,n,o){null==i[t]||o||(e[t]=i[t],i[t]=n[t])}function kg(t,e,i,n){function o(t){null==t&&(t=u),v&&(c=e.getItemModel(t),d=c.getModel(zL),f=c.getModel(RL),p=e.getItemVisual(t,\"color\"),v=!1)}var s=t.get(\"renderItem\"),l=t.coordinateSystem,h={};l&&(h=l.prepareCustoms?l.prepareCustoms():VL[l.type](l));var u,c,d,f,p,g=r({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:function(t,i){return null==i&&(i=u),e.get(e.getDimension(t||0),i)},style:function(i,n){null==n&&(n=u),o(n);var r=c.getModel(NL).getItemStyle();null!=p&&(r.fill=p);var s=e.getItemVisual(n,\"opacity\");return null!=s&&(r.opacity=s),io(r,d,null,{autoColor:p,isRectText:!0}),r.text=d.getShallow(\"show\")?A(t.getFormattedLabel(n,\"normal\"),xl(e,n)):null,i&&a(r,i),r},styleEmphasis:function(i,n){null==n&&(n=u),o(n);var r=c.getModel(EL).getItemStyle();return io(r,f,null,{isRectText:!0},!0),r.text=f.getShallow(\"show\")?D(t.getFormattedLabel(n,\"emphasis\"),t.getFormattedLabel(n,\"normal\"),xl(e,n)):null,i&&a(r,i),r},visual:function(t,i){return null==i&&(i=u),e.getItemVisual(i,t)},barLayout:function(t){if(l.getBaseAxis)return Qs(r({axis:l.getBaseAxis()},t),n)},currentSeriesIndices:function(){return i.getCurrentSeriesIndices()},font:function(t){return ho(t,i)}},h.api||{}),m={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:h.coordSys,dataInsideLength:e.count(),encode:Pg(t.getData())},v=!0;return function(t){return u=t,v=!0,s&&s(r({dataIndexInside:t,dataIndex:e.getRawIndex(t)},m),g)||{}}}function Pg(t){var e={};return d(t.dimensions,function(i,n){var o=t.getDimensionInfo(i);if(!o.isExtraCoord){var a=o.coordDim;(e[a]=e[a]||[])[o.coordDimIndex]=n}}),e}function Og(t,e,i,n,o,a){return(t=Ng(t,e,i,n,o,a))&&a.setItemGraphicEl(e,t),t}function Ng(t,e,i,n,o,a){var r=i.type;if(!t||r===t.__customGraphicType||\"path\"===r&&i.pathData===t.__customPathData||\"image\"===r&&i.style.image===t.__customImagePath||\"text\"===r&&i.style.text===t.__customText||(o.remove(t),t=null),null!=r){var s=!t;if(!t&&(t=Dg(i)),Cg(t,e,i,n,a,s),\"group\"===r){var l=t.children()||[],h=i.children||[];if(i.diffChildrenByName)Eg({oldChildren:l,newChildren:h,dataIndex:e,animatableModel:n,group:t,data:a});else{for(var u=0;u<h.length;u++)Ng(t.childAt(u),e,h[u],n,t,a);for(;u<l.length;u++)l[u]&&t.remove(l[u])}}return o.add(t),t}}function Eg(t){new ws(t.oldChildren,t.newChildren,zg,zg,t).add(Rg).update(Rg).remove(Bg).execute()}function zg(t,e){var i=t&&t.name;return null!=i?i:BL+e}function Rg(t,e){var i=this.context,n=null!=t?i.newChildren[t]:null;Ng(null!=e?i.oldChildren[e]:null,i.dataIndex,n,i.animatableModel,i.group,i.data)}function Bg(t){var e=this.context,i=e.oldChildren[t];i&&e.group.remove(i)}function Vg(t,e,i,n){var o=i.type,a=new(0,tS[o.charAt(0).toUpperCase()+o.slice(1)])(i);e.add(a),n.set(t,a),a.__ecGraphicId=t}function Gg(t,e){var i=t&&t.parent;i&&(\"group\"===t.type&&t.traverse(function(t){Gg(t,e)}),e.removeKey(t.__ecGraphicId),i.remove(t))}function Wg(t){return t=a({},t),d([\"id\",\"parentId\",\"$action\",\"hv\",\"bounding\"].concat(_S),function(e){delete t[e]}),t}function Fg(t,e){var i;return d(e,function(e){null!=t[e]&&\"auto\"!==t[e]&&(i=!0)}),i}function Hg(t,e){var i=t.exist;if(e.id=t.keyInfo.id,!e.type&&i&&(e.type=i.type),null==e.parentId){var n=e.parentOption;n?e.parentId=n.id:i&&(e.parentId=i.parentId)}e.parentOption=null}function Zg(t,e,i){var o=a({},i),r=t[e],s=i.$action||\"merge\";\"merge\"===s?r?(n(r,o,!0),ta(r,o,{ignoreSize:!0}),ia(i,r)):t[e]=o:\"replace\"===s?t[e]=o:\"remove\"===s&&r&&(t[e]=null)}function Ug(t,e){t&&(t.hv=e.hv=[Fg(e,[\"left\",\"right\"]),Fg(e,[\"top\",\"bottom\"])],\"group\"===t.type&&(null==t.width&&(t.width=e.width=0),null==t.height&&(t.height=e.height=0)))}function jg(t,e,i){var n,o={},a=\"toggleSelected\"===t;return i.eachComponent(\"legend\",function(i){a&&null!=n?i[n?\"select\":\"unSelect\"](e.name):(i[t](e.name),n=i.isSelected(e.name)),d(i.getData(),function(t){var e=t.get(\"name\");if(\"\\n\"!==e&&\"\"!==e){var n=i.isSelected(e);o.hasOwnProperty(e)?o[e]=o[e]&&n:o[e]=n}})}),{name:e.name,selected:o}}function Xg(t,e,i){var n=e.getBoxLayoutParams(),o=e.get(\"padding\"),a={width:i.getWidth(),height:i.getHeight()},r=Ko(n,a,o);bS(e.get(\"orient\"),t,e.get(\"itemGap\"),r.width,r.height),Jo(t,n,a,o)}function Yg(t,e){var i=dS(e.get(\"padding\")),n=e.getItemStyle([\"color\",\"opacity\"]);return n.fill=e.get(\"backgroundColor\"),t=new Vb({shape:{x:t.x-i[3],y:t.y-i[0],width:t.width+i[1]+i[3],height:t.height+i[0]+i[2],r:e.get(\"borderRadius\")},style:n,silent:!0,z2:-1})}function qg(t,e){e.dispatchAction({type:\"legendToggleSelect\",name:t})}function $g(t,e,i){var n=i.getZr().storage.getDisplayList()[0];n&&n.useHoverLayer||t.get(\"legendHoverLink\")&&i.dispatchAction({type:\"highlight\",seriesName:t.name,name:e})}function Kg(t,e,i){var n=i.getZr().storage.getDisplayList()[0];n&&n.useHoverLayer||t.get(\"legendHoverLink\")&&i.dispatchAction({type:\"downplay\",seriesName:t.name,name:e})}function Jg(t,e,i){var n=[1,1];n[t.getOrient().index]=0,ta(e,i,{type:\"box\",ignoreSize:n})}function Qg(t){var e=\"left \"+t+\"s cubic-bezier(0.23, 1, 0.32, 1),top \"+t+\"s cubic-bezier(0.23, 1, 0.32, 1)\";return f(QL,function(t){return t+\"transition:\"+e}).join(\";\")}function tm(t){var e=[],i=t.get(\"fontSize\"),n=t.getTextColor();return n&&e.push(\"color:\"+n),e.push(\"font:\"+t.getFont()),i&&e.push(\"line-height:\"+Math.round(3*i/2)+\"px\"),KL([\"decoration\",\"align\"],function(i){var n=t.get(i);n&&e.push(\"text-\"+i+\":\"+n)}),e.join(\";\")}function em(t){var e=[],i=t.get(\"transitionDuration\"),n=t.get(\"backgroundColor\"),o=t.getModel(\"textStyle\"),a=t.get(\"padding\");return i&&e.push(Qg(i)),n&&(_x.canvasSupported?e.push(\"background-Color:\"+n):(e.push(\"background-Color:#\"+Pt(n)),e.push(\"filter:alpha(opacity=70)\"))),KL([\"width\",\"color\",\"radius\"],function(i){var n=\"border-\"+i,o=JL(n),a=t.get(o);null!=a&&e.push(n+\":\"+a+(\"color\"===i?\"\":\"px\"))}),e.push(tm(o)),null!=a&&e.push(\"padding:\"+dS(a).join(\"px \")+\"px\"),e.join(\";\")+\";\"}function im(t,e){if(_x.wxa)return null;var i=document.createElement(\"div\"),n=this._zr=e.getZr();this.el=i,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(i),this._container=t,this._show=!1,this._hideTimeout;var o=this;i.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},i.onmousemove=function(e){if(e=e||window.event,!o._enterable){var i=n.handler;li(t,e,!0),i.dispatch(\"mousemove\",e)}},i.onmouseleave=function(){o._enterable&&o._show&&o.hideLater(o._hideDelay),o._inContent=!1}}function nm(t){for(var e=t.pop();t.length;){var i=t.pop();i&&(_o.isInstance(i)&&(i=i.get(\"tooltip\",!0)),\"string\"==typeof i&&(i={formatter:i}),e=new _o(i,e,e.ecModel))}return e}function om(t,e){return t.dispatchAction||m(e.dispatchAction,e)}function am(t,e,i,n,o,a,r){var s=sm(i),l=s.width,h=s.height;return null!=a&&(t+l+a>n?t-=l+a:t+=a),null!=r&&(e+h+r>o?e-=h+r:e+=r),[t,e]}function rm(t,e,i,n,o){var a=sm(i),r=a.width,s=a.height;return t=Math.min(t+r,n)-r,e=Math.min(e+s,o)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function sm(t){var e=t.clientWidth,i=t.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(t);n&&(e+=parseInt(n.paddingLeft,10)+parseInt(n.paddingRight,10)+parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),i+=parseInt(n.paddingTop,10)+parseInt(n.paddingBottom,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:e,height:i}}function lm(t,e,i){var n=i[0],o=i[1],a=0,r=0,s=e.width,l=e.height;switch(t){case\"inside\":a=e.x+s/2-n/2,r=e.y+l/2-o/2;break;case\"top\":a=e.x+s/2-n/2,r=e.y-o-5;break;case\"bottom\":a=e.x+s/2-n/2,r=e.y+l+5;break;case\"left\":a=e.x-n-5,r=e.y+l/2-o/2;break;case\"right\":a=e.x+s+5,r=e.y+l/2-o/2}return[a,r]}function hm(t){return\"center\"===t||\"middle\"===t}function um(t){return t.get(\"stack\")||\"__ec_stack_\"+t.seriesIndex}function cm(t){return t.dim}function dm(t,e){var i={};d(t,function(t,e){var n=t.getData(),o=t.coordinateSystem.getBaseAxis(),a=o.getExtent(),r=\"category\"===o.type?o.getBandWidth():Math.abs(a[1]-a[0])/n.count(),s=i[cm(o)]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:\"20%\",gap:\"30%\",stacks:{}},l=s.stacks;i[cm(o)]=s;var h=um(t);l[h]||s.autoWidthCount++,l[h]=l[h]||{width:0,maxWidth:0};var u=To(t.get(\"barWidth\"),r),c=To(t.get(\"barMaxWidth\"),r),d=t.get(\"barGap\"),f=t.get(\"barCategoryGap\");u&&!l[h].width&&(u=Math.min(s.remainedWidth,u),l[h].width=u,s.remainedWidth-=u),c&&(l[h].maxWidth=c),null!=d&&(s.gap=d),null!=f&&(s.categoryGap=f)});var n={};return d(i,function(t,e){n[e]={};var i=t.stacks,o=t.bandWidth,a=To(t.categoryGap,o),r=To(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,h=(s-a)/(l+(l-1)*r);h=Math.max(h,0),d(i,function(t,e){var i=t.maxWidth;i&&i<h&&(i=Math.min(i,s),t.width&&(i=Math.min(i,t.width)),s-=i,t.width=i,l--)}),h=(s-a)/(l+(l-1)*r),h=Math.max(h,0);var u,c=0;d(i,function(t,e){t.width||(t.width=h),u=t,c+=t.width*(1+r)}),u&&(c-=u.width*r);var f=-c/2;d(i,function(t,i){n[e][i]=n[e][i]||{offset:f,width:t.width},f+=t.width*(1+r)})}),n}function fm(t,e){nT.call(this,\"radius\",t,e),this.type=\"category\"}function pm(t,e){e=e||[0,360],nT.call(this,\"angle\",t,e),this.type=\"category\"}function gm(t,e){return e.type||(e.data?\"category\":\"value\")}function mm(t,e,i){var n=e.get(\"center\"),o=i.getWidth(),a=i.getHeight();t.cx=To(n[0],o),t.cy=To(n[1],a);var r=t.getRadiusAxis(),s=Math.min(o,a)/2,l=To(e.get(\"radius\"),s);r.inverse?r.setExtent(l,0):r.setExtent(0,l)}function vm(t,e){var i=this,n=i.getAngleAxis(),o=i.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===i){var e=t.getData();d(e.mapDimension(\"radius\",!0),function(t){o.scale.unionExtentFromData(e,t)}),d(e.mapDimension(\"angle\",!0),function(t){n.scale.unionExtentFromData(e,t)})}}),rl(n.scale,n.model),rl(o.scale,o.model),\"category\"===n.type&&!n.onBand){var a=n.getExtent(),r=360/n.scale.count();n.inverse?a[1]+=r:a[1]-=r,n.setExtent(a[0],a[1])}}function ym(t,e){if(t.type=e.get(\"type\"),t.scale=sl(e),t.onBand=e.get(\"boundaryGap\")&&\"category\"===t.type,t.inverse=e.get(\"inverse\"),\"angleAxis\"===e.mainType){t.inverse^=e.get(\"clockwise\");var i=e.get(\"startAngle\");t.setExtent(i,i+(t.inverse?-360:360))}e.axis=t,t.model=e}function xm(t,e,i){e[1]>e[0]&&(e=e.slice().reverse());var n=t.coordToPoint([e[0],i]),o=t.coordToPoint([e[1],i]);return{x1:n[0],y1:n[1],x2:o[0],y2:o[1]}}function _m(t){return t.getRadiusAxis().inverse?0:1}function wm(t,e,i){return{position:[t.cx,t.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel(\"axisLabel\").get(\"rotate\"),z2:1}}function bm(t,e,i,n,o){var a=e.axis,r=a.dataToCoord(t),s=n.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,h,u,c=n.getRadiusAxis().getExtent();if(\"radius\"===a.dim){var d=st();dt(d,d,s),ct(d,d,[n.cx,n.cy]),l=go([r,-o],d);var f=e.getModel(\"axisLabel\").get(\"rotate\")||0,p=GT.innerTextLayout(s,f*Math.PI/180,-1);h=p.textAlign,u=p.textVerticalAlign}else{var g=c[1];l=n.coordToPoint([g+o,r]);var m=n.cx,v=n.cy;h=Math.abs(l[0]-m)/g<.3?\"center\":l[0]>m?\"left\":\"right\",u=Math.abs(l[1]-v)/g<.3?\"middle\":l[1]>v?\"top\":\"bottom\"}return{position:l,align:h,verticalAlign:u}}function Sm(t,e){e.update=\"updateView\",hs(e,function(e,i){var n={};return i.eachComponent({mainType:\"geo\",query:e},function(i){i[t](e.name),d(i.coordinateSystem.regions,function(t){n[t.name]=i.isSelected(t.name)||!1})}),{selected:n,name:e.name}})}function Mm(t){var e={};d(t,function(t){e[t]=1}),t.length=0,d(e,function(e,i){t.push(i)})}function Im(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function Tm(t,e,n){function o(){var t=function(){};return t.prototype.__hidden=t.prototype,new t}var a={};return pk(e,function(e){var r=a[e]=o();pk(t[e],function(t,o){if(oD.isValidType(o)){var a={type:o,visual:t};n&&n(a,e),r[o]=new oD(a),\"opacity\"===o&&((a=i(a)).type=\"colorAlpha\",r.__hidden.__alphaForOpacity=new oD(a))}})}),a}function Am(t,e,n){var o;d(n,function(t){e.hasOwnProperty(t)&&Im(e[t])&&(o=!0)}),o&&d(n,function(n){e.hasOwnProperty(n)&&Im(e[n])?t[n]=i(e[n]):delete t[n]})}function Dm(t,e,i,n,o,a){function r(t){return i.getItemVisual(u,t)}function s(t,e){i.setItemVisual(u,t,e)}function l(t,l){u=null==a?t:l;var c=i.getRawDataItem(u);if(!c||!1!==c.visualMap)for(var d=n.call(o,t),f=e[d],p=h[d],g=0,m=p.length;g<m;g++){var v=p[g];f[v]&&f[v].applyVisual(t,r,s)}}var h={};d(t,function(t){var i=oD.prepareVisualTypes(e[t]);h[t]=i});var u;null==a?i.each(l,!0):i.each([a],l,!0)}function Cm(t,e,i,n){var o={};return d(t,function(t){var i=oD.prepareVisualTypes(e[t]);o[t]=i}),{progress:function(t,a){null!=n&&(n=a.getDimension(n));for(var r=t.start;r<t.end;r++){var s=a.getRawDataItem(r);if(s&&!1===s.visualMap)return;for(var l=null!=n?a.get(n,r,!0):r,h=i(l),u=e[h],c=o[h],d=0,f=c.length;d<f;d++){var p=c[d];u[p]&&u[p].applyVisual(l,function(t){return a.getItemVisual(r,t)},function(t,e){a.setItemVisual(r,t,e)})}}}}}function Lm(t){var e=[\"x\",\"y\"],i=[\"width\",\"height\"];return{point:function(e,i,n){if(e){var o=n.range;return km(e[t],o)}},rect:function(n,o,a){if(n){var r=a.range,s=[n[e[t]],n[e[t]]+n[i[t]]];return s[1]<s[0]&&s.reverse(),km(s[0],r)||km(s[1],r)||km(r[0],s)||km(r[1],s)}}}}function km(t,e){return e[0]<=t&&t<=e[1]}function Pm(t,e,i,n,o){for(var a=0,r=o[o.length-1];a<o.length;a++){var s=o[a];if(Om(t,e,i,n,s[0],s[1],r[0],r[1]))return!0;r=s}}function Om(t,e,i,n,o,a,r,s){var l=Em(i-t,o-r,n-e,a-s);if(Nm(l))return!1;var h=Em(o-t,o-r,a-e,a-s)/l;if(h<0||h>1)return!1;var u=Em(i-t,o-t,n-e,a-e)/l;return!(u<0||u>1)}function Nm(t){return t<=1e-6&&t>=-1e-6}function Em(t,e,i,n){return t*n-e*i}function zm(t,e,i){var n=this._targetInfoList=[],o={},a=Bm(e,t);mk(bk,function(t,e){(!i||!i.include||vk(i.include,e)>=0)&&t(a,n,o)})}function Rm(t){return t[0]>t[1]&&t.reverse(),t}function Bm(t,e){return Oi(t,e,{includeMainTypes:_k})}function Vm(t,e,i,n){var o=i.getAxis([\"x\",\"y\"][t]),a=Rm(f([0,1],function(t){return e?o.coordToData(o.toLocalCoord(n[t])):o.toGlobalCoord(o.dataToCoord(n[t]))})),r=[];return r[t]=a,r[1-t]=[NaN,NaN],{values:a,xyMinMax:r}}function Gm(t,e,i,n){return[e[0]-n[t]*i[0],e[1]-n[t]*i[1]]}function Wm(t,e){var i=Fm(t),n=Fm(e),o=[i[0]/n[0],i[1]/n[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}function Fm(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}function Hm(t,e,i,n,o){if(o){var a=t.getZr();a[Ck]||(a[Dk]||(a[Dk]=Zm),yr(a,Dk,i,e)(t,n))}}function Zm(t,e){if(!t.isDisposed()){var i=t.getZr();i[Ck]=!0,t.dispatchAction({type:\"brushSelect\",batch:e}),i[Ck]=!1}}function Um(t,e,i,n){for(var o=0,a=e.length;o<a;o++){var r=e[o];if(t[r.brushType](n,i,r.selectors,r))return!0}}function jm(t){var e=t.brushSelector;if(_(e)){var i=[];return d(gk,function(t,n){i[n]=function(i,n,o,a){var r=n.getItemLayout(i);return t[e](r,o,a)}}),i}if(x(e)){var n={};return d(gk,function(t,i){n[i]=e}),n}return e}function Xm(t,e){var i=t.option.seriesIndex;return null!=i&&\"all\"!==i&&(y(i)?l(i,e)<0:e!==i)}function Ym(t){var e=t.selectors={};return d(gk[t.brushType],function(i,n){e[n]=function(n){return i(n,e,t)}}),t}function qm(t){return new Kt(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}function $m(t,e){return n({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new _o(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}function Km(t,e,i,n){(!n||n.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())}function Jm(t,e){Ok[t]=e}function Qm(t){return Ok[t]}function tv(t,e,i){this.model=t,this.ecModel=e,this.api=i,this._brushType,this._brushMode}function ev(t,e,i){this._model=t}function iv(t,e,i,n){var o=i.calendarModel,a=i.seriesModel,r=o?o.coordinateSystem:a?a.coordinateSystem:null;return r===this?r[t](n):null}function nv(t,e){var i=t.cellSize;y(i)?1===i.length&&(i[1]=i[0]):i=t.cellSize=[i,i];var n=f([0,1],function(t){return Qo(e,t)&&(i[t]=\"auto\"),null!=i[t]&&\"auto\"!==i[t]});ta(t,e,{type:\"box\",ignoreSize:n})}function ov(t){return l(Vk,t)>=0}function av(t,e,i){function n(t,e){return l(e.nodes,t)>=0}function o(t,n){var o=!1;return e(function(e){d(i(t,e)||[],function(t){n.records[e.name][t]&&(o=!0)})}),o}function a(t,n){n.nodes.push(t),e(function(e){d(i(t,e)||[],function(t){n.records[e.name][t]=!0})})}return function(i){var r={nodes:[],records:{}};if(e(function(t){r.records[t.name]={}}),!i)return r;a(i,r);var s;do{s=!1,t(function(t){!n(t,r)&&o(t,r)&&(a(t,r),s=!0)})}while(s);return r}}function rv(t,e,i){var n=[1/0,-1/0];return Wk(i,function(t){var i=t.getData();i&&Wk(i.mapDimension(e,!0),function(t){var e=i.getApproximateExtent(t);e[0]<n[0]&&(n[0]=e[0]),e[1]>n[1]&&(n[1]=e[1])})}),n[1]<n[0]&&(n=[NaN,NaN]),sv(t,n),n}function sv(t,e){var i=t.getAxisModel(),n=i.getMin(!0),o=\"category\"===i.get(\"type\"),a=o&&i.getCategories().length;null!=n&&\"dataMin\"!==n&&\"function\"!=typeof n?e[0]=n:o&&(e[0]=a>0?0:NaN);var r=i.getMax(!0);return null!=r&&\"dataMax\"!==r&&\"function\"!=typeof r?e[1]=r:o&&(e[1]=a>0?a-1:NaN),i.get(\"scale\",!0)||(e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0)),e}function lv(t,e){var i=t.getAxisModel(),n=t._percentWindow,o=t._valueWindow;if(n){var a=ko(o,[0,500]);a=Math.min(a,20);var r=e||0===n[0]&&100===n[1];i.setRange(r?null:+o[0].toFixed(a),r?null:+o[1].toFixed(a))}}function hv(t){var e=t._minMaxSpan={},i=t._dataZoomModel;Wk([\"min\",\"max\"],function(n){e[n+\"Span\"]=i.get(n+\"Span\");var o=i.get(n+\"ValueSpan\");if(null!=o&&(e[n+\"ValueSpan\"]=o,null!=(o=t.getAxisModel().axis.scale.parse(o)))){var a=t._dataExtent;e[n+\"Span\"]=Io(a[0]+o,a,[0,100],!0)}})}function uv(t){var e={};return Zk([\"start\",\"end\",\"startValue\",\"endValue\",\"throttle\"],function(i){t.hasOwnProperty(i)&&(e[i]=t[i])}),e}function cv(t,e){var i=t._rangePropMode,n=t.get(\"rangeMode\");Zk([[\"start\",\"startValue\"],[\"end\",\"endValue\"]],function(t,o){var a=null!=e[t[0]],r=null!=e[t[1]];a&&!r?i[o]=\"percent\":!a&&r?i[o]=\"value\":n?i[o]=n[o]:a&&(i[o]=\"percent\")})}function dv(t){return{x:\"y\",y:\"x\",radius:\"angle\",angle:\"radius\"}[t]}function fv(t){return\"vertical\"===t?\"ns-resize\":\"ew-resize\"}function pv(t,e){var i=yv(t),n=e.dataZoomId,o=e.coordId;d(i,function(t,i){var a=t.dataZoomInfos;a[n]&&l(e.allCoordIds,o)<0&&(delete a[n],t.count--)}),_v(i);var a=i[o];a||((a=i[o]={coordId:o,dataZoomInfos:{},count:0}).controller=xv(t,a),a.dispatchAction=v(Mv,t)),!a.dataZoomInfos[n]&&a.count++,a.dataZoomInfos[n]=e;var r=Iv(a.dataZoomInfos);a.controller.enable(r.controlType,r.opt),a.controller.setPointerChecker(e.containsPoint),yr(a,\"dispatchAction\",e.throttleRate,\"fixRate\")}function gv(t,e){var i=yv(t);d(i,function(t){t.controller.dispose();var i=t.dataZoomInfos;i[e]&&(delete i[e],t.count--)}),_v(i)}function mv(t,e){if(t&&\"dataZoom\"===t.type&&t.batch)for(var i=0,n=t.batch.length;i<n;i++)if(t.batch[i].dataZoomId===e)return!1;return!0}function vv(t){return t.type+\"\\0_\"+t.id}function yv(t){var e=t.getZr();return e[oP]||(e[oP]={})}function xv(t,e){var i=new Zh(t.getZr());return i.on(\"pan\",nP(wv,e)),i.on(\"zoom\",nP(bv,e)),i}function _v(t){d(t,function(e,i){e.count||(e.controller.dispose(),delete t[i])})}function wv(t,e,i,n,o,a,r){Sv(t,function(s){return s.panGetRange(t.controller,e,i,n,o,a,r)})}function bv(t,e,i,n){Sv(t,function(o){return o.zoomGetRange(t.controller,e,i,n)})}function Sv(t,e){var i=[];d(t.dataZoomInfos,function(t){var n=e(t);!t.disabled&&n&&i.push({dataZoomId:t.dataZoomId,start:n[0],end:n[1]})}),t.dispatchAction(i)}function Mv(t,e){t.dispatchAction({type:\"dataZoom\",batch:e})}function Iv(t){var e,i={},n={type_true:2,type_move:1,type_false:0,type_undefined:-1};return d(t,function(t){var o=!t.disabled&&(!t.zoomLock||\"move\");n[\"type_\"+o]>n[\"type_\"+e]&&(e=o),a(i,t.roamControllerOpt)}),{controlType:e,opt:i}}function Tv(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}function Av(t,e,i,n){for(var o=e.targetVisuals[n],a=oD.prepareVisualTypes(o),r={color:t.getData().getVisual(\"color\")},s=0,l=a.length;s<l;s++){var h=a[s],u=o[\"opacity\"===h?\"__alphaForOpacity\":h];u&&u.applyVisual(i,function(t){return r[t]},function(t,e){r[t]=e})}return r.color}function Dv(t,e,i){if(i[0]===i[1])return i.slice();for(var n=(i[1]-i[0])/200,o=i[0],a=[],r=0;r<=200&&o<i[1];r++)a.push(o),o+=n;return a.push(i[1]),a}function Cv(t,e,i){var n=t.option,o=n.align;if(null!=o&&\"auto\"!==o)return o;for(var a={width:e.getWidth(),height:e.getHeight()},r=\"horizontal\"===n.orient?1:0,s=[[\"left\",\"right\",\"width\"],[\"top\",\"bottom\",\"height\"]],l=s[r],h=[0,null,10],u={},c=0;c<3;c++)u[s[1-r][c]]=h[c],u[l[c]]=2===c?i[0]:n[l[c]];var d=[[\"x\",\"width\",3],[\"y\",\"height\",0]][r],f=Ko(u,a,n.padding);return l[(f.margin[d[2]]||0)+f[d[0]]+.5*f[d[1]]<.5*a[d[1]]?0:1]}function Lv(t){return d(t||[],function(e){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null)}),t}function kv(t,e,i,n){return new Rb({shape:{points:t},draggable:!!i,cursor:e,drift:i,onmousemove:function(t){Q_(t.event)},ondragend:n})}function Pv(t,e){return 0===t?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}function Ov(t,e,i,n){return t?[[0,-TP(e,AP(i,0))],[CP,0],[0,TP(e,AP(n-i,0))]]:[[0,0],[5,-5],[5,5]]}function Nv(t,e,i){var n=DP/2,o=t.get(\"hoverLinkDataSize\");return o&&(n=MP(o,e,i,!0)/2),n}function Ev(t){var e=t.get(\"hoverLinkOnHandle\");return!!(null==e?t.get(\"realtime\"):e)}function zv(t){return\"vertical\"===t?\"ns-resize\":\"ew-resize\"}function Rv(t,e){var i=t.inverse;(\"vertical\"===t.orient?!i:i)&&e.reverse()}function Bv(t){Mi(t,\"label\",[\"show\"])}function Vv(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function Gv(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function Wv(t,e,i){var n=-1;do{n=Math.max(Co(t.get(e,i)),n),t=t.stackedOn}while(t);return n}function Fv(t,e,i,n,o,a){var r=[],s=Yv(e,n,t),l=e.indicesOfNearest(n,s,!0)[0];r[o]=e.get(i,l,!0),r[a]=e.get(n,l,!0);var h=Wv(e,n,l);return(h=Math.min(h,20))>=0&&(r[a]=+r[a].toFixed(h)),r}function Hv(t,e){var n=t.getData(),o=t.coordinateSystem;if(e&&!Gv(e)&&!y(e.coord)&&o){var a=o.dimensions,r=Zv(e,n,o,t);if((e=i(e)).type&&BP[e.type]&&r.baseAxis&&r.valueAxis){var s=zP(a,r.baseAxis.dim),l=zP(a,r.valueAxis.dim);e.coord=BP[e.type](n,r.baseDataDim,r.valueDataDim,s,l),e.value=e.coord[l]}else{for(var h=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],u=0;u<2;u++)BP[h[u]]&&(h[u]=Yv(n,n.mapDimension(a[u]),h[u]));e.coord=h}}return e}function Zv(t,e,i,n){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,o.valueAxis=i.getAxis(Uv(n,o.valueDataDim)),o.baseAxis=i.getOtherAxis(o.valueAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim)):(o.baseAxis=n.getBaseAxis(),o.valueAxis=i.getOtherAxis(o.baseAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim),o.valueDataDim=e.mapDimension(o.valueAxis.dim)),o}function Uv(t,e){var i=t.getData(),n=i.dimensions;e=i.getDimension(e);for(var o=0;o<n.length;o++){var a=i.getDimensionInfo(n[o]);if(a.name===e)return a.coordDim}}function jv(t,e){return!(t&&t.containData&&e.coord&&!Vv(e))||t.containData(e.coord)}function Xv(t,e,i,n){return n<2?t.coord&&t.coord[n]:t.value}function Yv(t,e,i){if(\"average\"===i){var n=0,o=0;return t.each(e,function(t,e){isNaN(t)||(n+=t,o++)},!0),n/o}return t.getDataExtent(e,!0)[\"max\"===i?1:0]}function qv(t,e,i){var n=e.coordinateSystem;t.each(function(o){var a,r=t.getItemModel(o),s=To(r.get(\"x\"),i.getWidth()),l=To(r.get(\"y\"),i.getHeight());if(isNaN(s)||isNaN(l)){if(e.getMarkerPosition)a=e.getMarkerPosition(t.getValues(t.dimensions,o));else if(n){var h=t.get(n.dimensions[0],o),u=t.get(n.dimensions[1],o);a=n.dataToPoint([h,u])}}else a=[s,l];isNaN(s)||(a[0]=s),isNaN(l)||(a[1]=l),t.setItemLayout(o,a)})}function $v(t,e,i){var n;n=t?f(t&&t.dimensions,function(t){return r({name:t,isSysCoord:!0},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})}):[{name:\"value\",type:\"float\",isSysCoord:!0}];var o=new yI(n,i),a=f(i.get(\"data\"),v(Hv,e));return t&&(a=g(a,v(jv,t))),o.initData(a,null,t?Xv:function(t){return t.value}),o}function Kv(t){return!isNaN(t)&&!isFinite(t)}function Jv(t,e,i,n){var o=1-t,a=n.dimensions[t];return Kv(e[o])&&Kv(i[o])&&e[t]===i[t]&&n.getAxis(a).containData(e[t])}function Qv(t,e){if(\"cartesian2d\"===t.type){var i=e[0].coord,n=e[1].coord;if(i&&n&&(Jv(1,i,n,t)||Jv(0,i,n,t)))return!0}return jv(t,e[0])&&jv(t,e[1])}function ty(t,e,i,n,o){var a,r=n.coordinateSystem,s=t.getItemModel(e),l=To(s.get(\"x\"),o.getWidth()),h=To(s.get(\"y\"),o.getHeight());if(isNaN(l)||isNaN(h)){if(n.getMarkerPosition)a=n.getMarkerPosition(t.getValues(t.dimensions,e));else{var u=r.dimensions,c=t.get(u[0],e),d=t.get(u[1],e);a=r.dataToPoint([c,d])}if(\"cartesian2d\"===r.type){var f=r.getAxis(\"x\"),p=r.getAxis(\"y\"),u=r.dimensions;Kv(t.get(u[0],e))?a[0]=f.toGlobalCoord(f.getExtent()[i?0:1]):Kv(t.get(u[1],e))&&(a[1]=p.toGlobalCoord(p.getExtent()[i?0:1]))}isNaN(l)||(a[0]=l),isNaN(h)||(a[1]=h)}else a=[l,h];t.setItemLayout(e,a)}function ey(t,e,i){var n;n=t?f(t&&t.dimensions,function(t){return r({name:t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})}):[{name:\"value\",type:\"float\"}];var o=new yI(n,i),a=new yI(n,i),s=new yI([],i),l=f(i.get(\"data\"),v(GP,e,t,i));t&&(l=g(l,v(Qv,t)));var h=t?Xv:function(t){return t.value};return o.initData(f(l,function(t){return t[0]}),null,h),a.initData(f(l,function(t){return t[1]}),null,h),s.initData(f(l,function(t){return t[2]})),s.hasItemOption=!0,{from:o,to:a,line:s}}function iy(t){return!isNaN(t)&&!isFinite(t)}function ny(t,e,i,n){var o=1-t;return iy(e[o])&&iy(i[o])}function oy(t,e){var i=e.coord[0],n=e.coord[1];return!(\"cartesian2d\"!==t.type||!i||!n||!ny(1,i,n,t)&&!ny(0,i,n,t))||(jv(t,{coord:i,x:e.x0,y:e.y0})||jv(t,{coord:n,x:e.x1,y:e.y1}))}function ay(t,e,i,n,o){var a,r=n.coordinateSystem,s=t.getItemModel(e),l=To(s.get(i[0]),o.getWidth()),h=To(s.get(i[1]),o.getHeight());if(isNaN(l)||isNaN(h)){if(n.getMarkerPosition)a=n.getMarkerPosition(t.getValues(i,e));else{var u=[f=t.get(i[0],e),p=t.get(i[1],e)];r.clampData&&r.clampData(u,u),a=r.dataToPoint(u,!0)}if(\"cartesian2d\"===r.type){var c=r.getAxis(\"x\"),d=r.getAxis(\"y\"),f=t.get(i[0],e),p=t.get(i[1],e);iy(f)?a[0]=c.toGlobalCoord(c.getExtent()[\"x0\"===i[0]?0:1]):iy(p)&&(a[1]=d.toGlobalCoord(d.getExtent()[\"y0\"===i[1]?0:1]))}isNaN(l)||(a[0]=l),isNaN(h)||(a[1]=h)}else a=[l,h];return a}function ry(t,e,i){var n,o,a=[\"x0\",\"y0\",\"x1\",\"y1\"];t?(n=f(t&&t.dimensions,function(t){var i=e.getData();return r({name:t},i.getDimensionInfo(i.mapDimension(t))||{})}),o=new yI(f(a,function(t,e){return{name:t,type:n[e%2].type}}),i)):o=new yI(n=[{name:\"value\",type:\"float\"}],i);var s=f(i.get(\"data\"),v(WP,e,t,i));t&&(s=g(s,v(oy,t)));var l=t?function(t,e,i,n){return t.coord[Math.floor(n/2)][n%2]}:function(t){return t.value};return o.initData(s,null,l),o.hasItemOption=!0,o}function sy(t){var e=t.type,i={number:\"value\",time:\"time\"};if(i[e]&&(t.axisType=i[e],delete t.type),ly(t),hy(t,\"controlPosition\")){var n=t.controlStyle||(t.controlStyle={});hy(n,\"position\")||(n.position=t.controlPosition),\"none\"!==n.position||hy(n,\"show\")||(n.show=!1,delete n.position),delete t.controlPosition}d(t.data||[],function(t){w(t)&&!y(t)&&(!hy(t,\"value\")&&hy(t,\"name\")&&(t.value=t.name),ly(t))})}function ly(t){var e=t.itemStyle||(t.itemStyle={}),i=e.emphasis||(e.emphasis={}),n=t.label||t.label||{},o=n.normal||(n.normal={}),a={normal:1,emphasis:1};d(n,function(t,e){a[e]||hy(o,e)||(o[e]=t)}),i.label&&!hy(n,\"emphasis\")&&(n.emphasis=i.label,delete i.label)}function hy(t,e){return t.hasOwnProperty(e)}function uy(t,e){return Ko(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get(\"padding\"))}function cy(t,e,n,o){return En(t.get(e).replace(/^path:\\/\\//,\"\"),i(o||{}),new Kt(n[0],n[1],n[2],n[3]),\"center\")}function dy(t,e,i,o,a,r){var s=e.get(\"color\");a?(a.setColor(s),i.add(a),r&&r.onUpdate(a)):((a=dl(t.get(\"symbol\"),-1,-1,2,2,s)).setStyle(\"strokeNoScale\",!0),i.add(a),r&&r.onCreate(a));var l=e.getItemStyle([\"color\",\"symbol\",\"symbolSize\"]);a.setStyle(l),o=n({rectHover:!0,z2:100},o,!0);var h=t.get(\"symbolSize\");(h=h instanceof Array?h.slice():[+h,+h])[0]/=2,h[1]/=2,o.scale=h;var u=t.get(\"symbolOffset\");if(u){var c=o.position=o.position||[0,0];c[0]+=To(u[0],h[0]),c[1]+=To(u[1],h[1])}var d=t.get(\"symbolRotate\");return o.rotation=(d||0)*Math.PI/180||0,a.attr(o),a.updateTransform(),a}function fy(t,e,i,n,o){if(!t.dragging){var a=n.getModel(\"checkpointStyle\"),r=i.dataToCoord(n.getData().get([\"value\"],e));o||!a.get(\"animation\",!0)?t.attr({position:[r,0]}):(t.stopAnimation(!0),t.animateTo({position:[r,0]},a.get(\"animationDuration\",!0),a.get(\"animationEasing\",!0)))}}function py(t){return 0===t.indexOf(\"my\")}function gy(t){this.model=t}function my(t){this.model=t}function vy(t){var e={},i=[],n=[];return t.eachRawSeries(function(t){var o=t.coordinateSystem;if(!o||\"cartesian2d\"!==o.type&&\"polar\"!==o.type)i.push(t);else{var a=o.getBaseAxis();if(\"category\"===a.type){var r=a.dim+\"_\"+a.index;e[r]||(e[r]={categoryAxis:a,valueAxis:o.getOtherAxis(a),series:[]},n.push({axisDim:a.dim,axisIndex:a.index})),e[r].series.push(t)}else i.push(t)}}),{seriesGroupByCategoryAxis:e,other:i,meta:n}}function yy(t){var e=[];return d(t,function(t,i){var n=t.categoryAxis,o=t.valueAxis.dim,a=[\" \"].concat(f(t.series,function(t){return t.name})),r=[n.model.getCategories()];d(t.series,function(t){r.push(t.getRawData().mapArray(o,function(t){return t}))});for(var s=[a.join(nO)],l=0;l<r[0].length;l++){for(var h=[],u=0;u<r.length;u++)h.push(r[u][l]);s.push(h.join(nO))}e.push(s.join(\"\\n\"))}),e.join(\"\\n\\n\"+iO+\"\\n\\n\")}function xy(t){return f(t,function(t){var e=t.getRawData(),i=[t.name],n=[];return e.each(e.dimensions,function(){for(var t=arguments.length,o=arguments[t-1],a=e.getName(o),r=0;r<t-1;r++)n[r]=arguments[r];i.push((a?a+nO:\"\")+n.join(nO))}),i.join(\"\\n\")}).join(\"\\n\\n\"+iO+\"\\n\\n\")}function _y(t){var e=vy(t);return{value:g([yy(e.seriesGroupByCategoryAxis),xy(e.other)],function(t){return t.replace(/[\\n\\t\\s]/g,\"\")}).join(\"\\n\\n\"+iO+\"\\n\\n\"),meta:e.meta}}function wy(t){return t.replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\")}function by(t){if(t.slice(0,t.indexOf(\"\\n\")).indexOf(nO)>=0)return!0}function Sy(t){for(var e=t.split(/\\n+/g),i=[],n=f(wy(e.shift()).split(oO),function(t){return{name:t,data:[]}}),o=0;o<e.length;o++){var a=wy(e[o]).split(oO);i.push(a.shift());for(var r=0;r<a.length;r++)n[r]&&(n[r].data[o]=a[r])}return{series:n,categories:i}}function My(t){for(var e=t.split(/\\n+/g),i=wy(e.shift()),n=[],o=0;o<e.length;o++){var a,r=wy(e[o]).split(oO),s=\"\",l=!1;isNaN(r[0])?(l=!0,s=r[0],r=r.slice(1),n[o]={name:s,value:[]},a=n[o].value):a=n[o]=[];for(var h=0;h<r.length;h++)a.push(+r[h]);1===a.length&&(l?n[o].value=a[0]:n[o]=a[0])}return{name:i,data:n}}function Iy(t,e){var i={series:[]};return d(t.split(new RegExp(\"\\n*\"+iO+\"\\n*\",\"g\")),function(t,n){if(by(t)){var o=Sy(t),a=e[n],r=a.axisDim+\"Axis\";a&&(i[r]=i[r]||[],i[r][a.axisIndex]={data:o.categories},i.series=i.series.concat(o.series))}else{o=My(t);i.series.push(o)}}),i}function Ty(t){this._dom=null,this.model=t}function Ay(t,e){return f(t,function(t,i){var n=e&&e[i];return w(n)&&!y(n)?(w(t)&&!y(t)&&(t=t.value),r({value:t},n)):t})}function Dy(t,e){var i=Py(t);aO(e,function(e,n){for(var o=i.length-1;o>=0&&!i[o][n];o--);if(o<0){var a=t.queryComponents({mainType:\"dataZoom\",subType:\"select\",id:n})[0];if(a){var r=a.getPercentRange();i[0][n]={dataZoomId:n,start:r[0],end:r[1]}}}}),i.push(e)}function Cy(t){var e=Py(t),i=e[e.length-1];e.length>1&&e.pop();var n={};return aO(i,function(t,i){for(var o=e.length-1;o>=0;o--)if(t=e[o][i]){n[i]=t;break}}),n}function Ly(t){t[rO]=null}function ky(t){return Py(t).length}function Py(t){var e=t[rO];return e||(e=t[rO]=[{}]),e}function Oy(t,e,i){(this._brushController=new yd(i.getZr())).on(\"brush\",m(this._onBrush,this)).mount(),this._isZoomActive}function Ny(t){var e={};return d([\"xAxisIndex\",\"yAxisIndex\"],function(i){e[i]=t[i],null==e[i]&&(e[i]=\"all\"),(!1===e[i]||\"none\"===e[i])&&(e[i]=[])}),e}function Ey(t,e){t.setIconStatus(\"back\",ky(e)>1?\"emphasis\":\"normal\")}function zy(t,e,i,n,o){var a=i._isZoomActive;n&&\"takeGlobalCursor\"===n.type&&(a=\"dataZoomSelect\"===n.key&&n.dataZoomSelectActive),i._isZoomActive=a,t.setIconStatus(\"zoom\",a?\"emphasis\":\"normal\");var r=new zm(Ny(t.option),e,{include:[\"grid\"]});i._brushController.setPanels(r.makePanelOpts(o,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?\"lineX\":!t.xAxisDeclared&&t.yAxisDeclared?\"lineY\":\"rect\"})).enableBrush(!!a&&{brushType:\"auto\",brushStyle:{lineWidth:0,fill:\"rgba(0,0,0,0.2)\"}})}function Ry(t){this.model=t}function By(t){return fO(t)}function Vy(){if(!mO&&vO){mO=!0;var t=vO.styleSheets;t.length<31?vO.createStyleSheet().addRule(\".zrvml\",\"behavior:url(#default#VML)\"):t[0].addRule(\".zrvml\",\"behavior:url(#default#VML)\")}}function Gy(t){return parseInt(t,10)}function Wy(t,e){Vy(),this.root=t,this.storage=e;var i=document.createElement(\"div\"),n=document.createElement(\"div\");i.style.cssText=\"display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;\",n.style.cssText=\"position:absolute;left:0;top:0;\",t.appendChild(i),this._vmlRoot=n,this._vmlViewport=i,this.resize();var o=e.delFromStorage,a=e.addToStorage;e.delFromStorage=function(t){o.call(e,t),t&&t.onRemove&&t.onRemove(n)},e.addToStorage=function(t){t.onAdd&&t.onAdd(n),a.call(e,t)},this._firstPaint=!0}function Fy(t){return function(){v_('In IE8.0 VML mode painter not support method \"'+t+'\"')}}function Hy(t){return document.createElementNS(KO,t)}function Zy(t){return eN(1e4*t)/1e4}function Uy(t){return t<sN&&t>-sN}function jy(t,e){var i=e?t.textFill:t.fill;return null!=i&&i!==tN}function Xy(t,e){var i=e?t.textStroke:t.stroke;return null!=i&&i!==tN}function Yy(t,e){e&&qy(t,\"transform\",\"matrix(\"+QO.call(e,\",\")+\")\")}function qy(t,e,i){(!i||\"linear\"!==i.type&&\"radial\"!==i.type)&&t.setAttribute(e,i)}function $y(t,e,i){t.setAttributeNS(\"http://www.w3.org/1999/xlink\",e,i)}function Ky(t,e,i){if(jy(e,i)){var n=i?e.textFill:e.fill;n=\"transparent\"===n?tN:n,\"none\"!==t.getAttribute(\"clip-path\")&&n===tN&&(n=\"rgba(0, 0, 0, 0.002)\"),qy(t,\"fill\",n),qy(t,\"fill-opacity\",e.opacity)}else qy(t,\"fill\",tN);if(Xy(e,i)){var o=i?e.textStroke:e.stroke;qy(t,\"stroke\",o=\"transparent\"===o?tN:o),qy(t,\"stroke-width\",(i?e.textStrokeWidth:e.lineWidth)/(!i&&e.strokeNoScale?e.host.getLineScale():1)),qy(t,\"paint-order\",i?\"stroke\":\"fill\"),qy(t,\"stroke-opacity\",e.opacity),e.lineDash?(qy(t,\"stroke-dasharray\",e.lineDash.join(\",\")),qy(t,\"stroke-dashoffset\",eN(e.lineDashOffset||0))):qy(t,\"stroke-dasharray\",\"\"),e.lineCap&&qy(t,\"stroke-linecap\",e.lineCap),e.lineJoin&&qy(t,\"stroke-linejoin\",e.lineJoin),e.miterLimit&&qy(t,\"stroke-miterlimit\",e.miterLimit)}else qy(t,\"stroke\",tN)}function Jy(t){for(var e=[],i=t.data,n=t.len(),o=0;o<n;){var a=\"\",r=0;switch(i[o++]){case JO.M:a=\"M\",r=2;break;case JO.L:a=\"L\",r=2;break;case JO.Q:a=\"Q\",r=4;break;case JO.C:a=\"C\",r=6;break;case JO.A:var s=i[o++],l=i[o++],h=i[o++],u=i[o++],c=i[o++],d=i[o++],f=i[o++],p=i[o++],g=Math.abs(d),m=Uy(g-aN)&&!Uy(g),v=!1;v=g>=aN||!Uy(g)&&(d>-oN&&d<0||d>oN)==!!p;var y=Zy(s+h*nN(c)),x=Zy(l+u*iN(c));m&&(d=p?aN-1e-4:1e-4-aN,v=!0,9===o&&e.push(\"M\",y,x));var _=Zy(s+h*nN(c+d)),w=Zy(l+u*iN(c+d));e.push(\"A\",Zy(h),Zy(u),eN(f*rN),+v,+p,_,w);break;case JO.Z:a=\"Z\";break;case JO.R:var _=Zy(i[o++]),w=Zy(i[o++]),b=Zy(i[o++]),S=Zy(i[o++]);e.push(\"M\",_,w,\"L\",_+b,w,\"L\",_+b,w+S,\"L\",_,w+S,\"L\",_,w)}a&&e.push(a);for(var M=0;M<r;M++)e.push(Zy(i[o++]))}return e.join(\" \")}function Qy(t){return\"middle\"===t?\"middle\":\"bottom\"===t?\"baseline\":\"hanging\"}function tx(){}function ex(t,e,i,n){for(var o=0,a=e.length,r=0,s=0;o<a;o++){var l=e[o];if(l.removed){for(var h=[],u=s;u<s+l.count;u++)h.push(u);l.indices=h,s+=l.count}else{for(var h=[],u=r;u<r+l.count;u++)h.push(u);l.indices=h,r+=l.count,l.added||(s+=l.count)}}return e}function ix(t){return{newPos:t.newPos,components:t.components.slice(0)}}function nx(t,e,i,n,o){this._zrId=t,this._svgRoot=e,this._tagNames=\"string\"==typeof i?[i]:i,this._markLabel=n,this._domName=o||\"_dom\",this.nextId=0}function ox(t,e){nx.call(this,t,e,[\"linearGradient\",\"radialGradient\"],\"__gradient_in_use__\")}function ax(t,e){nx.call(this,t,e,\"clipPath\",\"__clippath_in_use__\")}function rx(t,e){nx.call(this,t,e,[\"filter\"],\"__filter_in_use__\",\"_shadowDom\")}function sx(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}function lx(t){return parseInt(t,10)}function hx(t){return t instanceof Mn?lN:t instanceof Je?hN:t instanceof Cb?uN:lN}function ux(t,e){return e&&t&&e.parentNode!==t}function cx(t,e,i){if(ux(t,e)&&i){var n=i.nextSibling;n?t.insertBefore(e,n):t.appendChild(e)}}function dx(t,e){if(ux(t,e)){var i=t.firstChild;i?t.insertBefore(e,i):t.appendChild(e)}}function fx(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function px(t){return t.__textSvgEl}function gx(t){return t.__svgEl}function mx(t){return function(){v_('In SVG mode painter not support method \"'+t+'\"')}}var vx=2311,yx=function(){return vx++},xx={},_x=xx=\"undefined\"!=typeof wx?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0}:\"undefined\"==typeof document&&\"undefined\"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0}:\"undefined\"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0}:function(t){var e={},i={},n=t.match(/Firefox\\/([\\d.]+)/),o=t.match(/MSIE\\s([\\d.]+)/)||t.match(/Trident\\/.+?rv:(([\\d.]+))/),a=t.match(/Edge\\/([\\d.]+)/),r=/micromessenger/i.test(t);return n&&(i.firefox=!0,i.version=n[1]),o&&(i.ie=!0,i.version=o[1]),a&&(i.edge=!0,i.version=a[1]),r&&(i.weChat=!0),{browser:i,os:e,node:!1,canvasSupported:!!document.createElement(\"canvas\").getContext,svgSupported:\"undefined\"!=typeof SVGRect,touchEventsSupported:\"ontouchstart\"in window&&!i.ie&&!i.edge,pointerEventsSupported:\"onpointerdown\"in window&&(i.edge||i.ie&&i.version>=11)}}(navigator.userAgent),bx={\"[object Function]\":1,\"[object RegExp]\":1,\"[object Date]\":1,\"[object Error]\":1,\"[object CanvasGradient]\":1,\"[object CanvasPattern]\":1,\"[object Image]\":1,\"[object Canvas]\":1},Sx={\"[object Int8Array]\":1,\"[object Uint8Array]\":1,\"[object Uint8ClampedArray]\":1,\"[object Int16Array]\":1,\"[object Uint16Array]\":1,\"[object Int32Array]\":1,\"[object Uint32Array]\":1,\"[object Float32Array]\":1,\"[object Float64Array]\":1},Mx=Object.prototype.toString,Ix=Array.prototype,Tx=Ix.forEach,Ax=Ix.filter,Dx=Ix.slice,Cx=Ix.map,Lx=Ix.reduce,kx={},Px=function(){return kx.createCanvas()};kx.createCanvas=function(){return document.createElement(\"canvas\")};var Ox,Nx=\"__ec_primitive__\";E.prototype={constructor:E,get:function(t){return this.hasOwnProperty(t)?this[t]:null},set:function(t,e){return this[t]=e},each:function(t,e){void 0!==e&&(t=m(t,e));for(var i in this)this.hasOwnProperty(i)&&t(this[i],i)},removeKey:function(t){delete this[t]}};var Ex=(Object.freeze||Object)({$override:e,clone:i,merge:n,mergeAll:o,extend:a,defaults:r,createCanvas:Px,getContext:s,indexOf:l,inherits:h,mixin:u,isArrayLike:c,each:d,map:f,reduce:p,filter:g,find:function(t,e,i){if(t&&e)for(var n=0,o=t.length;n<o;n++)if(e.call(i,t[n],n,t))return t[n]},bind:m,curry:v,isArray:y,isFunction:x,isString:_,isObject:w,isBuiltInObject:b,isTypedArray:S,isDom:M,eqNaN:I,retrieve:T,retrieve2:A,retrieve3:D,slice:C,normalizeCssArray:L,assert:k,trim:P,setAsPrimitive:O,isPrimitive:N,createHashMap:z,concatArray:R,noop:B}),zx=\"undefined\"==typeof Float32Array?Array:Float32Array,Rx=j,Bx=X,Vx=$,Gx=K,Wx=(Object.freeze||Object)({create:V,copy:G,clone:W,set:F,add:H,scaleAndAdd:Z,sub:U,len:j,length:Rx,lenSquare:X,lengthSquare:Bx,mul:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},div:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:Y,normalize:q,distance:$,dist:Vx,distanceSquare:K,distSquare:Gx,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:J,applyTransform:Q,min:tt,max:et});it.prototype={constructor:it,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(nt(e,t),\"dragstart\",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,o=i-this._x,a=n-this._y;this._x=i,this._y=n,e.drift(o,a,t),this.dispatchToElement(nt(e,t),\"drag\",t.event);var r=this.findHover(i,n,e).target,s=this._dropTarget;this._dropTarget=r,e!==r&&(s&&r!==s&&this.dispatchToElement(nt(s,t),\"dragleave\",t.event),r&&r!==s&&this.dispatchToElement(nt(r,t),\"dragenter\",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(nt(e,t),\"dragend\",t.event),this._dropTarget&&this.dispatchToElement(nt(this._dropTarget,t),\"drop\",t.event),this._draggingTarget=null,this._dropTarget=null}};var Fx=Array.prototype.slice,Hx=function(){this._$handlers={}};Hx.prototype={constructor:Hx,one:function(t,e,i){var n=this._$handlers;if(!e||!t)return this;n[t]||(n[t]=[]);for(var o=0;o<n[t].length;o++)if(n[t][o].h===e)return this;return n[t].push({h:e,one:!0,ctx:i||this}),this},on:function(t,e,i){var n=this._$handlers;if(!e||!t)return this;n[t]||(n[t]=[]);for(var o=0;o<n[t].length;o++)if(n[t][o].h===e)return this;return n[t].push({h:e,one:!1,ctx:i||this}),this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var i=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],o=0,a=i[t].length;o<a;o++)i[t][o].h!=e&&n.push(i[t][o]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},trigger:function(t){if(this._$handlers[t]){var e=arguments,i=e.length;i>3&&(e=Fx.call(e,1));for(var n=this._$handlers[t],o=n.length,a=0;a<o;){switch(i){case 1:n[a].h.call(n[a].ctx);break;case 2:n[a].h.call(n[a].ctx,e[1]);break;case 3:n[a].h.call(n[a].ctx,e[1],e[2]);break;default:n[a].h.apply(n[a].ctx,e)}n[a].one?(n.splice(a,1),o--):a++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var e=arguments,i=e.length;i>4&&(e=Fx.call(e,1,e.length-1));for(var n=e[e.length-1],o=this._$handlers[t],a=o.length,r=0;r<a;){switch(i){case 1:o[r].h.call(n);break;case 2:o[r].h.call(n,e[1]);break;case 3:o[r].h.call(n,e[1],e[2]);break;default:o[r].h.apply(n,e)}o[r].one?(o.splice(r,1),a--):r++}}return this}};var Zx=\"silent\";at.prototype.dispose=function(){};var Ux=[\"click\",\"dblclick\",\"mousewheel\",\"mouseout\",\"mouseup\",\"mousedown\",\"mousemove\",\"contextmenu\"],jx=function(t,e,i,n){Hx.call(this),this.storage=t,this.painter=e,this.painterRoot=n,i=i||new at,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,it.call(this),this.setHandlerProxy(i)};jx.prototype={constructor:jx,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(d(Ux,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,i=t.zrY,n=this._hovered,o=n.target;o&&!o.__zr&&(o=(n=this.findHover(n.x,n.y)).target);var a=this._hovered=this.findHover(e,i),r=a.target,s=this.proxy;s.setCursor&&s.setCursor(r?r.cursor:\"default\"),o&&r!==o&&this.dispatchToElement(n,\"mouseout\",t),this.dispatchToElement(a,\"mousemove\",t),r&&r!==o&&this.dispatchToElement(a,\"mouseover\",t)},mouseout:function(t){this.dispatchToElement(this._hovered,\"mouseout\",t);var e,i=t.toElement||t.relatedTarget;do{i=i&&i.parentNode}while(i&&9!=i.nodeType&&!(e=i===this.painterRoot));!e&&this.trigger(\"globalout\",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var i=this[t];i&&i.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,i){var n=(t=t||{}).target;if(!n||!n.silent){for(var o=\"on\"+e,a=ot(e,t,i);n&&(n[o]&&(a.cancelBubble=n[o].call(n,a)),n.trigger(e,a),n=n.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(e,a),this.painter&&this.painter.eachOtherLayer(function(t){\"function\"==typeof t[o]&&t[o].call(t,a),t.trigger&&t.trigger(e,a)}))}},findHover:function(t,e,i){for(var n=this.storage.getDisplayList(),o={x:t,y:e},a=n.length-1;a>=0;a--){var r;if(n[a]!==i&&!n[a].ignore&&(r=rt(n[a],t,e))&&(!o.topTarget&&(o.topTarget=n[a]),r!==Zx)){o.target=n[a];break}}return o}},d([\"click\",\"mousedown\",\"mouseup\",\"mousewheel\",\"dblclick\",\"contextmenu\"],function(t){jx.prototype[t]=function(e){var i=this.findHover(e.zrX,e.zrY),n=i.target;if(\"mousedown\"===t)this._downEl=n,this._downPoint=[e.zrX,e.zrY],this._upEl=n;else if(\"mouseup\"===t)this._upEl=n;else if(\"click\"===t){if(this._downEl!==this._upEl||!this._downPoint||Vx(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,t,e)}}),u(jx,Hx),u(jx,it);var Xx=\"undefined\"==typeof Float32Array?Array:Float32Array,Yx=(Object.freeze||Object)({create:st,identity:lt,copy:ht,mul:ut,translate:ct,rotate:dt,scale:ft,invert:pt,clone:gt}),qx=lt,$x=5e-5,Kx=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},Jx=Kx.prototype;Jx.transform=null,Jx.needLocalTransform=function(){return mt(this.rotation)||mt(this.position[0])||mt(this.position[1])||mt(this.scale[0]-1)||mt(this.scale[1]-1)},Jx.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),n=this.transform;i||e?(n=n||st(),i?this.getLocalTransform(n):qx(n),e&&(i?ut(n,t.transform,n):ht(n,t.transform)),this.transform=n,this.invTransform=this.invTransform||st(),pt(this.invTransform,n)):n&&qx(n)},Jx.getLocalTransform=function(t){return Kx.getLocalTransform(this,t)},Jx.setTransform=function(t){var e=this.transform,i=t.dpr||1;e?t.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):t.setTransform(i,0,0,i,0,0)},Jx.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var Qx=[];Jx.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(ut(Qx,t.invTransform,e),e=Qx);var i=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],o=this.position,a=this.scale;mt(i-1)&&(i=Math.sqrt(i)),mt(n-1)&&(n=Math.sqrt(n)),e[0]<0&&(i=-i),e[3]<0&&(n=-n),o[0]=e[4],o[1]=e[5],a[0]=i,a[1]=n,this.rotation=Math.atan2(-e[1]/n,e[0]/i)}},Jx.getGlobalScale=function(){var t=this.transform;if(!t)return[1,1];var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),i=Math.sqrt(t[2]*t[2]+t[3]*t[3]);return t[0]<0&&(e=-e),t[3]<0&&(i=-i),[e,i]},Jx.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n&&Q(i,i,n),i},Jx.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n&&Q(i,i,n),i},Kx.getLocalTransform=function(t,e){qx(e=e||[]);var i=t.origin,n=t.scale||[1,1],o=t.rotation||0,a=t.position||[0,0];return i&&(e[4]-=i[0],e[5]-=i[1]),ft(e,e,n),o&&dt(e,e,o),i&&(e[4]+=i[0],e[5]+=i[1]),e[4]+=a[0],e[5]+=a[1],e};var t_={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-t_.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*t_.bounceIn(2*t):.5*t_.bounceOut(2*t-1)+.5}};vt.prototype={constructor:vt,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var i=(t-this._startTime-this._pausedTime)/this._life;if(!(i<0)){i=Math.min(i,1);var n=this.easing,o=\"string\"==typeof n?t_[n]:n,a=\"function\"==typeof o?o(i):i;return this.fire(\"frame\",a),1==i?this.loop?(this.restart(t),\"restart\"):(this._needsRemove=!0,\"destroy\"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t=\"on\"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var e_=function(){this.head=null,this.tail=null,this._len=0},i_=e_.prototype;i_.insert=function(t){var e=new n_(t);return this.insertEntry(e),e},i_.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},i_.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},i_.len=function(){return this._len},i_.clear=function(){this.head=this.tail=null,this._len=0};var n_=function(t){this.value=t,this.next,this.prev},o_=function(t){this._list=new e_,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},a_=o_.prototype;a_.put=function(t,e){var i=this._list,n=this._map,o=null;if(null==n[t]){var a=i.len(),r=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var s=i.head;i.remove(s),delete n[s.key],o=s.value,this._lastRemovedEntry=s}r?r.value=e:r=new n_(e),r.key=t,i.insertEntry(r),n[t]=r}return o},a_.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},a_.clear=function(){this._list.clear(),this._map={}};var r_={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},s_=new o_(20),l_=null,h_=Ot,u_=Nt,c_=(Object.freeze||Object)({parse:Dt,lift:kt,toHex:Pt,fastLerp:Ot,fastMapToColor:h_,lerp:Nt,mapToColor:u_,modifyHSL:Et,modifyAlpha:zt,stringify:Rt}),d_=Array.prototype.slice,f_=function(t,e,i,n){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||Bt,this._setter=n||Vt,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};f_.prototype={when:function(t,e){var i=this._tracks;for(var n in e)if(e.hasOwnProperty(n)){if(!i[n]){i[n]=[];var o=this._getter(this._target,n);if(null==o)continue;0!==t&&i[n].push({time:0,value:Xt(o)})}i[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;i<e;i++)t[i].call(this)},start:function(t,e){var i,n=this,o=0;for(var a in this._tracks)if(this._tracks.hasOwnProperty(a)){var r=$t(this,t,function(){--o||n._doneCallback()},this._tracks[a],a,e);r&&(this._clipList.push(r),o++,this.animation&&this.animation.addClip(r),i=r)}if(i){var s=i.onframe;i.onframe=function(t,e){s(t,e);for(var i=0;i<n._onframeList.length;i++)n._onframeList[i](t,e)}}return o||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,i=this.animation,n=0;n<e.length;n++){var o=e[n];t&&o.onframe(this._target,1),i&&i.removeClip(o)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var p_=1;\"undefined\"!=typeof window&&(p_=Math.max(window.devicePixelRatio||1,1));var g_=p_,m_=function(){},v_=m_,y_=function(){this.animators=[]};y_.prototype={constructor:y_,animate:function(t,e){var i,n=!1,o=this,a=this.__zr;if(t){var r=t.split(\".\"),s=o;n=\"shape\"===r[0];for(var h=0,u=r.length;h<u;h++)s&&(s=s[r[h]]);s&&(i=s)}else i=o;if(i){var c=o.animators,d=new f_(i,e);return d.during(function(t){o.dirty(n)}).done(function(){c.splice(l(c,d),1)}),c.push(d),a&&a.animation.addAnimator(d),d}v_('Property \"'+t+'\" is not existed in element '+o.id)},stopAnimation:function(t){for(var e=this.animators,i=e.length,n=0;n<i;n++)e[n].stop(t);return e.length=0,this},animateTo:function(t,e,i,n,o,a){_(i)?(o=n,n=i,i=0):x(n)?(o=n,n=\"linear\",i=0):x(i)?(o=i,i=0):x(e)?(o=e,e=500):e||(e=500),this.stopAnimation(),this._animateToShallow(\"\",this,t,e,i);var r=this.animators.slice(),s=r.length;s||o&&o();for(var l=0;l<r.length;l++)r[l].done(function(){--s||o&&o()}).start(n,a)},_animateToShallow:function(t,e,i,n,o){var a={},r=0;for(var s in i)if(i.hasOwnProperty(s))if(null!=e[s])w(i[s])&&!c(i[s])?this._animateToShallow(t?t+\".\"+s:s,e[s],i[s],n,o):(a[s]=i[s],r++);else if(null!=i[s])if(t){var l={};l[t]={},l[t][s]=i[s],this.attr(l)}else this.attr(s,i[s]);return r>0&&this.animate(t,!1).when(null==n?500:n,a).delay(o||0),this}};var x_=function(t){Kx.call(this,t),Hx.call(this,t),y_.call(this,t),this.id=t.id||yx()};x_.prototype={type:\"element\",name:\"\",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case\"horizontal\":e=0;break;case\"vertical\":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if(\"position\"===t||\"scale\"===t||\"origin\"===t){if(e){var i=this[t];i||(i=this[t]=[]),i[0]=e[0],i[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if(\"string\"==typeof t)this.attrKV(t,e);else if(w(t))for(var i in t)t.hasOwnProperty(i)&&this.attrKV(i,t[i]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},u(x_,y_),u(x_,Kx),u(x_,Hx);var __=Q,w_=Math.min,b_=Math.max;Kt.prototype={constructor:Kt,union:function(t){var e=w_(t.x,this.x),i=w_(t.y,this.y);this.width=b_(t.x+t.width,this.x+this.width)-e,this.height=b_(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i},applyTransform:function(){var t=[],e=[],i=[],n=[];return function(o){if(o){t[0]=i[0]=this.x,t[1]=n[1]=this.y,e[0]=n[0]=this.x+this.width,e[1]=i[1]=this.y+this.height,__(t,t,o),__(e,e,o),__(i,i,o),__(n,n,o),this.x=w_(t[0],e[0],i[0],n[0]),this.y=w_(t[1],e[1],i[1],n[1]);var a=b_(t[0],e[0],i[0],n[0]),r=b_(t[1],e[1],i[1],n[1]);this.width=a-this.x,this.height=r-this.y}}}(),calculateTransform:function(t){var e=this,i=t.width/e.width,n=t.height/e.height,o=st();return ct(o,o,[-e.x,-e.y]),ft(o,o,[i,n]),ct(o,o,[t.x,t.y]),o},intersect:function(t){if(!t)return!1;t instanceof Kt||(t=Kt.create(t));var e=this,i=e.x,n=e.x+e.width,o=e.y,a=e.y+e.height,r=t.x,s=t.x+t.width,l=t.y,h=t.y+t.height;return!(n<r||s<i||a<l||h<o)},contain:function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},clone:function(){return new Kt(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Kt.create=function(t){return new Kt(t.x,t.y,t.width,t.height)};var S_=function(t){t=t||{},x_.call(this,t);for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};S_.prototype={constructor:S_,isGroup:!0,type:\"group\",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,n=i.indexOf(e);n>=0&&(i.splice(n,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,i=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof S_&&t.addChildrenToStorage(e)),i&&i.refresh()},remove:function(t){var e=this.__zr,i=this.__storage,n=this._children,o=l(n,t);return o<0?this:(n.splice(o,1),t.parent=null,i&&(i.delFromStorage(t),t instanceof S_&&t.delChildrenFromStorage(i)),e&&e.refresh(),this)},removeAll:function(){var t,e,i=this._children,n=this.__storage;for(e=0;e<i.length;e++)t=i[e],n&&(n.delFromStorage(t),t instanceof S_&&t.delChildrenFromStorage(n)),t.parent=null;return i.length=0,this},eachChild:function(t,e){for(var i=this._children,n=0;n<i.length;n++){var o=i[n];t.call(e,o,n)}return this},traverse:function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i];t.call(e,n),\"group\"===n.type&&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToStorage(i),i instanceof S_&&i.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromStorage(i),i instanceof S_&&i.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,i=new Kt(0,0,0,0),n=t||this._children,o=[],a=0;a<n.length;a++){var r=n[a];if(!r.ignore&&!r.invisible){var s=r.getBoundingRect(),l=r.getLocalTransform(o);l?(i.copy(s),i.applyTransform(l),(e=e||i.clone()).union(i)):(e=e||s.clone()).union(s)}}return e||i}},h(S_,x_);var M_=32,I_=7,T_=function(){this._roots=[],this._displayList=[],this._displayListLen=0};T_.prototype={constructor:T_,traverse:function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,n=0,o=e.length;n<o;n++)this._updateAndAddDisplayable(e[n],null,t);i.length=this._displayListLen,_x.canvasSupported&&ae(i,re)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var n=t.clipPath;if(n){e=e?e.slice():[];for(var o=n,a=t;o;)o.parent=a,o.updateTransform(),e.push(o),a=o,o=o.clipPath}if(t.isGroup){for(var r=t._children,s=0;s<r.length;s++){var l=r[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof S_&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(i=0;i<this._roots.length;i++){var e=this._roots[i];e instanceof S_&&e.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var i=0,n=t.length;i<n;i++)this.delRoot(t[i]);else{var o=l(this._roots,t);o>=0&&(this.delFromStorage(t),this._roots.splice(o,1),t instanceof S_&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:re};var A_={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},D_=function(t,e,i){return A_.hasOwnProperty(e)?i*=t.dpr:i},C_=[[\"shadowBlur\",0],[\"shadowOffsetX\",0],[\"shadowOffsetY\",0],[\"shadowColor\",\"#000\"],[\"lineCap\",\"butt\"],[\"lineJoin\",\"miter\"],[\"miterLimit\",10]],L_=function(t,e){this.extendFrom(t,!1),this.host=e};L_.prototype={constructor:L_,host:null,fill:\"#000\",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:\"#000\",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:\"inside\",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:\"transparent\",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:\"transparent\",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,i){for(var n=this,o=i&&i.style,a=!o,r=0;r<C_.length;r++){var s=C_[r],l=s[0];(a||n[l]!==o[l])&&(t[l]=D_(t,l,n[l]||s[1]))}if((a||n.fill!==o.fill)&&(t.fillStyle=n.fill),(a||n.stroke!==o.stroke)&&(t.strokeStyle=n.stroke),(a||n.opacity!==o.opacity)&&(t.globalAlpha=null==n.opacity?1:n.opacity),(a||n.blend!==o.blend)&&(t.globalCompositeOperation=n.blend||\"source-over\"),this.hasStroke()){var h=n.lineWidth;t.lineWidth=h/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&\"none\"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&\"none\"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var i in t)!t.hasOwnProperty(i)||!0!==e&&(!1===e?this.hasOwnProperty(i):null==t[i])||(this[i]=t[i])},set:function(t,e){\"string\"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,i){for(var n=(\"radial\"===e.type?le:se)(t,e,i),o=e.colorStops,a=0;a<o.length;a++)n.addColorStop(o[a].offset,o[a].color);return n}};for(var k_=L_.prototype,P_=0;P_<C_.length;P_++){var O_=C_[P_];O_[0]in k_||(k_[O_[0]]=O_[1])}L_.getGradient=k_.getGradient;var N_=function(t,e){this.image=t,this.repeat=e,this.type=\"pattern\"};N_.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||\"repeat\")};var E_=function(t,e,i){var n;i=i||g_,\"string\"==typeof t?n=ue(t,e,i):w(t)&&(t=(n=t).id),this.id=t,this.dom=n;var o=n.style;o&&(n.onselectstart=he,o[\"-webkit-user-select\"]=\"none\",o[\"user-select\"]=\"none\",o[\"-webkit-touch-callout\"]=\"none\",o[\"-webkit-tap-highlight-color\"]=\"rgba(0,0,0,0)\",o.padding=0,o.margin=0,o[\"border-width\"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i};E_.prototype={constructor:E_,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext(\"2d\"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=ue(\"back-\"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext(\"2d\"),1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var i=this.dpr,n=this.dom,o=n.style,a=this.domBack;o.width=t+\"px\",o.height=e+\"px\",n.width=t*i,n.height=e*i,a&&(a.width=t*i,a.height=e*i,1!=i&&this.ctxBack.scale(i,i))},clear:function(t){var e=this.dom,i=this.ctx,n=e.width,o=e.height,a=this.clearColor,r=this.motionBlur&&!t,s=this.lastFrameAlpha,l=this.dpr;if(r&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation=\"copy\",this.ctxBack.drawImage(e,0,0,n/l,o/l)),i.clearRect(0,0,n,o),a){var h;a.colorStops?(h=a.__canvasGradient||L_.getGradient(i,a,{x:0,y:0,width:n,height:o}),a.__canvasGradient=h):a.image&&(h=N_.prototype.getCanvasPattern.call(a,i)),i.save(),i.fillStyle=h||a,i.fillRect(0,0,n,o),i.restore()}if(r){var u=this.domBack;i.save(),i.globalAlpha=s,i.drawImage(u,0,0,n,o),i.restore()}}};var z_=\"undefined\"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},R_=new o_(50),B_={},V_=0,G_=5e3,W_=/\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g,F_=\"12px sans-serif\",H_={};H_.measureText=function(t,e){var i=s();return i.font=e||F_,i.measureText(t)};var Z_={left:1,right:1,center:1},U_={top:1,bottom:1,middle:1},j_=new Kt,X_=function(){};X_.prototype={constructor:X_,drawRectText:function(t,e){var i=this.style;e=i.textRect||e,this.__dirty&&Oe(i);var n=i.text;if(null!=n&&(n+=\"\"),$e(n,i)){t.save();var o=this.transform;i.transformText?this.setTransform(t):o&&(j_.copy(e),j_.applyTransform(o),e=j_),Ee(this,t,n,i,e),t.restore()}}},Ke.prototype={constructor:Ke,type:\"displayable\",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:\"pointer\",rectHover:!1,progressive:!1,incremental:!1,inplace:!1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var i=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(i[0],i[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate(\"style\",t)},attrKV:function(t,e){\"style\"!==t?x_.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new L_(t,this),this.dirty(!1),this}},h(Ke,x_),u(Ke,X_),Je.prototype={constructor:Je,type:\"image\",brush:function(t,e){var i=this.style,n=i.image;i.bind(t,this,e);var o=this._image=de(n,this._image,this,this.onload);if(o&&pe(o)){var a=i.x||0,r=i.y||0,s=i.width,l=i.height,h=o.width/o.height;if(null==s&&null!=l?s=l*h:null==l&&null!=s?l=s/h:null==s&&null==l&&(s=o.width,l=o.height),this.setTransform(t),i.sWidth&&i.sHeight){var u=i.sx||0,c=i.sy||0;t.drawImage(o,u,c,i.sWidth,i.sHeight,a,r,s,l)}else if(i.sx&&i.sy){var d=s-(u=i.sx),f=l-(c=i.sy);t.drawImage(o,u,c,d,f,a,r,s,l)}else t.drawImage(o,a,r,s,l);null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new Kt(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},h(Je,Ke);var Y_=new Kt(0,0,0,0),q_=new Kt(0,0,0,0),$_=function(t,e,i){this.type=\"canvas\";var n=!t.nodeName||\"CANVAS\"===t.nodeName.toUpperCase();this._opts=i=a({},i||{}),this.dpr=i.devicePixelRatio||g_,this._singleCanvas=n,this.root=t;var o=t.style;o&&(o[\"-webkit-tap-highlight-color\"]=\"transparent\",o[\"-webkit-user-select\"]=o[\"user-select\"]=o[\"-webkit-touch-callout\"]=\"none\",t.innerHTML=\"\"),this.storage=e;var r=this._zlevelList=[],s=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,n){null!=i.width&&(t.width=i.width),null!=i.height&&(t.height=i.height);var l=t.width,h=t.height;this._width=l,this._height=h;var u=new E_(t,this,1);u.__builtin__=!0,u.initContext(),s[314159]=u,r.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var c=this._domRoot=oi(this._width,this._height);t.appendChild(c)}this._hoverlayer=null,this._hoverElements=[]};$_.prototype={constructor:$_,getType:function(){return\"canvas\"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var n=0;n<i.length;n++){var o=i[n],a=this._layers[o];!a.__builtin__&&a.refresh&&a.refresh()}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var i=new t.constructor({style:t.style,shape:t.shape});i.__from=t,t.__hoverMir=i,i.setStyle(e),this._hoverElements.push(i)}},removeHover:function(t){var e=t.__hoverMir,i=this._hoverElements,n=l(i,e);n>=0&&i.splice(n,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,i=0;i<e.length;i++){var n=e[i].__from;n&&(n.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){ae(t,this.storage.displayableSortFunc),i||(i=this._hoverlayer=this.getLayer(1e5));var n={};i.ctx.save();for(var o=0;o<e;){var a=t[o],r=a.__from;r&&r.__zr?(o++,r.invisible||(a.transform=r.transform,a.invTransform=r.invTransform,a.__clipPaths=r.__clipPaths,this._doPaintEl(a,i,!0,n))):(t.splice(o,1),r.__hoverMir=null,e--)}i.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,i){if(this._redrawId===i){e=e||!1,this._updateLayerStatus(t);var n=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!n){var o=this;z_(function(){o._paintList(t,e,i)})}}},_compositeManually:function(){var t=this.getLayer(314159).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer(function(n){n.virtual&&t.drawImage(n.dom,0,0,e,i)})},_doPaintList:function(t,e){for(var i=[],n=0;n<this._zlevelList.length;n++){var o=this._zlevelList[n];(s=this._layers[o]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||e)&&i.push(s)}for(var a=!0,r=0;r<i.length;r++){var s=i[r],l=s.ctx,h={};l.save();var u=e?s.__startIndex:s.__drawIndex,c=!e&&s.incremental&&Date.now,f=c&&Date.now();if(s.__startIndex===s.__endIndex)s.clear();else if(u===s.__startIndex){var p=t[u];p.incremental&&p.notClear&&!e||s.clear()}-1===u&&(console.error(\"For some unknown reason. drawIndex is -1\"),u=s.__startIndex);for(var g=u;g<s.__endIndex;g++){var m=t[g];if(this._doPaintEl(m,s,e,h),m.__dirty=!1,c&&Date.now()-f>15)break}s.__drawIndex=g,s.__drawIndex<s.__endIndex&&(a=!1),h.prevElClipPaths&&l.restore(),l.restore()}return _x.wxa&&d(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),a},_doPaintEl:function(t,e,i,n){var o=e.ctx,a=t.transform;if((e.__dirty||i)&&!t.invisible&&0!==t.style.opacity&&(!a||a[0]||a[3])&&(!t.culling||!ei(t,this._width,this._height))){var r=t.__clipPaths;n.prevElClipPaths&&!ii(r,n.prevElClipPaths)||(n.prevElClipPaths&&(e.ctx.restore(),n.prevElClipPaths=null,n.prevEl=null),r&&(o.save(),ni(r,o),n.prevElClipPaths=r)),t.beforeBrush&&t.beforeBrush(o),t.brush(o,n.prevEl||null),n.prevEl=t,t.afterBrush&&t.afterBrush(o)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var i=this._layers[t];return i||((i=new E_(\"zr_\"+t,this,this.dpr)).zlevel=t,i.__builtin__=!0,this._layerConfig[t]&&n(i,this._layerConfig[t],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},insertLayer:function(t,e){var i=this._layers,n=this._zlevelList,o=n.length,a=null,r=-1,s=this._domRoot;if(i[t])v_(\"ZLevel \"+t+\" has been used already\");else if(ti(e)){if(o>0&&t>n[0]){for(r=0;r<o-1&&!(n[r]<t&&n[r+1]>t);r++);a=i[n[r]]}if(n.splice(r+1,0,t),i[t]=e,!e.virtual)if(a){var l=a.dom;l.nextSibling?s.insertBefore(e.dom,l.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom)}else v_(\"Layer of zlevel \"+t+\" is not valid\")},eachLayer:function(t,e){var i,n,o=this._zlevelList;for(n=0;n<o.length;n++)i=o[n],t.call(e,this._layers[i],i)},eachBuiltinLayer:function(t,e){var i,n,o,a=this._zlevelList;for(o=0;o<a.length;o++)n=a[o],(i=this._layers[n]).__builtin__&&t.call(e,i,n)},eachOtherLayer:function(t,e){var i,n,o,a=this._zlevelList;for(o=0;o<a.length;o++)n=a[o],(i=this._layers[n]).__builtin__||t.call(e,i,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){i&&(i.__endIndex!==t&&(i.__dirty=!0),i.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(o=1;o<t.length;o++)if((r=t[o]).zlevel!==t[o-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}for(var i=null,n=0,o=0;o<t.length;o++){var a,r=t[o],s=r.zlevel;r.incremental?((a=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,n=1):a=this.getLayer(s+(n>0?.01:0),this._needsManuallyCompositing),a.__builtin__||v_(\"ZLevel \"+s+\" has been used by unkown layer \"+a.id),a!==i&&(a.__used=!0,a.__startIndex!==o&&(a.__dirty=!0),a.__startIndex=o,a.incremental?a.__drawIndex=-1:a.__drawIndex=o,e(o),i=a),r.__dirty&&(a.__dirty=!0,a.incremental&&a.__drawIndex<0&&(a.__drawIndex=o))}e(o),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},configLayer:function(t,e){if(e){var i=this._layerConfig;i[t]?n(i[t],e,!0):i[t]=e;for(var o=0;o<this._zlevelList.length;o++){var a=this._zlevelList[o];a!==t&&a!==t+.01||n(this._layers[a],i[t],!0)}}},delLayer:function(t){var e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(l(i,t),1))},resize:function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display=\"none\";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display=\"\",this._width!=t||e!=this._height){i.style.width=t+\"px\",i.style.height=e+\"px\";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);d(this._progressiveLayers,function(i){i.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(314159).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML=\"\",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new E_(\"image\",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clearColor=t.backgroundColor,e.clear(),t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,n=e.dom.height,o=e.ctx;this.eachLayer(function(t){t.__builtin__?o.drawImage(t.dom,0,0,i,n):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var a={},r=this.storage.getDisplayList(!0),s=0;s<r.length;s++){var l=r[s];this._doPaintEl(l,e,!0,a)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=[\"width\",\"height\"][t],n=[\"clientWidth\",\"clientHeight\"][t],o=[\"paddingLeft\",\"paddingTop\"][t],a=[\"paddingRight\",\"paddingBottom\"][t];if(null!=e[i]&&\"auto\"!==e[i])return parseFloat(e[i]);var r=this.root,s=document.defaultView.getComputedStyle(r);return(r[n]||Qe(s[i])||Qe(r.style[i]))-(Qe(s[o])||0)-(Qe(s[a])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var i=document.createElement(\"canvas\"),n=i.getContext(\"2d\"),o=t.getBoundingRect(),a=t.style,r=a.shadowBlur*e,s=a.shadowOffsetX*e,l=a.shadowOffsetY*e,h=a.hasStroke()?a.lineWidth:0,u=Math.max(h/2,-s+r),c=Math.max(h/2,s+r),d=Math.max(h/2,-l+r),f=Math.max(h/2,l+r),p=o.width+u+c,g=o.height+d+f;i.width=p*e,i.height=g*e,n.scale(e,e),n.clearRect(0,0,p,g),n.dpr=e;var m={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[u-o.x,d-o.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(n);var v=new Je({style:{x:0,y:0,image:i}});return null!=m.position&&(v.position=t.position=m.position),null!=m.rotation&&(v.rotation=t.rotation=m.rotation),null!=m.scale&&(v.scale=t.scale=m.scale),v}};var K_=\"undefined\"!=typeof window&&!!window.addEventListener,J_=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Q_=K_?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},tw=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,Hx.call(this)};tw.prototype={constructor:tw,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++)this.addClip(e[i])},removeClip:function(t){var e=l(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i<e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,i=this._clips,n=i.length,o=[],a=[],r=0;r<n;r++){var s=i[r],l=s.step(t,e);l&&(o.push(l),a.push(s))}for(r=0;r<n;)i[r]._needsRemove?(i[r]=i[n-1],i.pop(),n--):r++;n=o.length;for(r=0;r<n;r++)a[r].fire(o[r]);this._time=t,this.onframe(e),this.trigger(\"frame\",e),this.stage.update&&this.stage.update()},_startLoop:function(){function t(){e._running&&(z_(t),!e._paused&&e._update())}var e=this;this._running=!0,z_(t)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(t,e){var i=new f_(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(i),i}},u(tw,Hx);var ew=function(){this._track=[]};ew.prototype={constructor:ew,recognize:function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,i){var n=t.touches;if(n){for(var o={points:[],touches:[],target:e,event:t},a=0,r=n.length;a<r;a++){var s=n[a],l=ri(i,s,{});o.points.push([l.zrX,l.zrY]),o.touches.push(s)}this._track.push(o)}},_recognize:function(t){for(var e in iw)if(iw.hasOwnProperty(e)){var i=iw[e](this._track,t);if(i)return i}}};var iw={pinch:function(t,e){var i=t.length;if(i){var n=(t[i-1]||{}).points,o=(t[i-2]||{}).points||n;if(o&&o.length>1&&n&&n.length>1){var a=di(n)/di(o);!isFinite(a)&&(a=1),e.pinchScale=a;var r=fi(n);return e.pinchX=r[0],e.pinchY=r[1],{type:\"pinch\",target:t[0].target,event:e}}}}},nw=[\"click\",\"dblclick\",\"mousewheel\",\"mouseout\",\"mouseup\",\"mousedown\",\"mousemove\",\"contextmenu\"],ow=[\"touchstart\",\"touchend\",\"touchmove\"],aw={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},rw=f(nw,function(t){var e=t.replace(\"mouse\",\"pointer\");return aw[e]?e:t}),sw={mousemove:function(t){t=li(this.dom,t),this.trigger(\"mousemove\",t)},mouseout:function(t){var e=(t=li(this.dom,t)).toElement||t.relatedTarget;if(e!=this.dom)for(;e&&9!=e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger(\"mouseout\",t)},touchstart:function(t){(t=li(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,gi(this,t,\"start\"),sw.mousemove.call(this,t),sw.mousedown.call(this,t),mi(this)},touchmove:function(t){(t=li(this.dom,t)).zrByTouch=!0,gi(this,t,\"change\"),sw.mousemove.call(this,t),mi(this)},touchend:function(t){(t=li(this.dom,t)).zrByTouch=!0,gi(this,t,\"end\"),sw.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&sw.click.call(this,t),mi(this)},pointerdown:function(t){sw.mousedown.call(this,t)},pointermove:function(t){vi(t)||sw.mousemove.call(this,t)},pointerup:function(t){sw.mouseup.call(this,t)},pointerout:function(t){vi(t)||sw.mouseout.call(this,t)}};d([\"click\",\"mousedown\",\"mouseup\",\"mousewheel\",\"dblclick\",\"contextmenu\"],function(t){sw[t]=function(e){e=li(this.dom,e),this.trigger(t,e)}});var lw=xi.prototype;lw.dispose=function(){for(var t=nw.concat(ow),e=0;e<t.length;e++){var i=t[e];ui(this.dom,pi(i),this._handlers[i])}},lw.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||\"default\")},u(xi,Hx);var hw=!_x.canvasSupported,uw={canvas:$_},cw={},dw=function(t,e,i){i=i||{},this.dom=e,this.id=t;var n=this,o=new T_,a=i.renderer;if(hw){if(!uw.vml)throw new Error(\"You need to require 'zrender/vml/vml' to support IE8\");a=\"vml\"}else a&&uw[a]||(a=\"canvas\");var r=new uw[a](e,o,i,t);this.storage=o,this.painter=r;var s=_x.node||_x.worker?null:new xi(r.getViewportRoot());this.handler=new jx(o,r,s,r.root),this.animation=new tw({stage:{update:m(this.flush,this)}}),this.animation.start(),this._needsRefresh;var l=o.delFromStorage,h=o.addToStorage;o.delFromStorage=function(t){l.call(o,t),t&&t.removeSelfFromZr(n)},o.addToStorage=function(t){h.call(o,t),t.addSelfToZr(n)}};dw.prototype={constructor:dw,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer(t,e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately(),this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(t,e){this.painter.addHover&&(this.painter.addHover(t,e),this.refreshHover())},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,i){this.handler.on(t,e,i)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,bi(this.id)}};var fw=(Object.freeze||Object)({version:\"4.0.1\",init:_i,dispose:function(t){if(t)t.dispose();else{for(var e in cw)cw.hasOwnProperty(e)&&cw[e].dispose();cw={}}return this},getInstance:function(t){return cw[t]},registerPainter:wi}),pw=d,gw=w,mw=y,vw=\"\\0-\",yw=[\"fontStyle\",\"fontWeight\",\"fontSize\",\"fontFamily\",\"rich\",\"tag\",\"color\",\"textBorderColor\",\"textBorderWidth\",\"width\",\"height\",\"lineHeight\",\"align\",\"verticalAlign\",\"baseline\",\"shadowColor\",\"shadowBlur\",\"shadowOffsetX\",\"shadowOffsetY\",\"textShadowColor\",\"textShadowBlur\",\"textShadowOffsetX\",\"textShadowOffsetY\",\"backgroundColor\",\"borderColor\",\"borderWidth\",\"borderRadius\",\"padding\"],xw=0,_w=\".\",ww=\"___EC__COMPONENT__CONTAINER___\",bw=0,Sw=function(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e,i,n){for(var o={},a=0;a<t.length;a++){var r=t[a][1];if(!(i&&l(i,r)>=0||n&&l(n,r)<0)){var s=e.getShallow(r);null!=s&&(o[t[a][0]]=s)}}return o}},Mw=Sw([[\"lineWidth\",\"width\"],[\"stroke\",\"color\"],[\"opacity\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"]]),Iw={getLineStyle:function(t){var e=Mw(this,t),i=this.getLineDash(e.lineWidth);return i&&(e.lineDash=i),e},getLineDash:function(t){null==t&&(t=1);var e=this.get(\"type\"),i=Math.max(t,2),n=4*t;return\"solid\"===e||null==e?null:\"dashed\"===e?[n,n]:[i,i]}},Tw=Sw([[\"fill\",\"color\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"opacity\"],[\"shadowColor\"]]),Aw={getAreaStyle:function(t,e){return Tw(this,t,e)}},Dw=Math.pow,Cw=Math.sqrt,Lw=1e-8,kw=1e-4,Pw=Cw(3),Ow=1/3,Nw=V(),Ew=V(),zw=V(),Rw=Math.min,Bw=Math.max,Vw=Math.sin,Gw=Math.cos,Ww=2*Math.PI,Fw=V(),Hw=V(),Zw=V(),Uw=[],jw=[],Xw={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Yw=[],qw=[],$w=[],Kw=[],Jw=Math.min,Qw=Math.max,tb=Math.cos,eb=Math.sin,ib=Math.sqrt,nb=Math.abs,ob=\"undefined\"!=typeof Float32Array,ab=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};ab.prototype={constructor:ab,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=nb(1/g_/t)||0,this._uy=nb(1/g_/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(Xw.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var i=nb(t-this._xi)>this._ux||nb(e-this._yi)>this._uy||this._len<5;return this.addData(Xw.L,t,e),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,i,n,o,a){return this.addData(Xw.C,t,e,i,n,o,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,i,n,o,a):this._ctx.bezierCurveTo(t,e,i,n,o,a)),this._xi=o,this._yi=a,this},quadraticCurveTo:function(t,e,i,n){return this.addData(Xw.Q,t,e,i,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},arc:function(t,e,i,n,o,a){return this.addData(Xw.A,t,e,i,i,n,o-n,0,a?0:1),this._ctx&&this._ctx.arc(t,e,i,n,o,a),this._xi=tb(o)*i+t,this._yi=eb(o)*i+t,this},arcTo:function(t,e,i,n,o){return this._ctx&&this._ctx.arcTo(t,e,i,n,o),this},rect:function(t,e,i,n){return this._ctx&&this._ctx.rect(t,e,i,n),this.addData(Xw.R,t,e,i,n),this},closePath:function(){this.addData(Xw.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!ob||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,o=0;o<e;o++)i+=t[o].len();ob&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i));for(o=0;o<e;o++)for(var a=t[o].data,r=0;r<a.length;r++)this.data[n++]=a[r];this._len=n},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var i=0;i<arguments.length;i++)e[this._len++]=arguments[i];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var i,n,o=this._dashSum,a=this._dashOffset,r=this._lineDash,s=this._ctx,l=this._xi,h=this._yi,u=t-l,c=e-h,d=ib(u*u+c*c),f=l,p=h,g=r.length;for(u/=d,c/=d,a<0&&(a=o+a),f-=(a%=o)*u,p-=a*c;u>0&&f<=t||u<0&&f>=t||0==u&&(c>0&&p<=e||c<0&&p>=e);)f+=u*(i=r[n=this._dashIdx]),p+=c*i,this._dashIdx=(n+1)%g,u>0&&f<l||u<0&&f>l||c>0&&p<h||c<0&&p>h||s[n%2?\"moveTo\":\"lineTo\"](u>=0?Jw(f,t):Qw(f,t),c>=0?Jw(p,e):Qw(p,e));u=f-t,c=p-e,this._dashOffset=-ib(u*u+c*c)},_dashedBezierTo:function(t,e,i,n,o,a){var r,s,l,h,u,c=this._dashSum,d=this._dashOffset,f=this._lineDash,p=this._ctx,g=this._xi,m=this._yi,v=ji,y=0,x=this._dashIdx,_=f.length,w=0;for(d<0&&(d=c+d),d%=c,r=0;r<1;r+=.1)s=v(g,t,i,o,r+.1)-v(g,t,i,o,r),l=v(m,e,n,a,r+.1)-v(m,e,n,a,r),y+=ib(s*s+l*l);for(;x<_&&!((w+=f[x])>d);x++);for(r=(w-d)/y;r<=1;)h=v(g,t,i,o,r),u=v(m,e,n,a,r),x%2?p.moveTo(h,u):p.lineTo(h,u),r+=f[x]/y,x=(x+1)%_;x%2!=0&&p.lineTo(o,a),s=o-h,l=a-u,this._dashOffset=-ib(s*s+l*l)},_dashedQuadraticTo:function(t,e,i,n){var o=i,a=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,o,a)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,ob&&(this.data=new Float32Array(t)))},getBoundingRect:function(){Yw[0]=Yw[1]=$w[0]=$w[1]=Number.MAX_VALUE,qw[0]=qw[1]=Kw[0]=Kw[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,i=0,n=0,o=0,a=0;a<t.length;){var r=t[a++];switch(1==a&&(n=e=t[a],o=i=t[a+1]),r){case Xw.M:e=n=t[a++],i=o=t[a++],$w[0]=n,$w[1]=o,Kw[0]=n,Kw[1]=o;break;case Xw.L:rn(e,i,t[a],t[a+1],$w,Kw),e=t[a++],i=t[a++];break;case Xw.C:sn(e,i,t[a++],t[a++],t[a++],t[a++],t[a],t[a+1],$w,Kw),e=t[a++],i=t[a++];break;case Xw.Q:ln(e,i,t[a++],t[a++],t[a],t[a+1],$w,Kw),e=t[a++],i=t[a++];break;case Xw.A:var s=t[a++],l=t[a++],h=t[a++],u=t[a++],c=t[a++],d=t[a++]+c,f=(t[a++],1-t[a++]);1==a&&(n=tb(c)*h+s,o=eb(c)*u+l),hn(s,l,h,u,c,d,f,$w,Kw),e=tb(d)*h+s,i=eb(d)*u+l;break;case Xw.R:rn(n=e=t[a++],o=i=t[a++],n+t[a++],o+t[a++],$w,Kw);break;case Xw.Z:e=n,i=o}tt(Yw,Yw,$w),et(qw,qw,Kw)}return 0===a&&(Yw[0]=Yw[1]=qw[0]=qw[1]=0),new Kt(Yw[0],Yw[1],qw[0]-Yw[0],qw[1]-Yw[1])},rebuildPath:function(t){for(var e,i,n,o,a,r,s=this.data,l=this._ux,h=this._uy,u=this._len,c=0;c<u;){var d=s[c++];switch(1==c&&(e=n=s[c],i=o=s[c+1]),d){case Xw.M:e=n=s[c++],i=o=s[c++],t.moveTo(n,o);break;case Xw.L:a=s[c++],r=s[c++],(nb(a-n)>l||nb(r-o)>h||c===u-1)&&(t.lineTo(a,r),n=a,o=r);break;case Xw.C:t.bezierCurveTo(s[c++],s[c++],s[c++],s[c++],s[c++],s[c++]),n=s[c-2],o=s[c-1];break;case Xw.Q:t.quadraticCurveTo(s[c++],s[c++],s[c++],s[c++]),n=s[c-2],o=s[c-1];break;case Xw.A:var f=s[c++],p=s[c++],g=s[c++],m=s[c++],v=s[c++],y=s[c++],x=s[c++],_=s[c++],w=g>m?g:m,b=g>m?1:g/m,S=g>m?m/g:1,M=v+y;Math.abs(g-m)>.001?(t.translate(f,p),t.rotate(x),t.scale(b,S),t.arc(0,0,w,v,M,1-_),t.scale(1/b,1/S),t.rotate(-x),t.translate(-f,-p)):t.arc(f,p,w,v,M,1-_),1==c&&(e=tb(v)*g+f,i=eb(v)*m+p),n=tb(M)*g+f,o=eb(M)*m+p;break;case Xw.R:e=n=s[c],i=o=s[c+1],t.rect(s[c++],s[c++],s[c++],s[c++]);break;case Xw.Z:t.closePath(),n=e,o=i}}}},ab.CMD=Xw;var rb=2*Math.PI,sb=2*Math.PI,lb=ab.CMD,hb=2*Math.PI,ub=1e-4,cb=[-1,-1,-1],db=[-1,-1],fb=N_.prototype.getCanvasPattern,pb=Math.abs,gb=new ab(!0);Mn.prototype={constructor:Mn,type:\"path\",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t,e){var i=this.style,n=this.path||gb,o=i.hasStroke(),a=i.hasFill(),r=i.fill,s=i.stroke,l=a&&!!r.colorStops,h=o&&!!s.colorStops,u=a&&!!r.image,c=o&&!!s.image;if(i.bind(t,this,e),this.setTransform(t),this.__dirty){var d;l&&(d=d||this.getBoundingRect(),this._fillGradient=i.getGradient(t,r,d)),h&&(d=d||this.getBoundingRect(),this._strokeGradient=i.getGradient(t,s,d))}l?t.fillStyle=this._fillGradient:u&&(t.fillStyle=fb.call(r,t)),h?t.strokeStyle=this._strokeGradient:c&&(t.strokeStyle=fb.call(s,t));var f=i.lineDash,p=i.lineDashOffset,g=!!t.setLineDash,m=this.getGlobalScale();n.setScale(m[0],m[1]),this.__dirtyPath||f&&!g&&o?(n.beginPath(t),f&&!g&&(n.setLineDash(f),n.setLineDashOffset(p)),this.buildPath(n,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),a&&n.fill(t),f&&g&&(t.setLineDash(f),t.lineDashOffset=p),o&&n.stroke(t),f&&g&&t.setLineDash([]),null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,i){},createPathProxy:function(){this.path=new ab},getBoundingRect:function(){var t=this._rect,e=this.style,i=!t;if(i){var n=this.path;n||(n=this.path=new ab),this.__dirtyPath&&(n.beginPath(),this.buildPath(n,this.shape,!1)),t=n.getBoundingRect()}if(this._rect=t,e.hasStroke()){var o=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||i){o.copy(t);var a=e.lineWidth,r=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),r>1e-10&&(o.width+=a/r,o.height+=a/r,o.x-=a/r/2,o.y-=a/r/2)}return o}return t},contain:function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),o=this.style;if(t=i[0],e=i[1],n.contain(t,e)){var a=this.path.data;if(o.hasStroke()){var r=o.lineWidth,s=o.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(o.hasFill()||(r=Math.max(r,this.strokeContainThreshold)),Sn(a,r/s,t,e)))return!0}if(o.hasFill())return bn(a,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate(\"shape\",t)},attrKV:function(t,e){\"shape\"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):Ke.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var i=this.shape;if(i){if(w(t))for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);else i[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&pb(t[0]-1)>1e-10&&pb(t[3]-1)>1e-10?Math.sqrt(pb(t[0]*t[3]-t[2]*t[1])):1}},Mn.extend=function(t){var e=function(e){Mn.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var i=t.shape;if(i){this.shape=this.shape||{};var n=this.shape;for(var o in i)!n.hasOwnProperty(o)&&i.hasOwnProperty(o)&&(n[o]=i[o])}t.init&&t.init.call(this,e)};h(e,Mn);for(var i in t)\"style\"!==i&&\"shape\"!==i&&(e.prototype[i]=t[i]);return e},h(Mn,Ke);var mb=ab.CMD,vb=[[],[],[]],yb=Math.sqrt,xb=Math.atan2,_b=function(t,e){var i,n,o,a,r,s,l=t.data,h=mb.M,u=mb.C,c=mb.L,d=mb.R,f=mb.A,p=mb.Q;for(o=0,a=0;o<l.length;){switch(i=l[o++],a=o,n=0,i){case h:case c:n=1;break;case u:n=3;break;case p:n=2;break;case f:var g=e[4],m=e[5],v=yb(e[0]*e[0]+e[1]*e[1]),y=yb(e[2]*e[2]+e[3]*e[3]),x=xb(-e[1]/y,e[0]/v);l[o]*=v,l[o++]+=g,l[o]*=y,l[o++]+=m,l[o++]*=v,l[o++]*=y,l[o++]+=x,l[o++]+=x,a=o+=2;break;case d:s[0]=l[o++],s[1]=l[o++],Q(s,s,e),l[a++]=s[0],l[a++]=s[1],s[0]+=l[o++],s[1]+=l[o++],Q(s,s,e),l[a++]=s[0],l[a++]=s[1]}for(r=0;r<n;r++)(s=vb[r])[0]=l[o++],s[1]=l[o++],Q(s,s,e),l[a++]=s[0],l[a++]=s[1]}},wb=[\"m\",\"M\",\"l\",\"L\",\"v\",\"V\",\"h\",\"H\",\"z\",\"Z\",\"c\",\"C\",\"q\",\"Q\",\"t\",\"T\",\"s\",\"S\",\"a\",\"A\"],bb=Math.sqrt,Sb=Math.sin,Mb=Math.cos,Ib=Math.PI,Tb=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},Ab=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(Tb(t)*Tb(e))},Db=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Ab(t,e))},Cb=function(t){Ke.call(this,t)};Cb.prototype={constructor:Cb,type:\"text\",brush:function(t,e){var i=this.style;this.__dirty&&Oe(i),i.fill=i.stroke=i.shadowBlur=i.shadowColor=i.shadowOffsetX=i.shadowOffsetY=null;var n=i.text;null!=n&&(n+=\"\"),i.bind(t,this,e),$e(n,i)&&(this.setTransform(t),Ee(this,t,n,i),this.restoreTransform(t))},getBoundingRect:function(){var t=this.style;if(this.__dirty&&Oe(t),!this._rect){var e=t.text;null!=e?e+=\"\":e=\"\";var i=me(t.text+\"\",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.rich);if(i.x+=t.x||0,i.y+=t.y||0,je(t.textStroke,t.textStrokeWidth)){var n=t.textStrokeWidth;i.x-=n/2,i.y-=n/2,i.width+=n,i.height+=n}this._rect=i}return this._rect}},h(Cb,Ke);var Lb=Mn.extend({type:\"circle\",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,i){i&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),kb=[[\"shadowBlur\",0],[\"shadowColor\",\"#000\"],[\"shadowOffsetX\",0],[\"shadowOffsetY\",0]],Pb=function(t){return _x.browser.ie&&_x.browser.version>=11?function(){var e,i=this.__clipPaths,n=this.style;if(i)for(var o=0;o<i.length;o++){var a=i[o],r=a&&a.shape,s=a&&a.type;if(r&&(\"sector\"===s&&r.startAngle===r.endAngle||\"rect\"===s&&(!r.width||!r.height))){for(l=0;l<kb.length;l++)kb[l][2]=n[kb[l][0]],n[kb[l][0]]=kb[l][1];e=!0;break}}if(t.apply(this,arguments),e)for(var l=0;l<kb.length;l++)n[kb[l][0]]=kb[l][2]}:t},Ob=Mn.extend({type:\"sector\",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:Pb(Mn.prototype.brush),buildPath:function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r0||0,0),a=Math.max(e.r,0),r=e.startAngle,s=e.endAngle,l=e.clockwise,h=Math.cos(r),u=Math.sin(r);t.moveTo(h*o+i,u*o+n),t.lineTo(h*a+i,u*a+n),t.arc(i,n,a,r,s,!l),t.lineTo(Math.cos(s)*o+i,Math.sin(s)*o+n),0!==o&&t.arc(i,n,o,s,r,l),t.closePath()}}),Nb=Mn.extend({type:\"ring\",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,o,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,o,!0)}}),Eb=function(t,e){for(var i=t.length,n=[],o=0,a=1;a<i;a++)o+=$(t[a-1],t[a]);var r=o/2;r=r<i?i:r;for(a=0;a<r;a++){var s,l,h,u=a/(r-1)*(e?i:i-1),c=Math.floor(u),d=u-c,f=t[c%i];e?(s=t[(c-1+i)%i],l=t[(c+1)%i],h=t[(c+2)%i]):(s=t[0===c?c:c-1],l=t[c>i-2?i-1:c+1],h=t[c>i-3?i-1:c+2]);var p=d*d,g=d*p;n.push([Ln(s[0],f[0],l[0],h[0],d,p,g),Ln(s[1],f[1],l[1],h[1],d,p,g)])}return n},zb=function(t,e,i,n){var o,a,r,s,l=[],h=[],u=[],c=[];if(n){r=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,f=t.length;d<f;d++)tt(r,r,t[d]),et(s,s,t[d]);tt(r,r,n[0]),et(s,s,n[1])}for(var d=0,f=t.length;d<f;d++){var p=t[d];if(i)o=t[d?d-1:f-1],a=t[(d+1)%f];else{if(0===d||d===f-1){l.push(W(t[d]));continue}o=t[d-1],a=t[d+1]}U(h,a,o),Y(h,h,e);var g=$(p,o),m=$(p,a),v=g+m;0!==v&&(g/=v,m/=v),Y(u,h,-g),Y(c,h,m);var y=H([],p,u),x=H([],p,c);n&&(et(y,y,r),tt(y,y,s),et(x,x,r),tt(x,x,s)),l.push(y),l.push(x)}return i&&l.push(l.shift()),l},Rb=Mn.extend({type:\"polygon\",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){kn(t,e,!0)}}),Bb=Mn.extend({type:\"polyline\",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:\"#000\",fill:null},buildPath:function(t,e){kn(t,e,!1)}}),Vb=Mn.extend({type:\"rect\",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,o=e.width,a=e.height;e.r?Pe(t,e):t.rect(i,n,o,a),t.closePath()}}),Gb=Mn.extend({type:\"line\",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:\"#000\",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,o=e.x2,a=e.y2,r=e.percent;0!==r&&(t.moveTo(i,n),r<1&&(o=i*(1-r)+o*r,a=n*(1-r)+a*r),t.lineTo(o,a))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),Wb=[],Fb=Mn.extend({type:\"bezier-curve\",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:\"#000\",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,o=e.x2,a=e.y2,r=e.cpx1,s=e.cpy1,l=e.cpx2,h=e.cpy2,u=e.percent;0!==u&&(t.moveTo(i,n),null==l||null==h?(u<1&&(nn(i,r,o,u,Wb),r=Wb[1],o=Wb[2],nn(n,s,a,u,Wb),s=Wb[1],a=Wb[2]),t.quadraticCurveTo(r,s,o,a)):(u<1&&($i(i,r,l,o,u,Wb),r=Wb[1],l=Wb[2],o=Wb[3],$i(n,s,h,a,u,Wb),s=Wb[1],h=Wb[2],a=Wb[3]),t.bezierCurveTo(r,s,l,h,o,a)))},pointAt:function(t){return Pn(this.shape,t,!1)},tangentAt:function(t){var e=Pn(this.shape,t,!0);return q(e,e)}}),Hb=Mn.extend({type:\"arc\",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:\"#000\",fill:null},buildPath:function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r,0),a=e.startAngle,r=e.endAngle,s=e.clockwise,l=Math.cos(a),h=Math.sin(a);t.moveTo(l*o+i,h*o+n),t.arc(i,n,o,a,r,!s)}}),Zb=Mn.extend({type:\"compound\",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,i=0;i<e.length;i++)t=t||e[i].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var i=e.paths||[],n=0;n<i.length;n++)i[n].buildPath(t,i[n].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Mn.prototype.getBoundingRect.call(this)}}),Ub=function(t){this.colorStops=t||[]};Ub.prototype={constructor:Ub,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var jb=function(t,e,i,n,o,a){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==n?0:n,this.type=\"linear\",this.global=a||!1,Ub.call(this,o)};jb.prototype={constructor:jb},h(jb,Ub);var Xb=function(t,e,i,n,o){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,this.type=\"radial\",this.global=o||!1,Ub.call(this,n)};Xb.prototype={constructor:Xb},h(Xb,Ub),On.prototype.incremental=!0,On.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},On.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},On.prototype.addDisplayables=function(t,e){e=e||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],e)},On.prototype.eachPendingDisplayable=function(t){for(e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(var e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},On.prototype.update=function(){this.updateTransform();for(t=this._cursor;t<this._displayables.length;t++)(e=this._displayables[t]).parent=this,e.update(),e.parent=null;for(var t=0;t<this._temporaryDisplayables.length;t++){var e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},On.prototype.brush=function(t,e){for(i=this._cursor;i<this._displayables.length;i++)(n=this._temporaryDisplayables[i]).beforeBrush&&n.beforeBrush(t),n.brush(t,i===this._cursor?null:this._displayables[i-1]),n.afterBrush&&n.afterBrush(t);this._cursor=i;for(var i=0;i<this._temporaryDisplayables.length;i++){var n=this._temporaryDisplayables[i];n.beforeBrush&&n.beforeBrush(t),n.brush(t,0===i?null:this._temporaryDisplayables[i-1]),n.afterBrush&&n.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var Yb=[];On.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Kt(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var i=this._displayables[e],n=i.getBoundingRect().clone();i.needLocalTransform()&&n.applyTransform(i.getLocalTransform(Yb)),t.union(n)}this._rect=t}return this._rect},On.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(i[0],i[1]))for(var n=0;n<this._displayables.length;n++)if(this._displayables[n].contain(t,e))return!0;return!1},h(On,Ke);var qb=Math.round,$b=Math.max,Kb=Math.min,Jb={},Qb=function(t,e){for(var i=[],n=t.length,o=0;o<n;o++){var a=t[o];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),i.push(a.path)}var r=new Mn(e);return r.createPathProxy(),r.buildPath=function(t){t.appendPath(i);var e=t.getContext();e&&t.rebuildPath(e)},r},tS=(Object.freeze||Object)({extendShape:Nn,extendPath:function(t,e){return Cn(t,e)},makePath:En,makeImage:zn,mergePath:Qb,resizePath:Bn,subPixelOptimizeLine:Vn,subPixelOptimizeRect:Gn,subPixelOptimize:Wn,setHoverStyle:to,setLabelStyle:eo,setTextStyle:io,setText:function(t,e,i){var n,o={isRectText:!0};!1===i?n=!0:o.autoColor=i,no(t,e,o,n),t.host&&t.host.dirty&&t.host.dirty(!1)},getFont:ho,updateProps:co,initProps:fo,getTransform:po,applyTransform:go,transformDirection:mo,groupTransition:vo,clipPointsByRect:yo,clipRectByRect:function(t,e){var i=$b(t.x,e.x),n=Kb(t.x+t.width,e.x+e.width),o=$b(t.y,e.y),a=Kb(t.y+t.height,e.y+e.height);if(n>=i&&a>=o)return{x:i,y:o,width:n-i,height:a-o}},createIcon:xo,Group:S_,Image:Je,Text:Cb,Circle:Lb,Sector:Ob,Ring:Nb,Polygon:Rb,Polyline:Bb,Rect:Vb,Line:Gb,BezierCurve:Fb,Arc:Hb,IncrementalDisplayable:On,CompoundPath:Zb,LinearGradient:jb,RadialGradient:Xb,BoundingRect:Kt}),eS=[\"textStyle\",\"color\"],iS={getTextColor:function(t){var e=this.ecModel;return this.getShallow(\"color\")||(!t&&e?e.get(eS):null)},getFont:function(){return ho({fontStyle:this.getShallow(\"fontStyle\"),fontWeight:this.getShallow(\"fontWeight\"),fontSize:this.getShallow(\"fontSize\"),fontFamily:this.getShallow(\"fontFamily\")},this.ecModel)},getTextRect:function(t){return me(t,this.getFont(),this.getShallow(\"align\"),this.getShallow(\"verticalAlign\")||this.getShallow(\"baseline\"),this.getShallow(\"padding\"),this.getShallow(\"rich\"),this.getShallow(\"truncateText\"))}},nS=Sw([[\"fill\",\"color\"],[\"stroke\",\"borderColor\"],[\"lineWidth\",\"borderWidth\"],[\"opacity\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"],[\"textPosition\"],[\"textAlign\"]]),oS={getItemStyle:function(t,e){var i=nS(this,t,e),n=this.getBorderLineDash();return n&&(i.lineDash=n),i},getBorderLineDash:function(){var t=this.get(\"borderType\");return\"solid\"===t||null==t?null:\"dashed\"===t?[5,5]:[1,1]}},aS=u,rS=Pi();_o.prototype={constructor:_o,init:null,mergeOption:function(t){n(this.option,t,!0)},get:function(t,e){return null==t?this.option:wo(this.option,this.parsePath(t),!e&&bo(this,t))},getShallow:function(t,e){var i=this.option,n=null==i?i:i[t],o=!e&&bo(this,t);return null==n&&o&&(n=o.getShallow(t)),n},getModel:function(t,e){var i,n=null==t?this.option:wo(this.option,t=this.parsePath(t));return e=e||(i=bo(this,t))&&i.getModel(t),new _o(n,e,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(i(this.option))},setReadOnly:function(t){},parsePath:function(t){return\"string\"==typeof t&&(t=t.split(\".\")),t},customizeGetParent:function(t){rS(this).getParent=t},isAnimationEnabled:function(){if(!_x.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},Vi(_o),Gi(_o),aS(_o,Iw),aS(_o,Aw),aS(_o,iS),aS(_o,oS);var sS=0,lS=1e-4,hS=9007199254740991,uS=/^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d\\d)(?::(\\d\\d)(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?$/,cS=(Object.freeze||Object)({linearMap:Io,parsePercent:To,round:Ao,asc:Do,getPrecision:Co,getPrecisionSafe:Lo,getPixelPrecision:ko,getPercentWithPrecision:Po,MAX_SAFE_INTEGER:hS,remRadian:Oo,isRadianAroundZero:No,parseDate:Eo,quantity:zo,nice:Bo,reformIntervals:Vo,isNumeric:Go}),dS=L,fS=[\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\"],pS=function(t,e){return\"{\"+t+(null==e?\"\":e)+\"}\"},gS=function(t){return t<10?\"0\"+t:t},mS=be,vS=me,yS=(Object.freeze||Object)({addCommas:Wo,toCamelCase:Fo,normalizeCssArray:dS,encodeHTML:Ho,formatTpl:Zo,formatTplSimple:Uo,getTooltipMarker:jo,formatTime:Xo,capitalFirst:Yo,truncateText:mS,getTextRect:vS}),xS=d,_S=[\"left\",\"right\",\"top\",\"bottom\",\"width\",\"height\"],wS=[[\"width\",\"left\",\"right\"],[\"height\",\"top\",\"bottom\"]],bS=qo,SS=(v(qo,\"vertical\"),v(qo,\"horizontal\"),{getBoxLayoutParams:function(){return{left:this.get(\"left\"),top:this.get(\"top\"),right:this.get(\"right\"),bottom:this.get(\"bottom\"),width:this.get(\"width\"),height:this.get(\"height\")}}}),MS=Pi(),IS=_o.extend({type:\"component\",id:\"\",name:\"\",mainType:\"\",subType:\"\",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,i,n){_o.call(this,t,e,i,n),this.uid=So(\"ec_cpt_model\")},init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,o=i?ea(t):{};n(t,e.getTheme().get(this.mainType)),n(t,this.getDefaultOption()),i&&ta(t,o,i)},mergeOption:function(t,e){n(this.option,t,!0);var i=this.layoutMode;i&&ta(this.option,t,i)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=MS(this);if(!t.defaultOption){for(var e=[],i=this.constructor;i;){var o=i.prototype.defaultOption;o&&e.push(o),i=i.superClass}for(var a={},r=e.length-1;r>=0;r--)a=n(a,e[r],!0);t.defaultOption=a}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+\"Index\",!0),id:this.get(t+\"Id\",!0)})}});Hi(IS,{registerWhenExtend:!0}),function(t){var e={};t.registerSubTypeDefaulter=function(t,i){t=Ri(t),e[t.main]=i},t.determineSubType=function(i,n){var o=n.type;if(!o){var a=Ri(i).main;t.hasSubTypes(i)&&e[a]&&(o=e[a](n))}return o}}(IS),function(t,e){function i(t){var i={},a=[];return d(t,function(r){var s=n(i,r),h=o(s.originalDeps=e(r),t);s.entryCount=h.length,0===s.entryCount&&a.push(r),d(h,function(t){l(s.predecessor,t)<0&&s.predecessor.push(t);var e=n(i,t);l(e.successor,t)<0&&e.successor.push(r)})}),{graph:i,noEntryList:a}}function n(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function o(t,e){var i=[];return d(t,function(t){l(e,t)>=0&&i.push(t)}),i}t.topologicalTravel=function(t,e,n,o){function a(t){s[t].entryCount--,0===s[t].entryCount&&l.push(t)}if(t.length){var r=i(e),s=r.graph,l=r.noEntryList,h={};for(d(t,function(t){h[t]=!0});l.length;){var u=l.pop(),c=s[u],f=!!h[u];f&&(n.call(o,u,c.originalDeps.slice()),delete h[u]),d(c.successor,f?function(t){h[t]=!0,a(t)}:a)}d(h,function(){throw new Error(\"Circle dependency may exists\")})}}}(IS,function(t){var e=[];return d(IS.getClassesByMainType(t),function(t){e=e.concat(t.prototype.dependencies||[])}),e=f(e,function(t){return Ri(t).main}),\"dataset\"!==t&&l(e,\"dataset\")<=0&&e.unshift(\"dataset\"),e}),u(IS,SS);var TS=\"\";\"undefined\"!=typeof navigator&&(TS=navigator.platform||\"\");var AS={color:[\"#c23531\",\"#2f4554\",\"#61a0a8\",\"#d48265\",\"#91c7ae\",\"#749f83\",\"#ca8622\",\"#bda29a\",\"#6e7074\",\"#546570\",\"#c4ccd3\"],gradientColor:[\"#f6efa6\",\"#d88273\",\"#bf444c\"],textStyle:{fontFamily:TS.match(/^Win/)?\"Microsoft YaHei\":\"sans-serif\",fontSize:12,fontStyle:\"normal\",fontWeight:\"normal\"},blendMode:null,animation:\"auto\",animationDuration:1e3,animationDurationUpdate:300,animationEasing:\"exponentialOut\",animationEasingUpdate:\"cubicOut\",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},DS=Pi(),CS={clearColorPalette:function(){DS(this).colorIdx=0,DS(this).colorNameMap={}},getColorFromPalette:function(t,e,i){var n=DS(e=e||this),o=n.colorIdx||0,a=n.colorNameMap=n.colorNameMap||{};if(a.hasOwnProperty(t))return a[t];var r=Si(this.get(\"color\",!0)),s=this.get(\"colorLayer\",!0),l=null!=i&&s?na(s,i):r;if((l=l||r)&&l.length){var h=l[o];return t&&(a[t]=h),n.colorIdx=(o+1)%l.length,h}}},LS={cartesian2d:function(t,e,i,n){var o=t.getReferringComponents(\"xAxis\")[0],a=t.getReferringComponents(\"yAxis\")[0];e.coordSysDims=[\"x\",\"y\"],i.set(\"x\",o),i.set(\"y\",a),aa(o)&&(n.set(\"x\",o),e.firstCategoryDimIndex=0),aa(a)&&(n.set(\"y\",a),e.firstCategoryDimIndex=1)},singleAxis:function(t,e,i,n){var o=t.getReferringComponents(\"singleAxis\")[0];e.coordSysDims=[\"single\"],i.set(\"single\",o),aa(o)&&(n.set(\"single\",o),e.firstCategoryDimIndex=0)},polar:function(t,e,i,n){var o=t.getReferringComponents(\"polar\")[0],a=o.findAxisModel(\"radiusAxis\"),r=o.findAxisModel(\"angleAxis\");e.coordSysDims=[\"radius\",\"angle\"],i.set(\"radius\",a),i.set(\"angle\",r),aa(a)&&(n.set(\"radius\",a),e.firstCategoryDimIndex=0),aa(r)&&(n.set(\"angle\",r),e.firstCategoryDimIndex=1)},geo:function(t,e,i,n){e.coordSysDims=[\"lng\",\"lat\"]},parallel:function(t,e,i,n){var o=t.ecModel,a=o.getComponent(\"parallel\",t.get(\"parallelIndex\")),r=e.coordSysDims=a.dimensions.slice();d(a.parallelAxisIndex,function(t,a){var s=o.getComponent(\"parallelAxis\",t),l=r[a];i.set(l,s),aa(s)&&null==e.firstCategoryDimIndex&&(n.set(l,s),e.firstCategoryDimIndex=a)})}},kS=\"original\",PS=\"arrayRows\",OS=\"objectRows\",NS=\"keyedColumns\",ES=\"unknown\",zS=\"typedArray\",RS=\"column\",BS=\"row\";ra.seriesDataToSource=function(t){return new ra({data:t,sourceFormat:S(t)?zS:kS,fromDataset:!1})},Gi(ra);var VS=Pi(),GS=\"\\0_ec_inner\",WS=_o.extend({constructor:WS,init:function(t,e,i,n){i=i||{},this.option=null,this._theme=new _o(i),this._optionManager=n},setOption:function(t,e){k(!(GS in t),\"please use chart.getOption()\"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,i=this._optionManager;if(!t||\"recreate\"===t){var n=i.mountOption(\"recreate\"===t);this.option&&\"recreate\"!==t?(this.restoreData(),this.mergeOption(n)):wa.call(this,n),e=!0}if(\"timeline\"!==t&&\"media\"!==t||this.restoreData(),!t||\"recreate\"===t||\"timeline\"===t){var o=i.getTimelineOption(this);o&&(this.mergeOption(o),e=!0)}if(!t||\"recreate\"===t||\"media\"===t){var a=i.getMediaOption(this,this._api);a.length&&d(a,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(t){var e=this.option,o=this._componentsMap,r=[];ha(this),d(t,function(t,o){null!=t&&(IS.hasClass(o)?o&&r.push(o):e[o]=null==e[o]?i(t):n(e[o],t,!0))}),IS.topologicalTravel(r,IS.getAllClassMainTypes(),function(i,n){var r=Si(t[i]),s=Ai(o.get(i),r);Di(s),d(s,function(t,e){var n=t.option;w(n)&&(t.keyInfo.mainType=i,t.keyInfo.subType=Sa(i,n,t.exist))});var l=ba(o,n);e[i]=[],o.set(i,[]),d(s,function(t,n){var r=t.exist,s=t.option;if(k(w(s)||r,\"Empty component definition\"),s){var h=IS.getClass(i,t.keyInfo.subType,!0);if(r&&r instanceof h)r.name=t.keyInfo.name,r.mergeOption(s,this),r.optionUpdated(s,!1);else{var u=a({dependentModels:l,componentIndex:n},t.keyInfo);a(r=new h(s,this,this,u),u),r.init(s,this,this,u),r.optionUpdated(null,!0)}}else r.mergeOption({},this),r.optionUpdated({},!1);o.get(i)[n]=r,e[i][n]=r.option},this),\"series\"===i&&Ma(this,o.get(\"series\"))},this),this._seriesIndicesMap=z(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var t=i(this.option);return d(t,function(e,i){if(IS.hasClass(i)){for(var n=(e=Si(e)).length-1;n>=0;n--)Ci(e[n])&&e.splice(n,1);t[i]=e}}),delete t[GS],t},getTheme:function(){return this._theme},getComponent:function(t,e){var i=this._componentsMap.get(t);if(i)return i[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var i=t.index,n=t.id,o=t.name,a=this._componentsMap.get(e);if(!a||!a.length)return[];var r;if(null!=i)y(i)||(i=[i]),r=g(f(i,function(t){return a[t]}),function(t){return!!t});else if(null!=n){var s=y(n);r=g(a,function(t){return s&&l(n,t.id)>=0||!s&&t.id===n})}else if(null!=o){var h=y(o);r=g(a,function(t){return h&&l(o,t.name)>=0||!h&&t.name===o})}else r=a.slice();return Ia(r,t)},findComponents:function(t){var e=t.query,i=t.mainType,n=function(t){var e=i+\"Index\",n=i+\"Id\",o=i+\"Name\";return!t||null==t[e]&&null==t[n]&&null==t[o]?null:{mainType:i,index:t[e],id:t[n],name:t[o]}}(e);return function(e){return t.filter?g(e,t.filter):e}(Ia(n?this.queryComponents(n):this._componentsMap.get(i),t))},eachComponent:function(t,e,i){var n=this._componentsMap;\"function\"==typeof t?(i=e,e=t,n.each(function(t,n){d(t,function(t,o){e.call(i,n,t,o)})})):_(t)?d(n.get(t),e,i):w(t)&&d(this.findComponents(t),e,i)},getSeriesByName:function(t){return g(this._componentsMap.get(\"series\"),function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.get(\"series\")[t]},getSeriesByType:function(t){return g(this._componentsMap.get(\"series\"),function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.get(\"series\").slice()},getSeriesCount:function(){return this._componentsMap.get(\"series\").length},eachSeries:function(t,e){d(this._seriesIndices,function(i){var n=this._componentsMap.get(\"series\")[i];t.call(e,n,i)},this)},eachRawSeries:function(t,e){d(this._componentsMap.get(\"series\"),t,e)},eachSeriesByType:function(t,e,i){d(this._seriesIndices,function(n){var o=this._componentsMap.get(\"series\")[n];o.subType===t&&e.call(i,o,n)},this)},eachRawSeriesByType:function(t,e,i){return d(this.getSeriesByType(t),e,i)},isSeriesFiltered:function(t){return null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){Ma(this,g(this._componentsMap.get(\"series\"),t,e))},restoreData:function(t){var e=this._componentsMap;Ma(this,e.get(\"series\"));var i=[];e.each(function(t,e){i.push(e)}),IS.topologicalTravel(i,IS.getAllClassMainTypes(),function(i,n){d(e.get(i),function(e){(\"series\"!==i||!xa(e,t))&&e.restoreData()})})}});u(WS,CS);var FS=[\"getDom\",\"getZr\",\"getWidth\",\"getHeight\",\"getDevicePixelRatio\",\"dispatchAction\",\"isDisposed\",\"on\",\"off\",\"getDataURL\",\"getConnectedDataURL\",\"getModel\",\"getOption\",\"getViewOfComponentModel\",\"getViewOfSeriesModel\"],HS={};Aa.prototype={constructor:Aa,create:function(t,e){var i=[];d(HS,function(n,o){var a=n.create(t,e);i=i.concat(a||[])}),this._coordinateSystems=i},update:function(t,e){d(this._coordinateSystems,function(i){i.update&&i.update(t,e)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Aa.register=function(t,e){HS[t]=e},Aa.get=function(t){return HS[t]};var ZS=d,US=i,jS=f,XS=n,YS=/^(min|max)?(.+)$/;Da.prototype={constructor:Da,setOption:function(t,e){t&&d(Si(t.series),function(t){t&&t.data&&S(t.data)&&O(t.data)}),t=US(t,!0);var i=this._optionBackup,n=Ca.call(this,t,e,!i);this._newBaseOption=n.baseOption,i?(Oa(i.baseOption,n.baseOption),n.timelineOptions.length&&(i.timelineOptions=n.timelineOptions),n.mediaList.length&&(i.mediaList=n.mediaList),n.mediaDefault&&(i.mediaDefault=n.mediaDefault)):this._optionBackup=n},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=jS(e.timelineOptions,US),this._mediaList=jS(e.mediaList,US),this._mediaDefault=US(e.mediaDefault),this._currentMediaIndices=[],US(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,i=this._timelineOptions;if(i.length){var n=t.getComponent(\"timeline\");n&&(e=US(i[n.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e=this._api.getWidth(),i=this._api.getHeight(),n=this._mediaList,o=this._mediaDefault,a=[],r=[];if(!n.length&&!o)return r;for(var s=0,l=n.length;s<l;s++)La(n[s].query,e,i)&&a.push(s);return!a.length&&o&&(a=[-1]),a.length&&!Pa(a,this._currentMediaIndices)&&(r=jS(a,function(t){return US(-1===t?o.option:n[t].option)})),this._currentMediaIndices=a,r}};var qS=d,$S=w,KS=[\"areaStyle\",\"lineStyle\",\"nodeStyle\",\"linkStyle\",\"chordStyle\",\"label\",\"labelLine\"],JS=function(t,e){qS(Ga(t.series),function(t){$S(t)&&Va(t)});var i=[\"xAxis\",\"yAxis\",\"radiusAxis\",\"angleAxis\",\"singleAxis\",\"parallelAxis\",\"radar\"];e&&i.push(\"valueAxis\",\"categoryAxis\",\"logAxis\",\"timeAxis\"),qS(i,function(e){qS(Ga(t[e]),function(t){t&&(Ra(t,\"axisLabel\"),Ra(t.axisPointer,\"label\"))})}),qS(Ga(t.parallel),function(t){var e=t&&t.parallelAxisDefault;Ra(e,\"axisLabel\"),Ra(e&&e.axisPointer,\"label\")}),qS(Ga(t.calendar),function(t){Ea(t,\"itemStyle\"),Ra(t,\"dayLabel\"),Ra(t,\"monthLabel\"),Ra(t,\"yearLabel\")}),qS(Ga(t.radar),function(t){Ra(t,\"name\")}),qS(Ga(t.geo),function(t){$S(t)&&(Ba(t),qS(Ga(t.regions),function(t){Ba(t)}))}),qS(Ga(t.timeline),function(t){Ba(t),Ea(t,\"label\"),Ea(t,\"itemStyle\"),Ea(t,\"controlStyle\",!0),Ea(t,\"checkpointStyle\");var e=t.data;y(e)&&d(e,function(t){w(t)&&(Ea(t,\"label\"),Ea(t,\"itemStyle\"))})}),qS(Ga(t.toolbox),function(t){Ea(t,\"iconStyle\"),qS(t.feature,function(t){Ea(t,\"iconStyle\")})}),Ra(Wa(t.axisPointer),\"label\"),Ra(Wa(t.tooltip).axisPointer,\"label\")},QS=[[\"x\",\"left\"],[\"y\",\"top\"],[\"x2\",\"right\"],[\"y2\",\"bottom\"]],tM=[\"grid\",\"geo\",\"parallel\",\"legend\",\"toolbox\",\"title\",\"visualMap\",\"dataZoom\",\"timeline\"],eM=function(t,e){JS(t,e),t.series=Si(t.series),d(t.series,function(t){if(w(t)){var e=t.type;if(\"pie\"!==e&&\"gauge\"!==e||null!=t.clockWise&&(t.clockwise=t.clockWise),\"gauge\"===e){var i=Fa(t,\"pointer.color\");null!=i&&Ha(t,\"itemStyle.normal.color\",i)}Za(t)}}),t.dataRange&&(t.visualMap=t.dataRange),d(tM,function(e){var i=t[e];i&&(y(i)||(i=[i]),d(i,function(t){Za(t)}))})},iM=Ua.prototype;iM.pure=!1,iM.persistent=!0,iM.getSource=function(){return this._source};var nM={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:Ya},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],i=this._data,n=0;n<i.length;n++){var o=i[n];e.push(o?o[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: \"row\".')}},objectRows:{pure:!0,count:ja,getItem:Xa,appendData:Ya},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,e=this._data[t];return e?e.length:0},getItem:function(t){for(var e=[],i=this._source.dimensionsDefine,n=0;n<i.length;n++){var o=this._data[i[n].name];e.push(o?o[t]:null)}return e},appendData:function(t){var e=this._data;d(t,function(t,i){for(var n=e[i]||(e[i]=[]),o=0;o<(t||[]).length;o++)n.push(t[o])})}},original:{count:ja,getItem:Xa,appendData:Ya},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t){t-=this._offset;for(var e=[],i=this._dimSize*t,n=0;n<this._dimSize;n++)e[n]=this._data[i+n];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}},oM={arrayRows:qa,objectRows:function(t,e,i,n){return null!=i?t[n]:t},keyedColumns:qa,original:function(t,e,i,n){var o=Ii(t);return null!=i&&o instanceof Array?o[i]:o},typedArray:qa},aM={arrayRows:$a,objectRows:function(t,e,i,n){return Ka(t[e],this._dimensionInfos[e])},keyedColumns:$a,original:function(t,e,i,n){var o=t&&(null==t.value?t:t.value);return!this._rawData.pure&&Ti(t)&&(this.hasItemOption=!0),Ka(o instanceof Array?o[n]:o,this._dimensionInfos[e])},typedArray:function(t,e,i,n){return t[n]}},rM=/\\{@(.+?)\\}/g,sM={getDataParams:function(t,e){var i=this.getData(e),n=this.getRawValue(t,e),o=i.getRawIndex(t),a=i.getName(t,!0),r=i.getRawDataItem(t),s=i.getItemVisual(t,\"color\");return{componentType:this.mainType,componentSubType:this.subType,seriesType:\"series\"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:a,dataIndex:o,data:r,dataType:e,value:n,color:s,marker:jo(s),$vars:[\"seriesName\",\"name\",\"value\"]}},getFormattedLabel:function(t,e,i,n,o){e=e||\"normal\";var a=this.getData(i),r=a.getItemModel(t),s=this.getDataParams(t,i);null!=n&&s.value instanceof Array&&(s.value=s.value[n]);var l=r.get(\"normal\"===e?[o||\"label\",\"formatter\"]:[e,o||\"label\",\"formatter\"]);return\"function\"==typeof l?(s.status=e,l(s)):\"string\"==typeof l?Zo(l,s).replace(rM,function(e,i){var n=i.length;return\"[\"===i.charAt(0)&&\"]\"===i.charAt(n-1)&&(i=+i.slice(1,n-1)),Ja(a,t,i)}):void 0},getRawValue:function(t,e){return Ja(this.getData(e),t)},formatTooltip:function(){}},lM=er.prototype;lM.perform=function(t){var e=this._upstream,i=t&&t.skip;if(this._dirty&&e){var n=this.context;n.data=n.outputData=e.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var o;this._plan&&!i&&(o=this._plan(this.context)),(this._dirty||\"reset\"===o)&&(this._dirty=!1,ir(this,i));var a=t&&t.step;if(this._dueEnd=e?e._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var r=this._dueIndex,s=Math.min(null!=a?this._dueIndex+a:1/0,this._dueEnd);!i&&r<s&&this._progress({start:r,end:s},this.context),this._dueIndex=s;var l=null!=this._settedOutputEnd?this._settedOutputEnd:s;this._outputDueEnd=l}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},lM.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},lM.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},lM.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},lM.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},lM.getUpstream=function(){return this._upstream},lM.getDownstream=function(){return this._downstream},lM.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var hM=Pi(),uM=IS.extend({type:\"series.__base__\",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:\"itemStyle.color\",layoutMode:null,init:function(t,e,i,n){this.seriesIndex=this.componentIndex,this.dataTask=tr({count:ar,reset:rr}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i),ua(this);var o=this.getInitialData(t,i);lr(o,this),this.dataTask.context.data=o,hM(this).dataBeforeProcessed=o,nr(this)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,o=i?ea(t):{},a=this.subType;IS.hasClass(a)&&(a+=\"Series\"),n(t,e.getTheme().get(this.subType)),n(t,this.getDefaultOption()),Mi(t,\"label\",[\"show\"]),this.fillDataTextStyle(t.data),i&&ta(t,o,i)},mergeOption:function(t,e){t=n(this.option,t,!0),this.fillDataTextStyle(t.data);var i=this.layoutMode;i&&ta(this.option,t,i),ua(this);var o=this.getInitialData(t,e);lr(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,hM(this).dataBeforeProcessed=o,nr(this)},fillDataTextStyle:function(t){if(t)for(var e=[\"show\"],i=0;i<t.length;i++)t[i]&&t[i].label&&Mi(t[i],\"label\",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=ur(this);if(e){var i=e.context.data;return null==t?i:i.getLinkedData(t)}return hM(this).data},setData:function(t){var e=ur(this);if(e){var i=e.context;i.data!==t&&e.isOverallFilter&&e.setOutputEnd(t.count()),i.outputData=t,e!==this.dataTask&&(i.data=t)}hM(this).data=t},getSource:function(){return la(this)},getRawData:function(){return hM(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,i){function n(t){return Ho(Wo(t))}var o=this.getData(),a=o.mapDimension(\"defaultedTooltip\",!0),r=a.length,s=this.getRawValue(t),l=y(s),h=o.getItemVisual(t,\"color\");w(h)&&h.colorStops&&(h=(h.colorStops[0]||{}).color),h=h||\"transparent\";var u=r>1||l&&!r?function(i){function n(t,i){var n=o.getDimensionInfo(i);if(n&&!1!==n.otherDims.tooltip){var a=n.type,l=jo({color:h,type:\"subItem\"}),u=(r?l+Ho(n.displayName||\"-\")+\": \":\"\")+Ho(\"ordinal\"===a?t+\"\":\"time\"===a?e?\"\":Xo(\"yyyy/MM/dd hh:mm:ss\",t):Wo(t));u&&s.push(u)}}var r=p(i,function(t,e,i){var n=o.getDimensionInfo(i);return t|=n&&!1!==n.tooltip&&null!=n.displayName},0),s=[];return a.length?d(a,function(e){n(Ja(o,t,e),e)}):d(i,n),(r?\"<br/>\":\"\")+s.join(r?\"<br/>\":\", \")}(s):n(r?Ja(o,t,a[0]):l?s[0]:s),c=jo(h),f=o.getName(t),g=this.name;return g===vw&&(g=\"\"),g=g?Ho(g)+(e?\": \":\"<br/>\"):\"\",e?c+g+u:g+c+(f?Ho(f)+\": \"+u:u)},isAnimationEnabled:function(){if(_x.node)return!1;var t=this.getShallow(\"animation\");return t&&this.getData().count()>this.getShallow(\"animationThreshold\")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,i){var n=this.ecModel,o=CS.getColorFromPalette.call(this,t,e,i);return o||(o=n.getColorFromPalette(t,e,i)),o},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get(\"progressive\")},getProgressiveThreshold:function(){return this.get(\"progressiveThreshold\")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});u(uM,sM),u(uM,CS);var cM=function(){this.group=new S_,this.uid=So(\"viewComponent\")};cM.prototype={constructor:cM,init:function(t,e){},render:function(t,e,i,n){},dispose:function(){}};var dM=cM.prototype;dM.updateView=dM.updateLayout=dM.updateVisual=function(t,e,i,n){},Vi(cM),Hi(cM,{registerWhenExtend:!0});var fM=function(){var t=Pi();return function(e){var i=t(e),n=e.pipelineContext,o=i.large,a=i.incrementalRender,r=i.large=n.large,s=i.incrementalRender=n.incrementalRender;return(o^r||a^s)&&\"reset\"}},pM=Pi(),gM=fM();cr.prototype={type:\"chart\",init:function(t,e){},render:function(t,e,i,n){},highlight:function(t,e,i,n){fr(t.getData(),n,\"emphasis\")},downplay:function(t,e,i,n){fr(t.getData(),n,\"normal\")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null};var mM=cr.prototype;mM.updateView=mM.updateLayout=mM.updateVisual=function(t,e,i,n){this.render(t,e,i,n)},Vi(cr),Hi(cr,{registerWhenExtend:!0}),cr.markUpdateMethod=function(t,e){pM(t).updateMethod=e};var vM=\"\\0__throttleOriginMethod\",yM=\"\\0__throttleRate\",xM=\"\\0__throttleType\",_M={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var i=t.getData(),n=(t.visualColorAccessPath||\"itemStyle.color\").split(\".\"),o=t.get(n)||t.getColorFromPalette(t.get(\"name\"),null,e.getSeriesCount());if(i.setVisual(\"color\",o),!e.isSeriesFiltered(t)){\"function\"!=typeof o||o instanceof Ub||i.each(function(e){i.setItemVisual(e,\"color\",o(t.getDataParams(e)))});return{dataEach:i.hasItemOption?function(t,e){var i=t.getItemModel(e).get(n,!0);null!=i&&t.setItemVisual(e,\"color\",i)}:null}}}},wM={toolbox:{brush:{title:{rect:\"矩形选择\",polygon:\"圈选\",lineX:\"横向选择\",lineY:\"纵向选择\",keep:\"保持选择\",clear:\"清除选择\"}},dataView:{title:\"数据视图\",lang:[\"数据视图\",\"关闭\",\"刷新\"]},dataZoom:{title:{zoom:\"区域缩放\",back:\"区域缩放还原\"}},magicType:{title:{line:\"切换为折线图\",bar:\"切换为柱状图\",stack:\"切换为堆叠\",tiled:\"切换为平铺\"}},restore:{title:\"还原\"},saveAsImage:{title:\"保存为图片\",lang:[\"右键另存为图片\"]}},series:{typeNames:{pie:\"饼图\",bar:\"柱状图\",line:\"折线图\",scatter:\"散点图\",effectScatter:\"涟漪散点图\",radar:\"雷达图\",tree:\"树图\",treemap:\"矩形树图\",boxplot:\"箱型图\",candlestick:\"K线图\",k:\"K线图\",heatmap:\"热力图\",map:\"地图\",parallel:\"平行坐标图\",lines:\"线图\",graph:\"关系图\",sankey:\"桑基图\",funnel:\"漏斗图\",gauge:\"仪表盘图\",pictorialBar:\"象形柱图\",themeRiver:\"主题河流图\",sunburst:\"旭日图\"}},aria:{general:{withTitle:\"这是一个关于“{title}”的图表。\",withoutTitle:\"这是一个图表，\"},series:{single:{prefix:\"\",withName:\"图表类型是{seriesType}，表示{seriesName}。\",withoutName:\"图表类型是{seriesType}。\"},multiple:{prefix:\"它由{seriesCount}个图表系列组成。\",withName:\"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，\",withoutName:\"第{seriesId}个系列是一个{seriesType}，\",separator:{middle:\"；\",end:\"。\"}}},data:{allData:\"其数据是——\",partialData:\"其中，前{displayCnt}项是——\",withName:\"{name}的数据是{value}\",withoutName:\"{value}\",separator:{middle:\"，\",end:\"\"}}}},bM=function(t,e){function i(t,e){if(\"string\"!=typeof t)return t;var i=t;return d(e,function(t,e){i=i.replace(new RegExp(\"\\\\{\\\\s*\"+e+\"\\\\s*\\\\}\",\"g\"),t)}),i}function n(t){var e=a.get(t);if(null==e){for(var i=t.split(\".\"),n=wM.aria,o=0;o<i.length;++o)n=n[i[o]];return n}return e}function o(t){return wM.series.typeNames[t]||\"自定义图\"}var a=e.getModel(\"aria\");if(a.get(\"show\"))if(a.get(\"description\"))t.setAttribute(\"aria-label\",a.get(\"description\"));else{var r=0;e.eachSeries(function(t,e){++r},this);var s,l=a.get(\"data.maxCount\")||10,h=a.get(\"series.maxCount\")||10,u=Math.min(r,h);if(!(r<1)){var c=function(){var t=e.getModel(\"title\").option;return t&&t.length&&(t=t[0]),t&&t.text}();s=c?i(n(\"general.withTitle\"),{title:c}):n(\"general.withoutTitle\");var f=[];s+=i(n(r>1?\"series.multiple.prefix\":\"series.single.prefix\"),{seriesCount:r}),e.eachSeries(function(t,e){if(e<u){var a,s=t.get(\"name\"),h=\"series.\"+(r>1?\"multiple\":\"single\")+\".\";a=i(a=n(s?h+\"withName\":h+\"withoutName\"),{seriesId:t.seriesIndex,seriesName:t.get(\"name\"),seriesType:o(t.subType)});var c=t.getData();window.data=c,c.count()>l?a+=i(n(\"data.partialData\"),{displayCnt:l}):a+=n(\"data.allData\");for(var d=[],p=0;p<c.count();p++)if(p<l){var g=c.getName(p),m=Ja(c,p);d.push(i(n(g?\"data.withName\":\"data.withoutName\"),{name:g,value:m}))}a+=d.join(n(\"data.separator.middle\"))+n(\"data.separator.end\"),f.push(a)}}),s+=f.join(n(\"series.multiple.separator.middle\"))+n(\"series.multiple.separator.end\"),t.setAttribute(\"aria-label\",s)}}},SM=Math.PI,MM=_r.prototype;MM.getPerformArgs=function(t,e){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),n=i.context;return{step:!e&&i.progressiveEnabled&&(!n||n.incrementalRender)&&t.__idxInPipeline>i.bockIndex?i.step:null}}},MM.getPipeline=function(t){return this._pipelineMap.get(t)},MM.updateStreamModes=function(t,e){var i=this._pipelineMap.get(t.uid),n=t.getData().count(),o=i.progressiveEnabled&&e.incrementalPrepareRender&&n>=i.threshold,a=t.get(\"large\")&&n>=t.get(\"largeThreshold\");t.pipelineContext=i.context={incrementalRender:o,large:a}},MM.restorePipelines=function(t){var e=this,i=e._pipelineMap=z();t.eachSeries(function(t){var n=t.getProgressive(),o=t.uid;i.set(o,{id:o,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:n&&!(t.preventIncremental&&t.preventIncremental()),bockIndex:-1,step:n||700,count:0}),Pr(e,t,t.dataTask)})},MM.prepareStageTasks=function(t,e){var i=this._stageTaskMap,n=this.ecInstance.getModel(),o=this.api;d(t,function(t){var e=i.get(t.uid)||i.set(t.uid,[]);t.reset&&br(this,t,e,n,o),t.overallReset&&Sr(this,t,e,n,o)},this)},MM.prepareView=function(t,e,i,n){var o=t.renderTask,a=o.context;a.model=e,a.ecModel=i,a.api=n,o.__block=!t.incrementalPrepareRender,Pr(this,e,o)},MM.performDataProcessorTasks=function(t,e,i){wr(this,t,e,i,{block:!0})},MM.performVisualTasks=function(t,e,i,n){wr(this,t,e,i,n)},MM.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e|=t.dataTask.perform()}),this.unfinished|=e},MM.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.bockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var IM=MM.updatePayload=function(t,e){\"remain\"!==e&&(t.context.payload=e)};_r.wrapStageHandler=function(t,e){return x(t)&&(t={overallReset:t,seriesType:Or(t)}),t.uid=So(\"stageHandler\"),e&&(t.visualType=e),t};var TM,AM={},DM={};Nr(AM,WS),Nr(DM,Ta),AM.eachSeriesByType=AM.eachRawSeriesByType=function(t){TM=t},AM.eachComponent=function(t){\"series\"===t.mainType&&t.subType&&(TM=t.subType)};var CM=[\"#37A2DA\",\"#32C5E9\",\"#67E0E3\",\"#9FE6B8\",\"#FFDB5C\",\"#ff9f7f\",\"#fb7293\",\"#E062AE\",\"#E690D1\",\"#e7bcf3\",\"#9d96f5\",\"#8378EA\",\"#96BFFF\"],LM={color:CM,colorLayer:[[\"#37A2DA\",\"#ffd85c\",\"#fd7b5f\"],[\"#37A2DA\",\"#67E0E3\",\"#FFDB5C\",\"#ff9f7f\",\"#E062AE\",\"#9d96f5\"],[\"#37A2DA\",\"#32C5E9\",\"#9FE6B8\",\"#FFDB5C\",\"#ff9f7f\",\"#fb7293\",\"#e7bcf3\",\"#8378EA\",\"#96BFFF\"],CM]},kM=[\"#dd6b66\",\"#759aa0\",\"#e69d87\",\"#8dc1a9\",\"#ea7e53\",\"#eedd78\",\"#73a373\",\"#73b9bc\",\"#7289ab\",\"#91ca8c\",\"#f49f42\"],PM={color:kM,backgroundColor:\"#333\",tooltip:{axisPointer:{lineStyle:{color:\"#eee\"},crossStyle:{color:\"#eee\"}}},legend:{textStyle:{color:\"#eee\"}},textStyle:{color:\"#eee\"},title:{textStyle:{color:\"#eee\"}},toolbox:{iconStyle:{normal:{borderColor:\"#eee\"}}},dataZoom:{textStyle:{color:\"#eee\"}},visualMap:{textStyle:{color:\"#eee\"}},timeline:{lineStyle:{color:\"#eee\"},itemStyle:{normal:{color:kM[1]}},label:{normal:{textStyle:{color:\"#eee\"}}},controlStyle:{normal:{color:\"#eee\",borderColor:\"#eee\"}}},timeAxis:{axisLine:{lineStyle:{color:\"#eee\"}},axisTick:{lineStyle:{color:\"#eee\"}},axisLabel:{textStyle:{color:\"#eee\"}},splitLine:{lineStyle:{type:\"dashed\",color:\"#aaa\"}},splitArea:{areaStyle:{color:\"#eee\"}}},logAxis:{axisLine:{lineStyle:{color:\"#eee\"}},axisTick:{lineStyle:{color:\"#eee\"}},axisLabel:{textStyle:{color:\"#eee\"}},splitLine:{lineStyle:{type:\"dashed\",color:\"#aaa\"}},splitArea:{areaStyle:{color:\"#eee\"}}},valueAxis:{axisLine:{lineStyle:{color:\"#eee\"}},axisTick:{lineStyle:{color:\"#eee\"}},axisLabel:{textStyle:{color:\"#eee\"}},splitLine:{lineStyle:{type:\"dashed\",color:\"#aaa\"}},splitArea:{areaStyle:{color:\"#eee\"}}},categoryAxis:{axisLine:{lineStyle:{color:\"#eee\"}},axisTick:{lineStyle:{color:\"#eee\"}},axisLabel:{textStyle:{color:\"#eee\"}},splitLine:{lineStyle:{type:\"dashed\",color:\"#aaa\"}},splitArea:{areaStyle:{color:\"#eee\"}}},line:{symbol:\"circle\"},graph:{color:kM},gauge:{title:{textStyle:{color:\"#eee\"}}},candlestick:{itemStyle:{normal:{color:\"#FD1050\",color0:\"#0CF49B\",borderColor:\"#FD1050\",borderColor0:\"#0CF49B\"}}}};PM.categoryAxis.splitLine.show=!1;var OM=k,NM=d,EM=x,zM=w,RM=IS.parseClassType,BM={zrender:\"4.0.1\"},VM=1e3,GM=1e3,WM=3e3,FM={PROCESSOR:{FILTER:VM,STATISTIC:5e3},VISUAL:{LAYOUT:GM,GLOBAL:2e3,CHART:WM,COMPONENT:4e3,BRUSH:5e3}},HM=\"__flagInMainProcess\",ZM=\"__optionUpdated\",UM=/^[a-zA-Z0-9_]+$/;zr.prototype.on=Er(\"on\"),zr.prototype.off=Er(\"off\"),zr.prototype.one=Er(\"one\"),u(zr,Hx);var jM=Rr.prototype;jM._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[ZM]){var e=this[ZM].silent;this[HM]=!0,Vr(this),XM.update.call(this),this[HM]=!1,this[ZM]=!1,Zr.call(this,e),Ur.call(this,e)}else if(t.unfinished){var i=1,n=this._model;this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(n),t.performDataProcessorTasks(KM,n),Fr(this,n),t.performVisualTasks(tI,n),Kr(this,this._model,0,\"remain\"),i-=+new Date-o}while(i>0&&t.unfinished);t.unfinished||(this._zr&&this._zr.flush(),this.trigger(\"finished\"))}}},jM.getDom=function(){return this._dom},jM.getZr=function(){return this._zr},jM.setOption=function(t,e,i){var n;if(zM(e)&&(i=e.lazyUpdate,n=e.silent,e=e.notMerge),this[HM]=!0,!this._model||e){var o=new Da(this._api),a=this._theme,r=this._model=new WS(null,null,a,o);r.scheduler=this._scheduler,r.init(null,null,a,o)}this._model.setOption(t,JM),i?(this[ZM]={silent:n},this[HM]=!1):(Vr(this),XM.update.call(this),this._zr.flush(),this[ZM]=!1,this[HM]=!1,Zr.call(this,n),Ur.call(this,n))},jM.setTheme=function(){console.log(\"ECharts#setTheme() is DEPRECATED in ECharts 3.0\")},jM.getModel=function(){return this._model},jM.getOption=function(){return this._model&&this._model.getOption()},jM.getWidth=function(){return this._zr.getWidth()},jM.getHeight=function(){return this._zr.getHeight()},jM.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},jM.getRenderedCanvas=function(t){if(_x.canvasSupported){(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get(\"backgroundColor\");var e=this._zr;return d(e.storage.getDisplayList(),function(t){t.stopAnimation(!0)}),e.painter.getRenderedCanvas(t)}},jM.getSvgDataUrl=function(){if(_x.svgSupported){var t=this._zr;return d(t.storage.getDisplayList(),function(t){t.stopAnimation(!0)}),t.painter.pathToSvg()}},jM.getDataURL=function(t){var e=(t=t||{}).excludeComponents,i=this._model,n=[],o=this;NM(e,function(t){i.eachComponent({mainType:t},function(t){var e=o._componentsMap[t.__viewId];e.group.ignore||(n.push(e),e.group.ignore=!0)})});var a=\"svg\"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL(\"image/\"+(t&&t.type||\"png\"));return NM(n,function(t){t.group.ignore=!1}),a},jM.getConnectedDataURL=function(t){if(_x.canvasSupported){var e=this.group,n=Math.min,o=Math.max;if(oI[e]){var a=1/0,r=1/0,s=-1/0,l=-1/0,h=[],u=t&&t.pixelRatio||1;d(nI,function(u,c){if(u.group===e){var d=u.getRenderedCanvas(i(t)),f=u.getDom().getBoundingClientRect();a=n(f.left,a),r=n(f.top,r),s=o(f.right,s),l=o(f.bottom,l),h.push({dom:d,left:f.left,top:f.top})}});var c=(s*=u)-(a*=u),f=(l*=u)-(r*=u),p=Px();p.width=c,p.height=f;var g=_i(p);return NM(h,function(t){var e=new Je({style:{x:t.left*u-a,y:t.top*u-r,image:t.dom}});g.add(e)}),g.refreshImmediately(),p.toDataURL(\"image/\"+(t&&t.type||\"png\"))}return this.getDataURL(t)}},jM.convertToPixel=v(Br,\"convertToPixel\"),jM.convertFromPixel=v(Br,\"convertFromPixel\"),jM.containPixel=function(t,e){var i;return t=Oi(this._model,t),d(t,function(t,n){n.indexOf(\"Models\")>=0&&d(t,function(t){var o=t.coordinateSystem;if(o&&o.containPoint)i|=!!o.containPoint(e);else if(\"seriesModels\"===n){var a=this._chartsMap[t.__viewId];a&&a.containPoint&&(i|=a.containPoint(e,t))}},this)},this),!!i},jM.getVisual=function(t,e){var i=(t=Oi(this._model,t,{defaultMainType:\"series\"})).seriesModel.getData(),n=t.hasOwnProperty(\"dataIndexInside\")?t.dataIndexInside:t.hasOwnProperty(\"dataIndex\")?i.indexOfRawIndex(t.dataIndex):null;return null!=n?i.getItemVisual(n,e):i.getVisual(e)},jM.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},jM.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var XM={prepareAndUpdate:function(t){Vr(this),XM.update.call(this,t)},update:function(t){var e=this._model,i=this._api,n=this._zr,o=this._coordSysMgr,a=this._scheduler;if(e){e.restoreData(t),a.performSeriesTasks(e),o.create(e,i),a.performDataProcessorTasks(KM,e,t),Fr(this,e),Xr(e),o.update(e,i),Yr(e),a.performVisualTasks(tI,e,t),qr(this,e,i,t);var r=e.get(\"backgroundColor\")||\"transparent\",s=n.painter;if(s.isSingleCanvas&&s.isSingleCanvas())n.configLayer(0,{clearColor:r});else{if(!_x.canvasSupported){var l=Dt(r);r=Rt(l,\"rgb\"),0===l[3]&&(r=\"transparent\")}r.colorStops||r.image?(n.configLayer(0,{clearColor:r}),this.__hasGradientOrPatternBg=!0,this._dom.style.background=\"transparent\"):(this.__hasGradientOrPatternBg&&n.configLayer(0,{clearColor:null}),this.__hasGradientOrPatternBg=!1,this._dom.style.background=r)}Jr(e,i)}},updateTransform:function(t){var e=this._model,i=this,n=this._api;if(e){var o=[];e.eachComponent(function(a,r){var s=i.getViewOfComponentModel(r);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(r,e,n,t);l&&l.update&&o.push(s)}else o.push(s)});var a=z();e.eachSeries(function(o){var r=i._chartsMap[o.__viewId];if(r.updateTransform){var s=r.updateTransform(o,e,n,t);s&&s.update&&a.set(o.uid,1)}else a.set(o.uid,1)}),Yr(e),this._scheduler.performVisualTasks(tI,e,t,{setDirty:!0,dirtyMap:a}),Kr(i,e,0,t,a),Jr(e,this._api)}},updateView:function(t){var e=this._model;e&&(cr.markUpdateMethod(t,\"updateView\"),Yr(e),this._scheduler.performVisualTasks(tI,e,t,{setDirty:!0}),qr(this,this._model,this._api,t),Jr(e,this._api))},updateVisual:function(t){XM.update.call(this,t)},updateLayout:function(t){XM.update.call(this,t)}};jM.resize=function(t){this._zr.resize(t);var e=this._model;this._loadingFX&&this._loadingFX.resize(),e&&Wr(this,e.resetOption(\"media\"),t&&t.silent)},jM.showLoading=function(t,e){if(zM(t)&&(e=t,t=\"\"),t=t||\"default\",this.hideLoading(),iI[t]){var i=iI[t](this._api,e),n=this._zr;this._loadingFX=i,n.add(i)}},jM.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},jM.makeActionFromEvent=function(t){var e=a({},t);return e.type=$M[t.type],e},jM.dispatchAction=function(t,e){zM(e)||(e={silent:!!e}),qM[t.type]&&this._model&&(this[HM]?this._pendingActions.push(t):(Hr.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&_x.browser.weChat&&this._throttledZrFlush(),Zr.call(this,e.silent),Ur.call(this,e.silent)))},jM.appendData=function(t){var e=t.seriesIndex;this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0},jM.on=Er(\"on\"),jM.off=Er(\"off\"),jM.one=Er(\"one\");var YM=[\"click\",\"dblclick\",\"mouseover\",\"mouseout\",\"mousemove\",\"mousedown\",\"mouseup\",\"globalout\",\"contextmenu\"];jM._initEvents=function(){NM(YM,function(t){this._zr.on(t,function(e){var i,n=this.getModel(),o=e.target;if(\"globalout\"===t)i={};else if(o&&null!=o.dataIndex){var r=o.dataModel||n.getSeriesByIndex(o.seriesIndex);i=r&&r.getDataParams(o.dataIndex,o.dataType)||{}}else o&&o.eventData&&(i=a({},o.eventData));i&&(i.event=e,i.type=t,this.trigger(t,i))},this)},this),NM($M,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},jM.isDisposed=function(){return this._disposed},jM.clear=function(){this.setOption({series:[]},!0)},jM.dispose=function(){if(!this._disposed){this._disposed=!0,Ei(this.getDom(),sI,\"\");var t=this._api,e=this._model;NM(this._componentsViews,function(i){i.dispose(e,t)}),NM(this._chartsViews,function(i){i.dispose(e,t)}),this._zr.dispose(),delete nI[this.id]}},u(Rr,Hx);var qM={},$M={},KM=[],JM=[],QM=[],tI=[],eI={},iI={},nI={},oI={},aI=new Date-0,rI=new Date-0,sI=\"_echarts_instance_\",lI={},hI=os;ds(2e3,_M),ss(eM),ps(\"default\",function(t,e){r(e=e||{},{text:\"loading\",color:\"#c23531\",textColor:\"#000\",maskColor:\"rgba(255, 255, 255, 0.8)\",zlevel:0});var i=new Vb({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),n=new Hb({shape:{startAngle:-SM/2,endAngle:-SM/2+.1,r:10},style:{stroke:e.color,lineCap:\"round\",lineWidth:5},zlevel:e.zlevel,z:10001}),o=new Vb({style:{fill:\"none\",text:e.text,textPosition:\"right\",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});n.animateShape(!0).when(1e3,{endAngle:3*SM/2}).start(\"circularInOut\"),n.animateShape(!0).when(1e3,{startAngle:3*SM/2}).delay(300).start(\"circularInOut\");var a=new S_;return a.add(n),a.add(o),a.add(i),a.resize=function(){var e=t.getWidth()/2,a=t.getHeight()/2;n.setShape({cx:e,cy:a});var r=n.shape.r;o.setShape({x:e-r,y:a-r,width:2*r,height:2*r}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},a.resize(),a}),hs({type:\"highlight\",event:\"highlight\",update:\"highlight\"},B),hs({type:\"downplay\",event:\"downplay\",update:\"downplay\"},B),rs(\"light\",LM),rs(\"dark\",PM);var uI={};ws.prototype={constructor:ws,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,i={},n=[],o=[];for(bs(t,{},n,\"_oldKeyGetter\",this),bs(e,i,o,\"_newKeyGetter\",this),a=0;a<t.length;a++)null!=(s=i[r=n[a]])?((h=s.length)?(1===h&&(i[r]=null),s=s.unshift()):i[r]=null,this._update&&this._update(s,a)):this._remove&&this._remove(a);for(var a=0;a<o.length;a++){var r=o[a];if(i.hasOwnProperty(r)){var s=i[r];if(null==s)continue;if(s.length)for(var l=0,h=s.length;l<h;l++)this._add&&this._add(s[l]);else this._add&&this._add(s)}}}};var cI=z([\"tooltip\",\"label\",\"itemName\",\"itemId\",\"seriesName\"]),dI=w,fI=\"undefined\",pI=typeof window===fI?global:window,gI=\"e\\0\\0\",mI={float:typeof pI.Float64Array===fI?Array:pI.Float64Array,int:typeof pI.Int32Array===fI?Array:pI.Int32Array,ordinal:Array,number:Array,time:Array},vI=[\"stackedOn\",\"hasItemOption\",\"_nameList\",\"_idList\",\"_rawData\",\"_rawExtent\",\"_chunkSize\",\"_chunkCount\",\"_dimValueGetter\",\"_count\",\"_rawCount\",\"_nameDimIdx\",\"_idDimIdx\"],yI=function(t,e){t=t||[\"x\",\"y\"];for(var i={},n=[],o=0;o<t.length;o++){var a,r={};\"string\"==typeof t[o]?r={name:a=t[o],coordDim:a,coordDimIndex:0,stackable:!1,type:\"float\"}:(a=(r=t[o]).name,r.type=r.type||\"float\",r.coordDim||(r.coordDim=a,r.coordDimIndex=0)),r.otherDims=r.otherDims||{},n.push(a),i[a]=r,r.index=o}this.dimensions=n,this._dimensionInfos=i,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=Ss(this)},xI=yI.prototype;xI.type=\"list\",xI.hasItemOption=!0,xI.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},xI.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},xI.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},xI.mapDimension=function(t,e){var i=this._dimensionsSummary.encode[t];return!0===e?i&&i.slice()||[]:i?i[e||0]:null},xI.initData=function(t,e,i){(ra.isInstance(t)||c(t))&&(t=new Ua(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},i||(this.hasItemOption=!1),this.defaultDimValueGetter=aM[this._rawData.getSource().sourceFormat],this._dimValueGetter=i=i||this.defaultDimValueGetter,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},xI.getProvider=function(){return this._rawData},xI.appendData=function(t){var e=this._rawData,i=this.count();e.appendData(t);var n=e.count();e.persistent||(n+=i),this._initDataFromProvider(i,n)},xI._initDataFromProvider=function(t,e){if(!(t>=e)){for(var i,n=this._chunkSize,o=this._rawData,a=this._storage,r=this.dimensions,s=this._dimensionInfos,l=this._nameList,h=this._idList,u=this._rawExtent,c=this._nameRepeatCount={},d=this._chunkCount,f=d-1,p=0;p<r.length;p++){u[I=r[p]]||(u[I]=[1/0,-1/0]);var g=s[I];0===g.otherDims.itemName&&(i=this._nameDimIdx=p),0===g.otherDims.itemId&&(this._idDimIdx=p);var m=mI[g.type];a[I]||(a[I]=[]);var v=a[I][f];if(v&&v.length<n){for(var y=new m(Math.min(e-f*n,n)),x=0;x<v.length;x++)y[x]=v[x];a[I][f]=y}for(M=d*n;M<e;M+=n)a[I].push(new m(Math.min(e-M,n)));this._chunkCount=a[I].length}for(var _=t;_<e;_++){for(var w=o.getItem(_),b=Math.floor(_/n),S=_%n,M=0;M<r.length;M++){var I=r[M],T=a[I][b],A=this._dimValueGetter(w,I,_,M);T[S]=A,A<u[I][0]&&(u[I][0]=A),A>u[I][1]&&(u[I][1]=A)}if(!o.pure){var D=l[_];w&&!D&&(null!=i?D=this._getNameFromStore(_):null!=w.name&&(l[_]=D=w.name));var C=null==w?null:w.id;null==C&&null!=D&&(c[D]=c[D]||0,C=D,c[D]>0&&(C+=\"__ec__\"+c[D]),c[D]++),null!=C&&(h[_]=C)}}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=e,this._extent={}}},xI._getNameFromStore=function(t){var e=this._nameDimIdx;if(null!=e){var i=this._chunkSize,n=Math.floor(t/i),o=t%i,a=this.dimensions[e],r=this._dimensionInfos[a].ordinalMeta;if(r)return r.categories[t];var s=this._storage[a][n];return s&&s[o]}},xI._getIdFromStore=function(t){var e=this._idDimIdx;if(null!=e){var i=this._chunkSize,n=Math.floor(t/i),o=t%i,a=this.dimensions[e],r=this._dimensionInfos[a].ordinalMeta;if(r)return r.categories[t];var s=this._storage[a][n];return s&&s[o]}},xI.count=function(){return this._count},xI.getIndices=function(){if(this._indices)return new(t=this._indices.constructor)(this._indices.buffer,0,this._count);for(var t=Ts(this),e=new t(this.count()),i=0;i<e.length;i++)e[i]=i;return e},xI.get=function(t,e,i){if(!(e>=0&&e<this._count))return NaN;var n=this._storage;if(!n[t])return NaN;e=this.getRawIndex(e);var o=Math.floor(e/this._chunkSize),a=e%this._chunkSize,r=n[t][o][a];if(i){var s=this._dimensionInfos[t];if(s&&s.stackable)for(var l=this.stackedOn;l;){var h=l.get(t,e);(r>=0&&h>0||r<=0&&h<0)&&(r+=h),l=l.stackedOn}}return r},xI._getFast=function(t,e){var i=Math.floor(e/this._chunkSize),n=e%this._chunkSize;return this._storage[t][i][n]},xI.getValues=function(t,e,i){var n=[];y(t)||(i=e,e=t,t=this.dimensions);for(var o=0,a=t.length;o<a;o++)n.push(this.get(t[o],e,i));return n},xI.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,i=this._dimensionInfos,n=0,o=e.length;n<o;n++)if(\"ordinal\"!==i[e[n]].type&&isNaN(this.get(e[n],t)))return!1;return!0},xI.getDataExtent=function(t,e){t=this.getDimension(t);var i=this._storage[t],n=[1/0,-1/0];if(e=(e||!1)&&this.isStacked(t),!i)return n;var o,a=this.count(),r=[t,!!e].join(\"_\");if(!this._indices&&!e)return this._rawExtent[t].slice();if(o=this._extent[r])return o.slice();for(var s=(o=n)[0],l=o[1],h=0;h<a;h++){var u=e?this.get(t,h,!0):this._getFast(t,this.getRawIndex(h));u<s&&(s=u),u>l&&(l=u)}return o=[s,l],this._extent[r]=o,o},xI.getApproximateExtent=function(t,e){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t,e)},xI.setApproximateExtent=function(t,e,i){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},xI.isStacked=function(t){var e=this._dimensionInfos[t];return e&&e.stackable&&this.stackedOn},xI.getSum=function(t,e){var i=0;if(this._storage[t])for(var n=0,o=this.count();n<o;n++){var a=this.get(t,n,e);isNaN(a)||(i+=a)}return i},xI.indexOf=function(t,e){var i=this._storage[t],n=this._chunkSize;if(i)for(var o=0,a=this.count();o<a;o++){var r=o%n;if(i[Math.floor(o/n)][r]===e)return o}return-1},xI.indexOfName=function(t){for(var e=0,i=this.count();e<i;e++)if(this.getName(e)===t)return e;return-1},xI.indexOfRawIndex=function(t){if(!this._indices)return t;if(t>=this._rawCount||t<0)return-1;var e=this._indices,i=e[t];if(null!=i&&i<this._count&&i===t)return t;for(var n=0,o=this._count-1;n<=o;){var a=(n+o)/2|0;if(e[a]<t)n=a+1;else{if(!(e[a]>t))return a;o=a-1}}return-1},xI.indicesOfNearest=function(t,e,i,n){var o=[];if(!this._storage[t])return o;null==n&&(n=1/0);for(var a=Number.MAX_VALUE,r=-1,s=0,l=this.count();s<l;s++){var h=e-this.get(t,s,i),u=Math.abs(h);h<=n&&u<=a&&((u<a||h>=0&&r<0)&&(a=u,r=h,o.length=0),o.push(s))}return o},xI.getRawIndex=Cs,xI.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],i=0;i<this.dimensions.length;i++){var n=this.dimensions[i];e.push(this.get(n,t))}return e},xI.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||this._getNameFromStore(e)||\"\"},xI.getId=function(t){return ks(this,this.getRawIndex(t))},xI.each=function(t,e,i,n){if(this._count){\"function\"==typeof t&&(n=i,i=e,e=t,t=[]);var o=(t=f(Ps(t),this.getDimension,this)).length;n=n||this;for(var a=0;a<this.count();a++)switch(o){case 0:e.call(n,a);break;case 1:e.call(n,this.get(t[0],a,i),a);break;case 2:e.call(n,this.get(t[0],a,i),this.get(t[1],a,i),a);break;default:for(var r=0,s=[];r<o;r++)s[r]=this.get(t[r],a,i);s[r]=a,e.apply(n,s)}}},xI.filterSelf=function(t,e,i,n){if(this._count){\"function\"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||!1,n=n||this,t=f(Ps(t),this.getDimension,this);for(var o=this.count(),a=new(Ts(this))(o),r=[],s=t.length,l=0,h=t[0],u=0;u<o;u++){var c,d=this.getRawIndex(u);if(0===s)c=e.call(n,u);else if(1===s){var p=i?this.get(h,u,!0):this._getFast(h,d);c=e.call(n,p,u)}else{for(var g=0;g<s;g++)r[g]=i?this.get(t[g],u,!0):this._getFast(h,d);r[g]=u,c=e.apply(n,r)}c&&(a[l++]=d)}return l<o&&(this._indices=a),this._count=l,this._extent={},this.getRawIndex=this._indices?Ls:Cs,this}},xI.selectRange=function(t,e){if(this._count){e=e||!1;var i=[];for(var n in t)t.hasOwnProperty(n)&&i.push(n);var o=i.length;if(o){var a=this.count(),r=new(Ts(this))(a),s=0,l=i[0],h=t[l][0],u=t[l][1],c=!1;if(!this._indices&&!e){var d=0;if(1===o){for(var f=this._storage[i[0]],p=0;p<this._chunkCount;p++)for(var g=f[p],m=Math.min(this._count-p*this._chunkSize,this._chunkSize),v=0;v<m;v++)(b=g[v])>=h&&b<=u&&(r[s++]=d),d++;c=!0}else if(2===o){for(var f=this._storage[l],y=this._storage[i[1]],x=t[i[1]][0],_=t[i[1]][1],p=0;p<this._chunkCount;p++)for(var g=f[p],w=y[p],m=Math.min(this._count-p*this._chunkSize,this._chunkSize),v=0;v<m;v++){var b=g[v],S=w[v];b>=h&&b<=u&&S>=x&&S<=_&&(r[s++]=d),d++}c=!0}}if(!c)if(1===o){e=e||this.isStacked(l);for(v=0;v<a;v++){I=this.getRawIndex(v);(b=e?this.get(l,v,!0):this._getFast(l,I))>=h&&b<=u&&(r[s++]=I)}}else for(v=0;v<a;v++){for(var M=!0,I=this.getRawIndex(v),p=0;p<o;p++){var T=i[p];((b=e?this.get(T,v,!0):this._getFast(n,I))<t[T][0]||b>t[T][1])&&(M=!1)}M&&(r[s++]=this.getRawIndex(v))}return s<a&&(this._indices=r),this._count=s,this._extent={},this.getRawIndex=this._indices?Ls:Cs,this}}},xI.mapArray=function(t,e,i,n){\"function\"==typeof t&&(n=i,i=e,e=t,t=[]);var o=[];return this.each(t,function(){o.push(e&&e.apply(this,arguments))},i,n),o},xI.map=function(t,e,i,n){var o=Os(this,t=f(Ps(t),this.getDimension,this));o._indices=this._indices,o.getRawIndex=o._indices?Ls:Cs;for(var a=o._storage,r=[],s=this._chunkSize,l=t.length,h=this.count(),u=[],c=0;c<h;c++){for(var d=0;d<l;d++)u[d]=this.get(t[d],c,i);u[l]=c;var p=e&&e.apply(n,u);if(null!=p){\"object\"!=typeof p&&(r[0]=p,p=r);for(var g=this.getRawIndex(c),m=Math.floor(g/s),v=g%s,y=0;y<p.length;y++){var x=a[t[y]];x&&(x[m][v]=p[y])}}}return o},xI.downSample=function(t,e,i,n){for(var o=Os(this,[t]),a=o._storage,r=[],s=Math.floor(1/e),l=a[t],h=this.count(),u=this._chunkSize,c=new(Ts(this))(h),d=0,f=0;f<h;f+=s){s>h-f&&(s=h-f,r.length=s);for(var p=0;p<s;p++){var g=this.getRawIndex(f+p),m=Math.floor(g/u),v=g%u;r[p]=l[m][v]}var y=i(r),x=this.getRawIndex(Math.min(f+n(r,y)||0,h-1)),_=x%u;l[Math.floor(x/u)][_]=y,c[d++]=x}return o._count=d,o._indices=c,o.getRawIndex=Ls,o},xI.getItemModel=function(t){var e=this.hostModel;return new _o(this.getRawDataItem(t),e,e&&e.ecModel)},xI.diff=function(t){var e=this;return new ws(t?t.getIndices():[],this.getIndices(),function(e){return ks(t,e)},function(t){return ks(e,t)})},xI.getVisual=function(t){var e=this._visual;return e&&e[t]},xI.setVisual=function(t,e){if(dI(t))for(var i in t)t.hasOwnProperty(i)&&this.setVisual(i,t[i]);else this._visual=this._visual||{},this._visual[t]=e},xI.setLayout=function(t,e){if(dI(t))for(var i in t)t.hasOwnProperty(i)&&this.setLayout(i,t[i]);else this._layout[t]=e},xI.getLayout=function(t){return this._layout[t]},xI.getItemLayout=function(t){return this._itemLayouts[t]},xI.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?a(this._itemLayouts[t]||{},e):e},xI.clearItemLayouts=function(){this._itemLayouts.length=0},xI.getItemVisual=function(t,e,i){var n=this._itemVisuals[t],o=n&&n[e];return null!=o||i?o:this.getVisual(e)},xI.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{},o=this.hasItemVisual;if(this._itemVisuals[t]=n,dI(e))for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a],o[a]=!0);else n[e]=i,o[e]=!0},xI.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var _I=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};xI.setItemGraphicEl=function(t,e){var i=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=i&&i.seriesIndex,\"group\"===e.type&&e.traverse(_I,e)),this._graphicEls[t]=e},xI.getItemGraphicEl=function(t){return this._graphicEls[t]},xI.eachItemGraphicEl=function(t,e){d(this._graphicEls,function(i,n){i&&t&&t.call(e,i,n)})},xI.cloneShallow=function(t){if(!t){var e=f(this.dimensions,this.getDimensionInfo,this);t=new yI(e,this.hostModel)}if(t._storage=this._storage,Ds(t,this),this._indices){var n=this._indices.constructor;t._indices=new n(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?Ls:Cs,t._extent=i(this._extent),t._approximateExtent=i(this._approximateExtent),t},xI.wrapMethod=function(t,e){var i=this[t];\"function\"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.apply(this,[t].concat(C(arguments)))})},xI.TRANSFERABLE_METHODS=[\"cloneShallow\",\"downSample\",\"map\"],xI.CHANGABLE_METHODS=[\"filterSelf\",\"selectRange\"];var wI=function(t,e){return e=e||{},Es(e.coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,extraPrefix:e.extraPrefix,extraFromZero:e.extraFromZero})};Fs.prototype.parse=function(t){return t},Fs.prototype.getSetting=function(t){return this._setting[t]},Fs.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},Fs.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},Fs.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},Fs.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},Fs.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e,!0))},Fs.prototype.getExtent=function(){return this._extent.slice()},Fs.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},Fs.prototype.getTicksLabels=function(){for(var t=[],e=this.getTicks(),i=0;i<e.length;i++)t.push(this.getLabel(e[i]));return t},Fs.prototype.isBlank=function(){return this._isBlank},Fs.prototype.setBlank=function(t){this._isBlank=t},Vi(Fs),Hi(Fs,{registerWhenExtend:!0}),Hs.createByAxisModel=function(t){var e=t.option,i=e.data,n=i&&f(i,Us);return new Hs({categories:n,needCollect:!n,deduplication:!1!==e.dedplication})};var bI=Hs.prototype;bI.getOrdinal=function(t){return Zs(this).get(t)},bI.parseAndCollect=function(t){var e,i=this._needCollect;if(\"string\"!=typeof t&&!i)return t;if(i&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var n=Zs(this);return null==(e=n.get(t))&&(i?(e=this.categories.length,this.categories[e]=t,n.set(t,e)):e=NaN),e};var SI=Fs.prototype,MI=Fs.extend({type:\"ordinal\",init:function(t,e){t&&!y(t)||(t=new Hs({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return\"string\"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),SI.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return SI.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(SI.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,i=e[0];i<=e[1];)t.push(i),i++;return t},getLabel:function(t){return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e,!1))},niceTicks:B,niceExtent:B});MI.create=function(){return new MI};var II=Ao,TI=Ao,AI=Fs.extend({type:\"interval\",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),AI.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=Xs(t)},getTicks:function(){return $s(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){for(var t=[],e=this.getTicks(),i=0;i<e.length;i++)t.push(this.getLabel(e[i]));return t},getLabel:function(t,e){if(null==t)return\"\";var i=e&&e.precision;return null==i?i=Lo(t)||0:\"auto\"===i&&(i=this._intervalPrecision),t=TI(t,i,!0),Wo(t)},niceTicks:function(t,e,i){t=t||5;var n=this._extent,o=n[1]-n[0];if(isFinite(o)){o<0&&(o=-o,n.reverse());var a=js(n,t,e,i);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var i=e[0];t.fixMax?e[0]-=i/2:(e[1]+=i/2,e[0]-=i/2)}else e[1]=1;var n=e[1]-e[0];isFinite(n)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(e[0]=TI(Math.floor(e[0]/o)*o)),t.fixMax||(e[1]=TI(Math.ceil(e[1]/o)*o))}});AI.create=function(){return new AI};var DI=\"__ec_stack_\",CI=AI.prototype,LI=Math.ceil,kI=Math.floor,PI=function(t,e,i,n){for(;i<n;){var o=i+n>>>1;t[o][1]<e?i=o+1:n=o}return i},OI=AI.extend({type:\"time\",getLabel:function(t){var e=this._stepLvl,i=new Date(t);return Xo(e[0],i,this.getSetting(\"useUTC\"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=864e5,e[1]+=864e5),e[1]===-1/0&&e[0]===1/0){var i=new Date;e[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),e[0]=e[1]-864e5}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var n=this._interval;t.fixMin||(e[0]=Ao(kI(e[0]/n)*n)),t.fixMax||(e[1]=Ao(LI(e[1]/n)*n))},niceTicks:function(t,e,i){t=t||10;var n=this._extent,o=n[1]-n[0],a=o/t;null!=e&&a<e&&(a=e),null!=i&&a>i&&(a=i);var r=NI.length,s=PI(NI,a,0,r),l=NI[Math.min(s,r-1)],h=l[1];\"year\"===l[0]&&(h*=Bo(o/h/t,!0));var u=this.getSetting(\"useUTC\")?0:60*new Date(+n[0]||+n[1]).getTimezoneOffset()*1e3,c=[Math.round(LI((n[0]-u)/h)*h+u),Math.round(kI((n[1]-u)/h)*h+u)];qs(c,n),this._stepLvl=l,this._interval=h,this._niceExtent=c},parse:function(t){return+Eo(t)}});d([\"contain\",\"normalize\"],function(t){OI.prototype[t]=function(e){return CI[t].call(this,this.parse(e))}});var NI=[[\"hh:mm:ss\",1e3],[\"hh:mm:ss\",5e3],[\"hh:mm:ss\",1e4],[\"hh:mm:ss\",15e3],[\"hh:mm:ss\",3e4],[\"hh:mm\\nMM-dd\",6e4],[\"hh:mm\\nMM-dd\",3e5],[\"hh:mm\\nMM-dd\",6e5],[\"hh:mm\\nMM-dd\",9e5],[\"hh:mm\\nMM-dd\",18e5],[\"hh:mm\\nMM-dd\",36e5],[\"hh:mm\\nMM-dd\",72e5],[\"hh:mm\\nMM-dd\",216e5],[\"hh:mm\\nMM-dd\",432e5],[\"MM-dd\\nyyyy\",864e5],[\"MM-dd\\nyyyy\",1728e5],[\"MM-dd\\nyyyy\",2592e5],[\"MM-dd\\nyyyy\",3456e5],[\"MM-dd\\nyyyy\",432e6],[\"MM-dd\\nyyyy\",5184e5],[\"week\",6048e5],[\"MM-dd\\nyyyy\",864e6],[\"week\",12096e5],[\"week\",18144e5],[\"month\",26784e5],[\"week\",36288e5],[\"month\",53568e5],[\"week\",36288e5],[\"quarter\",8208e6],[\"month\",107136e5],[\"month\",13392e6],[\"half-year\",16416e6],[\"month\",214272e5],[\"month\",26784e6],[\"year\",32832e6]];OI.create=function(t){return new OI({useUTC:t.ecModel.get(\"useUTC\")})};var EI=Fs.prototype,zI=AI.prototype,RI=Lo,BI=Ao,VI=Math.floor,GI=Math.ceil,WI=Math.pow,FI=Math.log,HI=Fs.extend({type:\"log\",base:10,$constructor:function(){Fs.apply(this,arguments),this._originalScale=new AI},getTicks:function(){var t=this._originalScale,e=this._extent,i=t.getExtent();return f(zI.getTicks.call(this),function(n){var o=Ao(WI(this.base,n));return o=n===e[0]&&t.__fixMin?nl(o,i[0]):o,o=n===e[1]&&t.__fixMax?nl(o,i[1]):o},this)},getLabel:zI.getLabel,scale:function(t){return t=EI.scale.call(this,t),WI(this.base,t)},setExtent:function(t,e){var i=this.base;t=FI(t)/FI(i),e=FI(e)/FI(i),zI.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=EI.getExtent.call(this);e[0]=WI(t,e[0]),e[1]=WI(t,e[1]);var i=this._originalScale,n=i.getExtent();return i.__fixMin&&(e[0]=nl(e[0],n[0])),i.__fixMax&&(e[1]=nl(e[1],n[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=FI(t[0])/FI(e),t[1]=FI(t[1])/FI(e),EI.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e,!0,function(t){return t>0}))},niceTicks:function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i===1/0||i<=0)){var n=zo(i);for(t/i*n<=.5&&(n*=10);!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0;)n*=10;var o=[Ao(GI(e[0]/n)*n),Ao(VI(e[1]/n)*n)];this._interval=n,this._niceExtent=o}},niceExtent:function(t){zI.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});d([\"contain\",\"normalize\"],function(t){HI.prototype[t]=function(e){return e=FI(e)/FI(this.base),EI[t].call(this,e)}}),HI.create=function(){return new HI};var ZI={getFormattedLabels:function(){return hl(this.axis,this.get(\"axisLabel.formatter\"))},getMin:function(t){var e=this.option,i=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=i&&\"dataMin\"!==i&&\"function\"!=typeof i&&!I(i)&&(i=this.axis.scale.parse(i)),i},getMax:function(t){var e=this.option,i=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=i&&\"dataMax\"!==i&&\"function\"!=typeof i&&!I(i)&&(i=this.axis.scale.parse(i)),i},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:B,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},UI=Nn({type:\"triangle\",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=e.width/2,a=e.height/2;t.moveTo(i,n-a),t.lineTo(i+o,n+a),t.lineTo(i-o,n+a),t.closePath()}}),jI=Nn({type:\"diamond\",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=e.width/2,a=e.height/2;t.moveTo(i,n-a),t.lineTo(i+o,n),t.lineTo(i,n+a),t.lineTo(i-o,n),t.closePath()}}),XI=Nn({type:\"pin\",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,o=e.width/5*3,a=Math.max(o,e.height),r=o/2,s=r*r/(a-r),l=n-a+r+s,h=Math.asin(s/r),u=Math.cos(h)*r,c=Math.sin(h),d=Math.cos(h),f=.6*r,p=.7*r;t.moveTo(i-u,l+s),t.arc(i,l,r,Math.PI-h,2*Math.PI+h),t.bezierCurveTo(i+u-c*f,l+s+d*f,i,n-p,i,n),t.bezierCurveTo(i,n-p,i-u+c*f,l+s+d*f,i-u,l+s),t.closePath()}}),YI=Nn({type:\"arrow\",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.height,n=e.width,o=e.x,a=e.y,r=n/3*2;t.moveTo(o,a),t.lineTo(o+r,a+i),t.lineTo(o,a+i/4*3),t.lineTo(o-r,a+i),t.lineTo(o,a),t.closePath()}}),qI={line:function(t,e,i,n,o){o.x1=t,o.y1=e+n/2,o.x2=t+i,o.y2=e+n/2},rect:function(t,e,i,n,o){o.x=t,o.y=e,o.width=i,o.height=n},roundRect:function(t,e,i,n,o){o.x=t,o.y=e,o.width=i,o.height=n,o.r=Math.min(i,n)/4},square:function(t,e,i,n,o){var a=Math.min(i,n);o.x=t,o.y=e,o.width=a,o.height=a},circle:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.r=Math.min(i,n)/2},diamond:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.width=i,o.height=n},pin:function(t,e,i,n,o){o.x=t+i/2,o.y=e+n/2,o.width=i,o.height=n},arrow:function(t,e,i,n,o){o.x=t+i/2,o.y=e+n/2,o.width=i,o.height=n},triangle:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.width=i,o.height=n}},$I={};d({line:Gb,rect:Vb,roundRect:Vb,square:Vb,circle:Lb,diamond:jI,pin:XI,arrow:YI,triangle:UI},function(t,e){$I[e]=new t});var KI=Nn({type:\"symbol\",shape:{symbolType:\"\",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style;\"pin\"===this.shape.symbolType&&\"inside\"===t.textPosition&&(t.textPosition=[\"50%\",\"40%\"],t.textAlign=\"center\",t.textVerticalAlign=\"middle\")},buildPath:function(t,e,i){var n=e.symbolType,o=$I[n];\"none\"!==e.symbolType&&(o||(o=$I[n=\"rect\"]),qI[n](e.x,e.y,e.width,e.height,o.shape),o.buildPath(t,o.shape,i))}}),JI=(Object.freeze||Object)({createList:function(t){return Bs(t.getSource(),t)},getLayoutRect:Ko,createScale:function(t,e){var i=e;_o.isInstance(e)||u(i=new _o(e),ZI);var n=sl(i);return n.setExtent(t[0],t[1]),rl(n,i),n},mixinAxisModelCommonMethods:function(t){u(t,ZI)},completeDimensions:Es,createDimensions:wI,createSymbol:dl}),QI=1e-8;gl.prototype={constructor:gl,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,i=[e,e],n=[-e,-e],o=[],a=[],r=this.geometries,s=0;s<r.length;s++)\"polygon\"===r[s].type&&(an(r[s].exterior,o,a),tt(i,i,o),et(n,n,a));return 0===s&&(i[0]=i[1]=n[0]=n[1]=0),this._rect=new Kt(i[0],i[1],n[0]-i[0],n[1]-i[1])},contain:function(t){var e=this.getBoundingRect(),i=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var n=0,o=i.length;n<o;n++)if(\"polygon\"===i[n].type){var a=i[n].exterior,r=i[n].interiors;if(pl(a,t[0],t[1])){for(var s=0;s<(r?r.length:0);s++)if(pl(r[s]))continue t;return!0}}return!1},transformTo:function(t,e,i,n){var o=this.getBoundingRect(),a=o.width/o.height;i?n||(n=i/a):i=a*n;for(var r=new Kt(t,e,i,n),s=o.calculateTransform(r),l=this.geometries,h=0;h<l.length;h++)if(\"polygon\"===l[h].type){for(var u=l[h].exterior,c=l[h].interiors,d=0;d<u.length;d++)Q(u[d],u[d],s);for(var f=0;f<(c?c.length:0);f++)for(d=0;d<c[f].length;d++)Q(c[f][d],c[f][d],s)}(o=this._rect).copy(r),this.center=[o.x+o.width/2,o.y+o.height/2]}};var tT=function(t){return ml(t),f(g(t.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var e=t.properties,i=t.geometry,n=i.coordinates,o=[];\"Polygon\"===i.type&&o.push({type:\"polygon\",exterior:n[0],interiors:n.slice(1)}),\"MultiPolygon\"===i.type&&d(n,function(t){t[0]&&o.push({type:\"polygon\",exterior:t[0],interiors:t.slice(1)})});var a=new gl(e.name,o,e.cp);return a.properties=e,a})},eT=Io,iT=[0,1],nT=function(t,e,i){this.dim=t,this.scale=e,this._extent=i||[0,0],this.inverse=!1,this.onBand=!1,this._labelInterval};nT.prototype={constructor:nT,contain:function(t){var e=this._extent,i=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=i&&t<=n},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return ko(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var i=this._extent;i[0]=t,i[1]=e},dataToCoord:function(t,e){var i=this._extent,n=this.scale;return t=n.normalize(t),this.onBand&&\"ordinal\"===n.type&&yl(i=i.slice(),n.count()),eT(t,iT,i,e)},coordToData:function(t,e){var i=this._extent,n=this.scale;this.onBand&&\"ordinal\"===n.type&&yl(i=i.slice(),n.count());var o=eT(t,i,iT,e);return this.scale.scale(o)},pointToData:function(t,e){},getTicksCoords:function(t){if(this.onBand&&!t){for(var e=this.getBands(),i=[],n=0;n<e.length;n++)i.push(e[n][0]);return e[n-1]&&i.push(e[n-1][1]),i}return f(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return f(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var t=this.getExtent(),e=[],i=this.scale.count(),n=t[0],o=t[1]-n,a=0;a<i;a++)e.push([o*a/i+n,o*(a+1)/i+n]);return e},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/i},isHorizontal:null,getRotate:null,getLabelInterval:function(){var t=this._labelInterval;if(!t){var e=this.model,i=e.getModel(\"axisLabel\");t=i.get(\"interval\"),\"category\"!==this.type||null!=t&&\"auto\"!==t||(t=ll(f(this.scale.getTicks(),this.dataToCoord,this),e.getFormattedLabels(),i.getFont(),this.getRotate?this.getRotate():this.isHorizontal&&!this.isHorizontal()?90:0,i.get(\"rotate\"))),this._labelInterval=t}return t}};var oT=tT,aT={};d([\"map\",\"each\",\"filter\",\"indexOf\",\"inherits\",\"reduce\",\"filter\",\"bind\",\"curry\",\"isArray\",\"isString\",\"isObject\",\"isFunction\",\"extend\",\"defaults\",\"clone\",\"merge\"],function(t){aT[t]=Ex[t]});gs({type:\"dataset\",defaultOption:{seriesLayoutBy:RS,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){sa(this)}});ms({type:\"dataset\"}),uM.extend({type:\"series.line\",dependencies:[\"grid\",\"polar\"],getInitialData:function(t,e){return Bs(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:\"top\"},lineStyle:{width:2,type:\"solid\"},step:!1,smooth:!1,smoothMonotone:null,symbol:\"emptyCircle\",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:\"none\",animationEasing:\"linear\",progressive:0,hoverLayerThreshold:1/0}});var rT=bl.prototype;rT._createSymbol=function(t,e,i,n){this.removeAll();var o=dl(t,-1,-1,2,2,e.getItemVisual(i,\"color\"));o.attr({z2:100,culling:!0,scale:wl(n)}),o.drift=Sl,this._symbolType=t,this.add(o)},rT.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},rT.getSymbolPath=function(){return this.childAt(0)},rT.getScale=function(){return this.childAt(0).scale},rT.highlight=function(){this.childAt(0).trigger(\"emphasis\")},rT.downplay=function(){this.childAt(0).trigger(\"normal\")},rT.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},rT.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?\"move\":\"pointer\"},rT.updateData=function(t,e,i){this.silent=!1;var n=t.getItemVisual(e,\"symbol\")||\"circle\",o=t.hostModel,a=_l(t,e),r=n!==this._symbolType;if(r?this._createSymbol(n,t,e,a):((s=this.childAt(0)).silent=!1,co(s,{scale:wl(a)},o,e)),this._updateCommon(t,e,a,i),r){var s=this.childAt(0),l=i&&i.fadeIn,h={scale:s.scale.slice()};l&&(h.style={opacity:s.style.opacity}),s.scale=[0,0],l&&(s.style.opacity=0),fo(s,h,o,e)}this._seriesModel=o};var sT=[\"itemStyle\"],lT=[\"emphasis\",\"itemStyle\"],hT=[\"label\"],uT=[\"emphasis\",\"label\"];rT._updateCommon=function(t,e,i,n){var o=this.childAt(0),r=t.hostModel,s=t.getItemVisual(e,\"color\");\"image\"!==o.type&&o.useStyle({strokeNoScale:!0});var l=n&&n.itemStyle,h=n&&n.hoverItemStyle,u=n&&n.symbolRotate,c=n&&n.symbolOffset,d=n&&n.labelModel,f=n&&n.hoverLabelModel,p=n&&n.hoverAnimation,g=n&&n.cursorStyle;if(!n||t.hasItemOption){var m=n&&n.itemModel?n.itemModel:t.getItemModel(e);l=m.getModel(sT).getItemStyle([\"color\"]),h=m.getModel(lT).getItemStyle(),u=m.getShallow(\"symbolRotate\"),c=m.getShallow(\"symbolOffset\"),d=m.getModel(hT),f=m.getModel(uT),p=m.getShallow(\"hoverAnimation\"),g=m.getShallow(\"cursor\")}else h=a({},h);var v=o.style;o.attr(\"rotation\",(u||0)*Math.PI/180||0),c&&o.attr(\"position\",[To(c[0],i[0]),To(c[1],i[1])]),g&&o.attr(\"cursor\",g),o.setColor(s,n&&n.symbolInnerColor),o.setStyle(l);var y=t.getItemVisual(e,\"opacity\");null!=y&&(v.opacity=y);var x=n&&n.useNameLabel;eo(v,h,d,f,{labelFetcher:r,labelDataIndex:e,defaultText:function(e,i){return x?t.getName(e):xl(t,e)},isRectText:!0,autoColor:s}),o.off(\"mouseover\").off(\"mouseout\").off(\"emphasis\").off(\"normal\"),o.hoverStyle=h,to(o);var _=wl(i);if(p&&r.isAnimationEnabled()){var w=function(){var t=_[1]/_[0];this.animateTo({scale:[Math.max(1.1*_[0],_[0]+3),Math.max(1.1*_[1],_[1]+3*t)]},400,\"elasticOut\")},b=function(){this.animateTo({scale:_},400,\"elasticOut\")};o.on(\"mouseover\",w).on(\"mouseout\",b).on(\"emphasis\",w).on(\"normal\",b)}},rT.fadeOut=function(t,e){var i=this.childAt(0);this.silent=i.silent=!0,!(e&&e.keepLabel)&&(i.style.text=null),co(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},h(bl,S_);var cT=Ml.prototype;cT.updateData=function(t,e){var i=this.group,n=t.hostModel,o=this._data,a=this._symbolCtor,r=Tl(t);o||i.removeAll(),t.diff(o).add(function(n){var o=t.getItemLayout(n);if(Il(t,o,n,e)){var s=new a(t,n,r);s.attr(\"position\",o),t.setItemGraphicEl(n,s),i.add(s)}}).update(function(s,l){var h=o.getItemGraphicEl(l),u=t.getItemLayout(s);Il(t,u,s,e)?(h?(h.updateData(t,s,r),co(h,{position:u},n)):(h=new a(t,s)).attr(\"position\",u),i.add(h),t.setItemGraphicEl(s,h)):i.remove(h)}).remove(function(t){var e=o.getItemGraphicEl(t);e&&e.fadeOut(function(){i.remove(e)})}).execute(),this._data=t},cT.isPersistent=function(){return!0},cT.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,i){var n=t.getItemLayout(i);e.attr(\"position\",n)})},cT.incrementalPrepareUpdate=function(t){this._seriesScope=Tl(t),this._data=null,this.group.removeAll()},cT.incrementalUpdate=function(t,e,i){for(var n=t.start;n<t.end;n++){var o=e.getItemLayout(n);if(Il(e,o,n,i)){var a=new this._symbolCtor(e,n,this._seriesScope);a.traverse(function(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}),a.attr(\"position\",o),this.group.add(a),e.setItemGraphicEl(n,a)}}},cT.remove=function(t){var e=this.group,i=this._data;i&&(t?i.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll())};var dT=function(t,e,i,n,o,a){for(var r=Cl(t,e),s=[],l=[],h=[],u=[],c=[],d=[],f=[],p=a.dimensions,g=0;g<r.length;g++){var m=r[g],v=!0;switch(m.cmd){case\"=\":var y=t.getItemLayout(m.idx),x=e.getItemLayout(m.idx1);(isNaN(y[0])||isNaN(y[1]))&&(y=x.slice()),s.push(y),l.push(x),h.push(i[m.idx]),u.push(n[m.idx1]),f.push(e.getRawIndex(m.idx1));break;case\"+\":_=m.idx;s.push(o.dataToPoint([e.get(p[0],_,!0),e.get(p[1],_,!0)])),l.push(e.getItemLayout(_).slice()),h.push(Dl(o,e,_)),u.push(n[_]),f.push(e.getRawIndex(_));break;case\"-\":var _=m.idx,w=t.getRawIndex(_);w!==_?(s.push(t.getItemLayout(_)),l.push(a.dataToPoint([t.get(p[0],_,!0),t.get(p[1],_,!0)])),h.push(i[_]),u.push(Dl(a,t,_)),f.push(w)):v=!1}v&&(c.push(m),d.push(d.length))}d.sort(function(t,e){return f[t]-f[e]});for(var b=[],S=[],M=[],I=[],T=[],g=0;g<d.length;g++){_=d[g];b[g]=s[_],S[g]=l[_],M[g]=h[_],I[g]=u[_],T[g]=c[_]}return{current:b,next:S,stackedOnCurrent:M,stackedOnNext:I,status:T}},fT=tt,pT=et,gT=Z,mT=G,vT=[],yT=[],xT=[],_T=Mn.extend({type:\"ec-polyline\",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:\"#000\"},brush:Pb(Mn.prototype.brush),buildPath:function(t,e){var i=e.points,n=0,o=i.length,a=Pl(i,e.smoothConstraint);if(e.connectNulls){for(;o>0&&Ll(i[o-1]);o--);for(;n<o&&Ll(i[n]);n++);}for(;n<o;)n+=kl(t,i,n,o,o,1,a.min,a.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),wT=Mn.extend({type:\"ec-polygon\",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:Pb(Mn.prototype.brush),buildPath:function(t,e){var i=e.points,n=e.stackedOnPoints,o=0,a=i.length,r=e.smoothMonotone,s=Pl(i,e.smoothConstraint),l=Pl(n,e.smoothConstraint);if(e.connectNulls){for(;a>0&&Ll(i[a-1]);a--);for(;o<a&&Ll(i[o]);o++);}for(;o<a;){var h=kl(t,i,o,a,a,1,s.min,s.max,e.smooth,r,e.connectNulls);kl(t,n,o+h-1,h,a,-1,l.min,l.max,e.stackedOnSmooth,r,e.connectNulls),o+=h+1,t.closePath()}}});cr.extend({type:\"line\",init:function(){var t=new S_,e=new Ml;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,i){var n=t.coordinateSystem,o=this.group,a=t.getData(),s=t.getModel(\"lineStyle\"),l=t.getModel(\"areaStyle\"),h=a.mapArray(a.getItemLayout,!0),u=\"polar\"===n.type,c=this._coordSys,d=this._symbolDraw,f=this._polyline,p=this._polygon,g=this._lineGroup,m=t.get(\"animation\"),v=!l.isEmpty(),y=Rl(0,n,a,l.get(\"origin\")),x=t.get(\"showSymbol\"),_=x&&!u&&!t.get(\"showAllSymbol\")&&this._getSymbolIgnoreFunc(a,n),w=this._data;w&&w.eachItemGraphicEl(function(t,e){t.__temp&&(o.remove(t),w.setItemGraphicEl(e,null))}),x||d.remove(),o.add(g);var b=!u&&t.get(\"step\");f&&c.type===n.type&&b===this._step?(v&&!p?p=this._newPolygon(h,y,n,m):p&&!v&&(g.remove(p),p=this._polygon=null),g.setClipPath(Gl(n,!1,t)),x&&d.updateData(a,_),a.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),Ol(this._stackedOnPoints,y)&&Ol(this._points,h)||(m?this._updateAnimation(a,y,n,i,b):(b&&(h=Wl(h,n,b),y=Wl(y,n,b)),f.setShape({points:h}),p&&p.setShape({points:h,stackedOnPoints:y})))):(x&&d.updateData(a,_),b&&(h=Wl(h,n,b),y=Wl(y,n,b)),f=this._newPolyline(h,n,m),v&&(p=this._newPolygon(h,y,n,m)),g.setClipPath(Gl(n,!0,t)));var S=Fl(a,n)||a.getVisual(\"color\");f.useStyle(r(s.getLineStyle(),{fill:\"none\",stroke:S,lineJoin:\"bevel\"}));var M=t.get(\"smooth\");if(M=Nl(t.get(\"smooth\")),f.setShape({smooth:M,smoothMonotone:t.get(\"smoothMonotone\"),connectNulls:t.get(\"connectNulls\")}),p){var I=a.stackedOn,T=0;p.useStyle(r(l.getAreaStyle(),{fill:S,opacity:.7,lineJoin:\"bevel\"})),I&&(T=Nl(I.hostModel.get(\"smooth\"))),p.setShape({smooth:M,stackedOnSmooth:T,smoothMonotone:t.get(\"smoothMonotone\"),connectNulls:t.get(\"connectNulls\")})}this._data=a,this._coordSys=n,this._stackedOnPoints=y,this._points=h,this._step=b},dispose:function(){},highlight:function(t,e,i,n){var o=t.getData(),a=ki(o,n);if(!(a instanceof Array)&&null!=a&&a>=0){var r=o.getItemGraphicEl(a);if(!r){var s=o.getItemLayout(a);if(!s)return;(r=new bl(o,a)).position=s,r.setZ(t.get(\"zlevel\"),t.get(\"z\")),r.ignore=isNaN(s[0])||isNaN(s[1]),r.__temp=!0,o.setItemGraphicEl(a,r),r.stopSymbolAnimation(!0),this.group.add(r)}r.highlight()}else cr.prototype.highlight.call(this,t,e,i,n)},downplay:function(t,e,i,n){var o=t.getData(),a=ki(o,n);if(null!=a&&a>=0){var r=o.getItemGraphicEl(a);r&&(r.__temp?(o.setItemGraphicEl(a,null),this.group.remove(r)):r.downplay())}else cr.prototype.downplay.call(this,t,e,i,n)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new _T({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new wT({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(i),this._polygon=i,i},_getSymbolIgnoreFunc:function(t,e){var i=e.getAxesByScale(\"ordinal\")[0];if(i&&i.isLabelIgnored)return m(i.isLabelIgnored,i)},_updateAnimation:function(t,e,i,n,o){var a=this._polyline,r=this._polygon,s=t.hostModel,l=dT(this._data,t,this._stackedOnPoints,e,this._coordSys,i),h=l.current,u=l.stackedOnCurrent,c=l.next,d=l.stackedOnNext;o&&(h=Wl(l.current,i,o),u=Wl(l.stackedOnCurrent,i,o),c=Wl(l.next,i,o),d=Wl(l.stackedOnNext,i,o)),a.shape.__points=l.current,a.shape.points=h,co(a,{shape:{points:c}},s),r&&(r.setShape({points:h,stackedOnPoints:u}),co(r,{shape:{points:c,stackedOnPoints:d}},s));for(var f=[],p=l.status,g=0;g<p.length;g++)if(\"=\"===p[g].cmd){var m=t.getItemGraphicEl(p[g].idx1);m&&f.push({el:m,ptIdx:g})}a.animators&&a.animators.length&&a.animators[0].during(function(){for(var t=0;t<f.length;t++)f[t].el.attr(\"position\",a.shape.__points[f[t].ptIdx])})},remove:function(t){var e=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(t,n){t.__temp&&(e.remove(t),i.setItemGraphicEl(n,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var bT=function(t,e,i){return{seriesType:t,performRawSeries:!0,reset:function(t,n,o){var a=t.getData(),r=t.get(\"symbol\")||e,s=t.get(\"symbolSize\");if(a.setVisual({legendSymbol:i||r,symbol:r,symbolSize:s}),!n.isSeriesFiltered(t)){var l=\"function\"==typeof s;return{dataEach:a.hasItemOption||l?function(e,i){if(\"function\"==typeof s){var n=t.getRawValue(i),o=t.getDataParams(i);e.setItemVisual(i,\"symbolSize\",s(n,o))}if(e.hasItemOption){var a=e.getItemModel(i),r=a.getShallow(\"symbol\",!0),l=a.getShallow(\"symbolSize\",!0);null!=r&&e.setItemVisual(i,\"symbol\",r),null!=l&&e.setItemVisual(i,\"symbolSize\",l)}}:null}}}}},ST=function(t){return{seriesType:t,plan:fM(),reset:function(t){var e=t.getData(),i=t.coordinateSystem,n=t.pipelineContext.large;if(i){var o=f(i.dimensions,function(t){return e.getDimension(e.mapDimension(t))}).slice(0,2),a=o.length;return a&&{progress:function(t,e){for(var r=t.end-t.start,s=n&&new Float32Array(r*a),l=t.start,h=0,u=[],c=[];l<t.end;l++){var d;if(1===a)f=e.get(o[0],l,!0),d=!isNaN(f)&&i.dataToPoint(f,null,c);else{var f=u[0]=e.get(o[0],l,!0),p=u[1]=e.get(o[1],l,!0);d=!isNaN(f)&&!isNaN(p)&&i.dataToPoint(u,null,c)}n?(s[h++]=d?d[0]:NaN,s[h++]=d?d[1]:NaN):e.setItemLayout(l,d&&d.slice()||[NaN,NaN])}n&&e.setLayout(\"symbolPoints\",s)}}}}}},MT={average:function(t){for(var e=0,i=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],i++);return 0===i?NaN:e/i},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-1/0,i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return e},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return e},nearest:function(t){return t[0]}},IT=function(t,e){return Math.round(t.length/2)},TT=function(t){this._axes={},this._dimList=[],this.name=t||\"\"};TT.prototype={constructor:TT,type:\"cartesian\",getAxis:function(t){return this._axes[t]},getAxes:function(){return f(this._dimList,Hl,this)},getAxesByScale:function(t){return t=t.toLowerCase(),g(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,\"dataToCoord\")},coordToData:function(t){return this._dataCoordConvert(t,\"coordToData\")},_dataCoordConvert:function(t,e){for(var i=this._dimList,n=t instanceof Array?[]:{},o=0;o<i.length;o++){var a=i[o],r=this._axes[a];n[a]=r[e](t[a])}return n}},Zl.prototype={constructor:Zl,type:\"cartesian2d\",dimensions:[\"x\",\"y\"],getBaseAxis:function(){return this.getAxesByScale(\"ordinal\")[0]||this.getAxesByScale(\"time\")[0]||this.getAxis(\"x\")},containPoint:function(t){var e=this.getAxis(\"x\"),i=this.getAxis(\"y\");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},containData:function(t){return this.getAxis(\"x\").containData(t[0])&&this.getAxis(\"y\").containData(t[1])},dataToPoint:function(t,e,i){var n=this.getAxis(\"x\"),o=this.getAxis(\"y\");return i=i||[],i[0]=n.toGlobalCoord(n.dataToCoord(t[0])),i[1]=o.toGlobalCoord(o.dataToCoord(t[1])),i},clampData:function(t,e){var i=this.getAxis(\"x\").scale.getExtent(),n=this.getAxis(\"y\").scale.getExtent();return e=e||[],e[0]=Math.min(Math.max(Math.min(i[0],i[1]),t[0]),Math.max(i[0],i[1])),e[1]=Math.min(Math.max(Math.min(n[0],n[1]),t[1]),Math.max(n[0],n[1])),e},pointToData:function(t,e){var i=this.getAxis(\"x\"),n=this.getAxis(\"y\");return e=e||[],e[0]=i.coordToData(i.toLocalCoord(t[0])),e[1]=n.coordToData(n.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis(\"x\"===t.dim?\"y\":\"x\")}},h(Zl,TT);var AT=function(t,e,i,n,o){nT.call(this,t,e,i),this.type=n||\"value\",this.position=o||\"bottom\"};AT.prototype={constructor:AT,index:0,onZero:!1,model:null,isHorizontal:function(){var t=this.position;return\"top\"===t||\"bottom\"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(t){if(\"category\"===this.type){var e=this.getLabelInterval();return\"function\"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t[\"x\"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},h(AT,nT);var DT={show:!0,zlevel:0,z:0,inverse:!1,name:\"\",nameLocation:\"end\",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:\"...\",placeholder:\".\"},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:\"#333\",width:1,type:\"solid\"},symbol:[\"none\",\"none\"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:[\"#ccc\"],width:1,type:\"solid\"}},splitArea:{show:!1,areaStyle:{color:[\"rgba(250,250,250,0.3)\",\"rgba(200,200,200,0.3)\"]}}},CT={};CT.categoryAxis=n({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:\"auto\"},axisLabel:{interval:\"auto\"}},DT),CT.valueAxis=n({boundaryGap:[0,0],splitNumber:5},DT),CT.timeAxis=r({scale:!0,min:\"dataMin\",max:\"dataMax\"},CT.valueAxis),CT.logAxis=r({scale:!0,logBase:10},CT.valueAxis);var LT=[\"value\",\"category\",\"time\",\"log\"],kT=function(t,e,i,a){d(LT,function(r){e.extend({type:t+\"Axis.\"+r,mergeDefaultAndTheme:function(e,o){var a=this.layoutMode,s=a?ea(e):{};n(e,o.getTheme().get(r+\"Axis\")),n(e,this.getDefaultOption()),e.type=i(t,e),a&&ta(e,s,a)},optionUpdated:function(){\"category\"===this.option.type&&(this.__ordinalMeta=Hs.createByAxisModel(this))},getCategories:function(){if(\"category\"===this.option.type)return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:o([{},CT[r+\"Axis\"],a],!0)})}),IS.registerSubTypeDefaulter(t+\"Axis\",v(i,t))},PT=IS.extend({type:\"cartesian2dAxis\",axis:null,init:function(){PT.superApply(this,\"init\",arguments),this.resetRange()},mergeOption:function(){PT.superApply(this,\"mergeOption\",arguments),this.resetRange()},restoreData:function(){PT.superApply(this,\"restoreData\",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:\"grid\",index:this.option.gridIndex,id:this.option.gridId})[0]}});n(PT.prototype,ZI);var OT={offset:0};kT(\"x\",PT,Ul,OT),kT(\"y\",PT,Ul,OT),IS.extend({type:\"grid\",dependencies:[\"xAxis\",\"yAxis\"],layoutMode:\"box\",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:\"10%\",top:60,right:\"10%\",bottom:60,containLabel:!1,backgroundColor:\"rgba(0,0,0,0)\",borderWidth:1,borderColor:\"#ccc\"}});var NT=d,ET=function(t){var e=t.scale.getExtent(),i=e[0],n=e[1];return!(i>0&&n>0||i<0&&n<0)},zT=rl,RT=ql.prototype;RT.type=\"grid\",RT.axisPointerEnabled=!0,RT.getRect=function(){return this._rect},RT.update=function(t,e){var i=this._axesMap;this._updateScale(t,this.model),NT(i.x,function(t){zT(t.scale,t.model)}),NT(i.y,function(t){zT(t.scale,t.model)}),NT(i.x,function(t){$l(i,\"y\",t)}),NT(i.y,function(t){$l(i,\"x\",t)}),this.resize(this.model,e)},RT.resize=function(t,e,i){function n(){NT(a,function(t){var e=t.isHorizontal(),i=e?[0,o.width]:[0,o.height],n=t.inverse?1:0;t.setExtent(i[n],i[1-n]),Jl(t,e?o.x:o.y)})}var o=Ko(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=o;var a=this._axesList;n(),!i&&t.get(\"containLabel\")&&(NT(a,function(t){if(!t.model.get(\"axisLabel.inside\")){var e=Yl(t);if(e){var i=t.isHorizontal()?\"height\":\"width\",n=t.model.get(\"axisLabel.margin\");o[i]-=e[i]+n,\"top\"===t.position?o.y+=e.height+n:\"left\"===t.position&&(o.x+=e.width+n)}}}),n())},RT.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i){if(null==e)for(var n in i)if(i.hasOwnProperty(n))return i[n];return i[e]}},RT.getAxes=function(){return this._axesList.slice()},RT.getCartesian=function(t,e){if(null!=t&&null!=e){var i=\"x\"+t+\"y\"+e;return this._coordsMap[i]}w(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,o=this._coordsList;n<o.length;n++)if(o[n].getAxis(\"x\").index===t||o[n].getAxis(\"y\").index===e)return o[n]},RT.getCartesians=function(){return this._coordsList.slice()},RT.convertToPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null},RT.convertFromPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null},RT._findConvertTarget=function(t,e){var i,n,o=e.seriesModel,a=e.xAxisModel||o&&o.getReferringComponents(\"xAxis\")[0],r=e.yAxisModel||o&&o.getReferringComponents(\"yAxis\")[0],s=e.gridModel,h=this._coordsList;return o?l(h,i=o.coordinateSystem)<0&&(i=null):a&&r?i=this.getCartesian(a.componentIndex,r.componentIndex):a?n=this.getAxis(\"x\",a.componentIndex):r?n=this.getAxis(\"y\",r.componentIndex):s&&s.coordinateSystem===this&&(i=this._coordsList[0]),{cartesian:i,axis:n}},RT.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},RT._initCartesian=function(t,e,i){function n(i){return function(n,s){if(jl(n,t,e)){var l=n.get(\"position\");\"x\"===i?\"top\"!==l&&\"bottom\"!==l&&o[l=\"bottom\"]&&(l=\"top\"===l?\"bottom\":\"top\"):\"left\"!==l&&\"right\"!==l&&o[l=\"left\"]&&(l=\"left\"===l?\"right\":\"left\"),o[l]=!0;var h=new AT(i,sl(n),[0,0],n.get(\"type\"),l),u=\"category\"===h.type;h.onBand=u&&n.get(\"boundaryGap\"),h.inverse=n.get(\"inverse\"),h.onZero=n.get(\"axisLine.onZero\"),h.onZeroAxisIndex=n.get(\"axisLine.onZeroAxisIndex\"),n.axis=h,h.model=n,h.grid=this,h.index=s,this._axesList.push(h),a[i][s]=h,r[i]++}}}var o={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},r={x:0,y:0};if(e.eachComponent(\"xAxis\",n(\"x\"),this),e.eachComponent(\"yAxis\",n(\"y\"),this),!r.x||!r.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=a,NT(a.x,function(e,i){NT(a.y,function(n,o){var a=\"x\"+i+\"y\"+o,r=new Zl(a);r.grid=this,r.model=t,this._coordsMap[a]=r,this._coordsList.push(r),r.addAxis(e),r.addAxis(n)},this)},this)},RT._updateScale=function(t,e){function i(t,e,i){NT(t.mapDimension(e.dim,!0),function(i){e.scale.unionExtentFromData(t,i)})}d(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(n){if(th(n)){var o=Ql(n),a=o[0],r=o[1];if(!jl(a,e,t)||!jl(r,e,t))return;var s=this.getCartesian(a.componentIndex,r.componentIndex),l=n.getData(),h=s.getAxis(\"x\"),u=s.getAxis(\"y\");\"list\"===l.type&&(i(l,h),i(l,u))}},this)},RT.getTooltipAxes=function(t){var e=[],i=[];return NT(this.getCartesians(),function(n){var o=null!=t&&\"auto\"!==t?n.getAxis(t):n.getBaseAxis(),a=n.getOtherAxis(o);l(e,o)<0&&e.push(o),l(i,a)<0&&i.push(a)}),{baseAxes:e,otherAxes:i}};var BT=[\"xAxis\",\"yAxis\"];ql.create=function(t,e){var i=[];return t.eachComponent(\"grid\",function(n,o){var a=new ql(n,t,e);a.name=\"grid_\"+o,a.resize(n,e,!0),n.coordinateSystem=a,i.push(a)}),t.eachSeries(function(t){if(th(t)){var e=Ql(t),i=e[0],n=e[1],o=i.getCoordSysModel().coordinateSystem;t.coordinateSystem=o.getCartesian(i.componentIndex,n.componentIndex)}}),i},ql.dimensions=ql.prototype.dimensions=Zl.prototype.dimensions,Aa.register(\"cartesian2d\",ql);var VT=Math.PI,GT=function(t,e){this.opt=e,this.axisModel=t,r(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new S_;var i=new S_({position:e.position.slice(),rotation:e.rotation});i.updateTransform(),this._transform=i.transform,this._dumbGroup=i};GT.prototype={constructor:GT,hasBuilder:function(t){return!!WT[t]},add:function(t){WT[t].call(this)},getGroup:function(){return this.group}};var WT={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get(\"axisLine.show\")){var i=this.axisModel.axis.getExtent(),n=this._transform,o=[i[0],0],r=[i[1],0];n&&(Q(o,o,n),Q(r,r,n));var s=a({lineCap:\"round\"},e.getModel(\"axisLine.lineStyle\").getLineStyle());this.group.add(new Gb(Vn({anid:\"line\",shape:{x1:o[0],y1:o[1],x2:r[0],y2:r[1]},style:s,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1})));var l=e.get(\"axisLine.symbol\"),h=e.get(\"axisLine.symbolSize\");if(null!=l){\"string\"==typeof l&&(l=[l,l]),\"string\"!=typeof h&&\"number\"!=typeof h||(h=[h,h]);var u=h[0],c=h[1];d([[t.rotation+Math.PI/2,o],[t.rotation-Math.PI/2,r]],function(t,e){if(\"none\"!==l[e]&&null!=l[e]){var i=dl(l[e],-u/2,-c/2,u,c,s.stroke,!0);i.attr({rotation:t[0],position:t[1],silent:!0}),this.group.add(i)}},this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,i=lh(this,t,e);oh(t,hh(this,t,e),i)},axisName:function(){var t=this.opt,e=this.axisModel,i=T(t.axisName,e.get(\"name\"));if(i){var n,o=e.get(\"nameLocation\"),r=t.nameDirection,s=e.getModel(\"nameTextStyle\"),l=e.get(\"nameGap\")||0,h=this.axisModel.axis.getExtent(),u=h[0]>h[1]?-1:1,c=[\"start\"===o?h[0]-u*l:\"end\"===o?h[1]+u*l:(h[0]+h[1])/2,sh(o)?t.labelOffset+r*l:0],d=e.get(\"nameRotate\");null!=d&&(d=d*VT/180);var f;sh(o)?n=FT(t.rotation,null!=d?d:t.rotation,r):(n=ih(t,o,d||0,h),null!=(f=t.axisNameAvailableWidth)&&(f=Math.abs(f/Math.sin(n.rotation)),!isFinite(f)&&(f=null)));var p=s.getFont(),g=e.get(\"nameTruncate\",!0)||{},m=g.ellipsis,v=T(t.nameTruncateMaxWidth,g.maxWidth,f),y=null!=m&&null!=v?mS(i,v,p,m,{minChar:2,placeholder:g.placeholder}):i,x=e.get(\"tooltip\",!0),_=e.mainType,w={componentType:_,name:i,$vars:[\"name\"]};w[_+\"Index\"]=e.componentIndex;var b=new Cb({anid:\"name\",__fullText:i,__truncatedText:y,position:c,rotation:n.rotation,silent:nh(e),z2:1,tooltip:x&&x.show?a({content:i,formatter:function(){return i},formatterParams:w},x):null});io(b.style,s,{text:y,textFont:p,textFill:s.getTextColor()||e.get(\"axisLine.lineStyle.color\"),textAlign:n.textAlign,textVerticalAlign:n.textVerticalAlign}),e.get(\"triggerEvent\")&&(b.eventData=eh(e),b.eventData.targetType=\"axisName\",b.eventData.name=i),this._dumbGroup.add(b),b.updateTransform(),this.group.add(b),b.decomposeTransform()}}},FT=GT.innerTextLayout=function(t,e,i){var n,o,a=Oo(e-t);return No(a)?(o=i>0?\"top\":\"bottom\",n=\"center\"):No(a-VT)?(o=i>0?\"bottom\":\"top\",n=\"center\"):(o=\"middle\",n=a>0&&a<VT?i>0?\"right\":\"left\":i>0?\"left\":\"right\"),{rotation:a,textAlign:n,textVerticalAlign:o}},HT=GT.ifIgnoreOnTick=function(t,e,i,n,o,a){if(0===e&&o||e===n-1&&a)return!1;var r,s=t.scale;return\"ordinal\"===s.type&&(\"function\"==typeof i?(r=s.getTicks()[e],!i(r,s.getLabel(r))):e%(i+1))},ZT=GT.getInterval=function(t,e){var i=t.get(\"interval\");return null!=i&&\"auto\"!=i||(i=e),i},UT=d,jT=v,XT=ms({type:\"axis\",_axisPointer:null,axisPointerClass:null,render:function(t,e,i,n){this.axisPointerClass&&mh(t),XT.superApply(this,\"render\",arguments),wh(this,t,0,i,0,!0)},updateAxisPointer:function(t,e,i,n,o){wh(this,t,0,i,0,!1)},remove:function(t,e){var i=this._axisPointer;i&&i.remove(e),XT.superApply(this,\"remove\",arguments)},dispose:function(t,e){bh(this,e),XT.superApply(this,\"dispose\",arguments)}}),YT=[];XT.registerAxisPointerClass=function(t,e){YT[t]=e},XT.getAxisPointerClass=function(t){return t&&YT[t]};var qT=GT.ifIgnoreOnTick,$T=GT.getInterval,KT=[\"axisLine\",\"axisTickLabel\",\"axisName\"],JT=[\"splitArea\",\"splitLine\"],QT=XT.extend({type:\"cartesianAxis\",axisPointerClass:\"CartesianAxisPointer\",render:function(t,e,i,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new S_,this.group.add(this._axisGroup),t.get(\"show\")){var a=t.getCoordSysModel(),r=Sh(a,t),s=new GT(t,r);d(KT,s.add,s),this._axisGroup.add(s.getGroup()),d(JT,function(e){t.get(e+\".show\")&&this[\"_\"+e](t,a,r.labelInterval)},this),vo(o,this._axisGroup,t),QT.superCall(this,\"render\",t,e,i,n)}},_splitLine:function(t,e,i){var n=t.axis;if(!n.scale.isBlank()){var o=t.getModel(\"splitLine\"),a=o.getModel(\"lineStyle\"),s=a.get(\"color\"),l=$T(o,i);s=y(s)?s:[s];for(var h=e.coordinateSystem.getRect(),u=n.isHorizontal(),c=0,d=n.getTicksCoords(),f=n.scale.getTicks(),p=t.get(\"axisLabel.showMinLabel\"),g=t.get(\"axisLabel.showMaxLabel\"),m=[],v=[],x=a.getLineStyle(),_=0;_<d.length;_++)if(!qT(n,_,l,d.length,p,g)){var w=n.toGlobalCoord(d[_]);u?(m[0]=w,m[1]=h.y,v[0]=w,v[1]=h.y+h.height):(m[0]=h.x,m[1]=w,v[0]=h.x+h.width,v[1]=w);var b=c++%s.length;this._axisGroup.add(new Gb(Vn({anid:\"line_\"+f[_],shape:{x1:m[0],y1:m[1],x2:v[0],y2:v[1]},style:r({stroke:s[b]},x),silent:!0})))}}},_splitArea:function(t,e,i){var n=t.axis;if(!n.scale.isBlank()){var o=t.getModel(\"splitArea\"),a=o.getModel(\"areaStyle\"),s=a.get(\"color\"),l=e.coordinateSystem.getRect(),h=n.getTicksCoords(),u=n.scale.getTicks(),c=n.toGlobalCoord(h[0]),d=n.toGlobalCoord(h[0]),f=0,p=$T(o,i),g=a.getAreaStyle();s=y(s)?s:[s];for(var m=t.get(\"axisLabel.showMinLabel\"),v=t.get(\"axisLabel.showMaxLabel\"),x=1;x<h.length;x++)if(!qT(n,x,p,h.length,m,v)){var _,w,b,S,M=n.toGlobalCoord(h[x]);n.isHorizontal()?(_=c,w=l.y,b=M-_,S=l.height):(_=l.x,w=d,b=l.width,S=M-w);var I=f++%s.length;this._axisGroup.add(new Vb({anid:\"area_\"+u[x],shape:{x:_,y:w,width:b,height:S},style:r({fill:s[I]},g),silent:!0})),c=_+b,d=w+S}}}});QT.extend({type:\"xAxis\"}),QT.extend({type:\"yAxis\"}),ms({type:\"grid\",render:function(t,e){this.group.removeAll(),t.get(\"show\")&&this.group.add(new Vb({shape:t.coordinateSystem.getRect(),style:r({fill:t.get(\"backgroundColor\")},t.getItemStyle()),silent:!0,z2:-1}))}}),ss(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}),ds(bT(\"line\",\"circle\",\"line\")),cs(ST(\"line\")),ls(FM.PROCESSOR.STATISTIC,function(t){return{seriesType:t,reset:function(t,e,i){var n=t.getData(),o=t.get(\"sampling\"),a=t.coordinateSystem;if(\"cartesian2d\"===a.type&&o){var r=a.getBaseAxis(),s=a.getOtherAxis(r),l=r.getExtent(),h=l[1]-l[0],u=Math.round(n.count()/h);if(u>1){var c;\"string\"==typeof o?c=MT[o]:\"function\"==typeof o&&(c=o),c&&t.setData(n.downSample(s.dim,1/u,c,IT))}}}}}(\"line\"));var tA=uM.extend({type:\"series.__base_bar__\",getInitialData:function(t,e){return Bs(this.getSource(),this)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var i=e.dataToPoint(e.clampData(t)),n=this.getData(),o=n.getLayout(\"offset\"),a=n.getLayout(\"size\");return i[e.getBaseAxis().isHorizontal()?0:1]+=o+a/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{},emphasis:{}}});tA.extend({type:\"series.bar\",dependencies:[\"grid\",\"polar\"],brushSelector:\"rect\"});var eA=Sw([[\"fill\",\"color\"],[\"stroke\",\"borderColor\"],[\"lineWidth\",\"borderWidth\"],[\"stroke\",\"barBorderColor\"],[\"lineWidth\",\"barBorderWidth\"],[\"opacity\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"]]),iA={getBarItemStyle:function(t){var e=eA(this,t);if(this.getBorderLineDash){var i=this.getBorderLineDash();i&&(e.lineDash=i)}return e}},nA=[\"itemStyle\",\"barBorderWidth\"];a(_o.prototype,iA),ys({type:\"bar\",render:function(t,e,i){var n=t.get(\"coordinateSystem\");return\"cartesian2d\"!==n&&\"polar\"!==n||this._render(t,e,i),this.group},dispose:B,_render:function(t,e,i){var n,o=this.group,a=t.getData(),r=this._data,s=t.coordinateSystem,l=s.getBaseAxis();\"cartesian2d\"===s.type?n=l.isHorizontal():\"polar\"===s.type&&(n=\"angle\"===l.dim);var h=t.isAnimationEnabled()?t:null;a.diff(r).add(function(e){if(a.hasValue(e)){var i=a.getItemModel(e),r=aA[s.type](a,e,i),l=oA[s.type](a,e,i,r,n,h);a.setItemGraphicEl(e,l),o.add(l),Dh(l,a,e,i,r,t,n,\"polar\"===s.type)}}).update(function(e,i){var l=r.getItemGraphicEl(i);if(a.hasValue(e)){var u=a.getItemModel(e),c=aA[s.type](a,e,u);l?co(l,{shape:c},h,e):l=oA[s.type](a,e,u,c,n,h,!0),a.setItemGraphicEl(e,l),o.add(l),Dh(l,a,e,u,c,t,n,\"polar\"===s.type)}else o.remove(l)}).remove(function(t){var e=r.getItemGraphicEl(t);\"cartesian2d\"===s.type?e&&Th(t,h,e):e&&Ah(t,h,e)}).execute(),this._data=a},remove:function(t,e){var i=this.group,n=this._data;t.get(\"animation\")?n&&n.eachItemGraphicEl(function(e){\"sector\"===e.type?Ah(e.dataIndex,t,e):Th(e.dataIndex,t,e)}):i.removeAll()}});var oA={cartesian2d:function(t,e,i,n,o,r,s){var l=new Vb({shape:a({},n)});if(r){var h=l.shape,u=o?\"height\":\"width\",c={};h[u]=0,c[u]=n[u],tS[s?\"updateProps\":\"initProps\"](l,{shape:c},r,e)}return l},polar:function(t,e,i,n,o,r,s){var l=new Ob({shape:a({},n)});if(r){var h=l.shape,u=o?\"r\":\"endAngle\",c={};h[u]=o?0:n.startAngle,c[u]=n[u],tS[s?\"updateProps\":\"initProps\"](l,{shape:c},r,e)}return l}},aA={cartesian2d:function(t,e,i){var n=t.getItemLayout(e),o=Ch(i,n),a=n.width>0?1:-1,r=n.height>0?1:-1;return{x:n.x+a*o/2,y:n.y+r*o/2,width:n.width-a*o,height:n.height-r*o}},polar:function(t,e,i){var n=t.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle}}};cs(v(il,\"bar\")),ds(function(t){t.eachSeriesByType(\"bar\",function(t){t.getData().setVisual(\"legendSymbol\",\"roundRect\")})});var rA=function(t,e,i){e=y(e)&&{coordDimensions:e}||a({},e);var n=t.getSource(),o=wI(n,e),r=new yI(o,t);return r.initData(n,i),r},sA={updateSelectedMap:function(t){if(y(t))this._targetList=t.slice();else for(var e=t,i=e.mapDimension(\"value\"),t=this._targetList=[],n=0,o=e.count();n<o;n++)t.push({name:e.getName(n),value:e.get(i,n),selected:Qa(e,n,\"selected\")});this._selectTargetMap=p(t||[],function(t,e){return t.set(e.name,e),t},z())},select:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);\"single\"===this.get(\"selectedMode\")&&this._selectTargetMap.each(function(t){t.selected=!1}),i&&(i.selected=!0)},unSelect:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);i&&(i.selected=!1)},toggleSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=i)return this[i.selected?\"unSelect\":\"select\"](t,e),i.selected},isSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return i&&i.selected}},lA=vs({type:\"series.pie\",init:function(t){lA.superApply(this,\"init\",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this.getRawData()),this._defaultLabelLine(t)},mergeOption:function(t){lA.superCall(this,\"mergeOption\",t),this.updateSelectedMap(this.getRawData())},getInitialData:function(t,e){return rA(this,[\"value\"])},getDataParams:function(t){var e=this.getData(),i=lA.superCall(this,\"getDataParams\",t),n=[];return e.each(e.mapDimension(\"value\"),function(t){n.push(t)}),i.percent=Po(n,t,e.hostModel.get(\"percentPrecision\")),i.$vars.push(\"percent\"),i},_defaultLabelLine:function(t){Mi(t,\"labelLine\",[\"show\"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:[\"50%\",\"50%\"],radius:[0,\"75%\"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:\"outer\"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:\"solid\"}},itemStyle:{borderWidth:1},animationType:\"expansion\",animationEasing:\"cubicOut\"}});u(lA,sA);var hA=Ph.prototype;hA.updateData=function(t,e,i){function n(){s.stopAnimation(!0),s.animateTo({shape:{r:u.r+l.get(\"hoverOffset\")}},300,\"elasticOut\")}function o(){s.stopAnimation(!0),s.animateTo({shape:{r:u.r}},300,\"elasticOut\")}var s=this.childAt(0),l=t.hostModel,h=t.getItemModel(e),u=t.getItemLayout(e),c=a({},u);c.label=null,i?(s.setShape(c),\"scale\"===l.getShallow(\"animationType\")?(s.shape.r=u.r0,fo(s,{shape:{r:u.r}},l,e)):(s.shape.endAngle=u.startAngle,co(s,{shape:{endAngle:u.endAngle}},l,e))):co(s,{shape:c},l,e);var d=t.getItemVisual(e,\"color\");s.useStyle(r({lineJoin:\"bevel\",fill:d},h.getModel(\"itemStyle\").getItemStyle())),s.hoverStyle=h.getModel(\"emphasis.itemStyle\").getItemStyle();var f=h.getShallow(\"cursor\");f&&s.attr(\"cursor\",f),kh(this,t.getItemLayout(e),l.isSelected(null,e),l.get(\"selectedOffset\"),l.get(\"animation\")),s.off(\"mouseover\").off(\"mouseout\").off(\"emphasis\").off(\"normal\"),h.get(\"hoverAnimation\")&&l.isAnimationEnabled()&&s.on(\"mouseover\",n).on(\"mouseout\",o).on(\"emphasis\",n).on(\"normal\",o),this._updateLabel(t,e),to(this)},hA._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),o=t.hostModel,a=t.getItemModel(e),r=t.getItemLayout(e).label,s=t.getItemVisual(e,\"color\");co(i,{shape:{points:r.linePoints||[[r.x,r.y],[r.x,r.y],[r.x,r.y]]}},o,e),co(n,{style:{x:r.x,y:r.y}},o,e),n.attr({rotation:r.rotation,origin:[r.x,r.y],z2:10});var l=a.getModel(\"label\"),h=a.getModel(\"emphasis.label\"),u=a.getModel(\"labelLine\"),c=a.getModel(\"emphasis.labelLine\"),s=t.getItemVisual(e,\"color\");eo(n.style,n.hoverStyle={},l,h,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:s,useInsideStyle:!!r.inside},{textAlign:r.textAlign,textVerticalAlign:r.verticalAlign,opacity:t.getItemVisual(e,\"opacity\")}),n.ignore=n.normalIgnore=!l.get(\"show\"),n.hoverIgnore=!h.get(\"show\"),i.ignore=i.normalIgnore=!u.get(\"show\"),i.hoverIgnore=!c.get(\"show\"),i.setStyle({stroke:s,opacity:t.getItemVisual(e,\"opacity\")}),i.setStyle(u.getModel(\"lineStyle\").getLineStyle()),i.hoverStyle=c.getModel(\"lineStyle\").getLineStyle();var d=u.get(\"smooth\");d&&!0===d&&(d=.4),i.setShape({smooth:d})},h(Ph,S_);cr.extend({type:\"pie\",init:function(){var t=new S_;this._sectorGroup=t},render:function(t,e,i,n){if(!n||n.from!==this.uid){var o=t.getData(),a=this._data,r=this.group,s=e.get(\"animation\"),l=!a,h=t.get(\"animationType\"),u=v(Lh,this.uid,t,s,i),c=t.get(\"selectedMode\");if(o.diff(a).add(function(t){var e=new Ph(o,t);l&&\"scale\"!==h&&e.eachChild(function(t){t.stopAnimation(!0)}),c&&e.on(\"click\",u),o.setItemGraphicEl(t,e),r.add(e)}).update(function(t,e){var i=a.getItemGraphicEl(e);i.updateData(o,t),i.off(\"click\"),c&&i.on(\"click\",u),r.add(i),o.setItemGraphicEl(t,i)}).remove(function(t){var e=a.getItemGraphicEl(t);r.remove(e)}).execute(),s&&l&&o.count()>0&&\"scale\"!==h){var d=o.getItemLayout(0),f=Math.max(i.getWidth(),i.getHeight())/2,p=m(r.removeClipPath,r);r.setClipPath(this._createClipPath(d.cx,d.cy,f,d.startAngle,d.clockwise,p,t))}this._data=o}},dispose:function(){},_createClipPath:function(t,e,i,n,o,a,r){var s=new Ob({shape:{cx:t,cy:e,r0:0,r:i,startAngle:n,endAngle:n,clockwise:o}});return fo(s,{shape:{endAngle:n+(o?1:-1)*Math.PI*2}},r,a),s},containPoint:function(t,e){var i=e.getData().getItemLayout(0);if(i){var n=t[0]-i.cx,o=t[1]-i.cy,a=Math.sqrt(n*n+o*o);return a<=i.r&&a>=i.r0}}});var uA=function(t,e){d(e,function(e){e.update=\"updateView\",hs(e,function(i,n){var o={};return n.eachComponent({mainType:\"series\",subType:t,query:i},function(t){t[e.method]&&t[e.method](i.name,i.dataIndex);var n=t.getData();n.each(function(e){var i=n.getName(e);o[i]=t.isSelected(i)||!1})}),{name:i.name,selected:o}})})},cA=function(t){return{getTargetSeries:function(e){var i={},n=z();return e.eachSeriesByType(t,function(t){t.__paletteScope=i,n.set(t.uid,t)}),n},reset:function(t,e){var i=t.getRawData(),n={},o=t.getData();o.each(function(t){var e=o.getRawIndex(t);n[e]=t}),i.each(function(e){var a=n[e],r=null!=a&&o.getItemVisual(a,\"color\",!0);if(r)i.setItemVisual(e,\"color\",r);else{var s=i.getItemModel(e).get(\"itemStyle.color\")||t.getColorFromPalette(i.getName(e),t.__paletteScope,i.count());i.setItemVisual(e,\"color\",s),null!=a&&o.setItemVisual(a,\"color\",s)}})}}},dA=function(t,e,i,n){var o,a,r=t.getData(),s=[],l=!1;r.each(function(i){var n,h,u,c,d=r.getItemLayout(i),f=r.getItemModel(i),p=f.getModel(\"label\"),g=p.get(\"position\")||f.get(\"emphasis.label.position\"),m=f.getModel(\"labelLine\"),v=m.get(\"length\"),y=m.get(\"length2\"),x=(d.startAngle+d.endAngle)/2,_=Math.cos(x),w=Math.sin(x);o=d.cx,a=d.cy;var b=\"inside\"===g||\"inner\"===g;if(\"center\"===g)n=d.cx,h=d.cy,c=\"center\";else{var S=(b?(d.r+d.r0)/2*_:d.r*_)+o,M=(b?(d.r+d.r0)/2*w:d.r*w)+a;if(n=S+3*_,h=M+3*w,!b){var I=S+_*(v+e-d.r),T=M+w*(v+e-d.r),A=I+(_<0?-1:1)*y,D=T;n=A+(_<0?-5:5),h=D,u=[[S,M],[I,T],[A,D]]}c=b?\"center\":_>0?\"left\":\"right\"}var C=p.getFont(),L=p.get(\"rotate\")?_<0?-x+Math.PI:-x:0,k=me(t.getFormattedLabel(i,\"normal\")||r.getName(i),C,c,\"top\");l=!!L,d.label={x:n,y:h,position:g,height:k.height,len:v,len2:y,linePoints:u,textAlign:c,verticalAlign:\"middle\",rotation:L,inside:b},b||s.push(d.label)}),!l&&t.get(\"avoidLabelOverlap\")&&Nh(s,o,a,e,i,n)},fA=2*Math.PI,pA=Math.PI/180,gA=function(t){return{seriesType:t,reset:function(t,e){var i=e.findComponents({mainType:\"legend\"});if(i&&i.length){var n=t.getData();n.filterSelf(function(t){for(var e=n.getName(t),o=0;o<i.length;o++)if(!i[o].isSelected(e))return!1;return!0},this)}}}};uA(\"pie\",[{type:\"pieToggleSelect\",event:\"pieselectchanged\",method:\"toggleSelected\"},{type:\"pieSelect\",event:\"pieselected\",method:\"select\"},{type:\"pieUnSelect\",event:\"pieunselected\",method:\"unSelect\"}]),ds(cA(\"pie\")),cs(v(function(t,e,i,n){e.eachSeriesByType(t,function(t){var e=t.getData(),n=e.mapDimension(\"value\"),o=t.get(\"center\"),a=t.get(\"radius\");y(a)||(a=[0,a]),y(o)||(o=[o,o]);var r=i.getWidth(),s=i.getHeight(),l=Math.min(r,s),h=To(o[0],r),u=To(o[1],s),c=To(a[0],l/2),d=To(a[1],l/2),f=-t.get(\"startAngle\")*pA,p=t.get(\"minAngle\")*pA,g=0;e.each(n,function(t){!isNaN(t)&&g++});var m=e.getSum(n),v=Math.PI/(m||g)*2,x=t.get(\"clockwise\"),_=t.get(\"roseType\"),w=t.get(\"stillShowZeroSum\"),b=e.getDataExtent(n);b[0]=0;var S=fA,M=0,I=f,T=x?1:-1;if(e.each(n,function(t,i){var n;if(isNaN(t))e.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:h,cy:u,r0:c,r:_?NaN:d});else{(n=\"area\"!==_?0===m&&w?v:t*v:fA/g)<p?(n=p,S-=p):M+=t;var o=I+T*n;e.setItemLayout(i,{angle:n,startAngle:I,endAngle:o,clockwise:x,cx:h,cy:u,r0:c,r:_?Io(t,b,[c,d]):d}),I=o}},!0),S<fA&&g)if(S<=.001){var A=fA/g;e.each(n,function(t,i){if(!isNaN(t)){var n=e.getItemLayout(i);n.angle=A,n.startAngle=f+T*i*A,n.endAngle=f+T*(i+1)*A}})}else v=S/M,I=f,e.each(n,function(t,i){if(!isNaN(t)){var n=e.getItemLayout(i),o=n.angle===p?p:t*v;n.startAngle=I,n.endAngle=I+T*o,I+=T*o}});dA(t,d,r,s)})},\"pie\")),ls(gA(\"pie\")),uM.extend({type:\"series.scatter\",dependencies:[\"grid\",\"polar\",\"geo\",\"singleAxis\",\"calendar\"],getInitialData:function(t,e){return Bs(this.getSource(),this)},brushSelector:\"point\",getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get(\"progressive\"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get(\"progressiveThreshold\"):t},defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},progressive:null}});var mA=Nn({shape:{points:null},symbolProxy:null,buildPath:function(t,e){var i=e.points,n=e.size,o=this.symbolProxy,a=o.shape;if(!((t.getContext?t.getContext():t)&&n[0]<4))for(var r=0;r<i.length;){var s=i[r++],l=i[r++];isNaN(s)||isNaN(l)||(a.x=s-n[0]/2,a.y=l-n[1]/2,a.width=n[0],a.height=n[1],o.buildPath(t,a,!0))}},afterBrush:function(t){var e=this.shape,i=e.points,n=e.size;if(n[0]<4){this.setTransform(t);for(var o=0;o<i.length;){var a=i[o++],r=i[o++];isNaN(a)||isNaN(r)||t.fillRect(a-n[0]/2,r-n[1]/2,n[0],n[1])}this.restoreTransform(t)}},findDataIndex:function(t,e){for(var i=this.shape,n=i.points,o=i.size,a=Math.max(o[0],4),r=Math.max(o[1],4),s=n.length/2-1;s>=0;s--){var l=2*s,h=n[l]-a/2,u=n[l+1]-r/2;if(t>=h&&e>=u&&t<=h+a&&e<=u+r)return s}return-1}}),vA=Eh.prototype;vA.isPersistent=function(){return!this._incremental},vA.updateData=function(t){this.group.removeAll();var e=new mA({rectHover:!0,cursor:\"default\"});e.setShape({points:t.getLayout(\"symbolPoints\")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},vA.updateLayout=function(t){if(!this._incremental){var e=t.getLayout(\"symbolPoints\");this.group.eachChild(function(t){if(null!=t.startIndex){var i=2*(t.endIndex-t.startIndex),n=4*t.startIndex*2;e=new Float32Array(e.buffer,n,i)}t.setShape(\"points\",e)})}},vA.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new On({silent:!0})),this.group.add(this._incremental)):this._incremental=null},vA.incrementalUpdate=function(t,e){var i;this._incremental?(i=new mA,this._incremental.addDisplayable(i,!0)):((i=new mA({rectHover:!0,cursor:\"default\",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(i)),i.setShape({points:e.getLayout(\"symbolPoints\")}),this._setCommon(i,e,!!this._incremental)},vA._setCommon=function(t,e,i){var n=e.hostModel,o=e.getVisual(\"symbolSize\");t.setShape(\"size\",o instanceof Array?o:[o,o]),t.symbolProxy=dl(e.getVisual(\"symbol\"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var a=t.shape.size[0]<4;t.useStyle(n.getModel(\"itemStyle\").getItemStyle(a?[\"color\",\"shadowBlur\",\"shadowColor\"]:[\"color\"]));var r=e.getVisual(\"color\");r&&t.setColor(r),i||(t.seriesIndex=n.seriesIndex,t.on(\"mousemove\",function(e){t.dataIndex=null;var i=t.findDataIndex(e.offsetX,e.offsetY);i>=0&&(t.dataIndex=i+(t.startIndex||0))}))},vA.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},vA._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},ys({type:\"scatter\",render:function(t,e,i){var n=t.getData();this._updateSymbolDraw(n,t).updateData(n),this._finished=!0},incrementalPrepareRender:function(t,e,i){var n=t.getData();this._updateSymbolDraw(n,t).incrementalPrepareUpdate(n),this._finished=!1},incrementalRender:function(t,e,i){this._symbolDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,i){var n=t.getData();if(this.group.dirty(),!this._finished||n.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var o=ST().reset(t);o.progress&&o.progress({start:0,end:n.count()},n),this._symbolDraw.updateLayout(n)},_updateSymbolDraw:function(t,e){var i=this._symbolDraw,n=e.pipelineContext.large;return i&&n===this._isLargeDraw||(i&&i.remove(),i=this._symbolDraw=n?new Eh:new Ml,this._isLargeDraw=n,this.group.removeAll()),this.group.add(i.group),i},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),ds(bT(\"scatter\",\"circle\")),cs(ST(\"scatter\")),h(zh,nT),Rh.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Rh.prototype.dataToPoint=function(t,e){var i=this._indicatorAxes[e];return this.coordToPoint(i.dataToCoord(t),e)},Rh.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(i),this.cy-t*Math.sin(i)]},Rh.prototype.pointToData=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=Math.sqrt(e*e+i*i);e/=n,i/=n;for(var o,a=Math.atan2(-i,e),r=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var h=this._indicatorAxes[l],u=Math.abs(a-h.angle);u<r&&(o=h,s=l,r=u)}return[s,+(o&&o.coodToData(n))]},Rh.prototype.resize=function(t,e){var i=t.get(\"center\"),n=e.getWidth(),o=e.getHeight(),a=Math.min(n,o)/2;this.cx=To(i[0],n),this.cy=To(i[1],o),this.startAngle=t.get(\"startAngle\")*Math.PI/180,this.r=To(t.get(\"radius\"),a),d(this._indicatorAxes,function(t,e){t.setExtent(0,this.r);var i=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i)),t.angle=i},this)},Rh.prototype.update=function(t,e){function i(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),i=t/e;return 2===i?i=5:i*=2,i*e}var n=this._indicatorAxes,o=this._model;d(n,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType(\"radar\",function(e,i){if(\"radar\"===e.get(\"coordinateSystem\")&&t.getComponent(\"radar\",e.get(\"radarIndex\"))===o){var a=e.getData();d(n,function(t){t.scale.unionExtentFromData(a,a.mapDimension(t.dim))})}},this);var a=o.get(\"splitNumber\");d(n,function(t,e){var n=ol(t.scale,t.model);rl(t.scale,t.model);var o=t.model,r=t.scale,s=o.getMin(),l=o.getMax(),h=r.getInterval();if(null!=s&&null!=l)r.setExtent(+s,+l),r.setInterval((l-s)/a);else if(null!=s){var u;do{u=s+h*a,r.setExtent(+s,u),r.setInterval(h),h=i(h)}while(u<n[1]&&isFinite(u)&&isFinite(n[1]))}else if(null!=l){var c;do{c=l-h*a,r.setExtent(c,+l),r.setInterval(h),h=i(h)}while(c>n[0]&&isFinite(c)&&isFinite(n[0]))}else{r.getTicks().length-1>a&&(h=i(h));var d=Math.round((n[0]+n[1])/2/h)*h,f=Math.round(a/2);r.setExtent(Ao(d-f*h),Ao(d+(a-f)*h)),r.setInterval(h)}})},Rh.dimensions=[],Rh.create=function(t,e){var i=[];return t.eachComponent(\"radar\",function(n){var o=new Rh(n,t,e);i.push(o),n.coordinateSystem=o}),t.eachSeriesByType(\"radar\",function(t){\"radar\"===t.get(\"coordinateSystem\")&&(t.coordinateSystem=i[t.get(\"radarIndex\")||0])}),i},Aa.register(\"radar\",Rh);var yA=CT.valueAxis,xA=(gs({type:\"radar\",optionUpdated:function(){var t=this.get(\"boundaryGap\"),e=this.get(\"splitNumber\"),o=this.get(\"scale\"),s=this.get(\"axisLine\"),l=this.get(\"axisTick\"),h=this.get(\"axisLabel\"),u=this.get(\"name\"),c=this.get(\"name.show\"),d=this.get(\"name.formatter\"),p=this.get(\"nameGap\"),g=this.get(\"triggerEvent\"),m=f(this.get(\"indicator\")||[],function(f){null!=f.max&&f.max>0&&!f.min?f.min=0:null!=f.min&&f.min<0&&!f.max&&(f.max=0);var m=u;if(null!=f.color&&(m=r({color:f.color},u)),f=n(i(f),{boundaryGap:t,splitNumber:e,scale:o,axisLine:s,axisTick:l,axisLabel:h,name:f.text,nameLocation:\"end\",nameGap:p,nameTextStyle:m,triggerEvent:g},!1),c||(f.name=\"\"),\"string\"==typeof d){var v=f.name;f.name=d.replace(\"{value}\",null!=v?v:\"\")}else\"function\"==typeof d&&(f.name=d(f.name,f));var y=a(new _o(f,null,this.ecModel),ZI);return y.mainType=\"radar\",y.componentIndex=this.componentIndex,y},this);this.getIndicatorModels=function(){return m}},defaultOption:{zlevel:0,z:0,center:[\"50%\",\"50%\"],radius:\"75%\",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:\"polygon\",axisLine:n({lineStyle:{color:\"#bbb\"}},yA.axisLine),axisLabel:Bh(yA.axisLabel,!1),axisTick:Bh(yA.axisTick,!1),splitLine:Bh(yA.splitLine,!0),splitArea:Bh(yA.splitArea,!0),indicator:[]}}),[\"axisLine\",\"axisTickLabel\",\"axisName\"]);ms({type:\"radar\",render:function(t,e,i){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem;d(f(e.getIndicatorAxes(),function(t){return new GT(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(t){d(xA,t.add,t),this.group.add(t.getGroup())},this)},_buildSplitLineAndArea:function(t){function e(t,e,i){var n=i%e.length;return t[n]=t[n]||[],n}var i=t.coordinateSystem,n=i.getIndicatorAxes();if(n.length){var o=t.get(\"shape\"),a=t.getModel(\"splitLine\"),s=t.getModel(\"splitArea\"),l=a.getModel(\"lineStyle\"),h=s.getModel(\"areaStyle\"),u=a.get(\"show\"),c=s.get(\"show\"),p=l.get(\"color\"),g=h.get(\"color\");p=y(p)?p:[p],g=y(g)?g:[g];var m=[],v=[];if(\"circle\"===o)for(var x=n[0].getTicksCoords(),_=i.cx,w=i.cy,b=0;b<x.length;b++)u&&m[D=e(m,p,b)].push(new Lb({shape:{cx:_,cy:w,r:x[b]}})),c&&b<x.length-1&&v[D=e(v,g,b)].push(new Nb({shape:{cx:_,cy:w,r0:x[b],r:x[b+1]}}));else for(var S,M=f(n,function(t,e){var n=t.getTicksCoords();return S=null==S?n.length-1:Math.min(n.length-1,S),f(n,function(t){return i.coordToPoint(t,e)})}),I=[],b=0;b<=S;b++){for(var T=[],A=0;A<n.length;A++)T.push(M[A][b]);if(T[0]&&T.push(T[0].slice()),u&&m[D=e(m,p,b)].push(new Bb({shape:{points:T}})),c&&I){var D=e(v,g,b-1);v[D].push(new Rb({shape:{points:T.concat(I)}}))}I=T.slice().reverse()}var C=l.getLineStyle(),L=h.getAreaStyle();d(v,function(t,e){this.group.add(Qb(t,{style:r({stroke:\"none\",fill:g[e%g.length]},L),silent:!0}))},this),d(m,function(t,e){this.group.add(Qb(t,{style:r({fill:\"none\",stroke:p[e%p.length]},C),silent:!0}))},this)}}});var _A=uM.extend({type:\"series.radar\",dependencies:[\"radar\"],init:function(t){_A.superApply(this,\"init\",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(t,e){return rA(this,{extraPrefix:\"indicator_\",extraFromZero:!0})},formatTooltip:function(t){var e=this.getData(),i=this.coordinateSystem.getIndicatorAxes(),n=this.getData().getName(t);return Ho(\"\"===n?this.name:n)+\"<br/>\"+f(i,function(i,n){var o=e.get(e.mapDimension(i.dim),t);return Ho(i.name+\" : \"+o)}).join(\"<br />\")},defaultOption:{zlevel:0,z:2,coordinateSystem:\"radar\",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:\"solid\"},label:{position:\"top\"},symbol:\"emptyCircle\",symbolSize:4}});ys({type:\"radar\",render:function(t,e,n){function o(t,e){var i=t.getItemVisual(e,\"symbol\")||\"circle\",n=t.getItemVisual(e,\"color\");if(\"none\"!==i){var o=Vh(t.getItemVisual(e,\"symbolSize\")),a=dl(i,-1,-1,2,2,n);return a.attr({style:{strokeNoScale:!0},z2:100,scale:[o[0]/2,o[1]/2]}),a}}function a(e,i,n,a,r,s){n.removeAll();for(var l=0;l<i.length-1;l++){var h=o(a,r);h&&(h.__dimIdx=l,e[l]?(h.attr(\"position\",e[l]),tS[s?\"initProps\":\"updateProps\"](h,{position:i[l]},t,r)):h.attr(\"position\",i[l]),n.add(h))}}function s(t){return f(t,function(t){return[l.cx,l.cy]})}var l=t.coordinateSystem,h=this.group,u=t.getData(),c=this._data;u.diff(c).add(function(e){var i=u.getItemLayout(e);if(i){var n=new Rb,o=new Bb,r={shape:{points:i}};n.shape.points=s(i),o.shape.points=s(i),fo(n,r,t,e),fo(o,r,t,e);var l=new S_,h=new S_;l.add(o),l.add(n),l.add(h),a(o.shape.points,i,h,u,e,!0),u.setItemGraphicEl(e,l)}}).update(function(e,i){var n=c.getItemGraphicEl(i),o=n.childAt(0),r=n.childAt(1),s=n.childAt(2),l={shape:{points:u.getItemLayout(e)}};l.shape.points&&(a(o.shape.points,l.shape.points,s,u,e,!1),co(o,l,t),co(r,l,t),u.setItemGraphicEl(e,n))}).remove(function(t){h.remove(c.getItemGraphicEl(t))}).execute(),u.eachItemGraphicEl(function(t,e){function n(){l.attr(\"ignore\",m)}function o(){l.attr(\"ignore\",g)}var a=u.getItemModel(e),s=t.childAt(0),l=t.childAt(1),c=t.childAt(2),d=u.getItemVisual(e,\"color\");h.add(t),s.useStyle(r(a.getModel(\"lineStyle\").getLineStyle(),{fill:\"none\",stroke:d})),s.hoverStyle=a.getModel(\"emphasis.lineStyle\").getLineStyle();var f=a.getModel(\"areaStyle\"),p=a.getModel(\"emphasis.areaStyle\"),g=f.isEmpty()&&f.parentModel.isEmpty(),m=p.isEmpty()&&p.parentModel.isEmpty();m=m&&g,l.ignore=g,l.useStyle(r(f.getAreaStyle(),{fill:d,opacity:.7})),l.hoverStyle=p.getAreaStyle();var v=a.getModel(\"itemStyle\").getItemStyle([\"color\"]),y=a.getModel(\"emphasis.itemStyle\").getItemStyle(),x=a.getModel(\"label\"),_=a.getModel(\"emphasis.label\");c.eachChild(function(t){t.setStyle(v),t.hoverStyle=i(y),eo(t.style,t.hoverStyle,x,_,{labelFetcher:u.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:u.get(u.dimensions[t.__dimIdx],e),autoColor:d,isRectText:!0})}),t.off(\"mouseover\").off(\"mouseout\").off(\"normal\").off(\"emphasis\"),t.on(\"emphasis\",n).on(\"mouseover\",n).on(\"normal\",o).on(\"mouseout\",o),to(t)}),this._data=u},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});ds(cA(\"radar\")),ds(bT(\"radar\",\"circle\")),cs(function(t){t.eachSeriesByType(\"radar\",function(t){var e=t.getData(),i=[],n=t.coordinateSystem;if(n){for(var o=n.getIndicatorAxes(),a=0;a<n.getIndicatorAxes().length;a++)e.each(e.mapDimension(o[a].dim),function(t,e){i[e]=i[e]||[],i[e][a]=n.dataToPoint(t,a)});e.each(function(t){i[t][0]&&i[t].push(i[t][0].slice()),e.setItemLayout(t,i[t])})}})}),ls(gA(\"radar\")),ss(function(t){var e=t.polar;if(e){y(e)||(e=[e]);var i=[];d(e,function(e,n){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],y(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):i.push(e)}),t.polar=i}d(t.series,function(t){t&&\"radar\"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})});var wA=uM.extend({type:\"series.map\",dependencies:[\"geo\"],layoutMode:\"box\",needsDrawMap:!1,seriesGroup:[],init:function(t){this._fillOption(t,this.getMapType()),wA.superApply(this,\"init\",arguments),this.updateSelectedMap(this.getRawData())},getInitialData:function(t){return rA(this,[\"value\"])},mergeOption:function(t){this._fillOption(t,this.getMapType()),wA.superApply(this,\"mergeOption\",arguments),this.updateSelectedMap(this.getRawData())},getHostGeoModel:function(){var t=this.option.geoIndex;return null!=t?this.dependentModels.geo[t]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(t,e){},getRawValue:function(t){var e=this.getData();return e.get(e.mapDimension(\"value\"),t)},getRegionModel:function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},formatTooltip:function(t){for(var e=this.getData(),i=Wo(this.getRawValue(t)),n=e.getName(t),o=this.seriesGroup,a=[],r=0;r<o.length;r++){var s=o[r].originalData.indexOfName(n),l=e.mapDimension(\"value\");isNaN(o[r].originalData.get(l,s))||a.push(Ho(o[r].name))}return a.join(\", \")+\"<br />\"+Ho(n+\" : \"+i)},getTooltipPosition:function(t){if(null!=t){var e=this.getData().getName(t),i=this.coordinateSystem,n=i.getRegion(e);return n&&i.dataToPoint(n.center)}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},defaultOption:{zlevel:0,z:2,coordinateSystem:\"geo\",map:\"\",left:\"center\",top:\"center\",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:\"#000\"},itemStyle:{borderWidth:.5,borderColor:\"#444\",areaColor:\"#eee\"},emphasis:{label:{show:!0,color:\"rgb(100,0,0)\"},itemStyle:{areaColor:\"rgba(255,215,0,0.8)\"}}}});u(wA,sA);var bA=\"\\0_ec_interaction_mutex\";hs({type:\"takeGlobalCursor\",event:\"globalCursorTaken\",update:\"update\"},function(){}),u(Zh,Hx);var SA={axisPointer:1,tooltip:1,brush:1};ou.prototype={constructor:ou,draw:function(t,e,i,n,o){var a=\"geo\"===t.mainType,r=t.getData&&t.getData();a&&e.eachComponent({mainType:\"series\",subType:\"map\"},function(e){r||e.getHostGeoModel()!==t||(r=e.getData())});var s=t.coordinateSystem,l=this.group,h=s.scale,u={position:s.position,scale:h};!l.childAt(0)||o?l.attr(u):co(l,u,t),l.removeAll();var c=[\"itemStyle\"],f=[\"emphasis\",\"itemStyle\"],p=[\"label\"],g=[\"emphasis\",\"label\"],m=z();d(s.regions,function(e){var i=m.get(e.name)||m.set(e.name,new S_),n=new Zb({shape:{paths:[]}});i.add(n);var o,s=(C=t.getRegionModel(e.name)||t).getModel(c),u=C.getModel(f),v=eu(s),y=eu(u),x=C.getModel(p),_=C.getModel(g);if(r){o=r.indexOfName(e.name);var w=r.getItemVisual(o,\"color\",!0);w&&(v.fill=w)}d(e.geometries,function(t){if(\"polygon\"===t.type){n.shape.paths.push(new Rb({shape:{points:t.exterior}}));for(var e=0;e<(t.interiors?t.interiors.length:0);e++)n.shape.paths.push(new Rb({shape:{points:t.interiors[e]}}))}}),n.setStyle(v),n.style.strokeNoScale=!0,n.culling=!0;var b=x.get(\"show\"),S=_.get(\"show\"),M=r&&isNaN(r.get(r.mapDimension(\"value\"),o)),I=r&&r.getItemLayout(o);if(a||M&&(b||S)||I&&I.showLabel){var T,A=a?e.name:o;(!r||o>=0)&&(T=t);var D=new Cb({position:e.center.slice(),scale:[1/h[0],1/h[1]],z2:10,silent:!0});eo(D.style,D.hoverStyle={},x,_,{labelFetcher:T,labelDataIndex:A,defaultText:e.name,useInsideStyle:!1},{textAlign:\"center\",textVerticalAlign:\"middle\"}),i.add(D)}if(r)r.setItemGraphicEl(o,i);else{var C=t.getRegionModel(e.name);n.eventData={componentType:\"geo\",geoIndex:t.componentIndex,name:e.name,region:C&&C.option||{}}}(i.__regions||(i.__regions=[])).push(e),to(i,y,{hoverSilentOnTouch:!!t.get(\"selectedMode\")}),l.add(i)}),this._updateController(t,e,i),iu(this,t,l,i,n),nu(t,l)},remove:function(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={}},_updateController:function(t,e,i){function n(){var e={type:\"geoRoam\",componentType:l};return e[l+\"Id\"]=t.id,e}var o=t.coordinateSystem,r=this._controller,s=this._controllerHost;s.zoomLimit=t.get(\"scaleLimit\"),s.zoom=o.getZoom(),r.enable(t.get(\"roam\")||!1);var l=t.mainType;r.off(\"pan\").on(\"pan\",function(t,e){this._mouseDownFlag=!1,Jh(s,t,e),i.dispatchAction(a(n(),{dx:t,dy:e}))},this),r.off(\"zoom\").on(\"zoom\",function(t,e,o){if(this._mouseDownFlag=!1,Qh(s,t,e,o),i.dispatchAction(a(n(),{zoom:t,originX:e,originY:o})),this._updateGroup){var r=this.group,l=r.scale;r.traverse(function(t){\"text\"===t.type&&t.attr(\"scale\",[1/l[0],1/l[1]])})}},this),r.setPointerChecker(function(e,n,a){return o.getViewRectAfterRoam().contain(n,a)&&!tu(e,i,t)})}},ys({type:\"map\",render:function(t,e,i,n){if(!n||\"mapToggleSelect\"!==n.type||n.from!==this.uid){var o=this.group;if(o.removeAll(),!t.getHostGeoModel()){if(n&&\"geoRoam\"===n.type&&\"series\"===n.componentType&&n.seriesId===t.id)(a=this._mapDraw)&&o.add(a.group);else if(t.needsDrawMap){var a=this._mapDraw||new ou(i,!0);o.add(a.group),a.draw(t,e,i,this,n),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get(\"showLegendSymbol\")&&e.getComponent(\"legend\")&&this._renderSymbols(t,e,i)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(t,e,i){var n=t.originalData,o=this.group;n.each(n.mapDimension(\"value\"),function(e,i){if(!isNaN(e)){var a=n.getItemLayout(i);if(a&&a.point){var r=a.point,s=a.offset,l=new Lb({style:{fill:t.getData().getVisual(\"color\")},shape:{cx:r[0]+9*s,cy:r[1],r:3},silent:!0,z2:s?8:10});if(!s){var h=t.mainSeries.getData(),u=n.getName(i),c=h.indexOfName(u),d=n.getItemModel(i),f=d.getModel(\"label\"),p=d.getModel(\"emphasis.label\"),g=h.getItemGraphicEl(c),m=A(t.getFormattedLabel(i,\"normal\"),u),v=A(t.getFormattedLabel(i,\"emphasis\"),m),y=function(){var t=io({},p,{text:p.get(\"show\")?v:null},{isRectText:!0,useInsideStyle:!1},!0);l.style.extendFrom(t),l.__mapOriginalZ2=l.z2,l.z2+=1},x=function(){io(l.style,f,{text:f.get(\"show\")?m:null,textPosition:f.getShallow(\"position\")||\"bottom\"},{isRectText:!0,useInsideStyle:!1}),null!=l.__mapOriginalZ2&&(l.z2=l.__mapOriginalZ2,l.__mapOriginalZ2=null)};g.on(\"mouseover\",y).on(\"mouseout\",x).on(\"emphasis\",y).on(\"normal\",x),x()}o.add(l)}}})}}),hs({type:\"geoRoam\",event:\"geoRoam\",update:\"updateTransform\"},function(t,e){var i=t.componentType||\"series\";e.eachComponent({mainType:i,query:t},function(e){var n=e.coordinateSystem;if(\"geo\"===n.type){var o=au(n,t,e.get(\"scaleLimit\"));e.setCenter&&e.setCenter(o.center),e.setZoom&&e.setZoom(o.zoom),\"series\"===i&&d(e.seriesGroup,function(t){t.setCenter(o.center),t.setZoom(o.zoom)})}})});var MA=Q;u(ru,Kx),su.prototype={constructor:su,type:\"view\",dimensions:[\"x\",\"y\"],setBoundingRect:function(t,e,i,n){return this._rect=new Kt(t,e,i,n),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,i,n){this.transformTo(t,e,i,n),this._viewRect=new Kt(t,e,i,n)},transformTo:function(t,e,i,n){var o=this.getBoundingRect(),a=this._rawTransformable;a.transform=o.calculateTransform(new Kt(t,e,i,n)),a.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,i=this.getDefaultCenter(),n=this.getCenter(),o=this.getZoom();n=Q([],n,t),i=Q([],i,t),e.origin=n,e.position=[i[0]-n[0],i[1]-n[1]],e.scale=[o,o],this._updateTransform()},_updateTransform:function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),ht(this.transform||(this.transform=[]),e.transform||st()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],pt(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t,e,i){var n=e?this._rawTransform:this.transform;return i=i||[],n?MA(i,t,n):G(i,t)},pointToData:function(t){var e=this.invTransform;return e?MA([],t,e):[t[0],t[1]]},convertToPixel:v(lu,\"dataToPoint\"),convertFromPixel:v(lu,\"pointToData\"),containPoint:function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},u(su,Kx);for(var IA=[126,25],TA=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],AA=0;AA<TA.length;AA++)for(var DA=0;DA<TA[AA].length;DA++)TA[AA][DA][0]/=10.5,TA[AA][DA][1]/=-14,TA[AA][DA][0]+=IA[0],TA[AA][DA][1]+=IA[1];var CA={\"南海诸岛\":[32,80],\"广东\":[0,-10],\"香港\":[10,5],\"澳门\":[-10,10],\"天津\":[5,5]},LA={Russia:[100,60],\"United States\":[-99,38],\"United States of America\":[-99,38]},kA=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],PA=[function(t){\"china\"===t.map&&t.regions.push(new gl(\"南海诸岛\",f(TA,function(t){return{type:\"polygon\",exterior:t}}),IA))},function(t){d(t.regions,function(t){var e=CA[t.name];if(e){var i=t.center;i[0]+=e[0]/10.5,i[1]+=-e[1]/14}})},function(t){d(t.regions,function(t){var e=LA[t.name];if(e){var i=t.center;i[0]=e[0],i[1]=e[1]}})},function(t){if(\"china\"===t.map)for(var e=0,i=t.regions.length;e<i;++e)\"台湾\"===t.regions[e].name&&t.regions[e].geometries.push({type:\"polygon\",exterior:kA[0]})}];hu.prototype={constructor:hu,type:\"geo\",dimensions:[\"lng\",\"lat\"],containCoord:function(t){for(var e=this.regions,i=0;i<e.length;i++)if(e[i].contain(t))return!0;return!1},loadGeoJson:function(t,e,i){try{this.regions=t?tT(t):[]}catch(t){throw\"Invalid geoJson format\\n\"+t.message}e=e||{},i=i||{};for(var n=this.regions,o=z(),a=0;a<n.length;a++){var r=n[a].name;r=i.hasOwnProperty(r)?i[r]:r,n[a].name=r,o.set(r,n[a]),this.addGeoCoord(r,n[a].center);var s=e[r];s&&n[a].transformTo(s.left,s.top,s.width,s.height)}this._regionsMap=o,this._rect=null,d(PA,function(t){t(this)},this)},transformTo:function(t,e,i,n){var o=this.getBoundingRect();(o=o.clone()).y=-o.y-o.height;var a=this._rawTransformable;a.transform=o.calculateTransform(new Kt(t,e,i,n)),a.decomposeTransform();var r=a.scale;r[1]=-r[1],a.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap.get(t)},getRegionByCoord:function(t){for(var e=this.regions,i=0;i<e.length;i++)if(e[i].contain(t))return e[i]},addGeoCoord:function(t,e){this._nameCoordMap.set(t,e)},getGeoCoord:function(t){return this._nameCoordMap.get(t)},getBoundingRect:function(){if(this._rect)return this._rect;for(var t,e=this.regions,i=0;i<e.length;i++){var n=e[i].getBoundingRect();(t=t||n.clone()).union(n)}return this._rect=t||new Kt(0,0,0,0)},dataToPoint:function(t,e,i){if(\"string\"==typeof t&&(t=this.getGeoCoord(t)),t)return su.prototype.dataToPoint.call(this,t,e,i)},convertToPixel:v(uu,\"dataToPoint\"),convertFromPixel:v(uu,\"pointToData\")},u(hu,su);var OA={dimensions:hu.prototype.dimensions,create:function(t,e){var i=[];t.eachComponent(\"geo\",function(t,n){var o=t.get(\"map\"),a=xs(o),r=new hu(o+n,o,a&&a.geoJson,a&&a.specialAreas,t.get(\"nameMap\"));r.zoomLimit=t.get(\"scaleLimit\"),i.push(r),du(r,t),t.coordinateSystem=r,r.model=t,r.resize=cu,r.resize(t,e)}),t.eachSeries(function(t){if(\"geo\"===t.get(\"coordinateSystem\")){var e=t.get(\"geoIndex\")||0;t.coordinateSystem=i[e]}});var n={};return t.eachSeriesByType(\"map\",function(t){if(!t.getHostGeoModel()){var e=t.getMapType();n[e]=n[e]||[],n[e].push(t)}}),d(n,function(t,n){var a=xs(n),r=f(t,function(t){return t.get(\"nameMap\")}),s=new hu(n,n,a&&a.geoJson,a&&a.specialAreas,o(r));s.zoomLimit=T.apply(null,f(t,function(t){return t.get(\"scaleLimit\")})),i.push(s),s.resize=cu,s.resize(t[0],e),d(t,function(t){t.coordinateSystem=s,du(s,t)})}),i},getFilledRegions:function(t,e,i){var n=(t||[]).slice();i=i||{};var o=xs(e),a=o&&o.geoJson;if(!a)return t;for(var r=z(),s=a.features,l=0;l<n.length;l++)r.set(n[l].name,n[l]);for(l=0;l<s.length;l++){var h=s[l].properties.name;r.get(h)||(i.hasOwnProperty(h)&&(h=i[h]),n.push({name:h}))}return n}};us(\"geo\",OA);cs(function(t){var e={};t.eachSeriesByType(\"map\",function(i){var n=i.getMapType();if(!i.getHostGeoModel()&&!e[n]){var o={};d(i.seriesGroup,function(e){var i=e.coordinateSystem,n=e.originalData;e.get(\"showLegendSymbol\")&&t.getComponent(\"legend\")&&n.each(n.mapDimension(\"value\"),function(t,e){var a=n.getName(e),r=i.getRegion(a);if(r&&!isNaN(t)){var s=o[a]||0,l=i.dataToPoint(r.center);o[a]=s+1,n.setItemLayout(e,{point:l,offset:s})}})});var a=i.getData();a.each(function(t){var e=a.getName(t),i=a.getItemLayout(t)||{};i.showLabel=!o[e],a.setItemLayout(t,i)}),e[n]=!0}})}),ds(function(t){t.eachSeriesByType(\"map\",function(t){var e=t.get(\"color\"),i=t.getModel(\"itemStyle\"),n=i.get(\"areaColor\"),o=i.get(\"color\")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:n,color:o})})}),ls(FM.PROCESSOR.STATISTIC,function(t){var e={};t.eachSeriesByType(\"map\",function(t){var i=t.getHostGeoModel(),n=i?\"o\"+i.id:\"i\"+t.getMapType();(e[n]=e[n]||[]).push(t)}),d(e,function(t,e){for(var i=fu(f(t,function(t){return t.getData()}),t[0].get(\"mapValueCalculation\")),n=0;n<t.length;n++)t[n].originalData=t[n].getData();for(n=0;n<t.length;n++)t[n].seriesGroup=t,t[n].needsDrawMap=0===n&&!t[n].getHostGeoModel(),t[n].setData(i.cloneShallow()),t[n].mainSeries=t[0]})}),ss(function(t){var e=[];d(t.series,function(t){t&&\"map\"===t.type&&(e.push(t),t.map=t.map||t.mapType,r(t,t.mapLocation))})}),uA(\"map\",[{type:\"mapToggleSelect\",event:\"mapselectchanged\",method:\"toggleSelected\"},{type:\"mapSelect\",event:\"mapselected\",method:\"select\"},{type:\"mapUnSelect\",event:\"mapunselected\",method:\"unSelect\"}]);var NA=d,EA=\"\\0__link_datas\",zA=\"\\0__link_mainData\",RA=function(t,e){this.name=t||\"\",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};RA.prototype={constructor:RA,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,i){\"function\"==typeof t&&(i=e,e=t,t=null),_(t=t||{})&&(t={order:t});var n,o=t.order||\"preorder\",a=this[t.attr||\"children\"];\"preorder\"===o&&(n=e.call(i,this));for(var r=0;!n&&r<a.length;r++)a[r].eachNode(t,e,i);\"postorder\"===o&&e.call(i,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(t+1),n.height>e&&(e=n.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,i=this.children,n=i.length;e<n;e++){var o=i[e].getNodeById(t);if(o)return o}},contains:function(t){if(t===this)return!0;for(var e=0,i=this.children,n=i.length;e<n;e++){var o=i[e].contains(t);if(o)return o}},getAncestors:function(t){for(var e=[],i=t?this:this.parentNode;i;)e.push(i),i=i.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||\"value\"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e,i=this.hostTree,n=i.data.getItemModel(this.dataIndex),o=this.getLevelModel();return o||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(e=this.getLeavesModel()),n.getModel(t,(o||e||i.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},isDescendantOf:function(t){return t!==this&&t.isAncestorOf(this)}},bu.prototype={constructor:bu,type:\"tree\",eachNode:function(t,e,i){this.root.eachNode(t,e,i)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,i=0,n=e.length;i<n;i++)e[i].dataIndex=-1;for(var i=0,n=t.count();i<n;i++)e[t.getRawIndex(i)].dataIndex=i},clearLayouts:function(){this.data.clearItemLayouts()}},bu.createTree=function(t,e,i){function n(t,e){var i=t.value;r=Math.max(r,y(i)?i.length:1),a.push(t);var s=new RA(t.name,o);e?Su(s,e):o.root=s,o._nodes.push(s);var l=t.children;if(l)for(var h=0;h<l.length;h++)n(l[h],s)}var o=new bu(e,i.levels,i.leaves),a=[],r=1;n(t),o.root.updateDepthAndHeight(0);var s=wI(a,{coordDimensions:[\"value\"],dimensionsCount:r}),l=new yI(s,e);return l.initData(a),pu({mainData:l,struct:o,structAttr:\"tree\"}),o.update(),o},uM.extend({type:\"series.tree\",layoutInfo:null,layoutMode:\"box\",getInitialData:function(t){var e={name:t.name,children:t.data},i=t.leaves||{},n={};n.leaves=i;var o=bu.createTree(e,this,n),a=0;o.eachNode(\"preorder\",function(t){t.depth>a&&(a=t.depth)});var r=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:a;return o.root.eachNode(\"preorder\",function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=r}),o.data},formatTooltip:function(t){for(var e=this.getData().tree,i=e.root.children[0],n=e.getNodeByDataIndex(t),o=n.getValue(),a=n.name;n&&n!==i;)a=n.parentNode.name+\".\"+a,n=n.parentNode;return Ho(a+(isNaN(o)||null==o?\"\":\" : \"+o))},defaultOption:{zlevel:0,z:2,left:\"12%\",top:\"12%\",right:\"12%\",bottom:\"12%\",layout:\"orthogonal\",orient:\"horizontal\",symbol:\"emptyCircle\",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:\"#ccc\",width:1.5,curveness:.5},itemStyle:{color:\"lightsteelblue\",borderColor:\"#c23531\",borderWidth:1.5},label:{show:!0,color:\"#555\"},leaves:{label:{show:!0}},animationEasing:\"linear\",animationDuration:700,animationDurationUpdate:1e3}}),ys({type:\"tree\",init:function(t,e){this._oldTree,this._mainGroup=new S_,this.group.add(this._mainGroup)},render:function(t,e,i,n){var o=t.getData(),a=t.layoutInfo,r=this._mainGroup,s=t.get(\"layout\");\"radial\"===s?r.attr(\"position\",[a.x+a.width/2,a.y+a.height/2]):r.attr(\"position\",[a.x,a.y]);var l=this._data,h={expandAndCollapse:t.get(\"expandAndCollapse\"),layout:s,orient:t.get(\"orient\"),curvature:t.get(\"lineStyle.curveness\"),symbolRotate:t.get(\"symbolRotate\"),symbolOffset:t.get(\"symbolOffset\"),hoverAnimation:t.get(\"hoverAnimation\"),useNameLabel:!0,fadeIn:!0};o.diff(l).add(function(e){Ru(o,e)&&Vu(o,e,null,r,t,h)}).update(function(e,i){var n=l.getItemGraphicEl(i);Ru(o,e)?Vu(o,e,n,r,t,h):n&&Gu(o,e,n,r,t,h)}).remove(function(e){var i=l.getItemGraphicEl(e);Gu(o,e,i,r,t,h)}).execute(),!0===h.expandAndCollapse&&o.eachItemGraphicEl(function(e,n){e.off(\"click\").on(\"click\",function(){i.dispatchAction({type:\"treeExpandAndCollapse\",seriesId:t.id,dataIndex:n})})}),this._data=o},dispose:function(){},remove:function(){this._mainGroup.removeAll(),this._data=null}}),hs({type:\"treeExpandAndCollapse\",event:\"treeExpandAndCollapse\",update:\"update\"},function(t,e){e.eachComponent({mainType:\"series\",subType:\"tree\",query:t},function(e){var i=t.dataIndex,n=e.getData().tree.getNodeByDataIndex(i);n.isExpand=!n.isExpand})});var BA=function(t,e){var i=Cu(t,e);t.layoutInfo=i;var n=t.get(\"layout\"),o=0,a=0,r=null;\"radial\"===n?(o=2*Math.PI,a=Math.min(i.height,i.width)/2,r=Au(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})):(o=i.width,a=i.height,r=Au());var s=t.getData().tree.root,l=s.children[0];Mu(s),Fu(l,Iu,r),s.hierNode.modifier=-l.hierNode.prelim,Hu(l,Tu);var h=l,u=l,c=l;Hu(l,function(t){var e=t.getLayout().x;e<h.getLayout().x&&(h=t),e>u.getLayout().x&&(u=t),t.depth>c.depth&&(c=t)});var d=h===u?1:r(h,u)/2,f=d-h.getLayout().x,p=0,g=0,m=0,v=0;\"radial\"===n?(p=o/(u.getLayout().x+d+f),g=a/(c.depth-1||1),Hu(l,function(t){m=(t.getLayout().x+f)*p,v=(t.depth-1)*g;var e=Du(m,v);t.setLayout({x:e.x,y:e.y,rawX:m,rawY:v},!0)})):\"horizontal\"===t.get(\"orient\")?(g=a/(u.getLayout().x+d+f),p=o/(c.depth-1||1),Hu(l,function(t){v=(t.getLayout().x+f)*g,m=(t.depth-1)*p,t.setLayout({x:m,y:v},!0)})):(p=o/(u.getLayout().x+d+f),g=a/(c.depth-1||1),Hu(l,function(t){m=(t.getLayout().x+f)*p,v=(t.depth-1)*g,t.setLayout({x:m,y:v},!0)}))};ds(bT(\"tree\",\"circle\")),cs(function(t,e){t.eachSeriesByType(\"tree\",function(t){BA(t,e)})}),cs(function(t,e){t.eachSeriesByType(\"tree\",function(t){BA(t,e)})}),uM.extend({type:\"series.treemap\",layoutMode:\"box\",dependencies:[\"grid\",\"polar\"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:\"center\",top:\"middle\",right:null,bottom:null,width:\"80%\",height:\"80%\",sort:!0,clipWindow:\"origin\",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:\"▶\",zoomToNodeRatio:.1024,roam:!0,nodeClick:\"zoomToNode\",animation:!0,animationDurationUpdate:900,animationEasing:\"quinticInOut\",breadcrumb:{show:!0,height:22,left:\"center\",top:\"bottom\",emptyItemWidth:25,itemStyle:{color:\"rgba(0,0,0,0.7)\",borderColor:\"rgba(255,255,255,0.7)\",borderWidth:1,shadowColor:\"rgba(150,150,150,1)\",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:\"#fff\"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:\"inside\",color:\"#fff\",ellipsis:!0},upperLabel:{show:!1,position:[0,\"50%\"],height:20,color:\"#fff\",ellipsis:!0,verticalAlign:\"middle\"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:\"#fff\",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,\"50%\"],color:\"#fff\",ellipsis:!0,verticalAlign:\"middle\"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:\"index\",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var i={name:t.name,children:t.data};Yu(i);var n=t.levels||[];n=t.levels=qu(n,e);var o={};return o.levels=n,bu.createTree(i,this,o).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=Wo(y(i)?i[0]:i);return Ho(e.getName(t)+\": \"+n)},getDataParams:function(t){var e=uM.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=Xu(i,this),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},a(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=z(),this._idIndexMapCount=0);var i=e.get(t);return null==i&&e.set(t,i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});var VA=5;$u.prototype={constructor:$u,render:function(t,e,i,n){var o=t.getModel(\"breadcrumb\"),a=this.group;if(a.removeAll(),o.get(\"show\")&&i){var r=o.getModel(\"itemStyle\"),s=r.getModel(\"textStyle\"),l={pos:{left:o.get(\"left\"),right:o.get(\"right\"),top:o.get(\"top\"),bottom:o.get(\"bottom\")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:o.get(\"emptyItemWidth\"),totalWidth:0,renderList:[]};this._prepare(i,l,s),this._renderContent(t,l,r,s,n),Jo(a,l.pos,l.box)}},_prepare:function(t,e,i){for(var n=t;n;n=n.parentNode){var o=n.getModel().get(\"name\"),a=i.getTextRect(o),r=Math.max(a.width+16,e.emptyItemWidth);e.totalWidth+=r+8,e.renderList.push({node:n,text:o,width:r})}},_renderContent:function(t,e,i,n,o){for(var a=0,s=e.emptyItemWidth,l=t.get(\"breadcrumb.height\"),h=$o(e.pos,e.box),u=e.totalWidth,c=e.renderList,d=c.length-1;d>=0;d--){var f=c[d],p=f.node,g=f.width,m=f.text;u>h.width&&(u-=g-s,g=s,m=null);var y=new Rb({shape:{points:Ku(a,0,g,l,d===c.length-1,0===d)},style:r(i.getItemStyle(),{lineJoin:\"bevel\",text:m,textFill:n.getTextColor(),textFont:n.getFont()}),z:10,onclick:v(o,p)});this.group.add(y),Ju(y,t,p),a+=g+8}},remove:function(){this.group.removeAll()}};var GA=m,WA=S_,FA=Vb,HA=d,ZA=[\"label\"],UA=[\"emphasis\",\"label\"],jA=[\"upperLabel\"],XA=[\"emphasis\",\"upperLabel\"],YA=10,qA=1,$A=2,KA=Sw([[\"fill\",\"color\"],[\"stroke\",\"strokeColor\"],[\"lineWidth\",\"strokeWidth\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"]]),JA=function(t){var e=KA(t);return e.stroke=e.fill=e.lineWidth=null,e};ys({type:\"treemap\",init:function(t,e){this._containerGroup,this._storage={nodeGroup:[],background:[],content:[]},this._oldTree,this._breadcrumb,this._controller,this._state=\"ready\"},render:function(t,e,i,n){if(!(l(e.findComponents({mainType:\"series\",subType:\"treemap\",query:n}),t)<0)){this.seriesModel=t,this.api=i,this.ecModel=e;var o=Zu(n,[\"treemapZoomToNode\",\"treemapRootToNode\"],t),a=n&&n.type,r=t.layoutInfo,s=!this._oldTree,h=this._storage,u=\"treemapRootToNode\"===a&&o&&h?{rootNodeGroup:h.nodeGroup[o.node.getRawIndex()],direction:n.direction}:null,c=this._giveContainerGroup(r),d=this._doRender(c,t,u);s||a&&\"treemapZoomToNode\"!==a&&\"treemapRootToNode\"!==a?d.renderFinally():this._doAnimation(c,d,t,u),this._resetController(i),this._renderBreadcrumb(t,i,o)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new WA,this._initEvents(e),this.group.add(e)),e.attr(\"position\",[t.x,t.y]),e},_doRender:function(t,e,i){function n(t,e,i,o,a){function r(t){return t.getId()}function s(r,s){var l=null!=r?t[r]:null,h=null!=s?e[s]:null,c=u(l,h,i,a);c&&n(l&&l.viewChildren||[],h&&h.viewChildren||[],c,o,a+1)}o?(e=t,HA(t,function(t,e){!t.isRemoved()&&s(e,e)})):new ws(e,t,r,r).add(s).update(s).remove(v(s,null)).execute()}var o=e.getData().tree,a=this._oldTree,r={nodeGroup:[],background:[],content:[]},s={nodeGroup:[],background:[],content:[]},l=this._storage,h=[],u=v(tc,e,s,l,i,r,h);n(o.root?[o.root]:[],a&&a.root?[a.root]:[],t,o===a||!a,0);var c=function(t){var e={nodeGroup:[],background:[],content:[]};return t&&HA(t,function(t,i){var n=e[i];HA(t,function(t){t&&(n.push(t),t.__tmWillDelete=1)})}),e}(l);return this._oldTree=o,this._storage=s,{lastsForAnimation:r,willDeleteEls:c,renderFinally:function(){HA(c,function(t){HA(t,function(t){t.parent&&t.parent.remove(t)})}),HA(h,function(t){t.invisible=!0,t.dirty()})}}},_doAnimation:function(t,e,i,n){if(i.get(\"animation\")){var o=i.get(\"animationDurationUpdate\"),r=i.get(\"animationEasing\"),s=Qu();HA(e.willDeleteEls,function(t,e){HA(t,function(t,i){if(!t.invisible){var a,l=t.parent;if(n&&\"drillDown\"===n.direction)a=l===n.rootNodeGroup?{shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var h=0,u=0;l.__tmWillDelete||(h=l.__tmNodeWidth/2,u=l.__tmNodeHeight/2),a=\"nodeGroup\"===e?{position:[h,u],style:{opacity:0}}:{shape:{x:h,y:u,width:0,height:0},style:{opacity:0}}}a&&s.add(t,a,o,r)}})}),HA(this._storage,function(t,i){HA(t,function(t,n){var l=e.lastsForAnimation[i][n],h={};l&&(\"nodeGroup\"===i?l.old&&(h.position=t.position.slice(),t.attr(\"position\",l.old)):(l.old&&(h.shape=a({},t.shape),t.setShape(l.old)),l.fadein?(t.setStyle(\"opacity\",0),h.style={opacity:1}):1!==t.style.opacity&&(h.style={opacity:1})),s.add(t,h,o,r))})},this),this._state=\"animating\",s.done(GA(function(){this._state=\"ready\",e.renderFinally()},this)).start()}},_resetController:function(t){var e=this._controller;e||((e=this._controller=new Zh(t.getZr())).enable(this.seriesModel.get(\"roam\")),e.on(\"pan\",GA(this._onPan,this)),e.on(\"zoom\",GA(this._onZoom,this)));var i=new Kt(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,n){return i.contain(e,n)})},_clearController:function(){var t=this._controller;t&&(t.dispose(),t=null)},_onPan:function(t,e){if(\"animating\"!==this._state&&(Math.abs(t)>3||Math.abs(e)>3)){var i=this.seriesModel.getData().tree.root;if(!i)return;var n=i.getLayout();if(!n)return;this.api.dispatchAction({type:\"treemapMove\",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t,y:n.y+e,width:n.width,height:n.height}})}},_onZoom:function(t,e,i){if(\"animating\"!==this._state){var n=this.seriesModel.getData().tree.root;if(!n)return;var o=n.getLayout();if(!o)return;var a=new Kt(o.x,o.y,o.width,o.height),r=this.seriesModel.layoutInfo;e-=r.x,i-=r.y;var s=st();ct(s,s,[-e,-i]),ft(s,s,[t,t]),ct(s,s,[e,i]),a.applyTransform(s),this.api.dispatchAction({type:\"treemapRender\",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},_initEvents:function(t){t.on(\"click\",function(t){if(\"ready\"===this._state){var e=this.seriesModel.get(\"nodeClick\",!0);if(e){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var n=i.node;if(n.getLayout().isLeafRoot)this._rootToNode(i);else if(\"zoomToNode\"===e)this._zoomToNode(i);else if(\"link\"===e){var o=n.hostTree.data.getItemModel(n.dataIndex),a=o.get(\"link\",!0),r=o.get(\"target\",!0)||\"blank\";a&&window.open(a,r)}}}}},this)},_renderBreadcrumb:function(t,e,i){i||(i=null!=t.get(\"leafDepth\",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(i={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new $u(this.group))).render(t,e,i.node,GA(function(e){\"animating\"!==this._state&&(ju(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state=\"ready\",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:\"treemapZoomToNode\",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:\"treemapRootToNode\",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var i;return this.seriesModel.getViewRoot().eachNode({attr:\"viewChildren\",order:\"preorder\"},function(n){var o=this._storage.background[n.getRawIndex()];if(o){var a=o.transformCoordToLocal(t,e),r=o.shape;if(!(r.x<=a[0]&&a[0]<=r.x+r.width&&r.y<=a[1]&&a[1]<=r.y+r.height))return!1;i={node:n,offsetX:a[0],offsetY:a[1]}}},this),i}});for(var QA=[\"treemapZoomToNode\",\"treemapRender\",\"treemapMove\"],tD=0;tD<QA.length;tD++)hs({type:QA[tD],update:\"updateView\"},function(){});hs({type:\"treemapRootToNode\",update:\"updateView\"},function(t,e){e.eachComponent({mainType:\"series\",subType:\"treemap\",query:t},function(e,i){var n=Zu(t,[\"treemapZoomToNode\",\"treemapRootToNode\"],e);if(n){var o=e.getViewRoot();o&&(t.direction=ju(o,n.node)?\"rollUp\":\"drillDown\"),e.resetViewRoot(n.node)}})});var eD=d,iD=w,nD=-1,oD=function(t){var e=t.mappingMethod,n=t.type,o=this.option=i(t);this.type=n,this.mappingMethod=e,this._normalizeData=rD[e];var a=aD[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._doMap=a._doMap[e],\"piecewise\"===e?(oc(o),ic(o)):\"category\"===e?o.categories?nc(o):oc(o,!0):(k(\"linear\"!==e||o.dataExtent),oc(o))};oD.prototype={constructor:oD,mapValueToVisual:function(t){var e=this._normalizeData(t);return this._doMap(e,t)},getNormalizer:function(){return m(this._normalizeData,this)}};var aD=oD.visualHandlers={color:{applyVisual:sc(\"color\"),getColorMapper:function(){var t=this.option;return m(\"category\"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),lc.call(this,t)}:function(e,i,n){var o=!!n;return!i&&(e=this._normalizeData(e)),n=Ot(e,t.parsedVisual,n),o?n:Rt(n,\"rgba\")},this)},_doMap:{linear:function(t){return Rt(Ot(t,this.option.parsedVisual),\"rgba\")},category:lc,piecewise:function(t,e){var i=cc.call(this,e);return null==i&&(i=Rt(Ot(t,this.option.parsedVisual),\"rgba\")),i},fixed:hc}},colorHue:ac(function(t,e){return Et(t,e)}),colorSaturation:ac(function(t,e){return Et(t,null,e)}),colorLightness:ac(function(t,e){return Et(t,null,null,e)}),colorAlpha:ac(function(t,e){return zt(t,e)}),opacity:{applyVisual:sc(\"opacity\"),_doMap:uc([0,1])},symbol:{applyVisual:function(t,e,i){var n=this.mapValueToVisual(t);if(_(n))i(\"symbol\",n);else if(iD(n))for(var o in n)n.hasOwnProperty(o)&&i(o,n[o])},_doMap:{linear:rc,category:lc,piecewise:function(t,e){var i=cc.call(this,e);return null==i&&(i=rc.call(this,t)),i},fixed:hc}},symbolSize:{applyVisual:sc(\"symbolSize\"),_doMap:uc([0,1])}},rD={linear:function(t){return Io(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,i=oD.findPieceIndex(t,e,!0);if(null!=i)return Io(i,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?nD:e},fixed:B};oD.listVisualTypes=function(){var t=[];return d(aD,function(e,i){t.push(i)}),t},oD.addVisualHandler=function(t,e){aD[t]=e},oD.isValidType=function(t){return aD.hasOwnProperty(t)},oD.eachVisual=function(t,e,i){w(t)?d(t,e,i):e.call(i,t)},oD.mapVisual=function(t,e,i){var n,o=y(t)?[]:w(t)?{}:(n=!0,null);return oD.eachVisual(t,function(t,a){var r=e.call(i,t,a);n?o=r:o[a]=r}),o},oD.retrieveVisuals=function(t){var e,i={};return t&&eD(aD,function(n,o){t.hasOwnProperty(o)&&(i[o]=t[o],e=!0)}),e?i:null},oD.prepareVisualTypes=function(t){if(iD(t)){var e=[];eD(t,function(t,i){e.push(i)}),t=e}else{if(!y(t))return[];t=t.slice()}return t.sort(function(t,e){return\"color\"===e&&\"color\"!==t&&0===t.indexOf(\"color\")?1:-1}),t},oD.dependsOn=function(t,e){return\"color\"===e?!(!t||0!==t.indexOf(e)):t===e},oD.findPieceIndex=function(t,e,i){function n(e,i){var n=Math.abs(e-t);n<a&&(a=n,o=i)}for(var o,a=1/0,r=0,s=e.length;r<s;r++){var l=e[r].value;if(null!=l){if(l===t||\"string\"==typeof l&&l===t+\"\")return r;i&&n(l,r)}}for(var r=0,s=e.length;r<s;r++){var h=e[r],u=h.interval,c=h.close;if(u){if(u[0]===-1/0){if(fc(c[1],t,u[1]))return r}else if(u[1]===1/0){if(fc(c[0],u[0],t))return r}else if(fc(c[0],u[0],t)&&fc(c[1],t,u[1]))return r;i&&n(u[0],r),i&&n(u[1],r)}}if(i)return t===1/0?e.length-1:t===-1/0?0:o};var sD=y,lD=\"itemStyle\",hD={seriesType:\"treemap\",reset:function(t,e,i,n){var o=t.getData().tree,a=o.root,r=t.getModel(lD);a.isRemoved()||pc(a,{},f(o.levelModels,function(t){return t?t.get(lD):null}),r,t.getViewRoot().getAncestors(),t)}},uD=Math.max,cD=Math.min,dD=T,fD=d,pD=[\"itemStyle\",\"borderWidth\"],gD=[\"itemStyle\",\"gapWidth\"],mD=[\"upperLabel\",\"show\"],vD=[\"upperLabel\",\"height\"],yD={seriesType:\"treemap\",reset:function(t,e,i,n){var o=i.getWidth(),r=i.getHeight(),s=t.option,l=Ko(t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()}),h=s.size||[],u=To(dD(l.width,h[0]),o),c=To(dD(l.height,h[1]),r),d=n&&n.type,f=Zu(n,[\"treemapZoomToNode\",\"treemapRootToNode\"],t),p=\"treemapRender\"===d||\"treemapMove\"===d?n.rootRect:null,g=t.getViewRoot(),m=Uu(g);if(\"treemapMove\"!==d){var v=\"treemapZoomToNode\"===d?Cc(t,f,g,u,c):p?[p.width,p.height]:[u,c],y=s.sort;y&&\"asc\"!==y&&\"desc\"!==y&&(y=\"desc\");var x={squareRatio:s.squareRatio,sort:y,leafDepth:s.leafDepth};g.hostTree.clearLayouts();_={x:0,y:0,width:v[0],height:v[1],area:v[0]*v[1]};g.setLayout(_),bc(g,x,!1,0);var _=g.getLayout();fD(m,function(t,e){var i=(m[e+1]||g).getValue();t.setLayout(a({dataExtent:[i,i],borderWidth:0,upperHeight:0},_))})}var w=t.getData().tree.root;w.setLayout(Lc(l,p,f),!0),t.setLayoutInfo(l),kc(w,new Kt(-l.x,-l.y,o,r),m,g,0)}};ds(hD),cs(yD);var xD=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},_D=xD.prototype;_D.type=\"graph\",_D.isDirected=function(){return this._directed},_D.addNode=function(t,e){t=t||\"\"+e;var i=this._nodesMap;if(!i[Oc(t)]){var n=new Nc(t,e);return n.hostGraph=this,this.nodes.push(n),i[Oc(t)]=n,n}},_D.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},_D.getNodeById=function(t){return this._nodesMap[Oc(t)]},_D.addEdge=function(t,e,i){var n=this._nodesMap,o=this._edgesMap;if(\"number\"==typeof t&&(t=this.nodes[t]),\"number\"==typeof e&&(e=this.nodes[e]),Nc.isInstance(t)||(t=n[Oc(t)]),Nc.isInstance(e)||(e=n[Oc(e)]),t&&e){var a=t.id+\"-\"+e.id;if(!o[a]){var r=new Ec(t,e,i);return r.hostGraph=this,this._directed&&(t.outEdges.push(r),e.inEdges.push(r)),t.edges.push(r),t!==e&&e.edges.push(r),this.edges.push(r),o[a]=r,r}}},_D.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},_D.getEdge=function(t,e){Nc.isInstance(t)&&(t=t.id),Nc.isInstance(e)&&(e=e.id);var i=this._edgesMap;return this._directed?i[t+\"-\"+e]:i[t+\"-\"+e]||i[e+\"-\"+t]},_D.eachNode=function(t,e){for(var i=this.nodes,n=i.length,o=0;o<n;o++)i[o].dataIndex>=0&&t.call(e,i[o],o)},_D.eachEdge=function(t,e){for(var i=this.edges,n=i.length,o=0;o<n;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&t.call(e,i[o],o)},_D.breadthFirstTraverse=function(t,e,i,n){if(Nc.isInstance(e)||(e=this._nodesMap[Oc(e)]),e){for(var o=\"out\"===i?\"outEdges\":\"in\"===i?\"inEdges\":\"edges\",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(n,e,null))for(var r=[e];r.length;)for(var s=r.shift(),l=s[o],a=0;a<l.length;a++){var h=l[a],u=h.node1===s?h.node2:h.node1;if(!u.__visited){if(t.call(n,u,s))return;r.push(u),u.__visited=!0}}}},_D.update=function(){for(var t=this.data,e=this.edgeData,i=this.nodes,n=this.edges,o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(var o=0,a=t.count();o<a;o++)i[t.getRawIndex(o)].dataIndex=o;e.filterSelf(function(t){var i=n[e.getRawIndex(t)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0});for(var o=0,a=n.length;o<a;o++)n[o].dataIndex=-1;for(var o=0,a=e.count();o<a;o++)n[e.getRawIndex(o)].dataIndex=o},_D.clone=function(){for(var t=new xD(this._directed),e=this.nodes,i=this.edges,n=0;n<e.length;n++)t.addNode(e[n].id,e[n].dataIndex);for(n=0;n<i.length;n++){var o=i[n];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},Nc.prototype={constructor:Nc,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}},Ec.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)};var wD=function(t,e){return{getValue:function(i){var n=this[t][e];return n.get(n.getDimension(i||\"value\"),this.dataIndex)},setVisual:function(i,n){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,i,n)},getVisual:function(i,n){return this[t][e].getItemVisual(this.dataIndex,i,n)},setLayout:function(i,n){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,i,n)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};u(Nc,wD(\"hostGraph\",\"data\")),u(Ec,wD(\"hostGraph\",\"edgeData\")),xD.Node=Nc,xD.Edge=Ec,Gi(Nc),Gi(Ec);var bD=function(t,e,i,n,o){for(var a=new xD(n),r=0;r<t.length;r++)a.addNode(T(t[r].id,t[r].name,r),r);for(var s=[],l=[],h=0,r=0;r<e.length;r++){var u=e[r],c=u.source,d=u.target;a.addEdge(c,d,h)&&(l.push(u),s.push(T(u.id,c+\" > \"+d)),h++)}var f,p=i.get(\"coordinateSystem\");if(\"cartesian2d\"===p||\"polar\"===p)f=Bs(t,i);else{var g=Aa.get(p),m=wI(t,{coordDimensions:(g&&\"view\"!==g.type?g.dimensions||[]:[]).concat([\"value\"])});(f=new yI(m,i)).initData(t)}var v=new yI([\"value\"],i);return v.initData(l,s),o&&o(f,v),pu({mainData:f,struct:a,structAttr:\"graph\",datas:{node:f,edge:v},datasAttr:{node:\"data\",edge:\"edgeData\"}}),a.update(),a},SD=vs({type:\"series.graph\",init:function(t){SD.superApply(this,\"init\",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeOption:function(t){SD.superApply(this,\"mergeOption\",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(t){SD.superApply(this,\"mergeDefaultAndTheme\",arguments),Mi(t,[\"edgeLabel\"],[\"show\"])},getInitialData:function(t,e){var i=t.edges||t.links||[],n=t.data||t.nodes||[],o=this;if(n&&i)return bD(n,i,this,!0,function(t,i){function n(t){return(t=this.parsePath(t))&&\"label\"===t[0]?r:this.parentModel}t.wrapMethod(\"getItemModel\",function(t){var e=o._categoriesModels[t.getShallow(\"category\")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t});var a=o.getModel(\"edgeLabel\"),r=new _o({label:a.option},a.parentModel,e);i.wrapMethod(\"getItemModel\",function(t){return t.customizeGetParent(n),t})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,i){if(\"edge\"===i){var n=this.getData(),o=this.getDataParams(t,i),a=n.graph.getEdgeByIndex(t),r=n.getName(a.node1.dataIndex),s=n.getName(a.node2.dataIndex),l=[];return null!=r&&l.push(r),null!=s&&l.push(s),l=Ho(l.join(\" > \")),o.value&&(l+=\" : \"+Ho(o.value)),l}return SD.superApply(this,\"formatTooltip\",arguments)},_updateCategoriesData:function(){var t=f(this.option.categories||[],function(t){return null!=t.value?t:a({value:0},t)}),e=new yI([\"value\"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},isAnimationEnabled:function(){return SD.superCall(this,\"isAnimationEnabled\")&&!(\"force\"===this.get(\"layout\")&&this.get(\"force.layoutAnimation\"))},defaultOption:{zlevel:0,z:2,coordinateSystem:\"view\",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:\"center\",top:\"center\",symbol:\"circle\",symbolSize:10,edgeSymbol:[\"none\",\"none\"],edgeSymbolSize:10,edgeLabel:{position:\"middle\"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:\"{b}\"},itemStyle:{},lineStyle:{color:\"#aaa\",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),MD=Gb.prototype,ID=Fb.prototype,TD=Nn({type:\"ec-line\",style:{stroke:\"#000\",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){(zc(e)?MD:ID).buildPath(t,e)},pointAt:function(t){return zc(this.shape)?MD.pointAt.call(this,t):ID.pointAt.call(this,t)},tangentAt:function(t){var e=this.shape,i=zc(e)?[e.x2-e.x1,e.y2-e.y1]:ID.tangentAt.call(this,t);return q(i,i)}}),AD=[\"fromSymbol\",\"toSymbol\"],DD=Wc.prototype;DD.beforeUpdate=function(){var t=this,e=t.childOfName(\"fromSymbol\"),i=t.childOfName(\"toSymbol\"),n=t.childOfName(\"label\");if(e||i||!n.ignore){for(var o=1,a=this.parent;a;)a.scale&&(o/=a.scale[0]),a=a.parent;var r=t.childOfName(\"line\");if(this.__dirty||r.__dirty){var s=r.shape.percent,l=r.pointAt(0),h=r.pointAt(s),u=U([],h,l);if(q(u,u),e&&(e.attr(\"position\",l),c=r.tangentAt(0),e.attr(\"rotation\",Math.PI/2-Math.atan2(c[1],c[0])),e.attr(\"scale\",[o*s,o*s])),i){i.attr(\"position\",h);var c=r.tangentAt(1);i.attr(\"rotation\",-Math.PI/2-Math.atan2(c[1],c[0])),i.attr(\"scale\",[o*s,o*s])}if(!n.ignore){n.attr(\"position\",h);var d,f,p,g=5*o;if(\"end\"===n.__position)d=[u[0]*g+h[0],u[1]*g+h[1]],f=u[0]>.8?\"left\":u[0]<-.8?\"right\":\"center\",p=u[1]>.8?\"top\":u[1]<-.8?\"bottom\":\"middle\";else if(\"middle\"===n.__position){var m=s/2,v=[(c=r.tangentAt(m))[1],-c[0]],y=r.pointAt(m);v[1]>0&&(v[0]=-v[0],v[1]=-v[1]),d=[y[0]+v[0]*g,y[1]+v[1]*g],f=\"center\",p=\"bottom\";var x=-Math.atan2(c[1],c[0]);h[0]<l[0]&&(x=Math.PI+x),n.attr(\"rotation\",x)}else d=[-u[0]*g+l[0],-u[1]*g+l[1]],f=u[0]>.8?\"right\":u[0]<-.8?\"left\":\"center\",p=u[1]>.8?\"bottom\":u[1]<-.8?\"top\":\"middle\";n.attr({style:{textVerticalAlign:n.__verticalAlign||p,textAlign:n.__textAlign||f},position:d,scale:[o,o]})}}}},DD._createLine=function(t,e,i){var n=t.hostModel,o=Vc(t.getItemLayout(e));o.shape.percent=0,fo(o,{shape:{percent:1}},n,e),this.add(o);var a=new Cb({name:\"label\"});this.add(a),d(AD,function(i){var n=Bc(i,t,e);this.add(n),this[Rc(i)]=t.getItemVisual(e,i)},this),this._updateCommonStl(t,e,i)},DD.updateData=function(t,e,i){var n=t.hostModel,o=this.childOfName(\"line\"),a=t.getItemLayout(e),r={shape:{}};Gc(r.shape,a),co(o,r,n,e),d(AD,function(i){var n=t.getItemVisual(e,i),o=Rc(i);if(this[o]!==n){this.remove(this.childOfName(i));var a=Bc(i,t,e);this.add(a)}this[o]=n},this),this._updateCommonStl(t,e,i)},DD._updateCommonStl=function(t,e,i){var n=t.hostModel,o=this.childOfName(\"line\"),a=i&&i.lineStyle,s=i&&i.hoverLineStyle,l=i&&i.labelModel,h=i&&i.hoverLabelModel;if(!i||t.hasItemOption){var u=t.getItemModel(e);a=u.getModel(\"lineStyle\").getLineStyle(),s=u.getModel(\"emphasis.lineStyle\").getLineStyle(),l=u.getModel(\"label\"),h=u.getModel(\"emphasis.label\")}var c=t.getItemVisual(e,\"color\"),f=D(t.getItemVisual(e,\"opacity\"),a.opacity,1);o.useStyle(r({strokeNoScale:!0,fill:\"none\",stroke:c,opacity:f},a)),o.hoverStyle=s,d(AD,function(t){var e=this.childOfName(t);e&&(e.setColor(c),e.setStyle({opacity:f}))},this);var p,g,m,v=l.getShallow(\"show\"),y=h.getShallow(\"show\"),x=this.childOfName(\"label\");if(v||y){if(p=c||\"#000\",null==(g=n.getFormattedLabel(e,\"normal\",t.dataType))){var _=n.getRawValue(e);g=null==_?t.getName(e):isFinite(_)?Ao(_):_}m=A(n.getFormattedLabel(e,\"emphasis\",t.dataType),g)}if(v){var w=io(x.style,l,{text:g},{autoColor:p});x.__textAlign=w.textAlign,x.__verticalAlign=w.textVerticalAlign,x.__position=l.get(\"position\")||\"middle\"}else x.setStyle(\"text\",null);x.hoverStyle=y?{text:m,textFill:h.getTextColor(!0),fontStyle:h.getShallow(\"fontStyle\"),fontWeight:h.getShallow(\"fontWeight\"),fontSize:h.getShallow(\"fontSize\"),fontFamily:h.getShallow(\"fontFamily\")}:{text:null},x.ignore=!v&&!y,to(this)},DD.highlight=function(){this.trigger(\"emphasis\")},DD.downplay=function(){this.trigger(\"normal\")},DD.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},DD.setLinePoints=function(t){var e=this.childOfName(\"line\");Gc(e.shape,t),e.dirty()},h(Wc,S_);var CD=Fc.prototype;CD.isPersistent=function(){return!0},CD.updateData=function(t){var e=this,i=e.group,n=e._lineData;e._lineData=t,n||i.removeAll();var o=Uc(t);t.diff(n).add(function(i){Hc(e,t,i,o)}).update(function(i,a){Zc(e,n,t,a,i,o)}).remove(function(t){i.remove(n.getItemGraphicEl(t))}).execute()},CD.updateLayout=function(){var t=this._lineData;t.eachItemGraphicEl(function(e,i){e.updateLayout(t,i)},this)},CD.incrementalPrepareUpdate=function(t){this._seriesScope=Uc(t),this._lineData=null,this.group.removeAll()},CD.incrementalUpdate=function(t,e){for(var i=t.start;i<t.end;i++)if(Xc(e.getItemLayout(i))){var n=new this._ctor(e,i,this._seriesScope);n.traverse(function(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}),this.group.add(n)}},CD.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},CD._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var LD=[],kD=[],PD=[],OD=Ji,ND=Gx,ED=Math.abs,zD=function(t,e){function i(t){var e=t.getVisual(\"symbolSize\");return e instanceof Array&&(e=(e[0]+e[1])/2),e}var n=[],o=nn,a=[[],[],[]],r=[[],[]],s=[];e/=2,t.eachEdge(function(t,l){var h=t.getLayout(),u=t.getVisual(\"fromSymbol\"),c=t.getVisual(\"toSymbol\");h.__original||(h.__original=[W(h[0]),W(h[1])],h[2]&&h.__original.push(W(h[2])));var d=h.__original;if(null!=h[2]){if(G(a[0],d[0]),G(a[1],d[2]),G(a[2],d[1]),u&&\"none\"!=u){var f=i(t.node1),p=Yc(a,d[0],f*e);o(a[0][0],a[1][0],a[2][0],p,n),a[0][0]=n[3],a[1][0]=n[4],o(a[0][1],a[1][1],a[2][1],p,n),a[0][1]=n[3],a[1][1]=n[4]}if(c&&\"none\"!=c){var f=i(t.node2),p=Yc(a,d[1],f*e);o(a[0][0],a[1][0],a[2][0],p,n),a[1][0]=n[1],a[2][0]=n[2],o(a[0][1],a[1][1],a[2][1],p,n),a[1][1]=n[1],a[2][1]=n[2]}G(h[0],a[0]),G(h[1],a[2]),G(h[2],a[1])}else{if(G(r[0],d[0]),G(r[1],d[1]),U(s,r[1],r[0]),q(s,s),u&&\"none\"!=u){f=i(t.node1);Z(r[0],r[0],s,f*e)}if(c&&\"none\"!=c){f=i(t.node2);Z(r[1],r[1],s,-f*e)}G(h[0],r[0]),G(h[1],r[1])}})},RD=[\"itemStyle\",\"opacity\"],BD=[\"lineStyle\",\"opacity\"];ys({type:\"graph\",init:function(t,e){var i=new Ml,n=new Fc,o=this.group;this._controller=new Zh(e.getZr()),this._controllerHost={target:o},o.add(i.group),o.add(n.group),this._symbolDraw=i,this._lineDraw=n,this._firstRender=!0},render:function(t,e,i){var n=t.coordinateSystem;this._model=t,this._nodeScaleRatio=t.get(\"nodeScaleRatio\");var o=this._symbolDraw,a=this._lineDraw,r=this.group;if(\"view\"===n.type){var s={position:n.position,scale:n.scale};this._firstRender?r.attr(s):co(r,s,t)}zD(t.getGraph(),this._getNodeGlobalScale(t));var l=t.getData();o.updateData(l);var h=t.getEdgeData();a.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,e,i),clearTimeout(this._layoutTimeout);var u=t.forceLayout,c=t.get(\"force.layoutAnimation\");u&&this._startForceLayoutIteration(u,c),l.eachItemGraphicEl(function(e,n){var o=l.getItemModel(n);e.off(\"drag\").off(\"dragend\");var a=l.getItemModel(n).get(\"draggable\");a&&e.on(\"drag\",function(){u&&(u.warmUp(),!this._layouting&&this._startForceLayoutIteration(u,c),u.setFixed(n),l.setItemLayout(n,e.position))},this).on(\"dragend\",function(){u&&u.setUnfixed(n)},this),e.setDraggable(a&&u),e.off(\"mouseover\",e.__focusNodeAdjacency),e.off(\"mouseout\",e.__unfocusNodeAdjacency),o.get(\"focusNodeAdjacency\")&&(e.on(\"mouseover\",e.__focusNodeAdjacency=function(){i.dispatchAction({type:\"focusNodeAdjacency\",seriesId:t.id,dataIndex:e.dataIndex})}),e.on(\"mouseout\",e.__unfocusNodeAdjacency=function(){i.dispatchAction({type:\"unfocusNodeAdjacency\",seriesId:t.id})}))},this),l.graph.eachEdge(function(e){var n=e.getGraphicEl();n.off(\"mouseover\",n.__focusNodeAdjacency),n.off(\"mouseout\",n.__unfocusNodeAdjacency),e.getModel().get(\"focusNodeAdjacency\")&&(n.on(\"mouseover\",n.__focusNodeAdjacency=function(){i.dispatchAction({type:\"focusNodeAdjacency\",seriesId:t.id,edgeDataIndex:e.dataIndex})}),n.on(\"mouseout\",n.__unfocusNodeAdjacency=function(){i.dispatchAction({type:\"unfocusNodeAdjacency\",seriesId:t.id})}))});var d=\"circular\"===t.get(\"layout\")&&t.get(\"circular.rotateLabel\"),f=l.getLayout(\"cx\"),p=l.getLayout(\"cy\");l.eachItemGraphicEl(function(t,e){var i=t.getSymbolPath();if(d){var n=l.getItemLayout(e),o=Math.atan2(n[1]-p,n[0]-f);o<0&&(o=2*Math.PI+o);var a=n[0]<f;a&&(o-=Math.PI);var r=a?\"left\":\"right\";i.setStyle({textRotation:-o,textPosition:r,textOrigin:\"center\"}),i.hoverStyle&&(i.hoverStyle.textPosition=r)}else i.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(t,e,i,n){var o=this._model.getData().graph,a=n.dataIndex,r=n.edgeDataIndex,s=o.getNodeByIndex(a),l=o.getEdgeByIndex(r);(s||l)&&(o.eachNode(function(t){$c(t,RD,.1)}),o.eachEdge(function(t){$c(t,BD,.1)}),s&&(Kc(s,RD),d(s.edges,function(t){t.dataIndex<0||(Kc(t,BD),Kc(t.node1,RD),Kc(t.node2,RD))})),l&&(Kc(l,BD),Kc(l.node1,RD),Kc(l.node2,RD)))},unfocusNodeAdjacency:function(t,e,i,n){var o=this._model.getData().graph;o.eachNode(function(t){$c(t,RD)}),o.eachEdge(function(t){$c(t,BD)})},_startForceLayoutIteration:function(t,e){var i=this;!function n(){t.step(function(t){i.updateLayout(i._model),(i._layouting=!t)&&(e?i._layoutTimeout=setTimeout(n,16):n())})}()},_updateController:function(t,e,i){var n=this._controller,o=this._controllerHost,a=this.group;n.setPointerChecker(function(e,n,o){var r=a.getBoundingRect();return r.applyTransform(a.transform),r.contain(n,o)&&!tu(e,i,t)}),\"view\"===t.coordinateSystem.type?(n.enable(t.get(\"roam\")),o.zoomLimit=t.get(\"scaleLimit\"),o.zoom=t.coordinateSystem.getZoom(),n.off(\"pan\").off(\"zoom\").on(\"pan\",function(e,n){Jh(o,e,n),i.dispatchAction({seriesId:t.id,type:\"graphRoam\",dx:e,dy:n})}).on(\"zoom\",function(e,n,a){Qh(o,e,n,a),i.dispatchAction({seriesId:t.id,type:\"graphRoam\",zoom:e,originX:n,originY:a}),this._updateNodeAndLinkScale(),zD(t.getGraph(),this._getNodeGlobalScale(t)),this._lineDraw.updateLayout()},this)):n.disable()},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),i=this._getNodeGlobalScale(t),n=[i,i];e.eachItemGraphicEl(function(t,e){t.attr(\"scale\",n)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if(\"view\"!==e.type)return 1;var i=this._nodeScaleRatio,n=e.scale,o=n&&n[0]||1;return((e.getZoom()-1)*i+1)/o},updateLayout:function(t){zD(t.getGraph(),this._getNodeGlobalScale(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}}),hs({type:\"graphRoam\",event:\"graphRoam\",update:\"none\"},function(t,e){e.eachComponent({mainType:\"series\",query:t},function(e){var i=au(e.coordinateSystem,t);e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom)})}),hs({type:\"focusNodeAdjacency\",event:\"focusNodeAdjacency\",update:\"series.graph:focusNodeAdjacency\"},function(){}),hs({type:\"unfocusNodeAdjacency\",event:\"unfocusNodeAdjacency\",update:\"series.graph:unfocusNodeAdjacency\"},function(){});var VD=Z;ls(function(t){var e=t.findComponents({mainType:\"legend\"});e&&e.length&&t.eachSeriesByType(\"graph\",function(t){var i=t.getCategoriesData(),n=t.getGraph().data,o=i.mapArray(i.getName);n.filterSelf(function(t){var i=n.getItemModel(t).getShallow(\"category\");if(null!=i){\"number\"==typeof i&&(i=o[i]);for(var a=0;a<e.length;a++)if(!e[a].isSelected(i))return!1}return!0})},this)}),ds(bT(\"graph\",\"circle\",null)),ds(function(t){var e={};t.eachSeriesByType(\"graph\",function(t){var i=t.getCategoriesData(),n=t.getData(),o={};i.each(function(n){var a=i.getName(n);o[\"ec-\"+a]=n;var r=i.getItemModel(n).get(\"itemStyle.color\")||t.getColorFromPalette(a,e);i.setItemVisual(n,\"color\",r)}),i.count()&&n.each(function(t){var e=n.getItemModel(t).getShallow(\"category\");null!=e&&(\"string\"==typeof e&&(e=o[\"ec-\"+e]),n.getItemVisual(t,\"color\",!0)||n.setItemVisual(t,\"color\",i.getItemVisual(e,\"color\")))})})}),ds(function(t){t.eachSeriesByType(\"graph\",function(t){var e=t.getGraph(),i=t.getEdgeData(),n=Jc(t.get(\"edgeSymbol\")),o=Jc(t.get(\"edgeSymbolSize\")),a=\"lineStyle.color\".split(\".\"),r=\"lineStyle.opacity\".split(\".\");i.setVisual(\"fromSymbol\",n&&n[0]),i.setVisual(\"toSymbol\",n&&n[1]),i.setVisual(\"fromSymbolSize\",o&&o[0]),i.setVisual(\"toSymbolSize\",o&&o[1]),i.setVisual(\"color\",t.get(a)),i.setVisual(\"opacity\",t.get(r)),i.each(function(t){var n=i.getItemModel(t),o=e.getEdgeByIndex(t),s=Jc(n.getShallow(\"symbol\",!0)),l=Jc(n.getShallow(\"symbolSize\",!0)),h=n.get(a),u=n.get(r);switch(h){case\"source\":h=o.node1.getVisual(\"color\");break;case\"target\":h=o.node2.getVisual(\"color\")}s[0]&&o.setVisual(\"fromSymbol\",s[0]),s[1]&&o.setVisual(\"toSymbol\",s[1]),l[0]&&o.setVisual(\"fromSymbolSize\",l[0]),l[1]&&o.setVisual(\"toSymbolSize\",l[1]),o.setVisual(\"color\",h),o.setVisual(\"opacity\",u)})})}),cs(function(t,e){t.eachSeriesByType(\"graph\",function(t){var e=t.get(\"layout\"),i=t.coordinateSystem;if(i&&\"view\"!==i.type){var n=t.getData(),o=[];d(i.dimensions,function(t){o=o.concat(n.mapDimension(t,!0))});for(var a=0;a<n.count();a++){for(var r=[],s=!1,l=0;l<o.length;l++){var h=n.get(o[l],a);isNaN(h)||(s=!0),r.push(h)}s?n.setItemLayout(a,i.dataToPoint(r)):n.setItemLayout(a,[NaN,NaN])}td(n.graph)}else e&&\"none\"!==e||Qc(t)})}),cs(function(t){t.eachSeriesByType(\"graph\",function(t){\"circular\"===t.get(\"layout\")&&ed(t)})}),cs(function(t){t.eachSeriesByType(\"graph\",function(t){var e=t.coordinateSystem;if(!e||\"view\"===e.type)if(\"force\"===t.get(\"layout\")){var i=t.preservedPoints||{},n=t.getGraph(),o=n.data,a=n.edgeData,r=t.getModel(\"force\"),s=r.get(\"initLayout\");t.preservedPoints?o.each(function(t){var e=o.getId(t);o.setItemLayout(t,i[e]||[NaN,NaN])}):s&&\"none\"!==s?\"circular\"===s&&ed(t):Qc(t);var l=o.getDataExtent(\"value\"),h=a.getDataExtent(\"value\"),u=r.get(\"repulsion\"),c=r.get(\"edgeLength\");y(u)||(u=[u,u]),y(c)||(c=[c,c]),c=[c[1],c[0]];var d=o.mapArray(\"value\",function(t,e){var i=o.getItemLayout(e),n=Io(t,l,u);return isNaN(n)&&(n=(u[0]+u[1])/2),{w:n,rep:n,fixed:o.getItemModel(e).get(\"fixed\"),p:!i||isNaN(i[0])||isNaN(i[1])?null:i}}),f=a.mapArray(\"value\",function(t,e){var i=n.getEdgeByIndex(e),o=Io(t,h,c);return isNaN(o)&&(o=(c[0]+c[1])/2),{n1:d[i.node1.dataIndex],n2:d[i.node2.dataIndex],d:o,curveness:i.getModel().get(\"lineStyle.curveness\")||0}}),p=(e=t.coordinateSystem).getBoundingRect(),g=id(d,f,{rect:p,gravity:r.get(\"gravity\")}),m=g.step;g.step=function(t){for(var e=0,a=d.length;e<a;e++)d[e].fixed&&G(d[e].p,n.getNodeByIndex(e).getLayout());m(function(e,a,r){for(var s=0,l=e.length;s<l;s++)e[s].fixed||n.getNodeByIndex(s).setLayout(e[s].p),i[o.getId(s)]=e[s].p;for(var s=0,l=a.length;s<l;s++){var h=a[s],u=n.getEdgeByIndex(s),c=h.n1.p,d=h.n2.p,f=u.getLayout();(f=f?f.slice():[])[0]=f[0]||[],f[1]=f[1]||[],G(f[0],c),G(f[1],d),+h.curveness&&(f[2]=[(c[0]+d[0])/2-(c[1]-d[1])*h.curveness,(c[1]+d[1])/2-(d[0]-c[0])*h.curveness]),u.setLayout(f)}t&&t(r)})},t.forceLayout=g,t.preservedPoints=i,g.step()}else t.forceLayout=null})}),us(\"graphView\",{create:function(t,e){var i=[];return t.eachSeriesByType(\"graph\",function(t){var n=t.get(\"coordinateSystem\");if(!n||\"view\"===n){var o=t.getData(),a=[],r=[];an(o.mapArray(function(t){var e=o.getItemModel(t);return[+e.get(\"x\"),+e.get(\"y\")]}),a,r),r[0]-a[0]==0&&(r[0]+=1,a[0]-=1),r[1]-a[1]==0&&(r[1]+=1,a[1]-=1);var s=(r[0]-a[0])/(r[1]-a[1]),l=nd(t,e,s);isNaN(s)&&(a=[l.x,l.y],r=[l.x+l.width,l.y+l.height]);var h=r[0]-a[0],u=r[1]-a[1],c=l.width,d=l.height,f=t.coordinateSystem=new su;f.zoomLimit=t.get(\"scaleLimit\"),f.setBoundingRect(a[0],a[1],h,u),f.setViewRect(l.x,l.y,c,d),f.setCenter(t.get(\"center\")),f.setZoom(t.get(\"zoom\")),i.push(f)}}),i}});uM.extend({type:\"series.gauge\",getInitialData:function(t,e){var i=t.data||[];return y(i)||(i=[i]),t.data=i,rA(this,[\"value\"])},defaultOption:{zlevel:0,z:2,center:[\"50%\",\"50%\"],legendHoverLink:!0,radius:\"75%\",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,\"#91c7ae\"],[.8,\"#63869e\"],[1,\"#c23531\"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:\"#eee\",width:2,type:\"solid\"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:\"#eee\",width:1,type:\"solid\"}},axisLabel:{show:!0,distance:5,color:\"auto\"},pointer:{show:!0,length:\"80%\",width:8},itemStyle:{color:\"auto\"},title:{show:!0,offsetCenter:[0,\"-40%\"],color:\"#333\",fontSize:15},detail:{show:!0,backgroundColor:\"rgba(0,0,0,0)\",borderWidth:0,borderColor:\"#ccc\",width:100,height:null,padding:[5,10],offsetCenter:[0,\"40%\"],color:\"auto\",fontSize:30}}});var GD=Mn.extend({type:\"echartsGaugePointer\",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var i=Math.cos,n=Math.sin,o=e.r,a=e.width,r=e.angle,s=e.x-i(r)*a*(a>=o/3?1:2),l=e.y-n(r)*a*(a>=o/3?1:2);r=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+i(r)*a,e.y+n(r)*a),t.lineTo(e.x+i(e.angle)*o,e.y+n(e.angle)*o),t.lineTo(e.x-i(r)*a,e.y-n(r)*a),t.lineTo(s,l)}}),WD=2*Math.PI,FD=(cr.extend({type:\"gauge\",render:function(t,e,i){this.group.removeAll();var n=t.get(\"axisLine.lineStyle.color\"),o=od(t,i);this._renderMain(t,e,i,n,o)},dispose:function(){},_renderMain:function(t,e,i,n,o){for(var a=this.group,r=t.getModel(\"axisLine\").getModel(\"lineStyle\"),s=t.get(\"clockwise\"),l=-t.get(\"startAngle\")/180*Math.PI,h=-t.get(\"endAngle\")/180*Math.PI,u=(h-l)%WD,c=l,d=r.get(\"width\"),f=0;f<n.length;f++){var p=Math.min(Math.max(n[f][0],0),1),g=new Ob({shape:{startAngle:c,endAngle:h=l+u*p,cx:o.cx,cy:o.cy,clockwise:s,r0:o.r-d,r:o.r},silent:!0});g.setStyle({fill:n[f][1]}),g.setStyle(r.getLineStyle([\"color\",\"borderWidth\",\"borderColor\"])),a.add(g),c=h}var m=function(t){if(t<=0)return n[0][1];for(var e=0;e<n.length;e++)if(n[e][0]>=t&&(0===e?0:n[e-1][0])<t)return n[e][1];return n[e-1][1]};if(!s){var v=l;l=h,h=v}this._renderTicks(t,e,i,m,o,l,h,s),this._renderPointer(t,e,i,m,o,l,h,s),this._renderTitle(t,e,i,m,o),this._renderDetail(t,e,i,m,o)},_renderTicks:function(t,e,i,n,o,a,r,s){for(var l=this.group,h=o.cx,u=o.cy,c=o.r,d=+t.get(\"min\"),f=+t.get(\"max\"),p=t.getModel(\"splitLine\"),g=t.getModel(\"axisTick\"),m=t.getModel(\"axisLabel\"),v=t.get(\"splitNumber\"),y=g.get(\"splitNumber\"),x=To(p.get(\"length\"),c),_=To(g.get(\"length\"),c),w=a,b=(r-a)/v,S=b/y,M=p.getModel(\"lineStyle\").getLineStyle(),I=g.getModel(\"lineStyle\").getLineStyle(),T=0;T<=v;T++){var A=Math.cos(w),D=Math.sin(w);if(p.get(\"show\")){var C=new Gb({shape:{x1:A*c+h,y1:D*c+u,x2:A*(c-x)+h,y2:D*(c-x)+u},style:M,silent:!0});\"auto\"===M.stroke&&C.setStyle({stroke:n(T/v)}),l.add(C)}if(m.get(\"show\")){var L=ad(Ao(T/v*(f-d)+d),m.get(\"formatter\")),k=m.get(\"distance\"),P=n(T/v);l.add(new Cb({style:io({},m,{text:L,x:A*(c-x-k)+h,y:D*(c-x-k)+u,textVerticalAlign:D<-.4?\"top\":D>.4?\"bottom\":\"middle\",textAlign:A<-.4?\"left\":A>.4?\"right\":\"center\"},{autoColor:P}),silent:!0}))}if(g.get(\"show\")&&T!==v){for(var O=0;O<=y;O++){var A=Math.cos(w),D=Math.sin(w),N=new Gb({shape:{x1:A*c+h,y1:D*c+u,x2:A*(c-_)+h,y2:D*(c-_)+u},silent:!0,style:I});\"auto\"===I.stroke&&N.setStyle({stroke:n((T+O/y)/v)}),l.add(N),w+=S}w-=S}else w+=b}},_renderPointer:function(t,e,i,n,o,a,r,s){var l=this.group,h=this._data;if(t.get(\"pointer.show\")){var u=[+t.get(\"min\"),+t.get(\"max\")],c=[a,r],d=t.getData(),f=d.mapDimension(\"value\");d.diff(h).add(function(e){var i=new GD({shape:{angle:a}});fo(i,{shape:{angle:Io(d.get(f,e),u,c,!0)}},t),l.add(i),d.setItemGraphicEl(e,i)}).update(function(e,i){var n=h.getItemGraphicEl(i);co(n,{shape:{angle:Io(d.get(f,e),u,c,!0)}},t),l.add(n),d.setItemGraphicEl(e,n)}).remove(function(t){var e=h.getItemGraphicEl(t);l.remove(e)}).execute(),d.eachItemGraphicEl(function(t,e){var i=d.getItemModel(e),a=i.getModel(\"pointer\");t.setShape({x:o.cx,y:o.cy,width:To(a.get(\"width\"),o.r),r:To(a.get(\"length\"),o.r)}),t.useStyle(i.getModel(\"itemStyle\").getItemStyle()),\"auto\"===t.style.fill&&t.setStyle(\"fill\",n(Io(d.get(f,e),u,[0,1],!0))),to(t,i.getModel(\"emphasis.itemStyle\").getItemStyle())}),this._data=d}else h&&h.eachItemGraphicEl(function(t){l.remove(t)})},_renderTitle:function(t,e,i,n,o){var a=t.getData(),r=a.mapDimension(\"value\"),s=t.getModel(\"title\");if(s.get(\"show\")){var l=s.get(\"offsetCenter\"),h=o.cx+To(l[0],o.r),u=o.cy+To(l[1],o.r),c=+t.get(\"min\"),d=+t.get(\"max\"),f=n(Io(t.getData().get(r,0),[c,d],[0,1],!0));this.group.add(new Cb({silent:!0,style:io({},s,{x:h,y:u,text:a.getName(0),textAlign:\"center\",textVerticalAlign:\"middle\"},{autoColor:f,forceRich:!0})}))}},_renderDetail:function(t,e,i,n,o){var a=t.getModel(\"detail\"),r=+t.get(\"min\"),s=+t.get(\"max\");if(a.get(\"show\")){var l=a.get(\"offsetCenter\"),h=o.cx+To(l[0],o.r),u=o.cy+To(l[1],o.r),c=To(a.get(\"width\"),o.r),d=To(a.get(\"height\"),o.r),f=t.getData(),p=f.get(f.mapDimension(\"value\"),0),g=n(Io(p,[r,s],[0,1],!0));this.group.add(new Cb({silent:!0,style:io({},a,{x:h,y:u,text:ad(p,a.get(\"formatter\")),textWidth:isNaN(c)?null:c,textHeight:isNaN(d)?null:d,textAlign:\"center\",textVerticalAlign:\"middle\"},{autoColor:g,forceRich:!0})}))}}}),vs({type:\"series.funnel\",init:function(t){FD.superApply(this,\"init\",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(t)},getInitialData:function(t,e){return rA(this,[\"value\"])},_defaultLabelLine:function(t){Mi(t,\"labelLine\",[\"show\"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},getDataParams:function(t){var e=this.getData(),i=FD.superCall(this,\"getDataParams\",t),n=e.mapDimension(\"value\"),o=e.getSum(n);return i.percent=o?+(e.get(n,t)/o*100).toFixed(2):0,i.$vars.push(\"percent\"),i},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:\"0%\",maxSize:\"100%\",sort:\"descending\",gap:0,funnelAlign:\"center\",label:{show:!0,position:\"outer\"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:\"solid\"}},itemStyle:{borderColor:\"#fff\",borderWidth:1},emphasis:{label:{show:!0}}}})),HD=rd.prototype,ZD=[\"itemStyle\",\"opacity\"];HD.updateData=function(t,e,i){var n=this.childAt(0),o=t.hostModel,a=t.getItemModel(e),s=t.getItemLayout(e),l=t.getItemModel(e).get(ZD);l=null==l?1:l,n.useStyle({}),i?(n.setShape({points:s.points}),n.setStyle({opacity:0}),fo(n,{style:{opacity:l}},o,e)):co(n,{style:{opacity:l},shape:{points:s.points}},o,e);var h=a.getModel(\"itemStyle\"),u=t.getItemVisual(e,\"color\");n.setStyle(r({lineJoin:\"round\",fill:u},h.getItemStyle([\"opacity\"]))),n.hoverStyle=h.getModel(\"emphasis\").getItemStyle(),this._updateLabel(t,e),to(this)},HD._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),o=t.hostModel,a=t.getItemModel(e),r=t.getItemLayout(e).label,s=t.getItemVisual(e,\"color\");co(i,{shape:{points:r.linePoints||r.linePoints}},o,e),co(n,{style:{x:r.x,y:r.y}},o,e),n.attr({rotation:r.rotation,origin:[r.x,r.y],z2:10});var l=a.getModel(\"label\"),h=a.getModel(\"emphasis.label\"),u=a.getModel(\"labelLine\"),c=a.getModel(\"emphasis.labelLine\"),s=t.getItemVisual(e,\"color\");eo(n.style,n.hoverStyle={},l,h,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:s,useInsideStyle:!!r.inside},{textAlign:r.textAlign,textVerticalAlign:r.verticalAlign}),n.ignore=n.normalIgnore=!l.get(\"show\"),n.hoverIgnore=!h.get(\"show\"),i.ignore=i.normalIgnore=!u.get(\"show\"),i.hoverIgnore=!c.get(\"show\"),i.setStyle({stroke:s}),i.setStyle(u.getModel(\"lineStyle\").getLineStyle()),i.hoverStyle=c.getModel(\"lineStyle\").getLineStyle()},h(rd,S_);cr.extend({type:\"funnel\",render:function(t,e,i){var n=t.getData(),o=this._data,a=this.group;n.diff(o).add(function(t){var e=new rd(n,t);n.setItemGraphicEl(t,e),a.add(e)}).update(function(t,e){var i=o.getItemGraphicEl(e);i.updateData(n,t),a.add(i),n.setItemGraphicEl(t,i)}).remove(function(t){var e=o.getItemGraphicEl(t);a.remove(e)}).execute(),this._data=n},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});ds(cA(\"funnel\")),cs(function(t,e,i){t.eachSeriesByType(\"funnel\",function(t){var i=t.getData(),n=i.mapDimension(\"value\"),o=t.get(\"sort\"),a=sd(t,e),r=ld(i,o),s=[To(t.get(\"minSize\"),a.width),To(t.get(\"maxSize\"),a.width)],l=i.getDataExtent(n),h=t.get(\"min\"),u=t.get(\"max\");null==h&&(h=Math.min(l[0],0)),null==u&&(u=l[1]);var c=t.get(\"funnelAlign\"),d=t.get(\"gap\"),f=(a.height-d*(i.count()-1))/i.count(),p=a.y,g=function(t,e){var o,r=Io(i.get(n,t)||0,[h,u],s,!0);switch(c){case\"left\":o=a.x;break;case\"center\":o=a.x+(a.width-r)/2;break;case\"right\":o=a.x+a.width-r}return[[o,e],[o+r,e]]};\"ascending\"===o&&(f=-f,d=-d,p+=a.height,r=r.reverse());for(var m=0;m<r.length;m++){var v=r[m],y=r[m+1],x=i.getItemModel(v).get(\"itemStyle.height\");null==x?x=f:(x=To(x,a.height),\"ascending\"===o&&(x=-x));var _=g(v,p),w=g(y,p+x);p+=x+d,i.setItemLayout(v,{points:_.concat(w.slice().reverse())})}hd(i)})}),ls(gA(\"funnel\"));var UD=function(t,e,i,n,o){nT.call(this,t,e,i),this.type=n||\"value\",this.axisIndex=o};UD.prototype={constructor:UD,model:null,isHorizontal:function(){return\"horizontal\"!==this.coordinateSystem.getModel().get(\"layout\")}},h(UD,nT);var jD=function(t,e,i,n,o,a){e[0]=fd(e[0],i),e[1]=fd(e[1],i),t=t||0;var r=i[1]-i[0];null!=o&&(o=fd(o,[0,r])),null!=a&&(a=Math.max(a,null!=o?o:0)),\"all\"===n&&(o=a=Math.abs(e[1]-e[0]),n=0);var s=dd(e,n);e[n]+=t;var l=o||0,h=i.slice();s.sign<0?h[0]+=l:h[1]-=l,e[n]=fd(e[n],h);u=dd(e,n);null!=o&&(u.sign!==s.sign||u.span<o)&&(e[1-n]=e[n]+s.sign*o);var u=dd(e,n);return null!=a&&u.span>a&&(e[1-n]=e[n]+u.sign*a),e},XD=d,YD=Math.min,qD=Math.max,$D=Math.floor,KD=Math.ceil,JD=Ao,QD=Math.PI;pd.prototype={type:\"parallel\",constructor:pd,_init:function(t,e,i){var n=t.dimensions,o=t.parallelAxisIndex;XD(n,function(t,i){var n=o[i],a=e.getComponent(\"parallelAxis\",n),r=this._axesMap.set(t,new UD(t,sl(a),[0,0],a.get(\"type\"),n)),s=\"category\"===r.type;r.onBand=s&&a.get(\"boundaryGap\"),r.inverse=a.get(\"inverse\"),a.axis=r,r.model=a,r.coordinateSystem=a.coordinateSystem=this},this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},containPoint:function(t){var e=this._makeLayoutInfo(),i=e.axisBase,n=e.layoutBase,o=e.pixelDimIndex,a=t[1-o],r=t[o];return a>=i&&a<=i+e.axisLength&&r>=n&&r<=n+e.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(t,e){e.eachSeries(function(i){if(t.contains(i,e)){var n=i.getData();XD(this.dimensions,function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(n,n.mapDimension(t)),rl(e.scale,e.model)},this)}},this)},resize:function(t,e){this._rect=Ko(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var t,e=this._model,i=this._rect,n=[\"x\",\"y\"],o=[\"width\",\"height\"],a=e.get(\"layout\"),r=\"horizontal\"===a?0:1,s=i[o[r]],l=[0,s],h=this.dimensions.length,u=gd(e.get(\"axisExpandWidth\"),l),c=gd(e.get(\"axisExpandCount\")||0,[0,h]),d=e.get(\"axisExpandable\")&&h>3&&h>c&&c>1&&u>0&&s>0,f=e.get(\"axisExpandWindow\");f?(t=gd(f[1]-f[0],l),f[1]=f[0]+t):(t=gd(u*(c-1),l),(f=[u*(e.get(\"axisExpandCenter\")||$D(h/2))-t/2])[1]=f[0]+t);var p=(s-t)/(h-c);p<3&&(p=0);var g=[$D(JD(f[0]/u,1))+1,KD(JD(f[1]/u,1))-1],m=p/u*f[0];return{layout:a,pixelDimIndex:r,layoutBase:i[n[r]],layoutLength:s,axisBase:i[n[1-r]],axisLength:i[o[1-r]],axisExpandable:d,axisExpandWidth:u,axisCollapseWidth:p,axisExpandWindow:f,axisCount:h,winInnerIndices:g,axisExpandWindow0Pos:m}},_layoutAxes:function(){var t=this._rect,e=this._axesMap,i=this.dimensions,n=this._makeLayoutInfo(),o=n.layout;e.each(function(t){var e=[0,n.axisLength],i=t.inverse?1:0;t.setExtent(e[i],e[1-i])}),XD(i,function(i,a){var r=(n.axisExpandable?vd:md)(a,n),s={horizontal:{x:r.position,y:n.axisLength},vertical:{x:0,y:r.position}},l={horizontal:QD/2,vertical:0},h=[s[o].x+t.x,s[o].y+t.y],u=l[o],c=st();dt(c,c,u),ct(c,c,h),this._axesLayout[i]={position:h,rotation:u,transform:c,axisNameAvailableWidth:r.axisNameAvailableWidth,axisLabelShow:r.axisLabelShow,nameTruncateMaxWidth:r.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:e.get(i).getLabelInterval()}},this)},getAxis:function(t){return this._axesMap.get(t)},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},eachActiveState:function(t,e,i){for(var n=this.dimensions,o=f(n,function(e){return t.mapDimension(e)}),a=this._axesMap,r=this.hasAxisBrushed(),s=0,l=t.count();s<l;s++){var h,u=t.getValues(o,s);if(r){h=\"active\";for(var c=0,d=n.length;c<d;c++){var p=n[c];if(\"inactive\"===a.get(p).model.getActiveState(u[c],c)){h=\"inactive\";break}}}else h=\"normal\";e.call(i,h,s)}},hasAxisBrushed:function(){for(var t=this.dimensions,e=this._axesMap,i=!1,n=0,o=t.length;n<o;n++)\"normal\"!==e.get(t[n]).model.getActiveState()&&(i=!0);return i},axisCoordToPoint:function(t,e){return go([t,0],this._axesLayout[e].transform)},getAxisLayout:function(t){return i(this._axesLayout[t])},getSlidedAxisExpandWindow:function(t){var e=this._makeLayoutInfo(),i=e.pixelDimIndex,n=e.axisExpandWindow.slice(),o=n[1]-n[0],a=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:\"none\",axisExpandWindow:n};var r,s=t[i]-e.layoutBase-e.axisExpandWindow0Pos,l=\"slide\",h=e.axisCollapseWidth,u=this._model.get(\"axisExpandSlideTriggerArea\"),c=null!=u[0];if(h)c&&h&&s<o*u[0]?(l=\"jump\",r=s-o*u[2]):c&&h&&s>o*(1-u[0])?(l=\"jump\",r=s-o*(1-u[2])):(r=s-o*u[1])>=0&&(r=s-o*(1-u[1]))<=0&&(r=0),(r*=e.axisExpandWidth/h)?jD(r,n,a,\"all\"):l=\"none\";else{o=n[1]-n[0];(n=[qD(0,a[1]*s/o-o/2)])[1]=YD(a[1],n[0]+o),n[0]=n[1]-o}return{axisExpandWindow:n,behavior:l}}},Aa.register(\"parallel\",{create:function(t,e){var i=[];return t.eachComponent(\"parallel\",function(n,o){var a=new pd(n,t,e);a.name=\"parallel_\"+o,a.resize(n,e),n.coordinateSystem=a,a.model=n,i.push(a)}),t.eachSeries(function(e){if(\"parallel\"===e.get(\"coordinateSystem\")){var i=t.queryComponents({mainType:\"parallel\",index:e.get(\"parallelIndex\"),id:e.get(\"parallelId\")})[0];e.coordinateSystem=i.coordinateSystem}}),i}});var tC=IS.extend({type:\"baseParallelAxis\",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return Sw([[\"fill\",\"color\"],[\"lineWidth\",\"borderWidth\"],[\"stroke\",\"borderColor\"],[\"width\",\"width\"],[\"opacity\",\"opacity\"]])(this.getModel(\"areaSelectStyle\"))},setActiveIntervals:function(t){var e=this.activeIntervals=i(t);if(e)for(var n=e.length-1;n>=0;n--)Do(e[n])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return\"normal\";if(null==t)return\"inactive\";for(var i=0,n=e.length;i<n;i++)if(e[i][0]<=t&&t<=e[i][1])return\"active\";return\"inactive\"}}),eC={type:\"value\",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:\"rgba(160,197,232)\",color:\"rgba(160,197,232)\",opacity:.3},realtime:!0,z:10};n(tC.prototype,ZI),kT(\"parallel\",tC,function(t,e){return e.type||(e.data?\"category\":\"value\")},eC),IS.extend({type:\"parallel\",dependencies:[\"parallelAxis\"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:\"box\",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:\"horizontal\",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:\"click\",parallelAxisDefault:null},init:function(){IS.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t&&n(e,t,!0),this._initDimensions()},contains:function(t,e){var i=t.get(\"parallelIndex\");return null!=i&&e.getComponent(\"parallel\",i)===this},setAxisExpand:function(t){d([\"axisExpandable\",\"axisExpandCenter\",\"axisExpandCount\",\"axisExpandWidth\",\"axisExpandWindow\"],function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])},this)},_initDimensions:function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[];d(g(this.dependentModels.parallelAxis,function(t){return(t.get(\"parallelIndex\")||0)===this.componentIndex},this),function(i){t.push(\"dim\"+i.get(\"dim\")),e.push(i.componentIndex)})}}),hs({type:\"axisAreaSelect\",event:\"axisAreaSelected\"},function(t,e){e.eachComponent({mainType:\"parallelAxis\",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})}),hs(\"parallelAxisExpand\",function(t,e){e.eachComponent({mainType:\"parallel\",query:t},function(e){e.setAxisExpand(t)})});var iC=v,nC=d,oC=f,aC=Math.min,rC=Math.max,sC=Math.pow,lC=1e4,hC=6,uC=6,cC=\"globalPan\",dC={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},fC={w:\"ew\",e:\"ew\",n:\"ns\",s:\"ns\",ne:\"nesw\",sw:\"nesw\",nw:\"nwse\",se:\"nwse\"},pC={brushStyle:{lineWidth:2,stroke:\"rgba(0,0,0,0.3)\",fill:\"rgba(0,0,0,0.1)\"},transformable:!0,brushMode:\"single\",removeOnClick:!1},gC=0;yd.prototype={constructor:yd,enableBrush:function(t){return this._brushType&&_d(this),t.brushType&&xd(this,t),this},setPanels:function(t){if(t&&t.length){var e=this._panels={};d(t,function(t){e[t.panelId]=i(t)})}else this._panels=null;return this},mount:function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this._transform=e.getLocalTransform(),this},eachCover:function(t,e){nC(this._covers,t,e)},updateCovers:function(t){function e(t,e){return(null!=t.id?t.id:a+e)+\"-\"+t.brushType}function o(e,i){var n=t[e];if(null!=i&&r[i]===h)s[e]=r[i];else{var o=s[e]=null!=i?(r[i].__brushOption=n,r[i]):bd(l,wd(l,n));Id(l,o)}}t=f(t,function(t){return n(i(pC),t,!0)});var a=\"\\0-brush-index-\",r=this._covers,s=this._covers=[],l=this,h=this._creatingCover;return new ws(r,t,function(t,i){return e(t.__brushOption,i)},e).add(o).update(o).remove(function(t){r[t]!==h&&l.group.remove(r[t])}).execute(),this},unmount:function(){return this.enableBrush(!1),Cd(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},u(yd,Hx);var mC={mousedown:function(t){if(this._dragging)Kd.call(this,t);else if(!t.target||!t.target.draggable){Xd(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=Ad(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);if(jd(this,t,e),this._dragging){Xd(t);var i=qd(this,t,e,!1);i&&Ld(this,i)}},mouseup:Kd},vC={lineX:Jd(0),lineY:Jd(1),rect:{createCover:function(t,e){return Od(iC(Wd,function(t){return t},function(t){return t}),t,e,[\"w\",\"e\",\"n\",\"s\",\"se\",\"sw\",\"ne\",\"nw\"])},getCreatingRange:function(t){var e=Pd(t);return Bd(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,i,n){Nd(t,e,i,n)},updateCommon:Ed,contain:Yd},polygon:{createCover:function(t,e){var i=new S_;return i.add(new Bb({name:\"main\",style:Rd(e),silent:!0})),i},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new Rb({name:\"main\",draggable:!0,drift:iC(Fd,t,e),ondragend:iC(Ld,t,{isEnd:!0})}))},updateCoverShape:function(t,e,i,n){e.childAt(0).setShape({points:Zd(t,e,i)})},updateCommon:Ed,contain:Yd}},yC=[\"axisLine\",\"axisTickLabel\",\"axisName\"],xC=ms({type:\"parallelAxis\",init:function(t,e){xC.superApply(this,\"init\",arguments),(this._brushController=new yd(e.getZr())).on(\"brush\",m(this._onBrush,this))},render:function(t,e,i,n){if(!of(t,e,n)){this.axisModel=t,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new S_,this.group.add(this._axisGroup),t.get(\"show\")){var r=rf(t,e),s=r.coordinateSystem,l=t.getAreaSelectStyle(),h=l.width,u=t.axis.dim,c=a({strokeContainThreshold:h},s.getAxisLayout(u)),f=new GT(t,c);d(yC,f.add,f),this._axisGroup.add(f.getGroup()),this._refreshBrushController(c,l,t,r,h,i);var p=n&&!1===n.animation?null:t;vo(o,this._axisGroup,p)}}},_refreshBrushController:function(t,e,i,n,o,a){var r=i.axis.getExtent(),s=r[1]-r[0],l=Math.min(30,.1*Math.abs(s)),h=Kt.create({x:r[0],y:-o/2,width:s,height:o});h.x-=l,h.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,position:t.position}).setPanels([{panelId:\"pl\",clipPath:Qd(h),isTargetByCursor:ef(h,a,n),getLinearBrushOtherExtent:tf(h,0)}]).enableBrush({brushType:\"lineX\",brushStyle:e,removeOnClick:!0}).updateCovers(af(i))},_onBrush:function(t,e){var i=this.axisModel,n=i.axis,o=f(t,function(t){return[n.coordToData(t.range[0],!0),n.coordToData(t.range[1],!0)]});(!i.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:\"axisAreaSelect\",parallelAxisId:i.id,intervals:o})},dispose:function(){this._brushController.dispose()}});ms({type:\"parallel\",render:function(t,e,i){this._model=t,this._api=i,this._handlers||(this._handlers={},d(_C,function(t,e){i.getZr().on(e,this._handlers[e]=m(t,this))},this)),yr(this,\"_throttledDispatchExpand\",t.get(\"axisExpandRate\"),\"fixRate\")},dispose:function(t,e){d(this._handlers,function(t,i){e.getZr().off(i,t)}),this._handlers=null},_throttledDispatchExpand:function(t){this._dispatchExpand(t)},_dispatchExpand:function(t){t&&this._api.dispatchAction(a({type:\"parallelAxisExpand\"},t))}});var _C={mousedown:function(t){sf(this,\"click\")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(sf(this,\"click\")&&e){var i=[t.offsetX,t.offsetY];if(Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2)>5)return;var n=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);\"none\"!==n.behavior&&this._dispatchExpand({axisExpandWindow:n.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&sf(this,\"mousemove\")){var e=this._model,i=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),n=i.behavior;\"jump\"===n&&this._throttledDispatchExpand.debounceNextCall(e.get(\"axisExpandDebounce\")),this._throttledDispatchExpand(\"none\"===n?null:{axisExpandWindow:i.axisExpandWindow,animation:\"jump\"===n&&null})}}};ss(function(t){ud(t),cd(t)}),uM.extend({type:\"series.parallel\",dependencies:[\"parallel\"],visualColorAccessPath:\"lineStyle.color\",getInitialData:function(t,e){this.option.progressive&&(this.option.animation=!1);var i=this.getSource();return lf(i,this),Bs(i,this)},getRawIndicesByActiveState:function(t){var e=this.coordinateSystem,i=this.getData(),n=[];return e.eachActiveState(i,function(e,o){t===e&&n.push(i.getRawIndex(o))}),n},defaultOption:{zlevel:0,z:2,coordinateSystem:\"parallel\",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:\"solid\"},emphasis:{label:{show:!1}},progressive:!1,smooth:!1,animationEasing:\"linear\"}});cr.extend({type:\"parallel\",init:function(){this._dataGroup=new S_,this.group.add(this._dataGroup),this._data},render:function(t,e,i,n){this._renderForNormal(t,n)},dispose:function(){},_renderForNormal:function(t,e){var i=this._dataGroup,n=t.getData(),o=this._data,a=t.coordinateSystem,r=a.dimensions,s=t.option.smooth?.3:null;if(n.diff(o).add(function(t){df(n,i,t,r,a)}).update(function(i,s){var l=o.getItemGraphicEl(s),h=cf(n,i,r,a);n.setItemGraphicEl(i,l),co(l,{shape:{points:h}},e&&!1===e.animation?null:t,i)}).remove(function(t){var e=o.getItemGraphicEl(t);i.remove(e)}).execute(),ff(n,s),!this._data){var l=uf(a,t,function(){setTimeout(function(){i.removeClipPath()})});i.setClipPath(l)}this._data=n},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});var wC=[\"lineStyle\",\"normal\",\"opacity\"];ds(function(t){t.eachSeriesByType(\"parallel\",function(e){var i=e.getModel(\"itemStyle\"),n=e.getModel(\"lineStyle\"),o=t.get(\"color\"),a=n.get(\"color\")||i.get(\"color\")||o[e.seriesIndex%o.length],r=e.get(\"inactiveOpacity\"),s=e.get(\"activeOpacity\"),l=e.getModel(\"lineStyle\").getLineStyle(),h=e.coordinateSystem,u=e.getData(),c={normal:l.opacity,active:s,inactive:r};h.eachActiveState(u,function(t,e){var i=u.getItemModel(e),n=c[t];if(\"normal\"===t){var o=i.get(wC,!0);null!=o&&(n=o)}u.setItemVisual(e,\"opacity\",n)}),u.setVisual(\"color\",a)})});var bC=uM.extend({type:\"series.sankey\",layoutInfo:null,getInitialData:function(t){var e=t.edges||t.links,i=t.data||t.nodes;if(i&&e)return bD(i,e,this,!0).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,i){if(\"edge\"===i){var n=this.getDataParams(t,i),o=n.data,a=o.source+\" -- \"+o.target;return n.value&&(a+=\" : \"+n.value),Ho(a)}return bC.superCall(this,\"formatTooltip\",t,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:\"view\",layout:null,left:\"5%\",top:\"5%\",right:\"20%\",bottom:\"5%\",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{show:!0,position:\"right\",color:\"#000\",fontSize:12},itemStyle:{borderWidth:1,borderColor:\"#333\"},lineStyle:{color:\"#314656\",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:\"linear\",animationDuration:1e3}}),SC=Nn({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(t,e){var i=e.extent/2;t.moveTo(e.x1,e.y1-i),t.bezierCurveTo(e.cpx1,e.cpy1-i,e.cpx2,e.cpy2-i,e.x2,e.y2-i),t.lineTo(e.x2,e.y2+i),t.bezierCurveTo(e.cpx2,e.cpy2+i,e.cpx1,e.cpy1+i,e.x1,e.y1+i),t.closePath()}});ys({type:\"sankey\",_model:null,render:function(t,e,i){var n=t.getGraph(),o=this.group,a=t.layoutInfo,r=t.getData(),s=t.getData(\"edge\");this._model=t,o.removeAll(),o.attr(\"position\",[a.x,a.y]),n.eachEdge(function(e){var i=new SC;i.dataIndex=e.dataIndex,i.seriesIndex=t.seriesIndex,i.dataType=\"edge\";var n=e.getModel(\"lineStyle\"),a=n.get(\"curveness\"),r=e.node1.getLayout(),l=e.node2.getLayout(),h=e.getLayout();i.shape.extent=Math.max(1,h.dy);var u=r.x+r.dx,c=r.y+h.sy+h.dy/2,d=l.x,f=l.y+h.ty+h.dy/2,p=u*(1-a)+d*a,g=c,m=u*a+d*(1-a),v=f;switch(i.setShape({x1:u,y1:c,x2:d,y2:f,cpx1:p,cpy1:g,cpx2:m,cpy2:v}),i.setStyle(n.getItemStyle()),i.style.fill){case\"source\":i.style.fill=e.node1.getVisual(\"color\");break;case\"target\":i.style.fill=e.node2.getVisual(\"color\")}to(i,e.getModel(\"emphasis.lineStyle\").getItemStyle()),o.add(i),s.setItemGraphicEl(e.dataIndex,i)}),n.eachNode(function(e){var i=e.getLayout(),n=e.getModel(),a=n.getModel(\"label\"),s=n.getModel(\"emphasis.label\"),l=new Vb({shape:{x:i.x,y:i.y,width:e.getLayout().dx,height:e.getLayout().dy},style:n.getModel(\"itemStyle\").getItemStyle()}),h=e.getModel(\"emphasis.itemStyle\").getItemStyle();eo(l.style,h,a,s,{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id,isRectText:!0}),l.setStyle(\"fill\",e.getVisual(\"color\")),to(l,h),o.add(l),r.setItemGraphicEl(e.dataIndex,l),l.dataType=\"node\"}),!this._data&&t.get(\"animation\")&&o.setClipPath(gf(o.getBoundingRect(),t,function(){o.removeClipPath()})),this._data=t.getData()},dispose:function(){}});cs(function(t,e,i){t.eachSeriesByType(\"sankey\",function(t){var i=t.get(\"nodeWidth\"),n=t.get(\"nodeGap\"),o=vf(t,e);t.layoutInfo=o;var a=o.width,r=o.height,s=t.getGraph(),l=s.nodes,h=s.edges;xf(l),yf(l,h,i,n,a,r,0!==g(l,function(t){return 0===t.getLayout().value}).length?0:t.get(\"layoutIterations\"))})}),ds(function(t,e){t.eachSeriesByType(\"sankey\",function(t){var e=t.getGraph().nodes;e.sort(function(t,e){return t.getLayout().value-e.getLayout().value});var i=e[0].getLayout().value,n=e[e.length-1].getLayout().value;d(e,function(e){var o=new oD({type:\"color\",mappingMethod:\"linear\",dataExtent:[i,n],visual:t.get(\"color\")}).mapValueToVisual(e.getLayout().value);e.setVisual(\"color\",o);var a=e.getModel().get(\"itemStyle.color\");null!=a&&e.setVisual(\"color\",a)})})});var MC=Mn.extend({type:\"whiskerInBox\",shape:{},buildPath:function(t,e){for(var i in e)if(e.hasOwnProperty(i)&&0===i.indexOf(\"ends\")){var n=e[i];t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1])}}}),IC=Bf.prototype;IC._createContent=function(t,e,i){var n=t.getItemLayout(e),o=\"horizontal\"===n.chartLayout?1:0,a=0;this.add(new Rb({shape:{points:i?Vf(n.bodyEnds,o,n):n.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=a++;var r=f(n.whiskerEnds,function(t){return i?Vf(t,o,n):t});this.add(new MC({shape:Gf(r),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=a++},IC.updateData=function(t,e,i){var n=this._seriesModel=t.hostModel,o=t.getItemLayout(e),a=tS[i?\"initProps\":\"updateProps\"];a(this.childAt(this.bodyIndex),{shape:{points:o.bodyEnds}},n,e),a(this.childAt(this.whiskerIndex),{shape:Gf(o.whiskerEnds)},n,e),this.styleUpdater.call(null,this,t,e)},h(Bf,S_);var TC=Wf.prototype;TC.updateData=function(t){var e=this.group,i=this._data,n=this.styleUpdater;t.diff(i).add(function(i){if(t.hasValue(i)){var o=new Bf(t,i,n,!0);t.setItemGraphicEl(i,o),e.add(o)}}).update(function(o,a){var r=i.getItemGraphicEl(a);t.hasValue(o)?(r?r.updateData(t,o):r=new Bf(t,o,n),e.add(r),t.setItemGraphicEl(o,r)):e.remove(r)}).remove(function(t){var n=i.getItemGraphicEl(t);n&&e.remove(n)}).execute(),this._data=t},TC.remove=function(){var t=this.group,e=this._data;this._data=null,e&&e.eachItemGraphicEl(function(e){e&&t.remove(e)})};var AC={_baseAxisDim:null,getInitialData:function(t,e){var i,n,o=e.getComponent(\"xAxis\",this.get(\"xAxisIndex\")),a=e.getComponent(\"yAxis\",this.get(\"yAxisIndex\")),r=o.get(\"type\"),s=a.get(\"type\");\"category\"===r?(t.layout=\"horizontal\",i=o.getOrdinalMeta(),n=!0):\"category\"===s?(t.layout=\"vertical\",i=a.getOrdinalMeta(),n=!0):t.layout=t.layout||\"horizontal\";var l=[\"x\",\"y\"],h=\"horizontal\"===t.layout?0:1,u=this._baseAxisDim=l[h],c=l[1-h],f=[o,a],p=f[h].get(\"type\"),g=f[1-h].get(\"type\"),m=t.data;if(m&&n){var v=[];d(m,function(t,e){var i;t.value&&y(t.value)?(i=t.value.slice(),t.value.unshift(e)):y(t)?(i=t.slice(),t.unshift(e)):i=t,v.push(i)}),t.data=v}var x=this.defaultValueDimensions;return rA(this,{coordDimensions:[{name:u,type:Ms(p),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:[\"base\"]},{name:c,type:Ms(g),dimsDef:x.slice()}],dimensionsCount:x.length+1})},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+\"Axis\",this.get(t+\"AxisIndex\")).axis}},DC={init:function(){var t=this._whiskerBoxDraw=new Wf(this.getStyleUpdater());this.group.add(t.group)},render:function(t,e,i){this._whiskerBoxDraw.updateData(t.getData())},remove:function(t){this._whiskerBoxDraw.remove()}};u(uM.extend({type:\"series.boxplot\",dependencies:[\"xAxis\",\"yAxis\",\"grid\"],defaultValueDimensions:[\"min\",\"Q1\",\"median\",\"Q3\",\"max\"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:\"#fff\",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:\"rgba(0,0,0,0.4)\"}},animationEasing:\"elasticOut\",animationDuration:800}}),AC,!0),u(cr.extend({type:\"boxplot\",getStyleUpdater:function(){return Ff},dispose:B}),DC,!0);var CC=[\"itemStyle\"],LC=[\"emphasis\",\"itemStyle\"],kC=[\"itemStyle\",\"borderColor\"],PC=d;ds(function(t,e){var i=t.get(\"color\");t.eachRawSeriesByType(\"boxplot\",function(e){var n=i[e.seriesIndex%i.length],o=e.getData();o.setVisual({legendSymbol:\"roundRect\",color:e.get(kC)||n}),t.isSeriesFiltered(e)||o.each(function(t){var e=o.getItemModel(t);o.setItemVisual(t,{color:e.get(kC,!0)})})})}),cs(function(t){var e=Hf(t);PC(e,function(t){var e=t.seriesModels;e.length&&(Zf(t),PC(e,function(e,i){Uf(e,t.boxOffsetList[i],t.boxWidthList[i])}))})}),u(uM.extend({type:\"series.candlestick\",dependencies:[\"xAxis\",\"yAxis\",\"grid\"],defaultValueDimensions:[\"open\",\"close\",\"lowest\",\"highest\"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:\"#c23531\",color0:\"#314656\",borderWidth:1,borderColor:\"#c23531\",borderColor0:\"#314656\"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:\"linear\",animationDuration:300},getShadowDim:function(){return\"open\"},brushSelector:function(t,e,i){var n=e.getItemLayout(t);return i.rect(n.brushRect)}}),AC,!0),u(cr.extend({type:\"candlestick\",getStyleUpdater:function(){return jf},dispose:B}),DC,!0);var OC=[\"itemStyle\"],NC=[\"emphasis\",\"itemStyle\"],EC=[\"itemStyle\",\"borderColor\"],zC=[\"itemStyle\",\"borderColor0\"],RC=[\"itemStyle\",\"color\"],BC=[\"itemStyle\",\"color0\"],VC=A;ss(function(t){t&&y(t.series)&&d(t.series,function(t){w(t)&&\"k\"===t.type&&(t.type=\"candlestick\")})}),ds(function(t,e){t.eachRawSeriesByType(\"candlestick\",function(e){var i=e.getData();i.setVisual({legendSymbol:\"roundRect\"}),t.isSeriesFiltered(e)||i.each(function(t){var e=i.getItemModel(t),n=i.getItemLayout(t).sign;i.setItemVisual(t,{color:e.get(n>0?RC:BC),borderColor:e.get(n>0?EC:zC)})})})}),cs(function(t){t.eachSeriesByType(\"candlestick\",function(t){var e,i=t.coordinateSystem,n=t.getData(),o=Xf(t,n),a=t.get(\"layout\"),r=\"horizontal\"===a?0:1,s=1-r,l=[\"x\",\"y\"],h=[];if(d(n.dimensions,function(t){var i=n.getDimensionInfo(t).coordDim;i===l[s]?h.push(t):i===l[r]&&(e=t)}),!(null==e||h.length<4)){var u=0;n.each([e].concat(h),function(){function t(t){var e=[];return e[r]=d,e[s]=t,isNaN(d)||isNaN(t)?[NaN,NaN]:i.dataToPoint(e)}function e(t,e){var i=t.slice(),n=t.slice();i[r]=Wn(i[r]+o/2,1,!1),n[r]=Wn(n[r]-o/2,1,!0),e?M.push(i,n):M.push(n,i)}function l(t){return t[r]=Wn(t[r],1),t}var c=arguments,d=c[0],f=c[h.length+1],p=c[1],g=c[2],m=c[3],v=c[4],y=Math.min(p,g),x=Math.max(p,g),_=t(y),w=t(x),b=t(m),S=[[l(t(v)),l(w)],[l(b),l(_)]],M=[];e(w,0),e(_,1);var I;I=p>g?-1:p<g?1:u>0?n.getItemModel(u-1).get()[2]<=g?1:-1:1,n.setItemLayout(f,{chartLayout:a,sign:I,initBaseline:p>g?w[s]:_[s],bodyEnds:M,whiskerEnds:S,brushRect:function(){var e=t(Math.min(p,g,m,v)),i=t(Math.max(p,g,m,v));return e[r]-=o/2,i[r]-=o/2,{x:e[0],y:e[1],width:s?o:i[0]-e[0],height:s?i[1]-e[1]:o}}()}),++u},!0)}})}),uM.extend({type:\"series.effectScatter\",dependencies:[\"grid\",\"polar\"],getInitialData:function(t,e){return Bs(this.getSource(),this)},brushSelector:\"point\",defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:0,z:2,legendHoverLink:!0,effectType:\"ripple\",progressive:0,showEffectOn:\"render\",rippleEffect:{period:4,scale:2.5,brushType:\"fill\"},symbolSize:10}});var GC=$f.prototype;GC.stopEffectAnimation=function(){this.childAt(1).removeAll()},GC.startEffectAnimation=function(t){for(var e=t.symbolType,i=t.color,n=this.childAt(1),o=0;o<3;o++){var a=dl(e,-1,-1,2,2,i);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var r=-o/3*t.period+t.effectOffset;a.animate(\"\",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(r).start(),a.animateStyle(!0).when(t.period,{opacity:0}).delay(r).start(),n.add(a)}qf(n,t)},GC.updateEffectAnimation=function(t){for(var e=this._effectCfg,i=this.childAt(1),n=[\"symbolType\",\"period\",\"rippleScale\"],o=0;o<n.length;o++){var a=n[o];if(e[a]!==t[a])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}qf(i,t)},GC.highlight=function(){this.trigger(\"emphasis\")},GC.downplay=function(){this.trigger(\"normal\")},GC.updateData=function(t,e){var i=t.hostModel;this.childAt(0).updateData(t,e);var n=this.childAt(1),o=t.getItemModel(e),a=t.getItemVisual(e,\"symbol\"),r=Yf(t.getItemVisual(e,\"symbolSize\")),s=t.getItemVisual(e,\"color\");n.attr(\"scale\",r),n.traverse(function(t){t.attr({fill:s})});var l=o.getShallow(\"symbolOffset\");if(l){var h=n.position;h[0]=To(l[0],r[0]),h[1]=To(l[1],r[1])}n.rotation=(o.getShallow(\"symbolRotate\")||0)*Math.PI/180||0;var u={};if(u.showEffectOn=i.get(\"showEffectOn\"),u.rippleScale=o.get(\"rippleEffect.scale\"),u.brushType=o.get(\"rippleEffect.brushType\"),u.period=1e3*o.get(\"rippleEffect.period\"),u.effectOffset=e/t.count(),u.z=o.getShallow(\"z\")||0,u.zlevel=o.getShallow(\"zlevel\")||0,u.symbolType=a,u.color=s,this.off(\"mouseover\").off(\"mouseout\").off(\"emphasis\").off(\"normal\"),\"render\"===u.showEffectOn)this._effectCfg?this.updateEffectAnimation(u):this.startEffectAnimation(u),this._effectCfg=u;else{this._effectCfg=null,this.stopEffectAnimation();var c=this.childAt(0),d=function(){c.highlight(),\"render\"!==u.showEffectOn&&this.startEffectAnimation(u)},f=function(){c.downplay(),\"render\"!==u.showEffectOn&&this.stopEffectAnimation()};this.on(\"mouseover\",d,this).on(\"mouseout\",f,this).on(\"emphasis\",d,this).on(\"normal\",f,this)}this._effectCfg=u},GC.fadeOut=function(t){this.off(\"mouseover\").off(\"mouseout\").off(\"emphasis\").off(\"normal\"),t&&t()},h($f,S_),ys({type:\"effectScatter\",init:function(){this._symbolDraw=new Ml($f)},render:function(t,e,i){var n=t.getData(),o=this._symbolDraw;o.updateData(n),this.group.add(o.group)},updateTransform:function(t,e,i){var n=t.getData();this.group.dirty();var o=ST().reset(t);o.progress&&o.progress({start:0,end:n.count()},n),this._symbolDraw.updateLayout(n)},_updateGroupTransform:function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=gt(e.getRoamTransform()),this.group.decomposeTransform())},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)},dispose:function(){}}),ds(bT(\"effectScatter\",\"circle\")),cs(ST(\"effectScatter\"));var WC=\"undefined\"==typeof window?global:window,FC=WC.Uint32Array||Array,HC=WC.Float64Array||Array,ZC=uM.extend({type:\"series.lines\",dependencies:[\"grid\",\"polar\"],visualColorAccessPath:\"lineStyle.color\",init:function(t){Kf(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),ZC.superApply(this,\"init\",arguments)},mergeOption:function(t){if(Kf(t),t.data){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count))}ZC.superApply(this,\"mergeOption\",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=R(this._flatCoords,e.flatCoords),this._flatCoordsOffset=R(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow(\"coords\")},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[2*t],n=this._flatCoordsOffset[2*t+1],o=0;o<n;o++)e[o]=e[o]||[],e[o][0]=this._flatCoords[i+2*o],e[o][1]=this._flatCoords[i+2*o+1];return n}for(var a=this._getCoordsFromItemModel(t),o=0;o<a.length;o++)e[o]=e[o]||[],e[o][0]=a[o][0],e[o][1]=a[o][1];return a.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),\"number\"==typeof t[0]){for(var i=t.length,n=new FC(i),o=new HC(i),a=0,r=0,s=0,l=0;l<i;){s++;var h=t[l++];n[r++]=a+e,n[r++]=h;for(var u=0;u<h;u++){var c=t[l++],d=t[l++];o[a++]=c,o[a++]=d}}return{flatCoordsOffset:new Uint32Array(n.buffer,0,r),flatCoords:o,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},getInitialData:function(t,e){var i=new yI([\"value\"],this);return i.hasItemOption=!1,i.initData(t.data,[],function(t,e,n,o){if(t instanceof Array)return NaN;i.hasItemOption=!0;var a=t.value;return null!=a?a instanceof Array?a[o]:a:void 0}),i},formatTooltip:function(t){var e=this.getData().getItemModel(t),i=e.get(\"name\");if(i)return i;var n=e.get(\"fromName\"),o=e.get(\"toName\"),a=[];return null!=n&&a.push(n),null!=o&&a.push(o),Ho(a.join(\" > \"))},preventIncremental:function(){return!!this.get(\"effect.show\")},getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get(\"progressive\"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get(\"progressiveThreshold\"):t},defaultOption:{coordinateSystem:\"geo\",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:[\"none\",\"none\"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:\"circle\",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,incremental:!1,incrementalThreshold:3e3,polyline:!1,label:{show:!1,position:\"end\"},lineStyle:{opacity:.5}}}),UC=Jf.prototype;UC.createLine=function(t,e,i){return new Wc(t,e,i)},UC._updateEffectSymbol=function(t,e){var i=t.getItemModel(e).getModel(\"effect\"),n=i.get(\"symbolSize\"),o=i.get(\"symbol\");y(n)||(n=[n,n]);var a=i.get(\"color\")||t.getItemVisual(e,\"color\"),r=this.childAt(1);this._symbolType!==o&&(this.remove(r),(r=dl(o,-.5,-.5,1,1,a)).z2=100,r.culling=!0,this.add(r)),r&&(r.setStyle(\"shadowColor\",a),r.setStyle(i.getItemStyle([\"color\"])),r.attr(\"scale\",n),r.setColor(a),r.attr(\"scale\",n),this._symbolType=o,this._updateEffectAnimation(t,i,e))},UC._updateEffectAnimation=function(t,e,i){var n=this.childAt(1);if(n){var o=this,a=t.getItemLayout(i),r=1e3*e.get(\"period\"),s=e.get(\"loop\"),l=e.get(\"constantSpeed\"),h=T(e.get(\"delay\"),function(e){return e/t.count()*r/3}),u=\"function\"==typeof h;if(n.ignore=!0,this.updateAnimationPoints(n,a),l>0&&(r=this.getLineLength(n)/l*1e3),r!==this._period||s!==this._loop){n.stopAnimation();var c=h;u&&(c=h(i)),n.__t>0&&(c=-r*n.__t),n.__t=0;var d=n.animate(\"\",s).when(r,{__t:1}).delay(c).during(function(){o.updateSymbolPosition(n)});s||d.done(function(){o.remove(n)}),d.start()}this._period=r,this._loop=s}},UC.getLineLength=function(t){return Vx(t.__p1,t.__cp1)+Vx(t.__cp1,t.__p2)},UC.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},UC.updateData=function(t,e,i){this.childAt(0).updateData(t,e,i),this._updateEffectSymbol(t,e)},UC.updateSymbolPosition=function(t){var e=t.__p1,i=t.__p2,n=t.__cp1,o=t.__t,a=t.position,r=Ji,s=Qi;a[0]=r(e[0],n[0],i[0],o),a[1]=r(e[1],n[1],i[1],o);var l=s(e[0],n[0],i[0],o),h=s(e[1],n[1],i[1],o);t.rotation=-Math.atan2(h,l)-Math.PI/2,t.ignore=!1},UC.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var i=t.getItemModel(e).getModel(\"effect\");this._updateEffectAnimation(t,i,e)},h(Jf,S_);var jC=Qf.prototype;jC._createPolyline=function(t,e,i){var n=t.getItemLayout(e),o=new Bb({shape:{points:n}});this.add(o),this._updateCommonStl(t,e,i)},jC.updateData=function(t,e,i){var n=t.hostModel;co(this.childAt(0),{shape:{points:t.getItemLayout(e)}},n,e),this._updateCommonStl(t,e,i)},jC._updateCommonStl=function(t,e,i){var n=this.childAt(0),o=t.getItemModel(e),a=t.getItemVisual(e,\"color\"),s=i&&i.lineStyle,l=i&&i.hoverLineStyle;i&&!t.hasItemOption||(s=o.getModel(\"lineStyle\").getLineStyle(),l=o.getModel(\"emphasis.lineStyle\").getLineStyle()),n.useStyle(r({strokeNoScale:!0,fill:\"none\",stroke:a},s)),n.hoverStyle=l,to(this)},jC.updateLayout=function(t,e){this.childAt(0).setShape(\"points\",t.getItemLayout(e))},h(Qf,S_);var XC=tp.prototype;XC.createLine=function(t,e,i){return new Qf(t,e,i)},XC.updateAnimationPoints=function(t,e){this._points=e;for(var i=[0],n=0,o=1;o<e.length;o++){var a=e[o-1],r=e[o];n+=Vx(a,r),i.push(n)}if(0!==n){for(o=0;o<i.length;o++)i[o]/=n;this._offsets=i,this._length=n}},XC.getLineLength=function(t){return this._length},XC.updateSymbolPosition=function(t){var e=t.__t,i=this._points,n=this._offsets,o=i.length;if(n){var a=this._lastFrame;if(e<this._lastFramePercent){for(r=Math.min(a+1,o-1);r>=0&&!(n[r]<=e);r--);r=Math.min(r,o-2)}else{for(var r=a;r<o&&!(n[r]>e);r++);r=Math.min(r-1,o-2)}J(t.position,i[r],i[r+1],(e-n[r])/(n[r+1]-n[r]));var s=i[r+1][0]-i[r][0],l=i[r+1][1]-i[r][1];t.rotation=-Math.atan2(l,s)-Math.PI/2,this._lastFrame=r,this._lastFramePercent=e,t.ignore=!1}},h(tp,Jf);var YC=Nn({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(t,e){var i=e.segs,n=e.curveness;if(e.polyline)for(r=0;r<i.length;){var o=i[r++];if(o>0){t.moveTo(i[r++],i[r++]);for(var a=1;a<o;a++)t.lineTo(i[r++],i[r++])}}else for(var r=0;r<i.length;){var s=i[r++],l=i[r++],h=i[r++],u=i[r++];if(t.moveTo(s,l),n>0){var c=(s+h)/2-(l-u)*n,d=(l+u)/2-(h-s)*n;t.quadraticCurveTo(c,d,h,u)}else t.lineTo(h,u)}},findDataIndex:function(t,e){var i=this.shape,n=i.segs,o=i.curveness;if(i.polyline)for(var a=0,r=0;r<n.length;){var s=n[r++];if(s>0)for(var l=n[r++],h=n[r++],u=1;u<s;u++)if(un(l,h,c=n[r++],d=n[r++]))return a;a++}else for(var a=0,r=0;r<n.length;){var l=n[r++],h=n[r++],c=n[r++],d=n[r++];if(o>0){if(dn(l,h,(l+c)/2-(h-d)*o,(h+d)/2-(c-l)*o,c,d))return a}else if(un(l,h,c,d))return a;a++}return-1}}),qC=ep.prototype;qC.isPersistent=function(){return!this._incremental},qC.updateData=function(t){this.group.removeAll();var e=new YC({rectHover:!0,cursor:\"default\"});e.setShape({segs:t.getLayout(\"linesPoints\")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},qC.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new On({silent:!0})),this.group.add(this._incremental)):this._incremental=null},qC.incrementalUpdate=function(t,e){var i=new YC;i.setShape({segs:e.getLayout(\"linesPoints\")}),this._setCommon(i,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(i,!0):(i.rectHover=!0,i.cursor=\"default\",i.__startIndex=t.start,this.group.add(i))},qC.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},qC._setCommon=function(t,e,i){var n=e.hostModel;t.setShape({polyline:n.get(\"polyline\"),curveness:n.get(\"lineStyle.curveness\")}),t.useStyle(n.getModel(\"lineStyle\").getLineStyle()),t.style.strokeNoScale=!0;var o=e.getVisual(\"color\");o&&t.setStyle(\"stroke\",o),t.setStyle(\"fill\"),i||(t.seriesIndex=n.seriesIndex,t.on(\"mousemove\",function(e){t.dataIndex=null;var i=t.findDataIndex(e.offsetX,e.offsetY);i>0&&(t.dataIndex=i+t.__startIndex)}))},qC._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var $C={seriesType:\"lines\",plan:fM(),reset:function(t){var e=t.coordinateSystem,i=t.get(\"polyline\"),n=t.pipelineContext.large;return{progress:function(o,a){var r=[];if(n){var s,l=o.end-o.start;if(i){for(var h=0,u=o.start;u<o.end;u++)h+=t.getLineCoordsCount(u);s=new Float32Array(l+2*h)}else s=new Float32Array(2*l);for(var c=0,d=[],u=o.start;u<o.end;u++){g=t.getLineCoords(u,r),i&&(s[c++]=g);for(var f=0;f<g;f++)d=e.dataToPoint(r[f],!1,d),s[c++]=d[0],s[c++]=d[1]}a.setLayout(\"linesPoints\",s)}else for(u=o.start;u<o.end;u++){var p=a.getItemModel(u),g=t.getLineCoords(u,r),m=[];if(i)for(var v=0;v<g;v++)m.push(e.dataToPoint(r[v]));else{m[0]=e.dataToPoint(r[0]),m[1]=e.dataToPoint(r[1]);var y=p.get(\"lineStyle.curveness\");+y&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*y,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*y])}a.setItemLayout(u,m)}}}}};ys({type:\"lines\",init:function(){},render:function(t,e,i){var n=t.getData(),o=this._updateLineDraw(n,t),a=t.get(\"zlevel\"),r=t.get(\"effect.trailLength\"),s=i.getZr(),l=\"svg\"===s.painter.getType();l||s.painter.getLayer(a).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&r&&(l||s.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(r/10+.9,1),0)})),o.updateData(n),this._lastZlevel=a,this._finished=!0},incrementalPrepareRender:function(t,e,i){var n=t.getData();this._updateLineDraw(n,t).incrementalPrepareUpdate(n),this._clearLayer(i),this._finished=!1},incrementalRender:function(t,e,i){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,i){var n=t.getData();if(!this._finished||t.pipelineContext.large)return{update:!0};var o=$C.reset(t);o.progress&&o.progress({start:0,end:n.count()},n),this._lineDraw.updateLayout(),this._clearLayer(i)},_updateLineDraw:function(t,e){var i=this._lineDraw,n=this._showEffect(e),o=!!e.get(\"polyline\"),a=e.pipelineContext.large;return i&&n===this._hasEffet&&o===this._isPolyline&&a===this._isLargeDraw||(i&&i.remove(),i=this._lineDraw=a?new ep:new Fc(o?n?tp:Qf:n?Jf:Wc),this._hasEffet=n,this._isPolyline=o,this._isLargeDraw=a,this.group.removeAll()),this.group.add(i.group),i},_showEffect:function(t){return!!t.get(\"effect.show\")},_clearLayer:function(t){var e=t.getZr();\"svg\"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},dispose:function(){}});var KC=\"lineStyle.opacity\".split(\".\"),JC={seriesType:\"lines\",reset:function(t,e,i){var n=ip(t.get(\"symbol\")),o=ip(t.get(\"symbolSize\")),a=t.getData();return a.setVisual(\"fromSymbol\",n&&n[0]),a.setVisual(\"toSymbol\",n&&n[1]),a.setVisual(\"fromSymbolSize\",o&&o[0]),a.setVisual(\"toSymbolSize\",o&&o[1]),a.setVisual(\"opacity\",t.get(KC)),{dataEach:a.hasItemOption?function(t,e){var i=t.getItemModel(e),n=ip(i.getShallow(\"symbol\",!0)),o=ip(i.getShallow(\"symbolSize\",!0)),a=i.get(KC);n[0]&&t.setItemVisual(e,\"fromSymbol\",n[0]),n[1]&&t.setItemVisual(e,\"toSymbol\",n[1]),o[0]&&t.setItemVisual(e,\"fromSymbolSize\",o[0]),o[1]&&t.setItemVisual(e,\"toSymbolSize\",o[1]),t.setItemVisual(e,\"opacity\",a)}:null}}};cs($C),ds(JC),uM.extend({type:\"series.heatmap\",getInitialData:function(t,e){return Bs(this.getSource(),this)},preventIncremental:function(){var t=Aa.get(this.get(\"coordinateSystem\"));if(t&&t.dimensions)return\"lng\"===t.dimensions[0]&&\"lat\"===t.dimensions[1]},defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});np.prototype={update:function(t,e,i,n,o,a){var r=this._getBrush(),s=this._getGradient(t,o,\"inRange\"),l=this._getGradient(t,o,\"outOfRange\"),h=this.pointSize+this.blurSize,u=this.canvas,c=u.getContext(\"2d\"),d=t.length;u.width=e,u.height=i;for(var f=0;f<d;++f){var p=t[f],g=p[0],m=p[1],v=n(p[2]);c.globalAlpha=v,c.drawImage(r,g-h,m-h)}if(!u.width||!u.height)return u;for(var y=c.getImageData(0,0,u.width,u.height),x=y.data,_=0,w=x.length,b=this.minOpacity,S=this.maxOpacity-b;_<w;){var v=x[_+3]/256,M=4*Math.floor(255*v);if(v>0){var I=a(v)?s:l;v>0&&(v=v*S+b),x[_++]=I[M],x[_++]=I[M+1],x[_++]=I[M+2],x[_++]=I[M+3]*v*256}else _+=4}return c.putImageData(y,0,0),u},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=Px()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var n=t.getContext(\"2d\");return n.clearRect(0,0,i,i),n.shadowOffsetX=i,n.shadowBlur=this.blurSize,n.shadowColor=\"#000\",n.beginPath(),n.arc(-e,e,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),t},_getGradient:function(t,e,i){for(var n=this._gradientPixels,o=n[i]||(n[i]=new Uint8ClampedArray(1024)),a=[0,0,0,0],r=0,s=0;s<256;s++)e[i](s/255,!0,a),o[r++]=a[0],o[r++]=a[1],o[r++]=a[2],o[r++]=a[3];return o}},ys({type:\"heatmap\",render:function(t,e,i){var n;e.eachComponent(\"visualMap\",function(e){e.eachTargetSeries(function(i){i===t&&(n=e)})}),this.group.removeAll(),this._incrementalDisplayable=null;var o=t.coordinateSystem;\"cartesian2d\"===o.type||\"calendar\"===o.type?this._renderOnCartesianAndCalendar(t,i,0,t.getData().count()):rp(o)&&this._renderOnGeo(o,t,n,i)},incrementalPrepareRender:function(t,e,i){this.group.removeAll()},incrementalRender:function(t,e,i,n){e.coordinateSystem&&this._renderOnCartesianAndCalendar(e,n,t.start,t.end,!0)},_renderOnCartesianAndCalendar:function(t,e,i,n,o){var r,s,l=t.coordinateSystem;if(\"cartesian2d\"===l.type){var h=l.getAxis(\"x\"),u=l.getAxis(\"y\");r=h.getBandWidth(),s=u.getBandWidth()}for(var c=this.group,d=t.getData(),f=t.getModel(\"itemStyle\").getItemStyle([\"color\"]),p=t.getModel(\"emphasis.itemStyle\").getItemStyle(),g=t.getModel(\"label\"),m=t.getModel(\"emphasis.label\"),v=l.type,y=\"cartesian2d\"===v?[d.mapDimension(\"x\"),d.mapDimension(\"y\"),d.mapDimension(\"value\")]:[d.mapDimension(\"time\"),d.mapDimension(\"value\")],x=i;x<n;x++){var _;if(\"cartesian2d\"===v){if(isNaN(d.get(y[2],x)))continue;var w=l.dataToPoint([d.get(y[0],x),d.get(y[1],x)]);_=new Vb({shape:{x:w[0]-r/2,y:w[1]-s/2,width:r,height:s},style:{fill:d.getItemVisual(x,\"color\"),opacity:d.getItemVisual(x,\"opacity\")}})}else{if(isNaN(d.get(y[1],x)))continue;_=new Vb({z2:1,shape:l.dataToRect([d.get(y[0],x)]).contentShape,style:{fill:d.getItemVisual(x,\"color\"),opacity:d.getItemVisual(x,\"opacity\")}})}var b=d.getItemModel(x);d.hasItemOption&&(f=b.getModel(\"itemStyle\").getItemStyle([\"color\"]),p=b.getModel(\"emphasis.itemStyle\").getItemStyle(),g=b.getModel(\"label\"),m=b.getModel(\"emphasis.label\"));var S=t.getRawValue(x),M=\"-\";S&&null!=S[2]&&(M=S[2]),eo(f,p,g,m,{labelFetcher:t,labelDataIndex:x,defaultText:M,isRectText:!0}),_.setStyle(f),to(_,d.hasItemOption?p:a({},p)),_.incremental=o,o&&(_.useHoverLayer=!0),c.add(_),d.setItemGraphicEl(x,_)}},_renderOnGeo:function(t,e,i,n){var o=i.targetVisuals.inRange,a=i.targetVisuals.outOfRange,r=e.getData(),s=this._hmLayer||this._hmLayer||new np;s.blurSize=e.get(\"blurSize\"),s.pointSize=e.get(\"pointSize\"),s.minOpacity=e.get(\"minOpacity\"),s.maxOpacity=e.get(\"maxOpacity\");var l=t.getViewRect().clone(),h=t.getRoamTransform();l.applyTransform(h);var u=Math.max(l.x,0),c=Math.max(l.y,0),d=Math.min(l.width+l.x,n.getWidth()),f=Math.min(l.height+l.y,n.getHeight()),p=d-u,g=f-c,m=[r.mapDimension(\"lng\"),r.mapDimension(\"lat\"),r.mapDimension(\"value\")],v=r.mapArray(m,function(e,i,n){var o=t.dataToPoint([e,i]);return o[0]-=u,o[1]-=c,o.push(n),o}),y=i.getExtent(),x=\"visualMap.continuous\"===i.type?ap(y,i.option.range):op(y,i.getPieceList(),i.option.selected);s.update(v,p,g,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:a.color.getColorMapper()},x);var _=new Je({style:{width:p,height:g,x:u,y:c,image:s.canvas},silent:!0});this.group.add(_)},dispose:function(){}});var QC=tA.extend({type:\"series.pictorialBar\",dependencies:[\"grid\"],defaultOption:{symbol:\"circle\",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:\"end\",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:\"-100%\",progressive:0,hoverAnimation:!1},getInitialData:function(t){return t.stack=null,QC.superApply(this,\"getInitialData\",arguments)}}),tL=[\"itemStyle\",\"borderWidth\"],eL=[{xy:\"x\",wh:\"width\",index:0,posDesc:[\"left\",\"right\"]},{xy:\"y\",wh:\"height\",index:1,posDesc:[\"top\",\"bottom\"]}],iL=new Lb;ys({type:\"pictorialBar\",render:function(t,e,i){var n=this.group,o=t.getData(),a=this._data,r=t.coordinateSystem,s=!!r.getBaseAxis().isHorizontal(),l=r.grid.getRect(),h={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:r,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:eL[+s],categoryDim:eL[1-s]};return o.diff(a).add(function(t){if(o.hasValue(t)){var e=yp(o,t),i=sp(o,t,e,h),a=bp(o,h,i);o.setItemGraphicEl(t,a),n.add(a),Dp(a,h,i)}}).update(function(t,e){var i=a.getItemGraphicEl(e);if(o.hasValue(t)){var r=yp(o,t),s=sp(o,t,r,h),l=Ip(o,s);i&&l!==i.__pictorialShapeStr&&(n.remove(i),o.setItemGraphicEl(t,null),i=null),i?Sp(i,h,s):i=bp(o,h,s,!0),o.setItemGraphicEl(t,i),i.__pictorialSymbolMeta=s,n.add(i),Dp(i,h,s)}else n.remove(i)}).remove(function(t){var e=a.getItemGraphicEl(t);e&&Mp(a,t,e.__pictorialSymbolMeta.animationModel,e)}).execute(),this._data=o,this.group},dispose:B,remove:function(t,e){var i=this.group,n=this._data;t.get(\"animation\")?n&&n.eachItemGraphicEl(function(e){Mp(n,e.dataIndex,t,e)}):i.removeAll()}});cs(v(il,\"pictorialBar\")),ds(bT(\"pictorialBar\",\"roundRect\"));var nL=function(t,e,i,n,o){nT.call(this,t,e,i),this.type=n||\"value\",this.position=o||\"bottom\",this.orient=null,this._labelInterval=null};nL.prototype={constructor:nL,model:null,isHorizontal:function(){var t=this.position;return\"top\"===t||\"bottom\"===t},pointToData:function(t,e){return this.coordinateSystem.pointToData(t,e)[0]},toGlobalCoord:null,toLocalCoord:null},h(nL,nT),Lp.prototype={type:\"singleAxis\",axisPointerEnabled:!0,constructor:Lp,_init:function(t,e,i){var n=this.dimension,o=new nL(n,sl(t),[0,0],t.get(\"type\"),t.get(\"position\")),a=\"category\"===o.type;o.onBand=a&&t.get(\"boundaryGap\"),o.inverse=t.get(\"inverse\"),o.orient=t.get(\"orient\"),t.axis=o,o.model=t,o.coordinateSystem=this,this._axis=o},update:function(t,e){t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData();d(e.mapDimension(this.dimension,!0),function(t){this._axis.scale.unionExtentFromData(e,t)},this),rl(this._axis.scale,this._axis.model)}},this)},resize:function(t,e){this._rect=Ko({left:t.get(\"left\"),top:t.get(\"top\"),right:t.get(\"right\"),bottom:t.get(\"bottom\"),width:t.get(\"width\"),height:t.get(\"height\")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var t=this._rect,e=this._axis,i=e.isHorizontal(),n=i?[0,t.width]:[0,t.height],o=e.reverse?1:0;e.setExtent(n[o],n[1-o]),this._updateAxisTransform(e,i?t.x:t.y)},_updateAxisTransform:function(t,e){var i=t.getExtent(),n=i[0]+i[1],o=t.isHorizontal();t.toGlobalCoord=o?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord=o?function(t){return t-e}:function(t){return n-t+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(t){var e=this.getRect(),i=this.getAxis();return\"horizontal\"===i.orient?i.contain(i.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:i.contain(i.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},pointToData:function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t[\"horizontal\"===e.orient?0:1]))]},dataToPoint:function(t){var e=this.getAxis(),i=this.getRect(),n=[],o=\"horizontal\"===e.orient?0:1;return t instanceof Array&&(t=t[0]),n[o]=e.toGlobalCoord(e.dataToCoord(+t)),n[1-o]=0===o?i.y+i.height/2:i.x+i.width/2,n}},Aa.register(\"single\",{create:function(t,e){var i=[];return t.eachComponent(\"singleAxis\",function(n,o){var a=new Lp(n,t,e);a.name=\"single_\"+o,a.resize(n,e),n.coordinateSystem=a,i.push(a)}),t.eachSeries(function(e){if(\"singleAxis\"===e.get(\"coordinateSystem\")){var i=t.queryComponents({mainType:\"singleAxis\",index:e.get(\"singleAxisIndex\"),id:e.get(\"singleAxisId\")})[0];e.coordinateSystem=i&&i.coordinateSystem}}),i},dimensions:Lp.prototype.dimensions});var oL=GT.getInterval,aL=GT.ifIgnoreOnTick,rL=[\"axisLine\",\"axisTickLabel\",\"axisName\"],sL=XT.extend({type:\"singleAxis\",axisPointerClass:\"SingleAxisPointer\",render:function(t,e,i,n){var o=this.group;o.removeAll();var a=kp(t),r=new GT(t,a);d(rL,r.add,r),o.add(r.getGroup()),t.get(\"splitLine.show\")&&this._splitLine(t,a.labelInterval),sL.superCall(this,\"render\",t,e,i,n)},_splitLine:function(t,e){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel(\"splitLine\"),o=n.getModel(\"lineStyle\"),a=o.get(\"width\"),r=o.get(\"color\"),s=oL(n,e);r=r instanceof Array?r:[r];for(var l=t.coordinateSystem.getRect(),h=i.isHorizontal(),u=[],c=0,d=i.getTicksCoords(),f=[],p=[],g=t.get(\"axisLabel.showMinLabel\"),m=t.get(\"axisLabel.showMaxLabel\"),v=0;v<d.length;++v)if(!aL(i,v,s,d.length,g,m)){var y=i.toGlobalCoord(d[v]);h?(f[0]=y,f[1]=l.y,p[0]=y,p[1]=l.y+l.height):(f[0]=l.x,f[1]=y,p[0]=l.x+l.width,p[1]=y);var x=c++%r.length;u[x]=u[x]||[],u[x].push(new Gb(Vn({shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},style:{lineWidth:a},silent:!0})))}for(v=0;v<u.length;++v)this.group.add(Qb(u[v],{style:{stroke:r[v%r.length],lineDash:o.getLineDash(a),lineWidth:a},silent:!0}))}}}),lL=IS.extend({type:\"singleAxis\",layoutMode:\"box\",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),hL={left:\"5%\",top:\"5%\",right:\"5%\",bottom:\"5%\",type:\"value\",position:\"bottom\",orient:\"horizontal\",axisLine:{show:!0,lineStyle:{width:2,type:\"solid\"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:\"auto\"},splitLine:{show:!0,lineStyle:{type:\"dashed\",opacity:.2}}};n(lL.prototype,ZI),kT(\"single\",lL,function(t,e){return e.type||(e.data?\"category\":\"value\")},hL);var uL=function(t,e){var i,n=[],o=t.seriesIndex;if(null==o||!(i=e.getSeriesByIndex(o)))return{point:[]};var a=i.getData(),r=ki(a,t);if(null==r||r<0||y(r))return{point:[]};var s=a.getItemGraphicEl(r),l=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(r)||[];else if(l&&l.dataToPoint)n=l.dataToPoint(a.getValues(f(l.dimensions,function(t){return a.mapDimension(t)}),r,!0))||[];else if(s){var h=s.getBoundingRect().clone();h.applyTransform(s.transform),n=[h.x+h.width/2,h.y+h.height/2]}return{point:n,el:s}},cL=d,dL=v,fL=Pi(),pL=(gs({type:\"axisPointer\",coordSysAxesInfo:null,defaultOption:{show:\"auto\",triggerOn:null,zlevel:0,z:50,type:\"line\",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:\"#aaa\",width:1,type:\"solid\"},shadowStyle:{color:\"rgba(150,150,150,0.3)\"},label:{show:!0,formatter:null,precision:\"auto\",margin:3,color:\"#fff\",padding:[5,7,5,7],backgroundColor:\"auto\",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:\"#aaa\"},handle:{show:!1,icon:\"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z\",size:45,margin:50,color:\"#333\",shadowBlur:3,shadowColor:\"#aaa\",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),Pi()),gL=d,mL=ms({type:\"axisPointer\",render:function(t,e,i){var n=e.getComponent(\"tooltip\"),o=t.get(\"triggerOn\")||n&&n.get(\"triggerOn\")||\"mousemove|click\";Fp(\"axisPointer\",i,function(t,e,i){\"none\"!==o&&(\"leave\"===t||o.indexOf(t)>=0)&&i({type:\"updateAxisPointer\",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},remove:function(t,e){Yp(e.getZr(),\"axisPointer\"),mL.superApply(this._model,\"remove\",arguments)},dispose:function(t,e){Yp(\"axisPointer\",e),mL.superApply(this._model,\"dispose\",arguments)}}),vL=Pi(),yL=i,xL=m;(qp.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,i,n){var o=e.get(\"value\"),a=e.get(\"status\");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,n||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var r=this._group,s=this._handle;if(!a||\"hide\"===a)return r&&r.hide(),void(s&&s.hide());r&&r.show(),s&&s.show();var l={};this.makeElOption(l,o,t,e,i);var h=l.graphicKey;h!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=h;var u=this._moveAnimation=this.determineAnimation(t,e);if(r){var c=v($p,e,u);this.updatePointerEl(r,l,c,e),this.updateLabelEl(r,l,c,e)}else r=this._group=new S_,this.createPointerEl(r,l,t,e),this.createLabelEl(r,l,t,e),i.getZr().add(r);tg(r,e,!0),this._renderHandle(o)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var i=e.get(\"animation\"),n=t.axis,o=\"category\"===n.type,a=e.get(\"snap\");if(!a&&!o)return!1;if(\"auto\"===i||null==i){var r=this.animationThreshold;if(o&&n.getBandWidth()>r)return!0;if(a){var s=vh(t).seriesDataCount,l=n.getExtent();return Math.abs(l[0]-l[1])/s>r}return!1}return!0===i},makeElOption:function(t,e,i,n,o){},createPointerEl:function(t,e,i,n){var o=e.pointer;if(o){var a=vL(t).pointerEl=new tS[o.type](yL(e.pointer));t.add(a)}},createLabelEl:function(t,e,i,n){if(e.label){var o=vL(t).labelEl=new Vb(yL(e.label));t.add(o),Jp(o,n)}},updatePointerEl:function(t,e,i){var n=vL(t).pointerEl;n&&(n.setStyle(e.pointer.style),i(n,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,i,n){var o=vL(t).labelEl;o&&(o.setStyle(e.label.style),i(o,{shape:e.label.shape,position:e.label.position}),Jp(o,n))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e=this._axisPointerModel,i=this._api.getZr(),n=this._handle,o=e.getModel(\"handle\"),a=e.get(\"status\");if(!o.get(\"show\")||!a||\"hide\"===a)return n&&i.remove(n),void(this._handle=null);var r;this._handle||(r=!0,n=this._handle=xo(o.get(\"icon\"),{cursor:\"move\",draggable:!0,onmousemove:function(t){Q_(t.event)},onmousedown:xL(this._onHandleDragMove,this,0,0),drift:xL(this._onHandleDragMove,this),ondragend:xL(this._onHandleDragEnd,this)}),i.add(n)),tg(n,e,!1);var s=[\"color\",\"borderColor\",\"borderWidth\",\"opacity\",\"shadowColor\",\"shadowBlur\",\"shadowOffsetX\",\"shadowOffsetY\"];n.setStyle(o.getItemStyle(null,s));var l=o.get(\"size\");y(l)||(l=[l,l]),n.attr(\"scale\",[l[0]/2,l[1]/2]),yr(this,\"_doDispatchAxisPointer\",o.get(\"throttle\")||0,\"fixRate\"),this._moveHandleToValue(t,r)}},_moveHandleToValue:function(t,e){$p(this._axisPointerModel,!e&&this._moveAnimation,this._handle,Qp(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(Qp(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(Qp(n)),vL(i).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:\"updateAxisPointer\",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(t){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get(\"value\");this._moveHandleToValue(e),this._api.dispatchAction({type:\"hideTip\"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,n=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),n&&e.remove(n),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]}}}).constructor=qp,Vi(qp);var _L=qp.extend({makeElOption:function(t,e,i,n,o){var a=i.axis,r=a.grid,s=n.get(\"type\"),l=ug(r,a).getOtherAxis(a).getGlobalExtent(),h=a.toGlobalCoord(a.dataToCoord(e,!0));if(s&&\"none\"!==s){var u=eg(n),c=wL[s](a,h,l,u);c.style=u,t.graphicKey=c.type,t.pointer=c}rg(e,t,Sh(r.model,i),i,n,o)},getHandleTransform:function(t,e,i){var n=Sh(e.axis.grid.model,e,{labelInside:!1});return n.labelMargin=i.get(\"handle.margin\"),{position:ag(e.axis,t,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,i,n){var o=i.axis,a=o.grid,r=o.getGlobalExtent(!0),s=ug(a,o).getOtherAxis(o).getGlobalExtent(),l=\"x\"===o.dim?0:1,h=t.position;h[l]+=e[l],h[l]=Math.min(r[1],h[l]),h[l]=Math.max(r[0],h[l]);var u=(s[1]+s[0])/2,c=[u,u];c[l]=h[l];var d=[{verticalAlign:\"middle\"},{align:\"center\"}];return{position:h,rotation:t.rotation,cursorPoint:c,tooltipOption:d[l]}}}),wL={line:function(t,e,i,n){var o=sg([e,i[0]],[e,i[1]],cg(t));return Vn({shape:o,style:n}),{type:\"Line\",shape:o}},shadow:function(t,e,i,n){var o=t.getBandWidth(),a=i[1]-i[0];return{type:\"Rect\",shape:lg([e-o/2,i[0]],[o,a],cg(t))}}};XT.registerAxisPointerClass(\"CartesianAxisPointer\",_L),ss(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!y(e)&&(t.axisPointer.link=[e])}}),ls(FM.PROCESSOR.STATISTIC,function(t,e){t.getComponent(\"axisPointer\").coordSysAxesInfo=uh(t,e)}),hs({type:\"updateAxisPointer\",event:\"updateAxisPointer\",update:\":updateAxisPointer\"},function(t,e,i){var n=t.currTrigger,o=[t.x,t.y],a=t,r=t.dispatchAction||m(i.dispatchAction,i),s=e.getComponent(\"axisPointer\").coordSysAxesInfo;if(s){Wp(o)&&(o=uL({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=Wp(o),h=a.axesInfo,u=s.axesInfo,c=\"leave\"===n||Wp(o),d={},f={},p={list:[],map:{}},g={showPointer:dL(Np,f),showTooltip:dL(Ep,p)};cL(s.coordSysMap,function(t,e){var i=l||t.containPoint(o);cL(s.coordSysAxesInfo[e],function(t,e){var n=t.axis,a=Vp(h,t);if(!c&&i&&(!h||a)){var r=a&&a.value;null!=r||l||(r=n.pointToData(o)),null!=r&&Pp(t,r,g,!1,d)}})});var v={};return cL(u,function(t,e){var i=t.linkGroup;i&&!f[e]&&cL(i.axesInfo,function(e,n){var o=f[n];if(e!==t&&o){var a=o.value;i.mapper&&(a=t.axis.scale.parse(i.mapper(a,Gp(e),Gp(t)))),v[t.key]=a}})}),cL(v,function(t,e){Pp(u[e],t,g,!0,d)}),zp(f,u,d),Rp(p,o,t,r),Bp(u,0,i),d}});var bL=[\"x\",\"y\"],SL=[\"width\",\"height\"],ML=qp.extend({makeElOption:function(t,e,i,n,o){var a=i.axis,r=a.coordinateSystem,s=fg(r,1-dg(a)),l=r.dataToPoint(e)[0],h=n.get(\"type\");if(h&&\"none\"!==h){var u=eg(n),c=IL[h](a,l,s,u);c.style=u,t.graphicKey=c.type,t.pointer=c}rg(e,t,kp(i),i,n,o)},getHandleTransform:function(t,e,i){var n=kp(e,{labelInside:!1});return n.labelMargin=i.get(\"handle.margin\"),{position:ag(e.axis,t,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,i,n){var o=i.axis,a=o.coordinateSystem,r=dg(o),s=fg(a,r),l=t.position;l[r]+=e[r],l[r]=Math.min(s[1],l[r]),l[r]=Math.max(s[0],l[r]);var h=fg(a,1-r),u=(h[1]+h[0])/2,c=[u,u];return c[r]=l[r],{position:l,rotation:t.rotation,cursorPoint:c,tooltipOption:{verticalAlign:\"middle\"}}}}),IL={line:function(t,e,i,n){var o=sg([e,i[0]],[e,i[1]],dg(t));return Vn({shape:o,style:n}),{type:\"Line\",shape:o}},shadow:function(t,e,i,n){var o=t.getBandWidth(),a=i[1]-i[0];return{type:\"Rect\",shape:lg([e-o/2,i[0]],[o,a],dg(t))}}};XT.registerAxisPointerClass(\"SingleAxisPointer\",ML),ms({type:\"single\"});var TL=uM.extend({type:\"series.themeRiver\",dependencies:[\"singleAxis\"],nameMap:null,init:function(t){TL.superApply(this,\"init\",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(t){for(var e=t.length,i=f(mf().key(function(t){return t[2]}).entries(t),function(t){return{name:t.key,dataList:t.values}}),n=i.length,o=-1,a=-1,r=0;r<n;++r){var s=i[r].dataList.length;s>o&&(o=s,a=r)}for(var l=0;l<n;++l)if(l!==a)for(var h=i[l].name,u=0;u<o;++u){for(var c=i[a].dataList[u][0],d=i[l].dataList.length,p=-1,g=0;g<d;++g)if(i[l].dataList[g][0]===c){p=g;break}-1===p&&(t[e]=[],t[e][0]=c,t[e][1]=0,t[e][2]=h,e++)}return t},getInitialData:function(t,e){for(var i=e.queryComponents({mainType:\"singleAxis\",index:this.get(\"singleAxisIndex\"),id:this.get(\"singleAxisId\")})[0].get(\"type\"),n=g(t.data,function(t){return void 0!==t[2]}),o=this.fixData(n||[]),a=[],r=this.nameMap=z(),s=0,l=0;l<o.length;++l)a.push(o[l][2]),r.get(o[l][2])||(r.set(o[l][2],s),s++);var h=wI(o,{coordDimensions:[\"single\"],dimensionsDefine:[{name:\"time\",type:Ms(i)},{name:\"value\",type:\"float\"},{name:\"name\",type:\"ordinal\"}],encodeDefine:{single:0,value:1,itemName:2}}),u=new yI(h,this);return u.initData(o),u},getLayerSeries:function(){for(var t=this.getData(),e=t.count(),i=[],n=0;n<e;++n)i[n]=n;for(var o=f(mf().key(function(e){return t.get(\"name\",e)}).entries(i),function(t){return{name:t.key,indices:t.values}}),a=t.mapDimension(\"single\"),r=0;r<o.length;++r)o[r].indices.sort(function(e,i){return t.get(a,e)-t.get(a,i)});return o},getAxisTooltipData:function(t,e,i){y(t)||(t=t?[t]:[]);for(var n,o=this.getData(),a=this.getLayerSeries(),r=[],s=a.length,l=0;l<s;++l){for(var h=Number.MAX_VALUE,u=-1,c=a[l].indices.length,d=0;d<c;++d){var f=o.get(t[0],a[l].indices[d]),p=Math.abs(f-e);p<=h&&(n=f,h=p,u=a[l].indices[d])}r.push(u)}return{dataIndices:r,nestestValue:n}},formatTooltip:function(t){var e=this.getData(),i=e.getName(t),n=e.get(e.mapDimension(\"value\"),t);return(isNaN(n)||null==n)&&(n=\"-\"),Ho(i+\" : \"+n)},defaultOption:{zlevel:0,z:2,coordinateSystem:\"singleAxis\",boundaryGap:[\"10%\",\"10%\"],singleAxisIndex:0,animationEasing:\"linear\",label:{margin:4,textAlign:\"right\",show:!0,position:\"left\",color:\"#000\",fontSize:11},emphasis:{label:{show:!0}}}});ys({type:\"themeRiver\",init:function(){this._layers=[]},render:function(t,e,i){function n(t){return t.name}function o(e,i,n){var o=this._layers;if(\"remove\"!==e){for(var h,u=[],c=[],f=l[i].indices,p=0;p<f.length;p++){var g=r.getItemLayout(f[p]),m=g.x,v=g.y0,y=g.y;u.push([m,v]),c.push([m,v+y]),h=r.getItemVisual(f[p],\"color\")}var x,_,w=r.getItemLayout(f[0]),b=r.getItemModel(f[p-1]),S=b.getModel(\"label\"),M=S.get(\"margin\");if(\"add\"===e){I=d[i]=new S_;x=new wT({shape:{points:u,stackedOnPoints:c,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),_=new Cb({style:{x:w.x-M,y:w.y0+w.y/2}}),I.add(x),I.add(_),s.add(I),x.setClipPath(pg(x.getBoundingRect(),t,function(){x.removeClipPath()}))}else{var I=o[n];x=I.childAt(0),_=I.childAt(1),s.add(I),d[i]=I,co(x,{shape:{points:u,stackedOnPoints:c}},t),co(_,{style:{x:w.x-M,y:w.y0+w.y/2}},t)}var T=b.getModel(\"emphasis.itemStyle\"),A=b.getModel(\"itemStyle\");io(_.style,S,{text:S.get(\"show\")?t.getFormattedLabel(f[p-1],\"normal\")||r.getName(f[p-1]):null,textVerticalAlign:\"middle\"}),x.setStyle(a({fill:h},A.getItemStyle([\"color\"]))),to(x,T.getItemStyle())}else s.remove(o[i])}var r=t.getData(),s=this.group,l=t.getLayerSeries(),h=r.getLayout(\"layoutInfo\"),u=h.rect,c=h.boundaryGap;s.attr(\"position\",[0,u.y+c[0]]);var d={};new ws(this._layersSeries||[],l,n,n).add(m(o,this,\"add\")).update(m(o,this,\"update\")).remove(m(o,this,\"remove\")).execute(),this._layersSeries=l,this._layers=d},dispose:function(){}});cs(function(t,e){t.eachSeriesByType(\"themeRiver\",function(t){var e=t.getData(),i=t.coordinateSystem,n={},o=i.getRect();n.rect=o;var a=t.get(\"boundaryGap\"),r=i.getAxis();n.boundaryGap=a,\"horizontal\"===r.orient?(a[0]=To(a[0],o.height),a[1]=To(a[1],o.height),gg(e,t,o.height-a[0]-a[1])):(a[0]=To(a[0],o.width),a[1]=To(a[1],o.width),gg(e,t,o.width-a[0]-a[1])),e.setLayout(\"layoutInfo\",n)})}),ds(function(t){t.eachSeriesByType(\"themeRiver\",function(t){var e=t.getData(),i=t.getRawData(),n=t.get(\"color\"),o=z();e.each(function(t){o.set(e.getRawIndex(t),t)}),i.each(function(a){var r=i.getName(a),s=n[(t.nameMap.get(r)-1)%n.length];i.setItemVisual(a,\"color\",s);var l=o.get(a);null!=l&&e.setItemVisual(l,\"color\",s)})})}),ls(gA(\"themeRiver\")),uM.extend({type:\"series.sunburst\",_viewRoot:null,getInitialData:function(t,e){var i={name:t.name,children:t.data};vg(i);var n=t.levels||[],o={};return o.levels=n,bu.createTree(i,this,o).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(t){var e=uM.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=Xu(i,this),e},defaultOption:{zlevel:0,z:2,center:[\"50%\",\"50%\"],radius:[0,\"75%\"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:\"descendant\",nodeClick:\"rootToNode\",renderLabelForZeroData:!1,label:{rotate:\"radial\",show:!0,opacity:1,align:\"center\",position:\"inside\",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:\"white\",opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:\"expansion\",animationDuration:1e3,animationDurationUpdate:500,animationEasing:\"cubicOut\",data:[],levels:[],sort:\"desc\"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});var AL={NONE:\"none\",DESCENDANT:\"descendant\",ANCESTOR:\"ancestor\",SELF:\"self\"},DL=2,CL=4,LL=yg.prototype;LL.updateData=function(t,e,i,o,s){this.node=e,e.piece=this,o=o||this._seriesModel,s=s||this._ecModel;var l=this.childAt(0);l.dataIndex=e.dataIndex;var h=e.getModel(),u=e.getLayout(),c=a({},u);c.label=null;var d,f=xg(e,0,s),p=h.getModel(\"itemStyle\").getItemStyle();d=r({lineJoin:\"bevel\",fill:(d=\"normal\"===i?p:n(h.getModel(i+\".itemStyle\").getItemStyle(),p)).fill||f},d),t?(l.setShape(c),l.shape.r=u.r0,co(l,{shape:{r:u.r}},o,e.dataIndex),l.useStyle(d)):co(l,{shape:c,style:d},o),\"normal\"===i&&(l.hoverStyle=h.getModel(\"emphasis.itemStyle\").getItemStyle(),to(this)),this._updateLabel(o,s,f);var g=h.getShallow(\"cursor\");if(g&&l.attr(\"cursor\",g),t){var m=o.getShallow(\"highlightPolicy\");this._initEvents(l,e,o,m)}this._seriesModel=o||this._seriesModel,this._ecModel=s||this._ecModel},LL.onEmphasis=function(t){var e=this;this.node.hostTree.root.eachNode(function(i){i.piece&&(e.node===i?i.piece.updateData(!1,i,\"emphasis\"):wg(i,e.node,t)?i.piece.childAt(0).trigger(\"highlight\"):t!==AL.NONE&&i.piece.childAt(0).trigger(\"downplay\"))})},LL.onNormal=function(){this.node.hostTree.root.eachNode(function(t){t.piece&&t.piece.updateData(!1,t,\"normal\")})},LL.onHighlight=function(){this.updateData(!1,this.node,\"highlight\")},LL.onDownplay=function(){this.updateData(!1,this.node,\"downplay\")},LL._updateLabel=function(t,e,i){var n=this.node.getModel(),o=n.getModel(\"label\"),a=n.getModel(\"label.emphasis\"),r=T(t.getFormattedLabel(this.node.dataIndex,\"normal\",null,null,\"label\"),this.node.name);o.get(\"show\")||(r=\"\");var s=this.childAt(1);eo(s.style,s.hoverStyle={},o,a,{defaultText:o.getShallow(\"show\")?r:null,autoColor:i,useInsideStyle:!0});var l,h=this.node.getLayout(),u=(h.startAngle+h.endAngle)/2,c=Math.cos(u),d=Math.sin(u),f=o.get(\"position\"),p=o.get(\"distance\")||0,g=o.get(\"align\");\"outside\"===f?(l=h.r+p,g=u>Math.PI/2?\"right\":\"left\"):g&&\"center\"!==g?\"left\"===g?(l=h.r0+p,u>Math.PI/2&&(g=\"right\")):\"right\"===g&&(l=h.r-p,u>Math.PI/2&&(g=\"left\")):(l=(h.r+h.r0)/2,g=\"center\"),s.attr(\"style\",{text:r,textAlign:g,textVerticalAlign:o.get(\"verticalAlign\")||\"middle\",opacity:o.get(\"opacity\")});var m=l*c+h.cx,v=l*d+h.cy;s.attr(\"position\",[m,v]);var y=o.getShallow(\"rotate\"),x=0;\"radial\"===y?(x=-u)<-Math.PI/2&&(x+=Math.PI):\"tangential\"===y?(x=Math.PI/2-u)>Math.PI/2?x-=Math.PI:x<-Math.PI/2&&(x+=Math.PI):\"number\"==typeof y&&(x=y*Math.PI/180),s.attr(\"rotation\",x)},LL._initEvents=function(t,e,i,n){t.off(\"mouseover\").off(\"mouseout\").off(\"emphasis\").off(\"normal\");var o=this,a=function(){o.onEmphasis(n)},r=function(){o.onNormal()};i.isAnimationEnabled()&&t.on(\"mouseover\",a).on(\"mouseout\",r).on(\"emphasis\",a).on(\"normal\",r).on(\"downplay\",function(){o.onDownplay()}).on(\"highlight\",function(){o.onHighlight()})},h(yg,S_);cr.extend({type:\"sunburst\",init:function(){},render:function(t,e,i,n){function o(i,n){if(u||!i||i.getValue()||(i=null),i!==s&&n!==s)if(n&&n.piece)i?n.piece.updateData(!1,i,\"normal\",t,e):a(n);else if(i){var o=new yg(i,t,e);h.add(o)}}function a(t){t&&t.piece&&(h.remove(t.piece),t.piece=null)}var r=this;this.seriesModel=t,this.api=i,this.ecModel=e;var s=t.getData().tree.root,l=t.getViewRoot(),h=this.group,u=t.get(\"renderLabelForZeroData\"),c=[];l.eachNode(function(t){c.push(t)});var d=this._oldChildren||[];if(function(t,e){function i(t){return t.getId()}function n(i,n){o(null==i?null:t[i],null==n?null:e[n])}0===t.length&&0===e.length||new ws(e,t,i,i).add(n).update(n).remove(v(n,null)).execute()}(c,d),function(i,n){if(n.depth>0){i.piece?i.piece.updateData(!1,i,\"normal\",t,e):(i.piece=new yg(i,t,e),h.add(i.piece)),n.piece._onclickEvent&&n.piece.off(\"click\",n.piece._onclickEvent);var o=function(t){r._rootToNode(n.parentNode)};n.piece._onclickEvent=o,i.piece.on(\"click\",o)}else i.piece&&(h.remove(i.piece),i.piece=null)}(s,l),n&&n.highlight&&n.highlight.piece){var f=t.getShallow(\"highlightPolicy\");n.highlight.piece.onEmphasis(f)}else if(n&&n.unhighlight){var p=s.piece;!p&&s.children.length&&(p=s.children[0].piece),p&&p.onNormal()}this._initEvents(),this._oldChildren=c},dispose:function(){},_initEvents:function(){var t=this,e=function(e){var i=t.seriesModel.get(\"nodeClick\",!0);if(i){var n=!1;t.seriesModel.getViewRoot().eachNode(function(o){if(!n&&o.piece&&o.piece.childAt(0)===e.target){if(\"rootToNode\"===i)t._rootToNode(o);else if(\"link\"===i){var a=o.getModel(),r=a.get(\"link\",!0);if(r){var s=a.get(\"target\",!0)||\"_blank\";r&&window.open(r,s)}}n=!0}})}};this.group._onclickEvent&&this.group.off(\"click\",this.group._onclickEvent),this.group.on(\"click\",e),this.group._onclickEvent=e},_rootToNode:function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:\"sunburstRootToNode\",from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},containPoint:function(t,e){var i=e.getData().getItemLayout(0);if(i){var n=t[0]-i.cx,o=t[1]-i.cy,a=Math.sqrt(n*n+o*o);return a<=i.r&&a>=i.r0}}});var kL=\"sunburstRootToNode\";hs({type:kL,update:\"updateView\"},function(t,e){e.eachComponent({mainType:\"series\",subType:\"sunburst\",query:t},function(e,i){var n=Zu(t,[kL],e);if(n){var o=e.getViewRoot();o&&(t.direction=ju(o,n.node)?\"rollUp\":\"drillDown\"),e.resetViewRoot(n.node)}})});var PL=\"sunburstHighlight\";hs({type:PL,update:\"updateView\"},function(t,e){e.eachComponent({mainType:\"series\",subType:\"sunburst\",query:t},function(e,i){var n=Zu(t,[PL],e);n&&(t.highlight=n.node)})});hs({type:\"sunburstUnhighlight\",update:\"updateView\"},function(t,e){e.eachComponent({mainType:\"series\",subType:\"sunburst\",query:t},function(e,i){t.unhighlight=!0})});var OL=Math.PI/180;ds(v(cA,\"sunburst\")),cs(v(function(t,e,i,n){e.eachSeriesByType(t,function(t){var e=t.get(\"center\"),n=t.get(\"radius\");y(n)||(n=[0,n]),y(e)||(e=[e,e]);var o=i.getWidth(),a=i.getHeight(),r=Math.min(o,a),s=To(e[0],o),l=To(e[1],a),h=To(n[0],r/2),u=To(n[1],r/2),c=-t.get(\"startAngle\")*OL,f=t.get(\"minAngle\")*OL,p=t.getData().tree.root,g=t.getViewRoot(),m=g.depth,v=t.get(\"sort\");null!=v&&bg(g,v);var x=0;d(g.children,function(t){!isNaN(t.getValue())&&x++});var _=g.getValue(),w=Math.PI/(_||x)*2,b=g.depth>0,S=g.height-(b?-1:1),M=(u-h)/(S||1),I=t.get(\"clockwise\"),T=t.get(\"stillShowZeroSum\"),A=I?1:-1,D=function(t,e){if(t){var i=e;if(t!==p){var n=t.getValue(),o=0===_&&T?w:n*w;o<f&&(o=f),i=e+A*o;var a=t.depth-m-(b?-1:1),u=h+M*a,c=h+M*(a+1),g=t.getModel();null!=g.get(\"r0\")&&(u=To(g.get(\"r0\"),r/2)),null!=g.get(\"r\")&&(c=To(g.get(\"r\"),r/2)),t.setLayout({angle:o,startAngle:e,endAngle:i,clockwise:I,cx:s,cy:l,r0:u,r:c})}if(t.children&&t.children.length){var v=0;d(t.children,function(t){v+=D(t,e+v)})}return i-e}};if(b){var C=h,L=h+M,k=2*Math.PI;p.setLayout({angle:k,startAngle:c,endAngle:c+k,clockwise:I,cx:s,cy:l,r0:C,r:L})}D(g,c)})},\"sunburst\")),ls(v(gA,\"sunburst\"));var NL=[\"itemStyle\"],EL=[\"emphasis\",\"itemStyle\"],zL=[\"label\"],RL=[\"emphasis\",\"label\"],BL=\"e\\0\\0\",VL={cartesian2d:function(t){var e=t.grid.getRect();return{coordSys:{type:\"cartesian2d\",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:m(Mg,t)}}},geo:function(t){var e=t.getBoundingRect();return{coordSys:{type:\"geo\",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e,i){return t.dataToPoint(e,i)},size:m(Ig,t)}}},singleAxis:function(t){var e=t.getRect();return{coordSys:{type:\"singleAxis\",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:m(Tg,t)}}},polar:function(t){var e=t.getRadiusAxis(),i=t.getAngleAxis(),n=e.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:\"polar\",cx:t.cx,cy:t.cy,r:n[1],r0:n[0]},api:{coord:m(function(n){var o=e.dataToRadius(n[0]),a=i.dataToAngle(n[1]),r=t.coordToPoint([o,a]);return r.push(o,a*Math.PI/180),r}),size:m(Ag,t)}}},calendar:function(t){var e=t.getRect(),i=t.getRangeInfo();return{coordSys:{type:\"calendar\",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:function(e,i){return t.dataToPoint(e,i)}}}}};vs({type:\"series.custom\",dependencies:[\"grid\",\"polar\",\"geo\",\"singleAxis\",\"calendar\"],defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(t,e){return Bs(this.getSource(),this)}}),ys({type:\"custom\",_data:null,render:function(t,e,i){var n=this._data,o=t.getData(),a=this.group,r=kg(t,o,e,i);this.group.removeAll(),o.diff(n).add(function(e){o.hasValue(e)&&Og(null,e,r(e),t,a,o)}).update(function(e,i){var s=n.getItemGraphicEl(i);o.hasValue(e)?Og(s,e,r(e),t,a,o):s&&a.remove(s)}).remove(function(t){var e=n.getItemGraphicEl(t);e&&a.remove(e)}).execute(),this._data=o},incrementalPrepareRender:function(t,e,i){this.group.removeAll(),this._data=null},incrementalRender:function(t,e,i,n){for(var o=e.getData(),a=kg(e,o,i,n),r=t.start;r<t.end;r++)Og(null,r,a(r),e,this.group,o).traverse(function(t){t.isGroup||(t.incremental=!0,t.useHoverLayer=!0)})},dispose:B}),ss(function(t){var e=t.graphic;y(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])});var GL=gs({type:\"graphic\",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(t){var e=this.option.elements;this.option.elements=null,GL.superApply(this,\"mergeOption\",arguments),this.option.elements=e},optionUpdated:function(t,e){var i=this.option,n=(e?i:t).elements,o=i.elements=e?[]:i.elements,a=[];this._flatten(n,a);var r=Ai(o,a);Di(r);var s=this._elOptionsToUpdate=[];d(r,function(t,e){var i=t.option;i&&(s.push(i),Hg(t,i),Zg(o,e,i),Ug(o[e],i))},this);for(var l=o.length-1;l>=0;l--)null==o[l]?o.splice(l,1):delete o[l].$action},_flatten:function(t,e,i){d(t,function(t){if(t){i&&(t.parentOption=i),e.push(t);var n=t.children;\"group\"===t.type&&n&&this._flatten(n,e,t),delete t.children}},this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});ms({type:\"graphic\",init:function(t,e){this._elMap=z(),this._lastGraphicModel},render:function(t,e,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t,i),this._relocate(t,i)},_updateElements:function(t,e){var i=t.useElOptionsToUpdate();if(i){var n=this._elMap,o=this.group;d(i,function(t){var e=t.$action,i=t.id,a=n.get(i),r=t.parentId,s=null!=r?n.get(r):o;if(\"text\"===t.type){var l=t.style;t.hv&&t.hv[1]&&(l.textVerticalAlign=l.textBaseline=null),!l.hasOwnProperty(\"textFill\")&&l.fill&&(l.textFill=l.fill),!l.hasOwnProperty(\"textStroke\")&&l.stroke&&(l.textStroke=l.stroke)}var h=Wg(t);e&&\"merge\"!==e?\"replace\"===e?(Gg(a,n),Vg(i,s,h,n)):\"remove\"===e&&Gg(a,n):a?a.attr(h):Vg(i,s,h,n);var u=n.get(i);u&&(u.__ecGraphicWidth=t.width,u.__ecGraphicHeight=t.height)})}},_relocate:function(t,e){for(var i=t.option.elements,n=this.group,o=this._elMap,a=i.length-1;a>=0;a--){var r=i[a],s=o.get(r.id);if(s){var l=s.parent;Jo(s,r,l===n?{width:e.getWidth(),height:e.getHeight()}:{width:l.__ecGraphicWidth||0,height:l.__ecGraphicHeight||0},null,{hv:r.hv,boundingMode:r.bounding})}}},_clear:function(){var t=this._elMap;t.each(function(e){Gg(e,t)}),this._elMap=z()},dispose:function(){this._clear()}});var WL=gs({type:\"legend.plain\",dependencies:[\"series\"],layoutMode:{type:\"box\",ignoreSize:!0},init:function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{}},mergeOption:function(t){WL.superCall(this,\"mergeOption\",t)},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&\"single\"===this.get(\"selectedMode\")){for(var e=!1,i=0;i<t.length;i++){var n=t[i].get(\"name\");if(this.isSelected(n)){this.select(n),e=!0;break}}!e&&this.select(t[0].get(\"name\"))}},_updateData:function(t){var e=[],i=[];t.eachRawSeries(function(n){var o=n.name;i.push(o);var a;if(n.legendDataProvider){var r=n.legendDataProvider(),s=r.mapArray(r.getName);t.isSeriesFiltered(n)||(i=i.concat(s)),s.length?e=e.concat(s):a=o}else a=o;a&&a!==vw&&e.push(a)}),this._availableNames=i;var n=f(this.get(\"data\")||e,function(t){return\"string\"!=typeof t&&\"number\"!=typeof t||(t={name:t}),new _o(t,this,this.ecModel)},this);this._data=n},getData:function(){return this._data},select:function(t){var e=this.option.selected;\"single\"===this.get(\"selectedMode\")&&d(this._data,function(t){e[t.get(\"name\")]=!1}),e[t]=!0},unSelect:function(t){\"single\"!==this.get(\"selectedMode\")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?\"unSelect\":\"select\"](t)},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&l(this._availableNames,t)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:\"horizontal\",left:\"center\",top:0,align:\"auto\",backgroundColor:\"rgba(0,0,0,0)\",borderColor:\"#ccc\",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:\"#ccc\",textStyle:{color:\"#333\"},selectedMode:!0,tooltip:{show:!1}}});hs(\"legendToggleSelect\",\"legendselectchanged\",v(jg,\"toggleSelected\")),hs(\"legendSelect\",\"legendselected\",v(jg,\"select\")),hs(\"legendUnSelect\",\"legendunselected\",v(jg,\"unSelect\"));var FL=v,HL=d,ZL=S_,UL=ms({type:\"legend.plain\",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new ZL),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(t,e,i){if(this.resetInner(),t.get(\"show\",!0)){var n=t.get(\"align\");n&&\"auto\"!==n||(n=\"right\"===t.get(\"left\")&&\"vertical\"===t.get(\"orient\")?\"right\":\"left\"),this.renderInner(n,t,e,i);var o=t.getBoxLayoutParams(),a={width:i.getWidth(),height:i.getHeight()},s=t.get(\"padding\"),l=Ko(o,a,s),h=this.layoutInner(t,n,l),u=Ko(r({width:h.width,height:h.height},o),a,s);this.group.attr(\"position\",[u.x-h.x,u.y-h.y]),this.group.add(this._backgroundEl=Yg(h,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(t,e,i,n){var o=this.getContentGroup(),a=z(),r=e.get(\"selectedMode\");HL(e.getData(),function(s,l){var h=s.get(\"name\");if(this.newlineDisabled||\"\"!==h&&\"\\n\"!==h){var u=i.getSeriesByName(h)[0];if(!a.get(h))if(u){var c=u.getData(),d=c.getVisual(\"color\");\"function\"==typeof d&&(d=d(u.getDataParams(0)));var f=c.getVisual(\"legendSymbol\")||\"roundRect\",p=c.getVisual(\"symbol\");this._createItem(h,l,s,e,f,p,t,d,r).on(\"click\",FL(qg,h,n)).on(\"mouseover\",FL($g,u,null,n)).on(\"mouseout\",FL(Kg,u,null,n)),a.set(h,!0)}else i.eachRawSeries(function(i){if(!a.get(h)&&i.legendDataProvider){var o=i.legendDataProvider(),u=o.indexOfName(h);if(u<0)return;var c=o.getItemVisual(u,\"color\");this._createItem(h,l,s,e,\"roundRect\",null,t,c,r).on(\"click\",FL(qg,h,n)).on(\"mouseover\",FL($g,i,h,n)).on(\"mouseout\",FL(Kg,i,h,n)),a.set(h,!0)}},this)}else o.add(new ZL({newline:!0}))},this)},_createItem:function(t,e,i,n,o,r,s,l,h){var u=n.get(\"itemWidth\"),c=n.get(\"itemHeight\"),d=n.get(\"inactiveColor\"),f=n.isSelected(t),p=new ZL,g=i.getModel(\"textStyle\"),m=i.get(\"icon\"),v=i.getModel(\"tooltip\"),y=v.parentModel;if(o=m||o,p.add(dl(o,0,0,u,c,f?l:d,!0)),!m&&r&&(r!==o||\"none\"==r)){var x=.8*c;\"none\"===r&&(r=\"circle\"),p.add(dl(r,(u-x)/2,(c-x)/2,x,x,f?l:d))}var _=\"left\"===s?u+5:-5,w=s,b=n.get(\"formatter\"),S=t;\"string\"==typeof b&&b?S=b.replace(\"{name}\",null!=t?t:\"\"):\"function\"==typeof b&&(S=b(t)),p.add(new Cb({style:io({},g,{text:S,x:_,y:c/2,textFill:f?g.getTextColor():d,textAlign:w,textVerticalAlign:\"middle\"})}));var M=new Vb({shape:p.getBoundingRect(),invisible:!0,tooltip:v.get(\"show\")?a({content:t,formatter:y.get(\"formatter\",!0)||function(){return t},formatterParams:{componentType:\"legend\",legendIndex:n.componentIndex,name:t,$vars:[\"name\"]}},v.option):null});return p.add(M),p.eachChild(function(t){t.silent=!0}),M.silent=!h,this.getContentGroup().add(p),to(p),p.__legendDataIndex=e,p},layoutInner:function(t,e,i){var n=this.getContentGroup();bS(t.get(\"orient\"),n,t.get(\"itemGap\"),i.width,i.height);var o=n.getBoundingRect();return n.attr(\"position\",[-o.x,-o.y]),this.group.getBoundingRect()}});ls(function(t){var e=t.findComponents({mainType:\"legend\"});e&&e.length&&t.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}),IS.registerSubTypeDefaulter(\"legend\",function(){return\"plain\"});var jL=WL.extend({type:\"legend.scroll\",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:\"end\",pageFormatter:\"{current}/{total}\",pageIcons:{horizontal:[\"M0,0L12,-10L12,10z\",\"M0,0L-12,-10L-12,10z\"],vertical:[\"M0,0L20,0L10,-20z\",\"M0,0L20,0L10,20z\"]},pageIconColor:\"#2f4554\",pageIconInactiveColor:\"#aaa\",pageIconSize:15,pageTextStyle:{color:\"#333\"},animationDurationUpdate:800},init:function(t,e,i,n){var o=ea(t);jL.superCall(this,\"init\",t,e,i,n),Jg(this,t,o)},mergeOption:function(t,e){jL.superCall(this,\"mergeOption\",t,e),Jg(this,this.option,t)},getOrient:function(){return\"vertical\"===this.get(\"orient\")?{index:1,name:\"vertical\"}:{index:0,name:\"horizontal\"}}}),XL=S_,YL=[\"width\",\"height\"],qL=[\"x\",\"y\"],$L=UL.extend({type:\"legend.scroll\",newlineDisabled:!0,init:function(){$L.superCall(this,\"init\"),this._currentIndex=0,this.group.add(this._containerGroup=new XL),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new XL),this._showController},resetInner:function(){$L.superCall(this,\"resetInner\"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,e,i,n){function o(t,i){var o=t+\"DataIndex\",l=xo(e.get(\"pageIcons\",!0)[e.getOrient().name][i],{onclick:m(a._pageGo,a,o,e,n)},{x:-s[0]/2,y:-s[1]/2,width:s[0],height:s[1]});l.name=t,r.add(l)}var a=this;$L.superCall(this,\"renderInner\",t,e,i,n);var r=this._controllerGroup,s=e.get(\"pageIconSize\",!0);y(s)||(s=[s,s]),o(\"pagePrev\",0);var l=e.getModel(\"pageTextStyle\");r.add(new Cb({name:\"pageText\",style:{textFill:l.getTextColor(),font:l.getFont(),textVerticalAlign:\"middle\",textAlign:\"center\"},silent:!0})),o(\"pageNext\",1)},layoutInner:function(t,e,i){var n=this.getContentGroup(),o=this._containerGroup,a=this._controllerGroup,r=t.getOrient().index,s=YL[r],l=YL[1-r],h=qL[1-r];bS(t.get(\"orient\"),n,t.get(\"itemGap\"),r?i.width:null,r?null:i.height),bS(\"horizontal\",a,t.get(\"pageButtonItemGap\",!0));var u=n.getBoundingRect(),c=a.getBoundingRect(),d=this._showController=u[s]>i[s],f=[-u.x,-u.y];f[r]=n.position[r];var p=[0,0],g=[-c.x,-c.y],m=A(t.get(\"pageButtonGap\",!0),t.get(\"itemGap\",!0));d&&(\"end\"===t.get(\"pageButtonPosition\",!0)?g[r]+=i[s]-c[s]:p[r]+=c[s]+m),g[1-r]+=u[l]/2-c[l]/2,n.attr(\"position\",f),o.attr(\"position\",p),a.attr(\"position\",g);var v=this.group.getBoundingRect();if((v={x:0,y:0})[s]=d?i[s]:u[s],v[l]=Math.max(u[l],c[l]),v[h]=Math.min(0,c[h]+g[1-r]),o.__rectSize=i[s],d){var y={x:0,y:0};y[s]=Math.max(i[s]-c[s]-m,0),y[l]=v[l],o.setClipPath(new Vb({shape:y})),o.__rectSize=y[s]}else a.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var x=this._getPageInfo(t);return null!=x.pageIndex&&co(n,{position:x.contentPosition},!!d&&t),this._updatePageInfoView(t,x),v},_pageGo:function(t,e,i){var n=this._getPageInfo(e)[t];null!=n&&i.dispatchAction({type:\"legendScroll\",scrollDataIndex:n,legendId:e.id})},_updatePageInfoView:function(t,e){var i=this._controllerGroup;d([\"pagePrev\",\"pageNext\"],function(n){var o=null!=e[n+\"DataIndex\"],a=i.childOfName(n);a&&(a.setStyle(\"fill\",o?t.get(\"pageIconColor\",!0):t.get(\"pageIconInactiveColor\",!0)),a.cursor=o?\"pointer\":\"default\")});var n=i.childOfName(\"pageText\"),o=t.get(\"pageFormatter\"),a=e.pageIndex,r=null!=a?a+1:0,s=e.pageCount;n&&o&&n.setStyle(\"text\",_(o)?o.replace(\"{current}\",r).replace(\"{total}\",s):o({current:r,total:s}))},_getPageInfo:function(t){function e(t){var e=t.getBoundingRect().clone();return e[f]+=t.position[u],e}var i,n,o,a,r=t.get(\"scrollDataIndex\",!0),s=this.getContentGroup(),l=s.getBoundingRect(),h=this._containerGroup.__rectSize,u=t.getOrient().index,c=YL[u],d=YL[1-u],f=qL[u],p=s.position.slice();this._showController?s.eachChild(function(t){t.__legendDataIndex===r&&(a=t)}):a=s.childAt(0);var g=h?Math.ceil(l[c]/h):0;if(a){var m=a.getBoundingRect(),v=a.position[u]+m[f];p[u]=-v-l[f],i=Math.floor(g*(v+m[f]+h/2)/l[c]),i=l[c]&&g?Math.max(0,Math.min(g-1,i)):-1;var y={x:0,y:0};y[c]=h,y[d]=l[d],y[f]=-p[u]-l[f];var x,_=s.children();if(s.eachChild(function(t,i){var n=e(t);n.intersect(y)&&(null==x&&(x=i),o=t.__legendDataIndex),i===_.length-1&&n[f]+n[c]<=y[f]+y[c]&&(o=null)}),null!=x){var w=e(_[x]);if(y[f]=w[f]+w[c]-y[c],x<=0&&w[f]>=y[f])n=null;else{for(;x>0&&e(_[x-1]).intersect(y);)x--;n=_[x].__legendDataIndex}}}return{contentPosition:p,pageIndex:i,pageCount:g,pagePrevDataIndex:n,pageNextDataIndex:o}}});hs(\"legendScroll\",\"legendscroll\",function(t,e){var i=t.scrollDataIndex;null!=i&&e.eachComponent({mainType:\"legend\",subType:\"scroll\",query:t},function(t){t.setScrollDataIndex(i)})}),gs({type:\"tooltip\",dependencies:[\"axisPointer\"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:\"item\",triggerOn:\"mousemove|click\",alwaysShowContent:!1,displayMode:\"single\",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:\"rgba(50,50,50,0.7)\",borderColor:\"#333\",borderRadius:4,borderWidth:0,padding:5,extraCssText:\"\",axisPointer:{type:\"line\",axis:\"auto\",animation:\"auto\",animationDurationUpdate:200,animationEasingUpdate:\"exponentialOut\",crossStyle:{color:\"#999\",width:1,type:\"dashed\",textStyle:{}}},textStyle:{color:\"#fff\",fontSize:14}}});var KL=d,JL=Fo,QL=[\"\",\"-webkit-\",\"-moz-\",\"-o-\"];im.prototype={constructor:im,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),i=t.style;\"absolute\"!==i.position&&\"absolute\"!==e.position&&(i.position=\"relative\")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText=\"position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;\"+em(t)+\";left:\"+this._x+\"px;top:\"+this._y+\"px;\"+(t.get(\"extraCssText\")||\"\"),e.style.display=e.innerHTML?\"block\":\"none\",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?\"\":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var i,n=this._zr;n&&n.painter&&(i=n.painter.getViewportRootOffset())&&(t+=i.offsetLeft,e+=i.offsetTop);var o=this.el.style;o.left=t+\"px\",o.top=e+\"px\",this._x=t,this._y=e},hide:function(){this.el.style.display=\"none\",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(m(this.hide,this),t)):this.hide())},isShow:function(){return this._show}};var tk=m,ek=d,ik=To,nk=new Vb({shape:{x:-1,y:-1,width:2,height:2}});ms({type:\"tooltip\",init:function(t,e){if(!_x.node){var i=new im(e.getDom(),e);this._tooltipContent=i}},render:function(t,e,i){if(!_x.node&&!_x.wxa){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get(\"alwaysShowContent\");var n=this._tooltipContent;n.update(),n.setEnterable(t.get(\"enterable\")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel.get(\"triggerOn\");Fp(\"itemTooltip\",this._api,tk(function(e,i,n){\"none\"!==t&&(t.indexOf(e)>=0?this._tryShow(i,n):\"leave\"===e&&this._hide(n))},this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,i=this._api;if(null!=this._lastX&&null!=this._lastY&&\"none\"!==t.get(\"triggerOn\")){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){n.manuallyShowTip(t,e,i,{x:n._lastX,y:n._lastY})})}},manuallyShowTip:function(t,e,i,n){if(n.from!==this.uid&&!_x.node){var o=om(n,i);this._ticket=\"\";var a=n.dataByCoordSys;if(n.tooltip&&null!=n.x&&null!=n.y){var r=nk;r.position=[n.x,n.y],r.update(),r.tooltip=n.tooltip,this._tryShow({offsetX:n.x,offsetY:n.y,target:r},o)}else if(a)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,event:{},dataByCoordSys:n.dataByCoordSys,tooltipOption:n.tooltipOption},o);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(t,e,i,n))return;var s=uL(n,e),l=s.point[0],h=s.point[1];null!=l&&null!=h&&this._tryShow({offsetX:l,offsetY:h,position:n.position,target:s.el,event:{}},o)}else null!=n.x&&null!=n.y&&(i.dispatchAction({type:\"updateAxisPointer\",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target,event:{}},o))}},manuallyHideTip:function(t,e,i,n){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get(\"hideDelay\")),this._lastX=this._lastY=null,n.from!==this.uid&&this._hide(om(n,i))},_manuallyAxisShowTip:function(t,e,i,n){var o=n.seriesIndex,a=n.dataIndex,r=e.getComponent(\"axisPointer\").coordSysAxesInfo;if(null!=o&&null!=a&&null!=r){var s=e.getSeriesByIndex(o);if(s&&\"axis\"===(t=nm([s.getData().getItemModel(a),s,(s.coordinateSystem||{}).model,t])).get(\"trigger\"))return i.dispatchAction({type:\"updateAxisPointer\",seriesIndex:o,dataIndex:a,position:n.position}),!0}},_tryShow:function(t,e){var i=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var n=t.dataByCoordSys;n&&n.length?this._showAxisTooltip(n,t):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,i,e)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,i,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var i=t.get(\"showDelay\");e=m(e,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(e,i):e()},_showAxisTooltip:function(t,e){var i=this._ecModel,n=this._tooltipModel,o=[e.offsetX,e.offsetY],a=[],r=[],s=nm([e.tooltipOption,n]);ek(t,function(t){ek(t.dataByAxis,function(t){var e=i.getComponent(t.axisDim+\"Axis\",t.axisIndex),n=t.value,o=[];if(e&&null!=n){var s=og(n,e.axis,i,t.seriesDataIndices,t.valueLabelOpt);d(t.seriesDataIndices,function(a){var l=i.getSeriesByIndex(a.seriesIndex),h=a.dataIndexInside,u=l&&l.getDataParams(h);u.axisDim=t.axisDim,u.axisIndex=t.axisIndex,u.axisType=t.axisType,u.axisId=t.axisId,u.axisValue=ul(e.axis,n),u.axisValueLabel=s,u&&(r.push(u),o.push(l.formatTooltip(h,!0)))});var l=s;a.push((l?Ho(l)+\"<br />\":\"\")+o.join(\"<br />\"))}})},this),a.reverse(),a=a.join(\"<br /><br />\");var l=e.position;this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(s,l,o[0],o[1],this._tooltipContent,r):this._showTooltipContent(s,a,r,Math.random(),o[0],o[1],l)})},_showSeriesItemTooltip:function(t,e,i){var n=this._ecModel,o=e.seriesIndex,a=n.getSeriesByIndex(o),r=e.dataModel||a,s=e.dataIndex,l=e.dataType,h=r.getData(),u=nm([h.getItemModel(s),r,a&&(a.coordinateSystem||{}).model,this._tooltipModel]),c=u.get(\"trigger\");if(null==c||\"item\"===c){var d=r.getDataParams(s,l),f=r.formatTooltip(s,!1,l),p=\"item_\"+r.name+\"_\"+s;this._showOrMove(u,function(){this._showTooltipContent(u,f,d,p,t.offsetX,t.offsetY,t.position,t.target)}),i({type:\"showTip\",dataIndexInside:s,dataIndex:h.getRawIndex(s),seriesIndex:o,from:this.uid})}},_showComponentItemTooltip:function(t,e,i){var n=e.tooltip;if(\"string\"==typeof n){var o=n;n={content:o,formatter:o}}var a=new _o(n,this._tooltipModel,this._ecModel),r=a.get(\"content\"),s=Math.random();this._showOrMove(a,function(){this._showTooltipContent(a,r,a.get(\"formatterParams\")||{},s,t.offsetX,t.offsetY,t.position,e)}),i({type:\"showTip\",from:this.uid})},_showTooltipContent:function(t,e,i,n,o,a,r,s){if(this._ticket=\"\",t.get(\"showContent\")&&t.get(\"show\")){var l=this._tooltipContent,h=t.get(\"formatter\");r=r||t.get(\"position\");var u=e;if(h&&\"string\"==typeof h)u=Zo(h,i,!0);else if(\"function\"==typeof h){var c=tk(function(e,n){e===this._ticket&&(l.setContent(n),this._updatePosition(t,r,o,a,l,i,s))},this);this._ticket=n,u=h(i,n,c)}l.setContent(u),l.show(t),this._updatePosition(t,r,o,a,l,i,s)}},_updatePosition:function(t,e,i,n,o,a,r){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get(\"position\");var h=o.getSize(),u=t.get(\"align\"),c=t.get(\"verticalAlign\"),d=r&&r.getBoundingRect().clone();if(r&&d.applyTransform(r.transform),\"function\"==typeof e&&(e=e([i,n],a,o.el,d,{viewSize:[s,l],contentSize:h.slice()})),y(e))i=ik(e[0],s),n=ik(e[1],l);else if(w(e)){e.width=h[0],e.height=h[1];var f=Ko(e,{width:s,height:l});i=f.x,n=f.y,u=null,c=null}else\"string\"==typeof e&&r?(i=(p=lm(e,d,h))[0],n=p[1]):(i=(p=am(i,n,o.el,s,l,u?null:20,c?null:20))[0],n=p[1]);if(u&&(i-=hm(u)?h[0]/2:\"right\"===u?h[0]:0),c&&(n-=hm(c)?h[1]/2:\"bottom\"===c?h[1]:0),t.get(\"confine\")){var p=rm(i,n,o.el,s,l);i=p[0],n=p[1]}o.moveTo(i,n)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,i=!!e&&e.length===t.length;return i&&ek(e,function(e,n){var o=e.dataByAxis||{},a=(t[n]||{}).dataByAxis||[];(i&=o.length===a.length)&&ek(o,function(t,e){var n=a[e]||{},o=t.seriesDataIndices||[],r=n.seriesDataIndices||[];(i&=t.value===n.value&&t.axisType===n.axisType&&t.axisId===n.axisId&&o.length===r.length)&&ek(o,function(t,e){var n=r[e];i&=t.seriesIndex===n.seriesIndex&&t.dataIndex===n.dataIndex})})}),this._lastDataByCoordSys=t,!!i},_hide:function(t){this._lastDataByCoordSys=null,t({type:\"hideTip\",from:this.uid})},dispose:function(t,e){_x.node||(this._tooltipContent.hide(),Yp(\"itemTooltip\",e))}}),hs({type:\"showTip\",event:\"showTip\",update:\"tooltip:manuallyShowTip\"},function(){}),hs({type:\"hideTip\",event:\"hideTip\",update:\"tooltip:manuallyHideTip\"},function(){}),fm.prototype={constructor:fm,pointToData:function(t,e){return this.polar.pointToData(t,e)[\"radius\"===this.dim?0:1]},dataToRadius:nT.prototype.dataToCoord,radiusToData:nT.prototype.coordToData},h(fm,nT),pm.prototype={constructor:pm,pointToData:function(t,e){return this.polar.pointToData(t,e)[\"radius\"===this.dim?0:1]},dataToAngle:nT.prototype.dataToCoord,angleToData:nT.prototype.coordToData},h(pm,nT);var ok=function(t){this.name=t||\"\",this.cx=0,this.cy=0,this._radiusAxis=new fm,this._angleAxis=new pm,this._radiusAxis.polar=this._angleAxis.polar=this};ok.prototype={type:\"polar\",axisPointerEnabled:!0,constructor:ok,dimensions:[\"radius\",\"angle\"],model:null,containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this[\"_\"+t+\"Axis\"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var e=[],i=this._angleAxis,n=this._radiusAxis;return i.scale.type===t&&e.push(i),n.scale.type===t&&e.push(n),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale(\"ordinal\")[0]||this.getAxesByScale(\"time\")[0]||this.getAngleAxis()},getTooltipAxes:function(t){var e=null!=t&&\"auto\"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=this.getAngleAxis(),o=n.getExtent(),a=Math.min(o[0],o[1]),r=Math.max(o[0],o[1]);n.inverse?a=r-360:r=a+360;var s=Math.sqrt(e*e+i*i);e/=s,i/=s;for(var l=Math.atan2(-i,e)/Math.PI*180,h=l<a?1:-1;l<a||l>r;)l+=360*h;return[s,l]},coordToPoint:function(t){var e=t[0],i=t[1]/180*Math.PI;return[Math.cos(i)*e+this.cx,-Math.sin(i)*e+this.cy]}};var ak=IS.extend({type:\"polarAxis\",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:\"polar\",index:this.option.polarIndex,id:this.option.polarId})[0]}});n(ak.prototype,ZI);var rk={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};kT(\"angle\",ak,gm,rk.angle),kT(\"radius\",ak,gm,rk.radius),gs({type:\"polar\",dependencies:[\"polarAxis\",\"angleAxis\"],coordinateSystem:null,findAxisModel:function(t){var e;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:[\"50%\",\"50%\"],radius:\"80%\"}});var sk={dimensions:ok.prototype.dimensions,create:function(t,e){var i=[];return t.eachComponent(\"polar\",function(t,n){var o=new ok(n);o.update=vm;var a=o.getRadiusAxis(),r=o.getAngleAxis(),s=t.findAxisModel(\"radiusAxis\"),l=t.findAxisModel(\"angleAxis\");ym(a,s),ym(r,l),mm(o,t,e),i.push(o),t.coordinateSystem=o,o.model=t}),t.eachSeries(function(e){if(\"polar\"===e.get(\"coordinateSystem\")){var i=t.queryComponents({mainType:\"polar\",index:e.get(\"polarIndex\"),id:e.get(\"polarId\")})[0];e.coordinateSystem=i.coordinateSystem}}),i}};Aa.register(\"polar\",sk);var lk=[\"axisLine\",\"axisLabel\",\"axisTick\",\"splitLine\",\"splitArea\"];XT.extend({type:\"angleAxis\",axisPointerClass:\"PolarAxisPointer\",render:function(t,e){if(this.group.removeAll(),t.get(\"show\")){var i=t.axis,n=i.polar,o=n.getRadiusAxis().getExtent(),a=i.getTicksCoords();\"category\"!==i.type&&a.pop(),d(lk,function(e){!t.get(e+\".show\")||i.scale.isBlank()&&\"axisLine\"!==e||this[\"_\"+e](t,n,a,o)},this)}},_axisLine:function(t,e,i,n){var o=t.getModel(\"axisLine.lineStyle\"),a=new Lb({shape:{cx:e.cx,cy:e.cy,r:n[_m(e)]},style:o.getLineStyle(),z2:1,silent:!0});a.style.fill=null,this.group.add(a)},_axisTick:function(t,e,i,n){var o=t.getModel(\"axisTick\"),a=(o.get(\"inside\")?-1:1)*o.get(\"length\"),s=n[_m(e)],l=f(i,function(t){return new Gb({shape:xm(e,[s,s+a],t)})});this.group.add(Qb(l,{style:r(o.getModel(\"lineStyle\").getLineStyle(),{stroke:t.get(\"axisLine.lineStyle.color\")})}))},_axisLabel:function(t,e,i,n){for(var o=t.axis,a=t.getCategories(),r=t.getModel(\"axisLabel\"),s=t.getFormattedLabels(),l=r.get(\"margin\"),h=o.getLabelsCoords(),u=0;u<i.length;u++){var c=n[_m(e)],d=e.coordToPoint([c+l,h[u]]),f=e.cx,p=e.cy,g=Math.abs(d[0]-f)/c<.3?\"center\":d[0]>f?\"left\":\"right\",m=Math.abs(d[1]-p)/c<.3?\"middle\":d[1]>p?\"top\":\"bottom\";a&&a[u]&&a[u].textStyle&&(r=new _o(a[u].textStyle,r,r.ecModel));var v=new Cb({silent:!0});this.group.add(v),io(v.style,r,{x:d[0],y:d[1],textFill:r.getTextColor()||t.get(\"axisLine.lineStyle.color\"),text:s[u],textAlign:g,textVerticalAlign:m})}},_splitLine:function(t,e,i,n){var o=t.getModel(\"splitLine\").getModel(\"lineStyle\"),a=o.get(\"color\"),s=0;a=a instanceof Array?a:[a];for(var l=[],h=0;h<i.length;h++){var u=s++%a.length;l[u]=l[u]||[],l[u].push(new Gb({shape:xm(e,n,i[h])}))}for(h=0;h<l.length;h++)this.group.add(Qb(l[h],{style:r({stroke:a[h%a.length]},o.getLineStyle()),silent:!0,z:t.get(\"z\")}))},_splitArea:function(t,e,i,n){var o=t.getModel(\"splitArea\").getModel(\"areaStyle\"),a=o.get(\"color\"),s=0;a=a instanceof Array?a:[a];for(var l=[],h=Math.PI/180,u=-i[0]*h,c=Math.min(n[0],n[1]),d=Math.max(n[0],n[1]),f=t.get(\"clockwise\"),p=1;p<i.length;p++){var g=s++%a.length;l[g]=l[g]||[],l[g].push(new Ob({shape:{cx:e.cx,cy:e.cy,r0:c,r:d,startAngle:u,endAngle:-i[p]*h,clockwise:f},silent:!0})),u=-i[p]*h}for(p=0;p<l.length;p++)this.group.add(Qb(l[p],{style:r({fill:a[p%a.length]},o.getAreaStyle()),silent:!0}))}});var hk=[\"axisLine\",\"axisTickLabel\",\"axisName\"],uk=[\"splitLine\",\"splitArea\"];XT.extend({type:\"radiusAxis\",axisPointerClass:\"PolarAxisPointer\",render:function(t,e){if(this.group.removeAll(),t.get(\"show\")){var i=t.axis,n=i.polar,o=n.getAngleAxis(),a=i.getTicksCoords(),r=o.getExtent()[0],s=i.getExtent(),l=wm(n,t,r),h=new GT(t,l);d(hk,h.add,h),this.group.add(h.getGroup()),d(uk,function(e){t.get(e+\".show\")&&!i.scale.isBlank()&&this[\"_\"+e](t,n,r,s,a)},this)}},_splitLine:function(t,e,i,n,o){var a=t.getModel(\"splitLine\").getModel(\"lineStyle\"),s=a.get(\"color\"),l=0;s=s instanceof Array?s:[s];for(var h=[],u=0;u<o.length;u++){var c=l++%s.length;h[c]=h[c]||[],h[c].push(new Lb({shape:{cx:e.cx,cy:e.cy,r:o[u]},silent:!0}))}for(u=0;u<h.length;u++)this.group.add(Qb(h[u],{style:r({stroke:s[u%s.length],fill:null},a.getLineStyle()),silent:!0}))},_splitArea:function(t,e,i,n,o){var a=t.getModel(\"splitArea\").getModel(\"areaStyle\"),s=a.get(\"color\"),l=0;s=s instanceof Array?s:[s];for(var h=[],u=o[0],c=1;c<o.length;c++){var d=l++%s.length;h[d]=h[d]||[],h[d].push(new Ob({shape:{cx:e.cx,cy:e.cy,r0:u,r:o[c],startAngle:0,endAngle:2*Math.PI},silent:!0})),u=o[c]}for(c=0;c<h.length;c++)this.group.add(Qb(h[c],{style:r({fill:s[c%s.length]},a.getAreaStyle()),silent:!0}))}});var ck=qp.extend({makeElOption:function(t,e,i,n,o){var a=i.axis;\"angle\"===a.dim&&(this.animationThreshold=Math.PI/18);var r,s=a.polar,l=s.getOtherAxis(a).getExtent();r=a[\"dataTo\"+Yo(a.dim)](e);var h=n.get(\"type\");if(h&&\"none\"!==h){var u=eg(n),c=dk[h](a,s,r,l,u);c.style=u,t.graphicKey=c.type,t.pointer=c}ig(t,i,n,o,bm(e,i,0,s,n.get(\"label.margin\")))}}),dk={line:function(t,e,i,n,o){return\"angle\"===t.dim?{type:\"Line\",shape:sg(e.coordToPoint([n[0],i]),e.coordToPoint([n[1],i]))}:{type:\"Circle\",shape:{cx:e.cx,cy:e.cy,r:i}}},shadow:function(t,e,i,n,o){var a=t.getBandWidth(),r=Math.PI/180;return\"angle\"===t.dim?{type:\"Sector\",shape:hg(e.cx,e.cy,n[0],n[1],(-i-a/2)*r,(a/2-i)*r)}:{type:\"Sector\",shape:hg(e.cx,e.cy,i-a/2,i+a/2,0,2*Math.PI)}}};XT.registerAxisPointerClass(\"PolarAxisPointer\",ck),cs(v(function(t,e,i){var n=i.getWidth(),o=i.getHeight(),a={},r={},s=dm(g(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&\"polar\"===t.coordinateSystem.type}));e.eachSeriesByType(t,function(t){if(\"polar\"===t.coordinateSystem.type){var e=t.getData(),i=t.coordinateSystem,l=i.getAngleAxis(),h=i.getBaseAxis(),u=um(t),c=s[cm(h)][u],d=c.offset,f=c.width,p=i.getOtherAxis(h),g=t.get(\"center\")||[\"50%\",\"50%\"],m=To(g[0],n),v=To(g[1],o),y=t.get(\"barMinHeight\")||0,x=t.get(\"barMinAngle\")||0,_=p.getExtent()[0],w=p.model.get(\"max\"),b=p.model.get(\"min\"),S=[e.mapDimension(\"radius\"),e.mapDimension(\"angle\")],M=e.mapArray(S,function(t,e){return i.dataToPoint([t,e])},!0);a[u]=a[u]||[],r[u]=r[u]||[],e.each(e.mapDimension(p.dim),function(t,n){if(!isNaN(t)){a[u][n]||(a[u][n]={p:_,n:_},r[u][n]={p:_,n:_});var o,s,h,c,g=t>=0?\"p\":\"n\",S=i.pointToCoord(M[n]),I=r[u][n][g];if(\"radius\"===p.dim)o=I,s=S[0],c=(h=(-S[1]+d)*Math.PI/180)+f*Math.PI/180,Math.abs(s)<y&&(s=o+(s<0?-1:1)*y),r[u][n][g]=s;else{s=(o=S[0]+d)+f,null!=w&&(t=Math.min(t,w)),null!=b&&(t=Math.max(t,b));var T=l.dataToAngle(t);Math.abs(T-I)<x&&(T=I-(t<0?-1:1)*x),h=-I*Math.PI/180,c=-T*Math.PI/180;var A=l.getExtent(),D=T;D===A[0]&&t>0?D=A[1]:D===A[1]&&t<0&&(D=A[0]),r[u][n][g]=D}e.setItemLayout(n,{cx:m,cy:v,r0:o,r:s,startAngle:h,endAngle:c})}},!0)}},this)},\"bar\")),ms({type:\"polar\"}),u(IS.extend({type:\"geo\",coordinateSystem:null,layoutMode:\"box\",init:function(t){IS.prototype.init.apply(this,arguments),Mi(t,\"label\",[\"show\"])},optionUpdated:function(){var t=this.option,e=this;t.regions=OA.getFilledRegions(t.regions,t.map,t.nameMap),this._optionModelMap=p(t.regions||[],function(t,i){return i.name&&t.set(i.name,new _o(i,e)),t},z()),this.updateSelectedMap(t.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:\"center\",top:\"center\",aspectScale:.75,silent:!1,map:\"\",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:\"#000\"},itemStyle:{borderWidth:.5,borderColor:\"#444\",color:\"#eee\"},emphasis:{label:{show:!0,color:\"rgb(100,0,0)\"},itemStyle:{color:\"rgba(255,215,0,0.8)\"}},regions:[]},getRegionModel:function(t){return this._optionModelMap.get(t)||new _o(null,this,this.ecModel)},getFormattedLabel:function(t,e){var i=this.getRegionModel(t).get(\"label.\"+e+\".formatter\"),n={name:t};return\"function\"==typeof i?(n.status=e,i(n)):\"string\"==typeof i?i.replace(\"{a}\",null!=t?t:\"\"):void 0},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}}),sA),ms({type:\"geo\",init:function(t,e){var i=new ou(e,!0);this._mapDraw=i,this.group.add(i.group)},render:function(t,e,i,n){if(!n||\"geoToggleSelect\"!==n.type||n.from!==this.uid){var o=this._mapDraw;t.get(\"show\")?o.draw(t,e,i,this,n):this._mapDraw.group.removeAll(),this.group.silent=t.get(\"silent\")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),Sm(\"toggleSelected\",{type:\"geoToggleSelect\",event:\"geoselectchanged\"}),Sm(\"select\",{type:\"geoSelect\",event:\"geoselected\"}),Sm(\"unSelect\",{type:\"geoUnSelect\",event:\"geounselected\"});var fk=[\"rect\",\"polygon\",\"keep\",\"clear\"],pk=d,gk={lineX:Lm(0),lineY:Lm(1),rect:{point:function(t,e,i){return t&&i.boundingRect.contain(t[0],t[1])},rect:function(t,e,i){return t&&i.boundingRect.intersect(t)}},polygon:{point:function(t,e,i){return t&&i.boundingRect.contain(t[0],t[1])&&pl(i.range,t[0],t[1])},rect:function(t,e,i){var n=i.range;if(!t||n.length<=1)return!1;var o=t.x,a=t.y,r=t.width,s=t.height,l=n[0];return!!(pl(n,o,a)||pl(n,o+r,a)||pl(n,o,a+s)||pl(n,o+r,a+s)||Kt.create(t).contain(l[0],l[1])||Pm(o,a,o+r,a,n)||Pm(o,a,o,a+s,n)||Pm(o+r,a,o+r,a+s,n)||Pm(o,a+s,o+r,a+s,n))||void 0}}},mk=d,vk=l,yk=v,xk=[\"dataToPoint\",\"pointToData\"],_k=[\"grid\",\"xAxis\",\"yAxis\",\"geo\",\"graph\",\"polar\",\"radiusAxis\",\"angleAxis\",\"bmap\"],wk=zm.prototype;wk.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,function(t,e,i){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var n=Ik[t.brushType](0,i,e);t.__rangeOffset={offset:Tk[t.brushType](n.values,t.range,[1,1]),xyMinMax:n.xyMinMax}}})},wk.matchOutputRanges=function(t,e,i){mk(t,function(t){var n=this.findTargetInfo(t,e);n&&!0!==n&&d(n.coordSyses,function(n){var o=Ik[t.brushType](1,n,t.range);i(t,o.values,n,e)})},this)},wk.setInputRanges=function(t,e){mk(t,function(t){var i=this.findTargetInfo(t,e);if(t.range=t.range||[],i&&!0!==i){t.panelId=i.panelId;var n=Ik[t.brushType](0,i.coordSys,t.coordRange),o=t.__rangeOffset;t.range=o?Tk[t.brushType](n.values,o.offset,Wm(n.xyMinMax,o.xyMinMax)):n.values}},this)},wk.makePanelOpts=function(t,e){return f(this._targetInfoList,function(i){var n=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:e&&e(i),clipPath:Qd(n),isTargetByCursor:ef(n,t,i.coordSysModel),getLinearBrushOtherExtent:tf(n)}})},wk.controlSeries=function(t,e,i){var n=this.findTargetInfo(t,i);return!0===n||n&&vk(n.coordSyses,e.coordinateSystem)>=0},wk.findTargetInfo=function(t,e){for(var i=this._targetInfoList,n=Bm(e,t),o=0;o<i.length;o++){var a=i[o],r=t.panelId;if(r){if(a.panelId===r)return a}else for(o=0;o<Sk.length;o++)if(Sk[o](n,a))return a}return!0};var bk={grid:function(t,e){var i=t.xAxisModels,n=t.yAxisModels,o=t.gridModels,a=z(),r={},s={};(i||n||o)&&(mk(i,function(t){var e=t.axis.grid.model;a.set(e.id,e),r[e.id]=!0}),mk(n,function(t){var e=t.axis.grid.model;a.set(e.id,e),s[e.id]=!0}),mk(o,function(t){a.set(t.id,t),r[t.id]=!0,s[t.id]=!0}),a.each(function(t){var o=t.coordinateSystem,a=[];mk(o.getCartesians(),function(t,e){(vk(i,t.getAxis(\"x\").model)>=0||vk(n,t.getAxis(\"y\").model)>=0)&&a.push(t)}),e.push({panelId:\"grid--\"+t.id,gridModel:t,coordSysModel:t,coordSys:a[0],coordSyses:a,getPanelRect:Mk.grid,xAxisDeclared:r[t.id],yAxisDeclared:s[t.id]})}))},geo:function(t,e){mk(t.geoModels,function(t){var i=t.coordinateSystem;e.push({panelId:\"geo--\"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:Mk.geo})})}},Sk=[function(t,e){var i=t.xAxisModel,n=t.yAxisModel,o=t.gridModel;return!o&&i&&(o=i.axis.grid.model),!o&&n&&(o=n.axis.grid.model),o&&o===e.gridModel},function(t,e){var i=t.geoModel;return i&&i===e.geoModel}],Mk={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(po(t)),e}},Ik={lineX:yk(Vm,0),lineY:yk(Vm,1),rect:function(t,e,i){var n=e[xk[t]]([i[0][0],i[1][0]]),o=e[xk[t]]([i[0][1],i[1][1]]),a=[Rm([n[0],o[0]]),Rm([n[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(t,e,i){var n=[[1/0,-1/0],[1/0,-1/0]];return{values:f(i,function(i){var o=e[xk[t]](i);return n[0][0]=Math.min(n[0][0],o[0]),n[1][0]=Math.min(n[1][0],o[1]),n[0][1]=Math.max(n[0][1],o[0]),n[1][1]=Math.max(n[1][1],o[1]),o}),xyMinMax:n}}},Tk={lineX:yk(Gm,0),lineY:yk(Gm,1),rect:function(t,e,i){return[[t[0][0]-i[0]*e[0][0],t[0][1]-i[0]*e[0][1]],[t[1][0]-i[1]*e[1][0],t[1][1]-i[1]*e[1][1]]]},polygon:function(t,e,i){return f(t,function(t,n){return[t[0]-i[0]*e[n][0],t[1]-i[1]*e[n][1]]})}},Ak=[\"inBrush\",\"outOfBrush\"],Dk=\"__ecBrushSelect\",Ck=\"__ecInBrushSelectEvent\",Lk=FM.VISUAL.BRUSH;cs(Lk,function(t,e,i){t.eachComponent({mainType:\"brush\"},function(e){i&&\"takeGlobalCursor\"===i.type&&e.setBrushOption(\"brush\"===i.key?i.brushOption:{brushType:!1}),(e.brushTargetManager=new zm(e.option,t)).setInputRanges(e.areas,t)})}),ds(Lk,function(t,e,n){var o,a,s=[];t.eachComponent({mainType:\"brush\"},function(e,n){function l(t){return\"all\"===m||v[t]}function h(t){return!!t.length}function u(t,e){var i=t.coordinateSystem;w|=i.hasAxisBrushed(),l(e)&&i.eachActiveState(t.getData(),function(t,e){\"active\"===t&&(x[e]=1)})}function c(i,n,o){var a=jm(i);if(a&&!Xm(e,n)&&(d(b,function(n){a[n.brushType]&&e.brushTargetManager.controlSeries(n,i,t)&&o.push(n),w|=h(o)}),l(n)&&h(o))){var r=i.getData();r.each(function(t){Um(a,o,r,t)&&(x[t]=1)})}}var p={brushId:e.id,brushIndex:n,brushName:e.name,areas:i(e.areas),selected:[]};s.push(p);var g=e.option,m=g.brushLink,v=[],x=[],_=[],w=0;n||(o=g.throttleType,a=g.throttleDelay);var b=f(e.areas,function(t){return Ym(r({boundingRect:kk[t.brushType](t)},t))}),S=Tm(e.option,Ak,function(t){t.mappingMethod=\"fixed\"});y(m)&&d(m,function(t){v[t]=1}),t.eachSeries(function(t,e){var i=_[e]=[];\"parallel\"===t.subType?u(t,e):c(t,e,i)}),t.eachSeries(function(t,e){var i={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};p.selected.push(i);var n=jm(t),o=_[e],a=t.getData(),r=l(e)?function(t){return x[t]?(i.dataIndex.push(a.getRawIndex(t)),\"inBrush\"):\"outOfBrush\"}:function(t){return Um(n,o,a,t)?(i.dataIndex.push(a.getRawIndex(t)),\"inBrush\"):\"outOfBrush\"};(l(e)?w:h(o))&&Dm(Ak,S,a,r)})}),Hm(e,o,a,s,n)});var kk={lineX:B,lineY:B,rect:function(t){return qm(t.range)},polygon:function(t){for(var e,i=t.range,n=0,o=i.length;n<o;n++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=i[n];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&qm(e)}},Pk=[\"#ddd\"];gs({type:\"brush\",dependencies:[\"geo\",\"grid\",\"xAxis\",\"yAxis\",\"parallel\",\"series\"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:\"all\",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:\"rect\",brushMode:\"single\",transformable:!0,brushStyle:{borderWidth:1,color:\"rgba(120,140,180,0.3)\",borderColor:\"rgba(120,140,180,0.8)\"},throttleType:\"fixRate\",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(t,e){var i=this.option;!e&&Am(i,t,[\"inBrush\",\"outOfBrush\"]),i.inBrush=i.inBrush||{},i.outOfBrush=i.outOfBrush||{color:Pk}},setAreas:function(t){t&&(this.areas=f(t,function(t){return $m(this.option,t)},this))},setBrushOption:function(t){this.brushOption=$m(this.option,t),this.brushType=this.brushOption.brushType}});ms({type:\"brush\",init:function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new yd(e.getZr())).on(\"brush\",m(this._onBrush,this)).mount()},render:function(t){return this.model=t,Km.apply(this,arguments)},updateView:Km,dispose:function(){this._brushController.dispose()},_onBrush:function(t,e){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(t,this.ecModel),(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:\"brush\",brushId:n,areas:i(t),$from:n})}}),hs({type:\"brush\",event:\"brush\"},function(t,e){e.eachComponent({mainType:\"brush\",query:t},function(e){e.setAreas(t.areas)})}),hs({type:\"brushSelect\",event:\"brushSelected\",update:\"none\"},function(){});var Ok={},Nk=wM.toolbox.brush;tv.defaultOption={show:!0,type:[\"rect\",\"polygon\",\"lineX\",\"lineY\",\"keep\",\"clear\"],icon:{rect:\"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13\",polygon:\"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2\",lineX:\"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4\",lineY:\"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4\",keep:\"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z\",clear:\"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2\"},title:i(Nk.title)};var Ek=tv.prototype;Ek.render=Ek.updateView=function(t,e,i){var n,o,a;e.eachComponent({mainType:\"brush\"},function(t){n=t.brushType,o=t.brushOption.brushMode||\"single\",a|=t.areas.length}),this._brushType=n,this._brushMode=o,d(t.get(\"type\",!0),function(e){t.setIconStatus(e,(\"keep\"===e?\"multiple\"===o:\"clear\"===e?a:e===n)?\"emphasis\":\"normal\")})},Ek.getIcons=function(){var t=this.model,e=t.get(\"icon\",!0),i={};return d(t.get(\"type\",!0),function(t){e[t]&&(i[t]=e[t])}),i},Ek.onclick=function(t,e,i){var n=this._brushType,o=this._brushMode;\"clear\"===i?(e.dispatchAction({type:\"axisAreaSelect\",intervals:[]}),e.dispatchAction({type:\"brush\",command:\"clear\",areas:[]})):e.dispatchAction({type:\"takeGlobalCursor\",key:\"brush\",brushOption:{brushType:\"keep\"===i?n:n!==i&&i,brushMode:\"keep\"===i?\"multiple\"===o?\"single\":\"multiple\":o}})},Jm(\"brush\",tv),ss(function(t,e){var i=t&&t.brush;if(y(i)||(i=i?[i]:[]),i.length){var n=[];d(i,function(t){var e=t.hasOwnProperty(\"toolbox\")?t.toolbox:[];e instanceof Array&&(n=n.concat(e))});var o=t&&t.toolbox;y(o)&&(o=o[0]),o||(o={feature:{}},t.toolbox=[o]);var a=o.feature||(o.feature={}),r=a.brush||(a.brush={}),s=r.type||(r.type=[]);s.push.apply(s,n),Mm(s),e&&!s.length&&s.push.apply(s,fk)}});ev.prototype={constructor:ev,type:\"calendar\",dimensions:[\"time\",\"value\"],getDimensionsInfo:function(){return[{name:\"time\",type:\"time\"}]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(t){var e=(t=Eo(t)).getFullYear(),i=t.getMonth()+1;i=i<10?\"0\"+i:i;var n=t.getDate();n=n<10?\"0\"+n:n;var o=t.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:e,m:i,d:n,day:o,time:t.getTime(),formatedDate:e+\"-\"+i+\"-\"+n,date:t}},getNextNDay:function(t,e){return 0===(e=e||0)?this.getDateInfo(t):((t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t))},update:function(t,e){function i(t,e){return null!=t[e]&&\"auto\"!==t[e]}this._firstDayOfWeek=+this._model.getModel(\"dayLabel\").get(\"firstDay\"),this._orient=this._model.get(\"orient\"),this._lineWidth=this._model.getModel(\"itemStyle\").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,o=[\"width\",\"height\"],a=this._model.get(\"cellSize\").slice(),r=this._model.getBoxLayoutParams(),s=\"horizontal\"===this._orient?[n,7]:[7,n];d([0,1],function(t){i(a,t)&&(r[o[t]]=a[t]*s[t])});var l={width:e.getWidth(),height:e.getHeight()},h=this._rect=Ko(r,l);d([0,1],function(t){i(a,t)||(a[t]=h[o[t]]/s[t])}),this._sw=a[0],this._sh=a[1]},dataToPoint:function(t,e){y(t)&&(t=t[0]),null==e&&(e=!0);var i=this.getDateInfo(t),n=this._rangeInfo,o=i.formatedDate;if(e&&!(i.time>=n.start.time&&i.time<=n.end.time))return[NaN,NaN];var a=i.day,r=this._getRangeInfo([n.start.time,o]).nthWeek;return\"vertical\"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+r*this._sh+this._sh/2]:[this._rect.x+r*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},pointToData:function(t){var e=this.pointToDate(t);return e&&e.time},dataToRect:function(t,e){var i=this.dataToPoint(t,e);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},pointToDate:function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,i=Math.floor((t[1]-this._rect.y)/this._sh)+1,n=this._rangeInfo.range;return\"vertical\"===this._orient?this._getDateByWeeksAndDay(i,e-1,n):this._getDateByWeeksAndDay(e,i-1,n)},convertToPixel:v(iv,\"dataToPoint\"),convertFromPixel:v(iv,\"pointToData\"),_initRangeOption:function(){var t=this._model.get(\"range\"),e=t;if(y(e)&&1===e.length&&(e=e[0]),/^\\d{4}$/.test(e)&&(t=[e+\"-01-01\",e+\"-12-31\"]),/^\\d{4}[\\/|-]\\d{1,2}$/.test(e)){var i=this.getDateInfo(e),n=i.date;n.setMonth(n.getMonth()+1);var o=this.getNextNDay(n,-1);t=[i.formatedDate,o.formatedDate]}/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}$/.test(e)&&(t=[e,e]);var a=this._getRangeInfo(t);return a.start.time>a.end.time&&t.reverse(),t},_getRangeInfo:function(t){var e;(t=[this.getDateInfo(t[0]),this.getDateInfo(t[1])])[0].time>t[1].time&&(e=!0,t.reverse());var i=Math.floor(t[1].time/864e5)-Math.floor(t[0].time/864e5)+1,n=new Date(t[0].time),o=n.getDate(),a=t[1].date.getDate();if(n.setDate(o+i-1),n.getDate()!==a)for(var r=n.getTime()-t[1].time>0?1:-1;n.getDate()!==a&&(n.getTime()-t[1].time)*r>0;)i-=r,n.setDate(o+i-1);var s=Math.floor((i+t[0].day+6)/7),l=e?1-s:s-1;return e&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:s,nthWeek:l,fweek:t[0].day,lweek:t[1].day}},_getDateByWeeksAndDay:function(t,e,i){var n=this._getRangeInfo(i);if(t>n.weeks||0===t&&e<n.fweek||t===n.weeks&&e>n.lweek)return!1;var o=7*(t-1)-n.fweek+e,a=new Date(n.start.time);return a.setDate(n.start.d+o),this.getDateInfo(a)}},ev.dimensions=ev.prototype.dimensions,ev.getDimensionsInfo=ev.prototype.getDimensionsInfo,ev.create=function(t,e){var i=[];return t.eachComponent(\"calendar\",function(n){var o=new ev(n,t,e);i.push(o),n.coordinateSystem=o}),t.eachSeries(function(t){\"calendar\"===t.get(\"coordinateSystem\")&&(t.coordinateSystem=i[t.get(\"calendarIndex\")||0])}),i},Aa.register(\"calendar\",ev);var zk=IS.extend({type:\"calendar\",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:\"horizontal\",splitLine:{show:!0,lineStyle:{color:\"#000\",width:1,type:\"solid\"}},itemStyle:{color:\"#fff\",borderWidth:1,borderColor:\"#ccc\"},dayLabel:{show:!0,firstDay:0,position:\"start\",margin:\"50%\",nameMap:\"en\",color:\"#000\"},monthLabel:{show:!0,position:\"start\",margin:5,align:\"center\",nameMap:\"en\",formatter:null,color:\"#000\"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:\"#ccc\",fontFamily:\"sans-serif\",fontWeight:\"bolder\",fontSize:20}},init:function(t,e,i,n){var o=ea(t);zk.superApply(this,\"init\",arguments),nv(t,o)},mergeOption:function(t,e){zk.superApply(this,\"mergeOption\",arguments),nv(this.option,t)}}),Rk={EN:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],CN:[\"一月\",\"二月\",\"三月\",\"四月\",\"五月\",\"六月\",\"七月\",\"八月\",\"九月\",\"十月\",\"十一月\",\"十二月\"]},Bk={EN:[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],CN:[\"日\",\"一\",\"二\",\"三\",\"四\",\"五\",\"六\"]};ms({type:\"calendar\",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(t,e,i){var n=this.group;n.removeAll();var o=t.coordinateSystem,a=o.getRangeInfo(),r=o.getOrient();this._renderDayRect(t,a,n),this._renderLines(t,a,r,n),this._renderYearText(t,a,r,n),this._renderMonthText(t,r,n),this._renderWeekText(t,a,r,n)},_renderDayRect:function(t,e,i){for(var n=t.coordinateSystem,o=t.getModel(\"itemStyle\").getItemStyle(),a=n.getCellWidth(),r=n.getCellHeight(),s=e.start.time;s<=e.end.time;s=n.getNextNDay(s,1).time){var l=n.dataToRect([s],!1).tl,h=new Vb({shape:{x:l[0],y:l[1],width:a,height:r},cursor:\"default\",style:o});i.add(h)}},_renderLines:function(t,e,i,n){function o(e){a._firstDayOfMonth.push(r.getDateInfo(e)),a._firstDayPoints.push(r.dataToRect([e],!1).tl);var o=a._getLinePointsOfOneWeek(t,e,i);a._tlpoints.push(o[0]),a._blpoints.push(o[o.length-1]),l&&a._drawSplitline(o,s,n)}var a=this,r=t.coordinateSystem,s=t.getModel(\"splitLine.lineStyle\").getLineStyle(),l=t.get(\"splitLine.show\"),h=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=e.start,c=0;u.time<=e.end.time;c++){o(u.formatedDate),0===c&&(u=r.getDateInfo(e.start.y+\"-\"+e.start.m));var d=u.date;d.setMonth(d.getMonth()+1),u=r.getDateInfo(d)}o(r.getNextNDay(e.end.time,1).formatedDate),l&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,h,i),s,n),l&&this._drawSplitline(a._getEdgesPoints(a._blpoints,h,i),s,n)},_getEdgesPoints:function(t,e,i){var n=[t[0].slice(),t[t.length-1].slice()],o=\"horizontal\"===i?0:1;return n[0][o]=n[0][o]-e/2,n[1][o]=n[1][o]+e/2,n},_drawSplitline:function(t,e,i){var n=new Bb({z2:20,shape:{points:t},style:e});i.add(n)},_getLinePointsOfOneWeek:function(t,e,i){var n=t.coordinateSystem;e=n.getDateInfo(e);for(var o=[],a=0;a<7;a++){var r=n.getNextNDay(e.time,a),s=n.dataToRect([r.time],!1);o[2*r.day]=s.tl,o[2*r.day+1]=s[\"horizontal\"===i?\"bl\":\"tr\"]}return o},_formatterLabel:function(t,e){return\"string\"==typeof t&&t?Uo(t,e):\"function\"==typeof t?t(e):e.nameMap},_yearTextPositionControl:function(t,e,i,n,o){e=e.slice();var a=[\"center\",\"bottom\"];\"bottom\"===n?(e[1]+=o,a=[\"center\",\"top\"]):\"left\"===n?e[0]-=o:\"right\"===n?(e[0]+=o,a=[\"center\",\"top\"]):e[1]-=o;var r=0;return\"left\"!==n&&\"right\"!==n||(r=Math.PI/2),{rotation:r,position:e,style:{textAlign:a[0],textVerticalAlign:a[1]}}},_renderYearText:function(t,e,i,n){var o=t.getModel(\"yearLabel\");if(o.get(\"show\")){var a=o.get(\"margin\"),r=o.get(\"position\");r||(r=\"horizontal\"!==i?\"top\":\"left\");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,h=(s[0][1]+s[1][1])/2,u=\"horizontal\"===i?0:1,c={top:[l,s[u][1]],bottom:[l,s[1-u][1]],left:[s[1-u][0],h],right:[s[u][0],h]},d=e.start.y;+e.end.y>+e.start.y&&(d=d+\"-\"+e.end.y);var f=o.get(\"formatter\"),p={start:e.start.y,end:e.end.y,nameMap:d},g=this._formatterLabel(f,p),m=new Cb({z2:30});io(m.style,o,{text:g}),m.attr(this._yearTextPositionControl(m,c[r],i,r,a)),n.add(m)}},_monthTextPositionControl:function(t,e,i,n,o){var a=\"left\",r=\"top\",s=t[0],l=t[1];return\"horizontal\"===i?(l+=o,e&&(a=\"center\"),\"start\"===n&&(r=\"bottom\")):(s+=o,e&&(r=\"middle\"),\"start\"===n&&(a=\"right\")),{x:s,y:l,textAlign:a,textVerticalAlign:r}},_renderMonthText:function(t,e,i){var n=t.getModel(\"monthLabel\");if(n.get(\"show\")){var o=n.get(\"nameMap\"),r=n.get(\"margin\"),s=n.get(\"position\"),l=n.get(\"align\"),h=[this._tlpoints,this._blpoints];_(o)&&(o=Rk[o.toUpperCase()]||[]);var u=\"start\"===s?0:1,c=\"horizontal\"===e?0:1;r=\"start\"===s?-r:r;for(var d=\"center\"===l,f=0;f<h[u].length-1;f++){var p=h[u][f].slice(),g=this._firstDayOfMonth[f];if(d){var m=this._firstDayPoints[f];p[c]=(m[c]+h[0][f+1][c])/2}var v=n.get(\"formatter\"),y=o[+g.m-1],x={yyyy:g.y,yy:(g.y+\"\").slice(2),MM:g.m,M:+g.m,nameMap:y},w=this._formatterLabel(v,x),b=new Cb({z2:30});a(io(b.style,n,{text:w}),this._monthTextPositionControl(p,d,e,s,r)),i.add(b)}}},_weekTextPositionControl:function(t,e,i,n,o){var a=\"center\",r=\"middle\",s=t[0],l=t[1],h=\"start\"===i;return\"horizontal\"===e?(s=s+n+(h?1:-1)*o[0]/2,a=h?\"right\":\"left\"):(l=l+n+(h?1:-1)*o[1]/2,r=h?\"bottom\":\"top\"),{x:s,y:l,textAlign:a,textVerticalAlign:r}},_renderWeekText:function(t,e,i,n){var o=t.getModel(\"dayLabel\");if(o.get(\"show\")){var r=t.coordinateSystem,s=o.get(\"position\"),l=o.get(\"nameMap\"),h=o.get(\"margin\"),u=r.getFirstDayOfWeek();_(l)&&(l=Bk[l.toUpperCase()]||[]);var c=r.getNextNDay(e.end.time,7-e.lweek).time,d=[r.getCellWidth(),r.getCellHeight()];h=To(h,d[\"horizontal\"===i?0:1]),\"start\"===s&&(c=r.getNextNDay(e.start.time,-(7+e.fweek)).time,h=-h);for(var f=0;f<7;f++){var p=r.getNextNDay(c,f),g=r.dataToRect([p.time],!1).center,m=f;m=Math.abs((f+u)%7);var v=new Cb({z2:30});a(io(v.style,o,{text:l[m]}),this._weekTextPositionControl(g,i,s,h,d)),n.add(v)}}}}),gs({type:\"title\",layoutMode:{type:\"box\",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:\"\",target:\"blank\",subtext:\"\",subtarget:\"blank\",left:0,top:0,backgroundColor:\"rgba(0,0,0,0)\",borderColor:\"#ccc\",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:\"bolder\",color:\"#333\"},subtextStyle:{color:\"#aaa\"}}}),ms({type:\"title\",render:function(t,e,i){if(this.group.removeAll(),t.get(\"show\")){var n=this.group,o=t.getModel(\"textStyle\"),a=t.getModel(\"subtextStyle\"),r=t.get(\"textAlign\"),s=t.get(\"textBaseline\"),l=new Cb({style:io({},o,{text:t.get(\"text\"),textFill:o.getTextColor()},{disableBox:!0}),z2:10}),h=l.getBoundingRect(),u=t.get(\"subtext\"),c=new Cb({style:io({},a,{text:u,textFill:a.getTextColor(),y:h.height+t.get(\"itemGap\"),textVerticalAlign:\"top\"},{disableBox:!0}),z2:10}),d=t.get(\"link\"),f=t.get(\"sublink\");l.silent=!d,c.silent=!f,d&&l.on(\"click\",function(){window.open(d,\"_\"+t.get(\"target\"))}),f&&c.on(\"click\",function(){window.open(f,\"_\"+t.get(\"subtarget\"))}),n.add(l),u&&n.add(c);var p=n.getBoundingRect(),g=t.getBoxLayoutParams();g.width=p.width,g.height=p.height;var m=Ko(g,{width:i.getWidth(),height:i.getHeight()},t.get(\"padding\"));r||(\"middle\"===(r=t.get(\"left\")||t.get(\"right\"))&&(r=\"center\"),\"right\"===r?m.x+=m.width:\"center\"===r&&(m.x+=m.width/2)),s||(\"center\"===(s=t.get(\"top\")||t.get(\"bottom\"))&&(s=\"middle\"),\"bottom\"===s?m.y+=m.height:\"middle\"===s&&(m.y+=m.height/2),s=s||\"top\"),n.attr(\"position\",[m.x,m.y]);var v={textAlign:r,textVerticalAlign:s};l.setStyle(v),c.setStyle(v),p=n.getBoundingRect();var y=m.margin,x=t.getItemStyle([\"color\",\"opacity\"]);x.fill=t.get(\"backgroundColor\");var _=new Vb({shape:{x:p.x-y[3],y:p.y-y[0],width:p.width+y[1]+y[3],height:p.height+y[0]+y[2],r:t.get(\"borderRadius\")},style:x,silent:!0});Gn(_),n.add(_)}}}),IS.registerSubTypeDefaulter(\"dataZoom\",function(){return\"slider\"});var Vk=[\"cartesian2d\",\"polar\",\"singleAxis\"],Gk=function(t,e){var i=f(t=t.slice(),Yo),n=f(e=(e||[]).slice(),Yo);return function(o,a){d(t,function(t,r){for(var s={name:t,capital:i[r]},l=0;l<e.length;l++)s[e[l]]=t+n[l];o.call(a,s)})}}([\"x\",\"y\",\"z\",\"radius\",\"angle\",\"single\"],[\"axisIndex\",\"axis\",\"index\",\"id\"]),Wk=d,Fk=Do,Hk=function(t,e,i,n){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=n,this._dataZoomModel=i,this.hasSeriesStacked};Hk.prototype={constructor:Hk,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[],e=this.ecModel;return e.eachSeries(function(i){if(ov(i.get(\"coordinateSystem\"))){var n=this._dimName,o=e.queryComponents({mainType:n+\"Axis\",index:i.get(n+\"AxisIndex\"),id:i.get(n+\"AxisId\")})[0];this._axisIndex===(o&&o.componentIndex)&&t.push(i)}},this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+\"Axis\",this._axisIndex)},getOtherAxisModel:function(){var t,e,i=this._dimName,n=this.ecModel,o=this.getAxisModel();\"x\"===i||\"y\"===i?(e=\"gridIndex\",t=\"x\"===i?\"y\":\"x\"):(e=\"polarIndex\",t=\"angle\"===i?\"radius\":\"angle\");var a;return n.eachComponent(t+\"Axis\",function(t){(t.get(e)||0)===(o.get(e)||0)&&(a=t)}),a},getMinMaxSpan:function(){return i(this._minMaxSpan)},calculateDataWindow:function(t){var e=this._dataExtent,i=this.getAxisModel().axis.scale,n=this._dataZoomModel.getRangePropMode(),o=[0,100],a=[t.start,t.end],r=[];return Wk([\"startValue\",\"endValue\"],function(e){r.push(null!=t[e]?i.parse(t[e]):null)}),Wk([0,1],function(t){var s=r[t],l=a[t];\"percent\"===n[t]?(null==l&&(l=o[t]),s=i.parse(Io(l,o,e,!0))):l=Io(s,e,o,!0),r[t]=s,a[t]=l}),{valueWindow:Fk(r),percentWindow:Fk(a)}},reset:function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=rv(this,this._dimName,e),this.hasSeriesStacked=!1,Wk(e,function(t){var e=t.getData(),i=e.mapDimension(this._dimName);e.isStacked(i)&&(this.hasSeriesStacked=!0)},this);var i=this.calculateDataWindow(t.option);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,hv(this),lv(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,lv(this,!0))},filterData:function(t,e){function i(t){return t>=r[0]&&t<=r[1]}if(t===this._dataZoomModel){var n=this._dimName,o=this.getTargetSeriesModels(),a=t.get(\"filterMode\"),r=this._valueWindow;if(\"none\"!==a){var s=this.getOtherAxisModel();t.get(\"$fromToolbox\")&&s&&s.hasSeriesStacked&&(a=\"empty\"),Wk(o,function(t){var e=t.getData(),o=e.mapDimension(n,!0);\"weakFilter\"===a?e.filterSelf(function(t){for(var i,n,a,s=0;s<o.length;s++){var l=e.get(o[s],t),h=!isNaN(l),u=l<r[0],c=l>r[1];if(h&&!u&&!c)return!0;h&&(a=!0),u&&(i=!0),c&&(n=!0)}return a&&i&&n}):Wk(o,function(n){if(\"empty\"===a)t.setData(e.map(n,function(t){return i(t)?t:NaN}));else{var o={};o[n]=r,e.selectRange(o)}}),Wk(o,function(t){e.setApproximateExtent(r,t)})})}}}};var Zk=d,Uk=Gk,jk=gs({type:\"dataZoom\",dependencies:[\"xAxis\",\"yAxis\",\"zAxis\",\"radiusAxis\",\"angleAxis\",\"singleAxis\",\"series\"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:\"filter\",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=[\"percent\",\"percent\"];var n=uv(t);this.mergeDefaultAndTheme(t,i),this.doInit(n)},mergeOption:function(t){var e=uv(t);n(this.option,t,!0),this.doInit(e)},doInit:function(t){var e=this.option;_x.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),cv(this,t),Zk([[\"start\",\"startValue\"],[\"end\",\"endValue\"]],function(t,i){\"value\"===this._rangePropMode[i]&&(e[t[0]]=null)},this),this.textStyleModel=this.getModel(\"textStyle\"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis(function(e,i,n,o){var a=this.dependentModels[e.axis][i],r=a.__dzAxisProxy||(a.__dzAxisProxy=new Hk(e.name,i,this,o));t[e.name+\"_\"+i]=r},this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();Uk(function(e){var i=e.axisIndex;t[i]=Si(t[i])},this),\"axisIndex\"===e?this._autoSetAxisIndex():\"orient\"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;Uk(function(i){null!=t[i.axisIndex]&&(e=!0)},this);var i=t.orient;return null==i&&e?\"orient\":e?void 0:(null==i&&(t.orient=\"horizontal\"),\"axisIndex\")},_autoSetAxisIndex:function(){var t=!0,e=this.get(\"orient\",!0),i=this.option,n=this.dependentModels;if(t){var o=\"vertical\"===e?\"y\":\"x\";n[o+\"Axis\"].length?(i[o+\"AxisIndex\"]=[0],t=!1):Zk(n.singleAxis,function(n){t&&n.get(\"orient\",!0)===e&&(i.singleAxisIndex=[n.componentIndex],t=!1)})}t&&Uk(function(e){if(t){var n=[],o=this.dependentModels[e.axis];if(o.length&&!n.length)for(var a=0,r=o.length;a<r;a++)\"category\"===o[a].get(\"type\")&&n.push(a);i[e.axisIndex]=n,n.length&&(t=!1)}},this),t&&this.ecModel.eachSeries(function(t){this._isSeriesHasAllAxesTypeOf(t,\"value\")&&Uk(function(e){var n=i[e.axisIndex],o=t.get(e.axisIndex),a=t.get(e.axisId);l(n,o=t.ecModel.queryComponents({mainType:e.axis,index:o,id:a})[0].componentIndex)<0&&n.push(o)})},this)},_autoSetOrient:function(){var t;this.eachTargetAxis(function(e){!t&&(t=e.name)},this),this.option.orient=\"y\"===t?\"vertical\":\"horizontal\"},_isSeriesHasAllAxesTypeOf:function(t,e){var i=!0;return Uk(function(n){var o=t.get(n.axisIndex),a=this.dependentModels[n.axis][o];a&&a.get(\"type\")===e||(i=!1)},this),i},_setDefaultThrottle:function(t){if(t.hasOwnProperty(\"throttle\")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var t;return Uk(function(e){if(null==t){var i=this.get(e.axisIndex);i.length&&(t=this.dependentModels[e.axis][i[0]])}},this),t},eachTargetAxis:function(t,e){var i=this.ecModel;Uk(function(n){Zk(this.get(n.axisIndex),function(o){t.call(e,n,o,this,i)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+\"_\"+e]},getAxisModel:function(t,e){var i=this.getAxisProxy(t,e);return i&&i.getAxisModel()},setRawRange:function(t,e){var i=this.option;Zk([[\"start\",\"startValue\"],[\"end\",\"endValue\"]],function(e){null==t[e[0]]&&null==t[e[1]]||(i[e[0]]=t[e[0]],i[e[1]]=t[e[1]])},this),!e&&cv(this,t)},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var i in e)if(e.hasOwnProperty(i)&&e[i].hostedBy(this))return e[i];for(var i in e)if(e.hasOwnProperty(i)&&!e[i].hostedBy(this))return e[i]},getRangePropMode:function(){return this._rangePropMode.slice()}}),Xk=cM.extend({type:\"dataZoom\",render:function(t,e,i,n){this.dataZoomModel=t,this.ecModel=e,this.api=i},getTargetCoordInfo:function(){function t(t,e,i,n){for(var o,a=0;a<i.length;a++)if(i[a].model===t){o=i[a];break}o||i.push(o={model:t,axisModels:[],coordIndex:n}),o.axisModels.push(e)}var e=this.dataZoomModel,i=this.ecModel,n={};return e.eachTargetAxis(function(e,o){var a=i.getComponent(e.axis,o);if(a){var r=a.getCoordSysModel();r&&t(r,a,n[r.mainType]||(n[r.mainType]=[]),r.componentIndex)}},this),n}}),Yk=(jk.extend({type:\"dataZoom.slider\",layoutMode:\"box\",defaultOption:{show:!0,right:\"ph\",top:\"ph\",width:\"ph\",height:\"ph\",left:null,bottom:null,backgroundColor:\"rgba(47,69,84,0)\",dataBackground:{lineStyle:{color:\"#2f4554\",width:.5,opacity:.3},areaStyle:{color:\"rgba(47,69,84,0.3)\",opacity:.3}},borderColor:\"#ddd\",fillerColor:\"rgba(167,183,204,0.4)\",handleIcon:\"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z\",handleSize:\"100%\",handleStyle:{color:\"#a7b7cc\"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:\"auto\",realtime:!0,zoomLock:!1,textStyle:{color:\"#333\"}}}),Vb),qk=Io,$k=Do,Kk=m,Jk=d,Qk=\"horizontal\",tP=5,eP=[\"line\",\"bar\",\"candlestick\",\"scatter\"],iP=Xk.extend({type:\"dataZoom.slider\",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,i,n){iP.superApply(this,\"render\",arguments),yr(this,\"_dispatchZoomAction\",this.dataZoomModel.get(\"throttle\"),\"fixRate\"),this._orient=t.get(\"orient\"),!1!==this.dataZoomModel.get(\"show\")?(n&&\"dataZoom\"===n.type&&n.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){iP.superApply(this,\"remove\",arguments),xr(this,\"_dispatchZoomAction\")},dispose:function(){iP.superApply(this,\"dispose\",arguments),xr(this,\"_dispatchZoomAction\")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new S_;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,i=this._findCoordRect(),n={width:e.getWidth(),height:e.getHeight()},o=this._orient===Qk?{right:n.width-i.x-i.width,top:n.height-30-7,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},a=ea(t.option);d([\"right\",\"top\",\"width\",\"height\"],function(t){\"ph\"===a[t]&&(a[t]=o[t])});var r=Ko(a,n,t.padding);this._location={x:r.x,y:r.y},this._size=[r.width,r.height],\"vertical\"===this._orient&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get(\"inverse\"),a=this._displayables.barGroup,r=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(i!==Qk||o?i===Qk&&o?{scale:r?[-1,1]:[-1,-1]}:\"vertical\"!==i||o?{scale:r?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:r?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:r?[1,1]:[1,-1]});var s=t.getBoundingRect([a]);t.attr(\"position\",[e.x-s.x,e.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,i=this._displayables.barGroup;i.add(new Yk({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get(\"backgroundColor\")},z2:-40})),i.add(new Yk({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:\"transparent\"},z2:0,onclick:m(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,i=t.series,n=i.getRawData(),o=i.getShadowDim?i.getShadowDim():t.otherDim;if(null!=o){var a=n.getDataExtent(o),s=.3*(a[1]-a[0]);a=[a[0]-s,a[1]+s];var l,h=[0,e[1]],u=[0,e[0]],c=[[e[0],0],[0,0]],d=[],f=u[1]/(n.count()-1),p=0,g=Math.round(n.count()/e[0]);n.each([o],function(t,e){if(g>0&&e%g)p+=f;else{var i=null==t||isNaN(t)||\"\"===t,n=i?0:qk(t,a,h,!0);i&&!l&&e?(c.push([c[c.length-1][0],0]),d.push([d[d.length-1][0],0])):!i&&l&&(c.push([p,0]),d.push([p,0])),c.push([p,n]),d.push([p,n]),p+=f,l=i}});var m=this.dataZoomModel;this._displayables.barGroup.add(new Rb({shape:{points:c},style:r({fill:m.get(\"dataBackgroundColor\")},m.getModel(\"dataBackground.areaStyle\").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new Bb({shape:{points:d},style:m.getModel(\"dataBackground.lineStyle\").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get(\"showDataShadow\");if(!1!==e){var i,n=this.ecModel;return t.eachTargetAxis(function(o,a){d(t.getAxisProxy(o.name,a).getTargetSeriesModels(),function(t){if(!(i||!0!==e&&l(eP,t.get(\"type\"))<0)){var r,s=n.getComponent(o.axis,a).axis,h=dv(o.name),u=t.coordinateSystem;null!=h&&u.getOtherAxis&&(r=u.getOtherAxis(s).inverse),h=t.getData().mapDimension(h),i={thisAxis:s,series:t,thisDim:o.name,otherDim:h,otherAxisInverse:r}}},this)},this),i}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],i=t.handleLabels=[],n=this._displayables.barGroup,o=this._size,a=this.dataZoomModel;n.add(t.filler=new Yk({draggable:!0,cursor:fv(this._orient),drift:Kk(this._onDragMove,this,\"all\"),onmousemove:function(t){Q_(t.event)},ondragstart:Kk(this._showDataInfo,this,!0),ondragend:Kk(this._onDragEnd,this),onmouseover:Kk(this._showDataInfo,this,!0),onmouseout:Kk(this._showDataInfo,this,!1),style:{fill:a.get(\"fillerColor\"),textPosition:\"inside\"}})),n.add(new Yk(Gn({silent:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{stroke:a.get(\"dataBackgroundColor\")||a.get(\"borderColor\"),lineWidth:1,fill:\"rgba(0,0,0,0)\"}}))),Jk([0,1],function(t){var o=xo(a.get(\"handleIcon\"),{cursor:fv(this._orient),draggable:!0,drift:Kk(this._onDragMove,this,t),onmousemove:function(t){Q_(t.event)},ondragend:Kk(this._onDragEnd,this),onmouseover:Kk(this._showDataInfo,this,!0),onmouseout:Kk(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),r=o.getBoundingRect();this._handleHeight=To(a.get(\"handleSize\"),this._size[1]),this._handleWidth=r.width/r.height*this._handleHeight,o.setStyle(a.getModel(\"handleStyle\").getItemStyle());var s=a.get(\"handleColor\");null!=s&&(o.style.fill=s),n.add(e[t]=o);var l=a.textStyleModel;this.group.add(i[t]=new Cb({silent:!0,invisible:!0,style:{x:0,y:0,text:\"\",textVerticalAlign:\"middle\",textAlign:\"center\",textFill:l.getTextColor(),textFont:l.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[qk(t[0],[0,100],e,!0),qk(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var i=this.dataZoomModel,n=this._handleEnds,o=this._getViewExtent(),a=i.findRepresentativeAxisProxy().getMinMaxSpan(),r=[0,100];jD(e,n,o,i.get(\"zoomLock\")?\"all\":t,null!=a.minSpan?qk(a.minSpan,r,o,!0):null,null!=a.maxSpan?qk(a.maxSpan,r,o,!0):null),this._range=$k([qk(n[0],o,r,!0),qk(n[1],o,r,!0)])},_updateView:function(t){var e=this._displayables,i=this._handleEnds,n=$k(i.slice()),o=this._size;Jk([0,1],function(t){var n=e.handles[t],a=this._handleHeight;n.attr({scale:[a/2,a/2],position:[i[t],o[1]/2-a/2]})},this),e.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:o[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){function e(t){var e=po(n.handles[t].parent,this.group),i=mo(0===t?\"right\":\"left\",e),s=this._handleWidth/2+tP,l=go([c[t]+(0===t?-s:s),this._size[1]/2],e);o[t].setStyle({x:l[0],y:l[1],textVerticalAlign:a===Qk?\"middle\":i,textAlign:a===Qk?i:\"center\",text:r[t]})}var i=this.dataZoomModel,n=this._displayables,o=n.handleLabels,a=this._orient,r=[\"\",\"\"];if(i.get(\"showDetail\")){var s=i.findRepresentativeAxisProxy();if(s){var l=s.getAxisModel().axis,h=this._range,u=t?s.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:s.getDataValueWindow();r=[this._formatLabel(u[0],l),this._formatLabel(u[1],l)]}}var c=$k(this._handleEnds.slice());e.call(this,0),e.call(this,1)},_formatLabel:function(t,e){var i=this.dataZoomModel,n=i.get(\"labelFormatter\"),o=i.get(\"labelPrecision\");null!=o&&\"auto\"!==o||(o=e.getPixelPrecision());var a=null==t||isNaN(t)?\"\":\"category\"===e.type||\"time\"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(o,20));return x(n)?n(t,a):_(n)?n.replace(\"{value}\",a):a},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr(\"invisible\",!t),e[1].attr(\"invisible\",!t)},_onDragMove:function(t,e,i){this._dragging=!0;var n=go([e,i],this._displayables.barGroup.getLocalTransform(),!0);this._updateInterval(t,n[0]);var o=this.dataZoomModel.get(\"realtime\");this._updateView(!o),o&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get(\"realtime\")&&this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,i=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>e[0]||i[1]<0||i[1]>e[1])){var n=this._handleEnds,o=(n[0]+n[1])/2;this._updateInterval(\"all\",i[0]-o),this._updateView(),this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:\"dataZoom\",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t;if(Jk(this.getTargetCoordInfo(),function(e){if(!t&&e.length){var i=e[0].model.coordinateSystem;t=i.getRect&&i.getRect()}}),!t){var e=this.api.getWidth(),i=this.api.getHeight();t={x:.2*e,y:.2*i,width:.6*e,height:.6*i}}return t}});jk.extend({type:\"dataZoom.inside\",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});var nP=v,oP=\"\\0_ec_dataZoom_roams\",aP=m,rP=Xk.extend({type:\"dataZoom.inside\",init:function(t,e){this._range},render:function(t,e,i,n){rP.superApply(this,\"render\",arguments),mv(n,t.id)&&(this._range=t.getPercentRange()),d(this.getTargetCoordInfo(),function(e,n){var o=f(e,function(t){return vv(t.model)});d(e,function(e){var a=e.model,r=t.option;pv(i,{coordId:vv(a),allCoordIds:o,containsPoint:function(t,e,i){return a.coordinateSystem.containPoint([e,i])},dataZoomId:t.id,throttleRate:t.get(\"throttle\",!0),panGetRange:aP(this._onPan,this,e,n),zoomGetRange:aP(this._onZoom,this,e,n),zoomLock:r.zoomLock,disabled:r.disabled,roamControllerOpt:{zoomOnMouseWheel:r.zoomOnMouseWheel,moveOnMouseMove:r.moveOnMouseMove,preventDefaultMouseMove:r.preventDefaultMouseMove}})},this)},this)},dispose:function(){gv(this.api,this.dataZoomModel.id),rP.superApply(this,\"dispose\",arguments),this._range=null},_onPan:function(t,e,i,n,o,a,r,s,l){var h=this._range.slice(),u=t.axisModels[0];if(u){var c=sP[e]([a,r],[s,l],u,i,t),d=c.signal*(h[1]-h[0])*c.pixel/c.pixelLength;return jD(d,h,[0,100],\"all\"),this._range=h}},_onZoom:function(t,e,i,n,o,a){var r=this._range.slice(),s=t.axisModels[0];if(s){var l=sP[e](null,[o,a],s,i,t),h=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(r[1]-r[0])+r[0];n=Math.max(1/n,0),r[0]=(r[0]-h)*n+h,r[1]=(r[1]-h)*n+h;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return jD(0,r,[0,100],0,u.minSpan,u.maxSpan),this._range=r}}}),sP={grid:function(t,e,i,n,o){var a=i.axis,r={},s=o.model.coordinateSystem.getRect();return t=t||[0,0],\"x\"===a.dim?(r.pixel=e[0]-t[0],r.pixelLength=s.width,r.pixelStart=s.x,r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=s.height,r.pixelStart=s.y,r.signal=a.inverse?-1:1),r},polar:function(t,e,i,n,o){var a=i.axis,r={},s=o.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),h=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),\"radiusAxis\"===i.mainType?(r.pixel=e[0]-t[0],r.pixelLength=l[1]-l[0],r.pixelStart=l[0],r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=h[1]-h[0],r.pixelStart=h[0],r.signal=a.inverse?-1:1),r},singleAxis:function(t,e,i,n,o){var a=i.axis,r=o.model.coordinateSystem.getRect(),s={};return t=t||[0,0],\"horizontal\"===a.orient?(s.pixel=e[0]-t[0],s.pixelLength=r.width,s.pixelStart=r.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=r.height,s.pixelStart=r.y,s.signal=a.inverse?-1:1),s}};ls({getTargetSeries:function(t){var e=z();return t.eachComponent(\"dataZoom\",function(t){t.eachTargetAxis(function(t,i,n){d(n.getAxisProxy(t.name,i).getTargetSeriesModels(),function(t){e.set(t.uid,t)})})}),e},isOverallFilter:!0,overallReset:function(t,e){t.eachComponent(\"dataZoom\",function(t){t.eachTargetAxis(function(t,i,n){n.getAxisProxy(t.name,i).reset(n,e)}),t.eachTargetAxis(function(t,i,n){n.getAxisProxy(t.name,i).filterData(n,e)})}),t.eachComponent(\"dataZoom\",function(t){var e=t.findRepresentativeAxisProxy(),i=e.getDataPercentWindow(),n=e.getDataValueWindow();t.setRawRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]},!0)})}}),hs(\"dataZoom\",function(t,e){var i=av(m(e.eachComponent,e,\"dataZoom\"),Gk,function(t,e){return t.get(e.axisIndex)}),n=[];e.eachComponent({mainType:\"dataZoom\",query:t},function(t,e){n.push.apply(n,i(t).nodes)}),d(n,function(e,i){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})});var lP=d,hP=function(t){var e=t&&t.visualMap;y(e)||(e=e?[e]:[]),lP(e,function(t){if(t){Tv(t,\"splitList\")&&!Tv(t,\"pieces\")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&y(e)&&lP(e,function(t){w(t)&&(Tv(t,\"start\")&&!Tv(t,\"min\")&&(t.min=t.start),Tv(t,\"end\")&&!Tv(t,\"max\")&&(t.max=t.end))})}})};IS.registerSubTypeDefaulter(\"visualMap\",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?\"piecewise\":\"continuous\"});var uP=FM.VISUAL.COMPONENT;ds(uP,{createOnAllSeries:!0,reset:function(t,e){var i=[];return e.eachComponent(\"visualMap\",function(e){e.isTargetSeries(t)&&i.push(Cm(e.stateList,e.targetVisuals,m(e.getValueState,e),e.getDataDimension(t.getData())))}),i}}),ds(uP,{createOnAllSeries:!0,reset:function(t,e){var i=t.getData(),n=[];e.eachComponent(\"visualMap\",function(e){if(e.isTargetSeries(t)){var o=e.getVisualMeta(m(Av,null,t,e))||{stops:[],outerColors:[]},a=e.getDataDimension(i),r=i.getDimensionInfo(a);null!=r&&(o.dimension=r.index,n.push(o))}}),t.getData().setVisual(\"visualMeta\",n)}});var cP={get:function(t,e,n){var o=i((dP[t]||{})[e]);return n&&y(o)?o[o.length-1]:o}},dP={color:{active:[\"#006edd\",\"#e0ffff\"],inactive:[\"rgba(0,0,0,0)\"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:[\"circle\",\"roundRect\",\"diamond\"],inactive:[\"none\"]},symbolSize:{active:[10,50],inactive:[0,0]}},fP=oD.mapVisual,pP=oD.eachVisual,gP=y,mP=d,vP=Do,yP=Io,xP=B,_P=gs({type:\"visualMap\",dependencies:[\"series\"],stateList:[\"inRange\",\"outOfRange\"],replacableOptionKeys:[\"inRange\",\"outOfRange\",\"target\",\"controller\",\"color\"],dataBound:[-1/0,1/0],layoutMode:{type:\"box\",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:\"all\",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:\"vertical\",backgroundColor:\"rgba(0,0,0,0)\",borderColor:\"#ccc\",contentColor:\"#5793f3\",inactiveColor:\"#aaa\",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:\"#333\"}},init:function(t,e,i){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,i)},optionUpdated:function(t,e){var i=this.option;_x.canvasSupported||(i.realtime=!1),!e&&Am(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel(\"textStyle\"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(t){var e=this.stateList;t=m(t,this),this.controllerVisuals=Tm(this.option.controller,e,t),this.targetVisuals=Tm(this.option.target,e,t)},getTargetSeriesIndices:function(){var t=this.option.seriesIndex,e=[];return null==t||\"all\"===t?this.ecModel.eachSeries(function(t,i){e.push(i)}):e=Si(t),e},eachTargetSeries:function(t,e){d(this.getTargetSeriesIndices(),function(i){t.call(e,this.ecModel.getSeriesByIndex(i))},this)},isTargetSeries:function(t){var e=!1;return this.eachTargetSeries(function(i){i===t&&(e=!0)}),e},formatValueText:function(t,e,i){function n(t){return t===l[0]?\"min\":t===l[1]?\"max\":(+t).toFixed(Math.min(s,20))}var o,a,r=this.option,s=r.precision,l=this.dataBound,h=r.formatter;return i=i||[\"<\",\">\"],y(t)&&(t=t.slice(),o=!0),a=e?t:o?[n(t[0]),n(t[1])]:n(t),_(h)?h.replace(\"{value}\",o?a[0]:a).replace(\"{value2}\",o?a[1]:a):x(h)?o?h(t[0],t[1]):h(t):o?t[0]===l[0]?i[0]+\" \"+a[1]:t[1]===l[1]?i[1]+\" \"+a[0]:a[0]+\" - \"+a[1]:a},resetExtent:function(){var t=this.option,e=vP([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension,i=t.dimensions;if(null!=e||i.length)return t.getDimension(null!=e?e:i.length-1)},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function t(t){gP(o.color)&&!t.inRange&&(t.inRange={color:o.color.slice().reverse()}),t.inRange=t.inRange||{color:e.get(\"gradientColor\")},mP(this.stateList,function(e){var i=t[e];if(_(i)){var n=cP.get(i,\"active\",l);n?(t[e]={},t[e][i]=n):delete t[e]}},this)}var e=this.ecModel,o=this.option,a={inRange:o.inRange,outOfRange:o.outOfRange},r=o.target||(o.target={}),s=o.controller||(o.controller={});n(r,a),n(s,a);var l=this.isCategory();t.call(this,r),t.call(this,s),function(t,e,i){var n=t[e],o=t[i];n&&!o&&(o=t[i]={},mP(n,function(t,e){if(oD.isValidType(e)){var i=cP.get(e,\"inactive\",l);null!=i&&(o[e]=i,\"color\"!==e||o.hasOwnProperty(\"opacity\")||o.hasOwnProperty(\"colorAlpha\")||(o.opacity=[0,0]))}}))}.call(this,r,\"inRange\",\"outOfRange\"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,o=this.get(\"inactiveColor\");mP(this.stateList,function(a){var r=this.itemSize,s=t[a];s||(s=t[a]={color:l?o:[o]}),null==s.symbol&&(s.symbol=e&&i(e)||(l?\"roundRect\":[\"roundRect\"])),null==s.symbolSize&&(s.symbolSize=n&&i(n)||(l?r[0]:[r[0],r[0]])),s.symbol=fP(s.symbol,function(t){return\"none\"===t||\"square\"===t?\"roundRect\":t});var h=s.symbolSize;if(null!=h){var u=-1/0;pP(h,function(t){t>u&&(u=t)}),s.symbolSize=fP(h,function(t){return yP(t,[0,u],[0,r[0]],!0)})}},this)}.call(this,s)},resetItemSize:function(){this.itemSize=[parseFloat(this.get(\"itemWidth\")),parseFloat(this.get(\"itemHeight\"))]},isCategory:function(){return!!this.option.categories},setSelected:xP,getValueState:xP,getVisualMeta:xP}),wP=[20,140],bP=_P.extend({type:\"visualMap.continuous\",defaultOption:{align:\"auto\",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(t,e){bP.superApply(this,\"optionUpdated\",arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod=\"linear\",t.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){bP.superApply(this,\"resetItemSize\",arguments);var t=this.itemSize;\"horizontal\"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=wP[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=wP[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):y(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){_P.prototype.completeVisualOption.apply(this,arguments),d(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=Do((this.get(\"range\")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,i=this.getExtent();return(e[0]<=i[0]||e[0]<=t)&&(e[1]>=i[1]||t<=e[1])?\"inRange\":\"outOfRange\"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(i){var n=[],o=i.getData();o.each(this.getDataDimension(o),function(e,i){t[0]<=e&&e<=t[1]&&n.push(i)},!0,this),e.push({seriesId:i.id,dataIndex:n})},this),e},getVisualMeta:function(t){function e(e,i){o.push({value:e,color:t(e,i)})}for(var i=Dv(0,0,this.getExtent()),n=Dv(0,0,this.option.range.slice()),o=[],a=0,r=0,s=n.length,l=i.length;r<l&&(!n.length||i[r]<=n[0]);r++)i[r]<n[a]&&e(i[r],\"outOfRange\");for(h=1;a<s;a++,h=0)h&&o.length&&e(n[a],\"outOfRange\"),e(n[a],\"inRange\");for(var h=1;r<l;r++)(!n.length||n[n.length-1]<i[r])&&(h&&(o.length&&e(o[o.length-1].value,\"outOfRange\"),h=0),e(i[r],\"outOfRange\"));var u=o.length;return{stops:o,outerColors:[u?o[0].color:\"transparent\",u?o[u-1].color:\"transparent\"]}}}),SP=ms({type:\"visualMap\",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel},render:function(t,e,i,n){this.visualMapModel=t,!1!==t.get(\"show\")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(t){var e=this.visualMapModel,i=dS(e.get(\"padding\")||0),n=t.getBoundingRect();t.add(new Vb({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:e.get(\"backgroundColor\"),stroke:e.get(\"borderColor\"),lineWidth:e.get(\"borderWidth\")}}))},getControllerVisual:function(t,e,i){function n(t){return s[t]}function o(t,e){s[t]=e}var a=(i=i||{}).forceState,r=this.visualMapModel,s={};if(\"symbol\"===e&&(s.symbol=r.get(\"itemSymbol\")),\"color\"===e){var l=r.get(\"contentColor\");s.color=l}var h=r.controllerVisuals[a||r.getValueState(t)];return d(oD.prepareVisualTypes(h),function(a){var r=h[a];i.convertOpacityToAlpha&&\"opacity\"===a&&(a=\"colorAlpha\",r=h.__alphaForOpacity),oD.dependsOn(a,e)&&r&&r.applyVisual(t,n,o)}),s[e]},positionGroup:function(t){var e=this.visualMapModel,i=this.api;Jo(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:B}),MP=Io,IP=d,TP=Math.min,AP=Math.max,DP=12,CP=6,LP=SP.extend({type:\"visualMap.continuous\",init:function(){LP.superApply(this,\"init\",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(t,e,i,n){n&&\"selectDataRange\"===n.type&&n.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get(\"orient\"),this._useHandle=t.get(\"calculable\"),this._resetInterval(),this._renderBar(e);var i=t.get(\"text\");this._renderEndsText(e,i,0),this._renderEndsText(e,i,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,i){if(e){var n=e[1-i];n=null!=n?n+\"\":\"\";var o=this.visualMapModel,a=o.get(\"textGap\"),r=o.itemSize,s=this._shapes.barGroup,l=this._applyTransform([r[0]/2,0===i?-a:r[1]+a],s),h=this._applyTransform(0===i?\"bottom\":\"top\",s),u=this._orient,c=this.visualMapModel.textStyleModel;this.group.add(new Cb({style:{x:l[0],y:l[1],textVerticalAlign:\"horizontal\"===u?\"middle\":h,textAlign:\"horizontal\"===u?h:\"center\",text:n,textFont:c.getFont(),textFill:c.getTextColor()}}))}},_renderBar:function(t){var e=this.visualMapModel,i=this._shapes,n=e.itemSize,o=this._orient,a=this._useHandle,r=Cv(e,this.api,n),s=i.barGroup=this._createBarGroup(r);s.add(i.outOfRange=kv()),s.add(i.inRange=kv(null,a?zv(this._orient):null,m(this._dragHandle,this,\"all\",!1),m(this._dragHandle,this,\"all\",!0)));var l=e.textStyleModel.getTextRect(\"国\"),h=AP(l.width,l.height);a&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(s,0,n,h,o,r),this._createHandle(s,1,n,h,o,r)),this._createIndicator(s,n,h,o),t.add(s)},_createHandle:function(t,e,i,n,o){var a=m(this._dragHandle,this,e,!1),r=m(this._dragHandle,this,e,!0),s=kv(Pv(e,n),zv(this._orient),a,r);s.position[0]=i[0],t.add(s);var l=this.visualMapModel.textStyleModel,h=new Cb({draggable:!0,drift:a,onmousemove:function(t){Q_(t.event)},ondragend:r,style:{x:0,y:0,text:\"\",textFont:l.getFont(),textFill:l.getTextColor()}});this.group.add(h);var u=[\"horizontal\"===o?n/2:1.5*n,\"horizontal\"===o?0===e?-1.5*n:1.5*n:0===e?-n/2:n/2],c=this._shapes;c.handleThumbs[e]=s,c.handleLabelPoints[e]=u,c.handleLabels[e]=h},_createIndicator:function(t,e,i,n){var o=kv([[0,0]],\"move\");o.position[0]=e[0],o.attr({invisible:!0,silent:!0}),t.add(o);var a=this.visualMapModel.textStyleModel,r=new Cb({silent:!0,invisible:!0,style:{x:0,y:0,text:\"\",textFont:a.getFont(),textFill:a.getTextColor()}});this.group.add(r);var s=[\"horizontal\"===n?i/2:CP+3,0],l=this._shapes;l.indicator=o,l.indicatorLabel=r,l.indicatorLabelPoint=s},_dragHandle:function(t,e,i,n){if(this._useHandle){if(this._dragging=!e,!e){var o=this._applyTransform([i,n],this._shapes.barGroup,!0);this._updateInterval(t,o[1]),this._updateView()}e===!this.visualMapModel.get(\"realtime\")&&this.api.dispatchAction({type:\"selectDataRange\",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():Ev(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),i=t.getExtent(),n=[0,t.itemSize[1]];this._handleEnds=[MP(e[0],i,n,!0),MP(e[1],i,n,!0)]},_updateInterval:function(t,e){e=e||0;var i=this.visualMapModel,n=this._handleEnds,o=[0,i.itemSize[1]];jD(e,n,o,t,0);var a=i.getExtent();this._dataInterval=[MP(n[0],o,a,!0),MP(n[1],o,a,!0)]},_updateView:function(t){var e=this.visualMapModel,i=e.getExtent(),n=this._shapes,o=[0,e.itemSize[1]],a=t?o:this._handleEnds,r=this._createBarVisual(this._dataInterval,i,a,\"inRange\"),s=this._createBarVisual(i,i,o,\"outOfRange\");n.inRange.setStyle({fill:r.barColor,opacity:r.opacity}).setShape(\"points\",r.barPoints),n.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape(\"points\",s.barPoints),this._updateHandle(a,r)},_createBarVisual:function(t,e,i,n){var o={forceState:n,convertOpacityToAlpha:!0},a=this._makeColorGradient(t,o),r=[this.getControllerVisual(t[0],\"symbolSize\",o),this.getControllerVisual(t[1],\"symbolSize\",o)],s=this._createBarPoints(i,r);return{barColor:new jb(0,0,0,1,a),barPoints:s,handlesColor:[a[0].color,a[a.length-1].color]}},_makeColorGradient:function(t,e){var i=[],n=(t[1]-t[0])/100;i.push({color:this.getControllerVisual(t[0],\"color\",e),offset:0});for(var o=1;o<100;o++){var a=t[0]+n*o;if(a>t[1])break;i.push({color:this.getControllerVisual(a,\"color\",e),offset:o/100})}return i.push({color:this.getControllerVisual(t[1],\"color\",e),offset:1}),i},_createBarPoints:function(t,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,i=this.visualMapModel.get(\"inverse\");return new S_(\"horizontal\"!==e||i?\"horizontal\"===e&&i?{scale:\"bottom\"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:\"vertical\"!==e||i?{scale:\"left\"===t?[1,1]:[-1,1]}:{scale:\"left\"===t?[1,-1]:[-1,-1]}:{scale:\"bottom\"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(t,e){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,o=i.handleThumbs,a=i.handleLabels;IP([0,1],function(r){var s=o[r];s.setStyle(\"fill\",e.handlesColor[r]),s.position[1]=t[r];var l=go(i.handleLabelPoints[r],po(s,this.group));a[r].setStyle({x:l[0],y:l[1],text:n.formatValueText(this._dataInterval[r]),textVerticalAlign:\"middle\",textAlign:this._applyTransform(\"horizontal\"===this._orient?0===r?\"bottom\":\"top\":\"left\",i.barGroup)})},this)}},_showIndicator:function(t,e,i,n){var o=this.visualMapModel,a=o.getExtent(),r=o.itemSize,s=[0,r[1]],l=MP(t,a,s,!0),h=this._shapes,u=h.indicator;if(u){u.position[1]=l,u.attr(\"invisible\",!1),u.setShape(\"points\",Ov(!!i,n,l,r[1]));var c={convertOpacityToAlpha:!0},d=this.getControllerVisual(t,\"color\",c);u.setStyle(\"fill\",d);var f=go(h.indicatorLabelPoint,po(u,this.group)),p=h.indicatorLabel;p.attr(\"invisible\",!1);var g=this._applyTransform(\"left\",h.barGroup),m=this._orient;p.setStyle({text:(i||\"\")+o.formatValueText(e),textVerticalAlign:\"horizontal\"===m?g:\"middle\",textAlign:\"horizontal\"===m?\"center\":g,x:f[0],y:f[1]})}},_enableHoverLinkToSeries:function(){var t=this;this._shapes.barGroup.on(\"mousemove\",function(e){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,n=t._applyTransform([e.offsetX,e.offsetY],t._shapes.barGroup,!0,!0);n[1]=TP(AP(0,n[1]),i[1]),t._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=i[0])}}).on(\"mouseout\",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on(\"mouseover\",this._hoverLinkFromSeriesMouseOver,this),t.on(\"mouseout\",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(t,e){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var o=[0,n[1]],a=i.getExtent();t=TP(AP(o[0],t),o[1]);var r=Nv(i,a,o),s=[t-r,t+r],l=MP(t,o,a,!0),h=[MP(s[0],o,a,!0),MP(s[1],o,a,!0)];s[0]<o[0]&&(h[0]=-1/0),s[1]>o[1]&&(h[1]=1/0),e&&(h[0]===-1/0?this._showIndicator(l,h[1],\"< \",r):h[1]===1/0?this._showIndicator(l,h[0],\"> \",r):this._showIndicator(l,l,\"≈ \",r));var u=this._hoverLinkDataIndices,c=[];(e||Ev(i))&&(c=this._hoverLinkDataIndices=i.findTargetDataIndices(h));var d=Li(u,c);this._dispatchHighDown(\"downplay\",Lv(d[0])),this._dispatchHighDown(\"highlight\",Lv(d[1]))}},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target,i=this.visualMapModel;if(e&&null!=e.dataIndex){var n=this.ecModel.getSeriesByIndex(e.seriesIndex);if(i.isTargetSeries(n)){var o=n.getData(e.dataType),a=o.get(i.getDataDimension(o),e.dataIndex,!0);isNaN(a)||this._showIndicator(a,a)}}},_hideIndicator:function(){var t=this._shapes;t.indicator&&t.indicator.attr(\"invisible\",!0),t.indicatorLabel&&t.indicatorLabel.attr(\"invisible\",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown(\"downplay\",Lv(t)),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off(\"mouseover\",this._hoverLinkFromSeriesMouseOver),t.off(\"mouseout\",this._hideIndicator)},_applyTransform:function(t,e,i,n){var o=po(e,n?null:this.group);return tS[y(t)?\"applyTransform\":\"transformDirection\"](t,o,i)},_dispatchHighDown:function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});hs({type:\"selectDataRange\",event:\"dataRangeSelected\",update:\"update\"},function(t,e){e.eachComponent({mainType:\"visualMap\",query:t},function(e){e.setSelected(t.selected)})}),ss(hP);var kP=_P.extend({type:\"visualMap.piecewise\",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:\"auto\",itemWidth:20,itemHeight:14,itemSymbol:\"roundRect\",pieceList:null,categories:null,splitNumber:5,selectedMode:\"multiple\",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(t,e){kP.superApply(this,\"optionUpdated\",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();PP[this._mode].call(this),this._resetSelected(t,e);var o=this.option.categories;this.resetVisual(function(t,e){\"categories\"===n?(t.mappingMethod=\"category\",t.categories=i(o)):(t.dataExtent=this.getExtent(),t.mappingMethod=\"piecewise\",t.pieceList=f(this._pieceList,function(t){var t=i(t);return\"inRange\"!==e&&(t.visual=null),t}))})},completeVisualOption:function(){function t(t,e,i){return t&&t[e]&&(w(t[e])?t[e].hasOwnProperty(i):t[e]===i)}var e=this.option,i={},n=oD.listVisualTypes(),o=this.isCategory();d(e.pieces,function(t){d(n,function(e){t.hasOwnProperty(e)&&(i[e]=1)})}),d(i,function(i,n){var a=0;d(this.stateList,function(i){a|=t(e,i,n)||t(e.target,i,n)},this),!a&&d(this.stateList,function(t){(e[t]||(e[t]={}))[n]=cP.get(n,\"inRange\"===t?\"active\":\"inactive\",o)})},this),_P.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(t,e){var i=this.option,n=this._pieceList,o=(e?i:t).selected||{};if(i.selected=o,d(n,function(t,e){var i=this.getSelectedMapKey(t);o.hasOwnProperty(i)||(o[i]=!0)},this),\"single\"===i.selectedMode){var a=!1;d(n,function(t,e){var i=this.getSelectedMapKey(t);o[i]&&(a?o[i]=!1:a=!0)},this)}},getSelectedMapKey:function(t){return\"categories\"===this._mode?t.value+\"\":t.index+\"\"},getPieceList:function(){return this._pieceList},_determineMode:function(){var t=this.option;return t.pieces&&t.pieces.length>0?\"pieces\":this.option.categories?\"categories\":\"splitNumber\"},setSelected:function(t){this.option.selected=i(t)},getValueState:function(t){var e=oD.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?\"inRange\":\"outOfRange\"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(i){var n=[],o=i.getData();o.each(this.getDataDimension(o),function(e,i){oD.findPieceIndex(e,this._pieceList)===t&&n.push(i)},!0,this),e.push({seriesId:i.id,dataIndex:n})},this),e},getRepresentValue:function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var i=t.interval||[];e=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return e},getVisualMeta:function(t){function e(e,a){var r=o.getRepresentValue({interval:e});a||(a=o.getValueState(r));var s=t(r,a);e[0]===-1/0?n[0]=s:e[1]===1/0?n[1]=s:i.push({value:e[0],color:s},{value:e[1],color:s})}if(!this.isCategory()){var i=[],n=[],o=this,a=this._pieceList.slice();if(a.length){var r=a[0].interval[0];r!==-1/0&&a.unshift({interval:[-1/0,r]}),(r=a[a.length-1].interval[1])!==1/0&&a.push({interval:[r,1/0]})}else a.push({interval:[-1/0,1/0]});var s=-1/0;return d(a,function(t){var i=t.interval;i&&(i[0]>s&&e([s,i[0]],\"outOfRange\"),e(i.slice()),s=i[1])},this),{stops:i,outerColors:n}}}}),PP={splitNumber:function(){var t=this.option,e=this._pieceList,i=Math.min(t.precision,20),n=this.getExtent(),o=t.splitNumber;o=Math.max(parseInt(o,10),1),t.splitNumber=o;for(var a=(n[1]-n[0])/o;+a.toFixed(i)!==a&&i<5;)i++;t.precision=i,a=+a.toFixed(i);var r=0;t.minOpen&&e.push({index:r++,interval:[-1/0,n[0]],close:[0,0]});for(var s=n[0],l=r+o;r<l;s+=a){var h=r===o-1?n[1]:s+a;e.push({index:r++,interval:[s,h],close:[1,1]})}t.maxOpen&&e.push({index:r++,interval:[n[1],1/0],close:[0,0]}),Vo(e),d(e,function(t){t.text=this.formatValueText(t.interval)},this)},categories:function(){var t=this.option;d(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),Rv(t,this._pieceList)},pieces:function(){var t=this.option,e=this._pieceList;d(t.pieces,function(t,i){w(t)||(t={value:t});var n={text:\"\",index:i};if(null!=t.label&&(n.text=t.label),t.hasOwnProperty(\"value\")){var o=n.value=t.value;n.interval=[o,o],n.close=[1,1]}else{for(var a=n.interval=[],r=n.close=[0,0],s=[1,0,1],l=[-1/0,1/0],h=[],u=0;u<2;u++){for(var c=[[\"gte\",\"gt\",\"min\"],[\"lte\",\"lt\",\"max\"]][u],d=0;d<3&&null==a[u];d++)a[u]=t[c[d]],r[u]=s[d],h[u]=2===d;null==a[u]&&(a[u]=l[u])}h[0]&&a[1]===1/0&&(r[0]=0),h[1]&&a[0]===-1/0&&(r[1]=0),a[0]===a[1]&&r[0]&&r[1]&&(n.value=a[0])}n.visual=oD.retrieveVisuals(t),e.push(n)},this),Rv(t,e),Vo(e),d(e,function(t){var e=t.close,i=[[\"<\",\"≤\"][e[1]],[\">\",\"≥\"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,i)},this)}};SP.extend({type:\"visualMap.piecewise\",doRender:function(){var t=this.group;t.removeAll();var e=this.visualMapModel,i=e.get(\"textGap\"),n=e.textStyleModel,o=n.getFont(),a=n.getTextColor(),r=this._getItemAlign(),s=e.itemSize,l=this._getViewData(),h=l.endsText,u=T(e.get(\"showLabel\",!0),!h);h&&this._renderEndsText(t,h[0],s,u,r),d(l.viewPieceList,function(n){var l=n.piece,h=new S_;h.onclick=m(this._onItemClick,this,l),this._enableHoverLink(h,n.indexInModelPieceList);var c=e.getRepresentValue(l);if(this._createItemSymbol(h,c,[0,0,s[0],s[1]]),u){var d=this.visualMapModel.getValueState(c);h.add(new Cb({style:{x:\"right\"===r?-i:s[0]+i,y:s[1]/2,text:l.text,textVerticalAlign:\"middle\",textAlign:r,textFont:o,textFill:a,opacity:\"outOfRange\"===d?.5:1}}))}t.add(h)},this),h&&this._renderEndsText(t,h[1],s,u,r),bS(e.get(\"orient\"),t,e.get(\"itemGap\")),this.renderBackground(t),this.positionGroup(t)},_enableHoverLink:function(t,e){function i(t){var i=this.visualMapModel;i.option.hoverLink&&this.api.dispatchAction({type:t,batch:Lv(i.findTargetDataIndices(e))})}t.on(\"mouseover\",m(i,this,\"highlight\")).on(\"mouseout\",m(i,this,\"downplay\"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if(\"vertical\"===e.orient)return Cv(t,this.api,t.itemSize);var i=e.align;return i&&\"auto\"!==i||(i=\"left\"),i},_renderEndsText:function(t,e,i,n,o){if(e){var a=new S_,r=this.visualMapModel.textStyleModel;a.add(new Cb({style:{x:n?\"right\"===o?i[0]:0:i[0]/2,y:i[1]/2,textVerticalAlign:\"middle\",textAlign:n?o:\"center\",text:e,textFont:r.getFont(),textFill:r.getTextColor()}})),t.add(a)}},_getViewData:function(){var t=this.visualMapModel,e=f(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),i=t.get(\"text\"),n=t.get(\"orient\"),o=t.get(\"inverse\");return(\"horizontal\"===n?o:!o)?e.reverse():i&&(i=i.slice().reverse()),{viewPieceList:e,endsText:i}},_createItemSymbol:function(t,e,i){t.add(dl(this.getControllerVisual(e,\"symbol\"),i[0],i[1],i[2],i[3],this.getControllerVisual(e,\"color\")))},_onItemClick:function(t){var e=this.visualMapModel,n=e.option,o=i(n.selected),a=e.getSelectedMapKey(t);\"single\"===n.selectedMode?(o[a]=!0,d(o,function(t,e){o[e]=e===a})):o[a]=!o[a],this.api.dispatchAction({type:\"selectDataRange\",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}});ss(hP);var OP=Wo,NP=Ho,EP=gs({type:\"marker\",dependencies:[\"series\",\"grid\",\"polar\",\"geo\"],init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i),this.mergeOption(t,i,n.createdBySelf,!0)},isAnimationEnabled:function(){if(_x.node)return!1;var t=this.__hostSeries;return this.getShallow(\"animation\")&&t&&t.isAnimationEnabled()},mergeOption:function(t,e,i,n){var o=this.constructor,r=this.mainType+\"Model\";i||e.eachSeries(function(t){var i=t.get(this.mainType),s=t[r];i&&i.data?(s?s.mergeOption(i,e,!0):(n&&Bv(i),d(i.data,function(t){t instanceof Array?(Bv(t[0]),Bv(t[1])):Bv(t)}),a(s=new o(i,this,e),{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),s.__hostSeries=t),t[r]=s):t[r]=null},this)},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=y(i)?f(i,OP).join(\", \"):OP(i),o=e.getName(t),a=NP(this.name);return(null!=i||o)&&(a+=\"<br />\"),o&&(a+=NP(o),null!=i&&(a+=\" : \")),null!=i&&(a+=NP(n)),a},getData:function(){return this._data},setData:function(t){this._data=t}});u(EP,sM),EP.extend({type:\"markPoint\",defaultOption:{zlevel:0,z:5,symbol:\"pin\",symbolSize:50,tooltip:{trigger:\"item\"},label:{show:!0,position:\"inside\"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var zP=l,RP=v,BP={min:RP(Fv,\"min\"),max:RP(Fv,\"max\"),average:RP(Fv,\"average\")},VP=ms({type:\"marker\",init:function(){this.markerGroupMap=z()},render:function(t,e,i){var n=this.markerGroupMap;n.each(function(t){t.__keep=!1});var o=this.type+\"Model\";e.eachSeries(function(t){var n=t[o];n&&this.renderSeries(t,n,e,i)},this),n.each(function(t){!t.__keep&&this.group.remove(t.group)},this)},renderSeries:function(){}});VP.extend({type:\"markPoint\",updateTransform:function(t,e,i){e.eachSeries(function(t){var e=t.markPointModel;e&&(qv(e.getData(),t,i),this.markerGroupMap.get(t.id).updateLayout(e))},this)},renderSeries:function(t,e,i,n){var o=t.coordinateSystem,a=t.id,r=t.getData(),s=this.markerGroupMap,l=s.get(a)||s.set(a,new Ml),h=$v(o,t,e);e.setData(h),qv(e.getData(),t,n),h.each(function(t){var i=h.getItemModel(t),n=i.getShallow(\"symbolSize\");\"function\"==typeof n&&(n=n(e.getRawValue(t),e.getDataParams(t))),h.setItemVisual(t,{symbolSize:n,color:i.get(\"itemStyle.color\")||r.getVisual(\"color\"),symbol:i.getShallow(\"symbol\")})}),l.updateData(h),this.group.add(l.group),h.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e})}),l.__keep=!0,l.group.silent=e.get(\"silent\")||t.get(\"silent\")}}),ss(function(t){t.markPoint=t.markPoint||{}}),EP.extend({type:\"markLine\",defaultOption:{zlevel:0,z:5,symbol:[\"circle\",\"arrow\"],symbolSize:[8,16],precision:2,tooltip:{trigger:\"item\"},label:{show:!0,position:\"end\"},lineStyle:{type:\"dashed\"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:\"linear\"}});var GP=function(t,e,o,r){var s=t.getData(),l=r.type;if(!y(r)&&(\"min\"===l||\"max\"===l||\"average\"===l||null!=r.xAxis||null!=r.yAxis)){var h,u;if(null!=r.yAxis||null!=r.xAxis)h=null!=r.yAxis?\"y\":\"x\",e.getAxis(h),u=T(r.yAxis,r.xAxis);else{var c=Zv(r,s,e,t);h=c.valueDataDim,c.valueAxis,u=Yv(s,h,l)}var d=\"x\"===h?0:1,f=1-d,p=i(r),g={};p.type=null,p.coord=[],g.coord=[],p.coord[f]=-1/0,g.coord[f]=1/0;var m=o.get(\"precision\");m>=0&&\"number\"==typeof u&&(u=+u.toFixed(Math.min(m,20))),p.coord[d]=g.coord[d]=u,r=[p,g,{type:l,valueIndex:r.valueIndex,value:u}]}return r=[Hv(t,r[0]),Hv(t,r[1]),a({},r[2])],r[2].type=r[2].type||\"\",n(r[2],r[0]),n(r[2],r[1]),r};VP.extend({type:\"markLine\",updateTransform:function(t,e,i){e.eachSeries(function(t){var e=t.markLineModel;if(e){var n=e.getData(),o=e.__from,a=e.__to;o.each(function(e){ty(o,e,!0,t,i),ty(a,e,!1,t,i)}),n.each(function(t){n.setItemLayout(t,[o.getItemLayout(t),a.getItemLayout(t)])}),this.markerGroupMap.get(t.id).updateLayout()}},this)},renderSeries:function(t,e,i,n){function o(e,i,o){var a=e.getItemModel(i);ty(e,i,o,t,n),e.setItemVisual(i,{symbolSize:a.get(\"symbolSize\")||g[o?0:1],symbol:a.get(\"symbol\",!0)||p[o?0:1],color:a.get(\"itemStyle.color\")||s.getVisual(\"color\")})}var a=t.coordinateSystem,r=t.id,s=t.getData(),l=this.markerGroupMap,h=l.get(r)||l.set(r,new Fc);this.group.add(h.group);var u=ey(a,t,e),c=u.from,d=u.to,f=u.line;e.__from=c,e.__to=d,e.setData(f);var p=e.get(\"symbol\"),g=e.get(\"symbolSize\");y(p)||(p=[p,p]),\"number\"==typeof g&&(g=[g,g]),u.from.each(function(t){o(c,t,!0),o(d,t,!1)}),f.each(function(t){var e=f.getItemModel(t).get(\"lineStyle.color\");f.setItemVisual(t,{color:e||c.getItemVisual(t,\"color\")}),f.setItemLayout(t,[c.getItemLayout(t),d.getItemLayout(t)]),f.setItemVisual(t,{fromSymbolSize:c.getItemVisual(t,\"symbolSize\"),fromSymbol:c.getItemVisual(t,\"symbol\"),toSymbolSize:d.getItemVisual(t,\"symbolSize\"),toSymbol:d.getItemVisual(t,\"symbol\")})}),h.updateData(f),u.line.eachItemGraphicEl(function(t,i){t.traverse(function(t){t.dataModel=e})}),h.__keep=!0,h.group.silent=e.get(\"silent\")||t.get(\"silent\")}}),ss(function(t){t.markLine=t.markLine||{}}),EP.extend({type:\"markArea\",defaultOption:{zlevel:0,z:1,tooltip:{trigger:\"item\"},animation:!1,label:{show:!0,position:\"top\"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:\"top\"}}}});var WP=function(t,e,i,n){var a=Hv(t,n[0]),r=Hv(t,n[1]),s=T,l=a.coord,h=r.coord;l[0]=s(l[0],-1/0),l[1]=s(l[1],-1/0),h[0]=s(h[0],1/0),h[1]=s(h[1],1/0);var u=o([{},a,r]);return u.coord=[a.coord,r.coord],u.x0=a.x,u.y0=a.y,u.x1=r.x,u.y1=r.y,u},FP=[[\"x0\",\"y0\"],[\"x1\",\"y0\"],[\"x1\",\"y1\"],[\"x0\",\"y1\"]];VP.extend({type:\"markArea\",updateTransform:function(t,e,i){e.eachSeries(function(t){var e=t.markAreaModel;if(e){var n=e.getData();n.each(function(e){var o=f(FP,function(o){return ay(n,e,o,t,i)});n.setItemLayout(e,o),n.getItemGraphicEl(e).setShape(\"points\",o)})}},this)},renderSeries:function(t,e,i,n){var o=t.coordinateSystem,a=t.name,s=t.getData(),l=this.markerGroupMap,h=l.get(a)||l.set(a,{group:new S_});this.group.add(h.group),h.__keep=!0;var u=ry(o,t,e);e.setData(u),u.each(function(e){u.setItemLayout(e,f(FP,function(i){return ay(u,e,i,t,n)})),u.setItemVisual(e,{color:s.getVisual(\"color\")})}),u.diff(h.__data).add(function(t){var e=new Rb({shape:{points:u.getItemLayout(t)}});u.setItemGraphicEl(t,e),h.group.add(e)}).update(function(t,i){var n=h.__data.getItemGraphicEl(i);co(n,{shape:{points:u.getItemLayout(t)}},e,t),h.group.add(n),u.setItemGraphicEl(t,n)}).remove(function(t){var e=h.__data.getItemGraphicEl(t);h.group.remove(e)}).execute(),u.eachItemGraphicEl(function(t,i){var n=u.getItemModel(i),o=n.getModel(\"label\"),a=n.getModel(\"emphasis.label\"),s=u.getItemVisual(i,\"color\");t.useStyle(r(n.getModel(\"itemStyle\").getItemStyle(),{fill:zt(s,.4),stroke:s})),t.hoverStyle=n.getModel(\"emphasis.itemStyle\").getItemStyle(),eo(t.style,t.hoverStyle,o,a,{labelFetcher:e,labelDataIndex:i,defaultText:u.getName(i)||\"\",isRectText:!0,autoColor:s}),to(t,{}),t.dataModel=e}),h.__data=u,h.group.silent=e.get(\"silent\")||t.get(\"silent\")}}),ss(function(t){t.markArea=t.markArea||{}});IS.registerSubTypeDefaulter(\"timeline\",function(){return\"slider\"}),hs({type:\"timelineChange\",event:\"timelineChanged\",update:\"prepareAndUpdate\"},function(t,e){var i=e.getComponent(\"timeline\");return i&&null!=t.currentIndex&&(i.setCurrentIndex(t.currentIndex),!i.get(\"loop\",!0)&&i.isIndexMax()&&i.setPlayState(!1)),e.resetOption(\"timeline\"),r({currentIndex:i.option.currentIndex},t)}),hs({type:\"timelinePlayChange\",event:\"timelinePlayChanged\",update:\"update\"},function(t,e){var i=e.getComponent(\"timeline\");i&&null!=t.playState&&i.setPlayState(t.playState)});var HP=IS.extend({type:\"timeline\",layoutMode:\"box\",defaultOption:{zlevel:0,z:4,show:!0,axisType:\"time\",realtime:!0,left:\"20%\",top:null,right:\"20%\",bottom:0,width:null,height:40,padding:5,controlPosition:\"left\",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:\"#000\"},data:[]},init:function(t,e,i){this._data,this._names,this.mergeDefaultAndTheme(t,i),this._initData()},mergeOption:function(t){HP.superApply(this,\"mergeOption\",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],n=t.axisType,o=this._names=[];if(\"category\"===n){var a=[];d(e,function(t,e){var n,r=Ii(t);w(t)?(n=i(t)).value=e:n=e,a.push(n),_(r)||null!=r&&!isNaN(r)||(r=\"\"),o.push(r+\"\")}),e=a}var r={category:\"ordinal\",time:\"time\"}[n]||\"number\";(this._data=new yI([{name:\"value\",type:r}],this)).initData(e,o)},getData:function(){return this._data},getCategories:function(){if(\"category\"===this.get(\"axisType\"))return this._names.slice()}});u(HP.extend({type:\"timeline.slider\",defaultOption:{backgroundColor:\"rgba(0,0,0,0)\",borderColor:\"#ccc\",borderWidth:0,orient:\"horizontal\",inverse:!1,tooltip:{trigger:\"item\"},symbol:\"emptyCircle\",symbolSize:10,lineStyle:{show:!0,width:2,color:\"#304654\"},label:{position:\"auto\",show:!0,interval:\"auto\",rotate:0,color:\"#304654\"},itemStyle:{color:\"#304654\",borderWidth:1},checkpointStyle:{symbol:\"circle\",symbolSize:13,color:\"#c23531\",borderWidth:5,borderColor:\"rgba(194,53,49, 0.5)\",animation:!0,animationDuration:300,animationEasing:\"quinticInOut\"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:\"left\",playIcon:\"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z\",stopIcon:\"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z\",nextIcon:\"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z\",prevIcon:\"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z\",color:\"#304654\",borderColor:\"#304654\",borderWidth:1},emphasis:{label:{show:!0,color:\"#c23531\"},itemStyle:{color:\"#c23531\"},controlStyle:{color:\"#c23531\",borderColor:\"#c23531\",borderWidth:2}},data:[]}}),sM);var ZP=cM.extend({type:\"timeline\"}),UP=function(t,e,i,n){nT.call(this,t,e,i),this.type=n||\"value\",this._autoLabelInterval,this.model=null};UP.prototype={constructor:UP,getLabelInterval:function(){var t=this.model,e=t.getModel(\"label\"),i=e.get(\"interval\");return null!=i&&\"auto\"!=i?i:((i=this._autoLabelInterval)||(i=this._autoLabelInterval=ll(f(this.scale.getTicks(),this.dataToCoord,this),hl(this,e.get(\"formatter\")),e.getFont(),\"horizontal\"===t.get(\"orient\")?0:90,e.get(\"rotate\"))),i)},isLabelIgnored:function(t){if(\"category\"===this.type){var e=this.getLabelInterval();return\"function\"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}}},h(UP,nT);var jP=m,XP=d,YP=Math.PI;ZP.extend({type:\"timeline.slider\",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(t,e,i,n){if(this.model=t,this.api=i,this.ecModel=e,this.group.removeAll(),t.get(\"show\",!0)){var o=this._layout(t,i),a=this._createGroup(\"mainGroup\"),r=this._createGroup(\"labelGroup\"),s=this._axis=this._createAxis(o,t);t.formatTooltip=function(t){return Ho(s.scale.getLabel(t))},XP([\"AxisLine\",\"AxisTick\",\"Control\",\"CurrentPointer\"],function(e){this[\"_render\"+e](o,a,s,t)},this),this._renderAxisLabel(o,r,s,t),this._position(o,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var i=t.get(\"label.position\"),n=t.get(\"orient\"),o=uy(t,e);null==i||\"auto\"===i?i=\"horizontal\"===n?o.y+o.height/2<e.getHeight()/2?\"-\":\"+\":o.x+o.width/2<e.getWidth()/2?\"+\":\"-\":isNaN(i)&&(i={horizontal:{top:\"-\",bottom:\"+\"},vertical:{left:\"-\",right:\"+\"}}[n][i]);var a={horizontal:\"center\",vertical:i>=0||\"+\"===i?\"left\":\"right\"},r={horizontal:i>=0||\"+\"===i?\"top\":\"bottom\",vertical:\"middle\"},s={horizontal:0,vertical:YP/2},l=\"vertical\"===n?o.height:o.width,h=t.getModel(\"controlStyle\"),u=h.get(\"show\",!0),c=u?h.get(\"itemSize\"):0,d=u?h.get(\"itemGap\"):0,f=c+d,p=t.get(\"label.rotate\")||0;p=p*YP/180;var g,m,v,y,x=h.get(\"position\",!0),_=u&&h.get(\"showPlayBtn\",!0),w=u&&h.get(\"showPrevBtn\",!0),b=u&&h.get(\"showNextBtn\",!0),S=0,M=l;return\"left\"===x||\"bottom\"===x?(_&&(g=[0,0],S+=f),w&&(m=[S,0],S+=f),b&&(v=[M-c,0],M-=f)):(_&&(g=[M-c,0],M-=f),w&&(m=[0,0],S+=f),b&&(v=[M-c,0],M-=f)),y=[S,M],t.get(\"inverse\")&&y.reverse(),{viewRect:o,mainLength:l,orient:n,rotation:s[n],labelRotation:p,labelPosOpt:i,labelAlign:t.get(\"label.align\")||a[n],labelBaseline:t.get(\"label.verticalAlign\")||t.get(\"label.baseline\")||r[n],playPosition:g,prevBtnPosition:m,nextBtnPosition:v,axisExtent:y,controlSize:c,controlGap:d}},_position:function(t,e){function i(t){var e=t.position;t.origin=[c[0][0]-e[0],c[1][0]-e[1]]}function n(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function o(t,e,i,n,o){t[n]+=i[n][o]-e[n][o]}var a=this._mainGroup,r=this._labelGroup,s=t.viewRect;if(\"vertical\"===t.orient){var l=st(),h=s.x,u=s.y+s.height;ct(l,l,[-h,-u]),dt(l,l,-YP/2),ct(l,l,[h,u]),(s=s.clone()).applyTransform(l)}var c=n(s),d=n(a.getBoundingRect()),f=n(r.getBoundingRect()),p=a.position,g=r.position;g[0]=p[0]=c[0][0];var m=t.labelPosOpt;if(isNaN(m))o(p,d,c,1,v=\"+\"===m?0:1),o(g,f,c,1,1-v);else{var v=m>=0?0:1;o(p,d,c,1,v),g[1]=p[1]+m}a.attr(\"position\",p),r.attr(\"position\",g),a.rotation=r.rotation=t.rotation,i(a),i(r)},_createAxis:function(t,e){var i=e.getData(),n=e.get(\"axisType\"),o=sl(e,n),a=i.getDataExtent(\"value\");o.setExtent(a[0],a[1]),this._customizeScale(o,i),o.niceTicks();var r=new UP(\"value\",o,t.axisExtent,n);return r.model=e,r},_customizeScale:function(t,e){t.getTicks=function(){return e.mapArray([\"value\"],function(t){return t})},t.getTicksLabels=function(){return f(this.getTicks(),t.getLabel,t)}},_createGroup:function(t){var e=this[\"_\"+t]=new S_;return this.group.add(e),e},_renderAxisLine:function(t,e,i,n){var o=i.getExtent();n.get(\"lineStyle.show\")&&e.add(new Gb({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:a({lineCap:\"round\"},n.getModel(\"lineStyle\").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,i,n){var o=n.getData(),a=i.scale.getTicks();XP(a,function(t,a){var r=i.dataToCoord(t),s=o.getItemModel(a),l=s.getModel(\"itemStyle\"),h=s.getModel(\"emphasis.itemStyle\"),u={position:[r,0],onclick:jP(this._changeTimeline,this,a)},c=dy(s,l,e,u);to(c,h.getItemStyle()),s.get(\"tooltip\")?(c.dataIndex=a,c.dataModel=n):c.dataIndex=c.dataModel=null},this)},_renderAxisLabel:function(t,e,i,n){var o=n.getModel(\"label\");if(o.get(\"show\")){var a=n.getData(),r=i.scale.getTicks(),s=hl(i,o.get(\"formatter\")),l=i.getLabelInterval();XP(r,function(n,o){if(!i.isLabelIgnored(o,l)){var r=a.getItemModel(o),h=r.getModel(\"label\"),u=r.getModel(\"emphasis.label\"),c=i.dataToCoord(n),d=new Cb({position:[c,0],rotation:t.labelRotation-t.rotation,onclick:jP(this._changeTimeline,this,o),silent:!1});io(d.style,h,{text:s[o],textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline}),e.add(d),to(d,io({},u))}},this)}},_renderControl:function(t,e,i,n){function o(t,i,o,u){if(t){var c=cy(n,i,h,{position:t,origin:[a/2,0],rotation:u?-r:0,rectHover:!0,style:s,onclick:o});e.add(c),to(c,l)}}var a=t.controlSize,r=t.rotation,s=n.getModel(\"controlStyle\").getItemStyle(),l=n.getModel(\"emphasis.controlStyle\").getItemStyle(),h=[0,-a/2,a,a],u=n.getPlayState(),c=n.get(\"inverse\",!0);o(t.nextBtnPosition,\"controlStyle.nextIcon\",jP(this._changeTimeline,this,c?\"-\":\"+\")),o(t.prevBtnPosition,\"controlStyle.prevIcon\",jP(this._changeTimeline,this,c?\"+\":\"-\")),o(t.playPosition,\"controlStyle.\"+(u?\"stopIcon\":\"playIcon\"),jP(this._handlePlayClick,this,!u),!0)},_renderCurrentPointer:function(t,e,i,n){var o=n.getData(),a=n.getCurrentIndex(),r=o.getItemModel(a).getModel(\"checkpointStyle\"),s=this,l={onCreate:function(t){t.draggable=!0,t.drift=jP(s._handlePointerDrag,s),t.ondragend=jP(s._handlePointerDragend,s),fy(t,a,i,n,!0)},onUpdate:function(t){fy(t,a,i,n)}};this._currentPointer=dy(r,r,this._mainGroup,{},this._currentPointer,l)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:\"timelinePlayChange\",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var i=this._toAxisCoord(t)[0],n=Do(this._axis.getExtent().slice());i>n[1]&&(i=n[1]),i<n[0]&&(i=n[0]),this._currentPointer.position[0]=i,this._currentPointer.dirty();var o=this._findNearestTick(i),a=this.model;(e||o!==a.getCurrentIndex()&&a.get(\"realtime\"))&&this._changeTimeline(o)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(jP(function(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get(\"rewind\",!0)?-1:1))},this),this.model.get(\"playInterval\")))},_toAxisCoord:function(t){return go(t,this._mainGroup.getLocalTransform(),!0)},_findNearestTick:function(t){var e,i=this.model.getData(),n=1/0,o=this._axis;return i.each([\"value\"],function(i,a){var r=o.dataToCoord(i),s=Math.abs(r-t);s<n&&(n=s,e=a)}),e},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();\"+\"===t?t=e+1:\"-\"===t&&(t=e-1),this.api.dispatchAction({type:\"timelineChange\",currentIndex:t,from:this.uid})}}),ss(function(t){var e=t&&t.timeline;y(e)||(e=e?[e]:[]),d(e,function(t){t&&sy(t)})});var qP=gs({type:\"toolbox\",layoutMode:{type:\"box\",ignoreSize:!0},mergeDefaultAndTheme:function(t){qP.superApply(this,\"mergeDefaultAndTheme\",arguments),d(this.option.feature,function(t,e){var i=Qm(e);i&&n(t,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:\"horizontal\",left:\"right\",top:\"top\",backgroundColor:\"transparent\",borderColor:\"#ccc\",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:\"#666\",color:\"none\"},emphasis:{iconStyle:{borderColor:\"#3E98C5\"}}}});ms({type:\"toolbox\",render:function(t,e,i,n){function o(o,r){var s,c=u[o],d=u[r],f=new _o(l[c],t,t.ecModel);if(c&&!d){if(py(c))s={model:f,onclick:f.option.onclick,featureName:c};else{var p=Qm(c);if(!p)return;s=new p(f,e,i)}h[c]=s}else{if(!(s=h[d]))return;s.model=f,s.ecModel=e,s.api=i}c||!d?f.get(\"show\")&&!s.unusable?(a(f,s,c),f.setIconStatus=function(t,e){var i=this.option,n=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[t]=e,n[t]&&n[t].trigger(e)},s.render&&s.render(f,e,i,n)):s.remove&&s.remove(e,i):s.dispose&&s.dispose(e,i)}function a(n,o,a){var l=n.getModel(\"iconStyle\"),h=n.getModel(\"emphasis.iconStyle\"),u=o.getIcons?o.getIcons():n.get(\"icon\"),c=n.get(\"title\")||{};if(\"string\"==typeof u){var f=u,p=c;c={},(u={})[a]=f,c[a]=p}var g=n.iconPaths={};d(u,function(a,u){var d=xo(a,{},{x:-s/2,y:-s/2,width:s,height:s});d.setStyle(l.getItemStyle()),d.hoverStyle=h.getItemStyle(),to(d),t.get(\"showTitle\")&&(d.__title=c[u],d.on(\"mouseover\",function(){var t=h.getItemStyle();d.setStyle({text:c[u],textPosition:t.textPosition||\"bottom\",textFill:t.fill||t.stroke||\"#000\",textAlign:t.textAlign||\"center\"})}).on(\"mouseout\",function(){d.setStyle({textFill:null})})),d.trigger(n.get(\"iconStatus.\"+u)||\"normal\"),r.add(d),d.on(\"click\",m(o.onclick,o,e,i,u)),g[u]=d})}var r=this.group;if(r.removeAll(),t.get(\"show\")){var s=+t.get(\"itemSize\"),l=t.get(\"feature\")||{},h=this._features||(this._features={}),u=[];d(l,function(t,e){u.push(e)}),new ws(this._featureNames||[],u).add(o).update(o).remove(v(o,null)).execute(),this._featureNames=u,Xg(r,t,i),r.add(Yg(r.getBoundingRect(),t)),r.eachChild(function(t){var e=t.__title,n=t.hoverStyle;if(n&&e){var o=me(e,ke(n)),a=t.position[0]+r.position[0],l=!1;t.position[1]+r.position[1]+s+o.height>i.getHeight()&&(n.textPosition=\"top\",l=!0);var h=l?-5-o.height:s+8;a+o.width/2>i.getWidth()?(n.textPosition=[\"100%\",h],n.textAlign=\"right\"):a-o.width/2<0&&(n.textPosition=[0,h],n.textAlign=\"left\")}})}},updateView:function(t,e,i,n){d(this._features,function(t){t.updateView&&t.updateView(t.model,e,i,n)})},remove:function(t,e){d(this._features,function(i){i.remove&&i.remove(t,e)}),this.group.removeAll()},dispose:function(t,e){d(this._features,function(i){i.dispose&&i.dispose(t,e)})}});var $P=wM.toolbox.saveAsImage;gy.defaultOption={show:!0,icon:\"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0\",title:$P.title,type:\"png\",name:\"\",excludeComponents:[\"toolbox\"],pixelRatio:1,lang:$P.lang.slice()},gy.prototype.unusable=!_x.canvasSupported,gy.prototype.onclick=function(t,e){var i=this.model,n=i.get(\"name\")||t.get(\"title.0.text\")||\"echarts\",o=document.createElement(\"a\"),a=i.get(\"type\",!0)||\"png\";o.download=n+\".\"+a,o.target=\"_blank\";var r=e.getConnectedDataURL({type:a,backgroundColor:i.get(\"backgroundColor\",!0)||t.get(\"backgroundColor\")||\"#fff\",excludeComponents:i.get(\"excludeComponents\"),pixelRatio:i.get(\"pixelRatio\")});if(o.href=r,\"function\"!=typeof MouseEvent||_x.browser.ie||_x.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(r.split(\",\")[1]),l=s.length,h=new Uint8Array(l);l--;)h[l]=s.charCodeAt(l);var u=new Blob([h]);window.navigator.msSaveOrOpenBlob(u,n+\".\"+a)}else{var c=i.get(\"lang\"),d='<body style=\"margin:0;\"><img src=\"'+r+'\" style=\"max-width:100%;\" title=\"'+(c&&c[0]||\"\")+'\" /></body>';window.open().document.write(d)}else{var f=new MouseEvent(\"click\",{view:window,bubbles:!0,cancelable:!1});o.dispatchEvent(f)}},Jm(\"saveAsImage\",gy);var KP=wM.toolbox.magicType;my.defaultOption={show:!0,type:[],icon:{line:\"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4\",bar:\"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7\",stack:\"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z\",tiled:\"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z\"},title:i(KP.title),option:{},seriesIndex:{}};var JP=my.prototype;JP.getIcons=function(){var t=this.model,e=t.get(\"icon\"),i={};return d(t.get(\"type\"),function(t){e[t]&&(i[t]=e[t])}),i};var QP={line:function(t,e,i,o){if(\"bar\"===t)return n({id:e,type:\"line\",data:i.get(\"data\"),stack:i.get(\"stack\"),markPoint:i.get(\"markPoint\"),markLine:i.get(\"markLine\")},o.get(\"option.line\")||{},!0)},bar:function(t,e,i,o){if(\"line\"===t)return n({id:e,type:\"bar\",data:i.get(\"data\"),stack:i.get(\"stack\"),markPoint:i.get(\"markPoint\"),markLine:i.get(\"markLine\")},o.get(\"option.bar\")||{},!0)},stack:function(t,e,i,o){if(\"line\"===t||\"bar\"===t)return n({id:e,stack:\"__ec_magicType_stack__\"},o.get(\"option.stack\")||{},!0)},tiled:function(t,e,i,o){if(\"line\"===t||\"bar\"===t)return n({id:e,stack:\"\"},o.get(\"option.tiled\")||{},!0)}},tO=[[\"line\",\"bar\"],[\"stack\",\"tiled\"]];JP.onclick=function(t,e,i){var n=this.model,o=n.get(\"seriesIndex.\"+i);if(QP[i]){var a={series:[]};d(tO,function(t){l(t,i)>=0&&d(t,function(t){n.setIconStatus(t,\"normal\")})}),n.setIconStatus(i,\"emphasis\"),t.eachComponent({mainType:\"series\",query:null==o?null:{seriesIndex:o}},function(e){var o=e.subType,s=e.id,l=QP[i](o,s,e,n);l&&(r(l,e.option),a.series.push(l));var h=e.coordinateSystem;if(h&&\"cartesian2d\"===h.type&&(\"line\"===i||\"bar\"===i)){var u=h.getAxesByScale(\"ordinal\")[0];if(u){var c=u.dim+\"Axis\",d=t.queryComponents({mainType:c,index:e.get(name+\"Index\"),id:e.get(name+\"Id\")})[0].componentIndex;a[c]=a[c]||[];for(var f=0;f<=d;f++)a[c][d]=a[c][d]||{};a[c][d].boundaryGap=\"bar\"===i}}}),e.dispatchAction({type:\"changeMagicType\",currentType:i,newOption:a})}},hs({type:\"changeMagicType\",event:\"magicTypeChanged\",update:\"prepareAndUpdate\"},function(t,e){e.mergeOption(t.newOption)}),Jm(\"magicType\",my);var eO=wM.toolbox.dataView,iO=new Array(60).join(\"-\"),nO=\"\\t\",oO=new RegExp(\"[\"+nO+\"]+\",\"g\");Ty.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:\"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28\",title:i(eO.title),lang:i(eO.lang),backgroundColor:\"#fff\",textColor:\"#000\",textareaColor:\"#fff\",textareaBorderColor:\"#333\",buttonColor:\"#c23531\",buttonTextColor:\"#fff\"},Ty.prototype.onclick=function(t,e){function i(){n.removeChild(a),x._dom=null}var n=e.getDom(),o=this.model;this._dom&&n.removeChild(this._dom);var a=document.createElement(\"div\");a.style.cssText=\"position:absolute;left:5px;top:5px;bottom:5px;right:5px;\",a.style.backgroundColor=o.get(\"backgroundColor\")||\"#fff\";var r=document.createElement(\"h4\"),s=o.get(\"lang\")||[];r.innerHTML=s[0]||o.get(\"title\"),r.style.cssText=\"margin: 10px 20px;\",r.style.color=o.get(\"textColor\");var l=document.createElement(\"div\"),h=document.createElement(\"textarea\");l.style.cssText=\"display:block;width:100%;overflow:auto;\";var u=o.get(\"optionToContent\"),c=o.get(\"contentToOption\"),d=_y(t);if(\"function\"==typeof u){var f=u(e.getOption());\"string\"==typeof f?l.innerHTML=f:M(f)&&l.appendChild(f)}else l.appendChild(h),h.readOnly=o.get(\"readOnly\"),h.style.cssText=\"width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;\",h.style.color=o.get(\"textColor\"),h.style.borderColor=o.get(\"textareaBorderColor\"),h.style.backgroundColor=o.get(\"textareaColor\"),h.value=d.value;var p=d.meta,g=document.createElement(\"div\");g.style.cssText=\"position:absolute;bottom:0;left:0;right:0;\";var m=\"float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px\",v=document.createElement(\"div\"),y=document.createElement(\"div\");m+=\";background-color:\"+o.get(\"buttonColor\"),m+=\";color:\"+o.get(\"buttonTextColor\");var x=this;hi(v,\"click\",i),hi(y,\"click\",function(){var t;try{t=\"function\"==typeof c?c(l,e.getOption()):Iy(h.value,p)}catch(t){throw i(),new Error(\"Data view format error \"+t)}t&&e.dispatchAction({type:\"changeDataView\",newOption:t}),i()}),v.innerHTML=s[1],y.innerHTML=s[2],y.style.cssText=m,v.style.cssText=m,!o.get(\"readOnly\")&&g.appendChild(y),g.appendChild(v),hi(h,\"keydown\",function(t){if(9===(t.keyCode||t.which)){var e=this.value,i=this.selectionStart,n=this.selectionEnd;this.value=e.substring(0,i)+nO+e.substring(n),this.selectionStart=this.selectionEnd=i+1,Q_(t)}}),a.appendChild(r),a.appendChild(l),a.appendChild(g),l.style.height=n.clientHeight-80+\"px\",n.appendChild(a),this._dom=a},Ty.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},Ty.prototype.dispose=function(t,e){this.remove(t,e)},Jm(\"dataView\",Ty),hs({type:\"changeDataView\",event:\"dataViewChanged\",update:\"prepareAndUpdate\"},function(t,e){var i=[];d(t.newOption.series,function(t){var n=e.getSeriesByName(t.name)[0];if(n){var o=n.get(\"data\");i.push({name:t.name,data:Ay(t.data,o)})}else i.push(a({type:\"scatter\"},t))}),e.mergeOption(r({series:i},t.newOption))});var aO=d,rO=\"\\0_ec_hist_store\";jk.extend({type:\"dataZoom.select\"}),Xk.extend({type:\"dataZoom.select\"});var sO=wM.toolbox.dataZoom,lO=d,hO=\"\\0_ec_\\0toolbox-dataZoom_\";Oy.defaultOption={show:!0,icon:{zoom:\"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1\",back:\"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26\"},title:i(sO.title)};var uO=Oy.prototype;uO.render=function(t,e,i,n){this.model=t,this.ecModel=e,this.api=i,zy(t,e,this,n,i),Ey(t,e)},uO.onclick=function(t,e,i){cO[i].call(this)},uO.remove=function(t,e){this._brushController.unmount()},uO.dispose=function(t,e){this._brushController.dispose()};var cO={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:\"takeGlobalCursor\",key:\"dataZoomSelect\",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(Cy(this.ecModel))}};uO._onBrush=function(t,e){function i(t,e,i){var r=e.getAxis(t),s=r.model,l=n(t,s,a),h=l.findRepresentativeAxisProxy(s).getMinMaxSpan();null==h.minValueSpan&&null==h.maxValueSpan||(i=jD(0,i.slice(),r.scale.getExtent(),0,h.minValueSpan,h.maxValueSpan)),l&&(o[l.id]={dataZoomId:l.id,startValue:i[0],endValue:i[1]})}function n(t,e,i){var n;return i.eachComponent({mainType:\"dataZoom\",subType:\"select\"},function(i){i.getAxisModel(t,e.componentIndex)&&(n=i)}),n}if(e.isEnd&&t.length){var o={},a=this.ecModel;this._brushController.updateCovers([]),new zm(Ny(this.model.option),a,{include:[\"grid\"]}).matchOutputRanges(t,a,function(t,e,n){if(\"cartesian2d\"===n.type){var o=t.brushType;\"rect\"===o?(i(\"x\",n,e[0]),i(\"y\",n,e[1])):i({lineX:\"x\",lineY:\"y\"}[o],n,e)}}),Dy(a,o),this._dispatchZoomAction(o)}},uO._dispatchZoomAction=function(t){var e=[];lO(t,function(t,n){e.push(i(t))}),e.length&&this.api.dispatchAction({type:\"dataZoom\",from:this.uid,batch:e})},Jm(\"dataZoom\",Oy),ss(function(t){function e(t,e){if(e){var o=t+\"Index\",a=e[o];null==a||\"all\"==a||y(a)||(a=!1===a||\"none\"===a?[]:[a]),i(t,function(e,i){if(null==a||\"all\"==a||-1!==l(a,i)){var r={type:\"select\",$fromToolbox:!0,id:hO+t+i};r[o]=i,n.push(r)}})}}function i(e,i){var n=t[e];y(n)||(n=n?[n]:[]),lO(n,i)}if(t){var n=t.dataZoom||(t.dataZoom=[]);y(n)||(t.dataZoom=n=[n]);var o=t.toolbox;if(o&&(y(o)&&(o=o[0]),o&&o.feature)){var a=o.feature.dataZoom;e(\"xAxis\",a),e(\"yAxis\",a)}}});var dO=wM.toolbox.restore;Ry.defaultOption={show:!0,icon:\"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5\",title:dO.title},Ry.prototype.onclick=function(t,e,i){Ly(t),e.dispatchAction({type:\"restore\",from:this.uid})},Jm(\"restore\",Ry),hs({type:\"restore\",event:\"restore\",update:\"prepareAndUpdate\"},function(t,e){e.resetOption(\"recreate\")});var fO,pO=\"urn:schemas-microsoft-com:vml\",gO=\"undefined\"==typeof window?null:window,mO=!1,vO=gO&&gO.document;if(vO&&!_x.canvasSupported)try{!vO.namespaces.zrvml&&vO.namespaces.add(\"zrvml\",pO),fO=function(t){return vO.createElement(\"<zrvml:\"+t+' class=\"zrvml\">')}}catch(t){fO=function(t){return vO.createElement(\"<\"+t+' xmlns=\"'+pO+'\" class=\"zrvml\">')}}var yO=ab.CMD,xO=Math.round,_O=Math.sqrt,wO=Math.abs,bO=Math.cos,SO=Math.sin,MO=Math.max;if(!_x.canvasSupported){var IO=21600,TO=IO/2,AO=function(t){t.style.cssText=\"position:absolute;left:0;top:0;width:1px;height:1px;\",t.coordsize=IO+\",\"+IO,t.coordorigin=\"0,0\"},DO=function(t){return String(t).replace(/&/g,\"&amp;\").replace(/\"/g,\"&quot;\")},CO=function(t,e,i){return\"rgb(\"+[t,e,i].join(\",\")+\")\"},LO=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},kO=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},PO=function(t,e,i){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+i},OO=function(t,e){return\"string\"==typeof t?t.lastIndexOf(\"%\")>=0?parseFloat(t)/100*e:parseFloat(t):t},NO=function(t,e,i){var n=Dt(e);i=+i,isNaN(i)&&(i=1),n&&(t.color=CO(n[0],n[1],n[2]),t.opacity=i*n[3])},EO=function(t){var e=Dt(t);return[CO(e[0],e[1],e[2]),e[3]]},zO=function(t,e,i){var n=e.fill;if(null!=n)if(n instanceof Ub){var o,a=0,r=[0,0],s=0,l=1,h=i.getBoundingRect(),u=h.width,c=h.height;if(\"linear\"===n.type){o=\"gradient\";var d=i.transform,f=[n.x*u,n.y*c],p=[n.x2*u,n.y2*c];d&&(Q(f,f,d),Q(p,p,d));var g=p[0]-f[0],m=p[1]-f[1];(a=180*Math.atan2(g,m)/Math.PI)<0&&(a+=360),a<1e-6&&(a=0)}else{o=\"gradientradial\";var f=[n.x*u,n.y*c],d=i.transform,v=i.scale,y=u,x=c;r=[(f[0]-h.x)/y,(f[1]-h.y)/x],d&&Q(f,f,d),y/=v[0]*IO,x/=v[1]*IO;var _=MO(y,x);s=0/_,l=2*n.r/_-s}var w=n.colorStops.slice();w.sort(function(t,e){return t.offset-e.offset});for(var b=w.length,S=[],M=[],I=0;I<b;I++){var T=w[I],A=EO(T.color);M.push(T.offset*l+s+\" \"+A[0]),0!==I&&I!==b-1||S.push(A)}if(b>=2){var D=S[0][0],C=S[1][0],L=S[0][1]*e.opacity,k=S[1][1]*e.opacity;t.type=o,t.method=\"none\",t.focus=\"100%\",t.angle=a,t.color=D,t.color2=C,t.colors=M.join(\",\"),t.opacity=k,t.opacity2=L}\"radial\"===o&&(t.focusposition=r.join(\",\"))}else NO(t,n,e.opacity)},RO=function(t,e){null!=e.lineDash&&(t.dashstyle=e.lineDash.join(\" \")),null==e.stroke||e.stroke instanceof Ub||NO(t,e.stroke,e.opacity)},BO=function(t,e,i,n){var o=\"fill\"==e,a=t.getElementsByTagName(e)[0];null!=i[e]&&\"none\"!==i[e]&&(o||!o&&i.lineWidth)?(t[o?\"filled\":\"stroked\"]=\"true\",i[e]instanceof Ub&&kO(t,a),a||(a=By(e)),o?zO(a,i,n):RO(a,i),LO(t,a)):(t[o?\"filled\":\"stroked\"]=\"false\",kO(t,a))},VO=[[],[],[]],GO=function(t,e){var i,n,o,a,r,s,l=yO.M,h=yO.C,u=yO.L,c=yO.A,d=yO.Q,f=[],p=t.data,g=t.len();for(a=0;a<g;){switch(o=p[a++],n=\"\",i=0,o){case l:n=\" m \",i=1,r=p[a++],s=p[a++],VO[0][0]=r,VO[0][1]=s;break;case u:n=\" l \",i=1,r=p[a++],s=p[a++],VO[0][0]=r,VO[0][1]=s;break;case d:case h:n=\" c \",i=3;var m,v,y=p[a++],x=p[a++],_=p[a++],w=p[a++];o===d?(m=_,v=w,_=(_+2*y)/3,w=(w+2*x)/3,y=(r+2*y)/3,x=(s+2*x)/3):(m=p[a++],v=p[a++]),VO[0][0]=y,VO[0][1]=x,VO[1][0]=_,VO[1][1]=w,VO[2][0]=m,VO[2][1]=v,r=m,s=v;break;case c:var b=0,S=0,M=1,I=1,T=0;e&&(b=e[4],S=e[5],M=_O(e[0]*e[0]+e[1]*e[1]),I=_O(e[2]*e[2]+e[3]*e[3]),T=Math.atan2(-e[1]/I,e[0]/M));var A=p[a++],D=p[a++],C=p[a++],L=p[a++],k=p[a++]+T,P=p[a++]+k+T;a++;var O=p[a++],N=A+bO(k)*C,E=D+SO(k)*L,y=A+bO(P)*C,x=D+SO(P)*L,z=O?\" wa \":\" at \";Math.abs(N-y)<1e-4&&(Math.abs(P-k)>.01?O&&(N+=.0125):Math.abs(E-D)<1e-4?O&&N<A||!O&&N>A?x-=.0125:x+=.0125:O&&E<D||!O&&E>D?y+=.0125:y-=.0125),f.push(z,xO(((A-C)*M+b)*IO-TO),\",\",xO(((D-L)*I+S)*IO-TO),\",\",xO(((A+C)*M+b)*IO-TO),\",\",xO(((D+L)*I+S)*IO-TO),\",\",xO((N*M+b)*IO-TO),\",\",xO((E*I+S)*IO-TO),\",\",xO((y*M+b)*IO-TO),\",\",xO((x*I+S)*IO-TO)),r=y,s=x;break;case yO.R:var R=VO[0],B=VO[1];R[0]=p[a++],R[1]=p[a++],B[0]=R[0]+p[a++],B[1]=R[1]+p[a++],e&&(Q(R,R,e),Q(B,B,e)),R[0]=xO(R[0]*IO-TO),B[0]=xO(B[0]*IO-TO),R[1]=xO(R[1]*IO-TO),B[1]=xO(B[1]*IO-TO),f.push(\" m \",R[0],\",\",R[1],\" l \",B[0],\",\",R[1],\" l \",B[0],\",\",B[1],\" l \",R[0],\",\",B[1]);break;case yO.Z:f.push(\" x \")}if(i>0){f.push(n);for(var V=0;V<i;V++){var G=VO[V];e&&Q(G,G,e),f.push(xO(G[0]*IO-TO),\",\",xO(G[1]*IO-TO),V<i-1?\",\":\"\")}}}return f.join(\"\")};Mn.prototype.brushVML=function(t){var e=this.style,i=this._vmlEl;i||(i=By(\"shape\"),AO(i),this._vmlEl=i),BO(i,\"fill\",e,this),BO(i,\"stroke\",e,this);var n=this.transform,o=null!=n,a=i.getElementsByTagName(\"stroke\")[0];if(a){var r=e.lineWidth;if(o&&!e.strokeNoScale){var s=n[0]*n[3]-n[1]*n[2];r*=_O(wO(s))}a.weight=r+\"px\"}var l=this.path||(this.path=new ab);this.__dirtyPath&&(l.beginPath(),this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),i.path=GO(l,this.transform),i.style.zIndex=PO(this.zlevel,this.z,this.z2),LO(t,i),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},Mn.prototype.onRemove=function(t){kO(t,this._vmlEl),this.removeRectText(t)},Mn.prototype.onAdd=function(t){LO(t,this._vmlEl),this.appendRectText(t)};var WO=function(t){return\"object\"==typeof t&&t.tagName&&\"IMG\"===t.tagName.toUpperCase()};Je.prototype.brushVML=function(t){var e,i,n=this.style,o=n.image;if(WO(o)){var a=o.src;if(a===this._imageSrc)e=this._imageWidth,i=this._imageHeight;else{var r=o.runtimeStyle,s=r.width,l=r.height;r.width=\"auto\",r.height=\"auto\",e=o.width,i=o.height,r.width=s,r.height=l,this._imageSrc=a,this._imageWidth=e,this._imageHeight=i}o=a}else o===this._imageSrc&&(e=this._imageWidth,i=this._imageHeight);if(o){var h=n.x||0,u=n.y||0,c=n.width,d=n.height,f=n.sWidth,p=n.sHeight,g=n.sx||0,m=n.sy||0,v=f&&p,y=this._vmlEl;y||(y=vO.createElement(\"div\"),AO(y),this._vmlEl=y);var x,_=y.style,w=!1,b=1,S=1;if(this.transform&&(x=this.transform,b=_O(x[0]*x[0]+x[1]*x[1]),S=_O(x[2]*x[2]+x[3]*x[3]),w=x[1]||x[2]),w){var M=[h,u],I=[h+c,u],T=[h,u+d],A=[h+c,u+d];Q(M,M,x),Q(I,I,x),Q(T,T,x),Q(A,A,x);var D=MO(M[0],I[0],T[0],A[0]),C=MO(M[1],I[1],T[1],A[1]),L=[];L.push(\"M11=\",x[0]/b,\",\",\"M12=\",x[2]/S,\",\",\"M21=\",x[1]/b,\",\",\"M22=\",x[3]/S,\",\",\"Dx=\",xO(h*b+x[4]),\",\",\"Dy=\",xO(u*S+x[5])),_.padding=\"0 \"+xO(D)+\"px \"+xO(C)+\"px 0\",_.filter=\"progid:DXImageTransform.Microsoft.Matrix(\"+L.join(\"\")+\", SizingMethod=clip)\"}else x&&(h=h*b+x[4],u=u*S+x[5]),_.filter=\"\",_.left=xO(h)+\"px\",_.top=xO(u)+\"px\";var k=this._imageEl,P=this._cropEl;k||(k=vO.createElement(\"div\"),this._imageEl=k);var O=k.style;if(v){if(e&&i)O.width=xO(b*e*c/f)+\"px\",O.height=xO(S*i*d/p)+\"px\";else{var N=new Image,E=this;N.onload=function(){N.onload=null,e=N.width,i=N.height,O.width=xO(b*e*c/f)+\"px\",O.height=xO(S*i*d/p)+\"px\",E._imageWidth=e,E._imageHeight=i,E._imageSrc=o},N.src=o}P||((P=vO.createElement(\"div\")).style.overflow=\"hidden\",this._cropEl=P);var z=P.style;z.width=xO((c+g*c/f)*b),z.height=xO((d+m*d/p)*S),z.filter=\"progid:DXImageTransform.Microsoft.Matrix(Dx=\"+-g*c/f*b+\",Dy=\"+-m*d/p*S+\")\",P.parentNode||y.appendChild(P),k.parentNode!=P&&P.appendChild(k)}else O.width=xO(b*c)+\"px\",O.height=xO(S*d)+\"px\",y.appendChild(k),P&&P.parentNode&&(y.removeChild(P),this._cropEl=null);var R=\"\",B=n.opacity;B<1&&(R+=\".Alpha(opacity=\"+xO(100*B)+\") \"),R+=\"progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\"+o+\", SizingMethod=scale)\",O.filter=R,y.style.zIndex=PO(this.zlevel,this.z,this.z2),LO(t,y),null!=n.text&&this.drawRectText(t,this.getBoundingRect())}},Je.prototype.onRemove=function(t){kO(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},Je.prototype.onAdd=function(t){LO(t,this._vmlEl),this.appendRectText(t)};var FO,HO={},ZO=0,UO=document.createElement(\"div\"),jO=function(t){var e=HO[t];if(!e){ZO>100&&(ZO=0,HO={});var i,n=UO.style;try{n.font=t,i=n.fontFamily.split(\",\")[0]}catch(t){}e={style:n.fontStyle||\"normal\",variant:n.fontVariant||\"normal\",weight:n.fontWeight||\"normal\",size:0|parseFloat(n.fontSize||12),family:i||\"Microsoft YaHei\"},HO[t]=e,ZO++}return e};!function(t,e){H_[t]=e}(\"measureText\",function(t,e){var i=vO;FO||((FO=i.createElement(\"div\")).style.cssText=\"position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;\",vO.body.appendChild(FO));try{FO.style.font=e}catch(t){}return FO.innerHTML=\"\",FO.appendChild(i.createTextNode(t)),{width:FO.offsetWidth}});for(var XO=new Kt,YO=[X_,Ke,Je,Mn,Cb],qO=0;qO<YO.length;qO++){var $O=YO[qO].prototype;$O.drawRectText=function(t,e,i,n){var o=this.style;this.__dirty&&Oe(o);var a=o.text;if(null!=a&&(a+=\"\"),a){if(o.rich){var r=Ce(a,o);a=[];for(var s=0;s<r.lines.length;s++){for(var l=r.lines[s].tokens,h=[],u=0;u<l.length;u++)h.push(l[u].text);a.push(h.join(\"\"))}a=a.join(\"\\n\")}var c,d,f=o.textAlign,p=o.textVerticalAlign,g=jO(o.font),m=g.style+\" \"+g.variant+\" \"+g.weight+\" \"+g.size+'px \"'+g.family+'\"';i=i||me(a,m,f,p);var v=this.transform;if(v&&!n&&(XO.copy(e),XO.applyTransform(v),e=XO),n)c=e.x,d=e.y;else{var y=o.textPosition,x=o.textDistance;if(y instanceof Array)c=e.x+OO(y[0],e.width),d=e.y+OO(y[1],e.height),f=f||\"left\";else{var _=we(y,e,x);c=_.x,d=_.y,f=f||_.textAlign,p=p||_.textVerticalAlign}}c=xe(c,i.width,f),d=_e(d,i.height,p),d+=i.height/2;var w,b,S,M=By,I=this._textVmlEl;I?b=(w=(S=I.firstChild).nextSibling).nextSibling:(I=M(\"line\"),w=M(\"path\"),b=M(\"textpath\"),S=M(\"skew\"),b.style[\"v-text-align\"]=\"left\",AO(I),w.textpathok=!0,b.on=!0,I.from=\"0 0\",I.to=\"1000 0.05\",LO(I,S),LO(I,w),LO(I,b),this._textVmlEl=I);var T=[c,d],A=I.style;v&&n?(Q(T,T,v),S.on=!0,S.matrix=v[0].toFixed(3)+\",\"+v[2].toFixed(3)+\",\"+v[1].toFixed(3)+\",\"+v[3].toFixed(3)+\",0,0\",S.offset=(xO(T[0])||0)+\",\"+(xO(T[1])||0),S.origin=\"0 0\",A.left=\"0px\",A.top=\"0px\"):(S.on=!1,A.left=xO(c)+\"px\",A.top=xO(d)+\"px\"),b.string=DO(a);try{b.style.font=m}catch(t){}BO(I,\"fill\",{fill:o.textFill,opacity:o.opacity},this),BO(I,\"stroke\",{stroke:o.textStroke,opacity:o.opacity,lineDash:o.lineDash},this),I.style.zIndex=PO(this.zlevel,this.z,this.z2),LO(t,I)}},$O.removeRectText=function(t){kO(t,this._textVmlEl),this._textVmlEl=null},$O.appendRectText=function(t){LO(t,this._textVmlEl)}}Cb.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},Cb.prototype.onRemove=function(t){this.removeRectText(t)},Cb.prototype.onAdd=function(t){this.appendRectText(t)}}Wy.prototype={constructor:Wy,getType:function(){return\"vml\"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,i=0;i<t.length;i++){var n=t[i];n.invisible||n.ignore?(n.__alreadyNotVisible||n.onRemove(e),n.__alreadyNotVisible=!0):(n.__alreadyNotVisible&&n.onAdd(e),n.__alreadyNotVisible=!1,n.__dirty&&(n.beforeBrush&&n.beforeBrush(),(n.brushVML||n.brush).call(n,e),n.afterBrush&&n.afterBrush())),n.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){var t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!=t||this._height!=e){this._width=t,this._height=e;var i=this._vmlViewport.style;i.width=t+\"px\",i.height=e+\"px\"}},dispose:function(){this.root.innerHTML=\"\",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||Gy(e.width))-Gy(e.paddingLeft)-Gy(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||Gy(e.height))-Gy(e.paddingTop)-Gy(e.paddingBottom)|0}},d([\"getLayer\",\"insertLayer\",\"eachLayer\",\"eachBuiltinLayer\",\"eachOtherLayer\",\"getLayers\",\"modLayer\",\"delLayer\",\"clearLayer\",\"toDataURL\",\"pathToImage\"],function(t){Wy.prototype[t]=Fy(t)}),wi(\"vml\",Wy);var KO=\"http://www.w3.org/2000/svg\",JO=ab.CMD,QO=Array.prototype.join,tN=\"none\",eN=Math.round,iN=Math.sin,nN=Math.cos,oN=Math.PI,aN=2*Math.PI,rN=180/oN,sN=1e-4,lN={};lN.brush=function(t){var e=t.style,i=t.__svgEl;i||(i=Hy(\"path\"),t.__svgEl=i),t.path||t.createPathProxy();var n=t.path;if(t.__dirtyPath){n.beginPath(),t.buildPath(n,t.shape),t.__dirtyPath=!1;var o=Jy(n);o.indexOf(\"NaN\")<0&&qy(i,\"d\",o)}Ky(i,e),Yy(i,t.transform),null!=e.text&&dN(t,t.getBoundingRect())};var hN={};hN.brush=function(t){var e=t.style,i=e.image;if(i instanceof HTMLImageElement&&(i=i.src),i){var n=e.x||0,o=e.y||0,a=e.width,r=e.height,s=t.__svgEl;s||(s=Hy(\"image\"),t.__svgEl=s),i!==t.__imageSrc&&($y(s,\"href\",i),t.__imageSrc=i),qy(s,\"width\",a),qy(s,\"height\",r),qy(s,\"x\",n),qy(s,\"y\",o),Yy(s,t.transform),null!=e.text&&dN(t,t.getBoundingRect())}};var uN={},cN=new Kt,dN=function(t,e,i){var n=t.style;t.__dirty&&Oe(n);var o=n.text;if(null!=o){o+=\"\";var a=t.__textSvgEl;if(a||(a=Hy(\"text\"),t.__textSvgEl=a),Ky(a,n,!0),t instanceof Cb||t.style.transformText)Yy(a,t.transform);else if(t.transform)cN.copy(e),cN.applyTransform(t.transform),e=cN;else{var r=t.transformCoordToGlobal(e.x,e.y);e.x=r[0],e.y=r[1]}var s,l,h=n.textPosition,u=n.textDistance,c=n.textAlign||\"left\";\"number\"==typeof n.fontSize&&(n.fontSize+=\"px\");var d=n.font||[n.fontStyle||\"\",n.fontWeight||\"\",n.fontSize||\"\",n.fontFamily||\"\"].join(\" \")||F_,f=Qy(n.textVerticalAlign),p=(i=me(o,d,c,f)).lineHeight;if(h instanceof Array)s=e.x+h[0],l=e.y+h[1];else{var g=we(h,e,u);s=g.x,l=g.y,f=Qy(g.textVerticalAlign),c=g.textAlign}qy(a,\"alignment-baseline\",f),d&&(a.style.font=d);var m=n.textPadding;qy(a,\"x\",s),qy(a,\"y\",l);var v=o.split(\"\\n\"),y=v.length,x=c;\"left\"===x?(x=\"start\",m&&(s+=m[3])):\"right\"===x?(x=\"end\",m&&(s-=m[1])):\"center\"===x&&(x=\"middle\",m&&(s+=(m[3]-m[1])/2));var _=0;if(\"baseline\"===f?(_=-i.height+p,m&&(_-=m[2])):\"middle\"===f?(_=(-i.height+p)/2,m&&(l+=(m[0]-m[2])/2)):m&&(_+=m[0]),t.__text!==o||t.__textFont!==d){var w=t.__tspanList||[];t.__tspanList=w;for(S=0;S<y;S++)(M=w[S])?M.innerHTML=\"\":(M=w[S]=Hy(\"tspan\"),a.appendChild(M),qy(M,\"alignment-baseline\",f),qy(M,\"text-anchor\",x)),qy(M,\"x\",s),qy(M,\"y\",l+S*p+_),M.appendChild(document.createTextNode(v[S]));for(;S<w.length;S++)a.removeChild(w[S]);w.length=y,t.__text=o,t.__textFont=d}else if(t.__tspanList.length)for(var b=t.__tspanList.length,S=0;S<b;++S){var M=t.__tspanList[S];M&&(qy(M,\"x\",s),qy(M,\"y\",l+S*p+_))}}};uN.drawRectText=dN,uN.brush=function(t){var e=t.style;null!=e.text&&(e.textPosition=[0,0],dN(t,{x:e.x||0,y:e.y||0,width:0,height:0},t.getBoundingRect()))},tx.prototype={diff:function(t,e,i){i||(i=function(t,e){return t===e}),this.equals=i;var n=this;t=t.slice();var o=(e=e.slice()).length,a=t.length,r=1,s=o+a,l=[{newPos:-1,components:[]}],h=this.extractCommon(l[0],e,t,0);if(l[0].newPos+1>=o&&h+1>=a){for(var u=[],c=0;c<e.length;c++)u.push(c);return[{indices:u,count:e.length}]}for(;r<=s;){var d=function(){for(var i=-1*r;i<=r;i+=2){var s,h=l[i-1],u=l[i+1],c=(u?u.newPos:0)-i;h&&(l[i-1]=void 0);var d=h&&h.newPos+1<o,f=u&&0<=c&&c<a;if(d||f){if(!d||f&&h.newPos<u.newPos?(s=ix(u),n.pushComponent(s.components,void 0,!0)):((s=h).newPos++,n.pushComponent(s.components,!0,void 0)),c=n.extractCommon(s,e,t,i),s.newPos+1>=o&&c+1>=a)return ex(0,s.components);l[i]=s}else l[i]=void 0}r++}();if(d)return d}},pushComponent:function(t,e,i){var n=t[t.length-1];n&&n.added===e&&n.removed===i?t[t.length-1]={count:n.count+1,added:e,removed:i}:t.push({count:1,added:e,removed:i})},extractCommon:function(t,e,i,n){for(var o=e.length,a=i.length,r=t.newPos,s=r-n,l=0;r+1<o&&s+1<a&&this.equals(e[r+1],i[s+1]);)r++,s++,l++;return l&&t.components.push({count:l}),t.newPos=r,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var fN=new tx,pN=function(t,e,i){return fN.diff(t,e,i)};nx.prototype.createElement=Hy,nx.prototype.getDefs=function(t){var e=this._svgRoot,i=this._svgRoot.getElementsByTagName(\"defs\");return 0===i.length?t?((i=e.insertBefore(this.createElement(\"defs\"),e.firstChild)).contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var n=e.length-1;n>=0;--n)if(e[n]===t)return!0;return!1}),i):null:i[0]},nx.prototype.update=function(t,e){if(t){var i=this.getDefs(!1);if(t[this._domName]&&i.contains(t[this._domName]))\"function\"==typeof e&&e(t);else{var n=this.add(t);n&&(t[this._domName]=n)}}},nx.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},nx.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},nx.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return d(this._tagNames,function(i){var n=t.getElementsByTagName(i);e=e.concat([].slice.call(n))}),e},nx.prototype.markAllUnused=function(){var t=this;d(this.getDoms(),function(e){e[t._markLabel]=\"0\"})},nx.prototype.markUsed=function(t){t&&(t[this._markLabel]=\"1\")},nx.prototype.removeUnused=function(){var t=this.getDefs(!1);if(t){var e=this;d(this.getDoms(),function(i){\"1\"!==i[e._markLabel]&&t.removeChild(i)})}},nx.prototype.getSvgProxy=function(t){return t instanceof Mn?lN:t instanceof Je?hN:t instanceof Cb?uN:lN},nx.prototype.getTextSvgElement=function(t){return t.__textSvgEl},nx.prototype.getSvgElement=function(t){return t.__svgEl},h(ox,nx),ox.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var i=this;d([\"fill\",\"stroke\"],function(n){if(e.style[n]&&(\"linear\"===e.style[n].type||\"radial\"===e.style[n].type)){var o,a=e.style[n],r=i.getDefs(!0);a._dom?(o=a._dom,r.contains(a._dom)||i.addDom(o)):o=i.add(a),i.markUsed(e);var s=o.getAttribute(\"id\");t.setAttribute(n,\"url(#\"+s+\")\")}})}},ox.prototype.add=function(t){var e;if(\"linear\"===t.type)e=this.createElement(\"linearGradient\");else{if(\"radial\"!==t.type)return v_(\"Illegal gradient type.\"),null;e=this.createElement(\"radialGradient\")}return t.id=t.id||this.nextId++,e.setAttribute(\"id\",\"zr\"+this._zrId+\"-gradient-\"+t.id),this.updateDom(t,e),this.addDom(e),e},ox.prototype.update=function(t){var e=this;nx.prototype.update.call(this,t,function(){var i=t.type,n=t._dom.tagName;\"linear\"===i&&\"linearGradient\"===n||\"radial\"===i&&\"radialGradient\"===n?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))})},ox.prototype.updateDom=function(t,e){if(\"linear\"===t.type)e.setAttribute(\"x1\",t.x),e.setAttribute(\"y1\",t.y),e.setAttribute(\"x2\",t.x2),e.setAttribute(\"y2\",t.y2);else{if(\"radial\"!==t.type)return void v_(\"Illegal gradient type.\");e.setAttribute(\"cx\",t.x),e.setAttribute(\"cy\",t.y),e.setAttribute(\"r\",t.r)}t.global?e.setAttribute(\"gradientUnits\",\"userSpaceOnUse\"):e.setAttribute(\"gradientUnits\",\"objectBoundingBox\"),e.innerHTML=\"\";for(var i=t.colorStops,n=0,o=i.length;n<o;++n){var a=this.createElement(\"stop\");a.setAttribute(\"offset\",100*i[n].offset+\"%\"),a.setAttribute(\"stop-color\",i[n].color),e.appendChild(a)}t._dom=e},ox.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&nx.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&nx.prototype.markUsed.call(this,e._dom)}},h(ax,nx),ax.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var i=this.getTextSvgElement(t);i&&this.updateDom(i,t.__clipPaths,!0),this.markUsed(t)},ax.prototype.updateDom=function(t,e,i){if(e&&e.length>0){var n,o,a=this.getDefs(!0),r=e[0],s=i?\"_textDom\":\"_dom\";r[s]?(o=r[s].getAttribute(\"id\"),n=r[s],a.contains(n)||a.appendChild(n)):(o=\"zr\"+this._zrId+\"-clip-\"+this.nextId,++this.nextId,(n=this.createElement(\"clipPath\")).setAttribute(\"id\",o),a.appendChild(n),r[s]=n);var l=this.getSvgProxy(r);if(r.transform&&r.parent.invTransform&&!i){var h=Array.prototype.slice.call(r.transform);ut(r.transform,r.parent.invTransform,r.transform),l.brush(r),r.transform=h}else l.brush(r);var u=this.getSvgElement(r);n.innerHTML=\"\",n.appendChild(u.cloneNode()),t.setAttribute(\"clip-path\",\"url(#\"+o+\")\"),e.length>1&&this.updateDom(n,e.slice(1),i)}else t&&t.setAttribute(\"clip-path\",\"none\")},ax.prototype.markUsed=function(t){var e=this;t.__clipPaths&&t.__clipPaths.length>0&&d(t.__clipPaths,function(t){t._dom&&nx.prototype.markUsed.call(e,t._dom),t._textDom&&nx.prototype.markUsed.call(e,t._textDom)})},h(rx,nx),rx.prototype.addWithoutUpdate=function(t,e){if(e&&sx(e.style)){var i,n=e.style;n._shadowDom?(i=n._shadowDom,this.getDefs(!0).contains(n._shadowDom)||this.addDom(i)):i=this.add(e),this.markUsed(e);var o=i.getAttribute(\"id\");t.style.filter=\"url(#\"+o+\")\"}},rx.prototype.add=function(t){var e=this.createElement(\"filter\"),i=t.style;return i._shadowDomId=i._shadowDomId||this.nextId++,e.setAttribute(\"id\",\"zr\"+this._zrId+\"-shadow-\"+i._shadowDomId),this.updateDom(t,e),this.addDom(e),e},rx.prototype.update=function(t,e){var i=e.style;if(sx(i)){var n=this;nx.prototype.update.call(this,e,function(t){n.updateDom(e,t._shadowDom)})}else this.remove(t,i)},rx.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(e),t.style.filter=\"\")},rx.prototype.updateDom=function(t,e){var i=e.getElementsByTagName(\"feDropShadow\");i=0===i.length?this.createElement(\"feDropShadow\"):i[0];var n,o,a,r,s=t.style,l=t.scale?t.scale[0]||1:1,h=t.scale?t.scale[1]||1:1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)n=s.shadowOffsetX||0,o=s.shadowOffsetY||0,a=s.shadowBlur,r=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);n=s.textShadowOffsetX||0,o=s.textShadowOffsetY||0,a=s.textShadowBlur,r=s.textShadowColor}i.setAttribute(\"dx\",n/l),i.setAttribute(\"dy\",o/h),i.setAttribute(\"flood-color\",r);var u=a/2/l+\" \"+a/2/h;i.setAttribute(\"stdDeviation\",u),e.setAttribute(\"x\",\"-100%\"),e.setAttribute(\"y\",\"-100%\"),e.setAttribute(\"width\",Math.ceil(a/2*200)+\"%\"),e.setAttribute(\"height\",Math.ceil(a/2*200)+\"%\"),e.appendChild(i),s._shadowDom=e},rx.prototype.markUsed=function(t){var e=t.style;e&&e._shadowDom&&nx.prototype.markUsed.call(this,e._shadowDom)};var gN=function(t,e,i,n){this.root=t,this.storage=e,this._opts=i=a({},i||{});var o=Hy(\"svg\");o.setAttribute(\"xmlns\",\"http://www.w3.org/2000/svg\"),o.setAttribute(\"version\",\"1.1\"),o.setAttribute(\"baseProfile\",\"full\"),o.style.cssText=\"user-select:none;position:absolute;left:0;top:0;\",this.gradientManager=new ox(n,o),this.clipPathManager=new ax(n,o),this.shadowManager=new rx(n,o);var r=document.createElement(\"div\");r.style.cssText=\"overflow:hidden;position:relative\",this._svgRoot=o,this._viewport=r,t.appendChild(r),r.appendChild(o),this.resize(i.width,i.height),this._visibleList=[]};gN.prototype={constructor:gN,getType:function(){return\"svg\"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var e,i=this._svgRoot,n=this._visibleList,o=t.length,a=[];for(e=0;e<o;e++){var r=hx(f=t[e]),s=gx(f)||px(f);f.invisible||(f.__dirty&&(r&&r.brush(f),this.clipPathManager.update(f),f.style&&(this.gradientManager.update(f.style.fill),this.gradientManager.update(f.style.stroke),this.shadowManager.update(s,f)),f.__dirty=!1),a.push(f))}var l,h=pN(n,a);for(e=0;e<h.length;e++)if((c=h[e]).removed)for(d=0;d<c.count;d++){var s=gx(f=n[c.indices[d]]),u=px(f);fx(i,s),fx(i,u)}for(e=0;e<h.length;e++){var c=h[e];if(c.added)for(d=0;d<c.count;d++){var s=gx(f=a[c.indices[d]]),u=px(f);l?cx(i,s,l):dx(i,s),s?cx(i,u,s):l?cx(i,u,l):dx(i,u),cx(i,u,s),l=u||s||l,this.gradientManager.addWithoutUpdate(s,f),this.shadowManager.addWithoutUpdate(l,f),this.clipPathManager.markUsed(f)}else if(!c.removed)for(var d=0;d<c.count;d++){var f=a[c.indices[d]];l=s=px(f)||gx(f)||l,this.gradientManager.markUsed(f),this.gradientManager.addWithoutUpdate(s,f),this.shadowManager.markUsed(f),this.shadowManager.addWithoutUpdate(s,f),this.clipPathManager.markUsed(f)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=a},_getDefs:function(t){var e=this._svgRoot,i=this._svgRoot.getElementsByTagName(\"defs\");return 0===i.length?t?((i=e.insertBefore(Hy(\"defs\"),e.firstChild)).contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var n=e.length-1;n>=0;--n)if(e[n]===t)return!0;return!1}),i):null:i[0]},resize:function(t,e){var i=this._viewport;i.style.display=\"none\";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display=\"\",this._width!==t||this._height!==e){this._width=t,this._height=e;var o=i.style;o.width=t+\"px\",o.height=e+\"px\";var a=this._svgRoot;a.setAttribute(\"width\",t),a.setAttribute(\"height\",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=[\"width\",\"height\"][t],n=[\"clientWidth\",\"clientHeight\"][t],o=[\"paddingLeft\",\"paddingTop\"][t],a=[\"paddingRight\",\"paddingBottom\"][t];if(null!=e[i]&&\"auto\"!==e[i])return parseFloat(e[i]);var r=this.root,s=document.defaultView.getComputedStyle(r);return(r[n]||lx(s[i])||lx(r.style[i]))-(lx(s[o])||0)-(lx(s[a])||0)|0},dispose:function(){this.root.innerHTML=\"\",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToSvg:function(){this.refresh();var t=this._svgRoot.outerHTML;return\"data:img/svg+xml;utf-8,\"+unescape(t)}},d([\"getLayer\",\"insertLayer\",\"eachLayer\",\"eachBuiltinLayer\",\"eachOtherLayer\",\"getLayers\",\"modLayer\",\"delLayer\",\"clearLayer\",\"toDataURL\",\"pathToImage\"],function(t){gN.prototype[t]=mx(t)}),wi(\"svg\",gN),t.version=\"4.0.2\",t.dependencies=BM,t.PRIORITY=FM,t.init=function(t,e,i){var n=as(t);if(n)return n;var o=new Rr(t,e,i);return o.id=\"ec_\"+aI++,nI[o.id]=o,Ei(t,sI,o.id),ns(o),o},t.connect=function(t){if(y(t)){var e=t;t=null,NM(e,function(e){null!=e.group&&(t=e.group)}),t=t||\"g_\"+rI++,NM(e,function(e){e.group=t})}return oI[t]=!0,t},t.disConnect=os,t.disconnect=hI,t.dispose=function(t){\"string\"==typeof t?t=nI[t]:t instanceof Rr||(t=as(t)),t instanceof Rr&&!t.isDisposed()&&t.dispose()},t.getInstanceByDom=as,t.getInstanceById=function(t){return nI[t]},t.registerTheme=rs,t.registerPreprocessor=ss,t.registerProcessor=ls,t.registerPostUpdate=function(t){QM.push(t)},t.registerAction=hs,t.registerCoordinateSystem=us,t.getCoordinateSystemDimensions=function(t){var e=Aa.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},t.registerLayout=cs,t.registerVisual=ds,t.registerLoading=ps,t.extendComponentModel=gs,t.extendComponentView=ms,t.extendSeriesModel=vs,t.extendChartView=ys,t.setCanvasCreator=function(t){e(\"createCanvas\",t)},t.registerMap=function(t,e,i){e.geoJson&&!e.features&&(i=e.specialAreas,e=e.geoJson),\"string\"==typeof e&&(e=\"undefined\"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function(\"return (\"+e+\");\")()),lI[t]={geoJson:e,specialAreas:i}},t.getMap=xs,t.dataTool=uI,t.zrender=fw,t.graphic=tS,t.number=cS,t.format=yS,t.throttle=vr,t.helper=JI,t.matrix=Yx,t.vector=Wx,t.color=c_,t.parseGeoJSON=tT,t.parseGeoJson=oT,t.util=aT,t.List=yI,t.Model=_o,t.Axis=nT,t.env=_x});\n\n;!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports,require(\"echarts\")):\"function\"==typeof define&&define.amd?define([\"exports\",\"echarts\"],e):e(t.bmap={},t.echarts)}(this,function(t,e){\"use strict\";function o(t,e){this._bmap=t,this.dimensions=[\"lng\",\"lat\"],this._mapOffset=[0,0],this._api=e,this._projection=new BMap.MercatorProjection}function n(t,o){return o=o||[0,0],e.util.map([0,1],function(e){var n=o[e],i=t[e]/2,a=[],r=[];return a[e]=n-i,r[e]=n+i,a[1-e]=r[1-e]=o[1-e],Math.abs(this.dataToPoint(a)[e]-this.dataToPoint(r)[e])},this)}function i(){function t(t){this._root=t}return t.prototype=new BMap.Overlay,t.prototype.initialize=function(t){return t.getPanes().labelPane.appendChild(this._root),this._root},t.prototype.draw=function(){},t}function a(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}o.prototype.dimensions=[\"lng\",\"lat\"],o.prototype.setZoom=function(t){this._zoom=t},o.prototype.setCenter=function(t){this._center=this._projection.lngLatToPoint(new BMap.Point(t[0],t[1]))},o.prototype.setMapOffset=function(t){this._mapOffset=t},o.prototype.getBMap=function(){return this._bmap},o.prototype.dataToPoint=function(t){var e=new BMap.Point(t[0],t[1]),o=this._bmap.pointToOverlayPixel(e),n=this._mapOffset;return[o.x-n[0],o.y-n[1]]},o.prototype.pointToData=function(t){var e=this._mapOffset;return[(t=this._bmap.overlayPixelToPoint({x:t[0]+e[0],y:t[1]+e[1]})).lng,t.lat]},o.prototype.getViewRect=function(){var t=this._api;return new e.graphic.BoundingRect(0,0,t.getWidth(),t.getHeight())},o.prototype.getRoamTransform=function(){return e.matrix.create()},o.prototype.prepareCustoms=function(t){var o=this.getViewRect();return{coordSys:{type:\"bmap\",x:o.x,y:o.y,width:o.width,height:o.height},api:{coord:e.util.bind(this.dataToPoint,this),size:e.util.bind(n,this)}}};var r;o.dimensions=o.prototype.dimensions,o.create=function(t,e){var n,a=e.getDom();t.eachComponent(\"bmap\",function(t){var p=e.getZr().painter,s=p.getViewportRoot();if(\"undefined\"==typeof BMap)throw new Error(\"BMap api is not loaded\");if(r=r||i(),n)throw new Error(\"Only one bmap component can exist\");if(!t.__bmap){var m=a.querySelector(\".ec-extension-bmap\");m&&(s.style.left=\"0px\",s.style.top=\"0px\",a.removeChild(m)),(m=document.createElement(\"div\")).style.cssText=\"width:100%;height:100%\",m.classList.add(\"ec-extension-bmap\"),a.appendChild(m);var c=t.__bmap=new BMap.Map(m),d=new r(s);c.addOverlay(d),p.getViewportRootOffset=function(){return{offsetLeft:0,offsetTop:0}}}var c=t.__bmap,f=t.get(\"center\"),l=t.get(\"zoom\");if(f&&l){var h=new BMap.Point(f[0],f[1]);c.centerAndZoom(h,l)}(n=new o(c,e)).setMapOffset(t.__mapOffset||[0,0]),n.setZoom(l),n.setCenter(f),t.coordinateSystem=n}),t.eachSeries(function(t){\"bmap\"===t.get(\"coordinateSystem\")&&(t.coordinateSystem=n)})},e.extendComponentModel({type:\"bmap\",getBMap:function(){return this.__bmap},setCenterAndZoom:function(t,e){this.option.center=t,this.option.zoom=e},centerOrZoomChanged:function(t,e){var o=this.option;return!(a(t,o.center)&&e===o.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},roam:!1}}),e.extendComponentView({type:\"bmap\",render:function(t,e,o){function n(){i||o.dispatchAction({type:\"bmapRoam\"})}var i=!0,a=t.getBMap(),r=o.getZr().painter.getViewportRoot(),p=t.coordinateSystem,s=function(e,n){if(!i){var a=r.parentNode.parentNode.parentNode,s=[-parseInt(a.style.left,10)||0,-parseInt(a.style.top,10)||0];r.style.left=s[0]+\"px\",r.style.top=s[1]+\"px\",p.setMapOffset(s),t.__mapOffset=s,o.dispatchAction({type:\"bmapRoam\"})}};a.removeEventListener(\"moving\",this._oldMoveHandler),a.removeEventListener(\"zoomend\",this._oldZoomEndHandler),a.addEventListener(\"moving\",s),a.addEventListener(\"zoomend\",n),this._oldMoveHandler=s,this._oldZoomEndHandler=n;var m=t.get(\"roam\");m&&\"scale\"!==m?a.enableDragging():a.disableDragging(),m&&\"move\"!==m?(a.enableScrollWheelZoom(),a.enableDoubleClickZoom(),a.enablePinchToZoom()):(a.disableScrollWheelZoom(),a.disableDoubleClickZoom(),a.disablePinchToZoom());var c=t.__mapStyle,d=t.get(\"mapStyle\")||{},f=JSON.stringify(d);JSON.stringify(c)!==f&&(Object.keys(d).length&&a.setMapStyle(d),t.__mapStyle=JSON.parse(f)),i=!1}}),e.registerCoordinateSystem(\"bmap\",o),e.registerAction({type:\"bmapRoam\",event:\"bmapRoam\",update:\"updateLayout\"},function(t,e){e.eachComponent(\"bmap\",function(t){var e=t.getBMap(),o=e.getCenter();t.setCenterAndZoom([o.lng,o.lat],e.getZoom())})});t.version=\"1.0.0\"});\n\n;/*!\n * Chart.js\n * http://chartjs.org/\n * Version: 2.7.1\n *\n * Copyright 2017 Nick Downie\n * Released under the MIT license\n * https://github.com/chartjs/Chart.js/blob/master/LICENSE.md\n */\n!function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).Chart=t()}}(function(){return function t(e,n,i){function a(r,l){if(!n[r]){if(!e[r]){var s=\"function\"==typeof require&&require;if(!l&&s)return s(r,!0);if(o)return o(r,!0);var u=new Error(\"Cannot find module '\"+r+\"'\");throw u.code=\"MODULE_NOT_FOUND\",u}var d=n[r]={exports:{}};e[r][0].call(d.exports,function(t){var n=e[r][1][t];return a(n||t)},d,d.exports,t,e,n,i)}return n[r].exports}for(var o=\"function\"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(t,e,n){},{}],2:[function(t,e,n){function i(t){if(t){var e=[0,0,0],n=1,i=t.match(/^#([a-fA-F0-9]{3})$/i);if(i){i=i[1];for(a=0;a<e.length;a++)e[a]=parseInt(i[a]+i[a],16)}else if(i=t.match(/^#([a-fA-F0-9]{6})$/i)){i=i[1];for(a=0;a<e.length;a++)e[a]=parseInt(i.slice(2*a,2*a+2),16)}else if(i=t.match(/^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/i)){for(a=0;a<e.length;a++)e[a]=parseInt(i[a+1]);n=parseFloat(i[4])}else if(i=t.match(/^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/i)){for(a=0;a<e.length;a++)e[a]=Math.round(2.55*parseFloat(i[a+1]));n=parseFloat(i[4])}else if(i=t.match(/(\\w+)/)){if(\"transparent\"==i[1])return[0,0,0,0];if(!(e=c[i[1]]))return}for(var a=0;a<e.length;a++)e[a]=u(e[a],0,255);return n=n||0==n?u(n,0,1):1,e[3]=n,e}}function a(t){if(t){var e=t.match(/^hsla?\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/);if(e){var n=parseFloat(e[4]);return[u(parseInt(e[1]),0,360),u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}}}function o(t){if(t){var e=t.match(/^hwb\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/);if(e){var n=parseFloat(e[4]);return[u(parseInt(e[1]),0,360),u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}}}function r(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),\"rgba(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+e+\")\"}function l(t,e){return\"rgba(\"+Math.round(t[0]/255*100)+\"%, \"+Math.round(t[1]/255*100)+\"%, \"+Math.round(t[2]/255*100)+\"%, \"+(e||t[3]||1)+\")\"}function s(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),\"hsla(\"+t[0]+\", \"+t[1]+\"%, \"+t[2]+\"%, \"+e+\")\"}function u(t,e,n){return Math.min(Math.max(e,t),n)}function d(t){var e=t.toString(16).toUpperCase();return e.length<2?\"0\"+e:e}var c=t(6);e.exports={getRgba:i,getHsla:a,getRgb:function(t){var e=i(t);return e&&e.slice(0,3)},getHsl:function(t){var e=a(t);return e&&e.slice(0,3)},getHwb:o,getAlpha:function(t){var e=i(t);return e?e[3]:(e=a(t))?e[3]:(e=o(t))?e[3]:void 0},hexString:function(t){return\"#\"+d(t[0])+d(t[1])+d(t[2])},rgbString:function(t,e){return e<1||t[3]&&t[3]<1?r(t,e):\"rgb(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\")\"},rgbaString:r,percentString:function(t,e){return e<1||t[3]&&t[3]<1?l(t,e):\"rgb(\"+Math.round(t[0]/255*100)+\"%, \"+Math.round(t[1]/255*100)+\"%, \"+Math.round(t[2]/255*100)+\"%)\"},percentaString:l,hslString:function(t,e){return e<1||t[3]&&t[3]<1?s(t,e):\"hsl(\"+t[0]+\", \"+t[1]+\"%, \"+t[2]+\"%)\"},hslaString:s,hwbString:function(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),\"hwb(\"+t[0]+\", \"+t[1]+\"%, \"+t[2]+\"%\"+(void 0!==e&&1!==e?\", \"+e:\"\")+\")\"},keyword:function(t){return h[t.slice(0,3)]}};var h={};for(var f in c)h[c[f]]=f},{6:6}],3:[function(t,e,n){var i=t(5),a=t(2),o=function(t){if(t instanceof o)return t;if(!(this instanceof o))return new o(t);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var e;\"string\"==typeof t?(e=a.getRgba(t))?this.setValues(\"rgb\",e):(e=a.getHsla(t))?this.setValues(\"hsl\",e):(e=a.getHwb(t))&&this.setValues(\"hwb\",e):\"object\"==typeof t&&(void 0!==(e=t).r||void 0!==e.red?this.setValues(\"rgb\",e):void 0!==e.l||void 0!==e.lightness?this.setValues(\"hsl\",e):void 0!==e.v||void 0!==e.value?this.setValues(\"hsv\",e):void 0!==e.w||void 0!==e.whiteness?this.setValues(\"hwb\",e):void 0===e.c&&void 0===e.cyan||this.setValues(\"cmyk\",e))};o.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace(\"rgb\",arguments)},hsl:function(){return this.setSpace(\"hsl\",arguments)},hsv:function(){return this.setSpace(\"hsv\",arguments)},hwb:function(){return this.setSpace(\"hwb\",arguments)},cmyk:function(){return this.setSpace(\"cmyk\",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues(\"alpha\",t),this)},red:function(t){return this.setChannel(\"rgb\",0,t)},green:function(t){return this.setChannel(\"rgb\",1,t)},blue:function(t){return this.setChannel(\"rgb\",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel(\"hsl\",0,t)},saturation:function(t){return this.setChannel(\"hsl\",1,t)},lightness:function(t){return this.setChannel(\"hsl\",2,t)},saturationv:function(t){return this.setChannel(\"hsv\",1,t)},whiteness:function(t){return this.setChannel(\"hwb\",1,t)},blackness:function(t){return this.setChannel(\"hwb\",2,t)},value:function(t){return this.setChannel(\"hsv\",2,t)},cyan:function(t){return this.setChannel(\"cmyk\",0,t)},magenta:function(t){return this.setChannel(\"cmyk\",1,t)},yellow:function(t){return this.setChannel(\"cmyk\",2,t)},black:function(t){return this.setChannel(\"cmyk\",3,t)},hexString:function(){return a.hexString(this.values.rgb)},rgbString:function(){return a.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return a.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return a.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return a.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return a.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return a.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return a.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?\"AAA\":e>=4.5?\"AA\":\"\"},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues(\"rgb\",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues(\"hsl\",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues(\"hsl\",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues(\"hsl\",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues(\"hsl\",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues(\"hwb\",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues(\"hwb\",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues(\"rgb\",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues(\"alpha\",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues(\"alpha\",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues(\"hsl\",e),this},mix:function(t,e){var n=this,i=t,a=void 0===e?.5:e,o=2*a-1,r=n.alpha()-i.alpha(),l=((o*r==-1?o:(o+r)/(1+o*r))+1)/2,s=1-l;return this.rgb(l*n.red()+s*i.red(),l*n.green()+s*i.green(),l*n.blue()+s*i.blue()).alpha(n.alpha()*a+i.alpha()*(1-a))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new o,i=this.values,a=n.values;for(var r in i)i.hasOwnProperty(r)&&(t=i[r],\"[object Array]\"===(e={}.toString.call(t))?a[r]=t.slice(0):\"[object Number]\"===e?a[r]=t:console.error(\"unexpected color value:\",t));return n}},o.prototype.spaces={rgb:[\"red\",\"green\",\"blue\"],hsl:[\"hue\",\"saturation\",\"lightness\"],hsv:[\"hue\",\"saturation\",\"value\"],hwb:[\"hue\",\"whiteness\",\"blackness\"],cmyk:[\"cyan\",\"magenta\",\"yellow\",\"black\"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(t){for(var e=this.values,n={},i=0;i<t.length;i++)n[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(n.a=e.alpha),n},o.prototype.setValues=function(t,e){var n,a=this.values,o=this.spaces,r=this.maxes,l=1;if(this.valid=!0,\"alpha\"===t)l=e;else if(e.length)a[t]=e.slice(0,t.length),l=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)a[t][n]=e[t.charAt(n)];l=e.a}else if(void 0!==e[o[t][0]]){var s=o[t];for(n=0;n<t.length;n++)a[t][n]=e[s[n]];l=e.alpha}if(a.alpha=Math.max(0,Math.min(1,void 0===l?a.alpha:l)),\"alpha\"===t)return!1;var u;for(n=0;n<t.length;n++)u=Math.max(0,Math.min(r[t][n],a[t][n])),a[t][n]=Math.round(u);for(var d in o)d!==t&&(a[d]=i[t][d](a[t]));return!0},o.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):(\"number\"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},o.prototype.setChannel=function(t,e,n){var i=this.values[t];return void 0===n?i[e]:n===i[e]?this:(i[e]=n,this.setValues(t,i),this)},\"undefined\"!=typeof window&&(window.Color=o),e.exports=o},{2:2,5:5}],4:[function(t,e,n){function i(t){var e,n,i,a=t[0]/255,o=t[1]/255,r=t[2]/255,l=Math.min(a,o,r),s=Math.max(a,o,r),u=s-l;return s==l?e=0:a==s?e=(o-r)/u:o==s?e=2+(r-a)/u:r==s&&(e=4+(a-o)/u),(e=Math.min(60*e,360))<0&&(e+=360),i=(l+s)/2,n=s==l?0:i<=.5?u/(s+l):u/(2-s-l),[e,100*n,100*i]}function a(t){var e,n,i,a=t[0],o=t[1],r=t[2],l=Math.min(a,o,r),s=Math.max(a,o,r),u=s-l;return n=0==s?0:u/s*1e3/10,s==l?e=0:a==s?e=(o-r)/u:o==s?e=2+(r-a)/u:r==s&&(e=4+(a-o)/u),(e=Math.min(60*e,360))<0&&(e+=360),i=s/255*1e3/10,[e,n,i]}function o(t){var e=t[0],n=t[1],a=t[2];return[i(t)[0],100*(1/255*Math.min(e,Math.min(n,a))),100*(a=1-1/255*Math.max(e,Math.max(n,a)))]}function l(t){var e,n,i,a,o=t[0]/255,r=t[1]/255,l=t[2]/255;return a=Math.min(1-o,1-r,1-l),e=(1-o-a)/(1-a)||0,n=(1-r-a)/(1-a)||0,i=(1-l-a)/(1-a)||0,[100*e,100*n,100*i,100*a]}function s(t){return C[JSON.stringify(t)]}function u(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]}function d(t){var e,n,i,a=u(t),o=a[0],r=a[1],l=a[2];return o/=95.047,r/=100,l/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,e=116*r-16,n=500*(o-r),i=200*(r-l),[e,n,i]}function c(t){var e,n,i,a,o,r=t[0]/360,l=t[1]/100,s=t[2]/100;if(0==l)return o=255*s,[o,o,o];e=2*s-(n=s<.5?s*(1+l):s+l-s*l),a=[0,0,0];for(var u=0;u<3;u++)(i=r+1/3*-(u-1))<0&&i++,i>1&&i--,o=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,a[u]=255*o;return a}function h(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,a=Math.floor(e)%6,o=e-Math.floor(e),r=255*i*(1-n),l=255*i*(1-n*o),s=255*i*(1-n*(1-o)),i=255*i;switch(a){case 0:return[i,s,r];case 1:return[l,i,r];case 2:return[r,i,s];case 3:return[r,l,i];case 4:return[s,r,i];case 5:return[i,r,l]}}function f(t){var e,n,i,a,o=t[0]/360,l=t[1]/100,s=t[2]/100,u=l+s;switch(u>1&&(l/=u,s/=u),e=Math.floor(6*o),n=1-s,i=6*o-e,0!=(1&e)&&(i=1-i),a=l+i*(n-l),e){default:case 6:case 0:r=n,g=a,b=l;break;case 1:r=a,g=n,b=l;break;case 2:r=l,g=n,b=a;break;case 3:r=l,g=a,b=n;break;case 4:r=a,g=l,b=n;break;case 5:r=n,g=l,b=a}return[255*r,255*g,255*b]}function p(t){var e,n,i,a=t[0]/100,o=t[1]/100,r=t[2]/100,l=t[3]/100;return e=1-Math.min(1,a*(1-l)+l),n=1-Math.min(1,o*(1-l)+l),i=1-Math.min(1,r*(1-l)+l),[255*e,255*n,255*i]}function v(t){var e,n,i,a=t[0]/100,o=t[1]/100,r=t[2]/100;return e=3.2406*a+-1.5372*o+-.4986*r,n=-.9689*a+1.8758*o+.0415*r,i=.0557*a+-.204*o+1.057*r,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,e=Math.min(Math.max(0,e),1),n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),[255*e,255*n,255*i]}function m(t){var e,n,i,a=t[0],o=t[1],r=t[2];return a/=95.047,o/=100,r/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,e=116*o-16,n=500*(a-o),i=200*(o-r),[e,n,i]}function x(t){var e,n,i,a,o=t[0],r=t[1],l=t[2];return o<=8?a=(n=100*o/903.3)/100*7.787+16/116:(n=100*Math.pow((o+16)/116,3),a=Math.pow(n/100,1/3)),e=e/95.047<=.008856?e=95.047*(r/500+a-16/116)/7.787:95.047*Math.pow(r/500+a,3),i=i/108.883<=.008859?i=108.883*(a-l/200-16/116)/7.787:108.883*Math.pow(a-l/200,3),[e,n,i]}function y(t){var e,n,i,a=t[0],o=t[1],r=t[2];return e=Math.atan2(r,o),(n=360*e/2/Math.PI)<0&&(n+=360),i=Math.sqrt(o*o+r*r),[a,i,n]}function k(t){return v(x(t))}function w(t){var e,n,i,a=t[0],o=t[1];return i=t[2]/360*2*Math.PI,e=o*Math.cos(i),n=o*Math.sin(i),[a,e,n]}function M(t){return S[t]}e.exports={rgb2hsl:i,rgb2hsv:a,rgb2hwb:o,rgb2cmyk:l,rgb2keyword:s,rgb2xyz:u,rgb2lab:d,rgb2lch:function(t){return y(d(t))},hsl2rgb:c,hsl2hsv:function(t){var e,n,i=t[0],a=t[1]/100,o=t[2]/100;return 0===o?[0,0,0]:(o*=2,a*=o<=1?o:2-o,n=(o+a)/2,e=2*a/(o+a),[i,100*e,100*n])},hsl2hwb:function(t){return o(c(t))},hsl2cmyk:function(t){return l(c(t))},hsl2keyword:function(t){return s(c(t))},hsv2rgb:h,hsv2hsl:function(t){var e,n,i=t[0],a=t[1]/100,o=t[2]/100;return n=(2-a)*o,e=a*o,e/=n<=1?n:2-n,e=e||0,n/=2,[i,100*e,100*n]},hsv2hwb:function(t){return o(h(t))},hsv2cmyk:function(t){return l(h(t))},hsv2keyword:function(t){return s(h(t))},hwb2rgb:f,hwb2hsl:function(t){return i(f(t))},hwb2hsv:function(t){return a(f(t))},hwb2cmyk:function(t){return l(f(t))},hwb2keyword:function(t){return s(f(t))},cmyk2rgb:p,cmyk2hsl:function(t){return i(p(t))},cmyk2hsv:function(t){return a(p(t))},cmyk2hwb:function(t){return o(p(t))},cmyk2keyword:function(t){return s(p(t))},keyword2rgb:M,keyword2hsl:function(t){return i(M(t))},keyword2hsv:function(t){return a(M(t))},keyword2hwb:function(t){return o(M(t))},keyword2cmyk:function(t){return l(M(t))},keyword2lab:function(t){return d(M(t))},keyword2xyz:function(t){return u(M(t))},xyz2rgb:v,xyz2lab:m,xyz2lch:function(t){return y(m(t))},lab2xyz:x,lab2rgb:k,lab2lch:y,lch2lab:w,lch2xyz:function(t){return x(w(t))},lch2rgb:function(t){return k(w(t))}};var S={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},C={};for(var _ in S)C[JSON.stringify(S[_])]=_},{}],5:[function(t,e,n){var i=t(4),a=function(){return new u};for(var o in i){a[o+\"Raw\"]=function(t){return function(e){return\"number\"==typeof e&&(e=Array.prototype.slice.call(arguments)),i[t](e)}}(o);var r=/(\\w+)2(\\w+)/.exec(o),l=r[1],s=r[2];(a[l]=a[l]||{})[s]=a[o]=function(t){return function(e){\"number\"==typeof e&&(e=Array.prototype.slice.call(arguments));var n=i[t](e);if(\"string\"==typeof n||void 0===n)return n;for(var a=0;a<n.length;a++)n[a]=Math.round(n[a]);return n}}(o)}var u=function(){this.convs={}};u.prototype.routeSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):(\"number\"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},u.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},u.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,i=this.convs[n];e=a[n][t](i),this.convs[t]=e}return e},[\"rgb\",\"hsl\",\"hsv\",\"cmyk\",\"keyword\"].forEach(function(t){u.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),e.exports=a},{4:4}],6:[function(t,e,n){\"use strict\";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(t,e,n){var i=t(29)();i.helpers=t(45),t(27)(i),i.defaults=t(25),i.Element=t(26),i.elements=t(40),i.Interaction=t(28),i.platform=t(48),t(31)(i),t(22)(i),t(23)(i),t(24)(i),t(30)(i),t(33)(i),t(32)(i),t(35)(i),t(54)(i),t(52)(i),t(53)(i),t(55)(i),t(56)(i),t(57)(i),t(15)(i),t(16)(i),t(17)(i),t(18)(i),t(19)(i),t(20)(i),t(21)(i),t(8)(i),t(9)(i),t(10)(i),t(11)(i),t(12)(i),t(13)(i),t(14)(i);var a=[];a.push(t(49)(i),t(50)(i),t(51)(i)),i.plugins.register(a),i.platform.initialize(),e.exports=i,\"undefined\"!=typeof window&&(window.Chart=i),i.canvasHelpers=i.helpers.canvas},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,35:35,40:40,45:45,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,8:8,9:9}],8:[function(t,e,n){\"use strict\";e.exports=function(t){t.Bar=function(e,n){return n.type=\"bar\",new t(e,n)}}},{}],9:[function(t,e,n){\"use strict\";e.exports=function(t){t.Bubble=function(e,n){return n.type=\"bubble\",new t(e,n)}}},{}],10:[function(t,e,n){\"use strict\";e.exports=function(t){t.Doughnut=function(e,n){return n.type=\"doughnut\",new t(e,n)}}},{}],11:[function(t,e,n){\"use strict\";e.exports=function(t){t.Line=function(e,n){return n.type=\"line\",new t(e,n)}}},{}],12:[function(t,e,n){\"use strict\";e.exports=function(t){t.PolarArea=function(e,n){return n.type=\"polarArea\",new t(e,n)}}},{}],13:[function(t,e,n){\"use strict\";e.exports=function(t){t.Radar=function(e,n){return n.type=\"radar\",new t(e,n)}}},{}],14:[function(t,e,n){\"use strict\";e.exports=function(t){t.Scatter=function(e,n){return n.type=\"scatter\",new t(e,n)}}},{}],15:[function(t,e,n){\"use strict\";var i=t(25),a=t(40),o=t(45);i._set(\"bar\",{hover:{mode:\"label\"},scales:{xAxes:[{type:\"category\",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:\"linear\"}]}}),i._set(\"horizontalBar\",{hover:{mode:\"index\",axis:\"y\"},scales:{xAxes:[{type:\"linear\",position:\"bottom\"}],yAxes:[{position:\"left\",type:\"category\",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:\"left\"}},tooltips:{callbacks:{title:function(t,e){var n=\"\";return t.length>0&&(t[0].yLabel?n=t[0].yLabel:e.labels.length>0&&t[0].index<e.labels.length&&(n=e.labels[t[0].index])),n},label:function(t,e){return(e.datasets[t.datasetIndex].label||\"\")+\": \"+t.xLabel}},mode:\"index\",axis:\"y\"}}),e.exports=function(t){t.controllers.bar=t.DatasetController.extend({dataElementType:a.Rectangle,initialize:function(){var e,n=this;t.DatasetController.prototype.initialize.apply(n,arguments),(e=n.getMeta()).stack=n.getDataset().stack,e.bar=!0},update:function(t){var e,n,i=this,a=i.getMeta().data;for(i._ruler=i.getRuler(),e=0,n=a.length;e<n;++e)i.updateElement(a[e],e,t)},updateElement:function(t,e,n){var i=this,a=i.chart,r=i.getMeta(),l=i.getDataset(),s=t.custom||{},u=a.options.elements.rectangle;t._xScale=i.getScaleForId(r.xAxisID),t._yScale=i.getScaleForId(r.yAxisID),t._datasetIndex=i.index,t._index=e,t._model={datasetLabel:l.label,label:a.data.labels[e],borderSkipped:s.borderSkipped?s.borderSkipped:u.borderSkipped,backgroundColor:s.backgroundColor?s.backgroundColor:o.valueAtIndexOrDefault(l.backgroundColor,e,u.backgroundColor),borderColor:s.borderColor?s.borderColor:o.valueAtIndexOrDefault(l.borderColor,e,u.borderColor),borderWidth:s.borderWidth?s.borderWidth:o.valueAtIndexOrDefault(l.borderWidth,e,u.borderWidth)},i.updateElementGeometry(t,e,n),t.pivot()},updateElementGeometry:function(t,e,n){var i=this,a=t._model,o=i.getValueScale(),r=o.getBasePixel(),l=o.isHorizontal(),s=i._ruler||i.getRuler(),u=i.calculateBarValuePixels(i.index,e),d=i.calculateBarIndexPixels(i.index,e,s);a.horizontal=l,a.base=n?r:u.base,a.x=l?n?r:u.head:d.center,a.y=l?d.center:n?r:u.head,a.height=l?d.size:void 0,a.width=l?void 0:d.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(t){var e,n,i=this,a=i.chart,o=i.getIndexScale().options.stacked,r=void 0===t?a.data.datasets.length:t+1,l=[];for(e=0;e<r;++e)(n=a.getDatasetMeta(e)).bar&&a.isDatasetVisible(e)&&(!1===o||!0===o&&-1===l.indexOf(n.stack)||void 0===o&&(void 0===n.stack||-1===l.indexOf(n.stack)))&&l.push(n.stack);return l.length},getStackIndex:function(t){return this.getStackCount(t)-1},getRuler:function(){var t,e,n=this,i=n.getIndexScale(),a=n.getStackCount(),o=n.index,r=[],l=i.isHorizontal(),s=l?i.left:i.top,u=s+(l?i.width:i.height);for(t=0,e=n.getMeta().data.length;t<e;++t)r.push(i.getPixelForValue(null,t,o));return{pixels:r,start:s,end:u,stackCount:a,scale:i}},calculateBarValuePixels:function(t,e){var n,i,a,o,r,l,s=this,u=s.chart,d=s.getMeta(),c=s.getValueScale(),h=u.data.datasets,f=c.getRightValue(h[t].data[e]),g=c.options.stacked,p=d.stack,v=0;if(g||void 0===g&&void 0!==p)for(n=0;n<t;++n)(i=u.getDatasetMeta(n)).bar&&i.stack===p&&i.controller.getValueScaleId()===c.id&&u.isDatasetVisible(n)&&(a=c.getRightValue(h[n].data[e]),(f<0&&a<0||f>=0&&a>0)&&(v+=a));return o=c.getPixelForValue(v),r=c.getPixelForValue(v+f),l=(r-o)/2,{size:l,base:o,head:r,center:r+l/2}},calculateBarIndexPixels:function(t,e,n){var i,a,r,l,s,u,d=this,c=n.scale.options,h=d.getStackIndex(t),f=n.pixels,g=f[e],p=f.length,v=n.start,m=n.end;return 1===p?(i=g>v?g-v:m-g,a=g<m?m-g:g-v):(e>0&&(i=(g-f[e-1])/2,e===p-1&&(a=i)),e<p-1&&(a=(f[e+1]-g)/2,0===e&&(i=a))),r=i*c.categoryPercentage,l=a*c.categoryPercentage,s=(r+l)/n.stackCount,u=s*c.barPercentage,u=Math.min(o.valueOrDefault(c.barThickness,u),o.valueOrDefault(c.maxBarThickness,1/0)),g-=r,g+=s*h,g+=(s-u)/2,{size:u,base:g,head:g+u,center:g+u/2}},draw:function(){var t=this,e=t.chart,n=t.getValueScale(),i=t.getMeta().data,a=t.getDataset(),r=i.length,l=0;for(o.canvas.clipArea(e.ctx,e.chartArea);l<r;++l)isNaN(n.getRightValue(a.data[l]))||i[l].draw();o.canvas.unclipArea(e.ctx)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},a=t._model;a.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:o.valueAtIndexOrDefault(e.hoverBackgroundColor,n,o.getHoverColor(a.backgroundColor)),a.borderColor=i.hoverBorderColor?i.hoverBorderColor:o.valueAtIndexOrDefault(e.hoverBorderColor,n,o.getHoverColor(a.borderColor)),a.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:o.valueAtIndexOrDefault(e.hoverBorderWidth,n,a.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},a=t._model,r=this.chart.options.elements.rectangle;a.backgroundColor=i.backgroundColor?i.backgroundColor:o.valueAtIndexOrDefault(e.backgroundColor,n,r.backgroundColor),a.borderColor=i.borderColor?i.borderColor:o.valueAtIndexOrDefault(e.borderColor,n,r.borderColor),a.borderWidth=i.borderWidth?i.borderWidth:o.valueAtIndexOrDefault(e.borderWidth,n,r.borderWidth)}}),t.controllers.horizontalBar=t.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{25:25,40:40,45:45}],16:[function(t,e,n){\"use strict\";var i=t(25),a=t(40),o=t(45);i._set(\"bubble\",{hover:{mode:\"single\"},scales:{xAxes:[{type:\"linear\",position:\"bottom\",id:\"x-axis-0\"}],yAxes:[{type:\"linear\",position:\"left\",id:\"y-axis-0\"}]},tooltips:{callbacks:{title:function(){return\"\"},label:function(t,e){var n=e.datasets[t.datasetIndex].label||\"\",i=e.datasets[t.datasetIndex].data[t.index];return n+\": (\"+t.xLabel+\", \"+t.yLabel+\", \"+i.r+\")\"}}}}),e.exports=function(t){t.controllers.bubble=t.DatasetController.extend({dataElementType:a.Point,update:function(t){var e=this,n=e.getMeta().data;o.each(n,function(n,i){e.updateElement(n,i,t)})},updateElement:function(t,e,n){var i=this,a=i.getMeta(),o=t.custom||{},r=i.getScaleForId(a.xAxisID),l=i.getScaleForId(a.yAxisID),s=i._resolveElementOptions(t,e),u=i.getDataset().data[e],d=i.index,c=n?r.getPixelForDecimal(.5):r.getPixelForValue(\"object\"==typeof u?u:NaN,e,d),h=n?l.getBasePixel():l.getPixelForValue(u,e,d);t._xScale=r,t._yScale=l,t._options=s,t._datasetIndex=d,t._index=e,t._model={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth,hitRadius:s.hitRadius,pointStyle:s.pointStyle,radius:n?0:s.radius,skip:o.skip||isNaN(c)||isNaN(h),x:c,y:h},t.pivot()},setHoverStyle:function(t){var e=t._model,n=t._options;e.backgroundColor=o.valueOrDefault(n.hoverBackgroundColor,o.getHoverColor(n.backgroundColor)),e.borderColor=o.valueOrDefault(n.hoverBorderColor,o.getHoverColor(n.borderColor)),e.borderWidth=o.valueOrDefault(n.hoverBorderWidth,n.borderWidth),e.radius=n.radius+n.hoverRadius},removeHoverStyle:function(t){var e=t._model,n=t._options;e.backgroundColor=n.backgroundColor,e.borderColor=n.borderColor,e.borderWidth=n.borderWidth,e.radius=n.radius},_resolveElementOptions:function(t,e){var n,i,a,r=this,l=r.chart,s=l.data.datasets[r.index],u=t.custom||{},d=l.options.elements.point,c=o.options.resolve,h=s.data[e],f={},g={chart:l,dataIndex:e,dataset:s,datasetIndex:r.index},p=[\"backgroundColor\",\"borderColor\",\"borderWidth\",\"hoverBackgroundColor\",\"hoverBorderColor\",\"hoverBorderWidth\",\"hoverRadius\",\"hitRadius\",\"pointStyle\"];for(n=0,i=p.length;n<i;++n)f[a=p[n]]=c([u[a],s[a],d[a]],g,e);return f.radius=c([u.radius,h?h.r:void 0,s.radius,d.radius],g,e),f}})}},{25:25,40:40,45:45}],17:[function(t,e,n){\"use strict\";var i=t(25),a=t(40),o=t(45);i._set(\"doughnut\",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:\"single\"},legendCallback:function(t){var e=[];e.push('<ul class=\"'+t.id+'-legend\">');var n=t.data,i=n.datasets,a=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)e.push('<li><span style=\"background-color:'+i[0].backgroundColor[o]+'\"></span>'),a[o]&&e.push(a[o]),e.push(\"</li>\");return e.push(\"</ul>\"),e.join(\"\")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(n,i){var a=t.getDatasetMeta(0),r=e.datasets[0],l=a.data[i],s=l&&l.custom||{},u=o.valueAtIndexOrDefault,d=t.options.elements.arc;return{text:n,fillStyle:s.backgroundColor?s.backgroundColor:u(r.backgroundColor,i,d.backgroundColor),strokeStyle:s.borderColor?s.borderColor:u(r.borderColor,i,d.borderColor),lineWidth:s.borderWidth?s.borderWidth:u(r.borderWidth,i,d.borderWidth),hidden:isNaN(r.data[i])||a.data[i].hidden,index:i}}):[]}},onClick:function(t,e){var n,i,a,o=e.index,r=this.chart;for(n=0,i=(r.data.datasets||[]).length;n<i;++n)(a=r.getDatasetMeta(n)).data[o]&&(a.data[o].hidden=!a.data[o].hidden);r.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return\"\"},label:function(t,e){var n=e.labels[t.index],i=\": \"+e.datasets[t.datasetIndex].data[t.index];return o.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}}),i._set(\"pie\",o.clone(i.doughnut)),i._set(\"pie\",{cutoutPercentage:0}),e.exports=function(t){t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:a.Arc,linkScales:o.noop,getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var e=this,n=e.chart,i=n.chartArea,a=n.options,r=a.elements.arc,l=i.right-i.left-r.borderWidth,s=i.bottom-i.top-r.borderWidth,u=Math.min(l,s),d={x:0,y:0},c=e.getMeta(),h=a.cutoutPercentage,f=a.circumference;if(f<2*Math.PI){var g=a.rotation%(2*Math.PI),p=(g+=2*Math.PI*(g>=Math.PI?-1:g<-Math.PI?1:0))+f,v={x:Math.cos(g),y:Math.sin(g)},m={x:Math.cos(p),y:Math.sin(p)},b=g<=0&&p>=0||g<=2*Math.PI&&2*Math.PI<=p,x=g<=.5*Math.PI&&.5*Math.PI<=p||g<=2.5*Math.PI&&2.5*Math.PI<=p,y=g<=-Math.PI&&-Math.PI<=p||g<=Math.PI&&Math.PI<=p,k=g<=.5*-Math.PI&&.5*-Math.PI<=p||g<=1.5*Math.PI&&1.5*Math.PI<=p,w=h/100,M={x:y?-1:Math.min(v.x*(v.x<0?1:w),m.x*(m.x<0?1:w)),y:k?-1:Math.min(v.y*(v.y<0?1:w),m.y*(m.y<0?1:w))},S={x:b?1:Math.max(v.x*(v.x>0?1:w),m.x*(m.x>0?1:w)),y:x?1:Math.max(v.y*(v.y>0?1:w),m.y*(m.y>0?1:w))},C={width:.5*(S.x-M.x),height:.5*(S.y-M.y)};u=Math.min(l/C.width,s/C.height),d={x:-.5*(S.x+M.x),y:-.5*(S.y+M.y)}}n.borderWidth=e.getMaxBorderWidth(c.data),n.outerRadius=Math.max((u-n.borderWidth)/2,0),n.innerRadius=Math.max(h?n.outerRadius/100*h:0,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),n.offsetX=d.x*n.outerRadius,n.offsetY=d.y*n.outerRadius,c.total=e.calculateTotal(),e.outerRadius=n.outerRadius-n.radiusLength*e.getRingIndex(e.index),e.innerRadius=Math.max(e.outerRadius-n.radiusLength,0),o.each(c.data,function(n,i){e.updateElement(n,i,t)})},updateElement:function(t,e,n){var i=this,a=i.chart,r=a.chartArea,l=a.options,s=l.animation,u=(r.left+r.right)/2,d=(r.top+r.bottom)/2,c=l.rotation,h=l.rotation,f=i.getDataset(),g=n&&s.animateRotate?0:t.hidden?0:i.calculateCircumference(f.data[e])*(l.circumference/(2*Math.PI)),p=n&&s.animateScale?0:i.innerRadius,v=n&&s.animateScale?0:i.outerRadius,m=o.valueAtIndexOrDefault;o.extend(t,{_datasetIndex:i.index,_index:e,_model:{x:u+a.offsetX,y:d+a.offsetY,startAngle:c,endAngle:h,circumference:g,outerRadius:v,innerRadius:p,label:m(f.label,e,a.data.labels[e])}});var b=t._model;this.removeHoverStyle(t),n&&s.animateRotate||(b.startAngle=0===e?l.rotation:i.getMeta().data[e-1]._model.endAngle,b.endAngle=b.startAngle+b.circumference),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},calculateTotal:function(){var t,e=this.getDataset(),n=this.getMeta(),i=0;return o.each(n.data,function(n,a){t=e.data[a],isNaN(t)||n.hidden||(i+=Math.abs(t))}),i},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(t/e):0},getMaxBorderWidth:function(t){for(var e,n,i=0,a=this.index,o=t.length,r=0;r<o;r++)e=t[r]._model?t[r]._model.borderWidth:0,i=(n=t[r]._chart?t[r]._chart.config.data.datasets[a].hoverBorderWidth:0)>(i=e>i?e:i)?n:i;return i}})}},{25:25,40:40,45:45}],18:[function(t,e,n){\"use strict\";var i=t(25),a=t(40),o=t(45);i._set(\"line\",{showLines:!0,spanGaps:!1,hover:{mode:\"label\"},scales:{xAxes:[{type:\"category\",id:\"x-axis-0\"}],yAxes:[{type:\"linear\",id:\"y-axis-0\"}]}}),e.exports=function(t){function e(t,e){return o.valueOrDefault(t.showLine,e.showLines)}t.controllers.line=t.DatasetController.extend({datasetElementType:a.Line,dataElementType:a.Point,update:function(t){var n,i,a,r=this,l=r.getMeta(),s=l.dataset,u=l.data||[],d=r.chart.options,c=d.elements.line,h=r.getScaleForId(l.yAxisID),f=r.getDataset(),g=e(f,d);for(g&&(a=s.custom||{},void 0!==f.tension&&void 0===f.lineTension&&(f.lineTension=f.tension),s._scale=h,s._datasetIndex=r.index,s._children=u,s._model={spanGaps:f.spanGaps?f.spanGaps:d.spanGaps,tension:a.tension?a.tension:o.valueOrDefault(f.lineTension,c.tension),backgroundColor:a.backgroundColor?a.backgroundColor:f.backgroundColor||c.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:f.borderWidth||c.borderWidth,borderColor:a.borderColor?a.borderColor:f.borderColor||c.borderColor,borderCapStyle:a.borderCapStyle?a.borderCapStyle:f.borderCapStyle||c.borderCapStyle,borderDash:a.borderDash?a.borderDash:f.borderDash||c.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:f.borderDashOffset||c.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:f.borderJoinStyle||c.borderJoinStyle,fill:a.fill?a.fill:void 0!==f.fill?f.fill:c.fill,steppedLine:a.steppedLine?a.steppedLine:o.valueOrDefault(f.steppedLine,c.stepped),cubicInterpolationMode:a.cubicInterpolationMode?a.cubicInterpolationMode:o.valueOrDefault(f.cubicInterpolationMode,c.cubicInterpolationMode)},s.pivot()),n=0,i=u.length;n<i;++n)r.updateElement(u[n],n,t);for(g&&0!==s._model.tension&&r.updateBezierControlPoints(),n=0,i=u.length;n<i;++n)u[n].pivot()},getPointBackgroundColor:function(t,e){var n=this.chart.options.elements.point.backgroundColor,i=this.getDataset(),a=t.custom||{};return a.backgroundColor?n=a.backgroundColor:i.pointBackgroundColor?n=o.valueAtIndexOrDefault(i.pointBackgroundColor,e,n):i.backgroundColor&&(n=i.backgroundColor),n},getPointBorderColor:function(t,e){var n=this.chart.options.elements.point.borderColor,i=this.getDataset(),a=t.custom||{};return a.borderColor?n=a.borderColor:i.pointBorderColor?n=o.valueAtIndexOrDefault(i.pointBorderColor,e,n):i.borderColor&&(n=i.borderColor),n},getPointBorderWidth:function(t,e){var n=this.chart.options.elements.point.borderWidth,i=this.getDataset(),a=t.custom||{};return isNaN(a.borderWidth)?!isNaN(i.pointBorderWidth)||o.isArray(i.pointBorderWidth)?n=o.valueAtIndexOrDefault(i.pointBorderWidth,e,n):isNaN(i.borderWidth)||(n=i.borderWidth):n=a.borderWidth,n},updateElement:function(t,e,n){var i,a,r=this,l=r.getMeta(),s=t.custom||{},u=r.getDataset(),d=r.index,c=u.data[e],h=r.getScaleForId(l.yAxisID),f=r.getScaleForId(l.xAxisID),g=r.chart.options.elements.point;void 0!==u.radius&&void 0===u.pointRadius&&(u.pointRadius=u.radius),void 0!==u.hitRadius&&void 0===u.pointHitRadius&&(u.pointHitRadius=u.hitRadius),i=f.getPixelForValue(\"object\"==typeof c?c:NaN,e,d),a=n?h.getBasePixel():r.calculatePointY(c,e,d),t._xScale=f,t._yScale=h,t._datasetIndex=d,t._index=e,t._model={x:i,y:a,skip:s.skip||isNaN(i)||isNaN(a),radius:s.radius||o.valueAtIndexOrDefault(u.pointRadius,e,g.radius),pointStyle:s.pointStyle||o.valueAtIndexOrDefault(u.pointStyle,e,g.pointStyle),backgroundColor:r.getPointBackgroundColor(t,e),borderColor:r.getPointBorderColor(t,e),borderWidth:r.getPointBorderWidth(t,e),tension:l.dataset._model?l.dataset._model.tension:0,steppedLine:!!l.dataset._model&&l.dataset._model.steppedLine,hitRadius:s.hitRadius||o.valueAtIndexOrDefault(u.pointHitRadius,e,g.hitRadius)}},calculatePointY:function(t,e,n){var i,a,o,r=this,l=r.chart,s=r.getMeta(),u=r.getScaleForId(s.yAxisID),d=0,c=0;if(u.options.stacked){for(i=0;i<n;i++)if(a=l.data.datasets[i],\"line\"===(o=l.getDatasetMeta(i)).type&&o.yAxisID===u.id&&l.isDatasetVisible(i)){var h=Number(u.getRightValue(a.data[e]));h<0?c+=h||0:d+=h||0}var f=Number(u.getRightValue(t));return f<0?u.getPixelForValue(c+f):u.getPixelForValue(d+f)}return u.getPixelForValue(t)},updateBezierControlPoints:function(){function t(t,e,n){return Math.max(Math.min(t,n),e)}var e,n,i,a,r=this,l=r.getMeta(),s=r.chart.chartArea,u=l.data||[];if(l.dataset._model.spanGaps&&(u=u.filter(function(t){return!t._model.skip})),\"monotone\"===l.dataset._model.cubicInterpolationMode)o.splineCurveMonotone(u);else for(e=0,n=u.length;e<n;++e)i=u[e]._model,a=o.splineCurve(o.previousItem(u,e)._model,i,o.nextItem(u,e)._model,l.dataset._model.tension),i.controlPointPreviousX=a.previous.x,i.controlPointPreviousY=a.previous.y,i.controlPointNextX=a.next.x,i.controlPointNextY=a.next.y;if(r.chart.options.elements.line.capBezierPoints)for(e=0,n=u.length;e<n;++e)(i=u[e]._model).controlPointPreviousX=t(i.controlPointPreviousX,s.left,s.right),i.controlPointPreviousY=t(i.controlPointPreviousY,s.top,s.bottom),i.controlPointNextX=t(i.controlPointNextX,s.left,s.right),i.controlPointNextY=t(i.controlPointNextY,s.top,s.bottom)},draw:function(){var t=this,n=t.chart,i=t.getMeta(),a=i.data||[],r=n.chartArea,l=a.length,s=0;for(o.canvas.clipArea(n.ctx,r),e(t.getDataset(),n.options)&&i.dataset.draw(),o.canvas.unclipArea(n.ctx);s<l;++s)a[s].draw(r)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},a=t._model;a.radius=i.hoverRadius||o.valueAtIndexOrDefault(e.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),a.backgroundColor=i.hoverBackgroundColor||o.valueAtIndexOrDefault(e.pointHoverBackgroundColor,n,o.getHoverColor(a.backgroundColor)),a.borderColor=i.hoverBorderColor||o.valueAtIndexOrDefault(e.pointHoverBorderColor,n,o.getHoverColor(a.borderColor)),a.borderWidth=i.hoverBorderWidth||o.valueAtIndexOrDefault(e.pointHoverBorderWidth,n,a.borderWidth)},removeHoverStyle:function(t){var e=this,n=e.chart.data.datasets[t._datasetIndex],i=t._index,a=t.custom||{},r=t._model;void 0!==n.radius&&void 0===n.pointRadius&&(n.pointRadius=n.radius),r.radius=a.radius||o.valueAtIndexOrDefault(n.pointRadius,i,e.chart.options.elements.point.radius),r.backgroundColor=e.getPointBackgroundColor(t,i),r.borderColor=e.getPointBorderColor(t,i),r.borderWidth=e.getPointBorderWidth(t,i)}})}},{25:25,40:40,45:45}],19:[function(t,e,n){\"use strict\";var i=t(25),a=t(40),o=t(45);i._set(\"polarArea\",{scale:{type:\"radialLinear\",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e=[];e.push('<ul class=\"'+t.id+'-legend\">');var n=t.data,i=n.datasets,a=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)e.push('<li><span style=\"background-color:'+i[0].backgroundColor[o]+'\"></span>'),a[o]&&e.push(a[o]),e.push(\"</li>\");return e.push(\"</ul>\"),e.join(\"\")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(n,i){var a=t.getDatasetMeta(0),r=e.datasets[0],l=a.data[i].custom||{},s=o.valueAtIndexOrDefault,u=t.options.elements.arc;return{text:n,fillStyle:l.backgroundColor?l.backgroundColor:s(r.backgroundColor,i,u.backgroundColor),strokeStyle:l.borderColor?l.borderColor:s(r.borderColor,i,u.borderColor),lineWidth:l.borderWidth?l.borderWidth:s(r.borderWidth,i,u.borderWidth),hidden:isNaN(r.data[i])||a.data[i].hidden,index:i}}):[]}},onClick:function(t,e){var n,i,a,o=e.index,r=this.chart;for(n=0,i=(r.data.datasets||[]).length;n<i;++n)(a=r.getDatasetMeta(n)).data[o].hidden=!a.data[o].hidden;r.update()}},tooltips:{callbacks:{title:function(){return\"\"},label:function(t,e){return e.labels[t.index]+\": \"+t.yLabel}}}}),e.exports=function(t){t.controllers.polarArea=t.DatasetController.extend({dataElementType:a.Arc,linkScales:o.noop,update:function(t){var e=this,n=e.chart,i=n.chartArea,a=e.getMeta(),r=n.options,l=r.elements.arc,s=Math.min(i.right-i.left,i.bottom-i.top);n.outerRadius=Math.max((s-l.borderWidth/2)/2,0),n.innerRadius=Math.max(r.cutoutPercentage?n.outerRadius/100*r.cutoutPercentage:1,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),e.outerRadius=n.outerRadius-n.radiusLength*e.index,e.innerRadius=e.outerRadius-n.radiusLength,a.count=e.countVisibleElements(),o.each(a.data,function(n,i){e.updateElement(n,i,t)})},updateElement:function(t,e,n){for(var i=this,a=i.chart,r=i.getDataset(),l=a.options,s=l.animation,u=a.scale,d=a.data.labels,c=i.calculateCircumference(r.data[e]),h=u.xCenter,f=u.yCenter,g=0,p=i.getMeta(),v=0;v<e;++v)isNaN(r.data[v])||p.data[v].hidden||++g;var m=l.startAngle,b=t.hidden?0:u.getDistanceFromCenterForValue(r.data[e]),x=m+c*g,y=x+(t.hidden?0:c),k=s.animateScale?0:u.getDistanceFromCenterForValue(r.data[e]);o.extend(t,{_datasetIndex:i.index,_index:e,_scale:u,_model:{x:h,y:f,innerRadius:0,outerRadius:n?k:b,startAngle:n&&s.animateRotate?m:x,endAngle:n&&s.animateRotate?m:y,label:o.valueAtIndexOrDefault(d,e,d[e])}}),i.removeHoverStyle(t),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),n=0;return o.each(e.data,function(e,i){isNaN(t.data[i])||e.hidden||n++}),n},calculateCircumference:function(t){var e=this.getMeta().count;return e>0&&!isNaN(t)?2*Math.PI/e:0}})}},{25:25,40:40,45:45}],20:[function(t,e,n){\"use strict\";var i=t(25),a=t(40),o=t(45);i._set(\"radar\",{scale:{type:\"radialLinear\"},elements:{line:{tension:0}}}),e.exports=function(t){t.controllers.radar=t.DatasetController.extend({datasetElementType:a.Line,dataElementType:a.Point,linkScales:o.noop,update:function(t){var e=this,n=e.getMeta(),i=n.dataset,a=n.data,r=i.custom||{},l=e.getDataset(),s=e.chart.options.elements.line,u=e.chart.scale;void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),o.extend(n.dataset,{_datasetIndex:e.index,_scale:u,_children:a,_loop:!0,_model:{tension:r.tension?r.tension:o.valueOrDefault(l.lineTension,s.tension),backgroundColor:r.backgroundColor?r.backgroundColor:l.backgroundColor||s.backgroundColor,borderWidth:r.borderWidth?r.borderWidth:l.borderWidth||s.borderWidth,borderColor:r.borderColor?r.borderColor:l.borderColor||s.borderColor,fill:r.fill?r.fill:void 0!==l.fill?l.fill:s.fill,borderCapStyle:r.borderCapStyle?r.borderCapStyle:l.borderCapStyle||s.borderCapStyle,borderDash:r.borderDash?r.borderDash:l.borderDash||s.borderDash,borderDashOffset:r.borderDashOffset?r.borderDashOffset:l.borderDashOffset||s.borderDashOffset,borderJoinStyle:r.borderJoinStyle?r.borderJoinStyle:l.borderJoinStyle||s.borderJoinStyle}}),n.dataset.pivot(),o.each(a,function(n,i){e.updateElement(n,i,t)},e),e.updateBezierControlPoints()},updateElement:function(t,e,n){var i=this,a=t.custom||{},r=i.getDataset(),l=i.chart.scale,s=i.chart.options.elements.point,u=l.getPointPositionForValue(e,r.data[e]);void 0!==r.radius&&void 0===r.pointRadius&&(r.pointRadius=r.radius),void 0!==r.hitRadius&&void 0===r.pointHitRadius&&(r.pointHitRadius=r.hitRadius),o.extend(t,{_datasetIndex:i.index,_index:e,_scale:l,_model:{x:n?l.xCenter:u.x,y:n?l.yCenter:u.y,tension:a.tension?a.tension:o.valueOrDefault(r.lineTension,i.chart.options.elements.line.tension),radius:a.radius?a.radius:o.valueAtIndexOrDefault(r.pointRadius,e,s.radius),backgroundColor:a.backgroundColor?a.backgroundColor:o.valueAtIndexOrDefault(r.pointBackgroundColor,e,s.backgroundColor),borderColor:a.borderColor?a.borderColor:o.valueAtIndexOrDefault(r.pointBorderColor,e,s.borderColor),borderWidth:a.borderWidth?a.borderWidth:o.valueAtIndexOrDefault(r.pointBorderWidth,e,s.borderWidth),pointStyle:a.pointStyle?a.pointStyle:o.valueAtIndexOrDefault(r.pointStyle,e,s.pointStyle),hitRadius:a.hitRadius?a.hitRadius:o.valueAtIndexOrDefault(r.pointHitRadius,e,s.hitRadius)}}),t._model.skip=a.skip?a.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var t=this.chart.chartArea,e=this.getMeta();o.each(e.data,function(n,i){var a=n._model,r=o.splineCurve(o.previousItem(e.data,i,!0)._model,a,o.nextItem(e.data,i,!0)._model,a.tension);a.controlPointPreviousX=Math.max(Math.min(r.previous.x,t.right),t.left),a.controlPointPreviousY=Math.max(Math.min(r.previous.y,t.bottom),t.top),a.controlPointNextX=Math.max(Math.min(r.next.x,t.right),t.left),a.controlPointNextY=Math.max(Math.min(r.next.y,t.bottom),t.top),n.pivot()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t.custom||{},i=t._index,a=t._model;a.radius=n.hoverRadius?n.hoverRadius:o.valueAtIndexOrDefault(e.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),a.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:o.valueAtIndexOrDefault(e.pointHoverBackgroundColor,i,o.getHoverColor(a.backgroundColor)),a.borderColor=n.hoverBorderColor?n.hoverBorderColor:o.valueAtIndexOrDefault(e.pointHoverBorderColor,i,o.getHoverColor(a.borderColor)),a.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:o.valueAtIndexOrDefault(e.pointHoverBorderWidth,i,a.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t.custom||{},i=t._index,a=t._model,r=this.chart.options.elements.point;a.radius=n.radius?n.radius:o.valueAtIndexOrDefault(e.pointRadius,i,r.radius),a.backgroundColor=n.backgroundColor?n.backgroundColor:o.valueAtIndexOrDefault(e.pointBackgroundColor,i,r.backgroundColor),a.borderColor=n.borderColor?n.borderColor:o.valueAtIndexOrDefault(e.pointBorderColor,i,r.borderColor),a.borderWidth=n.borderWidth?n.borderWidth:o.valueAtIndexOrDefault(e.pointBorderWidth,i,r.borderWidth)}})}},{25:25,40:40,45:45}],21:[function(t,e,n){\"use strict\";t(25)._set(\"scatter\",{hover:{mode:\"single\"},scales:{xAxes:[{id:\"x-axis-1\",type:\"linear\",position:\"bottom\"}],yAxes:[{id:\"y-axis-1\",type:\"linear\",position:\"left\"}]},showLines:!1,tooltips:{callbacks:{title:function(){return\"\"},label:function(t){return\"(\"+t.xLabel+\", \"+t.yLabel+\")\"}}}}),e.exports=function(t){t.controllers.scatter=t.controllers.line}},{25:25}],22:[function(t,e,n){\"use strict\";var i=t(25),a=t(26),o=t(45);i._set(\"global\",{animation:{duration:1e3,easing:\"easeOutQuart\",onProgress:o.noop,onComplete:o.noop}}),e.exports=function(t){t.Animation=a.extend({chart:null,currentStep:0,numSteps:60,easing:\"\",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,n,i){var a,o,r=this.animations;for(e.chart=t,i||(t.animating=!0),a=0,o=r.length;a<o;++a)if(r[a].chart===t)return void(r[a]=e);r.push(e),1===r.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=o.findIndex(this.animations,function(e){return e.chart===t});-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=o.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this,e=Date.now(),n=0;t.dropFrames>1&&(n=Math.floor(t.dropFrames),t.dropFrames=t.dropFrames%1),t.advance(1+n);var i=Date.now();t.dropFrames+=(i-e)/t.frameDuration,t.animations.length>0&&t.requestAnimationFrame()},advance:function(t){for(var e,n,i=this.animations,a=0;a<i.length;)n=(e=i[a]).chart,e.currentStep=(e.currentStep||0)+t,e.currentStep=Math.min(e.currentStep,e.numSteps),o.callback(e.render,[n,e],n),o.callback(e.onAnimationProgress,[e],n),e.currentStep>=e.numSteps?(o.callback(e.onAnimationComplete,[e],n),n.animating=!1,i.splice(a,1)):++a}},Object.defineProperty(t.Animation.prototype,\"animationObject\",{get:function(){return this}}),Object.defineProperty(t.Animation.prototype,\"chartInstance\",{get:function(){return this.chart},set:function(t){this.chart=t}})}},{25:25,26:26,45:45}],23:[function(t,e,n){\"use strict\";var i=t(25),a=t(45),o=t(28),r=t(48);e.exports=function(t){function e(t){var e=(t=t||{}).data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=a.configMerge(i.global,i[t.type],t.options||{}),t}function n(t){var e=t.options;e.scale?t.scale.options=e.scale:e.scales&&e.scales.xAxes.concat(e.scales.yAxes).forEach(function(e){t.scales[e.id].options=e}),t.tooltip._options=e.tooltips}function l(t){return\"top\"===t||\"bottom\"===t}var s=t.plugins;t.types={},t.instances={},t.controllers={},a.extend(t.prototype,{construct:function(n,i){var o=this;i=e(i);var l=r.acquireContext(n,i),s=l&&l.canvas,u=s&&s.height,d=s&&s.width;o.id=a.uid(),o.ctx=l,o.canvas=s,o.config=i,o.width=d,o.height=u,o.aspectRatio=u?d/u:null,o.options=i.options,o._bufferedRender=!1,o.chart=o,o.controller=o,t.instances[o.id]=o,Object.defineProperty(o,\"data\",{get:function(){return o.config.data},set:function(t){o.config.data=t}}),l&&s?(o.initialize(),o.update()):console.error(\"Failed to create chart: can't acquire context from the given item\")},initialize:function(){var t=this;return s.notify(t,\"beforeInit\"),a.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildScales(),t.initToolTip(),s.notify(t,\"afterInit\"),t},clear:function(){return a.canvas.clear(this),this},stop:function(){return t.animationService.cancelAnimation(this),this},resize:function(t){var e=this,n=e.options,i=e.canvas,o=n.maintainAspectRatio&&e.aspectRatio||null,r=Math.max(0,Math.floor(a.getMaximumWidth(i))),l=Math.max(0,Math.floor(o?r/o:a.getMaximumHeight(i)));if((e.width!==r||e.height!==l)&&(i.width=e.width=r,i.height=e.height=l,i.style.width=r+\"px\",i.style.height=l+\"px\",a.retinaScale(e,n.devicePixelRatio),!t)){var u={width:r,height:l};s.notify(e,\"resize\",[u]),e.options.onResize&&e.options.onResize(e,u),e.stop(),e.update(e.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},n=t.scale;a.each(e.xAxes,function(t,e){t.id=t.id||\"x-axis-\"+e}),a.each(e.yAxes,function(t,e){t.id=t.id||\"y-axis-\"+e}),n&&(n.id=n.id||\"scale\")},buildScales:function(){var e=this,n=e.options,i=e.scales={},o=[];n.scales&&(o=o.concat((n.scales.xAxes||[]).map(function(t){return{options:t,dtype:\"category\",dposition:\"bottom\"}}),(n.scales.yAxes||[]).map(function(t){return{options:t,dtype:\"linear\",dposition:\"left\"}}))),n.scale&&o.push({options:n.scale,dtype:\"radialLinear\",isDefault:!0,dposition:\"chartArea\"}),a.each(o,function(n){var o=n.options,r=a.valueOrDefault(o.type,n.dtype),s=t.scaleService.getScaleConstructor(r);if(s){l(o.position)!==l(n.dposition)&&(o.position=n.dposition);var u=new s({id:o.id,options:o,ctx:e.ctx,chart:e});i[u.id]=u,u.mergeTicksOptions(),n.isDefault&&(e.scale=u)}}),t.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e=this,n=[],i=[];return a.each(e.data.datasets,function(a,o){var r=e.getDatasetMeta(o),l=a.type||e.config.type;if(r.type&&r.type!==l&&(e.destroyDatasetMeta(o),r=e.getDatasetMeta(o)),r.type=l,n.push(r.type),r.controller)r.controller.updateIndex(o);else{var s=t.controllers[r.type];if(void 0===s)throw new Error('\"'+r.type+'\" is not a chart type.');r.controller=new s(e,o),i.push(r.controller)}},e),i},resetElements:function(){var t=this;a.each(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e=this;if(t&&\"object\"==typeof t||(t={duration:t,lazy:arguments[1]}),n(e),!1!==s.notify(e,\"beforeUpdate\")){e.tooltip._data=e.data;var i=e.buildOrUpdateControllers();a.each(e.data.datasets,function(t,n){e.getDatasetMeta(n).controller.buildOrUpdateElements()},e),e.updateLayout(),a.each(i,function(t){t.reset()}),e.updateDatasets(),e.tooltip.initialize(),e.lastActive=[],s.notify(e,\"afterUpdate\"),e._bufferedRender?e._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:e.render(t)}},updateLayout:function(){var e=this;!1!==s.notify(e,\"beforeLayout\")&&(t.layoutService.update(this,this.width,this.height),s.notify(e,\"afterScaleUpdate\"),s.notify(e,\"afterLayout\"))},updateDatasets:function(){var t=this;if(!1!==s.notify(t,\"beforeDatasetsUpdate\")){for(var e=0,n=t.data.datasets.length;e<n;++e)t.updateDataset(e);s.notify(t,\"afterDatasetsUpdate\")}},updateDataset:function(t){var e=this,n=e.getDatasetMeta(t),i={meta:n,index:t};!1!==s.notify(e,\"beforeDatasetUpdate\",[i])&&(n.controller.update(),s.notify(e,\"afterDatasetUpdate\",[i]))},render:function(e){var n=this;e&&\"object\"==typeof e||(e={duration:e,lazy:arguments[1]});var i=e.duration,o=e.lazy;if(!1!==s.notify(n,\"beforeRender\")){var r=n.options.animation,l=function(t){s.notify(n,\"afterRender\"),a.callback(r&&r.onComplete,[t],n)};if(r&&(void 0!==i&&0!==i||void 0===i&&0!==r.duration)){var u=new t.Animation({numSteps:(i||r.duration)/16.66,easing:e.easing||r.easing,render:function(t,e){var n=a.easing.effects[e.easing],i=e.currentStep,o=i/e.numSteps;t.draw(n(o),o,i)},onAnimationProgress:r.onProgress,onAnimationComplete:l});t.animationService.addAnimation(n,u,i,o)}else n.draw(),l(new t.Animation({numSteps:0,chart:n}));return n}},draw:function(t){var e=this;e.clear(),a.isNullOrUndef(t)&&(t=1),e.transition(t),!1!==s.notify(e,\"beforeDraw\",[t])&&(a.each(e.boxes,function(t){t.draw(e.chartArea)},e),e.scale&&e.scale.draw(),e.drawDatasets(t),e._drawTooltip(t),s.notify(e,\"afterDraw\",[t]))},transition:function(t){for(var e=this,n=0,i=(e.data.datasets||[]).length;n<i;++n)e.isDatasetVisible(n)&&e.getDatasetMeta(n).controller.transition(t);e.tooltip.transition(t)},drawDatasets:function(t){var e=this;if(!1!==s.notify(e,\"beforeDatasetsDraw\",[t])){for(var n=(e.data.datasets||[]).length-1;n>=0;--n)e.isDatasetVisible(n)&&e.drawDataset(n,t);s.notify(e,\"afterDatasetsDraw\",[t])}},drawDataset:function(t,e){var n=this,i=n.getDatasetMeta(t),a={meta:i,index:t,easingValue:e};!1!==s.notify(n,\"beforeDatasetDraw\",[a])&&(i.controller.draw(e),s.notify(n,\"afterDatasetDraw\",[a]))},_drawTooltip:function(t){var e=this,n=e.tooltip,i={tooltip:n,easingValue:t};!1!==s.notify(e,\"beforeTooltipDraw\",[i])&&(n.draw(),s.notify(e,\"afterTooltipDraw\",[i]))},getElementAtEvent:function(t){return o.modes.single(this,t)},getElementsAtEvent:function(t){return o.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return o.modes[\"x-axis\"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,n){var i=o.modes[e];return\"function\"==typeof i?i(this,t,n):[]},getDatasetAtEvent:function(t){return o.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this,n=e.data.datasets[t];n._meta||(n._meta={});var i=n._meta[e.id];return i||(i=n._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return\"boolean\"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,n=this.data.datasets[t],i=n._meta&&n._meta[e];i&&(i.controller.destroy(),delete n._meta[e])},destroy:function(){var e,n,i=this,o=i.canvas;for(i.stop(),e=0,n=i.data.datasets.length;e<n;++e)i.destroyDatasetMeta(e);o&&(i.unbindEvents(),a.canvas.clear(i),r.releaseContext(i.ctx),i.canvas=null,i.ctx=null),s.notify(i,\"destroy\"),delete t.instances[i.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new t.Tooltip({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var t=this,e=t._listeners={},n=function(){t.eventHandler.apply(t,arguments)};a.each(t.options.events,function(i){r.addEventListener(t,i,n),e[i]=n}),t.options.responsive&&(n=function(){t.resize()},r.addEventListener(t,\"resize\",n),e.resize=n)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,a.each(e,function(e,n){r.removeEventListener(t,n,e)}))},updateHoverStyle:function(t,e,n){var i,a,o,r=n?\"setHoverStyle\":\"removeHoverStyle\";for(a=0,o=t.length;a<o;++a)(i=t[a])&&this.getDatasetMeta(i._datasetIndex).controller[r](i)},eventHandler:function(t){var e=this,n=e.tooltip;if(!1!==s.notify(e,\"beforeEvent\",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var i=e.handleEvent(t);i|=n&&n.handleEvent(t),s.notify(e,\"afterEvent\",[t]);var a=e._bufferedRequest;return a?e.render(a):i&&!e.animating&&(e.stop(),e.render(e.options.hover.animationDuration,!0)),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e=this,n=e.options||{},i=n.hover,o=!1;return e.lastActive=e.lastActive||[],\"mouseout\"===t.type?e.active=[]:e.active=e.getElementsAtEventForMode(t,i.mode,i),a.callback(n.onHover||n.hover.onHover,[t.native,e.active],e),\"mouseup\"!==t.type&&\"click\"!==t.type||n.onClick&&n.onClick.call(e,t.native,e.active),e.lastActive.length&&e.updateHoverStyle(e.lastActive,i.mode,!1),e.active.length&&i.mode&&e.updateHoverStyle(e.active,i.mode,!0),o=!a.arrayEquals(e.active,e.lastActive),e.lastActive=e.active,o}}),t.Controller=t}},{25:25,28:28,45:45,48:48}],24:[function(t,e,n){\"use strict\";var i=t(45);e.exports=function(t){function e(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,\"_chartjs\",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),a.forEach(function(e){var n=\"onData\"+e.charAt(0).toUpperCase()+e.slice(1),a=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),o=a.apply(this,e);return i.each(t._chartjs.listeners,function(t){\"function\"==typeof t[n]&&t[n].apply(t,e)}),o}})}))}function n(t,e){var n=t._chartjs;if(n){var i=n.listeners,o=i.indexOf(e);-1!==o&&i.splice(o,1),i.length>0||(a.forEach(function(e){delete t[e]}),delete t._chartjs)}}var a=[\"push\",\"pop\",\"shift\",\"splice\",\"unshift\"];t.DatasetController=function(t,e){this.initialize(t,e)},i.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){var n=this;n.chart=t,n.index=e,n.linkScales(),n.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),n=t.getDataset();null===e.xAxisID&&(e.xAxisID=n.xAxisID||t.chart.options.scales.xAxes[0].id),null===e.yAxisID&&(e.yAxisID=n.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,n=e.dataElementType;return n&&new n({_chart:e.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,n=this,i=n.getMeta(),a=n.getDataset().data||[],o=i.data;for(t=0,e=a.length;t<e;++t)o[t]=o[t]||n.createMetaData(t);i.dataset=i.dataset||n.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t=this,i=t.getDataset(),a=i.data||(i.data=[]);t._data!==a&&(t._data&&n(t._data,t),e(a,t),t._data=a),t.resyncElements()},update:i.noop,transition:function(t){for(var e=this.getMeta(),n=e.data||[],i=n.length,a=0;a<i;++a)n[a].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],n=e.length,i=0;for(t.dataset&&t.dataset.draw();i<n;++i)e[i].draw()},removeHoverStyle:function(t,e){var n=this.chart.data.datasets[t._datasetIndex],a=t._index,o=t.custom||{},r=i.valueAtIndexOrDefault,l=t._model;l.backgroundColor=o.backgroundColor?o.backgroundColor:r(n.backgroundColor,a,e.backgroundColor),l.borderColor=o.borderColor?o.borderColor:r(n.borderColor,a,e.borderColor),l.borderWidth=o.borderWidth?o.borderWidth:r(n.borderWidth,a,e.borderWidth)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,a=t.custom||{},o=i.valueAtIndexOrDefault,r=i.getHoverColor,l=t._model;l.backgroundColor=a.hoverBackgroundColor?a.hoverBackgroundColor:o(e.hoverBackgroundColor,n,r(l.backgroundColor)),l.borderColor=a.hoverBorderColor?a.hoverBorderColor:o(e.hoverBorderColor,n,r(l.borderColor)),l.borderWidth=a.hoverBorderWidth?a.hoverBorderWidth:o(e.hoverBorderWidth,n,l.borderWidth)},resyncElements:function(){var t=this,e=t.getMeta(),n=t.getDataset().data,i=e.data.length,a=n.length;a<i?e.data.splice(a,i-a):a>i&&t.insertElements(i,a-i)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),t.DatasetController.extend=i.inherits}},{45:45}],25:[function(t,e,n){\"use strict\";var i=t(45);e.exports={_set:function(t,e){return i.merge(this[t]||(this[t]={}),e)}}},{45:45}],26:[function(t,e,n){\"use strict\";function i(t,e,n,i){var o,r,l,s,u,d,c,h,f,g=Object.keys(n);for(o=0,r=g.length;o<r;++o)if(l=g[o],d=n[l],e.hasOwnProperty(l)||(e[l]=d),(s=e[l])!==d&&\"_\"!==l[0]){if(t.hasOwnProperty(l)||(t[l]=s),u=t[l],(c=typeof d)===typeof u)if(\"string\"===c){if((h=a(u)).valid&&(f=a(d)).valid){e[l]=f.mix(h,i).rgbString();continue}}else if(\"number\"===c&&isFinite(u)&&isFinite(d)){e[l]=u+(d-u)*i;continue}e[l]=d}}var a=t(3),o=t(45),r=function(t){o.extend(this,t),this.initialize.apply(this,arguments)};o.extend(r.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=o.clone(t._model)),t._start={},t},transition:function(t){var e=this,n=e._model,a=e._start,o=e._view;return n&&1!==t?(o||(o=e._view={}),a||(a=e._start={}),i(a,o,n,t),e):(e._view=n,e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return o.isNumber(this._model.x)&&o.isNumber(this._model.y)}}),r.extend=o.inherits,e.exports=r},{3:3,45:45}],27:[function(t,e,n){\"use strict\";var i=t(3),a=t(25),o=t(45);e.exports=function(t){function e(t,e,n){var i;return\"string\"==typeof t?(i=parseInt(t,10),-1!==t.indexOf(\"%\")&&(i=i/100*e.parentNode[n])):i=t,i}function n(t){return void 0!==t&&null!==t&&\"none\"!==t}function r(t,i,a){var o=document.defaultView,r=t.parentNode,l=o.getComputedStyle(t)[i],s=o.getComputedStyle(r)[i],u=n(l),d=n(s),c=Number.POSITIVE_INFINITY;return u||d?Math.min(u?e(l,t,a):c,d?e(s,r,a):c):\"none\"}o.configMerge=function(){return o.merge(o.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(e,n,i,a){var r=n[e]||{},l=i[e];\"scales\"===e?n[e]=o.scaleMerge(r,l):\"scale\"===e?n[e]=o.merge(r,[t.scaleService.getScaleDefaults(l.type),l]):o._merger(e,n,i,a)}})},o.scaleMerge=function(){return o.merge(o.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(e,n,i,a){if(\"xAxes\"===e||\"yAxes\"===e){var r,l,s,u=i[e].length;for(n[e]||(n[e]=[]),r=0;r<u;++r)s=i[e][r],l=o.valueOrDefault(s.type,\"xAxes\"===e?\"category\":\"linear\"),r>=n[e].length&&n[e].push({}),!n[e][r].type||s.type&&s.type!==n[e][r].type?o.merge(n[e][r],[t.scaleService.getScaleDefaults(l),s]):o.merge(n[e][r],s)}else o._merger(e,n,i,a)}})},o.where=function(t,e){if(o.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return o.each(t,function(t){e(t)&&n.push(t)}),n},o.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var i=0,a=t.length;i<a;++i)if(e.call(n,t[i],i,t))return i;return-1},o.findNextWhere=function(t,e,n){o.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<t.length;i++){var a=t[i];if(e(a))return a}},o.findPreviousWhere=function(t,e,n){o.isNullOrUndef(n)&&(n=t.length);for(var i=n-1;i>=0;i--){var a=t[i];if(e(a))return a}},o.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},o.almostEquals=function(t,e,n){return Math.abs(t-e)<n},o.almostWhole=function(t,e){var n=Math.round(t);return n-e<t&&n+e>t},o.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},o.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},o.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1},o.log10=Math.log10?function(t){return Math.log10(t)}:function(t){return Math.log(t)/Math.LN10},o.toRadians=function(t){return t*(Math.PI/180)},o.toDegrees=function(t){return t*(180/Math.PI)},o.getAngleFromPoint=function(t,e){var n=e.x-t.x,i=e.y-t.y,a=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:a}},o.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},o.aliasPixel=function(t){return t%2==0?0:.5},o.splineCurve=function(t,e,n,i){var a=t.skip?e:t,o=e,r=n.skip?e:n,l=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),s=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2)),u=l/(l+s),d=s/(l+s),c=i*(u=isNaN(u)?0:u),h=i*(d=isNaN(d)?0:d);return{previous:{x:o.x-c*(r.x-a.x),y:o.y-c*(r.y-a.y)},next:{x:o.x+h*(r.x-a.x),y:o.y+h*(r.y-a.y)}}},o.EPSILON=Number.EPSILON||1e-14,o.splineCurveMonotone=function(t){var e,n,i,a,r=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),l=r.length;for(e=0;e<l;++e)if(!(i=r[e]).model.skip){if(n=e>0?r[e-1]:null,(a=e<l-1?r[e+1]:null)&&!a.model.skip){var s=a.model.x-i.model.x;i.deltaK=0!==s?(a.model.y-i.model.y)/s:0}!n||n.model.skip?i.mK=i.deltaK:!a||a.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2}var u,d,c,h;for(e=0;e<l-1;++e)i=r[e],a=r[e+1],i.model.skip||a.model.skip||(o.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=a.mK=0:(u=i.mK/i.deltaK,d=a.mK/i.deltaK,(h=Math.pow(u,2)+Math.pow(d,2))<=9||(c=3/Math.sqrt(h),i.mK=u*c*i.deltaK,a.mK=d*c*i.deltaK)));var f;for(e=0;e<l;++e)(i=r[e]).model.skip||(n=e>0?r[e-1]:null,a=e<l-1?r[e+1]:null,n&&!n.model.skip&&(f=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-f,i.model.controlPointPreviousY=i.model.y-f*i.mK),a&&!a.model.skip&&(f=(a.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+f,i.model.controlPointNextY=i.model.y+f*i.mK))},o.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},o.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},o.niceNum=function(t,e){var n=Math.floor(o.log10(t)),i=t/Math.pow(10,n);return(e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},o.requestAnimFrame=\"undefined\"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},o.getRelativePosition=function(t,e){var n,i,a=t.originalEvent||t,r=t.currentTarget||t.srcElement,l=r.getBoundingClientRect(),s=a.touches;s&&s.length>0?(n=s[0].clientX,i=s[0].clientY):(n=a.clientX,i=a.clientY);var u=parseFloat(o.getStyle(r,\"padding-left\")),d=parseFloat(o.getStyle(r,\"padding-top\")),c=parseFloat(o.getStyle(r,\"padding-right\")),h=parseFloat(o.getStyle(r,\"padding-bottom\")),f=l.right-l.left-u-c,g=l.bottom-l.top-d-h;return n=Math.round((n-l.left-u)/f*r.width/e.currentDevicePixelRatio),i=Math.round((i-l.top-d)/g*r.height/e.currentDevicePixelRatio),{x:n,y:i}},o.getConstraintWidth=function(t){return r(t,\"max-width\",\"clientWidth\")},o.getConstraintHeight=function(t){return r(t,\"max-height\",\"clientHeight\")},o.getMaximumWidth=function(t){var e=t.parentNode;if(!e)return t.clientWidth;var n=parseInt(o.getStyle(e,\"padding-left\"),10),i=parseInt(o.getStyle(e,\"padding-right\"),10),a=e.clientWidth-n-i,r=o.getConstraintWidth(t);return isNaN(r)?a:Math.min(a,r)},o.getMaximumHeight=function(t){var e=t.parentNode;if(!e)return t.clientHeight;var n=parseInt(o.getStyle(e,\"padding-top\"),10),i=parseInt(o.getStyle(e,\"padding-bottom\"),10),a=e.clientHeight-n-i,r=o.getConstraintHeight(t);return isNaN(r)?a:Math.min(a,r)},o.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},o.retinaScale=function(t,e){var n=t.currentDevicePixelRatio=e||window.devicePixelRatio||1;if(1!==n){var i=t.canvas,a=t.height,o=t.width;i.height=a*n,i.width=o*n,t.ctx.scale(n,n),i.style.height=a+\"px\",i.style.width=o+\"px\"}},o.fontString=function(t,e,n){return e+\" \"+t+\"px \"+n},o.longestText=function(t,e,n,i){var a=(i=i||{}).data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(a=i.data={},r=i.garbageCollect=[],i.font=e),t.font=e;var l=0;o.each(n,function(e){void 0!==e&&null!==e&&!0!==o.isArray(e)?l=o.measureText(t,a,r,l,e):o.isArray(e)&&o.each(e,function(e){void 0===e||null===e||o.isArray(e)||(l=o.measureText(t,a,r,l,e))})});var s=r.length/2;if(s>n.length){for(var u=0;u<s;u++)delete a[r[u]];r.splice(0,s)}return l},o.measureText=function(t,e,n,i,a){var o=e[a];return o||(o=e[a]=t.measureText(a).width,n.push(a)),o>i&&(i=o),i},o.numberOfLabelLines=function(t){var e=1;return o.each(t,function(t){o.isArray(t)&&t.length>e&&(e=t.length)}),e},o.color=i?function(t){return t instanceof CanvasGradient&&(t=a.global.defaultColor),i(t)}:function(t){return console.error(\"Color.js not found!\"),t},o.getHoverColor=function(t){return t instanceof CanvasPattern?t:o.color(t).saturate(.5).darken(.1).rgbString()}}},{25:25,3:3,45:45}],28:[function(t,e,n){\"use strict\";function i(t,e){return t.native?{x:t.x,y:t.y}:u.getRelativePosition(t,e)}function a(t,e){var n,i,a,o,r;for(i=0,o=t.data.datasets.length;i<o;++i)if(t.isDatasetVisible(i))for(a=0,r=(n=t.getDatasetMeta(i)).data.length;a<r;++a){var l=n.data[a];l._view.skip||e(l)}}function o(t,e){var n=[];return a(t,function(t){t.inRange(e.x,e.y)&&n.push(t)}),n}function r(t,e,n,i){var o=Number.POSITIVE_INFINITY,r=[];return a(t,function(t){if(!n||t.inRange(e.x,e.y)){var a=t.getCenterPoint(),l=i(e,a);l<o?(r=[t],o=l):l===o&&r.push(t)}}),r}function l(t){var e=-1!==t.indexOf(\"x\"),n=-1!==t.indexOf(\"y\");return function(t,i){var a=e?Math.abs(t.x-i.x):0,o=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function s(t,e,n){var a=i(e,t);n.axis=n.axis||\"x\";var s=l(n.axis),u=n.intersect?o(t,a):r(t,a,!1,s),d=[];return u.length?(t.data.datasets.forEach(function(e,n){if(t.isDatasetVisible(n)){var i=t.getDatasetMeta(n).data[u[0]._index];i&&!i._view.skip&&d.push(i)}}),d):[]}var u=t(45);e.exports={modes:{single:function(t,e){var n=i(e,t),o=[];return a(t,function(t){if(t.inRange(n.x,n.y))return o.push(t),o}),o.slice(0,1)},label:s,index:s,dataset:function(t,e,n){var a=i(e,t);n.axis=n.axis||\"xy\";var s=l(n.axis),u=n.intersect?o(t,a):r(t,a,!1,s);return u.length>0&&(u=t.getDatasetMeta(u[0]._datasetIndex).data),u},\"x-axis\":function(t,e){return s(t,e,{intersect:!1})},point:function(t,e){return o(t,i(e,t))},nearest:function(t,e,n){var a=i(e,t);n.axis=n.axis||\"xy\";var o=l(n.axis),s=r(t,a,n.intersect,o);return s.length>1&&s.sort(function(t,e){var n=t.getArea()-e.getArea();return 0===n&&(n=t._datasetIndex-e._datasetIndex),n}),s.slice(0,1)},x:function(t,e,n){var o=i(e,t),r=[],l=!1;return a(t,function(t){t.inXRange(o.x)&&r.push(t),t.inRange(o.x,o.y)&&(l=!0)}),n.intersect&&!l&&(r=[]),r},y:function(t,e,n){var o=i(e,t),r=[],l=!1;return a(t,function(t){t.inYRange(o.y)&&r.push(t),t.inRange(o.x,o.y)&&(l=!0)}),n.intersect&&!l&&(r=[]),r}}}},{45:45}],29:[function(t,e,n){\"use strict\";t(25)._set(\"global\",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:[\"mousemove\",\"mouseout\",\"click\",\"touchstart\",\"touchmove\"],hover:{onHover:null,mode:\"nearest\",intersect:!0,animationDuration:400},onClick:null,defaultColor:\"rgba(0,0,0,0.1)\",defaultFontColor:\"#666\",defaultFontFamily:\"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",defaultFontSize:12,defaultFontStyle:\"normal\",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),e.exports=function(){var t=function(t,e){return this.construct(t,e),this};return t.Chart=t,t}},{25:25}],30:[function(t,e,n){\"use strict\";var i=t(45);e.exports=function(t){function e(t,e){return i.where(t,function(t){return t.position===e})}function n(t,e){t.forEach(function(t,e){return t._tmpIndex_=e,t}),t.sort(function(t,n){var i=e?n:t,a=e?t:n;return i.weight===a.weight?i._tmpIndex_-a._tmpIndex_:i.weight-a.weight}),t.forEach(function(t){delete t._tmpIndex_})}t.layoutService={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||\"top\",e.weight=e.weight||0,t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure:function(t,e,n){for(var i,a=[\"fullWidth\",\"position\",\"weight\"],o=a.length,r=0;r<o;++r)i=a[r],n.hasOwnProperty(i)&&(e[i]=n[i])},update:function(t,a,o){function r(t){var e=i.findNextWhere(_,function(e){return e.box===t});if(e)if(t.isHorizontal()){var n={left:Math.max(T,D),right:Math.max(F,I),top:0,bottom:0};t.update(t.fullWidth?x:S,y/2,n)}else t.update(e.minSize.width,C)}function l(t){t.isHorizontal()?(t.left=t.fullWidth?d:T,t.right=t.fullWidth?a-c:T+S,t.top=V,t.bottom=V+t.height,V=t.bottom):(t.left=N,t.right=N+t.width,t.top=O,t.bottom=O+C,N=t.right)}if(t){var s=t.options.layout||{},u=i.options.toPadding(s.padding),d=u.left,c=u.right,h=u.top,f=u.bottom,g=e(t.boxes,\"left\"),p=e(t.boxes,\"right\"),v=e(t.boxes,\"top\"),m=e(t.boxes,\"bottom\"),b=e(t.boxes,\"chartArea\");n(g,!0),n(p,!1),n(v,!0),n(m,!1);var x=a-d-c,y=o-h-f,k=y/2,w=(a-x/2)/(g.length+p.length),M=(o-k)/(v.length+m.length),S=x,C=y,_=[];i.each(g.concat(p,v,m),function(t){var e,n=t.isHorizontal();n?(e=t.update(t.fullWidth?x:S,M),C-=e.height):(e=t.update(w,k),S-=e.width),_.push({horizontal:n,minSize:e,box:t})});var D=0,I=0,P=0,A=0;i.each(v.concat(m),function(t){if(t.getPadding){var e=t.getPadding();D=Math.max(D,e.left),I=Math.max(I,e.right)}}),i.each(g.concat(p),function(t){if(t.getPadding){var e=t.getPadding();P=Math.max(P,e.top),A=Math.max(A,e.bottom)}});var T=d,F=c,O=h,R=f;i.each(g.concat(p),r),i.each(g,function(t){T+=t.width}),i.each(p,function(t){F+=t.width}),i.each(v.concat(m),r),i.each(v,function(t){O+=t.height}),i.each(m,function(t){R+=t.height}),i.each(g.concat(p),function(t){var e=i.findNextWhere(_,function(e){return e.box===t}),n={left:0,right:0,top:O,bottom:R};e&&t.update(e.minSize.width,C,n)}),T=d,F=c,O=h,R=f,i.each(g,function(t){T+=t.width}),i.each(p,function(t){F+=t.width}),i.each(v,function(t){O+=t.height}),i.each(m,function(t){R+=t.height});var L=Math.max(D-T,0);T+=L,F+=Math.max(I-F,0);var z=Math.max(P-O,0);O+=z,R+=Math.max(A-R,0);var B=o-O-R,W=a-T-F;W===S&&B===C||(i.each(g,function(t){t.height=B}),i.each(p,function(t){t.height=B}),i.each(v,function(t){t.fullWidth||(t.width=W)}),i.each(m,function(t){t.fullWidth||(t.width=W)}),C=B,S=W);var N=d+L,V=h+z;i.each(g.concat(v),l),N+=S,V+=C,i.each(p,l),i.each(m,l),t.chartArea={left:T,top:O,right:T+S,bottom:O+C},i.each(b,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(S,C)})}}}}},{45:45}],31:[function(t,e,n){\"use strict\";var i=t(25),a=t(26),o=t(45);i._set(\"global\",{plugins:{}}),e.exports=function(t){t.plugins={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var i,a,o,r,l,s=this.descriptors(t),u=s.length;for(i=0;i<u;++i)if(a=s[i],o=a.plugin,\"function\"==typeof(l=o[e])&&((r=[t].concat(n||[])).push(a.options),!1===l.apply(o,r)))return!1;return!0},descriptors:function(t){var e=t._plugins||(t._plugins={});if(e.id===this._cacheId)return e.descriptors;var n=[],a=[],r=t&&t.config||{},l=r.options&&r.options.plugins||{};return this._plugins.concat(r.plugins||[]).forEach(function(t){if(-1===n.indexOf(t)){var e=t.id,r=l[e];!1!==r&&(!0===r&&(r=o.clone(i.global.plugins[e])),n.push(t),a.push({plugin:t,options:r||{}}))}}),e.descriptors=a,e.id=this._cacheId,a}},t.pluginService=t.plugins,t.PluginBase=a.extend({})}},{25:25,26:26,45:45}],32:[function(t,e,n){\"use strict\";function i(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(t[e].label);return i}function a(t,e,n){var i=t.getPixelForTick(e);return n&&(i-=0===e?(t.getPixelForTick(1)-i)/2:(i-t.getPixelForTick(e-1))/2),i}var o=t(25),r=t(26),l=t(45),s=t(34);o._set(\"scale\",{display:!0,position:\"left\",offset:!1,gridLines:{display:!0,color:\"rgba(0, 0, 0, 0.1)\",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:\"rgba(0,0,0,0.25)\",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:\"\",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:s.formatters.values,minor:{},major:{}}}),e.exports=function(t){function e(t,e,n){return l.isArray(e)?l.longestText(t,n,e):t.measureText(e).width}function n(t){var e=l.valueOrDefault,n=o.global,i=e(t.fontSize,n.defaultFontSize),a=e(t.fontStyle,n.defaultFontStyle),r=e(t.fontFamily,n.defaultFontFamily);return{size:i,style:a,family:r,font:l.fontString(i,a,r)}}function s(t){return l.options.toLineHeight(l.valueOrDefault(t.lineHeight,1.2),l.valueOrDefault(t.fontSize,o.global.defaultFontSize))}t.Scale=r.extend({getPadding:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var t=this.options.ticks;!1===t.minor&&(t.minor={display:!1}),!1===t.major&&(t.major={display:!1});for(var e in t)\"major\"!==e&&\"minor\"!==e&&(void 0===t.minor[e]&&(t.minor[e]=t[e]),void 0===t.major[e]&&(t.major[e]=t[e]))},beforeUpdate:function(){l.callback(this.options.beforeUpdate,[this])},update:function(t,e,n){var i,a,o,r,s,u,d=this;for(d.beforeUpdate(),d.maxWidth=t,d.maxHeight=e,d.margins=l.extend({left:0,right:0,top:0,bottom:0},n),d.longestTextCache=d.longestTextCache||{},d.beforeSetDimensions(),d.setDimensions(),d.afterSetDimensions(),d.beforeDataLimits(),d.determineDataLimits(),d.afterDataLimits(),d.beforeBuildTicks(),s=d.buildTicks()||[],d.afterBuildTicks(),d.beforeTickToLabelConversion(),o=d.convertTicksToLabels(s)||d.ticks,d.afterTickToLabelConversion(),d.ticks=o,i=0,a=o.length;i<a;++i)r=o[i],(u=s[i])?u.label=r:s.push(u={label:r,major:!1});return d._ticks=s,d.beforeCalculateTickRotation(),d.calculateTickRotation(),d.afterCalculateTickRotation(),d.beforeFit(),d.fit(),d.afterFit(),d.afterUpdate(),d.minSize},afterUpdate:function(){l.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){l.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){l.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){l.callback(this.options.beforeDataLimits,[this])},determineDataLimits:l.noop,afterDataLimits:function(){l.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){l.callback(this.options.beforeBuildTicks,[this])},buildTicks:l.noop,afterBuildTicks:function(){l.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){l.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this,e=t.options.ticks;t.ticks=t.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){l.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){l.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,a=t.options.ticks,o=i(t._ticks),r=n(a);e.font=r.font;var s=a.minRotation||0;if(o.length&&t.options.display&&t.isHorizontal())for(var u,d=l.longestText(e,r.font,o,t.longestTextCache),c=d,h=t.getPixelForTick(1)-t.getPixelForTick(0)-6;c>h&&s<a.maxRotation;){var f=l.toRadians(s);if(u=Math.cos(f),Math.sin(f)*d>t.maxHeight){s--;break}s++,c=u*d}t.labelRotation=s},afterCalculateTickRotation:function(){l.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){l.callback(this.options.beforeFit,[this])},fit:function(){var t=this,a=t.minSize={width:0,height:0},o=i(t._ticks),r=t.options,u=r.ticks,d=r.scaleLabel,c=r.gridLines,h=r.display,f=t.isHorizontal(),g=n(u),p=r.gridLines.tickMarkLength;if(a.width=f?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:h&&c.drawTicks?p:0,a.height=f?h&&c.drawTicks?p:0:t.maxHeight,d.display&&h){var v=s(d)+l.options.toPadding(d.padding).height;f?a.height+=v:a.width+=v}if(u.display&&h){var m=l.longestText(t.ctx,g.font,o,t.longestTextCache),b=l.numberOfLabelLines(o),x=.5*g.size,y=t.options.ticks.padding;if(f){t.longestLabelWidth=m;var k=l.toRadians(t.labelRotation),w=Math.cos(k),M=Math.sin(k)*m+g.size*b+x*(b-1)+x;a.height=Math.min(t.maxHeight,a.height+M+y),t.ctx.font=g.font;var S=e(t.ctx,o[0],g.font),C=e(t.ctx,o[o.length-1],g.font);0!==t.labelRotation?(t.paddingLeft=\"bottom\"===r.position?w*S+3:w*x+3,t.paddingRight=\"bottom\"===r.position?w*x+3:w*C+3):(t.paddingLeft=S/2+3,t.paddingRight=C/2+3)}else u.mirror?m=0:m+=y+x,a.width=Math.min(t.maxWidth,a.width+m),t.paddingTop=g.size/2,t.paddingBottom=g.size/2}t.handleMargins(),t.width=a.width,t.height=a.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){l.callback(this.options.afterFit,[this])},isHorizontal:function(){return\"top\"===this.options.position||\"bottom\"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(l.isNullOrUndef(t))return NaN;if(\"number\"==typeof t&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},getLabelForIndex:l.noop,getPixelForValue:l.noop,getValueForPixel:l.noop,getPixelForTick:function(t){var e=this,n=e.options.offset;if(e.isHorizontal()){var i=(e.width-(e.paddingLeft+e.paddingRight))/Math.max(e._ticks.length-(n?0:1),1),a=i*t+e.paddingLeft;n&&(a+=i/2);var o=e.left+Math.round(a);return o+=e.isFullWidth()?e.margins.left:0}var r=e.height-(e.paddingTop+e.paddingBottom);return e.top+t*(r/(e._ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var n=(e.width-(e.paddingLeft+e.paddingRight))*t+e.paddingLeft,i=e.left+Math.round(n);return i+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this,e=t.min,n=t.max;return t.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0},_autoSkip:function(t){var e,n,i,a,o=this,r=o.isHorizontal(),s=o.options.ticks.minor,u=t.length,d=l.toRadians(o.labelRotation),c=Math.cos(d),h=o.longestLabelWidth*c,f=[];for(s.maxTicksLimit&&(a=s.maxTicksLimit),r&&(e=!1,(h+s.autoSkipPadding)*u>o.width-(o.paddingLeft+o.paddingRight)&&(e=1+Math.floor((h+s.autoSkipPadding)*u/(o.width-(o.paddingLeft+o.paddingRight)))),a&&u>a&&(e=Math.max(e,Math.floor(u/a)))),n=0;n<u;n++)i=t[n],(e>1&&n%e>0||n%e==0&&n+e>=u)&&n!==u-1&&delete i.label,f.push(i);return f},draw:function(t){var e=this,i=e.options;if(i.display){var r=e.ctx,u=o.global,d=i.ticks.minor,c=i.ticks.major||d,h=i.gridLines,f=i.scaleLabel,g=0!==e.labelRotation,p=e.isHorizontal(),v=d.autoSkip?e._autoSkip(e.getTicks()):e.getTicks(),m=l.valueOrDefault(d.fontColor,u.defaultFontColor),b=n(d),x=l.valueOrDefault(c.fontColor,u.defaultFontColor),y=n(c),k=h.drawTicks?h.tickMarkLength:0,w=l.valueOrDefault(f.fontColor,u.defaultFontColor),M=n(f),S=l.options.toPadding(f.padding),C=l.toRadians(e.labelRotation),_=[],D=\"right\"===i.position?e.left:e.right-k,I=\"right\"===i.position?e.left+k:e.right,P=\"bottom\"===i.position?e.top:e.bottom-k,A=\"bottom\"===i.position?e.top+k:e.bottom;if(l.each(v,function(n,o){if(!l.isNullOrUndef(n.label)){var r,s,c,f,m=n.label;o===e.zeroLineIndex&&i.offset===h.offsetGridLines?(r=h.zeroLineWidth,s=h.zeroLineColor,c=h.zeroLineBorderDash,f=h.zeroLineBorderDashOffset):(r=l.valueAtIndexOrDefault(h.lineWidth,o),s=l.valueAtIndexOrDefault(h.color,o),c=l.valueOrDefault(h.borderDash,u.borderDash),f=l.valueOrDefault(h.borderDashOffset,u.borderDashOffset));var b,x,y,w,M,S,T,F,O,R,L=\"middle\",z=\"middle\",B=d.padding;if(p){var W=k+B;\"bottom\"===i.position?(z=g?\"middle\":\"top\",L=g?\"right\":\"center\",R=e.top+W):(z=g?\"middle\":\"bottom\",L=g?\"left\":\"center\",R=e.bottom-W);var N=a(e,o,h.offsetGridLines&&v.length>1);N<e.left&&(s=\"rgba(0,0,0,0)\"),N+=l.aliasPixel(r),O=e.getPixelForTick(o)+d.labelOffset,b=y=M=T=N,x=P,w=A,S=t.top,F=t.bottom}else{var V,E=\"left\"===i.position;d.mirror?(L=E?\"left\":\"right\",V=B):(L=E?\"right\":\"left\",V=k+B),O=E?e.right-V:e.left+V;var H=a(e,o,h.offsetGridLines&&v.length>1);H<e.top&&(s=\"rgba(0,0,0,0)\"),H+=l.aliasPixel(r),R=e.getPixelForTick(o)+d.labelOffset,b=D,y=I,M=t.left,T=t.right,x=w=S=F=H}_.push({tx1:b,ty1:x,tx2:y,ty2:w,x1:M,y1:S,x2:T,y2:F,labelX:O,labelY:R,glWidth:r,glColor:s,glBorderDash:c,glBorderDashOffset:f,rotation:-1*C,label:m,major:n.major,textBaseline:z,textAlign:L})}}),l.each(_,function(t){if(h.display&&(r.save(),r.lineWidth=t.glWidth,r.strokeStyle=t.glColor,r.setLineDash&&(r.setLineDash(t.glBorderDash),r.lineDashOffset=t.glBorderDashOffset),r.beginPath(),h.drawTicks&&(r.moveTo(t.tx1,t.ty1),r.lineTo(t.tx2,t.ty2)),h.drawOnChartArea&&(r.moveTo(t.x1,t.y1),r.lineTo(t.x2,t.y2)),r.stroke(),r.restore()),d.display){r.save(),r.translate(t.labelX,t.labelY),r.rotate(t.rotation),r.font=t.major?y.font:b.font,r.fillStyle=t.major?x:m,r.textBaseline=t.textBaseline,r.textAlign=t.textAlign;var e=t.label;if(l.isArray(e))for(var n=0,i=0;n<e.length;++n)r.fillText(\"\"+e[n],0,i),i+=1.5*b.size;else r.fillText(e,0,0);r.restore()}}),f.display){var T,F,O=0,R=s(f)/2;if(p)T=e.left+(e.right-e.left)/2,F=\"bottom\"===i.position?e.bottom-R-S.bottom:e.top+R+S.top;else{var L=\"left\"===i.position;T=L?e.left+R+S.top:e.right-R-S.top,F=e.top+(e.bottom-e.top)/2,O=L?-.5*Math.PI:.5*Math.PI}r.save(),r.translate(T,F),r.rotate(O),r.textAlign=\"center\",r.textBaseline=\"middle\",r.fillStyle=w,r.font=M.font,r.fillText(f.labelString,0,0),r.restore()}if(h.drawBorder){r.lineWidth=l.valueAtIndexOrDefault(h.lineWidth,0),r.strokeStyle=l.valueAtIndexOrDefault(h.color,0);var z=e.left,B=e.right,W=e.top,N=e.bottom,V=l.aliasPixel(r.lineWidth);p?(W=N=\"top\"===i.position?e.bottom:e.top,W+=V,N+=V):(z=B=\"left\"===i.position?e.right:e.left,z+=V,B+=V),r.beginPath(),r.moveTo(z,W),r.lineTo(B,N),r.stroke()}}}})}},{25:25,26:26,34:34,45:45}],33:[function(t,e,n){\"use strict\";var i=t(25),a=t(45);e.exports=function(t){t.scaleService={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=a.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?a.merge({},[i.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){var n=this;n.defaults.hasOwnProperty(t)&&(n.defaults[t]=a.extend(n.defaults[t],e))},addScalesToLayout:function(e){a.each(e.scales,function(n){n.fullWidth=n.options.fullWidth,n.position=n.options.position,n.weight=n.options.weight,t.layoutService.addBox(e,n)})}}}},{25:25,45:45}],34:[function(t,e,n){\"use strict\";var i=t(45);e.exports={generators:{linear:function(t,e){var n,a=[];if(t.stepSize&&t.stepSize>0)n=t.stepSize;else{var o=i.niceNum(e.max-e.min,!1);n=i.niceNum(o/(t.maxTicks-1),!0)}var r=Math.floor(e.min/n)*n,l=Math.ceil(e.max/n)*n;t.min&&t.max&&t.stepSize&&i.almostWhole((t.max-t.min)/t.stepSize,n/1e3)&&(r=t.min,l=t.max);var s=(l-r)/n;s=i.almostEquals(s,Math.round(s),n/1e3)?Math.round(s):Math.ceil(s),a.push(void 0!==t.min?t.min:r);for(var u=1;u<s;++u)a.push(r+u*n);return a.push(void 0!==t.max?t.max:l),a},logarithmic:function(t,e){var n,a,o=[],r=i.valueOrDefault,l=r(t.min,Math.pow(10,Math.floor(i.log10(e.min)))),s=Math.floor(i.log10(e.max)),u=Math.ceil(e.max/Math.pow(10,s));0===l?(n=Math.floor(i.log10(e.minNotZero)),a=Math.floor(e.minNotZero/Math.pow(10,n)),o.push(l),l=a*Math.pow(10,n)):(n=Math.floor(i.log10(l)),a=Math.floor(l/Math.pow(10,n)));do{o.push(l),10===++a&&(a=1,++n),l=a*Math.pow(10,n)}while(n<s||n===s&&a<u);var d=r(t.max,l);return o.push(d),o}},formatters:{values:function(t){return i.isArray(t)?t:\"\"+t},linear:function(t,e,n){var a=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(a)>1&&t!==Math.floor(t)&&(a=t-Math.floor(t));var o=i.log10(Math.abs(a)),r=\"\";if(0!==t){var l=-1*Math.floor(o);l=Math.max(Math.min(l,20),0),r=t.toFixed(l)}else r=\"0\";return r},logarithmic:function(t,e,n){var a=t/Math.pow(10,Math.floor(i.log10(t)));return 0===t?\"0\":1===a||2===a||5===a||0===e||e===n.length-1?t.toExponential():\"\"}}}},{45:45}],35:[function(t,e,n){\"use strict\";var i=t(25),a=t(26),o=t(45);i._set(\"global\",{tooltips:{enabled:!0,custom:null,mode:\"nearest\",position:\"average\",intersect:!0,backgroundColor:\"rgba(0,0,0,0.8)\",titleFontStyle:\"bold\",titleSpacing:2,titleMarginBottom:6,titleFontColor:\"#fff\",titleAlign:\"left\",bodySpacing:2,bodyFontColor:\"#fff\",bodyAlign:\"left\",footerFontStyle:\"bold\",footerSpacing:2,footerMarginTop:6,footerFontColor:\"#fff\",footerAlign:\"left\",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:\"#fff\",displayColors:!0,borderColor:\"rgba(0,0,0,0)\",borderWidth:0,callbacks:{beforeTitle:o.noop,title:function(t,e){var n=\"\",i=e.labels,a=i?i.length:0;if(t.length>0){var o=t[0];o.xLabel?n=o.xLabel:a>0&&o.index<a&&(n=i[o.index])}return n},afterTitle:o.noop,beforeBody:o.noop,beforeLabel:o.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||\"\";return n&&(n+=\": \"),n+=t.yLabel},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:o.noop,afterBody:o.noop,beforeFooter:o.noop,footer:o.noop,afterFooter:o.noop}}}),e.exports=function(t){function e(t,e){var n=o.color(t);return n.alpha(e*n.alpha()).rgbaString()}function n(t,e){return e&&(o.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function r(t){var e=t._xScale,n=t._yScale||t._scale,i=t._index,a=t._datasetIndex;return{xLabel:e?e.getLabelForIndex(i,a):\"\",yLabel:n?n.getLabelForIndex(i,a):\"\",index:i,datasetIndex:a,x:t._model.x,y:t._model.y}}function l(t){var e=i.global,n=o.valueOrDefault;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:n(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:n(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:n(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:n(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:n(t.titleFontStyle,e.defaultFontStyle),titleFontSize:n(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:n(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:n(t.footerFontStyle,e.defaultFontStyle),footerFontSize:n(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function s(t,e){var n=t._chart.ctx,i=2*e.yPadding,a=0,r=e.body,l=r.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);l+=e.beforeBody.length+e.afterBody.length;var s=e.title.length,u=e.footer.length,d=e.titleFontSize,c=e.bodyFontSize,h=e.footerFontSize;i+=s*d,i+=s?(s-1)*e.titleSpacing:0,i+=s?e.titleMarginBottom:0,i+=l*c,i+=l?(l-1)*e.bodySpacing:0,i+=u?e.footerMarginTop:0,i+=u*h,i+=u?(u-1)*e.footerSpacing:0;var f=0,g=function(t){a=Math.max(a,n.measureText(t).width+f)};return n.font=o.fontString(d,e._titleFontStyle,e._titleFontFamily),o.each(e.title,g),n.font=o.fontString(c,e._bodyFontStyle,e._bodyFontFamily),o.each(e.beforeBody.concat(e.afterBody),g),f=e.displayColors?c+2:0,o.each(r,function(t){o.each(t.before,g),o.each(t.lines,g),o.each(t.after,g)}),f=0,n.font=o.fontString(h,e._footerFontStyle,e._footerFontFamily),o.each(e.footer,g),a+=2*e.xPadding,{width:a,height:i}}function u(t,e){var n=t._model,i=t._chart,a=t._chart.chartArea,o=\"center\",r=\"center\";n.y<e.height?r=\"top\":n.y>i.height-e.height&&(r=\"bottom\");var l,s,u,d,c,h=(a.left+a.right)/2,f=(a.top+a.bottom)/2;\"center\"===r?(l=function(t){return t<=h},s=function(t){return t>h}):(l=function(t){return t<=e.width/2},s=function(t){return t>=i.width-e.width/2}),u=function(t){return t+e.width>i.width},d=function(t){return t-e.width<0},c=function(t){return t<=f?\"top\":\"bottom\"},l(n.x)?(o=\"left\",u(n.x)&&(o=\"center\",r=c(n.y))):s(n.x)&&(o=\"right\",d(n.x)&&(o=\"center\",r=c(n.y)));var g=t._options;return{xAlign:g.xAlign?g.xAlign:o,yAlign:g.yAlign?g.yAlign:r}}function d(t,e,n){var i=t.x,a=t.y,o=t.caretSize,r=t.caretPadding,l=t.cornerRadius,s=n.xAlign,u=n.yAlign,d=o+r,c=l+r;return\"right\"===s?i-=e.width:\"center\"===s&&(i-=e.width/2),\"top\"===u?a+=d:a-=\"bottom\"===u?e.height+d:e.height/2,\"center\"===u?\"left\"===s?i+=d:\"right\"===s&&(i-=d):\"left\"===s?i-=c:\"right\"===s&&(i+=c),{x:i,y:a}}t.Tooltip=a.extend({initialize:function(){this._model=l(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options.callbacks,i=e.beforeTitle.apply(t,arguments),a=e.title.apply(t,arguments),o=e.afterTitle.apply(t,arguments),r=[];return r=n(r,i),r=n(r,a),r=n(r,o)},getBeforeBody:function(){var t=this._options.callbacks.beforeBody.apply(this,arguments);return o.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,e){var i=this,a=i._options.callbacks,r=[];return o.each(t,function(t){var o={before:[],lines:[],after:[]};n(o.before,a.beforeLabel.call(i,t,e)),n(o.lines,a.label.call(i,t,e)),n(o.after,a.afterLabel.call(i,t,e)),r.push(o)}),r},getAfterBody:function(){var t=this._options.callbacks.afterBody.apply(this,arguments);return o.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this,e=t._options.callbacks,i=e.beforeFooter.apply(t,arguments),a=e.footer.apply(t,arguments),o=e.afterFooter.apply(t,arguments),r=[];return r=n(r,i),r=n(r,a),r=n(r,o)},update:function(e){var n,i,a=this,c=a._options,h=a._model,f=a._model=l(c),g=a._active,p=a._data,v={xAlign:h.xAlign,yAlign:h.yAlign},m={x:h.x,y:h.y},b={width:h.width,height:h.height},x={x:h.caretX,y:h.caretY};if(g.length){f.opacity=1;var y=[],k=[];x=t.Tooltip.positioners[c.position].call(a,g,a._eventPosition);var w=[];for(n=0,i=g.length;n<i;++n)w.push(r(g[n]));c.filter&&(w=w.filter(function(t){return c.filter(t,p)})),c.itemSort&&(w=w.sort(function(t,e){return c.itemSort(t,e,p)})),o.each(w,function(t){y.push(c.callbacks.labelColor.call(a,t,a._chart)),k.push(c.callbacks.labelTextColor.call(a,t,a._chart))}),f.title=a.getTitle(w,p),f.beforeBody=a.getBeforeBody(w,p),f.body=a.getBody(w,p),f.afterBody=a.getAfterBody(w,p),f.footer=a.getFooter(w,p),f.x=Math.round(x.x),f.y=Math.round(x.y),f.caretPadding=c.caretPadding,f.labelColors=y,f.labelTextColors=k,f.dataPoints=w,m=d(f,b=s(this,f),v=u(this,b))}else f.opacity=0;return f.xAlign=v.xAlign,f.yAlign=v.yAlign,f.x=m.x,f.y=m.y,f.width=b.width,f.height=b.height,f.caretX=x.x,f.caretY=x.y,a._model=f,e&&c.custom&&c.custom.call(a,f),a},drawCaret:function(t,e){var n=this._chart.ctx,i=this._view,a=this.getCaretPosition(t,e,i);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)},getCaretPosition:function(t,e,n){var i,a,o,r,l,s,u=n.caretSize,d=n.cornerRadius,c=n.xAlign,h=n.yAlign,f=t.x,g=t.y,p=e.width,v=e.height;if(\"center\"===h)l=g+v/2,\"left\"===c?(a=(i=f)-u,o=i,r=l+u,s=l-u):(a=(i=f+p)+u,o=i,r=l-u,s=l+u);else if(\"left\"===c?(i=(a=f+d+u)-u,o=a+u):\"right\"===c?(i=(a=f+p-d-u)-u,o=a+u):(i=(a=f+p/2)-u,o=a+u),\"top\"===h)l=(r=g)-u,s=r;else{l=(r=g+v)+u,s=r;var m=o;o=i,i=m}return{x1:i,x2:a,x3:o,y1:r,y2:l,y3:s}},drawTitle:function(t,n,i,a){var r=n.title;if(r.length){i.textAlign=n._titleAlign,i.textBaseline=\"top\";var l=n.titleFontSize,s=n.titleSpacing;i.fillStyle=e(n.titleFontColor,a),i.font=o.fontString(l,n._titleFontStyle,n._titleFontFamily);var u,d;for(u=0,d=r.length;u<d;++u)i.fillText(r[u],t.x,t.y),t.y+=l+s,u+1===r.length&&(t.y+=n.titleMarginBottom-s)}},drawBody:function(t,n,i,a){var r=n.bodyFontSize,l=n.bodySpacing,s=n.body;i.textAlign=n._bodyAlign,i.textBaseline=\"top\",i.font=o.fontString(r,n._bodyFontStyle,n._bodyFontFamily);var u=0,d=function(e){i.fillText(e,t.x+u,t.y),t.y+=r+l};i.fillStyle=e(n.bodyFontColor,a),o.each(n.beforeBody,d);var c=n.displayColors;u=c?r+2:0,o.each(s,function(l,s){var u=e(n.labelTextColors[s],a);i.fillStyle=u,o.each(l.before,d),o.each(l.lines,function(o){c&&(i.fillStyle=e(n.legendColorBackground,a),i.fillRect(t.x,t.y,r,r),i.lineWidth=1,i.strokeStyle=e(n.labelColors[s].borderColor,a),i.strokeRect(t.x,t.y,r,r),i.fillStyle=e(n.labelColors[s].backgroundColor,a),i.fillRect(t.x+1,t.y+1,r-2,r-2),i.fillStyle=u),d(o)}),o.each(l.after,d)}),u=0,o.each(n.afterBody,d),t.y-=l},drawFooter:function(t,n,i,a){var r=n.footer;r.length&&(t.y+=n.footerMarginTop,i.textAlign=n._footerAlign,i.textBaseline=\"top\",i.fillStyle=e(n.footerFontColor,a),i.font=o.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),o.each(r,function(e){i.fillText(e,t.x,t.y),t.y+=n.footerFontSize+n.footerSpacing}))},drawBackground:function(t,n,i,a,o){i.fillStyle=e(n.backgroundColor,o),i.strokeStyle=e(n.borderColor,o),i.lineWidth=n.borderWidth;var r=n.xAlign,l=n.yAlign,s=t.x,u=t.y,d=a.width,c=a.height,h=n.cornerRadius;i.beginPath(),i.moveTo(s+h,u),\"top\"===l&&this.drawCaret(t,a),i.lineTo(s+d-h,u),i.quadraticCurveTo(s+d,u,s+d,u+h),\"center\"===l&&\"right\"===r&&this.drawCaret(t,a),i.lineTo(s+d,u+c-h),i.quadraticCurveTo(s+d,u+c,s+d-h,u+c),\"bottom\"===l&&this.drawCaret(t,a),i.lineTo(s+h,u+c),i.quadraticCurveTo(s,u+c,s,u+c-h),\"center\"===l&&\"left\"===r&&this.drawCaret(t,a),i.lineTo(s,u+h),i.quadraticCurveTo(s,u,s+h,u),i.closePath(),i.fill(),n.borderWidth>0&&i.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},i={x:e.x,y:e.y},a=Math.abs(e.opacity<.001)?0:e.opacity,o=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&o&&(this.drawBackground(i,e,t,n,a),i.x+=e.xPadding,i.y+=e.yPadding,this.drawTitle(i,e,t,a),this.drawBody(i,e,t,a),this.drawFooter(i,e,t,a))}},handleEvent:function(t){var e=this,n=e._options,i=!1;if(e._lastActive=e._lastActive||[],\"mouseout\"===t.type?e._active=[]:e._active=e._chart.getElementsAtEventForMode(t,n.mode,n),!(i=!o.arrayEquals(e._active,e._lastActive)))return!1;if(e._lastActive=e._active,n.enabled||n.custom){e._eventPosition={x:t.x,y:t.y};var a=e._model;e.update(!0),e.pivot(),i|=a.x!==e._model.x||a.y!==e._model.y}return i}}),t.Tooltip.positioners={average:function(t){if(!t.length)return!1;var e,n,i=0,a=0,o=0;for(e=0,n=t.length;e<n;++e){var r=t[e];if(r&&r.hasValue()){var l=r.tooltipPosition();i+=l.x,a+=l.y,++o}}return{x:Math.round(i/o),y:Math.round(a/o)}},nearest:function(t,e){var n,i,a,r=e.x,l=e.y,s=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){var u=t[n];if(u&&u.hasValue()){var d=u.getCenterPoint(),c=o.distanceBetweenPoints(e,d);c<s&&(s=c,a=u)}}if(a){var h=a.tooltipPosition();r=h.x,l=h.y}return{x:r,y:l}}}}},{25:25,26:26,45:45}],36:[function(t,e,n){\"use strict\";var i=t(25),a=t(26),o=t(45);i._set(\"global\",{elements:{arc:{backgroundColor:i.global.defaultColor,borderColor:\"#fff\",borderWidth:2}}}),e.exports=a.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var n=this._view;if(n){for(var i=o.getAngleFromPoint(n,{x:t,y:e}),a=i.angle,r=i.distance,l=n.startAngle,s=n.endAngle;s<l;)s+=2*Math.PI;for(;a>s;)a-=2*Math.PI;for(;a<l;)a+=2*Math.PI;var u=a>=l&&a<=s,d=r>=n.innerRadius&&r<=n.outerRadius;return u&&d}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t=this._chart.ctx,e=this._view,n=e.startAngle,i=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,n,i),t.arc(e.x,e.y,e.innerRadius,i,n,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin=\"bevel\",e.borderWidth&&t.stroke()}})},{25:25,26:26,45:45}],37:[function(t,e,n){\"use strict\";var i=t(25),a=t(26),o=t(45),r=i.global;i._set(\"global\",{elements:{line:{tension:.4,backgroundColor:r.defaultColor,borderWidth:3,borderColor:r.defaultColor,borderCapStyle:\"butt\",borderDash:[],borderDashOffset:0,borderJoinStyle:\"miter\",capBezierPoints:!0,fill:!0}}}),e.exports=a.extend({draw:function(){var t,e,n,i,a=this,l=a._view,s=a._chart.ctx,u=l.spanGaps,d=a._children.slice(),c=r.elements.line,h=-1;for(a._loop&&d.length&&d.push(d[0]),s.save(),s.lineCap=l.borderCapStyle||c.borderCapStyle,s.setLineDash&&s.setLineDash(l.borderDash||c.borderDash),s.lineDashOffset=l.borderDashOffset||c.borderDashOffset,s.lineJoin=l.borderJoinStyle||c.borderJoinStyle,s.lineWidth=l.borderWidth||c.borderWidth,s.strokeStyle=l.borderColor||r.defaultColor,s.beginPath(),h=-1,t=0;t<d.length;++t)e=d[t],n=o.previousItem(d,t),i=e._view,0===t?i.skip||(s.moveTo(i.x,i.y),h=t):(n=-1===h?n:d[h],i.skip||(h!==t-1&&!u||-1===h?s.moveTo(i.x,i.y):o.canvas.lineTo(s,n._view,e._view),h=t));s.stroke(),s.restore()}})},{25:25,26:26,45:45}],38:[function(t,e,n){\"use strict\";function i(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2)}var a=t(25),o=t(26),r=t(45),l=a.global.defaultColor;a._set(\"global\",{elements:{point:{radius:3,pointStyle:\"circle\",backgroundColor:l,borderColor:l,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),e.exports=o.extend({inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:i,inXRange:i,inYRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.y,2)<Math.pow(e.radius+e.hitRadius,2)},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,n=this._model,i=this._chart.ctx,o=e.pointStyle,s=e.radius,u=e.x,d=e.y,c=r.color,h=0;e.skip||(i.strokeStyle=e.borderColor||l,i.lineWidth=r.valueOrDefault(e.borderWidth,a.global.elements.point.borderWidth),i.fillStyle=e.backgroundColor||l,void 0!==t&&(n.x<t.left||1.01*t.right<n.x||n.y<t.top||1.01*t.bottom<n.y)&&(n.x<t.left?h=(u-n.x)/(t.left-n.x):1.01*t.right<n.x?h=(n.x-u)/(n.x-t.right):n.y<t.top?h=(d-n.y)/(t.top-n.y):1.01*t.bottom<n.y&&(h=(n.y-d)/(n.y-t.bottom)),h=Math.round(100*h)/100,i.strokeStyle=c(i.strokeStyle).alpha(h).rgbString(),i.fillStyle=c(i.fillStyle).alpha(h).rgbString()),r.canvas.drawPoint(i,o,s,u,d))}})},{25:25,26:26,45:45}],39:[function(t,e,n){\"use strict\";function i(t){return void 0!==t._view.width}function a(t){var e,n,a,o,r=t._view;if(i(t)){var l=r.width/2;e=r.x-l,n=r.x+l,a=Math.min(r.y,r.base),o=Math.max(r.y,r.base)}else{var s=r.height/2;e=Math.min(r.x,r.base),n=Math.max(r.x,r.base),a=r.y-s,o=r.y+s}return{left:e,top:a,right:n,bottom:o}}var o=t(25),r=t(26);o._set(\"global\",{elements:{rectangle:{backgroundColor:o.global.defaultColor,borderColor:o.global.defaultColor,borderSkipped:\"bottom\",borderWidth:0}}}),e.exports=r.extend({draw:function(){function t(t){return m[(b+t)%4]}var e,n,i,a,o,r,l,s=this._chart.ctx,u=this._view,d=u.borderWidth;if(u.horizontal?(e=u.base,n=u.x,i=u.y-u.height/2,a=u.y+u.height/2,o=n>e?1:-1,r=1,l=u.borderSkipped||\"left\"):(e=u.x-u.width/2,n=u.x+u.width/2,i=u.y,o=1,r=(a=u.base)>i?1:-1,l=u.borderSkipped||\"bottom\"),d){var c=Math.min(Math.abs(e-n),Math.abs(i-a)),h=(d=d>c?c:d)/2,f=e+(\"left\"!==l?h*o:0),g=n+(\"right\"!==l?-h*o:0),p=i+(\"top\"!==l?h*r:0),v=a+(\"bottom\"!==l?-h*r:0);f!==g&&(i=p,a=v),p!==v&&(e=f,n=g)}s.beginPath(),s.fillStyle=u.backgroundColor,s.strokeStyle=u.borderColor,s.lineWidth=d;var m=[[e,a],[e,i],[n,i],[n,a]],b=[\"bottom\",\"left\",\"top\",\"right\"].indexOf(l,0);-1===b&&(b=0);var x=t(0);s.moveTo(x[0],x[1]);for(var y=1;y<4;y++)x=t(y),s.lineTo(x[0],x[1]);s.fill(),d&&s.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var n=!1;if(this._view){var i=a(this);n=t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom}return n},inLabelRange:function(t,e){var n=this;if(!n._view)return!1;var o=a(n);return i(n)?t>=o.left&&t<=o.right:e>=o.top&&e<=o.bottom},inXRange:function(t){var e=a(this);return t>=e.left&&t<=e.right},inYRange:function(t){var e=a(this);return t>=e.top&&t<=e.bottom},getCenterPoint:function(){var t,e,n=this._view;return i(this)?(t=n.x,e=(n.y+n.base)/2):(t=(n.x+n.base)/2,e=n.y),{x:t,y:e}},getArea:function(){var t=this._view;return t.width*Math.abs(t.y-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})},{25:25,26:26}],40:[function(t,e,n){\"use strict\";e.exports={},e.exports.Arc=t(36),e.exports.Line=t(37),e.exports.Point=t(38),e.exports.Rectangle=t(39)},{36:36,37:37,38:38,39:39}],41:[function(t,e,n){\"use strict\";var i=t(42),n=e.exports={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,n,i,a,o){if(o){var r=Math.min(o,i/2),l=Math.min(o,a/2);t.moveTo(e+r,n),t.lineTo(e+i-r,n),t.quadraticCurveTo(e+i,n,e+i,n+l),t.lineTo(e+i,n+a-l),t.quadraticCurveTo(e+i,n+a,e+i-r,n+a),t.lineTo(e+r,n+a),t.quadraticCurveTo(e,n+a,e,n+a-l),t.lineTo(e,n+l),t.quadraticCurveTo(e,n,e+r,n)}else t.rect(e,n,i,a)},drawPoint:function(t,e,n,i,a){var o,r,l,s,u,d;if(!e||\"object\"!=typeof e||\"[object HTMLImageElement]\"!==(o=e.toString())&&\"[object HTMLCanvasElement]\"!==o){if(!(isNaN(n)||n<=0)){switch(e){default:t.beginPath(),t.arc(i,a,n,0,2*Math.PI),t.closePath(),t.fill();break;case\"triangle\":t.beginPath(),u=(r=3*n/Math.sqrt(3))*Math.sqrt(3)/2,t.moveTo(i-r/2,a+u/3),t.lineTo(i+r/2,a+u/3),t.lineTo(i,a-2*u/3),t.closePath(),t.fill();break;case\"rect\":d=1/Math.SQRT2*n,t.beginPath(),t.fillRect(i-d,a-d,2*d,2*d),t.strokeRect(i-d,a-d,2*d,2*d);break;case\"rectRounded\":var c=n/Math.SQRT2,h=i-c,f=a-c,g=Math.SQRT2*n;t.beginPath(),this.roundedRect(t,h,f,g,g,n/2),t.closePath(),t.fill();break;case\"rectRot\":d=1/Math.SQRT2*n,t.beginPath(),t.moveTo(i-d,a),t.lineTo(i,a+d),t.lineTo(i+d,a),t.lineTo(i,a-d),t.closePath(),t.fill();break;case\"cross\":t.beginPath(),t.moveTo(i,a+n),t.lineTo(i,a-n),t.moveTo(i-n,a),t.lineTo(i+n,a),t.closePath();break;case\"crossRot\":t.beginPath(),l=Math.cos(Math.PI/4)*n,s=Math.sin(Math.PI/4)*n,t.moveTo(i-l,a-s),t.lineTo(i+l,a+s),t.moveTo(i-l,a+s),t.lineTo(i+l,a-s),t.closePath();break;case\"star\":t.beginPath(),t.moveTo(i,a+n),t.lineTo(i,a-n),t.moveTo(i-n,a),t.lineTo(i+n,a),l=Math.cos(Math.PI/4)*n,s=Math.sin(Math.PI/4)*n,t.moveTo(i-l,a-s),t.lineTo(i+l,a+s),t.moveTo(i-l,a+s),t.lineTo(i+l,a-s),t.closePath();break;case\"line\":t.beginPath(),t.moveTo(i-n,a),t.lineTo(i+n,a),t.closePath();break;case\"dash\":t.beginPath(),t.moveTo(i,a),t.lineTo(i+n,a),t.closePath()}t.stroke()}}else t.drawImage(e,i-e.width/2,a-e.height/2,e.width,e.height)},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,n,i){if(n.steppedLine)return\"after\"===n.steppedLine&&!i||\"after\"!==n.steppedLine&&i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y),void t.lineTo(n.x,n.y);n.tension?t.bezierCurveTo(i?e.controlPointPreviousX:e.controlPointNextX,i?e.controlPointPreviousY:e.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):t.lineTo(n.x,n.y)}};i.clear=n.clear,i.drawRoundedRectangle=function(t){t.beginPath(),n.roundedRect.apply(n,arguments),t.closePath()}},{42:42}],42:[function(t,e,n){\"use strict\";var i={noop:function(){},uid:function(){var t=0;return function(){return t++}}(),isNullOrUndef:function(t){return null===t||void 0===t},isArray:Array.isArray?Array.isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},isObject:function(t){return null!==t&&\"[object Object]\"===Object.prototype.toString.call(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,n){return i.valueOrDefault(i.isArray(t)?t[e]:t,n)},callback:function(t,e,n){if(t&&\"function\"==typeof t.call)return t.apply(n,e)},each:function(t,e,n,a){var o,r,l;if(i.isArray(t))if(r=t.length,a)for(o=r-1;o>=0;o--)e.call(n,t[o],o);else for(o=0;o<r;o++)e.call(n,t[o],o);else if(i.isObject(t))for(r=(l=Object.keys(t)).length,o=0;o<r;o++)e.call(n,t[l[o]],l[o])},arrayEquals:function(t,e){var n,a,o,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,a=t.length;n<a;++n)if(o=t[n],r=e[n],o instanceof Array&&r instanceof Array){if(!i.arrayEquals(o,r))return!1}else if(o!==r)return!1;return!0},clone:function(t){if(i.isArray(t))return t.map(i.clone);if(i.isObject(t)){for(var e={},n=Object.keys(t),a=n.length,o=0;o<a;++o)e[n[o]]=i.clone(t[n[o]]);return e}return t},_merger:function(t,e,n,a){var o=e[t],r=n[t];i.isObject(o)&&i.isObject(r)?i.merge(o,r,a):e[t]=i.clone(r)},_mergerIf:function(t,e,n){var a=e[t],o=n[t];i.isObject(a)&&i.isObject(o)?i.mergeIf(a,o):e.hasOwnProperty(t)||(e[t]=i.clone(o))},merge:function(t,e,n){var a,o,r,l,s,u=i.isArray(e)?e:[e],d=u.length;if(!i.isObject(t))return t;for(a=(n=n||{}).merger||i._merger,o=0;o<d;++o)if(e=u[o],i.isObject(e))for(s=0,l=(r=Object.keys(e)).length;s<l;++s)a(r[s],t,e,n);return t},mergeIf:function(t,e){return i.merge(t,e,{merger:i._mergerIf})},extend:function(t){for(var e=1,n=arguments.length;e<n;++e)i.each(arguments[e],function(e,n){t[n]=e});return t},inherits:function(t){var e=this,n=t&&t.hasOwnProperty(\"constructor\")?t.constructor:function(){return e.apply(this,arguments)},a=function(){this.constructor=n};return a.prototype=e.prototype,n.prototype=new a,n.extend=i.inherits,t&&i.extend(n.prototype,t),n.__super__=e.prototype,n}};e.exports=i,i.callCallback=i.callback,i.indexOf=function(t,e,n){return Array.prototype.indexOf.call(t,e,n)},i.getValueOrDefault=i.valueOrDefault,i.getValueAtIndexOrDefault=i.valueAtIndexOrDefault},{}],43:[function(t,e,n){\"use strict\";var i=t(42),a={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.45),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-a.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*a.easeInBounce(2*t):.5*a.easeOutBounce(2*t-1)+.5}};e.exports={effects:a},i.easingEffects=a},{42:42}],44:[function(t,e,n){\"use strict\";var i=t(42);e.exports={toLineHeight:function(t,e){var n=(\"\"+t).match(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);if(!n||\"normal\"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case\"px\":return t;case\"%\":t/=100}return e*t},toPadding:function(t){var e,n,a,o;return i.isObject(t)?(e=+t.top||0,n=+t.right||0,a=+t.bottom||0,o=+t.left||0):e=n=a=o=+t||0,{top:e,right:n,bottom:a,left:o,height:e+a,width:o+n}},resolve:function(t,e,n){var a,o,r;for(a=0,o=t.length;a<o;++a)if(void 0!==(r=t[a])&&(void 0!==e&&\"function\"==typeof r&&(r=r(e)),void 0!==n&&i.isArray(r)&&(r=r[n]),void 0!==r))return r}}},{42:42}],45:[function(t,e,n){\"use strict\";e.exports=t(42),e.exports.easing=t(43),e.exports.canvas=t(41),e.exports.options=t(44)},{41:41,42:42,43:43,44:44}],46:[function(t,e,n){e.exports={acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext(\"2d\")||null}}},{}],47:[function(t,e,n){\"use strict\";function i(t,e){var n=v.getStyle(t,e),i=n&&n.match(/^(\\d+)(\\.\\d+)?px$/);return i?Number(i[1]):void 0}function a(t,e){var n=t.style,a=t.getAttribute(\"height\"),o=t.getAttribute(\"width\");if(t[m]={initial:{height:a,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||\"block\",null===o||\"\"===o){var r=i(t,\"width\");void 0!==r&&(t.width=r)}if(null===a||\"\"===a)if(\"\"===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var l=i(t,\"height\");void 0!==r&&(t.height=l)}return t}function o(t,e,n){t.addEventListener(e,n,M)}function r(t,e,n){t.removeEventListener(e,n,M)}function l(t,e,n,i,a){return{type:t,chart:e,native:a||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function s(t,e){var n=w[t.type]||t.type,i=v.getRelativePosition(t,e);return l(n,e,i.x,i.y,t)}function u(t,e){var n=!1,i=[];return function(){i=Array.prototype.slice.call(arguments),e=e||this,n||(n=!0,v.requestAnimFrame.call(window,function(){n=!1,t.apply(e,i)}))}}function d(t){var e=document.createElement(\"div\"),n=b+\"size-monitor\",i=\"position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;\";e.style.cssText=i,e.className=n,e.innerHTML='<div class=\"'+n+'-expand\" style=\"'+i+'\"><div style=\"position:absolute;width:1000000px;height:1000000px;left:0;top:0\"></div></div><div class=\"'+n+'-shrink\" style=\"'+i+'\"><div style=\"position:absolute;width:200%;height:200%;left:0; top:0\"></div></div>';var a=e.childNodes[0],r=e.childNodes[1];e._reset=function(){a.scrollLeft=1e6,a.scrollTop=1e6,r.scrollLeft=1e6,r.scrollTop=1e6};var l=function(){e._reset(),t()};return o(a,\"scroll\",l.bind(a,\"expand\")),o(r,\"scroll\",l.bind(r,\"shrink\")),e}function c(t,e){var n=t[m]||(t[m]={}),i=n.renderProxy=function(t){t.animationName===y&&e()};v.each(k,function(e){o(t,e,i)}),n.reflow=!!t.offsetParent,t.classList.add(x)}function h(t){var e=t[m]||{},n=e.renderProxy;n&&(v.each(k,function(e){r(t,e,n)}),delete e.renderProxy),t.classList.remove(x)}function f(t,e,n){var i=t[m]||(t[m]={}),a=i.resizer=d(u(function(){if(i.resizer)return e(l(\"resize\",n))}));c(t,function(){if(i.resizer){var e=t.parentNode;e&&e!==a.parentNode&&e.insertBefore(a,e.firstChild),a._reset()}})}function g(t){var e=t[m]||{},n=e.resizer;delete e.resizer,h(t),n&&n.parentNode&&n.parentNode.removeChild(n)}function p(t,e){var n=t._style||document.createElement(\"style\");t._style||(t._style=n,e=\"/* Chart.js */\\n\"+e,n.setAttribute(\"type\",\"text/css\"),document.getElementsByTagName(\"head\")[0].appendChild(n)),n.appendChild(document.createTextNode(e))}var v=t(45),m=\"$chartjs\",b=\"chartjs-\",x=b+\"render-monitor\",y=b+\"render-animation\",k=[\"animationstart\",\"webkitAnimationStart\"],w={touchstart:\"mousedown\",touchmove:\"mousemove\",touchend:\"mouseup\",pointerenter:\"mouseenter\",pointerdown:\"mousedown\",pointermove:\"mousemove\",pointerup:\"mouseup\",pointerleave:\"mouseout\",pointerout:\"mouseout\"},M=!!function(){var t=!1;try{var e=Object.defineProperty({},\"passive\",{get:function(){t=!0}});window.addEventListener(\"e\",null,e)}catch(t){}return t}()&&{passive:!0};e.exports={_enabled:\"undefined\"!=typeof window&&\"undefined\"!=typeof document,initialize:function(){var t=\"from{opacity:0.99}to{opacity:1}\";p(this,\"@-webkit-keyframes \"+y+\"{\"+t+\"}@keyframes \"+y+\"{\"+t+\"}.\"+x+\"{-webkit-animation:\"+y+\" 0.001s;animation:\"+y+\" 0.001s;}\")},acquireContext:function(t,e){\"string\"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var n=t&&t.getContext&&t.getContext(\"2d\");return n&&n.canvas===t?(a(t,e),n):null},releaseContext:function(t){var e=t.canvas;if(e[m]){var n=e[m].initial;[\"height\",\"width\"].forEach(function(t){var i=n[t];v.isNullOrUndef(i)?e.removeAttribute(t):e.setAttribute(t,i)}),v.each(n.style||{},function(t,n){e.style[n]=t}),e.width=e.width,delete e[m]}},addEventListener:function(t,e,n){var i=t.canvas;if(\"resize\"!==e){var a=n[m]||(n[m]={});o(i,e,(a.proxies||(a.proxies={}))[t.id+\"_\"+e]=function(e){n(s(e,t))})}else f(i,n,t)},removeEventListener:function(t,e,n){var i=t.canvas;if(\"resize\"!==e){var a=((n[m]||{}).proxies||{})[t.id+\"_\"+e];a&&r(i,e,a)}else g(i)}},v.addEvent=o,v.removeEvent=r},{45:45}],48:[function(t,e,n){\"use strict\";var i=t(45),a=t(46),o=t(47),r=o._enabled?o:a;e.exports=i.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},r)},{45:45,46:46,47:47}],49:[function(t,e,n){\"use strict\";var i=t(25),a=t(40),o=t(45);i._set(\"global\",{plugins:{filler:{propagate:!0}}}),e.exports=function(){function t(t,e,n){var i,a=t._model||{},o=a.fill;if(void 0===o&&(o=!!a.backgroundColor),!1===o||null===o)return!1;if(!0===o)return\"origin\";if(i=parseFloat(o,10),isFinite(i)&&Math.floor(i)===i)return\"-\"!==o[0]&&\"+\"!==o[0]||(i=e+i),!(i===e||i<0||i>=n)&&i;switch(o){case\"bottom\":return\"start\";case\"top\":return\"end\";case\"zero\":return\"origin\";case\"origin\":case\"start\":case\"end\":return o;default:return!1}}function e(t){var e,n=t.el._model||{},i=t.el._scale||{},a=t.fill,o=null;if(isFinite(a))return null;if(\"start\"===a?o=void 0===n.scaleBottom?i.bottom:n.scaleBottom:\"end\"===a?o=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?o=n.scaleZero:i.getBasePosition?o=i.getBasePosition():i.getBasePixel&&(o=i.getBasePixel()),void 0!==o&&null!==o){if(void 0!==o.x&&void 0!==o.y)return o;if(\"number\"==typeof o&&isFinite(o))return e=i.isHorizontal(),{x:e?o:null,y:e?null:o}}return null}function n(t,e,n){var i,a=t[e].fill,o=[e];if(!n)return a;for(;!1!==a&&-1===o.indexOf(a);){if(!isFinite(a))return a;if(!(i=t[a]))return!1;if(i.visible)return a;o.push(a),a=i.fill}return!1}function r(t){var e=t.fill,n=\"dataset\";return!1===e?null:(isFinite(e)||(n=\"boundary\"),d[n](t))}function l(t){return t&&!t.skip}function s(t,e,n,i,a){var r;if(i&&a){for(t.moveTo(e[0].x,e[0].y),r=1;r<i;++r)o.canvas.lineTo(t,e[r-1],e[r]);for(t.lineTo(n[a-1].x,n[a-1].y),r=a-1;r>0;--r)o.canvas.lineTo(t,n[r],n[r-1],!0)}}function u(t,e,n,i,a,o){var r,u,d,c,h,f,g,p=e.length,v=i.spanGaps,m=[],b=[],x=0,y=0;for(t.beginPath(),r=0,u=p+!!o;r<u;++r)h=n(c=e[d=r%p]._view,d,i),f=l(c),g=l(h),f&&g?(x=m.push(c),y=b.push(h)):x&&y&&(v?(f&&m.push(c),g&&b.push(h)):(s(t,m,b,x,y),x=y=0,m=[],b=[]));s(t,m,b,x,y),t.closePath(),t.fillStyle=a,t.fill()}var d={dataset:function(t){var e=t.fill,n=t.chart,i=n.getDatasetMeta(e),a=i&&n.isDatasetVisible(e)&&i.dataset._children||[],o=a.length||0;return o?function(t,e){return e<o&&a[e]._view||null}:null},boundary:function(t){var e=t.boundary,n=e?e.x:null,i=e?e.y:null;return function(t){return{x:null===n?t.x:n,y:null===i?t.y:i}}}};return{id:\"filler\",afterDatasetsUpdate:function(i,o){var l,s,u,d,c=(i.data.datasets||[]).length,h=o.propagate,f=[];for(s=0;s<c;++s)d=null,(u=(l=i.getDatasetMeta(s)).dataset)&&u._model&&u instanceof a.Line&&(d={visible:i.isDatasetVisible(s),fill:t(u,s,c),chart:i,el:u}),l.$filler=d,f.push(d);for(s=0;s<c;++s)(d=f[s])&&(d.fill=n(f,s,h),d.boundary=e(d),d.mapper=r(d))},beforeDatasetDraw:function(t,e){var n=e.meta.$filler;if(n){var a=t.ctx,r=n.el,l=r._view,s=r._children||[],d=n.mapper,c=l.backgroundColor||i.global.defaultColor;d&&c&&s.length&&(o.canvas.clipArea(a,t.chartArea),u(a,s,d,l,c,r._loop),o.canvas.unclipArea(a))}}}}},{25:25,40:40,45:45}],50:[function(t,e,n){\"use strict\";var i=t(25),a=t(26),o=t(45);i._set(\"global\",{legend:{display:!0,position:\"top\",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var n=e.datasetIndex,i=this.chart,a=i.getDatasetMeta(n);a.hidden=null===a.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data;return o.isArray(e.datasets)?e.datasets.map(function(e,n){return{text:e.label,fillStyle:o.isArray(e.backgroundColor)?e.backgroundColor[0]:e.backgroundColor,hidden:!t.isDatasetVisible(n),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,pointStyle:e.pointStyle,datasetIndex:n}},this):[]}}},legendCallback:function(t){var e=[];e.push('<ul class=\"'+t.id+'-legend\">');for(var n=0;n<t.data.datasets.length;n++)e.push('<li><span style=\"background-color:'+t.data.datasets[n].backgroundColor+'\"></span>'),t.data.datasets[n].label&&e.push(t.data.datasets[n].label),e.push(\"</li>\");return e.push(\"</ul>\"),e.join(\"\")}}),e.exports=function(t){function e(t,e){return t.usePointStyle?e*Math.SQRT2:t.boxWidth}function n(e,n){var i=new t.Legend({ctx:e.ctx,options:n,chart:e});r.configure(e,i,n),r.addBox(e,i),e.legend=i}var r=t.layoutService,l=o.noop;return t.Legend=a.extend({initialize:function(t){o.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:l,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:l,beforeSetDimensions:l,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:l,beforeBuildLabels:l,buildLabels:function(){var t=this,e=t.options.labels||{},n=o.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(n=n.filter(function(n){return e.filter(n,t.chart.data)})),t.options.reverse&&n.reverse(),t.legendItems=n},afterBuildLabels:l,beforeFit:l,fit:function(){var t=this,n=t.options,a=n.labels,r=n.display,l=t.ctx,s=i.global,u=o.valueOrDefault,d=u(a.fontSize,s.defaultFontSize),c=u(a.fontStyle,s.defaultFontStyle),h=u(a.fontFamily,s.defaultFontFamily),f=o.fontString(d,c,h),g=t.legendHitBoxes=[],p=t.minSize,v=t.isHorizontal();if(v?(p.width=t.maxWidth,p.height=r?10:0):(p.width=r?10:0,p.height=t.maxHeight),r)if(l.font=f,v){var m=t.lineWidths=[0],b=t.legendItems.length?d+a.padding:0;l.textAlign=\"left\",l.textBaseline=\"top\",o.each(t.legendItems,function(n,i){var o=e(a,d)+d/2+l.measureText(n.text).width;m[m.length-1]+o+a.padding>=t.width&&(b+=d+a.padding,m[m.length]=t.left),g[i]={left:0,top:0,width:o,height:d},m[m.length-1]+=o+a.padding}),p.height+=b}else{var x=a.padding,y=t.columnWidths=[],k=a.padding,w=0,M=0,S=d+x;o.each(t.legendItems,function(t,n){var i=e(a,d)+d/2+l.measureText(t.text).width;M+S>p.height&&(k+=w+a.padding,y.push(w),w=0,M=0),w=Math.max(w,i),M+=S,g[n]={left:0,top:0,width:i,height:d}}),k+=w,y.push(w),p.width+=k}t.width=p.width,t.height=p.height},afterFit:l,isHorizontal:function(){return\"top\"===this.options.position||\"bottom\"===this.options.position},draw:function(){var t=this,n=t.options,a=n.labels,r=i.global,l=r.elements.line,s=t.width,u=t.lineWidths;if(n.display){var d,c=t.ctx,h=o.valueOrDefault,f=h(a.fontColor,r.defaultFontColor),g=h(a.fontSize,r.defaultFontSize),p=h(a.fontStyle,r.defaultFontStyle),v=h(a.fontFamily,r.defaultFontFamily),m=o.fontString(g,p,v);c.textAlign=\"left\",c.textBaseline=\"middle\",c.lineWidth=.5,c.strokeStyle=f,c.fillStyle=f,c.font=m;var b=e(a,g),x=t.legendHitBoxes,y=function(t,e,i){if(!(isNaN(b)||b<=0)){c.save(),c.fillStyle=h(i.fillStyle,r.defaultColor),c.lineCap=h(i.lineCap,l.borderCapStyle),c.lineDashOffset=h(i.lineDashOffset,l.borderDashOffset),c.lineJoin=h(i.lineJoin,l.borderJoinStyle),c.lineWidth=h(i.lineWidth,l.borderWidth),c.strokeStyle=h(i.strokeStyle,r.defaultColor);var a=0===h(i.lineWidth,l.borderWidth);if(c.setLineDash&&c.setLineDash(h(i.lineDash,l.borderDash)),n.labels&&n.labels.usePointStyle){var s=g*Math.SQRT2/2,u=s/Math.SQRT2,d=t+u,f=e+u;o.canvas.drawPoint(c,i.pointStyle,s,d,f)}else a||c.strokeRect(t,e,b,g),c.fillRect(t,e,b,g);c.restore()}},k=function(t,e,n,i){var a=g/2,o=b+a+t,r=e+a;c.fillText(n.text,o,r),n.hidden&&(c.beginPath(),c.lineWidth=2,c.moveTo(o,r),c.lineTo(o+i,r),c.stroke())},w=t.isHorizontal();d=w?{x:t.left+(s-u[0])/2,y:t.top+a.padding,line:0}:{x:t.left+a.padding,y:t.top+a.padding,line:0};var M=g+a.padding;o.each(t.legendItems,function(e,n){var i=c.measureText(e.text).width,o=b+g/2+i,r=d.x,l=d.y;w?r+o>=s&&(l=d.y+=M,d.line++,r=d.x=t.left+(s-u[d.line])/2):l+M>t.bottom&&(r=d.x=r+t.columnWidths[d.line]+a.padding,l=d.y=t.top+a.padding,d.line++),y(r,l,e),x[n].left=r,x[n].top=l,k(r,l,e,i),w?d.x+=o+a.padding:d.y+=M})}},handleEvent:function(t){var e=this,n=e.options,i=\"mouseup\"===t.type?\"click\":t.type,a=!1;if(\"mousemove\"===i){if(!n.onHover)return}else{if(\"click\"!==i)return;if(!n.onClick)return}var o=t.x,r=t.y;if(o>=e.left&&o<=e.right&&r>=e.top&&r<=e.bottom)for(var l=e.legendHitBoxes,s=0;s<l.length;++s){var u=l[s];if(o>=u.left&&o<=u.left+u.width&&r>=u.top&&r<=u.top+u.height){if(\"click\"===i){n.onClick.call(e,t.native,e.legendItems[s]),a=!0;break}if(\"mousemove\"===i){n.onHover.call(e,t.native,e.legendItems[s]),a=!0;break}}}return a}}),{id:\"legend\",beforeInit:function(t){var e=t.options.legend;e&&n(t,e)},beforeUpdate:function(t){var e=t.options.legend,a=t.legend;e?(o.mergeIf(e,i.global.legend),a?(r.configure(t,a,e),a.options=e):n(t,e)):a&&(r.removeBox(t,a),delete t.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}}}},{25:25,26:26,45:45}],51:[function(t,e,n){\"use strict\";var i=t(25),a=t(26),o=t(45);i._set(\"global\",{title:{display:!1,fontStyle:\"bold\",fullWidth:!0,lineHeight:1.2,padding:10,position:\"top\",text:\"\",weight:2e3}}),e.exports=function(t){function e(e,i){var a=new t.Title({ctx:e.ctx,options:i,chart:e});n.configure(e,a,i),n.addBox(e,a),e.titleBlock=a}var n=t.layoutService,r=o.noop;return t.Title=a.extend({initialize:function(t){var e=this;o.extend(e,t),e.legendHitBoxes=[]},beforeUpdate:r,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:r,beforeSetDimensions:r,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:r,beforeBuildLabels:r,buildLabels:r,afterBuildLabels:r,beforeFit:r,fit:function(){var t=this,e=o.valueOrDefault,n=t.options,a=n.display,r=e(n.fontSize,i.global.defaultFontSize),l=t.minSize,s=o.isArray(n.text)?n.text.length:1,u=o.options.toLineHeight(n.lineHeight,r),d=a?s*u+2*n.padding:0;t.isHorizontal()?(l.width=t.maxWidth,l.height=d):(l.width=d,l.height=t.maxHeight),t.width=l.width,t.height=l.height},afterFit:r,isHorizontal:function(){var t=this.options.position;return\"top\"===t||\"bottom\"===t},draw:function(){var t=this,e=t.ctx,n=o.valueOrDefault,a=t.options,r=i.global;if(a.display){var l,s,u,d=n(a.fontSize,r.defaultFontSize),c=n(a.fontStyle,r.defaultFontStyle),h=n(a.fontFamily,r.defaultFontFamily),f=o.fontString(d,c,h),g=o.options.toLineHeight(a.lineHeight,d),p=g/2+a.padding,v=0,m=t.top,b=t.left,x=t.bottom,y=t.right;e.fillStyle=n(a.fontColor,r.defaultFontColor),e.font=f,t.isHorizontal()?(s=b+(y-b)/2,u=m+p,l=y-b):(s=\"left\"===a.position?b+p:y-p,u=m+(x-m)/2,l=x-m,v=Math.PI*(\"left\"===a.position?-.5:.5)),e.save(),e.translate(s,u),e.rotate(v),e.textAlign=\"center\",e.textBaseline=\"middle\";var k=a.text;if(o.isArray(k))for(var w=0,M=0;M<k.length;++M)e.fillText(k[M],0,w,l),w+=g;else e.fillText(k,0,0,l);e.restore()}}}),{id:\"title\",beforeInit:function(t){var n=t.options.title;n&&e(t,n)},beforeUpdate:function(a){var r=a.options.title,l=a.titleBlock;r?(o.mergeIf(r,i.global.title),l?(n.configure(a,l,r),l.options=r):e(a,r)):l&&(t.layoutService.removeBox(a,l),delete a.titleBlock)}}}},{25:25,26:26,45:45}],52:[function(t,e,n){\"use strict\";e.exports=function(t){var e=t.Scale.extend({getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t=this,e=t.getLabels();t.minIndex=0,t.maxIndex=e.length-1;var n;void 0!==t.options.ticks.min&&(n=e.indexOf(t.options.ticks.min),t.minIndex=-1!==n?n:t.minIndex),void 0!==t.options.ticks.max&&(n=e.indexOf(t.options.ticks.max),t.maxIndex=-1!==n?n:t.maxIndex),t.min=e[t.minIndex],t.max=e[t.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var n=this,i=n.chart.data,a=n.isHorizontal();return i.yLabels&&!a?n.getRightValue(i.datasets[e].data[t]):n.ticks[t-n.minIndex]},getPixelForValue:function(t,e){var n,i=this,a=i.options.offset,o=Math.max(i.maxIndex+1-i.minIndex-(a?0:1),1);if(void 0!==t&&null!==t&&(n=i.isHorizontal()?t.x:t.y),void 0!==n||void 0!==t&&isNaN(e)){var r=i.getLabels();t=n||t;var l=r.indexOf(t);e=-1!==l?l:e}if(i.isHorizontal()){var s=i.width/o,u=s*(e-i.minIndex);return a&&(u+=s/2),i.left+Math.round(u)}var d=i.height/o,c=d*(e-i.minIndex);return a&&(c+=d/2),i.top+Math.round(c)},getPixelForTick:function(t){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null)},getValueForPixel:function(t){var e=this,n=e.options.offset,i=Math.max(e._ticks.length-(n?0:1),1),a=e.isHorizontal(),o=(a?e.width:e.height)/i;return t-=a?e.left:e.top,n&&(t-=o/2),(t<=0?0:Math.round(t/o))+e.minIndex},getBasePixel:function(){return this.bottom}});t.scaleService.registerScaleType(\"category\",e,{position:\"bottom\"})}},{}],53:[function(t,e,n){\"use strict\";var i=t(25),a=t(45),o=t(34);e.exports=function(t){var e={position:\"left\",ticks:{callback:o.formatters.linear}},n=t.LinearScaleBase.extend({determineDataLimits:function(){function t(t){return r?t.xAxisID===e.id:t.yAxisID===e.id}var e=this,n=e.options,i=e.chart,o=i.data.datasets,r=e.isHorizontal();e.min=null,e.max=null;var l=n.stacked;if(void 0===l&&a.each(o,function(e,n){if(!l){var a=i.getDatasetMeta(n);i.isDatasetVisible(n)&&t(a)&&void 0!==a.stack&&(l=!0)}}),n.stacked||l){var s={};a.each(o,function(o,r){var l=i.getDatasetMeta(r),u=[l.type,void 0===n.stacked&&void 0===l.stack?r:\"\",l.stack].join(\".\");void 0===s[u]&&(s[u]={positiveValues:[],negativeValues:[]});var d=s[u].positiveValues,c=s[u].negativeValues;i.isDatasetVisible(r)&&t(l)&&a.each(o.data,function(t,i){var a=+e.getRightValue(t);isNaN(a)||l.data[i].hidden||(d[i]=d[i]||0,c[i]=c[i]||0,n.relativePoints?d[i]=100:a<0?c[i]+=a:d[i]+=a)})}),a.each(s,function(t){var n=t.positiveValues.concat(t.negativeValues),i=a.min(n),o=a.max(n);e.min=null===e.min?i:Math.min(e.min,i),e.max=null===e.max?o:Math.max(e.max,o)})}else a.each(o,function(n,o){var r=i.getDatasetMeta(o);i.isDatasetVisible(o)&&t(r)&&a.each(n.data,function(t,n){var i=+e.getRightValue(t);isNaN(i)||r.data[n].hidden||(null===e.min?e.min=i:i<e.min&&(e.min=i),null===e.max?e.max=i:i>e.max&&(e.max=i))})});e.min=isFinite(e.min)&&!isNaN(e.min)?e.min:0,e.max=isFinite(e.max)&&!isNaN(e.max)?e.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var t,e=this,n=e.options.ticks;if(e.isHorizontal())t=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(e.width/50));else{var o=a.valueOrDefault(n.fontSize,i.global.defaultFontSize);t=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(e.height/(2*o)))}return t},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e,n=this,i=n.start,a=+n.getRightValue(t),o=n.end-i;return n.isHorizontal()?(e=n.left+n.width/o*(a-i),Math.round(e)):(e=n.bottom-n.height/o*(a-i),Math.round(e))},getValueForPixel:function(t){var e=this,n=e.isHorizontal(),i=n?e.width:e.height,a=(n?t-e.left:e.bottom-t)/i;return e.start+(e.end-e.start)*a},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}});t.scaleService.registerScaleType(\"linear\",n,e)}},{25:25,34:34,45:45}],54:[function(t,e,n){\"use strict\";var i=t(45),a=t(34);e.exports=function(t){var e=i.noop;t.LinearScaleBase=t.Scale.extend({getRightValue:function(e){return\"string\"==typeof e?+e:t.Scale.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var n=i.sign(t.min),a=i.sign(t.max);n<0&&a<0?t.max=0:n>0&&a>0&&(t.min=0)}var o=void 0!==e.min||void 0!==e.suggestedMin,r=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),o!==r&&t.min>=t.max&&(o?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:e,handleDirectionalChanges:e,buildTicks:function(){var t=this,e=t.options.ticks,n=t.getTickLimit(),o={maxTicks:n=Math.max(2,n),min:e.min,max:e.max,stepSize:i.valueOrDefault(e.fixedStepSize,e.stepSize)},r=t.ticks=a.generators.linear(o,t);t.handleDirectionalChanges(),t.max=i.max(r),t.min=i.min(r),e.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),t.Scale.prototype.convertTicksToLabels.call(e)}})}},{34:34,45:45}],55:[function(t,e,n){\"use strict\";var i=t(45),a=t(34);e.exports=function(t){var e={position:\"left\",ticks:{callback:a.formatters.logarithmic}},n=t.Scale.extend({determineDataLimits:function(){function t(t){return s?t.xAxisID===e.id:t.yAxisID===e.id}var e=this,n=e.options,a=n.ticks,o=e.chart,r=o.data.datasets,l=i.valueOrDefault,s=e.isHorizontal();e.min=null,e.max=null,e.minNotZero=null;var u=n.stacked;if(void 0===u&&i.each(r,function(e,n){if(!u){var i=o.getDatasetMeta(n);o.isDatasetVisible(n)&&t(i)&&void 0!==i.stack&&(u=!0)}}),n.stacked||u){var d={};i.each(r,function(a,r){var l=o.getDatasetMeta(r),s=[l.type,void 0===n.stacked&&void 0===l.stack?r:\"\",l.stack].join(\".\");o.isDatasetVisible(r)&&t(l)&&(void 0===d[s]&&(d[s]=[]),i.each(a.data,function(t,i){var a=d[s],o=+e.getRightValue(t);isNaN(o)||l.data[i].hidden||(a[i]=a[i]||0,n.relativePoints?a[i]=100:a[i]+=o)}))}),i.each(d,function(t){var n=i.min(t),a=i.max(t);e.min=null===e.min?n:Math.min(e.min,n),e.max=null===e.max?a:Math.max(e.max,a)})}else i.each(r,function(n,a){var r=o.getDatasetMeta(a);o.isDatasetVisible(a)&&t(r)&&i.each(n.data,function(t,n){var i=+e.getRightValue(t);isNaN(i)||r.data[n].hidden||(null===e.min?e.min=i:i<e.min&&(e.min=i),null===e.max?e.max=i:i>e.max&&(e.max=i),0!==i&&(null===e.minNotZero||i<e.minNotZero)&&(e.minNotZero=i))})});e.min=l(a.min,e.min),e.max=l(a.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(i.log10(e.min))-1),e.max=Math.pow(10,Math.floor(i.log10(e.max))+1)):(e.min=1,e.max=10))},buildTicks:function(){var t=this,e=t.options.ticks,n={min:e.min,max:e.max},o=t.ticks=a.generators.logarithmic(n,t);t.isHorizontal()||o.reverse(),t.max=i.max(o),t.min=i.min(o),e.reverse?(o.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),t.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},getPixelForValue:function(t){var e,n,a,o=this,r=o.start,l=+o.getRightValue(t),s=o.options.ticks;return o.isHorizontal()?(a=i.log10(o.end)-i.log10(r),0===l?n=o.left:(e=o.width,n=o.left+e/a*(i.log10(l)-i.log10(r)))):(e=o.height,0!==r||s.reverse?0===o.end&&s.reverse?(a=i.log10(o.start)-i.log10(o.minNotZero),n=l===o.end?o.top:l===o.minNotZero?o.top+.02*e:o.top+.02*e+.98*e/a*(i.log10(l)-i.log10(o.minNotZero))):0===l?n=s.reverse?o.top:o.bottom:(a=i.log10(o.end)-i.log10(r),e=o.height,n=o.bottom-e/a*(i.log10(l)-i.log10(r))):(a=i.log10(o.end)-i.log10(o.minNotZero),n=l===r?o.bottom:l===o.minNotZero?o.bottom-.02*e:o.bottom-.02*e-.98*e/a*(i.log10(l)-i.log10(o.minNotZero)))),n},getValueForPixel:function(t){var e,n,a=this,o=i.log10(a.end)-i.log10(a.start);return a.isHorizontal()?(n=a.width,e=a.start*Math.pow(10,(t-a.left)*o/n)):(n=a.height,e=Math.pow(10,(a.bottom-t)*o/n)/a.start),e}});t.scaleService.registerScaleType(\"logarithmic\",n,e)}},{34:34,45:45}],56:[function(t,e,n){\"use strict\";var i=t(25),a=t(45),o=t(34);e.exports=function(t){function e(t){var e=t.options;return e.angleLines.display||e.pointLabels.display?t.chart.data.labels.length:0}function n(t){var e=t.options.pointLabels,n=a.valueOrDefault(e.fontSize,v.defaultFontSize),i=a.valueOrDefault(e.fontStyle,v.defaultFontStyle),o=a.valueOrDefault(e.fontFamily,v.defaultFontFamily);return{size:n,style:i,family:o,font:a.fontString(n,i,o)}}function r(t,e,n){return a.isArray(n)?{w:a.longestText(t,t.font,n),h:n.length*e+1.5*(n.length-1)*e}:{w:t.measureText(n).width,h:e}}function l(t,e,n,i,a){return t===i||t===a?{start:e-n/2,end:e+n/2}:t<i||t>a?{start:e-n-5,end:e}:{start:e,end:e+n+5}}function s(t){var i,o,s,u=n(t),d=Math.min(t.height/2,t.width/2),c={r:t.width,l:0,t:t.height,b:0},h={};t.ctx.font=u.font,t._pointLabelSizes=[];var f=e(t);for(i=0;i<f;i++){s=t.getPointPosition(i,d),o=r(t.ctx,u.size,t.pointLabels[i]||\"\"),t._pointLabelSizes[i]=o;var g=t.getIndexAngle(i),p=a.toDegrees(g)%360,v=l(p,s.x,o.w,0,180),m=l(p,s.y,o.h,90,270);v.start<c.l&&(c.l=v.start,h.l=g),v.end>c.r&&(c.r=v.end,h.r=g),m.start<c.t&&(c.t=m.start,h.t=g),m.end>c.b&&(c.b=m.end,h.b=g)}t.setReductions(d,c,h)}function u(t){var e=Math.min(t.height/2,t.width/2);t.drawingArea=Math.round(e),t.setCenterPoint(0,0,0,0)}function d(t){return 0===t||180===t?\"center\":t<180?\"left\":\"right\"}function c(t,e,n,i){if(a.isArray(e))for(var o=n.y,r=1.5*i,l=0;l<e.length;++l)t.fillText(e[l],n.x,o),o+=r;else t.fillText(e,n.x,n.y)}function h(t,e,n){90===t||270===t?n.y-=e.h/2:(t>270||t<90)&&(n.y-=e.h)}function f(t){var i=t.ctx,o=a.valueOrDefault,r=t.options,l=r.angleLines,s=r.pointLabels;i.lineWidth=l.lineWidth,i.strokeStyle=l.color;var u=t.getDistanceFromCenterForValue(r.ticks.reverse?t.min:t.max),f=n(t);i.textBaseline=\"top\";for(var g=e(t)-1;g>=0;g--){if(l.display){var p=t.getPointPosition(g,u);i.beginPath(),i.moveTo(t.xCenter,t.yCenter),i.lineTo(p.x,p.y),i.stroke(),i.closePath()}if(s.display){var m=t.getPointPosition(g,u+5),b=o(s.fontColor,v.defaultFontColor);i.font=f.font,i.fillStyle=b;var x=t.getIndexAngle(g),y=a.toDegrees(x);i.textAlign=d(y),h(y,t._pointLabelSizes[g],m),c(i,t.pointLabels[g]||\"\",m,f.size)}}}function g(t,n,i,o){var r=t.ctx;if(r.strokeStyle=a.valueAtIndexOrDefault(n.color,o-1),r.lineWidth=a.valueAtIndexOrDefault(n.lineWidth,o-1),t.options.gridLines.circular)r.beginPath(),r.arc(t.xCenter,t.yCenter,i,0,2*Math.PI),r.closePath(),r.stroke();else{var l=e(t);if(0===l)return;r.beginPath();var s=t.getPointPosition(0,i);r.moveTo(s.x,s.y);for(var u=1;u<l;u++)s=t.getPointPosition(u,i),r.lineTo(s.x,s.y);r.closePath(),r.stroke()}}function p(t){return a.isNumber(t)?t:0}var v=i.global,m={display:!0,animate:!0,position:\"chartArea\",angleLines:{display:!0,color:\"rgba(0, 0, 0, 0.1)\",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:\"rgba(255,255,255,0.75)\",backdropPaddingY:2,backdropPaddingX:2,callback:o.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}},b=t.LinearScaleBase.extend({setDimensions:function(){var t=this,e=t.options,n=e.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var i=a.min([t.height,t.width]),o=a.valueOrDefault(n.fontSize,v.defaultFontSize);t.drawingArea=e.display?i/2-(o/2+n.backdropPaddingY):i/2},determineDataLimits:function(){var t=this,e=t.chart,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;a.each(e.data.datasets,function(o,r){if(e.isDatasetVisible(r)){var l=e.getDatasetMeta(r);a.each(o.data,function(e,a){var o=+t.getRightValue(e);isNaN(o)||l.data[a].hidden||(n=Math.min(o,n),i=Math.max(o,i))})}}),t.min=n===Number.POSITIVE_INFINITY?0:n,t.max=i===Number.NEGATIVE_INFINITY?0:i,t.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,e=a.valueOrDefault(t.fontSize,v.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*e)))},convertTicksToLabels:function(){var e=this;t.LinearScaleBase.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(e.options.pointLabels.callback,e)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){this.options.pointLabels.display?s(this):u(this)},setReductions:function(t,e,n){var i=this,a=e.l/Math.sin(n.l),o=Math.max(e.r-i.width,0)/Math.sin(n.r),r=-e.t/Math.cos(n.t),l=-Math.max(e.b-i.height,0)/Math.cos(n.b);a=p(a),o=p(o),r=p(r),l=p(l),i.drawingArea=Math.min(Math.round(t-(a+o)/2),Math.round(t-(r+l)/2)),i.setCenterPoint(a,o,r,l)},setCenterPoint:function(t,e,n,i){var a=this,o=a.width-e-a.drawingArea,r=t+a.drawingArea,l=n+a.drawingArea,s=a.height-i-a.drawingArea;a.xCenter=Math.round((r+o)/2+a.left),a.yCenter=Math.round((l+s)/2+a.top)},getIndexAngle:function(t){return t*(2*Math.PI/e(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var n=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this,i=n.getIndexAngle(t)-Math.PI/2;return{x:Math.round(Math.cos(i)*e)+n.xCenter,y:Math.round(Math.sin(i)*e)+n.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this,e=t.min,n=t.max;return t.getPointPositionForValue(0,t.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0)},draw:function(){var t=this,e=t.options,n=e.gridLines,i=e.ticks,o=a.valueOrDefault;if(e.display){var r=t.ctx,l=this.getIndexAngle(0),s=o(i.fontSize,v.defaultFontSize),u=o(i.fontStyle,v.defaultFontStyle),d=o(i.fontFamily,v.defaultFontFamily),c=a.fontString(s,u,d);a.each(t.ticks,function(e,a){if(a>0||i.reverse){var u=t.getDistanceFromCenterForValue(t.ticksAsNumbers[a]);if(n.display&&0!==a&&g(t,n,u,a),i.display){var d=o(i.fontColor,v.defaultFontColor);if(r.font=c,r.save(),r.translate(t.xCenter,t.yCenter),r.rotate(l),i.showLabelBackdrop){var h=r.measureText(e).width;r.fillStyle=i.backdropColor,r.fillRect(-h/2-i.backdropPaddingX,-u-s/2-i.backdropPaddingY,h+2*i.backdropPaddingX,s+2*i.backdropPaddingY)}r.textAlign=\"center\",r.textBaseline=\"middle\",r.fillStyle=d,r.fillText(e,0,-u),r.restore()}}}),(e.angleLines.display||e.pointLabels.display)&&f(t)}}});t.scaleService.registerScaleType(\"radialLinear\",b,m)}},{25:25,34:34,45:45}],57:[function(t,e,n){\"use strict\";function i(t,e){return t-e}function a(t){var e,n,i,a={},o=[];for(e=0,n=t.length;e<n;++e)a[i=t[e]]||(a[i]=!0,o.push(i));return o}function o(t,e,n,i){if(\"linear\"===i||!t.length)return[{time:e,pos:0},{time:n,pos:1}];var a,o,r,l,s,u=[],d=[e];for(a=0,o=t.length;a<o;++a)(l=t[a])>e&&l<n&&d.push(l);for(d.push(n),a=0,o=d.length;a<o;++a)s=d[a+1],r=d[a-1],l=d[a],void 0!==r&&void 0!==s&&Math.round((s+r)/2)===l||u.push({time:l,pos:a/(o-1)});return u}function r(t,e,n){for(var i,a,o,r=0,l=t.length-1;r>=0&&r<=l;){if(i=r+l>>1,a=t[i-1]||null,o=t[i],!a)return{lo:null,hi:o};if(o[e]<n)r=i+1;else{if(!(a[e]>n))return{lo:a,hi:o};l=i-1}}return{lo:o,hi:null}}function l(t,e,n,i){var a=r(t,e,n),o=a.lo?a.hi?a.lo:t[t.length-2]:t[0],l=a.lo?a.hi?a.hi:t[t.length-1]:t[1],s=l[e]-o[e],u=s?(n-o[e])/s:0,d=(l[i]-o[i])*u;return o[i]+d}function s(t,e){var n=e.parser,i=e.parser||e.format;return\"function\"==typeof n?n(t):\"string\"==typeof t&&\"string\"==typeof i?m(t,i):(t instanceof m||(t=m(t)),t.isValid()?t:\"function\"==typeof i?i(t):t)}function u(t,e){if(x.isNullOrUndef(t))return null;var n=e.options.time,i=s(e.getRightValue(t),n);return i.isValid()?(n.round&&i.startOf(n.round),i.valueOf()):null}function d(t,e,n,i){var a,o,r,l=e-t,s=w[n],u=s.size,d=s.steps;if(!d)return Math.ceil(l/((i||1)*u));for(a=0,o=d.length;a<o&&(r=d[a],!(Math.ceil(l/(u*r))<=i));++a);return r}function c(t,e,n,i){var a,o,r,l=M.length;for(a=M.indexOf(t);a<l-1;++a)if(o=w[M[a]],r=o.steps?o.steps[o.steps.length-1]:k,o.common&&Math.ceil((n-e)/(r*o.size))<=i)return M[a];return M[l-1]}function h(t,e,n,i){var a,o,r=m.duration(m(i).diff(m(n)));for(a=M.length-1;a>=M.indexOf(e);a--)if(o=M[a],w[o].common&&r.as(o)>=t.length)return o;return M[e?M.indexOf(e):0]}function f(t){for(var e=M.indexOf(t)+1,n=M.length;e<n;++e)if(w[M[e]].common)return M[e]}function g(t,e,n,i){var a,o=i.time,r=o.unit||c(o.minUnit,t,e,n),l=f(r),s=x.valueOrDefault(o.stepSize,o.unitStepSize),u=\"week\"===r&&o.isoWeekday,h=i.ticks.major.enabled,g=w[r],p=m(t),v=m(e),b=[];for(s||(s=d(t,e,r,n)),u&&(p=p.isoWeekday(u),v=v.isoWeekday(u)),p=p.startOf(u?\"day\":r),(v=v.startOf(u?\"day\":r))<e&&v.add(1,r),a=m(p),h&&l&&!u&&!o.round&&(a.startOf(l),a.add(~~((p-a)/(g.size*s))*s,r));a<v;a.add(s,r))b.push(+a);return b.push(+a),b}function p(t,e,n,i,a){var o,r,s=0,u=0;return a.offset&&e.length&&(a.time.min||(o=e.length>1?e[1]:i,r=e[0],s=(l(t,\"time\",o,\"pos\")-l(t,\"time\",r,\"pos\"))/2),a.time.max||(o=e[e.length-1],r=e.length>1?e[e.length-2]:n,u=(l(t,\"time\",o,\"pos\")-l(t,\"time\",r,\"pos\"))/2)),{left:s,right:u}}function v(t,e){var n,i,a,o,r=[];for(n=0,i=t.length;n<i;++n)a=t[n],o=!!e&&a===+m(a).startOf(e),r.push({value:a,major:o});return r}var m=t(1);m=\"function\"==typeof m?m:window.moment;var b=t(25),x=t(45),y=Number.MIN_SAFE_INTEGER||-9007199254740991,k=Number.MAX_SAFE_INTEGER||9007199254740991,w={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},M=Object.keys(w);e.exports=function(t){var e=t.Scale.extend({initialize:function(){if(!m)throw new Error(\"Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com\");this.mergeTicksOptions(),t.Scale.prototype.initialize.call(this)},update:function(){var e=this,n=e.options;return n.time&&n.time.format&&console.warn(\"options.time.format is deprecated and replaced by options.time.parser.\"),t.Scale.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),t.Scale.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var t,e,n,o,r,l,s=this,d=s.chart,c=s.options.time,h=k,f=y,g=[],p=[],v=[];for(t=0,n=d.data.labels.length;t<n;++t)v.push(u(d.data.labels[t],s));for(t=0,n=(d.data.datasets||[]).length;t<n;++t)if(d.isDatasetVisible(t))if(r=d.data.datasets[t].data,x.isObject(r[0]))for(p[t]=[],e=0,o=r.length;e<o;++e)l=u(r[e],s),g.push(l),p[t][e]=l;else g.push.apply(g,v),p[t]=v.slice(0);else p[t]=[];v.length&&(v=a(v).sort(i),h=Math.min(h,v[0]),f=Math.max(f,v[v.length-1])),g.length&&(g=a(g).sort(i),h=Math.min(h,g[0]),f=Math.max(f,g[g.length-1])),h=u(c.min,s)||h,f=u(c.max,s)||f,h=h===k?+m().startOf(\"day\"):h,f=f===y?+m().endOf(\"day\")+1:f,s.min=Math.min(h,f),s.max=Math.max(h+1,f),s._horizontal=s.isHorizontal(),s._table=[],s._timestamps={data:g,datasets:p,labels:v}},buildTicks:function(){var t,e,n,i=this,a=i.min,r=i.max,l=i.options,s=l.time,d=[],c=[];switch(l.ticks.source){case\"data\":d=i._timestamps.data;break;case\"labels\":d=i._timestamps.labels;break;case\"auto\":default:d=g(a,r,i.getLabelCapacity(a),l)}for(\"ticks\"===l.bounds&&d.length&&(a=d[0],r=d[d.length-1]),a=u(s.min,i)||a,r=u(s.max,i)||r,t=0,e=d.length;t<e;++t)(n=d[t])>=a&&n<=r&&c.push(n);return i.min=a,i.max=r,i._unit=s.unit||h(c,s.minUnit,i.min,i.max),i._majorUnit=f(i._unit),i._table=o(i._timestamps.data,a,r,l.distribution),i._offsets=p(i._table,c,a,r,l),v(c,i._majorUnit)},getLabelForIndex:function(t,e){var n=this,i=n.chart.data,a=n.options.time,o=i.labels&&t<i.labels.length?i.labels[t]:\"\",r=i.datasets[e].data[t];return x.isObject(r)&&(o=n.getRightValue(r)),a.tooltipFormat&&(o=s(o,a).format(a.tooltipFormat)),o},tickFormatFunction:function(t,e,n,i){var a=this,o=a.options,r=t.valueOf(),l=o.time.displayFormats,s=l[a._unit],u=a._majorUnit,d=l[u],c=t.clone().startOf(u).valueOf(),h=o.ticks.major,f=h.enabled&&u&&d&&r===c,g=t.format(i||(f?d:s)),p=f?h:o.ticks.minor,v=x.valueOrDefault(p.callback,p.userCallback);return v?v(g,e,n):g},convertTicksToLabels:function(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(this.tickFormatFunction(m(t[e].value),e,t));return i},getPixelForOffset:function(t){var e=this,n=e._horizontal?e.width:e.height,i=e._horizontal?e.left:e.top,a=l(e._table,\"time\",t,\"pos\");return i+n*(e._offsets.left+a)/(e._offsets.left+1+e._offsets.right)},getPixelForValue:function(t,e,n){var i=this,a=null;if(void 0!==e&&void 0!==n&&(a=i._timestamps.datasets[n][e]),null===a&&(a=u(t,i)),null!==a)return i.getPixelForOffset(a)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,n=e._horizontal?e.width:e.height,i=e._horizontal?e.left:e.top,a=(n?(t-i)/n:0)*(e._offsets.left+1+e._offsets.left)-e._offsets.right,o=l(e._table,\"pos\",a,\"time\");return m(o)},getLabelWidth:function(t){var e=this,n=e.options.ticks,i=e.ctx.measureText(t).width,a=x.toRadians(n.maxRotation),o=Math.cos(a),r=Math.sin(a);return i*o+x.valueOrDefault(n.fontSize,b.global.defaultFontSize)*r},getLabelCapacity:function(t){var e=this,n=e.options.time.displayFormats.millisecond,i=e.tickFormatFunction(m(t),0,[],n),a=e.getLabelWidth(i),o=e.isHorizontal()?e.width:e.height;return Math.floor(o/a)}});t.scaleService.registerScaleType(\"time\",e,{position:\"bottom\",distribution:\"linear\",bounds:\"data\",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:\"millisecond\",displayFormats:{millisecond:\"h:mm:ss.SSS a\",second:\"h:mm:ss a\",minute:\"h:mm a\",hour:\"hA\",day:\"MMM D\",week:\"ll\",month:\"MMM YYYY\",quarter:\"[Q]Q - YYYY\",year:\"YYYY\"}},ticks:{autoSkip:!1,source:\"auto\",major:{enabled:!1}}})}},{1:1,25:25,45:45}]},{},[7])(7)});\n;","inputSourceMap":null}